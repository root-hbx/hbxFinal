{"config":{"lang":["en","ja"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Welcome to Carrot World!","text":""},{"location":"#_1","title":"\u672c\u7f51\u7ad9\u662f\u80e1\u535a\u7444\u7684\u5b66\u4e60\u751f\u6d3b\u7f51\u7ad9","text":""},{"location":"#_2","title":"\u80e1\u535a\u7444\u7684\u5b66\u672f\u4e3b\u9875\u662f\uff1a","text":"<p>https://root-hbx.github.io/CS2201-H-_hbx.io/</p> <ul> <li> <p>\u901a\u8fc7\u4e3b\u9898\u548c\u76ee\u5f55\u4ee5\u6253\u5f00\u6587\u7ae0</p> <ul> <li>PC\u7aef \u5728\u4e0a\u65b9\u6807\u7b7e\u680f\u9009\u62e9\u4e3b\u9898 \u5728\u5de6\u4fa7\u76ee\u5f55\u9009\u62e9\u6587\u7ae0</li> <li>\u79fb\u52a8\u7aef \u70b9\u51fb\u5de6\u4e0a\u89d2\u56fe\u6807\u9009\u62e9\u4e3b\u9898\u548c\u6587\u7ae0</li> </ul> </li> <li> <p>\u672c\u7f51\u7ad9\u7684\u90e8\u5206\u5185\u5bb9\u6765\u81ea\u6e05\u534e\u5927\u5b66\u7535\u5b50\u5de5\u7a0b\u7cfb\u6768\u5e0c\u6770\u5b66\u957f\u7684\u7f51\u7ad9\u3002\u5df2\u5f81\u8be2\u5b66\u957f\u540c\u610f\uff0c\u4e14\u5f15\u7528\u5904\u5747\u52a0\u4ee5\u8bf4\u660e\u3002\u8fd9\u91cc\u5bf9\u6768\u5b66\u957f\u8868\u793a\u81f4\u8c22\uff01\u611f\u8c22\u6768\u5b66\u957f\u4e3a\u8ba1\u7b97\u673a\u5f00\u6e90\u793e\u533a\u505a\u51fa\u7684\u91cd\u8981\u8d21\u732e\uff01</p> </li> </ul>"},{"location":"BLOG/","title":"\u5e38\u89c1\u5f00\u53d1\u7b80\u4ecb","text":""},{"location":"BLOG/#_2","title":"\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0","text":"<ul> <li> <p>\u8fd9\u4e00\u90e8\u5206\u7b14\u8005\u5168\u90e8\u5f15\u7528\u4e86\u6768\u5e0c\u6770\u5b66\u957f\u7684\u7f51\u7ad9https://yang-xijie.github.io/BLOG/</p> </li> <li> <p>\u7b14\u8005\u7684\u57fa\u7840\u5f00\u53d1\u77e5\u8bc6\u662f\u8ddf\u968f\u6768\u5b66\u957f\u7684\u7f51\u7ad9\u8fdb\u884c\u5b66\u4e60\u7684\uff0c\u53d7\u76ca\u532a\u6d45\uff01\u7531\u4e8e\u6c34\u5e73\u6709\u9650\uff0c\u6b64\u5904\u76f4\u63a5\u5f15\u7528\u6768\u5b66\u957f\u7684\u8bb2\u7a3f</p> </li> <li> <p>\u5e0c\u671b\u5927\u5bb6\u80fd\u5728\u6768\u5b66\u957f\u4e30\u5bcc\u8be6\u5c3d\u7684\u8bb2\u7a3f\u4e2d\u4e60\u5f97\u5f00\u53d1\u7684\u57fa\u7840\u77e5\u8bc6</p> </li> </ul>"},{"location":"BLOG/others/","title":"\u5176\u4ed6\u535a\u5ba2\u94fe\u63a5","text":"<ul> <li>\u6e05\u534e\u8f6f\u4ef6\u5b66\u9662 \u79fb\u52a8\u5e94\u7528\u5f00\u53d1 Flutter \u6559\u7a0b</li> <li>\u672c\u79d1\u6bd5\u8bbe NIPC \u5f00\u53d1\u677f\u6587\u6863</li> <li>\u6e05\u534e\u7535\u5b50\u7cfb Verilog Online Judge \u5e73\u53f0\u6587\u6863</li> <li>\u6768\u5e0c\u6770\u7684\u4e2a\u4eba\u7f51\u7ad9</li> </ul>"},{"location":"BLOG/Linux/kernel-compile/","title":"Linux \u5185\u6838\u7f16\u8bd1\u5c1d\u8bd5","text":""},{"location":"BLOG/Linux/kernel-compile/#_1","title":"\u8d44\u6e90","text":"<ul> <li>Linux From Scratch<ul> <li>Linux From Scratch - online en</li> <li>Linux From Scratch - online zh</li> </ul> </li> <li>QEMU<ul> <li>QEMU doc | Linux boot specific</li> <li>BLOG | Booting a Custom Linux Kernel in QEMU and Debugging It With GDB</li> <li>BLOG | How to build and boot a custom disk image in qemu</li> <li>What is KVM?</li> </ul> </li> </ul>"},{"location":"BLOG/Linux/kernel-compile/#_2","title":"\u5c1d\u8bd5","text":"<pre><code># \u5728&lt;https://www.kernel.org&gt;\u627e\u5230\u6700\u65b0\u7684\u7a33\u5b9a\u7248\u94fe\u63a5\uff0c\u590d\u5236\n# \u4f7f\u7528wget\u4e0b\u8f7d.tar\u5305\nwget https://cdn.kernel.org/pub/linux/kernel/v5.x/linux-5.17.2.tar.xz\n# \u89e3\u538b\ntar xvf linux-5.17.2.tar.xz\n# \u8fdb\u5165\u4e4b\u540e\u9000\u51fa\u751f\u6210\u9ed8\u8ba4\u914d\u7f6e.config\n(apt install libncurses-dev &amp;&amp;) make menuconfig\n# \u7f16\u8bd1\n(apt install libssl-dev libelf-dev &amp;&amp;) make\n# \u5b89\u88c5\u6a21\u5757\nmake modules_install\n# \u5b89\u88c5\u5728\u672c\u673a\nmake install\n</code></pre> <p>\u9047\u5230\u7684\u95ee\u9898</p> <pre><code>make[1]: *** No rule to make target 'debian/canonical-certs.pem', needed by 'certs/x509_certificate_list'.  Stop.\n</code></pre> <p>\u53c2\u8003https://askubuntu.com/questions/1329538/compiling-the-kernel-5-11-11 </p> <pre><code>scripts/config --disable SYSTEM_TRUSTED_KEYS\nscripts/config --disable SYSTEM_REVOCATION_KEYS\n</code></pre>"},{"location":"BLOG/Linux/kernel-compile/#references","title":"References","text":"<ul> <li>Bilibili | \u8ff7\u9014\u5c0f\u4e66\u7ae5\u7684Note - linux\u5185\u6838\u7f16\u8bd1</li> </ul>"},{"location":"BLOG/Linux/pi-start/","title":"\u6811\u8393\u6d3e\u5165\u95e8\u6307\u5357","text":"<p>\u65e0\u663e\u793a\u5668\u3001\u65e0\u7f51\u7ebf\u3001\u7eaf\u547d\u4ee4\u884c\u7248</p> <p>\u6240\u9700\u5de5\u5177\uff1a\u4e00\u53f0\u80fd\u4e0a\u7f51\u7684\u7535\u8111\u3001\u4e00\u4e2aSD\u5361\u3001\u4e00\u4e2a\u8bfb\u5361\u5668</p>"},{"location":"BLOG/Linux/pi-start/#_2","title":"\u4e0b\u8f7d\u955c\u50cf","text":"<p>\u8fd9\u91cc\u6211\u4eec\u76f4\u63a5\u4f7f\u7528\u5b98\u65b9\u7684\u955c\u50cf\uff0c\u6253\u5f00 https://www.raspberrypi.com/software/operating-systems/\uff0c\u53ef\u4ee5\u770b\u5230\u5b98\u65b9\u7684\u955c\u50cf\u540d\u79f0\u4e3a <code>Raspberry Pi OS</code>\u3002\u6211\u4eec\u4e0d\u9700\u8981\u6709\u684c\u9762\u7684\u7248\u672c\uff0c\u9009\u62e9\u547d\u4ee4\u884c\u7248\u672c <code>Raspberry Pi OS Lite</code>\uff0c\u70b9\u51fb\u53f3\u4fa7 <code>Download</code> \u5373\u53ef\u3002</p> <p>\u4e0b\u8f7d\u5b8c\u6210\u4e4b\u540e\u5728\u4e0b\u8f7d\u6587\u4ef6\u5939\u4e2d\u6709 <code>2022-09-22-raspios-bullseye-armhf-lite.img.xz</code>\u3002</p>"},{"location":"BLOG/Linux/pi-start/#_3","title":"\u70e7\u5199\u51c6\u5907","text":"<p>\u5c06SD\u63d2\u5165\u8bfb\u5361\u5668\uff0c\u5c06\u8bfb\u5361\u5668\u63d2\u5165\u7535\u8111\u3002</p>"},{"location":"BLOG/Linux/pi-start/#_4","title":"\u70e7\u5199\u955c\u50cf","text":"<p>\u5728 https://www.raspberrypi.com/software/ \u627e\u5230 <code>Install Raspberry Pi OS using Raspberry Pi Imager</code>\uff0c\u8fd9\u662f\u5b98\u65b9\u6240\u7ed9\u7684\u70e7\u5199\u5de5\u5177\u3002\u6839\u636e\u81ea\u5df1\u7684\u7cfb\u7edf\u9009\u62e9\u4e0b\u8f7d\u3002\u6211\u8fd9\u91cc macOS \u4e0b\u8f7d\u5230\u7684\u6587\u4ef6\u4e3a <code>imager_1.7.3.dmg</code>\uff0c\u4e0b\u8f7d\u597d\u540e\u53cc\u51fb\u5b89\u88c5\u6253\u5f00\u5373\u53ef\u3002</p> <p>\u6253\u5f00\u4e4b\u540e\u7684\u754c\u9762\u5982\u4e0b\uff1a</p> <p></p> <ul> <li>Operating System \u8fd9\u91cc\u70b9\u51fb CHOOSE OS\uff0c\u6ed1\u5230\u6700\u4e0b\u65b9\u7684 Use custom (Select a custom .img from your computer)\uff0c\u70b9\u51fb\u9009\u62e9\u521a\u521a\u4e0b\u8f7d\u7684\u5b98\u65b9\u955c\u50cf <code>2022-09-22-raspios-bullseye-armhf-lite.img.xz</code>\u3002</li> <li>Storage \u8fd9\u91cc\u70b9\u51fb CHOOSE STORAGE\uff0c\u9009\u62e9\u63d2\u5165\u7535\u8111\u7684\u5b58\u50a8\u5361\u3002</li> </ul> <p>\u53f3\u4e0b\u89d2\u9f7f\u8f6e\u56fe\u6807\uff0c\u70b9\u51fb\u6253\u5f00\uff1a</p> <p></p> <ul> <li><code>Set hostname</code> \u8fd9\u91cc\u53ef\u4ee5\u6253\u5f00\uff0c\u8fd9\u6837\u6211\u4eec\u4e4b\u540e\u7528\u57df\u540d\u76f4\u63a5\u8bbf\u95ee\u6811\u8393\u6d3e\u5c31\u884c\uff0c\u6bd4\u8f83\u65b9\u4fbf</li> <li><code>Enable SSH</code> \u8fd9\u91cc\u6253\u5f00\uff0c\u7528 ssh \u53ef\u4ee5\u767b\u5f55\u5230\u6811\u8393\u6d3e</li> <li><code>Set username and password</code> ssh \u767b\u9646\u7684\u8d26\u53f7\u548c\u5bc6\u7801</li> <li><code>Configure wireless LAN</code> \u8fd9\u91cc\u662f\u8bf4\uff0c\u6811\u8393\u6d3e\u4e4b\u540e\u8fde\u63a5\u7684 Wi-Fi \u540d\u79f0\u548c\u5bc6\u7801\u3002\u586b\u5199\u4f60\u5e0c\u671b\u6811\u8393\u6d3e\u8fde\u63a5\u7684 Wi-Fi \u8def\u7531\u5668\u7684\u540d\u79f0\u548c\u5bc6\u7801\u3002</li> </ul> <p>\u5c06\u5b58\u50a8\u5361\u5f39\u51fa\u62d4\u51fa\u3002</p>"},{"location":"BLOG/Linux/pi-start/#_5","title":"\u4f7f\u7528\u7535\u8111\u65e0\u7ebf\u8fde\u63a5\u6811\u8393\u6d3e","text":"<p>\u9996\u5148\u9700\u8981\u6709\u4e00\u4e2a Wi-Fi \u8def\u7531\u5668\u3002\u6211\u8fd9\u91cc\u56e0\u4e3a\u6ca1\u6709\uff0c\u6240\u4ee5\u7528\u624b\u673a\u6765\u5145\u5f53\u3002</p> <p>\u5173\u95ed\u624b\u673a Wi-Fi \u5f00\u5173\uff0c\u6253\u5f00\u624b\u673a\u70ed\u70b9\u3002\u540d\u79f0\u548c\u5bc6\u7801\u4f7f\u7528\u521a\u521a\u8bbe\u7f6e\u7684\u540d\u79f0\u548c\u5bc6\u7801\u3002</p> <p>\u5c06\u5b58\u50a8\u5361\u63d2\u5165\u6811\u8393\u6d3e\uff0c\u63d2\u7535\u542f\u52a8\u3002\u6811\u8393\u6d3e\u4f1a\u81ea\u52a8\u8fde\u63a5\u5230\u8fd9\u4e2a Wi-Fi \u70ed\u70b9\u3002</p> <p>\u7535\u8111\u4e5f\u8fde\u63a5\u5230\u624b\u673a\u7684 Wi-Fi \u70ed\u70b9\u3002\u4e4b\u540e\u6253\u5f00\u7ec8\u7aef\uff0c\u7528</p> <pre><code>ssh pi@raspberrypi.local\n</code></pre> <p>\u51fa\u73b0\u7684\u9009\u9879\u6572 yes \u56de\u8f66\uff1b\u8f93\u5165\u7684\u5bc6\u7801\u4e3a\u5b98\u65b9\u955c\u50cf\u5de5\u5177\u4e2d\u8bbe\u7f6e\u5bc6\u7801\u3002\u7136\u540e\u5c31\u53ef\u4ee5\u8fde\u63a5\u5230\u6811\u8393\u6d3e\u4e86\u3002</p>"},{"location":"BLOG/Linux/tmux/","title":"tmux \u4f7f\u7528\u6307\u5357","text":"<p>\u8fd9\u7bc7\u6559\u7a0b\u5df2\u7ecf\u5199\u5f97\u5f88\u8be6\u7ec6\u4e86 tmux \u4f7f\u7528\u6559\u7a0b-\u962e\u4e00\u5cf0</p> <ul> <li>\u65b0\u5efa <code>tmux new -s &lt;session-name&gt;</code></li> <li>\u67e5\u770b <code>tmux ls</code></li> <li>\u8fde\u63a5 <code>tmux attach -t &lt;session-name&gt;</code></li> <li>\u5206\u79bb <code>ctrl B D</code> <code>tmux</code> <code>detach</code></li> <li>\u9000\u51fa <code>exit</code> <code>ctrl D</code></li> </ul> <pre><code>alias tnew=\"tmux new -s \"\nalias tls=\"tmux ls\"\nalias tat=\"tmux attach -t \"\nalias tkill=\"tmux kill-session -t \"\n</code></pre>"},{"location":"BLOG/Linux/unix/","title":"Unix and Linux","text":"<p>The design of Unix systems is based on \u201cUnix Philosophy\u201d</p> <p><code>Unix</code> \u662f\u6700\u65e9\u671f\u7684\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5176\u57fa\u4e8e <code>Unix\u54f2\u5b66</code> \u8bbe\u8ba1\uff0c\u5185\u6838\u7684\u7ec4\u6210\u5df2\u7ecf\u57fa\u672c\u786e\u5b9a\u3002</p> <p>\u53ef\u4ee5\u8bf4\uff0c<code>Unix</code> \u662f\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u7684\u8d77\u6e90\u3002<code>Linux</code> \u5185\u6838\u3001<code>macOS</code> \u7b49\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf \u5927\u591a\u7ee7\u627f\u4e86 <code>Unix</code> \u7684\u8fd9\u4e9b\u7279\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u8fd9\u7c7b\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6210\u4e3a <code>Unix-like system</code>\u3002</p> <p>\u5728\u5236\u5b9a\u73b0\u4ee3\u64cd\u4f5c\u7cfb\u7edf\u6807\u51c6\u7684\u8fc7\u7a0b\u4e2d\uff0c<code>Unix\u54f2\u5b66</code>\uff0c\u6216\u8005\u8bf4 <code>Unix</code> \u7684\u5177\u4f53\u5b9e\u73b0\uff0c\u6210\u4e3a\u4e86 <code>POSIX (Portable Operating System Interface) \u6807\u51c6</code> \u7684\u4e00\u90e8\u5206\u3002</p>"},{"location":"BLOG/Linux/unix/#reference","title":"Reference","text":"<ul> <li>Unix Vs Linux: What Is Difference Between UNIX And Linux</li> <li>Wiki | POSIX</li> </ul>"},{"location":"BLOG/Linux/vim/","title":"Vim \u5b66\u4e60\u7b14\u8bb0","text":"<p>Author: \u6768\u5e0c\u6770 Yang Xijie</p> <p>Written on: 210419</p> <p>Notes: \u8bb0\u5f55\u4e86vim\u4e00\u4e9b\u7b80\u5355\u5b9e\u7528\u7684\u64cd\u4f5c</p>"},{"location":"BLOG/Linux/vim/#_1","title":"\u57fa\u672c","text":"<p>\u3007 \u7f16\u8f91 \u9000\u51fa</p> <p><code>i</code> <code>Esc</code>\uff08\u8fdb\u5165/\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f\uff09</p> <p><code>ZZ(:wq)</code> <code>ZQ(:q!)</code>\uff08\u4fdd\u5b58\u9000\u51fa/\u820d\u5f03\u66f4\u6539\u9000\u51fa\uff09</p> <p>\u3007 \u6587\u4ef6</p> <p><code>:w</code>\uff08\u4fdd\u5b58\uff09</p> <p><code>:w &lt;filename&gt;</code>\uff08\u53e6\u5b58\uff09</p> <p><code>:&lt;start_line&gt;,&lt;end_line&gt; w &lt;filename&gt;</code>\uff08\u6307\u5b9a\u884c\u53e6\u5b58\uff09</p> <p><code>:!ls</code>\uff08\u4e0d\u9000\u51favim\u7528bash\u5728\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u6267\u884cls\u547d\u4ee4\uff09</p> <p>\u3007 \u884c\u53f7</p> <p><code>:set nu</code>\uff08\u663e\u793a\u884c\u53f7\uff09</p> <p><code>:set nonu</code></p>"},{"location":"BLOG/Linux/vim/#_2","title":"\u79fb\u52a8","text":""},{"location":"BLOG/Linux/vim/#_3","title":"\u79fb\u52a8\u9875\u9762","text":"<p>\u3007 \u7ffb\u9875</p> <p>\u2303F \u2303B</p> <p>\u3007 \u7ffb\u534a\u9875</p> <p>\u2303D \u2303U</p> <p>\u3007 \u6ed1\u52a8</p> <p>\u2303E \u2303Y</p> <p>\u3007 \u79fb\u52a8cursor\u6240\u5728\u884c\u5230\u5c4f\u5e55\u4e0a/\u4e2d/\u4e0b</p> <p><code>zt</code> <code>zz</code> <code>zb</code></p>"},{"location":"BLOG/Linux/vim/#cursor","title":"\u79fb\u52a8cursor","text":"<p>\u3007 \u4e0b/\u4e0a</p> <p><code>j</code> <code>enter</code> <code>k</code></p> <p><code>&lt;n&gt;enter</code> <code>&lt;n&gt;j</code>\uff08\u4e0b\u79fbn\u884c\uff09</p> <p><code>+</code> <code>-</code></p> <p>\u3007 \u5de6\u53f3</p> <p><code>h</code> <code>l</code> <code>space</code></p> <p><code>&lt;n&gt;space</code> <code>&lt;n&gt;l</code>\uff08\u53f3\u79fbn\u4e2a\u5b57\u7b26\uff09</p> <p><code>w</code> <code>b</code>\uff08\u8bcd\uff09</p> <p>\u3007 \u884c\u5c3e/\u884c\u9996</p> <p><code>$</code> <code>0</code></p> <p>\u3007 \u6587\u6863\u9996\u884c/\u672b\u5c3e</p> <p><code>1G</code> <code>G</code></p> <p><code>&lt;n&gt;G</code>\uff08\u6587\u6863\u7b2cn\u884c\uff09</p> <p>\u3007 \u5c4f\u5e55\u4e0a/\u4e2d/\u4e0b</p> <p><code>H</code> <code>M</code> <code>L</code></p> <p>\u3007 \u62ec\u53f7\u4e24\u4fa7</p> <p><code>%</code></p>"},{"location":"BLOG/Linux/vim/#_4","title":"\u5220\u9664 \u590d\u5236 \u7c98\u8d34","text":""},{"location":"BLOG/Linux/vim/#_5","title":"\u5220\u9664 / \u526a\u5207","text":"<p>\u3007 <code>d&lt;\u79fb\u52a8cursor\u64cd\u4f5c&gt;</code></p> <p>\u5982\uff1a<code>d3h</code>\uff08\u5411\u5de6\u52203\u4e0b\uff09 <code>dw</code>\uff08\u5411\u540e\u5220\u9664\u4e00\u4e2a\u8bcd\uff09 <code>d$(D)</code>\uff08\u5220\u9664\u5230\u884c\u672b\uff09 <code>dG</code>\uff08\u5220\u9664\u5230\u6587\u6863\u5c3e\uff09 <code>1GdG</code>\uff08\u5220\u9664\u5168\u90e8\uff09 <code>dL</code>\uff08\u5220\u9664\u5c4f\u5e55\u4e0b\u534a\u5185\u5bb9\uff09</p> <p>\u3007 \u232b / fn \u232b </p> <p><code>X(dh)</code> <code>x(dl)</code></p> <p>\u3007 \u884c</p> <p><code>dd</code>\uff08\u5220\u9664\u5f53\u524d\u884c\uff09</p> <p><code>&lt;n&gt;dd</code>\uff08\u5411\u4e0b\u5220\u9664n\u884c\uff09</p> <p>\u3007 \u9009\u4e2d\u5220\u9664</p> <p><code>v \u79fb\u52a8cursor d</code>\uff08\u5148\u9ad8\u4eae\u9009\u4e2d\u518d\u5220\u9664\uff09</p> <p>\u6ce8\uff1a\u2303V\uff08\u5757\u9009\u4e2d\uff09</p>"},{"location":"BLOG/Linux/vim/#_6","title":"\u590d\u5236","text":"<p>\u5c06\u4e0a\u9762\u5220\u9664\u4e2d\u7684<code>d</code>\u6362\u4e3a<code>y</code>\u5373\u53ef</p>"},{"location":"BLOG/Linux/vim/#_7","title":"\u7c98\u8d34","text":"<p>\u5411\u540e/\u524d\u7c98\u8d34</p> <p><code>p</code> <code>P</code></p>"},{"location":"BLOG/Linux/vim/#_8","title":"\u64a4\u9500 \u91cd\u505a \u91cd\u590d","text":"<p><code>u</code> \u2303R <code>.</code></p>"},{"location":"BLOG/Linux/vim/#_9","title":"\u7f16\u8f91","text":"<p>\u3007 \u7f29\u8fdb</p> <p><code>&gt;&gt;</code> <code>&lt;&lt;</code></p>"},{"location":"BLOG/Linux/vim/#_10","title":"\u641c\u7d22 \u66ff\u6362","text":"<p>\u3007 \u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u641c\u7d22</p> <p>\u5411\u540e \u5411\u524d</p> <p><code>/&lt;regular expression&gt; enter</code></p> <p><code>?&lt;regular expression&gt; enter</code></p> <p>\u7ee7\u7eed\u641c\u7d22</p> <p><code>n N</code></p> <p>\u3007 \u7528\u5f53\u524d\u5149\u6807\u6240\u5728\u4f4d\u7f6e\u8bcd\u8bed\u641c\u7d22</p> <p>\u5411\u540e \u5411\u524d</p> <p><code>* #</code></p> <p>\u3007 \u66ff\u6362</p> <p>\u5c06\u5f53\u524d\u884c\u7684\u6240\u6709expr1\u66ff\u6362\u4e3aexpr2</p> <p><code>:s/&lt;expr1&gt;/&lt;expr2&gt;/g</code></p> <p>\u5c06\u4e24\u884c\u4e4b\u95f4\u7684\u6240\u6709expr1\u66ff\u6362\u4e3aexpr2</p> <p><code>:&lt;start_line&gt;,&lt;end_line&gt;s/&lt;expr1&gt;/&lt;expr2&gt;/g</code></p> <p>\u5c06\u5168\u6587\u6863\u7684\u6240\u6709expr1\u66ff\u6362\u4e3aexpr2</p> <p><code>:%s/&lt;expr1&gt;/&lt;expr2&gt;/g</code></p>"},{"location":"BLOG/Linux/vim/#references","title":"References","text":"<p>\u83dc\u9e1f\u6559\u7a0b\uff5cvim</p> <p>Graphical vi-vim Cheat Sheet and Tutorial \u53ef\u4e0b\u8f7d\u5230<code>vim\u952e\u4f4d\u8868</code>(svg)\u53ca\u5176<code>\u4e2d\u6587\u7248</code>(gif)\u3001<code>\u5206lesson\u7684\u952e\u4f4d\u8868</code>(svg)\u3001<code>\u5408\u96c6</code>(PDF)</p> <p>CSDN | vim \u6587\u4ef6\u67e5\u627e\u4e0e\u66ff\u6362</p>"},{"location":"BLOG/Markdown/github-pages/","title":"GitHub Pages","text":"<p>\u7b80\u5355\u6765\u8bf4\uff0c<code>GitHub Pages</code> \u662f\u53ef\u4ee5\u8f7b\u677e\u5feb\u901f\u90e8\u7f72\u9759\u6001\u7f51\u7ad9\u7684\u65b9\u5f0f\uff0c\u4f60\u53ef\u4ee5\u5728 GitHub \u7684\u6bcf\u4e00\u4e2a\u4ed3\u5e93\u521b\u5efa\u4e00\u4e2a\u5bf9\u5e94\u7684\u9759\u6001\u7f51\u7ad9\uff0c\u5b58\u653e\u8bf4\u660e\u6216\u6587\u6863\u3002</p> <p>\u901a\u4fd7\u6765\u8bf4\uff0c\u5c31\u662f\u767d\u5ad6GitHub\u7684\u670d\u52a1\u5668\u6765\u5efa\u7ad9\uff0cGitHub Pages\uff0c\u4e0eGit\u7ba1\u7406\u8d85\u642d\uff0c\u514d\u8d39\u4e0d\u8bf4\uff0c\u8fd8\u76f8\u5f53\u7a33\u5b9a\u7684\uff0c\u800c\u4e14\u6709\u5168\u7403\u7684CDN\u52a0\u901f\uff0c\u4e5f\u6ca1\u88ab\u5899\uff0c\u6211\u53ea\u80fd\u8bf4\u771f\u723d\u3002\u6709\u4e86\u81ea\u5df1\u7684\u7f51\u7ad9https://yang-xijie.github.io\u4e4b\u540e\uff0c\u6211\u51e0\u4e4e\u5c31\u5f88\u5c11\u5728\u5404\u79cd\u5e73\u53f0\u53d1\u535a\u5ba2\u4e86\u3002</p> <ul> <li>https://pages.github.com</li> <li>About GitHub Pages<ul> <li>Types of GitHub Pages sites</li> </ul> </li> </ul> <p>\u8fd9\u91cc\u4e00\u5b9a\u8981\u6ce8\u610f\uff1a\u4e2a\u4eba\u7528\u6237\u53ea\u6709\u4e24\u79cd GitHub Pages \u7f51\u7ad9\u7684\u7c7b\u578b\uff1a\u4e00\u79cd\u662f <code>user</code>(\u7528\u6237)\uff0c\u4e00\u79cd\u662f<code>project</code>(\u9879\u76ee)\u3002</p> <p><code>user</code>\u7c7b\u578b\u7684\u7f51\u5740\u53ea\u80fd\u5bf9\u5e94\u552f\u4e00\u7684\u7528\u6237\uff0c\u800c\u4e14\u4ed3\u5e93\u7684\u540d\u5b57\u5fc5\u987b\u4e3a <code>&lt;username&gt;.github.io</code>\uff0c\u5bf9\u5e94\u7684\u7f51\u5740\u4e3a <code>http(s)://&lt;username&gt;.github.io</code>\u3002</p> <p><code>project</code>\u7c7b\u578b\u7684\u4ed3\u5e93\u5219\u53ef\u4ee5\u65b0\u5efa\u5f88\u591a\uff0c\u53ea\u8981\u4ed3\u5e93\u7684\u540d\u5b57\u4e0d\u4e3a <code>&lt;username&gt;.github.io</code> \u5373\u53ef\uff0c\u5bf9\u5e94\u7684\u7f51\u5740\u4e3a <code>http(s)://&lt;username&gt;.github.io/&lt;repository&gt;</code>\u3002</p> <p>\u6839\u636e\u8fd9\u4e24\u79cd\u7c7b\u578b\uff0c\u5efa\u7ad9\u53ef\u4ee5\u6709\u4e24\u79cd\u7b56\u7565\uff1a</p> <ul> <li>\u53ea\u521b\u5efa\u4e00\u4e2auser\u4ed3\u5e93<code>&lt;username&gt;.github.io</code>\uff0c\u6240\u6709\u7684\u6587\u7ae0\u90fd\u653e\u5728\u8fd9\u4e2a\u4ed3\u5e93\u4e2d\u3002<ul> <li>\u4f18\u70b9\uff1a\u53ea\u6709\u4e00\u4e2a\u4ed3\u5e93\u7ef4\u62a4\u65b9\u4fbf</li> <li>\u7f3a\u70b9\uff1a\u4f60\u7684\u4e2a\u4eba\u8d26\u6237\u518d\u65b0\u5efa<code>project</code>\u7c7b\u578b\u7684\u4ed3\u5e93\u5927\u6982\u7387\u4f1a\u4e0e\u8fd9\u4e2auser\u4ed3\u5e93\u51b2\u7a81\u3002\u4f46\u6211\u611f\u89c9\u4e00\u822c\u5bf9\u4e8e\u4e2a\u4eba\u6765\u8bf4 \u4e00\u4e2a\u4ed3\u5e93\u4e5f\u5b8c\u5168\u591f\u7528\u3002</li> </ul> </li> <li>\u4e0d\u521b\u5efauser\u4ed3\u5e93\uff0c\u9700\u8981\u9759\u6001\u7f51\u7ad9\u65f6\u65b0\u5efa\u591a\u4e2a<code>project</code>\u7c7b\u578b\u7684\u4ed3\u5e93<ul> <li>\u4f18\u70b9\uff1a\u4ed3\u5e93\u4e0d\u9650\u91cf \u4ed3\u5e93\u4e4b\u95f4\u4e92\u4e0d\u51b2\u7a81 \u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u6846\u67b6</li> <li>\u7f3a\u70b9\uff1a\u591a\u4e2a\u4ed3\u5e93\u7ef4\u62a4\u56f0\u96be</li> </ul> </li> </ul> <p>\u9009\u62e9\u54ea\u79cd\u4ec1\u8005\u89c1\u4ec1\u667a\u8005\u89c1\u667a\u5427</p>"},{"location":"BLOG/Markdown/grammars/","title":"Markdown \u8bed\u6cd5\u5b66\u4e60 \u7cbe\u7b80\u7248","text":"<p>\u6587\u7ae0\u5f00\u5934</p> <p>\u70b9\u51fb\u8fd9\u91cc\u56de\u5230\u4e0b\u65b9\u4ecb\u7ecd <code>\u9875\u9762\u8df3\u8f6c</code> \u7684\u9605\u8bfb\u4f4d\u7f6e</p> <p>\u70b9\u51fb\u8fd9\u91cc\u56de\u5230\u4e0b\u65b9\u4ecb\u7ecd <code>toc</code> \u7684\u9605\u8bfb\u4f4d\u7f6e</p> <p>\u6b64\u7b14\u8bb0\u5b66\u4e60\u6458\u6284\u81eaMarkdown\u8bed\u6cd5\u5927\u5168(\u8d85\u7ea7\u7248)\uff0c\u5e76\u6839\u636e\u7b14\u8005\u7684\u4f7f\u7528\u4e0d\u65ad\u66f4\u65b0\uff0c\u57fa\u672c\u4f7f\u7528\u5e94\u8be5\u8db3\u591f\u3002</p>"},{"location":"BLOG/Markdown/grammars/#_1","title":"\u6700\u5e38\u7528","text":""},{"location":"BLOG/Markdown/grammars/#_2","title":"\u5206\u7ea7\u6807\u9898","text":"<pre><code># \u4e00\u7ea7\u6807\u9898 (\u6ce8\u610f\u6709\u7a7a\u683c)\n## \u4e8c\u7ea7\u6807\u9898\n### \u4e09\u7ea7\u6807\u9898\n#### \u56db\u7ea7\u6807\u9898\n##### \u4e94\u7ea7\u6807\u9898\n###### \u516d\u7ea7\u6807\u9898  &lt;!--\u6700\u591a6\u7ea7\u6807\u9898--&gt;\n</code></pre>"},{"location":"BLOG/Markdown/grammars/#_3","title":"\u76ee\u5f55","text":"<p>\u5728\u4efb\u610f\u4f4d\u7f6e\u63d2\u5165 <code>[toc]</code> \u663e\u793a\u5168\u6587\u76ee\u5f55\u7ed3\u6784</p> <p>\u793a\u4f8b\u89c1\u6587\u7ae0\u5f00\u5934\uff08\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u5f00\u5934\u67e5\u770b\u76ee\u5f55\uff09</p>"},{"location":"BLOG/Markdown/grammars/#_4","title":"\u659c\u4f53/\u7c97\u4f53/\u5220\u9664\u7ebf/\u4e0b\u5212\u7ebf/\u80cc\u666f\u9ad8\u4eae","text":"<pre><code>*\u659c\u4f53*    _\u659c\u4f53_\n**\u7c97\u4f53**    __\u7c97\u4f53__\n***\u52a0\u7c97\u659c\u4f53***    ___\u52a0\u7c97\u659c\u4f53___\n~~\u5220\u9664\u7ebf~~\n&lt;u&gt;\u4e0b\u5212\u7ebf&lt;/u&gt;\n==\u80cc\u666f\u9ad8\u4eae==\n</code></pre> <p>\u659c\u4f53 \u659c\u4f53</p> <p>\u7c97\u4f53 \u7c97\u4f53</p> <p>\u52a0\u7c97\u659c\u4f53 \u52a0\u7c97\u659c\u4f53</p> <p>~~\u5220\u9664\u7ebf~~</p> <p>\u4e0b\u5212\u7ebf</p> <p>==\u80cc\u666f\u9ad8\u4eae==</p>"},{"location":"BLOG/Markdown/grammars/#_5","title":"\u65e0\u5e8f\u5217\u8868/\u6709\u5e8f\u5217\u8868","text":""},{"location":"BLOG/Markdown/grammars/#_6","title":"\u65e0\u5e8f\u5217\u8868","text":"<pre><code>* \u65e0\u5e8f\u5217\u8868\u9879 \u4e00\n+ \u65e0\u5e8f\u5217\u8868\u9879 \u4e8c\n- \u65e0\u5e8f\u5217\u8868\u9879 \u4e09\n</code></pre> <ul> <li>\u65e0\u5e8f\u5217\u8868\u9879 \u4e00</li> <li>\u65e0\u5e8f\u5217\u8868\u9879 \u4e8c</li> <li>\u65e0\u5e8f\u5217\u8868\u9879 \u4e09</li> </ul>"},{"location":"BLOG/Markdown/grammars/#_7","title":"\u591a\u7ea7\u65e0\u5e8f\u5217\u8868","text":"<pre><code>* \u4eca\u5929`* + \u7a7a\u683c\u952e`\n* \u660e\u5929\n    * \u5b66\u4e60 `TAB(\u62164\u4e2a\u7a7a\u683c) + * + \u7a7a\u683c\u952e`\n    * \u8d2d\u7269\n        * \u9762\u5305\n        * \u725b\u5976\n* \u540e\u5929\n</code></pre> <ul> <li>\u4eca\u5929<code>* + \u7a7a\u683c\u952e</code></li> <li>\u660e\u5929<ul> <li>\u5b66\u4e60 <code>TAB(\u62164\u4e2a\u7a7a\u683c) + * + \u7a7a\u683c\u952e</code></li> <li>\u8d2d\u7269<ul> <li>\u9762\u5305</li> <li>\u725b\u5976</li> </ul> </li> </ul> </li> <li>\u540e\u5929</li> </ul>"},{"location":"BLOG/Markdown/grammars/#_8","title":"\u6709\u5e8f\u5217\u8868/\u591a\u7ea7\u6709\u5e8f\u5217\u8868","text":"<pre><code>1. \u6709\u5e8f\u5217\u8868\u9879 \u4e00 `\u6570\u5b57 + . + \u7a7a\u683c\u952e`\n2. \u6709\u5e8f\u5217\u8868\u9879 \u4e8c\n    1. \u6709\u5e8f\u5217\u8868\u9879 \u4e8c(1) `TAB(\u62164\u4e2a\u7a7a\u683c) + \u6570\u5b57 + . + \u7a7a\u683c\u952e`\n    2. \u6709\u5e8f\u5217\u8868\u9879 \u4e8c(2)\n        1. \u6709\u5e8f\u5217\u8868\u9879 \u4e8c(2).1\n3. \u6709\u5e8f\u5217\u8868\u9879 \u4e09\n</code></pre> <ol> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e00 <code>\u6570\u5b57 + . + \u7a7a\u683c\u952e</code></li> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e8c<ol> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e8c(1) <code>TAB(\u62164\u4e2a\u7a7a\u683c) + \u6570\u5b57 + . + \u7a7a\u683c\u952e</code></li> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e8c(2)<ol> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e8c(2).1</li> </ol> </li> </ol> </li> <li>\u6709\u5e8f\u5217\u8868\u9879 \u4e09</li> </ol>"},{"location":"BLOG/Markdown/grammars/#_9","title":"\u4efb\u52a1\u5217\u8868","text":"<pre><code>- [ ] \u4efb\u52a1\u4e00 \u672a\u505a\u4efb\u52a1 `- + \u7a7a\u683c + [ ]`\n- [x] \u4efb\u52a1\u4e8c \u5df2\u505a\u4efb\u52a1 `- + \u7a7a\u683c + [x]`\n</code></pre> <ul> <li>[ ] \u4efb\u52a1\u4e00 \u672a\u505a\u4efb\u52a1 <code>- + \u7a7a\u683c + [ ]</code></li> <li>[x] \u4efb\u52a1\u4e8c \u5df2\u505a\u4efb\u52a1 <code>- + \u7a7a\u683c + [x]</code></li> </ul>"},{"location":"BLOG/Markdown/grammars/#_10","title":"\u8868\u683c","text":"<p>\u7b2c\u4e00\u884c\u4e3a\u8868\u5934\uff0c\u7b2c\u4e8c\u884c\u5206\u9694\u8868\u5934\u548c\u4e3b\u4f53\u90e8\u5206(\u5982\u679c\u8868\u683c\u65e0\u6cd5\u663e\u793a\u53ef\u4ee5\u5c1d\u8bd5\u628a\u7b2c\u4e8c\u884c\u7684 <code>-</code> \u53d8\u4e3a <code>---</code> )\uff0c\u53ef\u4ee5\u6307\u5b9a\u6240\u5728\u5217\u7684\u5bf9\u9f50\u65b9\u5f0f\uff0c\u7b2c\u4e09\u884c\u5f00\u59cb\u6bcf\u4e00\u884c\u4e3a\u4e00\u4e2a\u8868\u683c\u884c\u3002\u5217\u4e0e\u5217\u4e4b\u95f4\u7528 <code>|</code> \u9694\u5f00\u3002(\u6ce8\uff1a\u539f\u751f\u65b9\u5f0f\u7684\u8868\u683c\u6bcf\u4e00\u884c\u7684\u4e24\u8fb9\u4e5f\u8981\u6709 <code>|</code> )</p> <p>\u5bf9\u9f50\u65b9\u5f0f <code>:- \u5de6\u5bf9\u9f50</code> <code>- \u4e2d\u5fc3\u5bf9\u9f50</code> <code>-: \u53f3\u5bf9\u9f50</code></p> <pre><code>\u7b2c\u4e00\u5217|\u7b2c\u4e8c\u5217|\u7b2c\u4e09\u5217\n:-|-|-:\na11|a12|a13\na21|a22|a33\na31|a32|a33\n</code></pre> \u8868\u5934\u4e00 \u8868\u5934\u4e8c \u8868\u5934\u4e09 a11 a12 a13 a21 a22 a33 a31 a32 a33"},{"location":"BLOG/Markdown/grammars/#_11","title":"\u8d85\u94fe\u63a5","text":"<p>[ ]\u91cc\u5199\u94fe\u63a5\u6587\u5b57\uff0c( )\u91cc\u5199\u94fe\u63a5\u5730\u5740, ( )\u4e2d\u7684\" \"\u4e2d\u53ef\u4ee5\u4e3a\u94fe\u63a5\u6307\u5b9atitle\u5c5e\u6027\uff0ctitle\u5c5e\u6027\u53ef\u52a0\u53ef\u4e0d\u52a0\u3002title\u5c5e\u6027\u7684\u6548\u679c\u662f\u9f20\u6807\u60ac\u505c\u5728\u94fe\u63a5\u4e0a\u4f1a\u51fa\u73b0\u6307\u5b9a\u7684 title\u6587\u5b57\uff0c\u94fe\u63a5\u5730\u5740\u4e0etitle\u524d\u6709\u4e00\u4e2a\u7a7a\u683c\u3002</p> <pre><code>\u53f3\u8fb9\u662f\u94fe\u63a5[\u94fe\u63a5\u6587\u5b57](\u94fe\u63a5 \"title\")\n</code></pre> <pre><code>\u53f3\u8fb9\u662f\u94fe\u63a5[GitHub](https://github.com \"GitHub\")\n</code></pre> <p>\u53f3\u8fb9\u662f\u94fe\u63a5GitHub</p>"},{"location":"BLOG/Markdown/grammars/#_12","title":"\u63d2\u5165\u56fe\u7247","text":"<p>\u683c\u5f0f\uff1a<code>!</code> <code>[\u56fe\u7247\u6807\u9898]</code> <code>(\u56fe\u7247\u5730\u5740 \"\u56fe\u7247Title\u201d)</code></p> <p>\u5176\u4e2d<code>\u56fe\u7247\u6807\u9898</code>\u4f1a\u88ab\u67d0\u4e9b\u7f51\u7ad9\u548c\u7f16\u8f91\u5668\u663e\u793a\u5728\u56fe\u7247\u4e0b\u65b9</p>"},{"location":"BLOG/Markdown/grammars/#_13","title":"\u4ee3\u7801\u5757","text":""},{"location":"BLOG/Markdown/grammars/#_14","title":"\u884c\u5185\u4ee3\u7801\u5757","text":"<p>\u7528\u201c ` \u201d\u5de6\u53f3\u5305\u88f9\u4ee3\u7801</p>"},{"location":"BLOG/Markdown/grammars/#_15","title":"\u591a\u884c\u4ee3\u7801\u5757","text":"<p>\u7528\u201c ``` \u201d\u4e0a\u4e0b\u5305\u88f9\u4ee3\u7801\uff0c\u5728\u7b2c\u4e00\u4e2a\u201c ``` \u201d\u540e\u6dfb\u52a0\u8bed\u8a00\u540d\u79f0\u83b7\u5f97\u4e0d\u540c\u7684\u9ad8\u4eae\u6548\u679c</p> <p>\u5982\uff1acpp\uff0cpython\uff0cswift</p>"},{"location":"BLOG/Markdown/grammars/#_16","title":"\u5bf9\u9f50\u65b9\u5f0f","text":"<pre><code>&lt;center&gt;\u884c\u4e2d\u5fc3\u5bf9\u9f50&lt;/center&gt;\n&lt;p align=\"left\"&gt;\u884c\u5de6\u5bf9\u9f50&lt;/p&gt;\n&lt;p align=\"right\"&gt;\u884c\u53f3\u5bf9\u9f50&lt;/p&gt;\n</code></pre> <p>\u884c\u4e2d\u5fc3\u5bf9\u9f50</p> <p>\u884c\u5de6\u5bf9\u9f50</p> <p>\u884c\u53f3\u5bf9\u9f50</p>"},{"location":"BLOG/Markdown/grammars/#_17","title":"\u5206\u5272\u7ebf","text":"<pre><code>* * *\n***\n- - -\n---\n</code></pre>"},{"location":"BLOG/Markdown/grammars/#_18","title":"\u6362\u884c","text":"<p>\u4e0d\u540cmarkdown\u7f16\u8f91\u5668\u53ef\u80fd\u6709\u4e0d\u540c\u7684\u6362\u884c\u65b9\u5f0f\uff0c\u6700\u7b80\u5355\u4e3a\u76f4\u63a5\u6572\u56de\u8f66</p> <p>markdown\u6587\u672c\u5185\u7684\u8fde\u7eed\u4e24\u4e2a\u6216\u591a\u4e2a\u56de\u8f66\u4f1a\u88ab\u66ff\u6362\u4e3a\u4e00\u4e2a\u56de\u8f66</p>"},{"location":"BLOG/Markdown/grammars/#_19","title":"\u9ad8\u7ea7","text":""},{"location":"BLOG/Markdown/grammars/#_20","title":"\u8bbe\u7f6e\u5b57\u4f53/\u989c\u8272","text":"<pre><code>&lt;font face=\"\u5b8b\u4f53\" color=blue size=5&gt;\u84dd\u8272\u7684\u5b57\uff5e&lt;/font&gt;\n</code></pre> <p>\u84dd\u8272\u7684\u5b57\uff5e</p>"},{"location":"BLOG/Markdown/grammars/#_21","title":"\u5e38\u7528\u989c\u8272","text":"<p>\u6d4f\u89c8\u5668\u652f\u6301\u7684\u6240\u6709\u989c\u8272\u8bf7\u8df3\u8f6c\u53c2\u8003</p> <p>\u73b0\u4ee3\u6d4f\u89c8\u5668\u652f\u6301\u7684140\u79cd\u5df2\u547d\u540d\u7684\u989c\u8272</p> <p>\u5e38\u7528\u989c\u8272\u540d\u79f0: * \u6309\u7f51\u7ad9\u987a\u5e8f\u6392\u5217 * orange pink  gold yellow purple greenyellow lightgreen green aqua lightblue blue wheat brown white snow linen silver gray black</p> \u6700\u5e38\u7528 \u5176\u4ed6 red greenyellow orange lightgreen yellow lightblue green pink aqua gold blue silver purple brown"},{"location":"BLOG/Markdown/grammars/#_22","title":"\u951a\u70b9","text":"<p>\u4e5f\u5c31\u662f <code>\u8df3\u8f6c</code></p> <pre><code>1. [\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u7b2c\u4e00\u6bb5](#jump1)\n2. [\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u7b2c\u4e8c\u6bb5](#jump2\uff09\n\n### &lt;span id=\"jump1\"&gt;\u7b2c\u4e00\u6bb5&lt;/span&gt;\n\n### &lt;span id=\"jump2\"&gt;\u7b2c\u4e8c\u6bb5&lt;/span&gt;\n</code></pre> <pre><code>&lt;span id=\"now\"&gt;\u5f53\u524d\u4f4d\u7f6e&lt;/span&gt;\n\u70b9\u51fb[\u8fd9\u91cc](#top)\u8df3\u8f6c\u5230\u5f00\u5934\n\u70b9\u51fb[\u8fd9\u91cc](#bottom)\u8df3\u8f6c\u5230\u7ed3\u5c3e\n</code></pre> <p>\u5f53\u524d\u4f4d\u7f6e</p> <p>\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u5f00\u5934</p> <p>\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u7ed3\u5c3e</p>"},{"location":"BLOG/Markdown/grammars/#_23","title":"\u6ce8\u811a","text":"<pre><code>\u4f7f\u7528 Markdown[^1]\u53ef\u4ee5\u6548\u7387\u7684\u4e66\u5199\u6587\u6863, \u76f4\u63a5\u8f6c\u6362\u6210 HTML[^2]\u3002\n\n[^1]:Markdown\u662f\u4e00\u79cd\u7eaf\u6587\u672c\u6807\u8bb0\u8bed\u8a00\n[^2]:HyperText Markup Language \u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00\n</code></pre> <p>\u4f7f\u7528 Markdown^1\u53ef\u4ee5\u6548\u7387\u7684\u4e66\u5199\u6587\u6863, \u76f4\u63a5\u8f6c\u6362\u6210 HTML[^2]\u3002</p> <p>\u70b9\u51fb\u8fd9\u91cc\u8df3\u8f6c\u5230\u7ed3\u5c3e\u67e5\u770b\u6ce8\u811a\u7684\u663e\u793a\u6548\u679c</p> <p>[^2]:HyperText Markup Language \u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00</p>"},{"location":"BLOG/Markdown/grammars/#_24","title":"\u591a\u7ea7\u5f15\u7528","text":"<pre><code>&gt;&gt;&gt; \u8bf7\u95ee Markdwon \u600e\u4e48\u7528\uff1f - \u5c0f\u767d\n\n&gt;&gt; \u81ea\u5df1\u770b\u6559\u7a0b\uff01 - \u6124\u9752\n\n&gt; \u6559\u7a0b\u5728\u54ea\uff1f - \u5c0f\u767d\n\n`[^_^]: # \u65e0\u6cd5\u663e\u793a\u65f6\u8bb0\u5f97\u7a7a\u884c`\n</code></pre> <p>\u4e0d\u540c\u7f16\u8f91\u5668\u7684\u663e\u793a\u60c5\u51b5\u4e0d\u540c</p> <p>\u8bf7\u95ee Markdwon \u600e\u4e48\u7528\uff1f - \u5c0f\u767d</p> <p>\u81ea\u5df1\u770b\u6559\u7a0b\uff01 - \u6124\u9752</p> <p>\u6559\u7a0b\u5728\u54ea\uff1f - \u5c0f\u767d</p>"},{"location":"BLOG/Markdown/grammars/#latex","title":"LaTeX\u516c\u5f0f","text":"<ul> <li>\u5728\u6570\u5b66\u516c\u5f0f\u7684\u524d\u540e\u52a0<code>$</code>\u662f\u884c\u5185\u516c\u5f0f</li> </ul> <pre><code>\u6211\u4eec\u5728\u521d\u4e2d\u6570\u5b66\u8bfe\u4e0a\u5df2\u7ecf\u5bf9\u4e00\u6b21\u51fd\u6570$y=x+a$\u6709\u6240\u4e86\u89e3\u3002\n</code></pre> <p>\u6211\u4eec\u5728\u521d\u4e2d\u6570\u5b66\u8bfe\u4e0a\u5df2\u7ecf\u5bf9\u4e00\u6b21\u51fd\u6570\\(y=x+a\\)\u6709\u6240\u4e86\u89e3\u3002</p> <ul> <li>\u5728\u6570\u5b66\u516c\u5f0f\u7684\u524d\u540e\u52a0<code>$$</code>\u662f\u72ec\u5360\u4e00\u884c\u7684\u516c\u5f0f <pre><code>\u4e0b\u9762\u6211\u4eec\u6765\u8ba4\u8bc6\u4e00\u4e0b\u4e8c\u6b21\u51fd\u6570$$y=ax^2+bx+c$$\n</code></pre> \u4e0b\u9762\u6211\u4eec\u6765\u8ba4\u8bc6\u4e00\u4e0b\u4e8c\u6b21\u51fd\u6570\\(\\(y=ax^2+bx+c\\)\\)</li> </ul> <pre><code>\u884c\u5185\u516c\u5f0f\uff1a$\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N$\n\u5757\u7ea7\u516c\u5f0f\uff1a\n$$  x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a} $$\n$$ \\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} =\n1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}\n{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } } $$\n</code></pre> <p>\u884c\u5185\u516c\u5f0f\uff1a\\(\\Gamma(n) = (n-1)!\\quad\\forall n\\in\\mathbb N\\)</p> <p>\u5757\u7ea7\u516c\u5f0f\uff1a</p> \\[x = \\dfrac{-b \\pm \\sqrt{b^2 - 4ac}}{2a}\\] \\[\\frac{1}{\\Bigl(\\sqrt{\\phi \\sqrt{5}}-\\phi\\Bigr) e^{\\frac25 \\pi}} = 1+\\frac{e^{-2\\pi}} {1+\\frac{e^{-4\\pi}} {1+\\frac{e^{-6\\pi}}{1+\\frac{e^{-8\\pi}} {1+\\ldots} } } }\\]"},{"location":"BLOG/Markdown/grammars/#_25","title":"\u5176\u4ed6","text":""},{"location":"BLOG/Markdown/grammars/#_26","title":"\u8f6c\u4e49\u5b57\u7b26","text":"<p>\u901a\u8fc7\u5728Markdown\u5b57\u7b26\u524d\u4f7f\u7528\\\u6765\u5ffd\u7565\uff08\u6216\u8f6c\u4e49\uff09Markdown\u683c\u5f0f\u3002</p> <p>Markdown\u5141\u8bb8\u60a8\u4f7f\u7528\u53cd\u659c\u6760\u8f6c\u4e49\u6765\u751f\u6210\u6587\u5b57\u5b57\u7b26\uff0c\u5426\u5219\u8fd9\u4e9b\u5b57\u7b26\u5728Markdown\u7684\u683c\u5f0f\u5316\u8bed\u6cd5\u4e2d\u5177\u6709\u7279\u6b8a\u542b\u4e49\u3002 \u4f8b\u5982\uff0c\u5982\u679c\u60a8\u60f3\u7528\u6587\u5b57\u661f\u53f7\u5305\u56f4\u4e00\u4e2a\u5355\u8bcd\uff0c\u5219\u53ef\u4ee5\u5728\u661f\u53f7\u4e4b\u524d\u4f7f\u7528\u53cd\u659c\u6760\uff0c\u5982<code>\\*literal asterisks\\*</code>  *literal asterisks*</p> <p>Markdown\u4e3a\u4ee5\u4e0b\u5b57\u7b26\u63d0\u4f9b\u53cd\u659c\u6760\u8f6c\u4e49(\u4f46\u662fCSDN\u4e0d\u592a\u652f\u6301)\uff1a</p> <p>\\\u53cd\u659c\u6760\u2003`\u53cd\u5f15\u53f7\u2003*\u661f\u53f7\u2003_\u4e0b\u5212\u7ebf\u2003{}\u5927\u62ec\u53f7\u2003[]\u4e2d\u62ec\u53f7\u2003()\u5c0f\u62ec\u53f7\u2003 #\u4e95\u53f7\u2003+\u52a0\u53f7\u2003-\u51cf\u53f7\u2003.\u82f1\u6587\u53e5\u53f7\u2003!\u82f1\u6587\u611f\u53f9\u53f7</p>"},{"location":"BLOG/Markdown/grammars/#html","title":"\u5185\u8054 HTML \u8bed\u6cd5/\u7279\u6b8a\u5b57\u7b26\u81ea\u52a8\u8f6c\u4e49","text":"<p>\u5bf9\u4e8e Markdown \u4e2d\u672a\u5305\u542b\u7684\u6807\u7b7e, \u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 HTML\u6807\u7b7e\uff0c\u4f8b\u5982\u7528 HTML <code>&lt;a&gt;</code> \u6807\u7b7e\u66ff\u4ee3 Markdown \u7684\u94fe\u63a5\u8bed\u6cd5</p> <p>\u5728 HTML \u4e2d, \u6709\u4e00\u4e9b\u5b57\u7b26\u9700\u8981\u7279\u6b8a\u5bf9\u5f85\uff0c\u5982\u679c\u4f60\u60f3\u5c06\u5b83\u4eec\u7528\u4f5c\u5b57\u9762\u91cf, \u5219\u9700\u8981\u5c06\u5b83\u4eec\u8f6c\u4e49\u4e3a\u5b57\u7b26\u5b9e\u4f53</p> \u7279\u6b8a\u5b57\u7b26 \u4ee3\u7801 &amp; <code>&amp;amp;</code> &lt; <code>&amp;lt;</code> &gt; <code>&amp;gt;</code> \" <code>&amp;quot;</code> <code>&amp;#34;</code> ' <code>&amp;apos;</code> <code>&amp;#39;</code>"},{"location":"BLOG/Markdown/grammars/#_27","title":"\u6ce8\u91ca","text":"<pre><code>&lt;div style='display: none'&gt;\n\u6ce8\u91ca\n&lt;/div&gt;\n</code></pre> <pre><code>&lt;!-- \u6ce8\u91ca --&gt;\n</code></pre> <pre><code>[//]: # (\u54c8\u54c8\u6211\u662f\u6700\u5f3a\u6ce8\u91ca1\uff0c\u4e0d\u4f1a\u5728\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u3002)\n[^_^]: # (\u54c8\u54c8\u6211\u662f\u6700\u840c\u6ce8\u91ca2\uff0c\u4e0d\u4f1a\u5728\u6d4f\u89c8\u5668\u4e2d\u663e\u793a\u3002)\n</code></pre>"},{"location":"BLOG/Markdown/grammars/#_28","title":"\u7a7a\u683c","text":"<pre><code>\u30101\u3011 &amp;nbsp; \u534a\u89d2\u7684\u4e0d\u65ad\u884c\u7684\u7a7a\u767d\u683c\uff08\u63a8\u8350\u4f7f\u7528\uff09\n\u30102\u3011 &amp;ensp; \u534a\u89d2\u7684\u7a7a\u683c\n\u30103\u3011 &amp;emsp; \u5168\u89d2\u7684\u7a7a\u683c\n</code></pre> <ul> <li>\u30101\u3011 \u00a0 \u534a\u89d2\u7684\u4e0d\u65ad\u884c\u7684\u7a7a\u767d\u683c\uff08\u63a8\u8350\u4f7f\u7528\uff09</li> <li>\u30102\u3011 \u2002 \u534a\u89d2\u7684\u7a7a\u683c</li> <li>\u30103\u3011 \u2003 \u5168\u89d2\u7684\u7a7a\u683c</li> </ul> <p>\u6587\u7ae0\u7ed3\u5c3e</p> <p>\u70b9\u51fb\u8fd9\u91cc\u56de\u5230\u4ecb\u7ecd <code>\u9875\u9762\u8df3\u8f6c</code> \u7684\u9605\u8bfb\u4f4d\u7f6e</p> <p>\u70b9\u51fb\u8fd9\u91cc\u56de\u5230\u4ecb\u7ecd <code>\u6ce8\u811a</code> \u7684\u9605\u8bfb\u4f4d\u7f6e</p>"},{"location":"BLOG/Markdown/mdbook-site/","title":"Publish a Website with mdBook and GitHub Pages","text":"<p>template at https://github.com/Yang-Xijie/mdbook-site</p>"},{"location":"BLOG/Markdown/mdbook-site/#mdbook-init","title":"mdbook init","text":"<pre><code>$ mkdir mdbook-site\n$ cd mdbook-site\n$ mdbook init\n\nDo you want a .gitignore to be created? (y/n)\ny\nWhat title would you like to give the book?\nmy-book\n2022-05-21 17:50:25 [INFO] (mdbook::book::init): Creating a new book with stub content\n\nAll done, no errors...\n</code></pre> <pre><code>$ tree -a\n.\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 book\n\u251c\u2500\u2500 book.toml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 SUMMARY.md\n    \u2514\u2500\u2500 chapter_1.md\n</code></pre>"},{"location":"BLOG/Markdown/mdbook-site/#add-github-workflow","title":"Add GitHub Workflow","text":"<pre><code>$ mkdir .github\n$ cd .github\n$ mkdir workflows\n$ cd workflows\n$ vim PublishMySite.yml\n</code></pre> <pre><code>name: PublishMySite\n\n# Controls when the action will run. \non:\n  # Triggers the workflow on push or pull request events but only for the main branch\n  push:\n    branches:\n      - main\n  pull_request:\n    branches:\n      - main\n\n# A workflow run is made up of one or more jobs that can run sequentially or in parallel\njobs:\n  # This workflow contains a single job called \"build\"\n  build:\n    # The type of runner that the job will run on\n    runs-on: ubuntu-latest\n\n    # Steps represent a sequence of tasks that will be executed as part of the job\n    steps:\n      # Checks-out your repository under $GITHUB_WORKSPACE, so your job can access it\n      - uses: actions/checkout@v2\n\n      # Build markdown files to a static site.\n      - name: Setup mdBook\n        uses: peaceiris/actions-mdbook@v1\n        with:\n          mdbook-version: \"latest\"\n      - run: mdbook build . --dest-dir ./book # --dest-dir is relative to &lt;dir&gt;\n\n      # Publish the static site to gh-pages branch.\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN}}\n          publish_dir: ./book\n          publish_branch: gh-pages\n</code></pre> <pre><code>$ tree -a\n.\n\u251c\u2500\u2500 .github\n\u2502   \u2514\u2500\u2500 workflows\n\u2502       \u2514\u2500\u2500 PublishMySite.yml\n\u251c\u2500\u2500 .gitignore\n\u251c\u2500\u2500 book.toml\n\u2514\u2500\u2500 src\n    \u251c\u2500\u2500 SUMMARY.md\n    \u2514\u2500\u2500 chapter_1.md\n</code></pre>"},{"location":"BLOG/Markdown/mdbook-site/#git-and-github","title":"Git and GitHub","text":""},{"location":"BLOG/Markdown/mdbook-site/#git-init","title":"git init","text":"<pre><code>$ git init\n$ git add .\n$ git commit -m \"init\"\n</code></pre>"},{"location":"BLOG/Markdown/mdbook-site/#github-new-repository","title":"GitHub - New Repository","text":"<p>GitHub &gt; New Repository</p> <p>GitHub &gt; Repository &gt; Settings &gt; Actions &gt; General &gt; </p> <ul> <li>Actions permissions: Allow all actions and reusable workflows</li> <li>Workflow permissions: Read and write permissions</li> <li>Click Save</li> </ul> <pre><code>$ git remote add origin git@github.com:Yang-Xijie/mdbook-site.git # change to your github repo\n$ git branch -M main\n$ git push -u origin main\n</code></pre> <p>GitHub &gt; Repository &gt; Settings &gt; Pages &gt; Source &gt; gh-pages &gt; Click Save</p>"},{"location":"BLOG/Markdown/mdbook-site/#postscript","title":"Postscript","text":"<p>View your site at https://yang-xijie.github.io/mdbook-site/.</p> <p>Modify your markdown files in src/, make a new commit and push your site to GitHub. GitHub will automatically publish the newest contents.</p>"},{"location":"BLOG/Markdown/mkdocs-site/","title":"Publish a Website with Material for MkDocs and GitHub Pages","text":"<p>template at https://github.com/Yang-Xijie/mkdocs-site</p>"},{"location":"BLOG/Markdown/mkdocs-site/#mkdocs-new","title":"mkdocs new","text":"<pre><code>$ mkdocs new mkdocs-site\nINFO     -  Creating project directory: mkdocs-site\nINFO     -  Writing config file: mkdocs-site/mkdocs.yml\nINFO     -  Writing initial docs: mkdocs-site/docs/index.md\n$ cd mkdocs-site\n</code></pre> <pre><code>$ tree -a\n.\n\u251c\u2500\u2500 docs\n\u2502\u00a0\u00a0 \u2514\u2500\u2500 index.md\n\u2514\u2500\u2500 mkdocs.yml\n</code></pre>"},{"location":"BLOG/Markdown/mkdocs-site/#add-github-workflow","title":"Add GitHub Workflow","text":"<pre><code>$ mkdir .github\n$ cd .github\n$ mkdir workflows\n$ cd workflows\n$ vim PublishMySite.yml\n</code></pre> <pre><code>name: publish site\non: # \u5728\u4ec0\u4e48\u65f6\u5019\u89e6\u53d1\u5de5\u4f5c\u6d41\n  push: # \u5728\u4ece\u672c\u5730main\u5206\u652f\u88abpush\u5230GitHub\u4ed3\u5e93\u65f6\n    branches:\n      - main\n  pull_request: # \u5728main\u5206\u652f\u5408\u5e76\u522b\u4eba\u63d0\u7684pr\u65f6\n    branches:\n      - main\njobs: # \u5de5\u4f5c\u6d41\u7684\u5177\u4f53\u5185\u5bb9\n  deploy:\n    runs-on: ubuntu-latest # \u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4e91\u7aef\u865a\u62df\u673a \u4f7f\u7528\u6700\u65b0Ubuntu\u7cfb\u7edf\n    steps:\n      - uses: actions/checkout@v2 # \u5148checkout\u5230main\u5206\u652f\n      - uses: actions/setup-python@v2 # \u518d\u5b89\u88c5Python3\u548c\u76f8\u5173\u73af\u5883\n        with:\n          python-version: 3.x\n      - run: pip install mkdocs-material # \u4f7f\u7528pip\u5305\u7ba1\u7406\u5de5\u5177\u5b89\u88c5mkdocs-material\n      - run: mkdocs gh-deploy --force # \u4f7f\u7528mkdocs-material\u90e8\u7f72gh-pages\u5206\u652f\n</code></pre> <pre><code>$ tree -a\n.\n\u251c\u2500\u2500 .github\n\u2502   \u251c\u2500\u2500 .DS_Store\n\u2502   \u2514\u2500\u2500 workflows\n\u2502       \u2514\u2500\u2500 PublishMySite.yml\n\u251c\u2500\u2500 docs\n\u2502   \u2514\u2500\u2500 index.md\n\u2514\u2500\u2500 mkdocs.yml\n</code></pre>"},{"location":"BLOG/Markdown/mkdocs-site/#git-and-github","title":"Git and GitHub","text":""},{"location":"BLOG/Markdown/mkdocs-site/#git-init","title":"git init","text":"<pre><code>$ git init\n$ git add .\n$ git commit -m \"init\"\n</code></pre>"},{"location":"BLOG/Markdown/mkdocs-site/#github-new-repository","title":"GitHub - New Repository","text":"<p>GitHub &gt; New Repository</p> <p>GitHub &gt; Repository &gt; Settings &gt; Actions &gt; General &gt; </p> <ul> <li>Actions permissions: Allow all actions and reusable workflows</li> <li>Workflow permissions: Read and write permissions</li> <li>Click Save</li> </ul> <pre><code>$ git remote add origin git@github.com:Yang-Xijie/mkdocs-site.git # change to your github repo\n$ git branch -M main\n$ git push -u origin main\n</code></pre> <p>GitHub &gt; Repository &gt; Settings &gt; Pages &gt; Source &gt; gh-pages &gt; Click Save</p>"},{"location":"BLOG/Markdown/mkdocs-site/#postscript","title":"Postscript","text":"<p>View your site at https://yang-xijie.github.io/mkdocs-site/.</p> <p>Modify your markdown files in docs/, make a new commit and push your site to GitHub. GitHub will automatically publish the newest contents.</p>"},{"location":"BLOG/Math/latex/","title":"LaTeX \u5e38\u7528\u7b26\u53f7\u6574\u7406","text":"<p>\u7b14\u8005\u975e\u6570\u5b66\u7cfb\uff0c\u6574\u7406 LaTeX \u7b26\u53f7\u4ec5\u4ec5\u4e3a <code>Markdown</code> \u516c\u5f0f\u7f16\u8f91\u9700\u8981\uff0c\u5b58\u5728\u4e0d\u59a5\u4e4b\u5904 (\u771f\u7684\u5b58\u5728)\u3002</p> <p>\u53c2\u8003\u6587\u732e\u5df2\u5217\u4e8e\u6587\u672b\uff0c\u5176\u4e2d\u5305\u542b\u5b8c\u6574\u7684 <code>Latex\u7b26\u53f7\u516c\u5f0f\u8868</code>\u3002</p> <p>\u672c\u6587\u968f\u7b14\u8005\u4f7f\u7528\u4e0d\u65ad\u66f4\u65b0, \u5e0c\u671b\u80fd\u5e2e\u52a9\u5230\u5927\u5bb6\u3002</p>"},{"location":"BLOG/Math/latex/#_1","title":"\u5e0c\u814a\u5b57\u6bcd","text":"Name Display Capital Case Display Var Case Display <code>\\alpha</code> \\(\\alpha\\) <code>A</code> \\(A\\) <code>\\beta</code> \\(\\beta\\) <code>B</code> \\(B\\) <code>\\gamma</code> \\(\\gamma\\) <code>\\Gamma</code> \\(\\Gamma\\) <code>\\theta</code> \\(\\theta\\) <code>\\Theta</code> \\(\\Theta\\) <code>\\vartheta</code> \\(\\vartheta\\) <code>\\mu</code> \\(\\mu\\) <code>M</code> \\(M\\) <code>\\delta</code> \\(\\delta\\) <code>\\Delta</code> \\(\\Delta\\) <code>\\epsilon</code> \\(\\epsilon\\) <code>E</code> \\(E\\) <code>\\varepsilon</code> \\(\\varepsilon\\) <code>\\sigma</code> \\(\\sigma\\) <code>\\Sigma</code> \\(\\Sigma\\) <code>\\varsigma</code> \\(\\varsigma\\) <code>\\pi</code> \\(\\pi\\) <code>\\Pi</code> \\(\\Pi\\) <code>\\varpi</code> \\(\\varpi\\) <code>\\omega</code> \\(\\omega\\) <code>\\Omega</code> \\(\\Omega\\) <code>\\xi</code> \\(\\xi\\) <code>\\Xi</code> \\(\\Xi\\) <code>\\zeta</code> \\(\\zeta\\) <code>Z</code> \\(Z\\) <code>\\chi</code> \\(\\chi\\) <code>X</code> \\(X\\) <code>\\rho</code> \\(\\rho\\) <code>P</code> \\(P\\) <code>\\varrho</code> \\(\\varrho\\) <code>\\phi</code> \\(\\phi\\) <code>\\Phi</code> \\(\\Phi\\) <code>\\varphi</code> \\(\\varphi\\) <code>\\eta</code> \\(\\eta\\) <code>H</code> \\(H\\) <code>\\lambda</code> \\(\\lambda\\) <code>\\Lambda</code> \\(\\Lambda\\) <code>\\kappa</code> \\(\\kappa\\) <code>K</code> \\(K\\) <code>\\nu</code> \\(\\nu\\) <code>N</code> \\(N\\) <code>\\upsilon</code> \\(\\upsilon\\) <code>\\Upsilon</code> \\(\\Upsilon\\) <code>\\psi</code> \\(\\psi\\) <code>\\Psi</code> \\(\\Psi\\) <code>\\tau</code> \\(\\tau\\) <code>T</code> \\(T\\) <code>\\iota</code> \\(\\iota\\) <code>I</code> \\(I\\) <code>\\omicron</code> \\(\\omicron\\) <code>O</code> \\(O\\) <p>\u6709\u4ee3\u7801\u7684\u5927\u5199\u5e0c\u814a\u5b57\u6bcd\uff0c\u76f4\u63a5\u6572\u83b7\u5f97\u6b63\u4f53\uff0c\u4f7f\u7528<code>\\var</code>\u524d\u7f00\u8f6c\u5316\u4e3a\u659c\u4f53</p> <p>\u5982\uff1a<code>\\Gamma</code> \\(\\Gamma\\)\uff08\u6b63\uff09 <code>\\varGamma</code> \\(\\varGamma\\)\uff08\u659c\uff09</p> <p>\u6ca1\u6709\u4ee3\u7801\u7684\u5927\u5199\u5e0c\u814a\u5b57\u6bcd\uff0c\u76f4\u63a5\u6572\u5f97\u659c\u4f53\uff0c\u4f7f\u7528<code>\\text</code>\u547d\u4ee4\u8f6c\u5316\u4e3a\u6b63\u4f53</p> <p>\u5982\uff1a<code>T</code> \\(T\\)\u76f4\u63a5\u6572\uff08\u659c\uff09 <code>\\text T</code> \\(\\text T\\)\uff08\u6b63\uff09</p> <p>\uff08\u4e5f\u53ef\u4ee5\u4f7f\u7528<code>\\rm</code>\u5c06\u4e0b\u4e00\u4e2a\u5355\u8bcd\u53d8\u6b63\uff0c<code>\\text T</code>\u7684\u4f5c\u7528\u8303\u56f4\u53ea\u662f\u4e0b\u4e00\u4e2a\u5b57\u6bcd\uff1b\u53ef\u4ee5\u5c1d\u8bd5\u52a0<code>{}</code>\uff09</p>"},{"location":"BLOG/Math/latex/#_2","title":"\u8fd0\u7b97","text":""},{"location":"BLOG/Math/latex/#_3","title":"\u7b80\u5355\u8fd0\u7b97","text":"Type Typeset <code>+</code> \\(+\\) <code>-</code> \\(-\\) <code>\\pm</code> \\(\\pm\\) <code>\\mp</code> \\(\\mp\\) <code>\\times</code> \\(\\times\\) <code>\\cdot</code> \\(\\cdot\\) <code>\\div</code> \\(\\div\\) <code>\\bmod</code> \\(\\bmod\\) <code>\\cap</code> \\(\\cap\\) <code>\\cup</code> \\(\\cup\\) <code>\\wedge</code> <code>\\land</code> \\(\\land\\) <code>\\vee</code> <code>\\lor</code> \\(\\lor\\) <code>\\ast</code> \\(\\ast\\) <code>\\det</code> \\(\\det\\)"},{"location":"BLOG/Math/latex/#_4","title":"\u590d\u6742\u8fd0\u7b97","text":"Type Typeset <code>\\sqrt{abc}</code> \\(\\sqrt{abc}\\) <code>\\sqrt[n]{abc}</code> \\(\\sqrt[n]{abc}\\) <code>\\frac{abc}{xyz}</code> \\(\\frac{abc}{xyz}\\) <code>\\int_{a}^{b}</code> \\(\\int_{a}^{b}\\) <code>\\iiint_{a}^{b}</code> \\(\\iiint_{a}^{b}\\) <code>\\oint_{a}^{b}</code> \\(\\oint_{a}^{b}\\) <code>\\frac{\\mathrm{d} y}{\\mathrm{d} x}</code> \\(\\frac{\\mathrm{d} y}{\\mathrm{d} x}\\) <code>\\frac{\\mathrm{d}^{n} y}{\\mathrm{d} x^{n}}</code> \\(\\frac{\\mathrm{d}^{n} y}{\\mathrm{d} x^{n}}\\) <code>\\frac{\\partial f}{\\partial x}</code> \\(\\frac{\\partial f}{\\partial x}\\) <code>\\frac{\\partial ^{n} f}{\\partial x^{n}}</code> \\(\\frac{\\partial ^{n} f}{\\partial x^{n}}\\) <code>\\sum_{i=1}^{n}</code> \\(\\sum_{i=1}^{n}\\) <code>\\prod_{i=1}^{n}</code> \\(\\prod_{i=1}^{n}\\) <code>\\bigcap_{i=1}^{n}</code> \\(\\bigcap_{i=1}^{n}\\) <code>\\bigcup_{i=1}^{n}</code> \\(\\bigcup_{i=1}^{n}\\) <p>(\u60f3\u8981\u8ba9\u89d2\u6807\u51fa\u73b0\u5728\u6b63\u4e0a\u548c\u6b63\u4e0b\u65b9\uff0c\u4f7f\u7528\u5757\u7ea7\u516c\u5f0f\u800c\u4e0d\u662f\u884c\u5185\u516c\u5f0f)</p>"},{"location":"BLOG/Math/latex/#_5","title":"\u51fd\u6570","text":"Type Typeset <code>\\arccos</code> \\(\\arccos\\) <code>\\arcsin</code> \\(\\arcsin\\) <code>\\arctan</code> \\(\\arctan\\) <code>\\cos</code> \\(\\cos\\) <code>\\cosh</code> \\(\\cosh\\) <code>\\cot</code> \\(\\cot\\) <code>\\lg</code> \\(\\lg\\) <code>\\ln</code> \\(\\ln\\) <code>\\log</code> \\(\\log\\) <code>\\sin</code> \\(\\sin\\) <code>\\sinh</code> \\(\\sinh\\) <code>\\tan</code> \\(\\tan\\) <code>\\tanh</code> \\(\\tanh\\)"},{"location":"BLOG/Math/latex/#_6","title":"\u6781\u9650\u8fd0\u7b97\u7b26","text":"Type Typeset <code>\\lim</code> \\(\\lim\\) <code>\\inf</code> \\(\\inf\\) <code>\\sup</code> \\(\\sup\\) <code>\\min</code> \\(\\min\\) <code>\\max</code> \\(\\max\\)"},{"location":"BLOG/Math/latex/#_7","title":"\u7b26\u53f7","text":"<p>\u4e00\u4e9b\u952e\u76d8\u4e0a\u53ef\u76f4\u63a5\u6572\u51fa\u7684\u7b26\u53f7\uff0c\u524d\u9762\u52a0<code>\\</code>\u5373\u53ef\u3002</p> <p>\u5982\uff1a<code>\\%</code> \\(\\to \\%\\) <code>\\_</code> \\(\\to \\_\\)</p>"},{"location":"BLOG/Math/latex/#_8","title":"\u70b9\u7f00","text":"Type Typeset <code>a^2</code> \\(a^2\\) <code>a_1</code> \\(a_1\\) <code>\\bar{a}</code> \\(\\bar{a}\\) <code>\\dot{a}</code> \\(\\dot{a}\\) <code>\\ddot{a}</code> \\(\\ddot{a}\\) <code>\\vec{a}</code> \\(\\vec{a}\\) <code>\\hat{a}</code> \\(\\hat{a}\\) <code>\\tilde{a}</code> \\(\\tilde{a}\\) <code>\\mathring{a}</code> \\(\\mathring{a}\\) <code>f^{''}</code> \\(f^{''}\\) <code>90^\\circ</code> \\(90^\\circ\\) <code>\\overset{\\frown}\\psi</code> \\(\\overset{\\frown}\\psi\\) <code>\\overset{?}{=}</code> \\(\\overset{?}{=}\\) <code>\\overset{ping}{\u62fc}\\overset{yin}{\u97f3}</code> \\(\\overset{ping}{\u62fc}\\overset{yin}{\u97f3}\\) <code>\\overset{\u306f\u3044}{\u5165}\u308b</code> \\(\\overset{\u306f\u3044}{\u5165}\u308b\\) <code>\\underset{t\\in R}{max}</code> \\(\\underset{t\\in R}{max}\\)"},{"location":"BLOG/Math/latex/#_9","title":"\u4e8c\u5143\u5173\u7cfb","text":"Type Typeset <code>&lt;</code> \\(&lt;\\) <code>&gt;</code> \\(&gt;\\) <code>\\le</code> \\(\\le\\) <code>\\ge</code> \\(\\ge\\) <code>\\leqslant</code> \\(\\leqslant\\) <code>\\geqslant</code> \\(\\geqslant\\) <code>=</code> \\(=\\) <code>\\ne</code> \\(\\ne\\) <code>:</code> \\(:\\) <code>\\in</code> \\(\\in\\) <code>\\notin</code> \\(\\notin\\) <code>\\ni</code> <code>\\owns</code> \\(\\ni\\) <code>\\ll</code> \\(\\ll\\) <code>\\gg</code> \\(\\gg\\) <code>\\sim</code> \\(\\sim\\) <code>\\approx</code> \\(\\approx\\) <code>\\cong</code> \\(\\cong\\) <code>\\equiv</code> \\(\\equiv\\) <code>\\subset</code> \\(\\subset\\) <code>\\supset</code> \\(\\supset\\) <code>\\subseteq</code> \\(\\subseteq\\) <code>\\subsetneqq</code> \\(\\subsetneqq\\) <code>\\perp</code> \\(\\perp\\) <code>\\parallel</code> \\(\\parallel\\) <code>\\mid</code> \\(\\mid\\) <code>\\propto</code> \\(\\propto\\)"},{"location":"BLOG/Math/latex/#miscellaneous-symbols","title":"Miscellaneous Symbols","text":"Type Typeset <code>\\therefore</code> \\(\\therefore\\) <code>\\because</code> \\(\\because\\) <code>\\ell</code> \\(\\ell\\) <code>\\partial</code> \\(\\partial\\) <code>\\infty</code> \\(\\infty\\) <code>\\varnothing</code> <code>\\emptyset</code> \\(\\emptyset\\) <code>\\forall</code> \\(\\forall\\) <code>\\exists</code> \\(\\exists\\) <code>\\triangle</code> \\(\\triangle\\) <code>\\angle</code> \\(\\angle\\) <code>\\surd</code> \\(\\surd\\) <code>\\nabla</code> \\(\\nabla\\) <code>\\neg</code> <code>\\lnot</code> \\(\\neg\\) <code>\\ldots</code> \\(\\ldots\\) <code>\\cdots</code> \\(\\cdots\\) <code>\\vdots</code> \\(\\vdots\\) <code>\\ddots</code> \\(\\ddots\\) <code>\\S</code> \\(\\S\\)"},{"location":"BLOG/Math/latex/#_10","title":"\u5a31\u4e50","text":"Type Typeset <code>\\spadesuit</code> \\(\\spadesuit\\) <code>\\heartsuit</code> \\(\\heartsuit\\) <code>\\diamondsuit</code> \\(\\diamondsuit\\) <code>\\clubsuit</code> \\(\\clubsuit\\)"},{"location":"BLOG/Math/latex/#_11","title":"\u7bad\u5934","text":"Type Typeset <code>\\to</code> <code>\\rightarrow</code> \\(\\to\\) <code>\\leftarrow</code> \\(\\leftarrow\\) <code>\\Rightarrow</code> \\(\\Rightarrow\\) <code>\\Leftarrow</code> \\(\\Leftarrow\\) <code>\\Longrightarrow</code> \\(\\Longrightarrow\\) <code>\\Longleftarrow</code> \\(\\Longleftarrow\\) <code>\\Leftrightarrow</code> \\(\\Leftrightarrow\\) <code>\\iff</code> <code>\\Longleftrightarrow</code> \\(\\iff\\)"},{"location":"BLOG/Math/latex/#_12","title":"\u5305\u88f9\u7ed3\u6784","text":"Type Typeset <code>\\overrightarrow{AB}</code> \\(\\overrightarrow{AB}\\) <code>\\overline{AB}</code> \\(\\overline{AB}\\) <code>\\underline{abc}</code> \\(\\underline{abc}\\) <code>\\tilde{abc}</code> \\(\\tilde{abc}\\) <code>\\widetilde{abc}</code> \\(\\widetilde{abc}\\) <code>\\overbrace{abc}</code> \\(\\overbrace{abc}\\) <code>\\underbrace{abc}</code> \\(\\underbrace{abc}\\)"},{"location":"BLOG/Math/latex/#_13","title":"\u62ec\u53f7","text":""},{"location":"BLOG/Math/latex/#_14","title":"\u666e\u901a\u62ec\u53f7","text":"Type Typeset <code>(</code> <code>)</code> \\((\\quad)\\) <code>[</code> <code>]</code> \\([\\quad]\\) <code>\\lbrace</code> <code>\\rbrace</code> \\(\\lbrace\\quad\\rbrace\\) <code>\\langle</code> <code>\\rangle</code> \\(\\langle\\quad\\rangle\\) <p>\u4f7f\u7528<code>\\left \\(</code>\u548c<code>\\right \\}</code>\u6253\u51fa\u5927\u7684\u5305\u88f9\u62ec\u53f7. \u7528<code>.</code>\u4ee3\u66ff\u62ec\u53f7\u53ef\u4ee5\u7a7a\u51fa\u6765\u4e00\u534a\u7684\u62ec\u53f7</p>"},{"location":"BLOG/Math/latex/#_15","title":"\u7edd\u5bf9\u503c/\u53d6\u6a21","text":"<p><code>\\left | a \\right |</code> \\(\\left | a \\right |\\) <code>\\left \\| \\vec{a} \\right \\|</code> \\(\\left \\| \\vec{a} \\right \\|\\)</p>"},{"location":"BLOG/Math/latex/#_16","title":"\u5411\u91cf","text":"Type Typeset <code>\\begin{matrix} a&amp;b \\\\ c&amp;d \\end{matrix}</code> \\(\\begin{matrix}a&amp;b\\\\c&amp;d\\end{matrix}\\) <code>\\begin{pmatrix} a&amp;b \\\\ c&amp;d \\end{pmatrix}</code> \\(\\begin{pmatrix}a&amp;b\\\\c&amp;d\\end{pmatrix}\\) <code>\\begin{bmatrix} a&amp;b \\\\ c&amp;d \\end{bmatrix}</code> \\(\\begin{bmatrix}a&amp;b\\\\c&amp;d\\end{bmatrix}\\) <code>\\begin{Bmatrix} a&amp;b \\\\ c&amp;d \\end{Bmatrix}</code> \\(\\begin{Bmatrix}a&amp;b\\\\c&amp;d\\end{Bmatrix}\\) <code>\\begin{vmatrix} a&amp;b \\\\ c&amp;d \\end{vmatrix}</code> \\(\\begin{vmatrix}a&amp;b\\\\c&amp;d\\end{vmatrix}\\) <code>\\begin{Vmatrix} a&amp;b \\\\ c&amp;d \\end{Vmatrix}</code> \\(\\begin{Vmatrix}a&amp;b\\\\c&amp;d\\end{Vmatrix}\\) <p>\u4e24\u4fa7\u62ec\u53f7\u4e5f\u53ef\u4ee5\u7528 <code>\\left</code> <code>\\right</code>+\u62ec\u53f7 \u6765\u5305\u88f9</p> <p>\u589e\u5e7f\u77e9\u9635</p> <pre><code>\\left[\n    \\begin{array}{cc|c}\n      1 &amp; 2 &amp; 3 \\\\\n      4 &amp; 5 &amp; 6\n    \\end{array}\n\\right]\n</code></pre> \\[  \\left[     \\begin{array}{cc|c}       1 &amp; 2 &amp; 3 \\\\       4 &amp; 5 &amp; 6     \\end{array} \\right] \\]"},{"location":"BLOG/Math/latex/#_17","title":"\u65b9\u7a0b\u7ec4","text":"<pre><code>\\left\\{\n\\begin{array}{c}\n    a_{11}x_1+a_{12}x_2+\\cdots+a_{1n}x_n=b_1 \\\\\n    a_{21}x_1+a_{22}x_2+\\cdots+a_{2n}x_n=b_2 \\\\\n    \\vdots \\\\\n    a_{n1}x_1+a_{n2}x_2+\\cdots+a_{nn}x_n=b_n\n\\end{array}\n\\right.\n</code></pre> \\[ \\left\\{ \\begin{array}{c}     a_{11}x_1+a_{12}x_2+\\cdots+a_{1n}x_n=b_1 \\\\     a_{21}x_1+a_{22}x_2+\\cdots+a_{2n}x_n=b_2 \\\\     \\vdots \\\\     a_{n1}x_1+a_{n2}x_2+\\cdots+a_{nn}x_n=b_n \\end{array} \\right. \\]"},{"location":"BLOG/Math/latex/#_18","title":"\u6587\u6863\u5e03\u5c40","text":""},{"location":"BLOG/Math/latex/#_19","title":"\u7a7a\u683c","text":"Name Type Typeset <code>aa</code> \\(aa\\) interword space <code>a\\ a</code> \\(a\\ a\\) 1 em <code>a\\quad a</code> \\(a\\quad a\\) 2 em <code>a\\qquad a</code> \\(a\\qquad a\\)"},{"location":"BLOG/Math/latex/#_20","title":"\u7d27\u7f29","text":"Name Type Typeset <code>aa</code> \\(aa\\) thinspace <code>a\\!a</code> \\(a\\!a\\) medspcae <code>a\\negmedspace a</code> \\(a\\negmedspace a\\) thickspace <code>a\\negthickspace a</code> \\(a\\negthickspace a\\)"},{"location":"BLOG/Math/latex/#_21","title":"\u5b57\u53f7","text":"Type Typeset <code>text</code> \\(text\\) <code>\\tiny text</code> \\(\\tiny text\\) <code>\\small text</code> \\(\\small text\\) <code>\\normalsize text</code> \\(\\normalsize text\\) <code>\\large text</code> \\(\\large text\\) <code>\\huge text</code> \\(\\huge text\\)"},{"location":"BLOG/Math/latex/#_22","title":"\u5b57\u4f53","text":"Type Typeset <code>\\mathbf{A}</code> \\(\\mathbf{A}\\) <code>\\mathcal{A}</code> \\(\\mathcal{A}\\) <code>\\mathit{A}</code> \\(\\mathit{A}\\) <code>\\mathrm{A}</code> \\(\\mathrm{A}\\) <code>\\mathsf{A}</code> \\(\\mathsf{A}\\) <code>\\mathtt{A}</code> \\(\\mathtt{A}\\) <code>\\mathbb{A}</code> \\(\\mathbb{A}\\) <code>\\mathfrak{A}</code> \\(\\mathfrak{A}\\) <code>\\mathscr{A}</code> \\(\\mathscr{A}\\)"},{"location":"BLOG/Math/latex/#_23","title":"\u53c2\u8003\u8d44\u6599","text":"<p>\u767e\u5ea6\u6587\u5e93 | Latex\u7b26\u53f7\u5bf9\u5e94\u8868</p> <p>\u767e\u5ea6\u6587\u5e93 | LaTeX Symbols\u7b26\u53f7</p> <p>CSDN | Markdown\u4e2dLatex \u6570\u5b66\u516c\u5f0f\u57fa\u672c\u8bed\u6cd5</p> <p>CSDN | \u6700\u5168 Markdown + Latex \u7f16\u5199\u6280\u5de7</p> <p>CSDN | LaTeX\u6570\u5b66\u7b26\u53f7\u603b\u7ed3</p> <p>\u7b80\u4e66 | LaTeX \u5bfc\u6570\u76f8\u5173\u7b26\u53f7</p>"},{"location":"BLOG/Math/linear/","title":"\u7ebf\u6027\u4ee3\u6570\u590d\u4e60\u7b14\u8bb0","text":"<p>\u4ee5\u6e05\u534e\u5927\u5b66\u6797\u6da6\u4eae\u8001\u5e08\u7684ppt\u4e3a\u57fa\u7840\u8fdb\u884c\u6574\u7406</p> <p>\u4e3b\u8981\u7528\u6765\u8fdb\u884c\u77e5\u8bc6\u70b9\u56de\u987e\u548c\u5feb\u901f\u590d\u4e60</p>"},{"location":"BLOG/Math/linear/#1","title":"1 \u5411\u91cf\u53ca\u5176\u8fd0\u7b97","text":""},{"location":"BLOG/Math/linear/#_2","title":"\u7ebf\u6027\u4ee3\u6570","text":"<p>\u7ebf\u6027\u4ee3\u6570\u662f\u5efa\u7acb\u5728\u5411\u91cf\u7684 <code>\u52a0\u6cd5</code> \u548c <code>\u6570\u4e58</code> \u8fd9\u4e24\u79cd\u6240\u8c13 <code>\u7ebf\u6027\u8fd0\u7b97</code> \u4e0a\u7684</p>"},{"location":"BLOG/Math/linear/#_3","title":"\u4e24\u5411\u91cf\u76f8\u7b49","text":"<p>\u4e24\u4e2a\u5411\u91cf\u76f8\u7b49 \\(\\iff\\) \u4e24\u8005\u957f\u5ea6\u76f8\u7b49, \u65b9\u5411\u76f8\u540c</p>"},{"location":"BLOG/Math/linear/#_4","title":"\u5411\u91cf\u8fd0\u7b97\u6027\u8d28","text":"<p>\u5411\u91cf\u52a0\u6cd5\u548c\u6570\u4e58\u7684\u8fd0\u7b97\u6027\u8d28: \u4ea4\u7ed3\u96f6\u8d1f\u4e00\u4e58\u5206\u5206</p> <p>\u5206\u522b\u662f: \u5411\u91cf\u52a0\u6cd5\u4ea4\u6362\u5f8b, \u5411\u91cf\u52a0\u6cd5\u7ed3\u5408\u5f8b, \u96f6\u5411\u91cf, \u53cd\u5411\u91cf, 1 \u6570\u4e58\u5411\u91cf, \u4e24\u4e2a\u6570\u4e58\u6570\u4e58\u5411\u91cf, \u4e24\u4e2a\u6570\u52a0\u6570\u4e58\u5411\u91cf, \u4e00\u4e2a\u6570\u6570\u4e58\u4e24\u4e2a\u5411\u91cf</p>"},{"location":"BLOG/Math/linear/#_5","title":"\u5217\u5411\u91cf","text":"\\[ \\vec{a}= \\begin{pmatrix} a_1 \\\\ a_2 \\\\ \\vdots \\\\ a_n \\end{pmatrix} \\] <p>\u5176\u4e2d \\(a_i\\) \u4e3a\u5411\u91cf \\(\\vec{a}\\) \u7684\u7b2c \\(i\\) \u4e2a\u5206\u91cf</p>"},{"location":"BLOG/Math/linear/#_6","title":"\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408","text":"<p>\u8bbe \\(\\vec v_1,\\cdots,\\vec v_m\\) \u4e3a \\(m\\) \u4e2a \\(n\\) \u7ef4\u5411\u91cf, \u79f0 \\(c_1\\vec v_1+\\cdots +c_m\\vec v_m\\) \u4e3a\u5411\u91cf \\(\\vec v_1,\\cdots,\\vec v_m\\) \u7684\u4e00\u4e2a\u7ebf\u6027\u7ec4\u5408</p> <p>\u5728 3 \u7ef4\u7a7a\u95f4\u4e2d\uff0c\u4e00\u822c\uff0c\u5bf9\u4e8e\u5411\u91cf \\(\\vec u,\\vec v,\\vec w\\)</p> <ul> <li>{\u975e\u96f6\u5411\u91cf \\(\\vec u\\)} \u7684\u6240\u6709\u7ebf\u6027\u7ec4\u5408\u662f\u4e00\u6761\u76f4\u7ebf;</li> <li>{\u4e0d\u5171\u7ebf\u7684 \\(\\vec u,\\vec v\\)} \u7684\u6240\u6709\u7ebf\u6027\u7ec4\u5408\u662f\u4e00\u4e2a\u5e73\u9762;</li> <li>{\u4e0d\u5171\u9762\u7684 \\(\\vec u,\\vec v,\\vec w\\)} \u7684\u6240\u6709\u7ebf\u6027\u7ec4\u5408\u662f\u6574\u4e2a\u4e09\u7ef4\u7a7a\u95f4.</li> </ul>"},{"location":"BLOG/Math/linear/#_7","title":"\u5411\u91cf\u7684\u957f\u5ea6","text":"<p>\u5411\u91cf \\(\\vec v\\) \u7684\u957f\u5ea6\u6216\u6a21\u5b9a\u4e49\u4e3a \\(\\left\\|\\vec v\\right \\|=\\sqrt{\\vec v\\cdot \\vec v}\\)</p>"},{"location":"BLOG/Math/linear/#_8","title":"\u5411\u91cf\u6b63\u4ea4","text":"<p>\u82e5 \\(\\vec v\\cdot \\vec  w=0\\), \u5219\u79f0\u5411\u91cf \\(\\vec v\\) \u548c \\(\\vec w\\) \u5782\u76f4 / \u6b63\u4ea4. \u8bb0\u4f5c \\(\\vec v\\perp \\vec w\\)</p>"},{"location":"BLOG/Math/linear/#cauchy-schwarz","title":"Cauchy-Schwarz \u4e0d\u7b49\u5f0f","text":"<p>\\(|\\vec v\\cdot \\vec w|=\\left \\|\\vec v\\right \\|\\left \\|\\vec w\\right \\|\\), \u7b49\u53f7\u6210\u7acb\u5f53\u4e14\u4ec5\u5f53\u4e00\u4e2a\u5411\u91cf\u662f\u53e6\u4e00\u4e2a\u5411\u91cf\u7684\u500d\u6570.</p>"},{"location":"BLOG/Math/linear/#_9","title":"\u4e09\u89d2\u4e0d\u7b49\u5f0f","text":"<p>\\(\\left\\|\\vec v+ \\vec w\\right \\|\\le \\left\\|\\vec v\\right\\|+\\left\\|\\vec w\\right\\|\\), \u7b49\u53f7\u6210\u7acb\u5f53\u4e14\u4ec5\u5f53 \\(\\vec v, \\vec w\\) \u4e4b\u4e00\u4e3a\u53e6\u4e00\u5411\u91cf\u7684\u975e\u8d1f\u500d\u6570.</p>"},{"location":"BLOG/Math/linear/#2","title":"2 \u77e9\u9635\u4e0e\u7ebf\u6027\u65b9\u7a0b\u7ec4","text":""},{"location":"BLOG/Math/linear/#_10","title":"\u5bf9\u77e9\u9635\u4e0e\u5411\u91cf\u4e58\u79ef\u7684\u7406\u89e3","text":"<p>\\(A \\vec x\\) - <code>\u7406\u89e31</code> \u5f97\u5230 \\(A\\) \u5404\u5217\u5411\u91cf\u7684\u4e00\u4e2a\u7ebf\u6027\u7ec4\u5408; - <code>\u7406\u89e32</code> \u5217\u5411\u91cf \\(\\vec x\\) \u4e0e \\(A\\) \u5404\u884c\u5411\u91cf\u505a\u5185\u79ef</p>"},{"location":"BLOG/Math/linear/#_11","title":"\u5bf9\u7ebf\u6027\u65b9\u7a0b\u7ec4\u7684\u7406\u89e3","text":"<p>\\(A \\vec x=\\vec b\\) - <code>\u7406\u89e31</code> \u6c42 \\(A\\) \u5217\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408, \u4f7f\u4e4b\u7b49\u4e8e \\(\\vec b\\); - <code>\u7406\u89e32</code> \u6c42\u5411\u91cf \\(\\vec x\\), \u4f7f\u4e4b\u4e0e \\(A\\) \u7684\u884c\u5411\u91cf\u5185\u79ef\u5206\u522b\u4e3a \\(\\vec b\\) \u4e2d\u7684\u5143\u7d20</p>"},{"location":"BLOG/Math/linear/#_12","title":"\u53ef\u9006\u77e9\u9635","text":"<p>\u82e5 \\(A \\vec x=\\vec b\\) (\\(n\\) \u4e2a\u65b9\u7a0b, \\(n\\) \u4e2a\u672a\u77e5\u6570) \u5bf9\u4efb\u610f\u5411\u91cf \\(\\vec b\\) \u6709\u552f\u4e00\u89e3, \u5219\u79f0\u65b9\u9635 \\(\\vec A\\) \u53ef\u9006</p> <p>\u82e5 \\(A=(\\vec u, \\vec v, \\vec w)\\) \u53ef\u9006, \u5219 \\(\\vec u, \\vec v, \\vec w\\) \u7684\u5168\u90e8\u7ebf\u6027\u7ec4\u5408\u6240\u5f97\u7a7a\u95f4\u662f\u6574\u4e2a\u4e09\u7ef4\u7a7a\u95f4, \u8fd9\u65f6\u5411\u91cf \\(\\vec u, \\vec v, \\vec w\\) \u7ebf\u6027\u65e0\u5173 / \u4e0d\u5171\u9762, \u76f8\u5e94 \\(A \\vec x=\\vec b\\) \u53ea\u6709\u96f6\u89e3</p>"},{"location":"BLOG/Math/linear/#_13","title":"\u7ebf\u6027\u65b9\u7a0b\u7ec4\u7684\u884c\u56fe\u548c\u5217\u56fe","text":"<p><code>\u884c\u56fe</code>(\u4e8c\u7ef4) \u4e24\u76f4\u7ebf\u4ea4\u70b9 <code>\u5217\u56fe</code>\u4e24\u5217\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408</p>"},{"location":"BLOG/Math/linear/#3","title":"3 \u9ad8\u65af\u6d88\u5143\u6cd5","text":""},{"location":"BLOG/Math/linear/#_14","title":"\u77e9\u9635\u7684\u521d\u7b49\u884c\u53d8\u6362","text":"<p>\u5bf9\u65b9\u7a0b\u7ec4 \\(A \\vec x=\\vec b\\), \u6d88\u5143\u6cd5\u6d89\u53ca\u4ee5\u4e0b\u4e09\u79cd\u540c\u89e3\u53d8\u5f62: 1. \u628a\u4e00\u4e2a\u65b9\u7a0b\u51cf\u53bb\u53e6\u4e00\u4e2a\u65b9\u7a0b\u7684\u500d\u6570; 2. \u4ea4\u6362\u4e24\u4e2a\u65b9\u7a0b\u7684\u4f4d\u7f6e; 3. \u7528\u4e00\u4e2a\u975e\u96f6\u6570\u4e58\u4e00\u4e2a\u65b9\u7a0b.</p> <p>\u76f8\u5e94\u5730\u5bf9\u589e\u5e7f\u77e9\u9635\u4f5c\u4ee5\u4e0b\u4e09\u79cd\u884c\u53d8\u6362 (\u5373: \u521d\u7b49\u884c\u53d8\u6362): 1. \u628a\u4e00\u884c\u51cf\u53bb\u53e6\u4e00\u884c\u7684\u500d\u6570; 2. \u4ea4\u6362\u4e24\u884c; 3. \u7528\u4e00\u4e2a\u975e\u96f6\u6570\u4e58\u4e00\u884c. </p>"},{"location":"BLOG/Math/linear/#_15","title":"\u589e\u5e7f\u77e9\u9635","text":"<p>\u5bf9\u7ebf\u6027\u65b9\u7a0b\u7ec4 \\(A \\vec x=\\vec b\\) \u505a\u6d88\u5143\u6cd5, \u5373\u7528\u4e00\u7cfb\u5217\u521d\u7b49\u77e9\u9635\u5728\u5de6\u8fb9, \u53bb\u4e58\u589e\u5e7f\u77e9\u9635 \\((A | \\vec b)\\)</p>"},{"location":"BLOG/Math/linear/#_16","title":"\u6d88\u53bb\u77e9\u9635","text":"<p>\u5c06\u5355\u4f4d\u9635\u4e2d\u67d0\u4e2a \\(0\\) \u53d8\u4e3a\u975e\u96f6\u7684\u6570\u5f97\u5230\u7684\u77e9\u9635\u79f0\u4e3a\u6d88\u53bb\u77e9\u9635, \u6d88\u53bb\u77e9\u9635\u662f\u4e00\u7c7b\u521d\u7b49\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#_17","title":"\u7f6e\u6362\u9635","text":"<p>\u5982 \\(P_{12}=\\begin{pmatrix} 0&amp;1&amp;0 \\\\ 1&amp;0&amp;0 \\\\ 0&amp;0&amp;1 \\end{pmatrix}\\)</p> <p>\u7f6e\u6362\u9635 \\(P\\) \u6ee1\u8db3 \\(P^{-1}=P^{T}\\)</p>"},{"location":"BLOG/Math/linear/#4","title":"4 \u77e9\u9635\u7684\u8fd0\u7b97","text":""},{"location":"BLOG/Math/linear/#_18","title":"\u77e9\u9635\u4e58\u6cd5\u7684\u6027\u8d28","text":"<p>\u6ee1\u8db3\u7ed3\u5408\u5f8b, \u5de6\u5206\u914d\u5f8b, \u53f3\u5206\u914d\u5f8b</p> <p>\u77e9\u9635\u7684\u4e58\u6cd5\u4e00\u822c\u4e0d\u53ef\u4ea4\u6362, \u6d88\u53bb\u5f8b\u4e00\u822c\u4e5f\u4e0d\u6210\u7acb</p>"},{"location":"BLOG/Math/linear/#_19","title":"\u5206\u5757\u77e9\u9635","text":""},{"location":"BLOG/Math/linear/#_20","title":"\u77e9\u9635\u7684\u8f6c\u7f6e","text":"<ul> <li>\u82e5 \\(A^T=A\\) \u5219\u79f0 \\(A\\) \u662f\u4e00\u4e2a\u5bf9\u79f0\u77e9\u9635</li> <li>\u82e5 \\(A^T=-A\\) \u5219\u79f0 \\(A\\) \u662f\u4e00\u4e2a\u53cd\u5bf9\u79f0\u77e9\u9635</li> <li>\u82e5 \\(R\\) \u4e3a \\(m\\times n\\) \u77e9\u9635 (\u5b9e\u6570\u57df), \u5219 \\(RR^T\\) \u4e3a \\(m\\times n\\) \u5bf9\u79f0\u77e9\u9635, \u4e14\u5176\u5bf9\u89d2\u5143\u5747\u975e\u8d1f</li> </ul>"},{"location":"BLOG/Math/linear/#5","title":"5 \u77e9\u9635\u7684\u9006","text":""},{"location":"BLOG/Math/linear/#_21","title":"\u9006\u77e9\u9635","text":"<p>\u5bf9\u65b9\u9635 \\(A\\), \u82e5\u5b58\u5728\u77e9\u9635 \\(B\\), \u6ee1\u8db3 \\(AB=BA=I\\), \u5219\u79f0 \\(A\\) \u662f\u53ef\u9006\u7684. \u79f0 \\(B\\) \u662f \\(A\\) \u7684\u9006\u77e9\u9635, \u8bb0\u4f5c \\(A^{-1}\\).</p> <p>\u53ef\u9006\u77e9\u9635\u4e5f\u79f0\u4e3a\u975e\u5947\u5f02\u77e9\u9635, \u4e0d\u53ef\u9006\u77e9\u9635\u4e5f\u79f0\u4e3a\u5947\u5f02\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#_22","title":"\u6027\u8d28","text":"<ol> <li>\\(n\\) \u9636\u9635 \\(A\\) \u53ef\u9006\u7b49\u4ef7\u4e8e \\(A\\) \u6709 \\(n\\) \u4e2a\u4e3b\u5143</li> <li>\u65b9\u9635\u7684\u9006\u552f\u4e00</li> <li>\u82e5 \\(A\\) \u53ef\u9006, \u5219 \\(A\\vec x=\\vec b\\) \u6709\u552f\u4e00\u89e3 \\(\\vec x=A^{-1}\\vec b\\)</li> <li>\u82e5 \\(A\\vec x=\\vec 0\\) \u6709\u975e\u96f6\u89e3, \u5219 \\(A\\) \u4e0d\u53ef\u9006</li> <li>\u4e8c\u9636\u9635 \\(A=\\begin{pmatrix} a&amp;b \\\\ c&amp;d \\end{pmatrix}\\) \u53ef\u9006\u7b49\u4ef7\u4e8e \\(ad-bc\\neq0\\), \u4e14 \\(A^{-1}=\\frac{1}{ad-bc}\\begin{pmatrix} d&amp;-b \\\\ -c&amp;a \\end{pmatrix}\\)</li> <li>\u5bf9\u89d2\u9635\u53ef\u9006\u7b49\u4ef7\u4e8e\u5bf9\u89d2\u5143\u5747\u4e0d\u4e3a \\(0\\)</li> <li>\\((A^{-1})^{-1}=A\\)</li> <li>\\((AB)^{-1}=B^{-1}A^{-1}\\)</li> </ol>"},{"location":"BLOG/Math/linear/#6-lu","title":"6 LU \u5206\u89e3","text":"<p>\u5c06\u77e9\u9635\u5206\u89e3\u6210\u4e00\u4e2a\u4e0b\u4e09\u89d2\u77e9\u9635\u548c\u4e00\u4e2a\u4e0a\u4e09\u89d2\u77e9\u9635\u7684\u4e58\u79ef</p> <p>\\(EA=U, A=E^{-1}U=LU\\)</p> <p>\\(A=E^{-1}DU=LDU\\) \u5176\u4e2d \\(L\\) \u548c \\(U\\) \u7684\u5bf9\u89d2\u5143\u4e3a \\(1\\)</p>"},{"location":"BLOG/Math/linear/#lu","title":"LU \u5206\u89e3\u7684\u5b58\u5728\u6027\u548c\u552f\u4e00\u6027","text":"<p>\u8bbe\u53ef\u9006\u77e9\u9635 \\(A=(a_{ij})_{n\\times n}\\) \u7684\u987a\u5e8f\u4e3b\u5b50\u5f0f </p> <p>\\(A_k = (a_{ij})_{k\\times k}(k=1,\\cdots ,n)\\) </p> <p>\u5747\u4e3a\u53ef\u9006\u9635, \u5219 \\(A\\) \u6709 \\(LU\\) \u5206\u89e3. </p> <p>\u82e5 \\(l_{ii}=1, u_{ii}\\neq 0(1\\le i\\le n)\\), \u5219\u5206\u89e3\u552f\u4e00</p> <p>\u8bbe \\(A\\) \u662f\u4e00\u4e2a \\(n\\) \u9636\u53ef\u9006\u9635, \u5219\u5b58\u5728\u7f6e\u6362\u9635 \\(P\\) \u4f7f\u5f97 \\(PA=LU\\)</p>"},{"location":"BLOG/Math/linear/#ldlt","title":"\u5bf9\u79f0\u77e9\u9635\u7684 \\(LDL^T\\) \u5206\u89e3","text":""},{"location":"BLOG/Math/linear/#7","title":"7 \u5411\u91cf\u7a7a\u95f4","text":""},{"location":"BLOG/Math/linear/#_23","title":"\u5411\u91cf\u5b50\u7a7a\u95f4","text":"<p>\u8bbe \\(V\\) \u662f \\(\\mathbb R^n\\) \u7684\u975e\u7a7a\u5b50\u96c6, \u4e14 \\(V\\) \u5173\u4e8e\u5411\u91cf\u52a0\u6cd5\u548c\u6570\u4e58\u8fd0\u7b97\u5c01\u95ed (\\(\\forall \\alpha ,\\beta\\in V,\\forall c_1,c_2\\in \\mathbb R \\Longrightarrow c_1\\alpha+c_2\\beta\\in V\\)), \u5219\u79f0 \\(V\\) \u662f \\(\\mathbb R^n\\) \u7684\u4e00\u4e2a\u5411\u91cf\u5b50\u7a7a\u95f4</p>"},{"location":"BLOG/Math/linear/#_24","title":"\u63a8\u5e7f\u7684\u5411\u91cf\u7a7a\u95f4\u7684\u5b9a\u4e49","text":"<p>\u5728\u7531\u79f0\u4e3a\u201c\u5411\u91cf\u201d\u7684\u5143\u7d20\u6784\u6210\u7684\u975e\u7a7a\u96c6\u5408 \\(V\\) \u4e2d, \u82e5\u5b9a\u4e49\u4e86\u52a0\u6cd5\u548c\u6570\u4e58\u8fd0\u7b97, \u4e14\u5bf9\u4efb\u610f\u5411\u91cf \\(\\vec{a}, \\vec{b}, \\vec{c}\\) \u53ca\u6570\u57df \\(\\mathbb{F}\\), \\(k,l\\in \\mathbb{F}\\) \u6ee1\u8db3\u4ee5\u4e0b\u516b\u6761\u6027\u8d28:</p> <ol> <li>\\(\\vec a + \\vec b=\\vec b + \\vec a\\)</li> <li>\\(\\vec a + (\\vec b+\\vec c)=(\\vec a + \\vec b)+\\vec c\\)</li> <li>\u5b58\u5728\u96f6\u5411\u91cf \\(\\vec 0,\\ \\vec a+\\vec 0=\\vec a\\)</li> <li>\u5bf9\u4efb\u610f\u5411\u91cf \\(\\vec a\\), \u5b58\u5728\u552f\u4e00\u76f8\u53cd\u5411\u91cf \\(-\\vec a\\), \u4f7f\u5f97 \\(\\vec a+(-\\vec a)=\\vec 0\\)</li> <li>\\(1\\cdot \\vec a=\\vec a\\)</li> <li>\\((kl)\\vec a=k(l\\vec a)\\)</li> <li>\\(k(\\vec a+\\vec b)=k\\vec a+k\\vec b\\)</li> <li>\\((k+l)\\vec a=k\\vec a+l\\vec a\\)</li> </ol> <p>\u5219\u79f0 \\(V\\) \u4e3a\u5b9a\u4e49\u5728\u6570\u57df \\(\\mathbb{F}\\) \u4e0a\u7684\u5411\u91cf\u7a7a\u95f4</p>"},{"location":"BLOG/Math/linear/#_25","title":"\u5217\u7a7a\u95f4","text":"<p>\\(A\\) \u7684\u5217\u5411\u91cf\u6240\u6709\u7ebf\u6027\u7ec4\u5408\u6784\u6210\u7684\u7a7a\u95f4\u79f0\u4e3a \\(A\\) \u7684\u5217\u7a7a\u95f4, \u8bb0\u4f5c \\(C(A)\\)</p> <p>\\(C(A)=\\{c_1 \\vec \\alpha_1+ c_2 \\vec \\alpha_2+\\cdots+ c_n \\vec \\alpha_n | c_i\\in \\mathbb R\\}=\\{\\vec y\\in\\mathbb R^m | \\vec y=A \\vec x,\\vec x\\in \\mathbb R^n\\}\\)</p> <p>\\(A \\vec x=\\vec b\\) \u6709\u89e3 \\(\\iff \\vec b\\in C(A)\\)</p> <p>\u6c42\u5217\u7a7a\u95f4: \u5c06\u77e9\u9635\u5316\u4e3a\u9636\u68af\u5f62, \u9636\u68af\u5f62\u4e2d\u4e3b\u5143\u6240\u5728\u7684\u7684\u5217 / \u539f\u77e9\u9635\u4e2d\u4e3b\u5143\u6240\u5728\u7684\u5217\u7684\u7ebf\u6027\u7ec4\u5408\u5c31\u662f\u5217\u7a7a\u95f4</p>"},{"location":"BLOG/Math/linear/#_26","title":"\u96f6\u7a7a\u95f4","text":"<p>\\(N(A)=\\{\\vec x | A \\vec x= \\vec 0\\}\\subset \\mathbb R^n\\)</p> <p>\u6c42\u96f6\u7a7a\u95f4: \u5c06\u77e9\u9635\u5316\u4e3a\u9636\u68af\u5f62 / \u7b80\u5316\u884c\u9636\u68af\u5f62 (RREF), \u5c06\u4e3b\u5143\u6240\u5728\u7684\u5217\u5bf9\u5e94\u89e3 \\(\\vec x\\) \u4f4d\u7f6e\u7684\u6570\u5b57\u6807\u8bb0\u4e3a 1, \u901a\u8fc7 \\(A \\vec x=\\vec 0\\) \u786e\u5b9a \\(\\vec x\\) \u5176\u4ed6\u4f4d\u7f6e\u7684\u6570\u5b57\u5f97\u5230\u57fa\u7840\u89e3\u7cfb, \u8fdb\u884c\u7ec4\u5408\u5f97\u5230\u96f6\u7a7a\u95f4</p>"},{"location":"BLOG/Math/linear/#_27","title":"\u9636\u68af\u5f62","text":"<ol> <li>\\(A\\overset{\u884c\u53d8\u6362}{\\longrightarrow}U\\), \u5219 \\(N(A)=N(U)\\)</li> <li>\\(B \\vec x= \\vec 0\\Longrightarrow AB \\vec x= \\vec 0\\), \u8fd9\u8bf4\u660e \\(N(B)\\subset N(AB)\\)</li> <li>\\(C(AB)\\subset C(A)\\), \u5373 \\((AB)\\) \u7684\u6bcf\u4e00\u5217\u662f \\(A\\) \u7684\u5217\u5411\u91cf\u7684\u7ebf\u6027\u7ec4\u5408</li> <li>\u8bbe \\(A \\vec x=\\vec b\\) \u6709\u4e00\u4e2a\u89e3 $\\vec x^* $, \u5219 \\(A \\vec x=\\vec b\\) \u7684\u89e3\u96c6\u4e3a \\(\\vec x^*+N(A)\\)</li> </ol>"},{"location":"BLOG/Math/linear/#8","title":"8 \u6c42\u89e3\u9f50\u6b21\u7ebf\u6027\u65b9\u7a0b\u7ec4","text":""},{"location":"BLOG/Math/linear/#a-vec-xvec-0","title":"\\(A \\vec x=\\vec 0\\) \u7684\u57fa\u7840\u89e3\u7cfb","text":"<ol> <li>\u4e3b\u5143\u4e2a\u6570 = \u672a\u77e5\u91cf\u4e2a\u6570 (\\(A\\) \u7684\u5217\u6570)- \u81ea\u7531\u53d8\u91cf\u4e2a\u6570</li> <li>\u81ea\u7531\u53d8\u91cf\u4e2a\u6570 = \u57fa\u7840\u89e3\u7cfb\u4e2d\u5411\u91cf\u7684\u4e2a\u6570 = \u89e3\u96c6\u4e2d\u7ebf\u6027\u65e0\u5173\u89e3\u5411\u91cf\u53ef\u8fbe\u5230\u7684\u6700\u5927\u4e2a\u6570</li> <li>\u4e3b\u5143\u4e2a\u6570 = \\(A\\) \u7684\u5217\u5411\u91cf\u4e2d\u7ebf\u6027\u65e0\u5173\u5217\u5411\u91cf\u7684\u4e2a\u6570</li> </ol>"},{"location":"BLOG/Math/linear/#9","title":"9 \u6c42\u89e3\u975e\u9f50\u6b21\u7ebf\u6027\u65b9\u7a0b\u7ec4","text":""},{"location":"BLOG/Math/linear/#_28","title":"\u6781\u5927\u7ebf\u6027\u65e0\u5173\u7ec4","text":"<p>\u5411\u91cf\u7ec4\u7684\u6781\u5927\u7ebf\u6027\u65e0\u5173\u7ec4: \u4ece\u539f\u5411\u91cf\u7ec4\u4e2d\u9009\u51fa\u4e00\u90e8\u5206\u5411\u91cf\u6784\u6210\u7684\u7ebf\u6027\u65e0\u5173\u5411\u91cf\u7ec4, \u5e76\u4e14\u518d\u586b\u5165\u539f\u5411\u91cf\u7ec4\u4e2d\u7684\u4efb\u4e00\u5411\u91cf\u5c31\u7ebf\u6027\u76f8\u5173</p>"},{"location":"BLOG/Math/linear/#_29","title":"\u79e9","text":"<p>\u5411\u91cf\u7ec4\u7684\u79e9: \u5411\u91cf\u7ec4\u7684\u6781\u5927\u7ebf\u6027\u65e0\u5173\u7ec4\u4e2d\u5411\u91cf\u7684\u4e2a\u6570.</p> <p>\u5b9a\u7406: \u4e24\u7ec4\u5411\u91cf\u82e5\u80fd\u4e92\u76f8\u7ebf\u6027\u8868\u51fa, \u5219\u5b83\u4eec\u7684\u79e9\u76f8\u7b49</p> <p>\\(A\\) \u7684\u884c\u79e9 = \\(A\\) \u7684\u5217\u79e9 = \\(A\\) \u7684\u79e9</p>"},{"location":"BLOG/Math/linear/#vec-x","title":"\u6c42\u7279\u89e3 \\(\\vec x^*\\)","text":"<p>\u5c06\u77e9\u9635\u5316\u4e3a RREF \u540e\u4ee4\u81ea\u7531\u53d8\u91cf\u4e3a 0, \u89e3\u51fa\u4e3b\u5143\u5bf9\u5e94\u4f4d\u7f6e\u7684\u6570\u5b57\u5373\u53ef</p>"},{"location":"BLOG/Math/linear/#10","title":"10 \u65e0\u5173\u6027\u3001\u57fa\u4e0e\u7ef4\u6570","text":""},{"location":"BLOG/Math/linear/#_30","title":"\u57fa\u4e0e\u7ef4\u6570","text":"<p>\\(\\vec v_1, \\vec v_2, \\cdots , \\vec v_n\\in V\\) \u4e14 \\(\\vec v_1, \\vec v_2, \\cdots , \\vec v_n\\) \u7ebf\u6027\u65e0\u5173, \u4e14 \\(\\forall \\alpha\\in V,\\alpha\\) \u662f \\(\\vec v_1, \\vec v_2, \\cdots , \\vec v_n\\) \u7684\u7ebf\u6027\u7ec4\u5408, \u5219\u79f0 \\(\\{\\vec v_1, \\vec v_2, \\cdots , \\vec v_n\\}\\) \u662f \\(V\\) \u7684\u4e00\u7ec4\u57fa</p> <p>\u53ef\u9006\u77e9\u9635\u4e0e\u4e00\u7ec4\u57fa\u76f8\u4e58\u5f97\u5230\u7684\u8fd8\u662f\u4e00\u7ec4\u57fa</p>"},{"location":"BLOG/Math/linear/#_31","title":"\u5173\u4e8e\u79e9\u7684\u4e0d\u7b49\u5f0f","text":"<ul> <li>\\(r(AB)\\le \\min \\{r(A),r(B)\\}\\)</li> <li>\\(r(A)=r(A^T)\\)</li> <li>\\(r(A+B)\\le r(A)+r(B)\\)</li> </ul>"},{"location":"BLOG/Math/linear/#11","title":"11 \u56db\u4e2a\u57fa\u672c\u5b50\u7a7a\u95f4\u7684\u57fa\u4e0e\u7ef4\u6570","text":""},{"location":"BLOG/Math/linear/#_32","title":"\u56db\u4e2a\u57fa\u672c\u5b50\u7a7a\u95f4","text":"<ul> <li>\u5217\u7a7a\u95f4 \\(C(A)=\\{\\vec y\\in\\mathbb R^m | \\vec y=A \\vec x,\\vec x\\in \\mathbb R^n\\}\\)</li> <li>\u884c\u7a7a\u95f4 \\(C(A^T)=\\{\\vec y\\in\\mathbb R^n | \\vec y=A^T \\vec x,\\vec x\\in \\mathbb R^m\\}\\)</li> <li>\u96f6\u7a7a\u95f4 \\(N(A)=\\{\\vec x \\in \\mathbb R^n| A \\vec x= \\vec 0\\}\\)</li> <li> <p>\u5de6\u96f6\u7a7a\u95f4 \\(N(A^T)=\\{\\vec x \\in \\mathbb R^m| A^T \\vec x= \\vec 0\\}\\)</p> </li> <li> <p>\\(C(A)\\) \u548c \\(N(A^T)\\) \u662f \\(\\mathbb R^m\\) \u7684\u5b50\u7a7a\u95f4</p> </li> <li>\\(C(A^T)\\) \u548c \\(N(A)\\) \u662f \\(\\mathbb R^m\\) \u7684\u5b50\u7a7a\u95f4</li> </ul>"},{"location":"BLOG/Math/linear/#_33","title":"\u5b50\u7a7a\u95f4\u7684\u57fa\u548c\u7ef4\u6570","text":"<p>\\(RREF\\) \u4e2d\u4e3b\u5143\u6240\u5728\u7684\u5217 / \u5bf9\u5e94\u539f\u77e9\u9635\u4e2d\u7684\u5217\u662f \\(C(A)\\) \u7684\u4e00\u7ec4\u57fa</p> <p>\u7528 \"\u4e0a\u9762\u884c\u7684\u500d\u6570\u52a0\u5230\u4e0b\u9762\u884c\" \u5316 \\(A\\) \u4e3a\u9636\u68af\u5f62 (\u5ffd\u7565\u4e2d\u95f4\u7684\u5168\u96f6\u884c), \u9636\u68af\u5f62\u975e\u96f6\u884c\u6807\u53f7\u5bf9\u5e94 \\(A\\) \u7684\u884c\u5373\u4e3a \\(C(A^T)\\) \u7684\u4e00\u7ec4\u57fa</p> <ul> <li>\\(A\\) \u7684\u57fa\u7840\u89e3\u7cfb\u6784\u6210 \\(N(A)\\) \u7684\u4e00\u7ec4\u57fa</li> <li> <p>\\(A^T\\) \u7684\u57fa\u7840\u89e3\u7cfb\u6784\u6210 \\(N(A^T)\\) \u7684\u4e00\u7ec4\u57fa</p> </li> <li> <p>\\(dim(C(A))=dim(C(A^T))=r\\)</p> </li> <li>\\(dim(N(A))=n-r\\)</li> <li>\\(dim(N(A^T))=m-r\\)</li> </ul>"},{"location":"BLOG/Math/linear/#_34","title":"\u7ef4\u6570\u516c\u5f0f","text":"<p>\\(dim W_1+dim W_2=dim(W_1 \\cap W_2)+dim(W_1+W_2)\\)</p>"},{"location":"BLOG/Math/linear/#12","title":"12 \u56db\u4e2a\u57fa\u672c\u5b50\u7a7a\u95f4\u7684\u6b63\u4ea4\u6027","text":"<ul> <li>\\(C(A^T)\\perp N(A), C(A^T)+ N(A)=\\mathbb R^n\\)</li> <li>\\(C(A)\\perp N(A^T), C(A)+ N(A^T)=\\mathbb R^m\\)</li> </ul>"},{"location":"BLOG/Math/linear/#a-vec-xvec-b-cat","title":"\\(A \\vec x=\\vec b\\) \u5728 \\(C(A^T)\\) \u4e2d\u89e3\u7684\u552f\u4e00\u6027","text":"<p>\u5b9a\u7406: \u82e5 \\(A \\vec x=\\vec b\\) \u6709\u89e3, \u5219 \\(A \\vec x=\\vec b\\) \u5728 \\(C(A^T)\\) \u4e2d\u6709\u552f\u4e00\u89e3</p>"},{"location":"BLOG/Math/linear/#13","title":"13 \u6295\u5f71","text":""},{"location":"BLOG/Math/linear/#_35","title":"\u5f15\u8a00","text":"<p>\u82e5 \\(A \\vec x=\\vec b\\) \u65e0\u89e3, \u80fd\u591f\u627e\u5230 \\(\\hat{\\vec x}\\in \\mathbb R^n\\), \u4f7f\u5f97 \\(\\left \\| A \\hat{\\vec x}-\\vec b \\right \\|\\) \u6700\u5c0f</p> <p>\u76f4\u89c2\u4e0a,\\(A \\vec x=\\vec b\\) \u65e0\u89e3 \\(\\iff \\vec  b\\notin C(A)\\). \u4e0a\u8ff0\u95ee\u9898\u610f\u5473\u7740\u6c42 \\(C(A)\\) \u4e0a\u8ddd\u79bb \\(\\vec b\\) \u6700\u8fd1\u7684\u70b9 \\(A\\hat{\\vec x}\\), \u5b83\u662f \\(\\vec b\\) \u5728 \\(C(A)\\) \u4e0a\u7684\u6295\u5f71\u70b9</p>"},{"location":"BLOG/Math/linear/#_36","title":"\u6295\u5f71\u77e9\u9635","text":"<p>\u70b9 \\(v\\) \u5728\u5e73\u9762 \\(\\pi=C(A)\\) \u4e0a\u7684\u6295\u5f71 \\(p\\):</p> <p>\u6295\u5f71 \\(\\vec p=A\\hat{\\vec x}\\in C(A)\\Longrightarrow \\vec v- \\vec p=\\vec e\\perp C(A) \\Longrightarrow A^T(\\vec v-A\\hat{\\vec x})=\\vec 0\\)</p> <p>\\(\\Longrightarrow \\hat{\\vec x}\\) \u662f \\(A^TA \\vec x=A^T \\vec v\\) \u7684\u89e3</p> <p>\u82e5 \\(A\\) \u5217\u6ee1\u79e9,\\(A^TA\\) \u662f\u53ef\u9006\u9635 \\(\\Longrightarrow \\hat{\\vec x}=(A^TA)^{-1}A^T \\vec v, \\vec p=A(A^TA)^{-1}A^T \\vec v\\)</p> <p>\u5c06 \\(P=A(A^TA)^{-1}A^T\\) \u79f0\u4e3a\u6295\u5f71\u77e9\u9635</p> <p>\u82e5 \\(A^TA\\) \u53ef\u9006, \u6295\u5f71\u9635 \\(P=A(A^TA)^{-1}A^T\\) \u6ee1\u8db3 \\(P^2=P,P^T=P\\)</p> <p>\u4e00\u822c\u7684, \u4e00\u4e2a\u77e9\u9635 \\(P\\) \u6ee1\u8db3 \\(P^2=P, P^T=P\\), \u5219\u79f0 \\(P\\) \u4e3a\u6295\u5f71\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#14","title":"14 \u6700\u5c0f\u4e8c\u4e58\u6cd5","text":"<p>\u82e5 \\(A \\vec x=\\vec b\\) \u65e0\u89e3, \u5c06 \\(A^TA\\hat{\\vec x}=A^T \\vec b\\) \u79f0\u4e3a\u6b63\u89c4\u65b9\u7a0b\u7ec4. \u89e3\u51fa \\(\\hat{\\vec x}\\), \u5f97\u5230 \\(\\vec b\\) \u5728 C(A) \u4e0a\u7684\u6295\u5f71 \\(\\vec p=A\\hat{\\vec x}\\)</p>"},{"location":"BLOG/Math/linear/#15-gram-schmidt","title":"15 Gram-Schmidt \u6b63\u4ea4\u5316","text":"<p>\u76ee\u6807: \u7ed9\u5b9a \\(V\\in \\mathbb R^n\\) \u4e3a\u4e00\u4e2a\u5b50\u7a7a\u95f4,\\(\\vec v_1,\\vec v_2,\\cdots ,\\vec v_k\\) \u662f \\(V\\) \u7684\u4e00\u7ec4\u57fa, \u628a\u5b83\u4eec\u5316\u6210\u4e00\u7ec4\u6b63\u4ea4\u7684\u5411\u91cf \\(\\vec w_1,\\vec w_2,\\cdots ,\\vec w_k\\), \u6ee1\u8db3: 1. \\({\\vec w_i}^T\\vec w_j=0,i\\neq j\\) 2. \\(L(\\vec v_1,\\vec v_2,\\cdots ,\\vec v_t)=L(\\vec w_1,\\vec w_2,\\cdots ,\\vec w_t),1\\le t\\le k\\),\\(L(\\vec v_1,\\vec v_2,\\cdots ,\\vec v_t)\\) \u8868\u793a \\(\\vec v_1,\\vec v_2,\\cdots ,\\vec v_t\\) \u751f\u6210\u7684 \\(V\\) \u7684\u5b50\u7a7a\u95f4</p>"},{"location":"BLOG/Math/linear/#_37","title":"\u6b63\u4ea4\u5316\u8fc7\u7a0b","text":"\\[ \\vec w_1=\\vec v_1 \\\\ \\vec w_2=\\vec v_2-\\frac{{\\vec w_1}^T \\vec v_2}{{\\vec w_1}^T \\vec w_1}\\vec w_1 \\\\ \\vec w_3=\\vec v_3-\\frac{{\\vec w_1}^T \\vec v_3}{{\\vec w_1}^T \\vec w_1}\\vec w_1-\\frac{{\\vec w_2}^T \\vec v_3}{{\\vec w_2}^T \\vec w_2}\\vec w_2 \\] <p>\u518d\u8fdb\u884c\u5355\u4f4d\u5316 \\(\\vec q_i=\\frac{\\vec w_i}{\\left \\| \\vec w_i \\right \\|}\\)</p>"},{"location":"BLOG/Math/linear/#qr","title":"QR \u5206\u89e3","text":"<p>\u4e3e\u4f8b:</p> \\[ A=(\\vec v_1,\\vec v_2, \\vec v_3)=\\begin{pmatrix}1&amp;1&amp;0 \\\\ 1&amp;0&amp;1 \\\\ 0&amp;1&amp;1 \\end{pmatrix} \\] \\[ A=QR=\\begin{pmatrix} \\frac{1}{\\sqrt 2}&amp;\\frac{1}{\\sqrt 6}&amp;-\\frac{1}{\\sqrt 3} \\\\ \\frac{1}{\\sqrt 2}&amp;-\\frac{1}{\\sqrt 6}&amp;\\frac{1}{\\sqrt 3}\\\\0&amp;\\frac{2}{\\sqrt 6}&amp;\\frac{1}{\\sqrt 3} \\end{pmatrix}\\begin{pmatrix} \\frac{2}{\\sqrt 2}&amp;\\frac{1}{\\sqrt 2}&amp;\\frac{1}{\\sqrt 2} \\\\ 0&amp;\\frac{3}{\\sqrt 6}&amp;\\frac{1}{\\sqrt 6}\\\\0&amp;0&amp;\\frac{2}{\\sqrt 3} \\end{pmatrix} \\] <p>\\(R\\) \u662f\u5bf9\u89d2\u5143\u4e3a\u6b63\u6570\u7684\u4e0a\u4e09\u89d2\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#16","title":"16 \u884c\u5217\u5f0f\u7684\u57fa\u672c\u6027\u8d28","text":""},{"location":"BLOG/Math/linear/#_38","title":"\u884c\u5217\u5f0f\u7684\u51e0\u4f55\u610f\u4e49","text":"<ul> <li>\u4e8c\u9636\u884c\u5217\u5f0f\u7684\u51e0\u4f55\u610f\u4e49: \u5e73\u9762\u56db\u8fb9\u5f62\u7684\u201c\u6709\u5411\u201d\u9762\u79ef</li> <li>\u4e09\u9636\u884c\u5217\u5f0f\u7684\u51e0\u4f55\u610f\u4e49: \u5e73\u884c\u516d\u9762\u4f53\u7684\u201c\u6709\u5411\u201d\u4f53\u79ef</li> </ul>"},{"location":"BLOG/Math/linear/#_39","title":"\u884c\u5217\u5f0f\u6027\u8d28","text":"<ol> <li>\u5355\u4f4d\u9635\u884c\u5217\u5f0f\u4e3a \\(1\\)</li> <li>\u7ed9\u4e00\u884c\u4e58 \\(c\\), \u884c\u5217\u5f0f\u503c\u4e58 \\(c\\)</li> <li>\u4e00\u884c\u5143\u7d20\u53ef\u4ee5\u62c6\u4e3a\u4e24\u6570\u4e4b\u548c\u8fdb\u800c\u5206\u4e3a\u4e24\u4e2a\u77e9\u9635</li> <li>\u4ea4\u6362\u4efb\u610f\u4e24\u884c\u884c\u5217\u5f0f\u503c\u53d6\u53cd</li> <li>\u884c\u5217\u4e92\u6362\u884c\u5217\u5f0f\u503c\u4e0d\u53d8</li> </ol> <p>\u63a8\u8bba: 1. \u4e24\u884c\u6210\u6bd4\u4f8b, \u884c\u5217\u5f0f\u503c\u4e3a \\(0\\) 2. \u5c06\u4e00\u884c\u7684\u500d\u6570\u52a0\u5230\u53e6\u4e00\u884c, \u884c\u5217\u5f0f\u503c\u4e0d\u53d8</p>"},{"location":"BLOG/Math/linear/#_40","title":"\u884c\u5217\u5f0f\u4e0e\u521d\u7b49\u53d8\u6362","text":"<ol> <li>\u884c\u5217\u5f0f\u4e0d\u4e3a\u96f6\u7b49\u4ef7\u4e8e\u77e9\u9635\u53ef\u9006</li> <li>\u4e24 \\(n\\) \u9636\u65b9\u9635\u4e58\u79ef\u7684\u884c\u5217\u5f0f = \u5404\u81ea\u884c\u5217\u5f0f\u7684\u4e58\u79ef</li> </ol>"},{"location":"BLOG/Math/linear/#17","title":"17 \u884c\u5217\u5f0f\u7684\u8ba1\u7b97","text":"<p>\\(M_{ij}\\) \u662f \\(A\\) \u5212\u53bb\u7b2c \\(i\\) \u884c\u7b2c \\(j\\) \u5217\u5f97\u5230\u7684 \\(n-1\\) \u9636\u77e9\u9635 </p> <p>\u4f59\u5b50\u5f0f: \\(\\det M_{ij}\\)</p> <p>\u4ee3\u6570\u4f59\u5b50\u5f0f: \\(C_{ij}=(-1)^{i+j}\\det M_{ij}\\)</p>"},{"location":"BLOG/Math/linear/#_41","title":"\u884c\u5217\u5f0f\u5c55\u5f00\u5b9a\u7406","text":"\\[ \\det A=|{a_{ij}}|_ {n\\times n}=a_ {i1}C_ {i1}+a_{i2}C_{i2}+\\cdots+a_{in}C_{in},\\forall i,j=1,\\cdots,n \\]"},{"location":"BLOG/Math/linear/#_42","title":"\u5178\u578b\u8ba1\u7b97\u65b9\u6cd5","text":"<p>\u5316\u4e3a\u4e0a\u4e09\u89d2\u6216\u4e0b\u4e09\u89d2, \u8ba1\u7b97\u5bf9\u89d2\u5143\u4e58\u79ef\u5373\u4e3a\u884c\u5217\u5f0f\u503c</p> <p>\u901a\u8fc7\u884c\u5217\u5f0f\u5c55\u5f00\u5b9a\u7406\u5c55\u5f00\u8fdb\u884c\u4e0d\u65ad\u964d\u9636\u540e\u8ba1\u7b97\u884c\u5217\u5f0f\u503c</p>"},{"location":"BLOG/Math/linear/#n","title":"n \u9636\u8303\u5fb7\u8499\u5fb7\u884c\u5217\u5f0f","text":"\\[  D_{n}=\\left|\\begin{array}{ccccc} 1 &amp; 1 &amp; 1 &amp; \\cdots &amp; 1 \\\\ x_{1} &amp; x_{2} &amp; x_{3} &amp; \\cdots &amp; x_{n} \\\\ x_{1}^{2} &amp; x_{2}^{2} &amp; x_{3}^{2} &amp; \\cdots &amp; x_{n}^{2} \\\\ \\vdots &amp; \\vdots &amp; \\vdots &amp; \\ddots &amp; \\vdots \\\\ x_{1}^{n-1} &amp; x_{2}^{n-1} &amp; x_{3}^{n-1} &amp; \\cdots &amp; x_{n}^{n-1} \\end{array}\\right|=\\prod_{1 \\leq i&lt;j \\leq n}\\left(x_{j}-x_{i}\\right) \\]"},{"location":"BLOG/Math/linear/#18-cramer","title":"18 Cramer \u6cd5\u5219\u53ca\u884c\u5217\u5f0f\u7684\u51e0\u4f55\u610f\u4e49","text":""},{"location":"BLOG/Math/linear/#_43","title":"\u4ee3\u6570\u4f59\u5b50\u5f0f\u7684\u91cd\u8981\u6027\u8d28","text":"\\[ \\sum_{k=1}^{n}a_{ik}C_{jk}=\\left\\{\\begin{array}{c} D,i=j \\\\ 0,i\\neq j \\end{array} \\right. \\]"},{"location":"BLOG/Math/linear/#_44","title":"\u4f34\u968f\u77e9\u9635","text":"<p>\u4e0b\u9762\u7684\u77e9\u9635\u79f0\u4e3a \\(A\\) \u7684\u4f34\u968f\u77e9\u9635</p> \\[ A^*=adj(A)=\\left(\\begin{array}{cccc} C_{11} &amp; C_{21} &amp; \\cdots &amp; C_{n 1} \\\\ C_{12} &amp; C_{22} &amp; \\cdots &amp; C_{n 2} \\\\ \\vdots &amp; \\vdots &amp; &amp; \\vdots \\\\ C_{1 n} &amp; C_{2 n} &amp; \\cdots &amp; C_{n n} \\end{array}\\right) \\] <p>\\((A^*)^T\\):\\(A\\) \u7684\u4ee3\u6570\u4f59\u5b50\u5f0f\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#_45","title":"\u6c42\u9006\u77e9\u9635\u516c\u5f0f","text":"<p>\\(A^{-1}=\\frac{adj(A)}{|A|}\\)</p>"},{"location":"BLOG/Math/linear/#_46","title":"\u7ebf\u6027\u65b9\u7a0b\u7ec4\u7684\u516c\u5f0f\u89e3","text":"<p>\u4e00\u822c\u5730, \u82e5\u4e0d\u4f7f\u7528\u884c\u5217\u5f0f,\\(A\\) \u53ef\u9006\u65f6,\\(A \\vec x=\\vec b\\) \u89e3\u7684\u8868\u8fbe\u5f0f\u5c06\u975e\u5e38\u590d\u6742.</p> <p>\u5b9a\u7406 (Cramer's Rule): \u8bbe \\(A\\) \u662f \\(n\\) \u9636\u53ef\u9006\u9635,\\(\\vec b \\in \\mathbb{R}^{n}\\), \u4ee4 \\(B_{k}\\) \u662f\u5c06 \\(A\\) \u7684 \u7b2c \\(k\\) \u5217\u6362\u6210\u5411\u91cf \\(\\vec b\\) \u540e\u6240\u5f97\u7684\u77e9\u9635. \u5219 \\(A \\vec {x}=\\vec {b}\\) \u7684\u552f\u4e00\u89e3\u4e3a</p> \\[ \\vec {x}=\\left(x_{1}, \\cdots, x_{n}\\right)^{T}, \\quad x_{1}=\\frac{\\operatorname{det}\\left(B_{1}\\right)}{\\operatorname{det} A}, \\cdots, x_{n}=\\frac{\\operatorname{det}\\left(B_{n}\\right)}{\\operatorname{det} A} \\]"},{"location":"BLOG/Math/linear/#_47","title":"\u5411\u91cf\u7684\u53c9\u79ef / \u5916\u79ef","text":"<p>\\(\\vec u=\\begin{pmatrix}u_1\\\\u_2\\\\u_3\\end{pmatrix},\\vec v=\\begin{pmatrix}v_1\\\\v_2\\\\v_3\\end{pmatrix}\\),\\(\\vec u\\times \\vec v\\) \u662f\u4e0e \\(\\vec u\\) \u548c \\(\\vec v\\) \u90fd\u5782\u76f4\u4e14\u6210\u53f3\u624b\u5173\u7cfb\u7684\u5411\u91cf</p> <p>\u6709 \\(\\vec u\\times \\vec v=-\\vec v\\times \\vec u\\)</p> <p>\\((\\vec u_1+\\vec u_2)\\times \\vec v=\\vec u_1\\times \\vec v+\\vec u_2\\times \\vec v\\)</p>"},{"location":"BLOG/Math/linear/#_48","title":"\u6df7\u5408\u79ef","text":"<p>\u6df7\u5408\u79ef \\(\\vec u\\times \\vec v\\cdot \\vec w\\) , \u51e0\u4f55\u4e0a\u8868\u793a\u4e09\u5411\u91cf\u7ec4\u6210\u7684\u5e73\u884c\u516d\u9762\u4f53\u7684\u6709\u5411\u4f53\u79ef.</p> <p>\u6027\u8d28: \\(\\vec u\\times \\vec v\\cdot \\vec w=\\vec v\\times \\vec w\\cdot \\vec u=\\vec w\\times \\vec u\\cdot \\vec v\\)</p> <p>\u5b9a\u7406: \\(\\vec u\\times \\vec v\\cdot \\vec w=\\det (\\vec u,\\vec v,\\vec w)\\)</p>"},{"location":"BLOG/Math/linear/#19","title":"19 \u7279\u5f81\u503c\u548c\u7279\u5f81\u5411\u91cf","text":""},{"location":"BLOG/Math/linear/#_49","title":"\u7279\u5f81\u503c","text":"<p>\u5bf9 \\(A\\), \u82e5\u5b58\u5728\u6570 \\(\\lambda\\) \u548c\u975e\u96f6\u5411\u91cf \\(\\vec x\\), \u6ee1\u8db3 \\(A \\vec x=\\lambda \\vec x\\), \u5219\u79f0 \\(\\lambda\\) \u4e3a \\(A\\) \u7684\u7279\u5f81\u503c,\\(\\vec x\\) \u4e3a \\(A\\) \u7684\u5c5e\u4e8e\u7279\u5f81\u503c \\(\\lambda\\) \u7684\u7279\u5f81\u5411\u91cf\u6570 \\(\\lambda\\) \u4e3a\u65b9\u9635 \\(A\\) \u7684\u7279\u5f81\u503c \\(\\iff \\det (A-\\lambda I)=0\\)</p> <p>\\(\\det (A-\\lambda I)=0\\) \u662f\u5173\u4e8e \\(\\lambda\\) \u7684\u591a\u9879\u5f0f, \u6c42\u89e3\u591a\u9879\u5f0f\u5f97\u5230 \\(\\lambda\\), \u4e4b\u540e\u5c06\u89e3\u51fa\u7684 \\(\\lambda\\) \u5206\u522b\u5e26\u56de \\((A-\\lambda I)\\vec x=\\vec 0\\) \u5373\u53ef\u89e3\u51fa\u7279\u5f81\u503c\u5bf9\u5e94\u7684\u7279\u5f81\u5411\u91cf</p> <p>\u4e3e\u4f8b: \u6295\u5f71\u77e9\u9635\u7684\u7279\u5f81\u503c\u662f \\(0\\) \u548c \\(1\\)</p>"},{"location":"BLOG/Math/linear/#_50","title":"\u7279\u5f81\u503c\u7684\u6027\u8d28","text":"<p>\\(\\sum_{i=1}^{n}\\lambda_i=tr(A)=\\sum_{i=1}^{n}a_{ii}\\)</p> <p>\\(\\prod_{i=1}^n=\\det A\\)</p>"},{"location":"BLOG/Math/linear/#20","title":"20 \u77e9\u9635\u7684\u5bf9\u89d2\u5316","text":"<p>\u8bbe \\(n\\times n\\) \u77e9\u9635 \\(A\\) \u6709 \\(n\\) \u4e2a\u7ebf\u6027\u65e0\u5173\u7684\u7279\u5f81\u5411\u91cf \\(\\vec x_1 ,\\vec x_2,\\cdots, \\vec x_n, A \\vec x_i=\\lambda_i \\vec x_i\\), \u4ee4 \\(S=(\\vec x_1 ,\\vec x_2,\\cdots, \\vec x_n)\\), \u5219 \\(S^{-1}AS\\) \u662f\u4e00\u4e2a\u5bf9\u89d2\u77e9\u9635 \\(\\Lambda\\), \u5176\u5bf9\u89d2\u5143\u7d20\u662f \\(A\\) \u7684\u7279\u5f81\u503c \\(\\(S^{-1}AS=\\Lambda=\\begin{pmatrix}\\lambda_1&amp; &amp; \\\\ &amp; \\ddots&amp; \\\\ &amp; &amp;\\lambda_n\\end{pmatrix}\\)\\)</p> <p>\u82e5\u5b58\u5728\u53ef\u9006\u77e9\u9635 \\(S\\), \u4f7f\u5f97 \\(S^{-1}AS\\) \u4e3a\u5bf9\u89d2\u77e9\u9635, \u5219\u79f0\u77e9\u9635 \\(A\\) \u662f\u53ef\u5bf9\u89d2\u5316\u7684</p> <p>\\(n\\times n\\) \u77e9\u9635 \\(A\\) \u53ef\u5bf9\u89d2\u5316\u7684\u5145\u8981\u6761\u4ef6\u662f \\(A\\) \u6709 \\(n\\) \u4e2a\u7ebf\u6027\u65e0\u5173\u7684\u7279\u5f81\u5411\u91cf \\(\\vec x_1 ,\\vec x_2,\\cdots, \\vec x_n, A \\vec x_i=\\lambda_i \\vec x_i\\)</p> <p>\u5b9a\u7406:</p> <p>\u8bbe \\(\\vec \\lambda_1 ,\\vec \\lambda_2,\\cdots, \\vec \\lambda_k\\) \u662f \\(A\\) \u7684\u4e92\u5f02\u7279\u5f81\u503c,\\(\\vec x_1 ,\\vec x_2,\\cdots, \\vec x_k\\) \u662f\u76f8\u5e94\u7279\u5f81\u5411\u91cf, \u5219 \\(\\vec x_1 ,\\vec x_2,\\cdots, \\vec x_k\\) \u7ebf\u6027\u65e0\u5173</p> <p>\u63a8\u8bba:</p> <p>\u5177\u6709 \\(n\\) \u4e2a\u4e24\u4e24\u4e92\u5f02\u7279\u5f81\u503c\u7684 \\(n\\times n\\) \u77e9\u9635\u53ef\u4ee5\u5bf9\u89d2\u5316</p>"},{"location":"BLOG/Math/linear/#_51","title":"\u7279\u5f81\u503c\u7684\u4ee3\u6570\u91cd\u6570\u548c\u51e0\u4f55\u91cd\u6570","text":"<p>\u5b9a\u4e49: \u8bbe \\(\\operatorname{det}(A-\\lambda I)=\\left(\\lambda_{1}-\\lambda\\right)^{n_{1}} \\cdots\\left(\\lambda_{k}-\\lambda\\right)^{n_{k}}\\), \u5176\u4e2d \\(\\lambda_{i} \\neq \\lambda_{j}(i \\neq j)\\). \u79f0 \\(n_{i}\\) \u4e3a\u7279\u5f81\u503c \\(\\lambda_{i}\\) \u7684\u4ee3\u6570\u91cd\u6570, \u8bb0\u4f5c \\(AM\\left(\\lambda_{i}\\right)=n_{i}\\). \u79f0 \\(\\operatorname{dim} N\\left(A-\\lambda_{i} I\\right)\\) \u4e3a\u7279\u5f81\u503c \\(\\lambda_{i}\\) \u7684\u51e0\u4f55\u91cd\u6570, \u8bb0\u4f5c \\(G M\\left(\\lambda_{i}\\right)=\\operatorname{dim} N\\left(A-\\lambda_{i} I\\right)\\)</p> <p>\\(G M\\left(\\lambda_{i}\\right)\\le AM\\left(\\lambda_{i}\\right)\\)</p> <p>\u5b9a\u7406: \u590d\u65b9\u9635 \\(A\\) \u53ef\u5bf9\u89d2\u5316 \\(\\iff\\) \u5bf9\u4efb\u610f\u7279\u5f81\u503c \\(\\lambda_i\\) ,\\(G M\\left(\\lambda_{i}\\right)= AM\\left(\\lambda_{i}\\right)\\)</p>"},{"location":"BLOG/Math/linear/#_52","title":"\u5bf9\u89d2\u5316\u7684\u5e94\u7528","text":"<p>\u5feb\u901f\u8ba1\u7b97 \\(A^k\\)</p>"},{"location":"BLOG/Math/linear/#22","title":"22 \u5b9e\u5bf9\u9635\u77e9\u9635","text":"<ul> <li>\u5b9a\u7406: \u5b9e\u5bf9\u79f0\u77e9\u9635\u7684\u7279\u5f81\u503c\u90fd\u662f\u5b9e\u6570</li> <li>\u5b9a\u7406: \u4efb\u4f55\u5b9e\u5bf9\u79f0\u77e9\u9635\u90fd\u6b63\u4ea4\u76f8\u4f3c\u4e8e\u5bf9\u89d2\u9635, \u5373\u5bf9\u5b9e\u5bf9\u79f0\u9635 \\(A\\), \u5b58\u5728\u6b63\u4ea4\u9635 \\(Q\\), \u4f7f \\(Q^TAQ\\) \u4e3a\u5bf9\u89d2\u9635</li> </ul>"},{"location":"BLOG/Math/linear/#1_1","title":"1 \u6b63\u5b9a\u77e9\u9635","text":"<p>\u7279\u5f81\u503c\u5168\u662f\u6b63\u6570\u7684\u5b9e\u5bf9\u79f0\u77e9\u9635\u79f0\u4e3a\u6b63\u5b9a\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#a","title":"\u5b9e\u5bf9\u79f0\u77e9\u9635 A \u6b63\u5b9a\u7684\u5145\u8981\u6761\u4ef6","text":"<ol> <li>\\(A\\) \u7684\u6240\u6709\u7279\u5f81\u503c\u5747\u4e3a\u6b63</li> <li>\\({\\vec x}^TA \\vec x&gt;0\\) \u5bf9\u6240\u6709\u975e\u96f6\u5b9e\u5411\u91cf \\(\\vec x\\) \u6210\u7acb</li> <li>\\(A\\) \u7684\u6240\u6709\u987a\u5e8f\u4e3b\u5b50\u5f0f\u90fd\u662f\u6b63\u7684</li> <li>(\u53ea\u505a\u4e0a\u9762\u884c\u7684\u500d\u6570\u52a0\u5230\u4e0b\u9762\u884c) \\(n\\) \u9636\u9635 \\(A\\) \u6709 \\(n\\) \u4e2a\u4e3b\u5143\u90fd\u662f\u6b63\u7684</li> <li>\u5b58\u5728\u5217\u6ee1\u79e9\u77e9\u9635 \\(R\\), \u4f7f\u5f97 \\(A=R^TR\\)</li> <li>\\(A\\) \u7684\u6240\u6709\u4e3b\u5b50\u5f0f\u90fd\u662f\u6b63\u7684</li> </ol> <p>\u5728 \\(n\\) \u9636\u884c\u5217\u5f0f\u4e2d\u4efb\u9009 \\(k\\) \u884c: \u7b2c \\(i_1,i_2,\\cdots,i_k\\) \u884c, \u518d\u53d6\u76f8\u5e94\u7684\u7b2c \\(i_1,i_2,\\cdots,i_k\\) \u5217. \u7531\u4e0a\u8ff0\u9009\u53d6\u7684 \\(k\\) \u884c \\(k\\) \u5217\u4ea4\u6c47\u5904\u5143\u7d20\u7ec4\u6210\u7684\u65b0\u77e9\u9635\u79f0 \u4e3a \\(k\\) \u9636\u4e3b\u5b50\u9635; \u4e3b\u5b50\u9635\u7684\u884c\u5217\u5f0f, \u79f0\u4e3a \\(n\\) \u9636\u884c\u5217\u5f0f\u7684\u4e00\u4e2a \\(k\\) \u9636\u4e3b\u5b50\u5f0f. \u5728 \\(n\\) \u9636\u884c\u5217\u5f0f\u4e2d\u7531\u7b2c \\(1,\\cdots,k\\) \u884c\u548c\u7b2c \\(1,\\cdots,k\\) \u5217\u6240\u786e\u5b9a\u7684\u4e3b\u5b50\u5f0f\u79f0\u4e3a \\(k\\) \u9636\u987a\u5e8f\u4e3b\u5b50\u5f0f.</p>"},{"location":"BLOG/Math/linear/#_53","title":"\u534a\u6b63\u5b9a\u77e9\u9635","text":"<p>\u82e5\u5b9e\u5bf9\u79f0\u77e9\u9635 \\(A\\) \u7684\u7279\u5f81\u503c\u5747\u975e\u8d1f\uff0c\u90a3\u4e48\u79f0 \\(A\\) \u4e3a\u534a\u6b63\u5b9a\u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#_54","title":"\u534a\u6b63\u5b9a\u77e9\u9635\u7684\u5224\u522b\u6761\u4ef6","text":"<ol> <li>\\(A\\) \u7684\u6240\u6709\u7279\u5f81\u503c \\(\\lambda_i\\) \u5747\u975e\u8d1f</li> <li>\\({\\vec x}^TA \\vec x\u22650\\) \u5bf9\u6240\u6709\u5b9e\u5411\u91cf \\(\\vec x\\) \u6210\u7acb.</li> <li>\u5b58\u5728\u77e9\u9635 \\(R\\), \u4f7f\u5f97 \\(A=R^TR\\) (\\(R\\) \u53ef\u80fd\u662f\u4e0d\u53ef\u9006\u9635)</li> <li>A \u7684\u6240\u6709\u4e3b\u5b50\u5f0f\u5747\u975e\u8d1f</li> </ol>"},{"location":"BLOG/Math/linear/#_55","title":"\u4e8c\u6b21\u578b","text":"<p>\u5bf9 \\(n\\) \u7ef4\u5b9e\u5411\u91cf \\(\\vec x \\in \\mathbb R ^{n}\\) \u53ca n \u9636\u5b9e\u77e9\u9635 A, \u79f0\u6570\u503c\u51fd\u6570</p> \\[ f(\\mathbf{x})=\\mathbf{x}^{T} A \\mathbf{x}=\\mathbf{x}^{T}\\left(a_{i j}\\right)_ {n \\times n} \\mathbf{x}=\\sum_ {i=1}^{n} \\sum_{j=1}^{n} a_{i j} x_{i} x_{j} \\] <p>\u4e3a\u4e00\u4e2a (\u5b9e) \u4e8c\u6b21\u578b, \u5b83\u662f\u5173\u4e8e \\(x_1,\\cdots,x_n\\) \u7684\u4e8c\u6b21\u9f50\u6b21\u591a\u9879\u5f0f</p>"},{"location":"BLOG/Math/linear/#_56","title":"\u4e3b\u8f74\u5b9a\u7406","text":"<p>\u8bbe \\(A\\) \u662f\u4e00\u4e2a \\(n\\) \u9636\u5b9e\u5bf9\u79f0\u77e9\u9635, \u5219\u5b58\u5728\u6b63\u4ea4\u53d8\u91cf\u4ee3\u6362 \\(\\mathbf x = Q\\mathbf y\\), \u4f7f\u5f97\u4e8c\u6b21\u578b</p> \\[ \\mathbf{x}^{T} A \\mathbf{x}=\\mathbf{y}^{T} \\Lambda \\mathbf{y}=\\sum_{i=1}^{n} \\lambda_{i} y_{i}^{2} \\] <p>\u53d8\u4e3a\u5bf9\u89d2\u5f62\u7684\u4e8c\u6b21\u578b, \u5176\u4e2d \\(Q^{T} A Q=\\Lambda=\\operatorname{diag}\\left(\\lambda_{1}, \\cdots, \\lambda_{n}\\right)\\), \\(\\lambda_{1}, \\cdots, \\lambda_{n}\\) \u4e3a \\(A\\) \u7684\u6240\u6709\u7279\u5f81\u503c.</p>"},{"location":"BLOG/Math/linear/#_57","title":"\u4e8c\u6b21\u578b\u7684\u5206\u7c7b","text":"<p>\u4e00\u4e2a\u4e8c\u6b21\u578b \\(f(\\mathbf{x})=\\mathbf{x}^{T} A \\mathbf{x}\\) \u662f: * \u6b63\u5b9a\u7684, \u82e5\u5bf9\u6240\u6709 \\(\\mathbf{x} \\neq \\mathbf{0}\\), \u6709 \\(f(\\mathbf{x})&gt;0\\) \\(\\iff A\\) \u7684\u6240\u6709\u7279\u5f81\u503c\u90fd\u662f\u6b63\u6570 * \u8d1f\u5b9a\u7684, \u82e5\u5bf9\u6240\u6709 \\(\\mathbf{x} \\neq \\mathbf{0}\\), \u6709 \\(f(\\mathbf{x})&lt;0\\) \\(\\iff A\\) \u7684\u6240\u6709\u7279\u5f81\u503c\u90fd\u662f\u8d1f\u6570 * \u4e0d\u5b9a\u7684, \u82e5 \\(f(\\mathbf{x})\\) \u65e2\u6709\u6b63\u503c, \u53c8\u6709\u8d1f\u503c \\(\\iff A\\) \u65e2\u6709\u6b63\u7279\u5f81\u503c, \u53c8\u6709\u8d1f\u7279\u5f81\u503c * \u534a\u6b63\u5b9a\u7684, \u82e5\u5bf9\u6240\u6709 \\(\\mathbf x\\), \u6709 \\(f(\\mathbf{x}) \\geq 0\\) * \u534a\u8d1f\u5b9a\u7684, \u82e5\u5bf9\u6240\u6709 \\(\\mathbf x\\), \u6709 \\(f(\\mathbf{x}) \\leq 0\\)</p>"},{"location":"BLOG/Math/linear/#_58","title":"\u77e9\u9635\u7684\u5408\u540c","text":"<p>\u4e24\u4e2a \\(n\\) \u9636\u77e9\u9635 \\(A\\),\\(B\\), \u82e5\u5b58\u5728 \\(n\\) \u9636\u53ef\u9006\u77e9\u9635 \\(C\\), \u4f7f\u5f97 \\(C^{T} A C=B\\), \u5219\u79f0\u77e9\u9635 \\(A\\) \u4e0e \\(B\\) \u5408\u540c, \u8bb0\u4e3a \\(A\\cong B\\) </p> <p>\u4e3b\u8f74\u5b9a\u7406\u53ef\u8868\u8ff0\u4e3a: \u4efb\u4f55\u5b9e\u5bf9\u79f0\u77e9\u9635\u90fd\u6b63\u4ea4\u5408\u540c\u4e8e\u5bf9\u89d2\u9635</p>"},{"location":"BLOG/Math/linear/#3_1","title":"3 \u5947\u5f02\u503c\u5206\u89e3","text":"<p>\u5f15\u8a00: \u5982\u4f55\u201c\u5bf9\u89d2\u5316\u201d\\(m\\times n\\) \u77e9\u9635</p>"},{"location":"BLOG/Math/linear/#_59","title":"\u5947\u5f02\u503c\u5206\u89e3","text":"<p>\u8bbe \\(A\\) \u662f\u4e00\u4e2a \\(m\\times n\\) \u77e9\u9635, \u5219\u5b58\u5728 \\(m\\) \u9636\u6b63\u4ea4\u77e9\u9635 \\(U\\) \u548c \\(n\\) \u9636\u6b63\u4ea4\u77e9\u9635 \\(V\\), \u6ee1\u8db3:</p> \\[ A=U\\begin{pmatrix}\\sigma_1&amp;&amp;&amp;\\\\&amp;\\ddots&amp;&amp;\\\\&amp;&amp;\\sigma_2&amp;\\\\&amp;&amp;&amp;\\vec 0\\end{pmatrix}V^T=U\\Sigma V^T \\] <p>\u5176\u4e2d \\(r=rank(A)\\). \u4e60\u60ef\u4e0a, \u53d6 \\(\\sigma_1\u2265\\sigma_2\u2265\\cdots\u2265\\sigma_r\u22650\\), \u79f0 \\(\\sigma_1, \\sigma_2 ,\\cdots,\\sigma_r\\) \u4e3a\u5947\u5f02\u503c, \u79f0 \\(U\\) \u548c \\(V\\) \u7684\u524d \\(r\\) \u5217\u5411\u91cf\u4e3a\u5947\u5f02\u5411\u91cf. \u8fd9\u4e2a\u5206\u89e3\u79f0\u4e3a\u5947\u5f02\u503c\u5206\u89e3, \u7b80\u79f0 \\(SVD\\).</p> <p>\u6709 \\(A \\vec v_i=\\sigma_i \\vec u_i\\),\\(A^T \\vec u_i=\\sigma_i \\vec v_i\\)</p> <p>\u6709 \\(A^T A \\vec v_i={\\sigma_i}^2 \\vec v_i\\)</p> <p>\\(\\vec u_i=\\frac{A \\vec v_i}{\\sigma_i}\\)</p> <ul> <li>\\(\\{\\vec u_1, \\cdots, \\vec u_r\\}\\) \u4e3a \\(C(A)\\) \u7684\u4e00\u7ec4\u5355\u4f4d\u6b63\u4ea4\u57fa</li> <li>\\(\\{\\vec v_1, \\cdots, \\vec v_r\\}\\) \u4e3a \\(C(A^T)\\) \u7684\u4e00\u7ec4\u5355\u4f4d\u6b63\u4ea4\u57fa</li> </ul>"},{"location":"BLOG/Math/linear/#_60","title":"\u5947\u5f02\u503c\u5206\u89e3\u7684\u5e94\u7528","text":"<p>\u8bbe \\(A=U\\Sigma V^T\\) \u662f \\(m\\times n\\) \u5b9e\u77e9\u9635 \\(A\\) \u7684\u5947\u5f02\u503c\u5206\u89e3\uff0c\\(r=r(A)\\), \u5219</p> <ul> <li>\u6b63\u4ea4\u77e9\u9635 \\(U\\) \u7684\u524d \\(r\\) \u5217\u662f \\(C(A)\\) \u7684\u4e00\u7ec4\u6807\u51c6\u6b63\u4ea4\u57fa;</li> <li>\u6b63\u4ea4\u77e9\u9635 \\(U\\) \u7684\u540e \\((m-r)\\) \u5217\u662f \\(N(A^T)\\) \u7684\u4e00\u7ec4\u6807\u51c6\u6b63\u4ea4\u57fa;</li> <li>\u6b63\u4ea4\u77e9\u9635 \\(V\\) \u7684\u524d \\(r\\) \u5217\u662f \\(C(A^T)\\) \u7684\u4e00\u7ec4\u6807\u51c6\u6b63\u4ea4\u57fa;</li> <li>\u6b63\u4ea4\u77e9\u9635 \\(V\\) \u7684\u540e \\((n-r)\\) \u5217\u662f \\(N(A)\\) \u7684\u4e00\u7ec4\u6807\u51c6\u6b63\u4ea4\u57fa.</li> </ul>"},{"location":"BLOG/Math/linear/#4-i","title":"4 \u7ebf\u6027\u53d8\u6362 I","text":"<p>\u8bbe \\(V,W\\) \u662f\u6570\u57df \\(\\mathbb F\\) \u4e0a\u7684\u5411\u91cf\u7a7a\u95f4,\\(V\\) \u5230 \\(W\\) \u7684\u6620\u5c04 \\(T:V\\to W\\) \u82e5\u4fdd\u6301\u52a0\u6cd5\u548c\u6570\u4e58\u8ba1\u7b97, \u5373 \\(T(\\vec x+ \\vec y)=T(\\vec x)+T(\\vec y),\\ T(k \\vec x)=kT(\\vec x), \\ \\forall \\vec x,\\vec y\\in V,\\ \\forall k\\in \\mathbb F\\), \u5219\u79f0 \\(T:V\\to W\\) \u662f\u4e00\u4e2a\u7ebf\u6027\u53d8\u6362</p> <p>\u5411\u91cf\u7a7a\u95f4 \\(V\\) \u5230 \\(W\\) \u7684\u5168\u4f53\u7ebf\u6027\u53d8\u6362\u6784\u6210\u4e00\u4e2a\u5411\u91cf\u7a7a\u95f4, \u8bb0\u4e3a \\(\\mathcal L (V,W)\\)</p>"},{"location":"BLOG/Math/linear/#_61","title":"\u7ebf\u6027\u53d8\u6362\u7684\u4e58\u79ef","text":"<p>\u5b9a\u4e49: \u8bbe \\(\\tau \\in \\mathcal{L}(U, V), \\sigma \\in \\mathcal{L}(V, W) .\\) \u5b9a\u4e49\u7ebf\u6027\u53d8\u6362\u7684\u4e58\u79ef \\(\\sigma \\tau: U \\rightarrow W\\) \u4e3a:</p> \\[  (\\sigma \\tau)(\\mathbf{u})=\\sigma(\\tau(\\mathbf{u})), \\quad \\forall \\mathbf{u} \\in U \\] <p>\u76f4\u63a5\u9a8c\u8bc1\u5f97 \\(\\sigma \\tau \\in \\mathcal{L}(U, W)\\)</p>"},{"location":"BLOG/Math/linear/#_62","title":"\u7ebf\u6027\u53d8\u6362\u7684\u9006","text":"<p>\u8bbe \\(\\tau \\in \\mathcal{L}(V, V)\\), \u82e5\u5b58\u5728 \\(\\tau \\in \\mathcal{L}(V, V)\\) \u4f7f\u5f97 \\(\\sigma \\tau=\\tau \\sigma=I\\), \u5219\u79f0 \\(\\sigma\\) \u662f\u53ef\u9006\u7ebf\u6027\u53d8\u6362, \\(\\tau\\) \u4e3a \\(\\sigma\\) \u7684\u9006\u53d8\u6362</p>"},{"location":"BLOG/Math/linear/#_63","title":"\u7ebf\u6027\u53d8\u6362\u7684\u77e9\u9635\u8868\u793a","text":"\\[ T\\left(\\mathbf{v}_ {1}, \\ldots, \\mathbf{v}_ {n}\\right)=\\left(T\\left(\\mathbf{v}_ {1}\\right), \\ldots, T\\left(\\mathbf{v}_ {n}\\right)\\right)=\\left(\\mathbf{w}_ {1}, \\ldots, \\mathbf{w}_ {m}\\right)\\left(\\begin{array}{cccc}a_{11} &amp; a_{12} &amp; \\cdots &amp; a_{1 n} \\\\ a_{21} &amp; a_{22} &amp; \\cdots &amp; a_{2 n} \\\\ \\vdots &amp; \\vdots &amp; &amp; \\vdots \\\\ a_{m 1} &amp; a_{m 2} &amp; \\cdots &amp; a_{m n}\\end{array}\\right) \\] <p>\u79f0 \\(m\\times n\\) \u77e9\u9635 \\(A\\) \u4e3a\u7ebf\u6027\u53d8\u6362 \\(T\\) \u5728 \\(V\\) \u4e2d\u7ed9\u5b9a\u57fa \\(\\vec v_1,\\cdots ,\\vec v_n\\) \u548c W \u4e2d\u7ed9\u5b9a\u57fa \\(\\vec w_1,\\cdots ,\\vec w_m\\) \u4e0b\u7684\u77e9\u9635\u8868\u793a</p> <p>\u6ce8: \\(A\\) \u4e2d\u7b2c \\(j\\) \u5217\u6070\u662f \\(T(\\vec v_j)\\) \u5728\u57fa \\(\\vec w_1,\\cdots ,\\vec w_m\\) \u4e0b\u7684\u5750\u6807 '</p> <p>\u5b9a\u7406: \u8bbe \\(\\vec v_1,\\cdots ,\\vec v_n\\) \u662f \\(n\\) \u7ef4\u7a7a\u95f4 \\(V\\) \u7684\u4e00\u7ec4\u57fa,\\(\\vec w_1,\\cdots ,\\vec w_m\\) \u662f \\(m\\) \u7ef4\u5411\u91cf\u7a7a\u95f4 \\(W\\) \u7684\u4e00\u7ec4\u57fa,\\(A\\) \u662f\u4efb\u4e00 \\(m\\times n\\) \u77e9\u9635, \u5219\u6709\u552f\u4e00\u7684\u7ebf\u6027\u53d8\u6362 \\(\\sigma\\) \u6ee1\u8db3:\\(\\sigma (\\vec v_1,\\cdots ,\\vec v_n)=(\\vec w_1,\\cdots ,\\vec w_m)A\\)</p>"},{"location":"BLOG/Math/linear/#5-ii","title":"5 \u7ebf\u6027\u53d8\u6362 II","text":"<p>\u6052\u540c\u53d8\u6362: \u5bf9\u5e94\u77e9\u9635 \\(I_n\\)</p> <ul> <li>\u6709\u7ebf\u6027\u53d8\u6362 \\(\\sigma:V\\to W\\)</li> <li>\u7ebf\u6027\u53d8\u6362\u7684\u6838:\\(\\ker \\sigma=\\{\\vec v\\in V | \\sigma (\\vec v)=\\vec 0\\}\\)</li> <li> <p>\u7ebf\u6027\u53d8\u6362\u7684\u50cf (\u503c\u57df):\\(\\operatorname{Im} \\sigma = \\{\\sigma ( \\vec v)|\\vec v\\in V\\}\\)</p> </li> <li> <p>\\(\\dim (\\ker \\sigma)\\) \u79f0\u4e3a\u7ebf\u6027\u53d8\u6362 \\(\\sigma\\) \u7684\u96f6\u5ea6</p> </li> <li>\\(\\dim (\\operatorname{Im} \\sigma)\\) \u79f0\u4e3a\u7ebf\u6027\u53d8\u6362 \\(\\sigma\\) \u7684\u79e9</li> </ul>"},{"location":"BLOG/Math/max-pr/","title":"\u6700\u5927\u4f3c\u7136\u4f30\u8ba1","text":"<p>\u770b\u5b8c\u8fd9\u4e2a\u89c6\u9891\u5c31\u61c2\u4e86 \u4e0b\u9762\u6574\u7406\u4e00\u4e0b https://www.bilibili.com/video/BV1Hb4y1m7rE</p>"},{"location":"BLOG/Math/max-pr/#_2","title":"\u5c0f\u7403\u62bd\u53d6","text":"<p>\u5047\u8bbe\u6709\u4e00\u4e2a\u8d85\u7ea7\u5927\u7684\u76d2\u5b50\u91cc\u9762\u88c5\u7740\u8d85\u7ea7\u591a\u7684\u7403\uff0c\u7403\u6709\u4e24\u79cd\u989c\u8272\uff0c\u9ed1\u8272\u548c\u767d\u8272\u3002\u62bd\u53d6\u4e94\u6b21\u540e\uff0c\u5f97\u5230\u7684\u7ed3\u679c\u4e3a3\u9ed12\u767d\u3002\u4f30\u8ba1\u76d2\u4e2d\u9ed1\u767d\u7403\u6240\u5360\u6bd4\u4f8b\u3002</p> <p>\u8bbe\u9ed1\u7403\u6bd4\u4f8b\u4e3a \\(\\theta\\) \u5219\u767d\u7403\u6bd4\u4f8b\u4e3a \\(1-\\theta\\)</p> <p>\u5728\u4efb\u610f\u62bd\u53d6\u4e94\u6b21\u7684\u60c5\u51b5\u4e0b\uff0c\u5f97\u52303\u9ed12\u767d\u7684\u6982\u7387\u4e3a \\(p = \\theta^3 (1-\\theta)^2\\)</p> <p>\u56e0\u4e3a\u5b9e\u9645\u62bd\u53d6\u4e94\u6b21\u5f97\u5230\u4e863\u9ed12\u767d\u7684\u7ed3\u679c\uff0c\u4e5f\u5373\u8be5\u4e8b\u4ef6\u53d1\u751f\uff0c\u56e0\u6b64\u6211\u4eec\u63a8\u6d4b \\(p\\) \u7684\u503c\u6700\u5927</p> <p>\\(p\\) \u5173\u4e8e \\(\\theta\\) \u6c42\u5bfc\uff0c\u4ee4\u7ed3\u679c\u7b49\u4e8e\\(0\\) \u5f97\u5230 \\(\\hat{\\theta} = \\frac{3}{5}\\)</p> <p>\u8fd9\u4e9b\u6b65\u9aa4\u4e2d\u7684\u6838\u5fc3\u662f \u8ba9\u73b0\u5b9e\u4e2d\u5b9e\u9645\u53d1\u751f\u7684\u4e8b\u4ef6\u7684\u6982\u7387\u6700\u5927 \u4e5f\u5c31\u662f\u8ba9\\(p\\)\u53d6\u6700\u5927\u503c</p>"},{"location":"BLOG/Math/sympy-det/","title":"sympy \u5e93\u8ba1\u7b97\u77e9\u9635\u884c\u5217\u5f0f","text":"<p>220502</p>"},{"location":"BLOG/Math/sympy-det/#_1","title":"\u7ebf\u6027\u4ee3\u6570\u80cc\u666f","text":"<p>\u8ba1\u7b97\u884c\u5217\u5f0f\u7684\u7279\u5f81\u503c\u662f\u4e00\u4ef6\u5f88\u7b80\u5355\u7684\u4e8b\u60c5\uff0c\u76f4\u63a5\u7528\u5b9a\u4e49\u90fd\u53ef\u4ee5\u8ba1\u7b97\uff1a</p> <p>\\(M_{ij}\\) \u662f \\(A\\) \u5212\u53bb\u7b2c \\(i\\) \u884c\u7b2c \\(j\\) \u5217\u5f97\u5230\u7684 \\(n-1\\) \u9636\u77e9\u9635 </p> <p>\u4f59\u5b50\u5f0f: \\(\\det M_{ij}\\)</p> <p>\u4ee3\u6570\u4f59\u5b50\u5f0f: \\(C_{ij}=(-1)^{i+j}\\det M_{ij}\\)</p> <p>\u884c\u5217\u5f0f\u5c55\u5f00\u5b9a\u7406</p> \\[ \\det A=|{a_{ij}}|_ {n\\times n}=a_ {i1}C_ {i1}+a_{i2}C_{i2}+\\cdots+a_{in}C_{in},\\forall i,j=1,\\cdots,n \\] <p>\u8fd9\u6837\u8ba1\u7b97\u7684\u65b9\u5f0f\u4e2d\u53ea\u6709\u4e58\u6cd5\u548c\u52a0\u6cd5</p>"},{"location":"BLOG/Math/sympy-det/#sympy_1","title":"sympy\u8ba1\u7b97","text":"<p>\u4f7f\u7528Python\u7b2c\u4e09\u65b9\u5e93\u8ba1\u7b97\u5f53\u7136\u4e5f\u662f\u6700\u7b80\u5355\u4e0d\u8fc7\u7684\u5566</p> <pre><code>from sympy import *\n\nM = Matrix([[1, 0, 0], [0, 1, 2], [0, 3, 4]])\nprint(M.det()) # -2\n</code></pre> <p>\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u5b9a\u4e49\u4e00\u4e9b\u7b26\u53f7\u6765\u505a\u7b26\u53f7\u8fd0\u7b97</p> <pre><code>from sympy import *\n\na, b, c, d = symbols(\"a,b,c,d\")\nM = [[1, 0, 0], [0, a, b], [0, c, d]]\nprint(Matrix(M).det())  # a*d - b*c\n</code></pre>"},{"location":"BLOG/Math/sympy-det/#_2","title":"\u51fa\u73b0\u7684\u95ee\u9898","text":"<p>\u4e0b\u9762\u662f\u6211\u5728\u56fa\u4f53\u7269\u7406\u8bfe\u7a0b\u4e2d\u8ba1\u7b97\u80fd\u5e26\u65f6\u5217\u51fa\u7684\u5f0f\u5b50\uff1a</p> <pre><code>&gt;&gt;&gt; print(M) \n[[3.23e-17 - E, 2.50e-20, 1.06e-20], \n[2.50e-20, 3.18e-20 - E, 2.50e-20],\n[1.00e-20, 2.50e-20, 3.23e-17 - E]]\n&gt;&gt;&gt; eq = Matrix(M).det()\n-E**3 + 6.47e-17*E**2 - 1.04e-33*E + 3.32e-53\n</code></pre> <p>\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u662f\u4e09\u9636\u7684\u60c5\u51b5\uff0c\u8ba1\u7b97\u7684\u884c\u5217\u5f0f\u65e0\u8bef\u3002\u4f46\u662f\u5f53\u8fbe\u5230\u56db\u9636\u7684\u65f6\u5019\uff0c\u610f\u60f3\u4e0d\u5230\u7684\u4e8b\u60c5\u53d1\u751f\u4e86</p> <pre><code>&gt;&gt;&gt; print(M) \n[[3.23e-17 - E, 2.50e-20, 1.06e-20, 0], \n[2.50e-20, 3.18e-20 - E, 2.50e-20, 1.06e-20],\n[1.06e-20, 2.50e-20, 3.23e-17 - E, 2.50e-20],\n[0, 1.06e-20, 2.50e-20, 1.29e-16 - E]]\n&gt;&gt;&gt; eq = Matrix(M).det()\n(1.00*E**8 - 2.91e-16*E**7 + 3.13e-32*E**6 - 1.69e-48*E**5 + 4.92e-65*E**4 - 7.45e-82*E**3 + 4.61e-99*E**2 - 2.91e-118*E + 4.62e-138)/(1.0*E**4 - 9.70e-17*E**3 + 3.14e-33*E**2 - 3.39e-50*E + 1.07e-69)\n</code></pre> <p>\u4f60\u53ef\u4ee5\u770b\u5230\uff0c\u5f53M\u4e3a\u56db\u9636\u7684\u65f6\u5019\uff0cM\u7684\u7ed3\u6784\u548c\u4e09\u9636\u65f6\u662f\u4e00\u6837\u7684\uff0c\u53ef\u662f\u884c\u5217\u5f0f\u7b97\u51fa\u6765\u5374\u6709\u5206\u6bcd\uff1f\u76f4\u63a5\u5c55\u5f00\u6765\u601d\u8003\uff0c\u80af\u5b9a\u662f\u4e00\u4e2a\u56db\u9636\u591a\u9879\u5f0f\u554a\u3002\u867d\u7136\u6b21\u6570\u597d\u50cf\u6ca1\u95ee\u9898\uff0c\u4f46\u8fd9\u8ba9\u4eba\u532a\u5937\u6240\u601d\u3002</p> <p>\u5728\u6211\u7684\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u8ba1\u7b97\u597d\u884c\u5217\u5f0f\u4e4b\u540e\u4e0b\u9762\u9700\u8981\u4ee4\u884c\u5217\u5f0f\u7b49\u4e8e0\u89e3\u51faE\uff1a\u5bf9\u4e8e\u4e09\u9636\u7684\u60c5\u51b5\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u4e09\u9636\u591a\u9879\u5f0f\uff1b\u4f46\u662f\u5bf9\u4e8e\u56db\u9636\u7684\u60c5\u51b5\uff0c\u8fd9\u53ef\u80fd\u76f4\u63a5\u53d8\u6210\u4e86\u516b\u9636\u591a\u9879\u5f0f\u2026\u2026\u6211\u5b9e\u9645\u8ba1\u7b97\u7684\u662f\u4e94\u9636\u7684\u60c5\u51b5\uff0c\u751a\u81f3\u51fa\u4e86\u5341\u4e03\u9636\u591a\u9879\u5f0f\u3002</p>"},{"location":"BLOG/Math/sympy-det/#_3","title":"\u8c03\u67e5","text":"<p>\u4e0aSO\u641c\u4e86\u4e00\u4e0b\uff0c\u4e5f\u6709\u4eba\u51fa\u73b0\u8fc7\u76f8\u4f3c\u7684\u95ee\u9898\uff0c\u4e3b\u9898\u662f<code>\u5173\u4e8esympy\u8ba1\u7b97\u7b26\u53f7\u884c\u5217\u5f0f</code></p> <p>Speeding up computation of symbolic determinant in SymPy</p> <p>\u5728\u8fd9\u7bc7\u95ee\u7b54\u4e2d\uff0c\u6709\u4eba\u63d0\u5230</p> <p>It looks like Matrix.det is calling a simplification function. For matrices 3x3 and smaller, the determinant formula is written out explicitly, but for larger matrices, it is computed using the Bareis algorithm. -- https://stackoverflow.com/a/37056325/14298786</p> <p>\u7b80\u5355\u6765\u8bf4 \u5c31\u662fsmypy\u5bf9\u4e8e\u9ad8\u9636\u7b26\u53f7\u8fd0\u7b97\u4f7f\u7528 Bareis\u7b97\u6cd5 \u8fd9\u4e2a\u7b97\u6cd5\u4e2d\u7528\u5230\u4e86\u9664\u6cd5\u3002</p> <p>\u4e3a\u4ec0\u4e48\u8981\u7528\u5462\uff1f\u590d\u6742\u5ea6\u4f4e\u5457\uff08\u8be6\u89c1Bareis\u7b97\u6cd5\uff09\u3002\u5f53\u7136\u662f\u597d\u4e8b\u60c5 \u4f46\u662f\u5bf9\u6211\u6765\u8bf4\u5c31\u662f\u5927\u9ebb\u70e6\u3002</p>"},{"location":"BLOG/Math/sympy-det/#_4","title":"\u89e3\u51b3\u65b9\u6848","text":"<p>\u67e5\u770bsympy\u6587\u6863</p> <pre><code>(method) det: (method: str = \"bareiss\", iszerofunc: Any | None = None) -&gt; Any\n\nmethod:\nIf it is set to 'bareiss', Bareiss\u2019 fraction-free algorithm will be used.\nIf it is set to 'berkowitz', Berkowitz\u2019 algorithm will be used.\nOtherwise, if it is set to 'lu', LU decomposition will be used.\n</code></pre> <p>\u6362Samuelson\u2013Berkowitz\u7b97\u6cd5\u8bd5\u4e00\u4e0b\uff1a</p> <p>..., it performs no divisions, so may be applied to a wider range of algebraic structures.</p> <pre><code>&gt;&gt;&gt; print(M)\n[[3.23e-17 - E, 2.50e-20, 1.06e-20, 0], \n[2.50e-20, 3.18e-20 - E, 2.50e-20, 1.06e-20],\n[1.06e-20, 2.50e-20, 3.23e-17 - E, 2.50e-20],\n[0, 1.06e-20, 2.50e-20, 1.29e-16 - E]]\n&gt;&gt;&gt; eq = Matrix(M).det(method='berkowitz')\n1.0*E**4 - 1.93e-16*E**3 + 9.41e-33*E**2 - 1.35e-49*E + 4.29e-69\n</code></pre> <p>\u597d\u4e86\uff0c\u8fd9\u6837\u95ee\u9898\u5c31\u89e3\u51b3\u4e86\uff0c\u7701\u53bb\u4e86\u6211\u624b\u5199\u56db\u9636\u5c55\u5f00\u5f0f\u7684\u65f6\u95f4\u3002</p>"},{"location":"BLOG/Math/taylor/","title":"\u5e38\u7528\u6cf0\u52d2\u7ea7\u6570","text":"<p>\\(\\begin{aligned} \\frac{1}{1-x} &amp;=1+x+x^{2}+x^{3}+x^{4}+\\cdots \\\\ &amp;=1+\\sum_{k=1}^{\\infty} x^{k} \\end{aligned}\\)</p> <p>\\(\\begin{aligned}(1+x)^{\\alpha}=1+\\sum_{k=1}^{\\infty}\\left(\\begin{array}{l}\\alpha \\\\ k\\end{array}\\right)  x^{k},\\ \\left(\\begin{array}{l}\\alpha \\\\ k\\end{array}\\right)=\\frac{\\alpha(\\alpha-1) \\cdots(\\alpha-k+1)}{k !}\\end{aligned}\\)</p> <p>\\(\\begin{aligned} e^{x} &amp;=1+x+\\frac{x^{2}}{2 !}+\\frac{x^{3}}{3 !}+\\frac{x^{4}}{4 !}+\\cdots \\\\ &amp;=1+\\sum_{k=1}^{\\infty} \\frac{x^{k}}{k !} \\end{aligned}\\)</p> <p>\\(\\begin{aligned} \\ln (1+x) &amp;=x-\\frac{x^{2}}{2}+\\frac{x^{3}}{3}-\\frac{x^{4}}{4}+\\frac{x^{5}}{5}-\\cdots \\\\ &amp;=\\sum_{k=1}^{\\infty}(-1)^{k-1} \\frac{x^{k}}{k} \\end{aligned}\\)</p> <p>\\(\\begin{aligned} \\cos x &amp;=1-\\frac{x^{2}}{2 !}+\\frac{x^{4}}{4 !}-\\frac{x^{6}}{6 !}+\\frac{x^{8}}{8 !}-\\cdots \\\\ &amp;=1+\\sum_{k=1}^{\\infty}(-1)^{k} \\frac{x^{2 k}}{(2 k) !} \\end{aligned}\\)</p> <p>\\(\\begin{aligned} \\sin x &amp;=x-\\frac{x^{3}}{3 !}+\\frac{x^{5}}{5 !}-\\frac{x^{7}}{7 !}+\\frac{x^{9}}{9 !}-\\cdots \\\\ &amp;=\\sum_{k=1}^{\\infty}(-1)^{(k-1)} \\frac{x^{2k-1}}{(2k-1) !} \\end{aligned}\\)</p> <p>\\(\\begin{aligned} \\tan ^{-1} x &amp;=x-\\frac{x^{3}}{3}+\\frac{x^{5}}{5}-\\frac{x^{7}}{7}+\\frac{x^{9}}{9}-\\cdots \\\\ &amp;=\\sum_{k=1}^{\\infty}(-1)^{k-1} \\frac{x^{2k-1}}{2k-1} \\end{aligned}\\)</p>"},{"location":"BLOG/Network/learning/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc \u603b\u7ed3","text":"<p>2021\u5e74\u79cb\u5b63\u5b66\u671f \u8ba1\u7b97\u673a\u7f51\u7edc \u674e\u98ce\u534e \u6e05\u534e\u5927\u5b66</p> <p>\u65e097 \u6768\u5e0c\u6770 \u603b\u7ed3\u7b14\u8bb0</p>"},{"location":"BLOG/Network/learning/#_2","title":"\u6388\u8bfe\u601d\u8def","text":"<ul> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u53d1\u5c55\u5386\u53f2\u548c\u57fa\u672c\u6982\u5ff5(2\u8bfe\u65f6)</li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784(3\u8bfe\u65f6)</li> <li>\u7269\u7406\u5c42\u6280\u672f(2\u8bfe\u65f6)</li> <li>\u6570\u636e\u94fe\u8def\u5c42\u6280\u672f(6\u8bfe\u65f6)</li> <li>\u7f51\u7edc\u5c42\u6280\u672f(7\u8bfe\u65f6)</li> <li>\u4f20\u8f93\u5c42\u6280\u672f(4\u8bfe\u65f6)</li> <li>\u5e94\u7528\u5c42\u6280\u672f(4\u8bfe\u65f6)</li> </ul>"},{"location":"BLOG/Network/learning/#1","title":"1 \u6982\u8bba","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\uff1a</p> <ul> <li>A computer network is a collection of autonomous computers, interconnected by communication channels.</li> <li>\u81ea\u6cbb\u7684\u8ba1\u7b97\u673a\u901a\u8fc7\u901a\u4fe1\u4fe1\u9053\u4e92\u8fde\u8d77\u6765\u7684\u96c6\u5408\u4f53<ul> <li>\u81ea\u6cbb (Autonomous)</li> <li>\u4e92\u8fde (Interconnected)</li> <li>\u96c6\u5408\u4f53 (Collection)</li> </ul> </li> </ul> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u5206\u7c7b\uff1a</p> <p>\uff08\u57fa\u4e8e\u7a7a\u95f4\u8ddd\u79bb\uff09\u5c40\u57df\u7f51 LAN\u3001\u57ce\u57df\u7f51 MAN\u3001\u5e7f\u57df\u7f51 WAN\u3001\u4e2a\u57df\u7f51 PAN</p> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u7ec4\u6210\uff1a</p> <ul> <li>\u76f4\u89c2\u89d2\u5ea6<ul> <li>\u8282\u70b9\uff08\u7528\u6237\u4e3b\u673a\u3001\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\uff09</li> <li>\u901a\u4fe1\u94fe\u8def\uff08\u53cc\u7ede\u7ebf\u3001\u5149\u7ea4\u3001\u65e0\u7ebf\u4fe1\u9053\uff09</li> </ul> </li> <li>\u903b\u8f91\u89d2\u5ea6<ul> <li>\u901a\u4fe1\u5b50\u7f51\uff08\u901a\u4fe1\u94fe\u8def\u3001\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\uff09</li> <li>\u8d44\u6e90\u5b50\u7f51\uff08\u7528\u6237\u4e3b\u673a\u3001\u670d\u52a1\u5668\uff09</li> </ul> </li> </ul> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u901a\u4fe1\uff1a</p> <p>\u5206\u7ec4\u7684\u4f20\u9012</p> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u57fa\u672c\u901a\u4fe1\u65b9\u5f0f\uff1a</p> <ul> <li>\u5e7f\u64ad\u5f0f\u901a\u4fe1</li> <li>\u4ea4\u6362\u5f0f\u901a\u4fe1\uff08\u7b80\u5355\u3001\u7075\u6d3b\u3001\u53ef\u6269\u5c55\u3001\u5065\u58ee\uff09</li> </ul>"},{"location":"BLOG/Network/learning/#2","title":"2 \u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u57fa\u672c\u529f\u80fd\uff1a</p> <ul> <li>\u4e3a\u5730\u7406\u4f4d\u7f6e\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u7528\u6237\u4e4b\u95f4\u63d0\u4f9b\u8bbf\u95ee\u901a\u8def\uff08\u8fde\u63a5\u6027\uff1b\u53ef\u6807\u8bc6\u3001\u53ef\u5b9a\u4f4d\uff1b\u6b63\u786e\u6027\uff1b\u5176\u4ed6\uff09</li> <li>\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u63d0\u4f9b\u7684\u529f\u80fd\u662f\u5206\u5c42\u6b21\u7684</li> </ul> <p>\u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784\uff1a\u534f\u8bae\u4e0e\u670d\u52a1</p> <ul> <li>\u534f\u8bae\uff1a\u540c\u5c42\u4e4b\u95f4 (\u5c42\u5185\u529f\u80fd)</li> <li>\u670d\u52a1\uff1a\u4e0d\u540c\u5c42\u6b21\u4e4b\u95f4 (\u5c42\u95f4\u5173\u7cfb)\uff0c\u5206\u670d\u52a1\u63d0\u4f9b\u8005\u548c\u670d\u52a1\u7528\u6237</li> </ul> <ul> <li>\u670d\u52a1\u8bbf\u95ee\u70b9SAP (Service Access Point)<ul> <li>\u4efb\u4f55\u5c42\u95f4\u670d\u52a1\u90fd\u662f\u5728\u63a5\u53e3\u4e0a\u7684SAP\u8fdb\u884c\u7684</li> </ul> </li> <li>\u63a5\u53e3\u6570\u636e\u5355\u5143IDU (Interface Data Unit)<ul> <li>IDU\u7531\u4e0a\u5c42\u7684\u670d\u52a1\u6570\u636e\u5355\u5143SDU(Service Data Unit)\u548c\u63a5\u53e3 \u63a7\u5236\u4fe1\u606fICI(Interface Control Information)\u7ec4\u6210</li> </ul> </li> <li>\u534f\u8bae\u6570\u636e\u5355\u5143PDU(Protocol Data Unit)<ul> <li>PDU\u7531\u4e0a\u5c42\u7684\u670d\u52a1\u6570\u636e\u5355\u5143SDU\u6216\u5176\u5206\u6bb5\u548c\u534f\u8bae\u63a7\u5236\u4fe1\u606fPCI (Protocol Control Information)\u7ec4\u6210</li> </ul> </li> </ul> <p>\u5206\u5c42\uff1a</p> <ul> <li>\u4f18\u70b9<ul> <li>\u6a21\u5757\u5316\uff1a\u6613\u4e8e\u5f00\u53d1\u3001\u7ba1\u7406\u548c\u7ef4\u62a4</li> <li>\u72ec\u7acb\u6027\uff1a\u5c42\u6b21\u5185\u90e8\u7684\u53d8\u5316\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u5c42\u6b21</li> <li>\u590d\u7528\u6027\uff1a\u9ad8\u5c42\u6a21\u5757\u53ef\u4ee5\u590d\u7528\u5e95\u5c42\u6a21\u5757\u7684\u529f\u80fd</li> <li>\u6807\u51c6\u5316\uff1a\u4e3a\u4e0d\u540c\u5382\u5bb6\u7684\u8bbe\u5907\u4e92\u8054\u63d0\u4f9b\u6761\u4ef6</li> </ul> </li> <li>\u7f3a\u70b9<ul> <li>\u4f4e\u6548\uff1a\u4fe1\u606f\u5c4f\u853d\u5bfc\u81f4\u6027\u80fd\u4f18\u5316\u56f0\u96be</li> </ul> </li> </ul> <p>ISO/OSI\u53c2\u8003\u6a21\u578b\uff1a</p> <ul> <li>7 \u5e94\u7528\u5c42\uff1a\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u8bbf\u95ee\u7f51\u7edc\u7684\u529f\u80fd</li> <li>6 \u8868\u793a\u5c42\uff1a\u6570\u636e\u8868\u793a</li> <li>5 \u4f1a\u8bdd\u5c42\uff1a\u4e3b\u673a\u95f4\u4f1a\u8bdd\u7ba1\u7406</li> <li>4 \u4f20\u8f93\u5c42\uff1a\u7aef\u5230\u7aef\u6570\u636e\u4f20\u8f93\uff08\u6bb5\uff09</li> <li>3 \u7f51\u7edc\u5c42\uff1a\u5b9a\u5740\u548c\u5bfb\u5740\uff08\u5206\u7ec4\uff09</li> <li>2 \u6570\u636e\u94fe\u8def\u5c42\uff1a\u4ecb\u8d28\u8bbf\u95ee\uff08\u5e27\uff09</li> <li>1 \u7269\u7406\u5c42\uff1a\u6bd4\u7279\u4f20\u8f93\uff08\u6bd4\u7279\uff09</li> <li>\uff08\u7cdf\u7cd5\u7684\u65f6\u95f4\u3001\u7cdf\u7cd5\u7684\u6280\u672f\u3001\u7cdf\u7cd5\u7684\u5b9e\u73b0\u3001\u7cdf\u7cd5\u7684\u7b56\u7565\uff09</li> </ul> <p>TCP/IP\u53c2\u8003\u6a21\u578b\uff1a</p> <ul> <li>\u5e94\u7528\u5c42(Application Layer)<ul> <li>\u63d0\u4f9b\u5404\u79cdInternet\u7ba1\u7406\u548c\u5e94\u7528\u670d\u52a1</li> </ul> </li> <li>\u4f20\u8f93\u5c42(Transport Layer)<ul> <li>\u63d0\u4f9b\u7aef\u5230\u7aef\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1</li> </ul> </li> <li>\u4e92\u8fde\u7f51\u5c42/IP\u5c42(Internet Layer)<ul> <li>\u63a7\u5236\u901a\u4fe1\u5b50\u7f51\u63d0\u4f9b\u6e90\u70b9\u5230\u76ee\u7684\u70b9\u7684\u5206\u7ec4\u4f20\u9001</li> </ul> </li> <li>\u4e3b\u673a\u81f3\u7f51\u7edc\u5c42(Host-to-Network/Network Interface)<ul> <li>\u7269\u7406\u5c42(Physical Layer)</li> <li>\u6570\u636e\u94fe\u8def\u5c42(Data Link Layer)</li> <li>TCP/IP\u534f\u8bae\u6ca1\u6709\u8fdb\u884c\u660e\u786e\u89c4\u5b9a</li> </ul> </li> </ul> <p>\u8bfe\u7a0b\u4e2d\u4f7f\u7528\u7684\u6a21\u578b\uff1a</p> <ul> <li>5 \u5e94\u7528\u5c42</li> <li>4 \u4f20\u8f93\u5c42</li> <li>3 \u7f51\u7edc\u5c42</li> <li>2 \u6570\u636e\u94fe\u8def\u5c42</li> <li>1 \u7269\u7406\u5c42</li> </ul>"},{"location":"BLOG/Network/learning/#3","title":"3 \u7269\u7406\u5c42\u6280\u672f","text":"<p>\u7269\u7406\u80cc\u666f\uff1a</p> <p>\u6709\u9650\u7684\u5e26\u5bbd\u9650\u5236\u4e86\u6570\u636e\u7684\u4f20\u8f93\u901f\u7387</p> <p>\u5e38\u89c1\u7684\u7f16\u7801\u65b9\u5f0f\uff1a</p> <ul> <li>\u975e\u5f52\u96f6\u7801 NRZ</li> <li>\u66fc\u5f7b\u65af\u7279\u7801 Manchester \u76f8\u4f4d\u7f16\u7801</li> <li>\u5dee\u5206\u66fc\u5f7b\u65af\u7279\u7801 Differential Manchester</li> <li>\u9022\u201c1\u201d\u53d8\u5316\u7684NRZ\u7801</li> <li>\u9022\u201c0\u201d\u53d8\u5316\u7684NRZ\u7801</li> </ul> <p>\u8f7d\u6ce2\u4f20\u8f93\uff1a</p> <p>ASK FSK PSK</p> <p>\u591a\u8def\u590d\u7528\uff1a</p> <ul> <li>\u65f6\u5206\u590d\u7528TDM (Time Division Multiplexing)</li> <li>\u9891\u5206\u590d\u7528 FDM (Frequency Division Multiplexing)</li> <li>\u6ce2\u5206\u590d\u7528 WDM (Wavelength Division Multiplexing)</li> </ul> <p>\u4ea4\u6362\u65b9\u5f0f\uff1a</p> <ul> <li>\u7535\u8def\u4ea4\u6362\uff1a\u5efa\u7acb\u7535\u8def\uff0c\u4f20\u8f93\u6570\u636e\uff0c\u62c6\u9664\u7535\u8def<ul> <li>\u7535\u8def\u4ea4\u6362\u9002\u7528\u4e8e\u5b9e\u65f6\u4fe1\u606f\u548c\u6a21\u62df\u4fe1\u53f7\u4f20\u9001\uff0c\u5728\u7ebf\u8def\u5e26\u5bbd\u6bd4\u8f83\u4f4e\u7684\u60c5\u51b5\u4e0b\u4f7f\u7528\u6bd4\u8f83\u7ecf\u6d4e</li> </ul> </li> <li>\u62a5\u6587\u4ea4\u6362<ul> <li>\u62a5\u6587\u4ea4\u6362\u9002\u7528\u4e8e\u7ebf\u8def\u5e26\u5bbd\u6bd4\u8f83\u9ad8\u7684\u60c5\u51b5\uff0c\u53ef\u9760\u7075\u6d3b\uff0c \u4f46\u5ef6\u8fdf\u5927</li> </ul> </li> <li>\u5206\u7ec4\u4ea4\u6362\uff1a\u6570\u636e\u5305\u3001\u865a\u7535\u8def<ul> <li>\u5206\u7ec4\u4ea4\u6362\u7f29\u77ed\u4e86\u5ef6\u8fdf\uff0c\u4e5f\u80fd\u6ee1\u8db3\u4e00\u822c\u7684\u5b9e\u65f6\u4fe1\u606f\u4f20\u9001\u3002 \u5728\u9ad8\u5e26\u5bbd\u7684\u901a\u4fe1\u4e2d\u66f4\u4e3a\u7ecf\u6d4e\u3001\u5408\u7406\u3001\u53ef\u9760\u3002\u662f\u76ee\u524d\u516c\u8ba4\u8f83(\u6700)\u597d\u7684\u4e00\u79cd\u4ea4\u6362\u6280\u672f</li> </ul> </li> </ul>"},{"location":"BLOG/Network/learning/#4","title":"4 \u6570\u636e\u94fe\u8def\u5c42\u6280\u672f","text":"<p>\u6570\u636e\u94fe\u8def\u5c42\uff1a</p> <p>\u5982\u4f55\u5728\u6709\u5dee\u9519\u7684\u7ebf\u8def\u4e0a\uff0c\u8fdb\u884c\u65e0\u5dee\u9519\u4f20\u8f93</p> <p>\u6210\u5e27\uff1a</p> <p>\u5c06\u6bd4\u7279\u6d41\u5206\u6210\u79bb\u6563\u7684\u5e27\uff0c\u5e76\u8ba1\u7b97\u6bcf\u4e2a\u5e27\u7684\u6821\u9a8c\u548c\uff08\u5b57\u7b26\u8ba1\u6570\u6cd5\u3001\u5e26\u5b57\u7b26\u586b\u5145\u7684\u9996\u5c3e\u5b57\u7b26\u5b9a\u754c\u6cd5\u3001\u5e26\u4f4d\u586b\u5145\u7684\u9996\u5c3e\u6807\u8bb0\u5b9a\u754c\u6cd5\u3001\u7269\u7406\u5c42\u7f16\u7801\u8fdd\u4f8b\u6cd5\uff09</p> <p>\u5dee\u9519\u63a7\u5236\uff1a</p> <p>\u63a5\u6536\u65b9\u7ed9\u53d1\u9001\u65b9\u4e00\u4e2a\u53cd\u9988/\u54cd\u5e94</p> <p>\u7ea0\u9519\u7801\uff1a\u6d77\u660e\u7801</p> <p>\u4f4d\u53f7\u4e3a2\u7684\u5e42\u7684\u4f4d\u662f\u6821\u9a8c\u4f4d\uff0c\u5176\u4f59\u662f\u4fe1\u606f\u4f4d\uff1b\u4e3a\u770b\u6e05\u6570\u636e\u4f4dk\u5bf9\u54ea\u4e9b\u6821\u9a8c\u4f4d\u6709\u5f71\u54cd\uff0c\u5c06k\u5199\u62102\u7684\u5e42\u7684\u548c\uff08\u4f8b\uff1a11 = 1 + 2 + 8\uff0c\u5373\u5982\u679c\u6821\u9a8c\u4f4d0 1 3\u51fa\u9519\uff0c\u5219\u6570\u636e\u4f4d11\u51fa\u9519\uff09\u3002\u53ea\u80fd\u7ea01bit\u9519\u8bef</p> <p>\u68c0\u9519\u7801\uff1aCRC\u7801</p> <p>\u9009\u53d6\u4e00\u4e2ar\u9636\u7684\u591a\u9879\u5f0f\u3002\u53d1\u9001\u7aef\u5728\u5e27\u672b\u5c3e\u52a0r\u4e2a0\uff0c\u7528\u6a212\u7684\u8fd0\u7b97\u505a\u9664\u6cd5\u5f97\u5230\u4f59\u6570\u6dfb\u52a0\u5230\u5e27\u672b\uff1b\u63a5\u6536\u7aef\u76f4\u63a5\u9664\uff0c\u6574\u9664\u5219\u6ca1\u51fa\u9519\uff0c\u975e\u6574\u9664\u5219\u51fa\u9519\u3002</p> <p>\u6570\u636e\u94fe\u8def\u5c42\u57fa\u672c\u534f\u8bae\uff1a</p> <ul> <li>\u5355\u5de5\u505c\u7b49\u534f\u8bae(A Simplex Stop-and-Wait Protocol)</li> <li>\u6709\u566a\u58f0\u4fe1\u9053\u7684\u5355\u5de5\u534f\u8bae(A Simplex Protocol for a Noisy Channel)</li> <li>\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae(Sliding Window Protocol)</li> <li>\u9009\u62e9\u91cd\u4f20\u534f\u8bae(A Protocol Using Selective Repeat)</li> </ul>"},{"location":"BLOG/Network/learning/#5-2","title":"5 \u6570\u636e\u94fe\u8def\u5c42\u6280\u672f 2","text":"<p>\u4fe1\u9053\u5206\u914d\u65b9\u5f0f\uff1a</p> <p>\u9759\u6001\u5206\u914d\u3001\u52a8\u6001\u5206\u914d</p> <p>\u4fe1\u9053\u7ade\u4e89\u534f\u8bae/\u591a\u8def\u8bbf\u95ee\u534f\u8bae\uff1a</p> <ul> <li>\u7eafALOHA\u534f\u8bae</li> <li>\u5206\u69fdALOHA\u534f\u8bae</li> <li>\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee\u534f\u8baeCSMA(Carrier Sense Multiple Access Protocols)</li> <li>1-\u575a\u6301\u578bCSMA(1-persistent CSMA)</li> <li>\u975e\u575a\u6301\u578bCSMA(non-persistent CSMA)</li> <li>p-\u575a\u6301\u578bCSMA(p-persistent CSMA)</li> <li>\u5e26\u51b2\u7a81\u68c0\u6d4b\u7684\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee\u534f\u8baeCSMA/CD</li> </ul> <p>\u5c40\u57df\u7f51\u6280\u672f\uff1a</p> <ul> <li>\uff08\u4ece\u4e0a\u5230\u4e0b\uff0c\u7f51\u7edc\u5c42\uff09</li> <li>LLC \u903b\u8f91\u94fe\u8def\u63a7\u5236\u5b50\u5c42 LLC(Logical Link Control)\uff1a\u786e\u8ba4\u673a\u5236\u548c\u6d41\u91cf\u63a7\u5236</li> <li>MAC\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u5b50\u5c42 MAC(Medium Access Control)\uff1a\u6570\u636e\u5c01\u88c5(\u53d1\u9001\u548c\u63a5\u6536)\u3001\u4ecb\u8d28\u8bbf\u95ee\u7ba1\u7406</li> <li>\uff08\u7269\u7406\u5c42\uff09</li> </ul> <p>\u7f51\u6865\u6280\u672f\uff1a</p> <ul> <li>\u7f51\u6865(bridge)\u662f\u5de5\u4f5c\u5728\u6570\u636e\u94fe\u8def\u5c42\u7684\u4e00\u79cd\u7f51\u7edc\u4e92\u8fde\u8bbe\u5907\uff0c\u5b83\u5728\u4e92 \u8fde\u7684LAN\u4e4b\u95f4\u5b9e\u73b0\u5e27\u7684\u5b58\u50a8\u548c\u8f6c\u53d1</li> <li>\u4f5c\u7528\uff1a\u6269\u5c55\u5c40\u57df\u7f51\u6bb5\u3001\u9694\u79bb\u51b2\u7a81\u57df</li> <li>\u5de5\u4f5c\u539f\u7406\uff1a<ul> <li>\u7f51\u6865\u5de5\u4f5c\u5728\u6df7\u6742(promiscuous)\u65b9\u5f0f\uff0c\u63a5\u6536\u6240\u6709\u7684\u5e27;</li> <li>\u7f51\u6865\u63a5\u6536\u5230\u4e00\u5e27\u540e\uff0c\u901a\u8fc7\u67e5\u8be2\u5730\u5740/\u7aef\u53e3\u5bf9\u5e94\u8868\u6765\u786e\u5b9a\u662f\u4e22\u5f03\u8fd8\u662f\u8f6c\u53d1;</li> <li>\u7f51\u6865\u521a\u542f\u52a8\u65f6\uff0c\u5730\u5740/\u7aef\u53e3\u5bf9\u5e94\u8868\u4e3a\u7a7a\uff0c\u91c7\u7528\u6d2a\u6cdb(flooding)\u65b9\u6cd5\u8f6c \u53d1\u5e27;</li> <li>\u5728\u8f6c\u53d1\u8fc7\u7a0b\u4e2d\u91c7\u7528\u9006\u5411\u5b66\u4e60(backward learning)\u7b97\u6cd5\u6536\u96c6MAC\u5730\u5740\u3002 \u7f51\u6865\u901a\u8fc7\u5206\u6790\u5e27\u7684\u6e90MAC\u5730\u5740\u5f97\u5230MAC\u5730\u5740\u4e0e\u7aef\u53e3\u7684\u5bf9\u5e94\u5173\u7cfb,\u5e76\u5199\u5165\u5730\u5740/\u7aef\u53e3\u5bf9\u5e94\u8868;</li> <li>\u7f51\u6865\u8f6f\u4ef6\u5bf9\u5730\u5740/\u7aef\u53e3\u5bf9\u5e94\u8868\u8fdb\u884c\u4e0d\u65ad\u7684\u66f4\u65b0\uff0c\u5e76\u5b9a\u65f6\u68c0\u67e5\uff0c\u5220\u9664\u5728 \u4e00\u6bb5\u65f6\u95f4\u5185\u6ca1\u6709\u66f4\u65b0\u7684\u5730\u5740/\u7aef\u53e3\u9879;</li> </ul> </li> <li>\u89e3\u51b3\u591a\u4e2a\u7f51\u6865\u4ea7\u751f\u56de\u8def\u7684\u95ee\u9898\uff1a\u8ba9\u7f51\u6865\u4e4b\u95f4\u4e92\u76f8\u901a\u4fe1\uff0c\u7528\u4e00\u68f5\u8fde\u63a5\u6bcf\u4e2aLAN\u7684\u751f\u6210\u6811(Spanning Tree)\u8986\u76d6\u5b9e\u9645\u7684\u62d3\u6251\u7ed3\u6784</li> </ul>"},{"location":"BLOG/Network/learning/#6-1","title":"6 \u7f51\u7edc\u5c42\u6280\u672f 1","text":"<p>\u7f51\u7edc\u5c42\uff1a</p> <p>\u4e86\u89e3\u901a\u4fe1\u5b50\u7f51\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u9009\u62e9\u8def\u7531\uff1b\u63d0\u4f9b\u9762\u5411\u8fde\u63a5\u548c\u65e0\u8fde\u63a5\u7684\u670d\u52a1</p> <p>IP\u534f\u8bae\uff1a</p> <p></p> <p>\u5b9a\u5740\uff1a</p> <ul> <li>\u5730\u5740\u7ec4\u6210\uff1a\u5b50\u7f51\u63a9\u7801\uff081...1 0...0\uff09\u524d\u534a\u90e8\u5206\u4e3a\u7f51\u7edc\u53f7\u3001\u540e\u534a\u90e8\u5206\u4e3a\u4e3b\u673a\u53f7\u3002\u4e3b\u673a\u53f7\u51680\u8868\u793a\u672c\u4e3b\u673a\u3001\u51681\u8868\u793a\u5e7f\u64ad\u5730\u5740</li> <li>\u65e0\u7c7b\u57df\u95f4\u8def\u7531CIDR(Classless InterDomain Routing)\uff1a\u6700\u957f\u5339\u914d\u539f\u5219:\u8def\u7531\u67e5\u627e\u65f6\uff0c\u82e5\u591a\u4e2a\u8def\u7531\u8868\u9879\u5339\u914d\u6210\u529f\uff0c\u9009\u62e9\u63a9\u7801\u957f (1\u6bd4\u7279\u6570\u591a)\u7684\u8def\u7531\u8868\u9879;</li> </ul> <p>Internet\u63a7\u5236\u534f\u8bae\uff1a</p> <ul> <li>Internet\u63a7\u5236\u6d88\u606f\u534f\u8baeICMP(Internet Control Message Protocol)\uff1a\u4e3b\u8981\u7528\u6765\u62a5\u544a\u51fa\u9519\u548c\u6d4b\u8bd5\uff0cICMP\u62a5\u6587\u5c01\u88c5\u5728IP\u5305\u4e2d</li> <li>\u5730\u5740\u89e3\u6790\u534f\u8baeARP(Address Resolution Protocol)\uff1a\u89e3\u51b3\u7f51\u7edc\u5c42\u5730\u5740(IP\u5730\u5740)\u4e0e\u6570\u636e\u94fe\u8def\u5c42\u5730\u5740(MAC\u5730\u5740)\u7684\u6620\u5c04\u95ee\u9898;</li> <li>\u53cd\u5411\u5730\u5740\u89e3\u6790\u534f\u8baeRARP(Reverse Address Resolution Protocol)\uff1a\u89e3\u51b3\u6570\u636e\u94fe\u8def\u5c42\u5730\u5740(MAC\u5730\u5740)\u4e0e\u7f51\u7edc\u5c42\u5730\u5740(IP \u5730\u5740)\u7684\u6620\u5c04\u95ee\u9898</li> </ul>"},{"location":"BLOG/Network/learning/#7-1","title":"7 \u7f51\u7edc\u5c42\u6280\u672f 1","text":"<p>\u5bfb\u5740/\u8def\u7531 Routing</p> <p>\u8ddd\u79bb\u5411\u91cf\u8def\u7531\u7b97\u6cd5\uff1a</p> <ul> <li>\u89e3\u51b3\u8def\u7531\u73af\u8def\u7684\u65b9\u6cd5\uff1a<ul> <li>\u6c34\u5e73\u5206\u5272:\u8def\u7531\u4fe1\u606f\u4ea4\u4e92\u65f6\uff0c\u4e0d\u628a\u4ece\u5404\u4e2a\u76f8\u90bb\u8282\u70b9\u5b66\u4e60\u5230  \u7684\u8def\u7531\u4fe1\u606f\u53d1\u9001\u56de\u539f\u6765\u7684\u8282\u70b9</li> <li>\u53cd\u5411\u6291\u5236/\u6bd2\u6027\u53cd\u8f6c:\u8def\u7531\u4fe1\u606f\u4ea4\u4e92\u65f6\u5c06\u6545\u969c\u94fe\u8def\u7684\u5f00\u9500\u8bbe\u7f6e\u4e3a\u65e0\u9650\u5927</li> <li>\u89e6\u53d1\u66f4\u65b0:\u4e00\u65e6\u7f51\u7edc\u72b6\u6001\u53d1\u751f\u53d8\u5316\uff0c\u5c31\u5f3a\u5236\u53d1\u51fa\u66f4\u65b0\u4fe1\u606f\uff0c  \u5728\u5176\u4ed6\u8def\u7531\u5668\u66f4\u65b0\u5468\u671f\u5230\u8fbe\u4e4b\u524d\uff0c\u66f4\u65b0\u6240\u6709\u8def\u7531\u8868</li> </ul> </li> <li>\u5178\u578b\u7684\u8ddd\u79bb\u5411\u91cf\u8def\u7531\u534f\u8bae\uff1aRIP\u8def\u7531\u534f\u8bae</li> </ul> <p>\u94fe\u8def\u72b6\u6001\u8def\u7531\u534f\u8bae</p> <ul> <li>Dijkstra\u7b97\u6cd5</li> <li>\u7f3a\u70b9\uff1a<ul> <li>\u7b97\u6cd5\u521d\u59cb\u9636\u6bb5\u5e26\u5bbd\u5f00\u9500\u8f83\u5927</li> <li>\u7b97\u6cd5\u9700\u8981\u8f83\u5927\u7684CPU\u548c\u5185\u5b58\u5f00\u9500</li> <li>\u7f51\u7edc\u89c4\u6a21\u8f83\u5927\u6216\u94fe\u8def\u72b6\u6001\u53d8\u5316\u9891\u7e41\u65f6\uff0c\u6548\u7387\u8f83\u4f4e</li> </ul> </li> <li>\u5178\u578b\u7684\u94fe\u8def\u72b6\u6001\u8def\u7531\u534f\u8bae\uff1aOSPF:\u5f00\u653e\u7684\u6700\u77ed\u8def\u5f84\u4f18\u5148\u534f\u8bae</li> </ul> <p>\u8ddd\u79bb\u5411\u91cf\u8def\u7531\u7b97\u6cd5\u603b\u7ed3</p> <ul> <li>\u4ece\u90bb\u5c45\u8282\u70b9\u7684\u89d2\u5ea6\u4e86\u89e3\u7f51\u7edc\u7ed3\u6784</li> <li>\u4ee5\u8df3\u6570\u4e3a\u5f00\u9500\u8861\u91cf\u6807\u51c6</li> <li>\u4ea4\u4e92\u8def\u7531\u8868</li> <li>\u5468\u671f\u6027\u8def\u7531\u4fe1\u606f\u4ea4\u4e92</li> </ul> <p>\u94fe\u8def\u72b6\u6001\u8def\u7531\u7b97\u6cd5\u603b\u7ed3</p> <ul> <li>\u4e86\u89e3\u6574\u4e2a\u7f51\u7edc\u7684\u62d3\u6251\u7ed3\u6784</li> <li>\u591a\u79cd\u53c2\u6570\u7ec4\u5408\u4f5c\u4e3a\u8861\u91cf\u6807\u51c6</li> <li>\u4ea4\u4e92LSP\uff0c\u8ba1\u7b97\u6700\u77ed\u8def\u5f84\u6811</li> <li>\u89e6\u53d1\u66f4\u65b0</li> </ul>"},{"location":"BLOG/Network/learning/#8-3","title":"8 \u7f51\u7edc\u5c42\u6280\u672f 3","text":"<p>\u57df\u95f4\u8def\u7531\u534f\u8bae\uff1a</p> <ul> <li>\u7b56\u7565\u63a7\u5236</li> <li>\u8fb9\u754c\u7f51\u5173\u534f\u8baeBGP (Border Gateway Protocol)</li> </ul> <p>\u4e0b\u4e00\u4ee3\u4e92\u8054\u7f51\u7f51\u7edc\u5c42\u534f\u8bae\uff1aIPv6</p> <ul> <li>\u73b0\u5728\u8fd8\u662f\u5b64\u5c9b\uff0c\u4f46\u4e4b\u540e\u4f1a\u6210\u4e3a\u6c6a\u6d0b</li> </ul>"},{"location":"BLOG/Network/learning/#9-1","title":"9 \u4f20\u8f93\u5c42\u6280\u672f 1","text":"<p>\u4f20\u8f93\u5c42\uff1a</p> <ul> <li>\u6d88\u9664\u7f51\u7edc\u5c42\u7684\u4e0d\u53ef\u9760\u6027</li> <li>\u63d0\u4f9b\u4ece\u6e90\u7aef\u4e3b\u673a\u5230\u76ee\u7684\u7aef\u4e3b\u673a\u7684\u53ef\u9760\u7684\u3001\u4e0e\u5b9e\u9645\u4f7f\u7528\u7684\u7f51\u7edc\u65e0\u5173\u7684\u4fe1\u606f\u4f20\u8f93\u3002</li> </ul> <p>\u4f20\u8f93\u5c42\u63d0\u4f9b\u7684\u4e24\u79cd\u670d\u52a1\uff1a</p> <ul> <li>\u9762\u5411\u8fde\u63a5\u7684\u4f20\u8f93\u670d\u52a1\uff1a\u8fde\u63a5\u5efa\u7acb\uff0c\u6570\u636e\u4f20\u8f93\uff0c\u8fde\u63a5\u91ca\u653e</li> <li>\u65e0\u8fde\u63a5\u7684\u4f20\u8f93\u670d\u52a1</li> </ul> <p>\u5efa\u7acb\u8fde\u63a5\uff1a</p> <p>\uff08Connect Request / Connect Acknowledge TPDU (Transport Protocol Data Unit, \u4f20\u8f93\u534f\u8bae\u6570\u636e\u5355\u5143)\uff09</p> <ul> <li>\u5ba2\u6237\u7aef\uff1a\u53d1\u9001CR TPDU - \u963b\u585e - \u6536\u5230CA TPDU - \u8fde\u63a5\u5efa\u7acb</li> <li>\u670d\u52a1\u5668\u7aef\uff1aLISTEN(\u963b\u585e) - \u6536\u5230CR TPDU - \u53d1\u9001CA TPDU - \u8fde\u63a5\u5efa\u7acb</li> </ul> <p>\u62c6\u9664\u8fde\u63a5</p> <ul> <li>\u4e0d\u5bf9\u79f0\u65b9\u5f0f\uff1a\u4efb\u4f55\u4e00\u65b9\u90fd\u53ef\u4ee5\u5173\u95ed\u53cc\u5411\u8fde\u63a5</li> <li>\u5bf9\u79f0\u65b9\u5f0f\uff1a\u6bcf\u4e2a\u65b9\u5411\u7684\u8fde\u63a5\u5355\u72ec\u5173\u95ed\uff0c\u53cc\u65b9\u90fd\u6267\u884cDisconnect\u624d\u80fd\u5173\u95ed\u6574\u6761\u8fde\u63a5</li> </ul> <p>TCP Transmission Control Protocol \u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff1a</p> <ul> <li>\u8fde\u63a5\u7ba1\u7406\uff1a\u5efa\u7acb\u8fde\u63a5\uff1a\u4e09\u6b21\u63e1\u624b\uff1b\u91ca\u653e\u8fde\u63a5\uff1a\u4e09\u6b21\u63e1\u624b + \u5b9a\u65f6\u5668</li> <li>\u53ef\u9760\u4f20\u8f93\uff1a\u6ed1\u52a8\u7a97\u53e3</li> <li>\u6d41\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236\uff1a\u53ef\u53d8\u6ed1\u52a8\u7a97\u53e3\u3001\u6162\u542f\u52a8\u3001\u62e5\u585e\u907f\u514d</li> </ul> <p>\u4e09\u6b21\u63e1\u624b\uff1a\u4e09\u6b21\u63e1\u624b\u65b9\u6848\u89e3\u51b3\u4e86\u7531\u4e8e\u7f51\u7edc\u5c42\u4f1a\u4e22\u5931\u3001\u5b58\u50a8\u548c\u91cd\u590d \u5305\u5e26\u6765\u7684\u95ee\u9898</p> <ul> <li>A \u53d1\u51fa\u5e8f\u53f7\u4e3aX\u7684CR TPDU;</li> <li>B \u53d1\u51fa\u5e8f\u53f7\u4e3aY\u7684CA TPDU\u5e76\u786e\u8ba4A\u7684\u5e8f\u53f7\u4e3aX\u7684CR TPDU;</li> <li>A \u53d1\u51fa\u5e8f\u53f7\u4e3aX+1\u7684\u7b2c\u4e00\u4e2a\u6570\u636eTPDU\uff0c\u5e76\u786e\u8ba4B\u7684\u5e8f\u53f7\u4e3aY \u7684CR TPDU\u3002</li> </ul> <p>\u6807\u8bc6\u4f4d\uff1a\u7f6e1\u8868\u793a\u6709\u6548</p> <ul> <li>URG urgent\uff1a\u548c\u7d27\u6025\u6307\u9488\u914d\u5408\u4f7f\u7528\uff0c\u53d1\u9001\u7d27\u6025\u6570\u636e;</li> <li>ACK acknowledge\uff1a\u786e\u8ba4\u53f7\u662f\u5426\u6709\u6548;</li> <li>PSH push\uff1a\u6307\u793a\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u5c06\u6570\u636e\u4e0d\u505a\u7f13\u5b58\uff0c\u7acb\u523b\u53d1\u9001\u6216\u63a5\u6536;</li> <li>RST reset\uff1a\u7531\u4e8e\u4e0d\u53ef\u6062\u590d\u7684\u9519\u8bef\u91cd\u7f6e\u8fde\u63a5;</li> <li>SYN sync\uff1a\u7528\u4e8e\u8fde\u63a5\u5efa\u7acb\u6307\u793a;</li> <li>FIN finish\uff1a\u7528\u4e8e\u8fde\u63a5\u91ca\u653e\u6307\u793a</li> </ul> <p>\u62e5\u585e\u7a97\u53e3 (Cwnd, Congestion Window)\u7684\u786e\u5b9a</p> <ul> <li>\u521d\u503c\u4e3a\u4e00\u4e2aMSS (Max Segment Size)</li> <li>\u53d8\u5316\uff1a\u8003\u8651\u541e\u5410\u7387\u548c\u516c\u5e73\u6027\uff0c\u91c7\u7528AIMD (Additive Increase / Multiplicative Decrease)</li> </ul> <p>UDP User Datagram Protocol \u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff1a</p> <ul> <li>\u4e0d\u9700\u8981\u5efa\u7acb\u8fde\u63a5\uff0c\u5ef6\u8fdf\u5c0f\uff1b\u7ecf\u5e38\u7528\u4e8e\u6d41\u5a92\u4f53\u5e94\u7528</li> <li>best effort\u670d\u52a1\uff0cUDP \u62a5\u6587\u53ef\u80fd\u4f1a\u4e22\u5931\u3001\u4e71\u5e8f</li> </ul>"},{"location":"BLOG/Network/learning/#10","title":"10 \u5e94\u7528\u5c42\u6280\u672f","text":"<p>\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\uff1a\u76f8\u4e92\u901a\u4fe1\u7684\u5206\u5e03\u7684\u8fdb\u7a0b</p> <p>\u5e94\u7528\u5c42\u534f\u8bae\uff1a\u5229\u7528\u5e95\u5c42\u534f\u8bae\u63d0\u4f9b\u7684\u670d\u52a1\uff0c\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f\u76f4\u63a5\u4ea4\u6362\u7684\u4fe1\u606f\u53ca\u76f8\u5e94\u7684\u52a8\u4f5c</p> <p>\u8fdb\u7a0b\u5982\u4f55\u6307\u660e\u5b83\u8981\u4e0e\u4e4b\u901a\u4fe1\u7684\u53e6\u4e00\u4e2a\u8fdb\u7a0b\uff1a</p> <ul> <li>IP\u5730\u5740\u6307\u660e\u8be5\u8fdb\u7a0b\u6240\u5728\u7684\u4e3b\u673a</li> <li>\u7aef\u53e3\u53f7\u6307\u660e\u8be5\u4e3b\u673a\u5e94\u8be5\u628a\u6536\u5230\u7684\u6570\u636e\u4ea4\u7ed9\u54ea\u4e2a\u5f53\u5730\u8fdb\u7a0b</li> </ul> <p>\u5ba2\u6237/\u670d\u52a1\u5668\u6a21\u578b\uff1a</p> <ul> <li>\u5ba2\u6237/\u670d\u52a1\u5668\u6a21\u578b\u662f\u6240\u6709\u7f51\u7edc \u5e94\u7528\u7684\u57fa\u7840\u3002</li> <li>\u5ba2\u6237/\u670d\u52a1\u5668\u5206\u522b\u6307\u53c2\u4e0e\u4e00\u6b21\u901a\u4fe1\u7684\u4e24\u4e2a\u5e94\u7528\u5b9e\u4f53\uff0c\u5ba2\u6237\u65b9\u4e3b\u52a8\u5730\u53d1\u8d77\u901a\u4fe1\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u65b9\u88ab\u52a8\u5730\u7b49\u5f85\u901a\u4fe1\u7684\u5efa\u7acb</li> </ul> <p>\u4e00\u4e9b\u57fa\u7840\u7684\u4e92\u8054\u7f51\u670d\u52a1\uff1a</p> <ul> <li>\u57df\u540d\u670d\u52a1 DNS</li> <li>WWW\u670d\u52a1</li> <li>\u7535\u5b50\u90ae\u4ef6</li> <li>P2P</li> </ul>"},{"location":"BLOG/Network/nouns/","title":"\u8ba1\u7b97\u673a\u7f51\u7edc \u4e13\u6709\u540d\u8bcd\u901f\u67e5","text":"<p>2021\u5e74\u79cb\u5b63\u5b66\u671f \u8ba1\u7b97\u673a\u7f51\u7edc \u674e\u98ce\u534e \u6e05\u534e\u5927\u5b66</p> <p>\u65e097 \u6768\u5e0c\u6770 \u603b\u7ed3\u7b14\u8bb0</p>"},{"location":"BLOG/Network/nouns/#1","title":"1 \u6982\u8bba","text":"<ul> <li>ARPA\u8ba1\u7b97\u673a\u8ba1\u5212\uff1aAdvanced Research Project Agency</li> <li>ARPANET\uff1aAdvanced Research Project Agency net</li> <li>CERNET\uff1a</li> <li>FITI\uff1aFuture Internet Technology Infrastructure</li> </ul> <ul> <li>LAN\uff1a\u5c40\u57df\u7f51</li> <li>Ethernet\uff1a\u4ee5\u592a\u7f51</li> <li>WLAN\uff1aWireless LAN \u65e0\u7ebf\u5c40\u57df\u7f51</li> <li>MAN\uff1a\u57ce\u57df\u7f51</li> <li>WAN\uff1a\u5e7f\u57df\u7f51</li> <li>PAN\uff1a\u4e2a\u57df\u7f51</li> </ul>"},{"location":"BLOG/Network/nouns/#2","title":"2 \u8ba1\u7b97\u673a\u7f51\u7edc\u4f53\u7cfb\u7ed3\u6784","text":"<ul> <li>\u670d\u52a1\u8bbf\u95ee\u70b9SAP: Service Access Point </li> <li>\u63a5\u53e3\u6570\u636e\u5355\u5143IDU: Interface Data Unit </li> <li>\u670d\u52a1\u6570\u636e\u5355\u5143SDU(Service Data Unit)</li> <li>\u63a5\u53e3\u63a7\u5236\u4fe1\u606fICI(Interface Control Information)</li> <li>\u534f\u8bae\u6570\u636e\u5355\u5143PDU(Protocol Data Unit)</li> <li>\u534f\u8bae\u63a7\u5236\u4fe1\u606fPCI (Protocol Control Information)</li> <li>\u56fd\u9645\u7535\u4fe1\u8054\u76dfITU(International Telecommunication Union)</li> <li>\u56fd\u9645\u6807\u51c6\u5316\u7ec4\u7ec7ISO(International Standards Organization)</li> <li>\u56fd\u9645\u6807\u51c6IS(International Standard)</li> </ul> <ul> <li>ANSI:\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u534f\u4f1a\uff0cISO\u7684\u7f8e\u56fd\u4ee3\u8868</li> <li>NIST:\u7f8e\u56fd\u56fd\u5bb6\u6807\u51c6\u548c\u6280\u672f\u534f\u4f1a\uff0c\u7f8e\u56fd\u5546\u4e1a\u90e8\u7684\u6807\u51c6\u5316\u7ec4\u7ec7</li> <li>IEEE:\u7535\u5b50\u548c\u7535\u5668\u5de5\u7a0b\u5e08\u534f\u4f1a\uff0c\u53d1\u5e03\u884c\u4e1a\u6807\u51c6</li> <li>CCSA:\u4e2d\u56fd\u901a\u4fe1\u6807\u51c6\u5316\u534f\u4f1a\uff0c\u53d1\u5e03\u884c\u4e1a\u6807\u51c6</li> </ul> <ul> <li>Internet\u7684\u6807\u51c6 RFC(Request for Comment)</li> <li>OSI(Open System Interconnection)\u53c2\u8003\u6a21\u578b</li> <li>\u903b\u8f91\u94fe\u8def\u63a7\u5236LLC(Logical Link Control)</li> <li>\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236MAC(Media Access Control)</li> </ul> <ul> <li>bit\uff1a\u6bd4\u7279</li> <li>frame\uff1a\u5e27</li> <li>package\uff1a\u5206\u7ec4</li> <li>segment\uff1a\u6bb5</li> </ul> <ul> <li>tcpdump\uff1a\u67d0\u7f51\u7edc\u5206\u6790\u5de5\u5177</li> </ul>"},{"location":"BLOG/Network/nouns/#3","title":"3 \u7269\u7406\u5c42\u6280\u672f","text":"<ul> <li>\u6709\u9650\u5e26\u5bbd\u4fe1\u53f7(Bandwidth Limited Signals)</li> <li>\u9891\u8c31(spectrum)</li> <li>\u5e26\u5bbd(bandwidth)</li> <li>\u6ce2\u7279\u7387(baud)\u6bcf\u79d2\u949f\u4fe1\u53f7\u53d8\u5316\u7684\u6b21\u6570\uff0c\u4e5f\u79f0\u8c03\u5236\u901f\u7387\u3002</li> <li>\u4e0d\u5f52\u96f6\u5236\u7801(NRZ:Non-Return to Zero)</li> </ul> <ul> <li>\u8c03\u5236(Modulation)</li> <li>\u89e3\u8c03(Demodulation):\u8c03\u5236\u7684\u53cd\u53d8\u6362\u3002</li> <li>\u8c03\u5236\u89e3\u8c03\u5668MODEM(modulation-demodulation)</li> <li>\u5e45\u79fb\u952e\u63a7\u6cd5(\u8c03\u5e45) Amplitude-shift keying (ASK)</li> <li>\u9891\u79fb\u952e\u63a7\u6cd5 (\u8c03\u9891)Frequency-shift keying (FSK)</li> <li>\u76f8\u79fb\u952e\u63a7\u6cd5(\u8c03\u76f8) Phase-shift keying (PSK)</li> </ul> <ul> <li>\u65f6\u5206\u590d\u7528 TDM(Time Division Multiplexing)</li> <li>\u9891\u5206\u590d\u7528 FDM(Frequency Division Multiplexing)</li> <li>\u6ce2\u5206\u590d\u7528 WDM(Wavelength Division Multiplexing)</li> </ul> <ul> <li>\u7535\u8def\u4ea4\u6362(circuit switching)</li> <li>\u62a5\u6587\u4ea4\u6362(message switching)</li> <li>\u5206\u7ec4\u4ea4\u6362(packet switching)</li> <li>\u6570\u636e\u62a5(datagram)</li> <li>\u865a\u7535\u8def(virtual circuit)</li> </ul>"},{"location":"BLOG/Network/nouns/#4-1","title":"4 \u6570\u636e\u94fe\u8def\u5c42\u6280\u672f 1","text":"<ul> <li>\u6d77\u660e\u7801</li> <li>\u5faa\u73af\u5197\u4f59\u7801(CRC\u7801\uff0c\u591a\u9879\u5f0f\u7f16\u7801)</li> </ul>"},{"location":"BLOG/Network/nouns/#5-2","title":"5 \u6570\u636e\u94fe\u8def\u5c42\u6280\u672f 2","text":"<ul> <li>\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee\u534f\u8baeCSMA(Carrier Sense Multiple Access Protocols)</li> <li>\u903b\u8f91\u94fe\u8def\u63a7\u5236\u5b50\u5c42LLC(Logical Link Control)</li> <li>\u4ecb\u8d28\u8bbf\u95ee\u63a7\u5236\u5b50\u5c42MAC(Medium Access Control)</li> </ul>"},{"location":"BLOG/Network/nouns/#6-1","title":"6 \u7f51\u7edc\u5c42\u6280\u672f 1","text":"<ul> <li>TTL: \u751f\u5b58\u671f(Time to live)</li> <li>\u65e0\u7c7b\u57df\u95f4\u8def\u7531CIDR(Classless InterDomain Routing)</li> <li>Internet\u63a7\u5236\u6d88\u606f\u534f\u8baeICMP(Internet Control Message Protocol)</li> <li>\u5730\u5740\u89e3\u6790\u534f\u8baeARP(Address Resolution Protocol)</li> <li>\u53cd\u5411\u5730\u5740\u89e3\u6790\u534f\u8baeRARP(Reverse Address Resolution Protocol)</li> </ul>"},{"location":"BLOG/Network/nouns/#7-2","title":"7 \u7f51\u7edc\u5c42\u6280\u672f 2","text":"<ul> <li>RIP: Routing Information Protocol \u8def\u7531\u4fe1\u606f\u534f\u8bae\uff08\u57df\u5185\u8def\u7531\u534f\u8bae \u5178\u578b\u7684\u8ddd\u79bb\u5411\u91cf\u8def\u7531\u534f\u8bae\uff09</li> <li>OSPF: Open Shortest Path First \u5f00\u653e\u7684\u6700\u77ed\u8def\u5f84\u4f18\u5148\u534f\u8bae\uff08\u57df\u5185\u8def\u7531\u534f\u8bae \u5178\u578b\u7684\u94fe\u8def\u72b6\u6001\u8def\u7531\u534f\u8bae\uff09</li> </ul>"},{"location":"BLOG/Network/nouns/#8-3","title":"8 \u7f51\u7edc\u5c42\u6280\u672f 3","text":"<ul> <li>\u8fb9\u754c\u7f51\u5173\u534f\u8baeBGP(Border Gateway Protocol)</li> </ul>"},{"location":"BLOG/Network/nouns/#9-1","title":"9 \u4f20\u8f93\u5c42\u6280\u672f 1","text":"<ul> <li>TPDU: Transport Protocol Data Unit\uff0c\u662f\u6307\u4f20\u9001\u534f\u8bae\u6570\u636e\u5355\u5143</li> <li>\u4f20\u8f93\u670d\u52a1\u8bbf\u95ee\u70b9TSAP(Transport Service Access Point)</li> <li>\u4f20\u8f93\u63a7\u5236\u534f\u8baeTCP(Transmission Control Protocol)</li> <li>\u7528\u6237\u6570\u636e\u62a5\u534f\u8baeUDP(User Datagram Protocol)</li> <li>RTT(Round Trip Time)\uff1a\u5355\u4f4d\u5f80\u8fd4\u5468\u671f</li> <li>\u62e5\u585e\u7a97\u53e3(Cwnd:Congestion Window)</li> <li>\u53ef\u53d8\u53d1\u9001\u7a97\u53e3(Awnd:Advertised Window)</li> <li>AIMD(Additive Increase / Multiplicative Decrease)</li> </ul>"},{"location":"BLOG/Network/nouns/#10","title":"10 \u5e94\u7528\u5c42\u6280\u672f","text":"<ul> <li>IPS(Interprocess Communication)</li> <li>API(Application Programming Interface)</li> <li>DNS(Domain Name Service)</li> <li>WWW(World Wode Web)</li> <li>HTML(Hyper Text Markup Language)</li> <li>P2P(Peer-to-peer)</li> </ul>"},{"location":"BLOG/OS/fork-example/","title":"fork \u4f8b","text":"<pre><code># learnfork.py\n# \u6211\u4eec\u5728shell\u4e2d\u4f7f\u7528`python3 learnfork.py`\u6267\u884c\u8fd9\u6bb5Python\u4ee3\u7801\n\nimport os\nimport time\n\n# \u8fd9\u4e2aPython\u6587\u4ef6\u5bf9\u5e94\u7684\u8fdb\u7a0b\u88abshell\u521b\u5efa\u5e76\u5f00\u59cb\u6267\u884c\n# \u5176\u5b9e\u8fd9\u4e2a\u8fdb\u7a0b\u5c31\u662f\u4e00\u4e2aPython3\u7684\u89e3\u91ca\u5668\n\npid = os.fork()\n# \u6ce8\u610f\u8fd9\u91ccfork()\u53ea\u88abPython\u6587\u4ef6\u5bf9\u5e94\u7684\u8fdb\u7a0b\u8c03\u7528\u4e86\u4e00\u6b21\n# \u5728fork()\u6267\u884c\u7684\u8fc7\u7a0b\u4e2d \u5f53\u524d\u8fdb\u7a0b\u7684\u7a7a\u95f4\u88ab\u590d\u5236\u4e86\u4e00\u4efd\u7ed9\u5b50\u8fdb\u7a0b\n# fork()\u6267\u884c\u7ed3\u675f\u4e4b\u540e pid\u4f1a\u5206\u522b\u5728\u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u8fd4\u56de\n# \u5b50\u8fdb\u7a0b\u5f97\u5230\u7684\u662f0 \u7236\u8fdb\u7a0b\u5f97\u5230\u7684\u662f\u5b50\u8fdb\u7a0b\u7684pid\n\n# \u6b64\u65f6\u5df2\u7ecf\u6709\u4e24\u4e2a\u8fdb\u7a0b\u5728\u540c\u65f6\u8fd0\u884c \u6ce8\u610f\u8fd9\u91cc\u540c\u65f6\u8bf4\u7684\u662f\u65f6\u95f4\u7247\u8f6e\u8f6c\u4e24\u4e2a\u7a0b\u5e8f\u90fd\u4f1a\u53c2\u4e0e\u8c03\u5ea6\u8fd0\u884c\nif pid &lt; 0:  # fork\u5931\u8d25\n    print(\"fork\u5931\u8d25 \u9000\u51fa\u5f53\u524d\u8fdb\u7a0b\")\n    exit()\n\nif pid &gt;= 1:  # \u5f53\u524d\u7684\u7a0b\u5e8f\u662f\u7236\u8fdb\u7a0b \u6210\u529f\u521b\u5efa\u4e86\u5b50\u8fdb\u7a0b \u800c\u4e14\u62ff\u5230\u4e86\u5b50\u8fdb\u7a0b\u7684pid\n    print(f\"[\u7236\u8fdb\u7a0b] \u6211\u662f\u7236\u8fdb\u7a0b(pid{os.getpid()}) \u521b\u5efa\u4e86\u5b50\u8fdb\u7a0b(pid{pid}) \u7531shell(pid{os.getppid()})\u521b\u5efa\")\n    print(\"[\u7236\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5...\")\n    time.sleep(5)\n    # pid, result = os.waitpid(pid, 0)\n    # # https://docs.python.org/3/library/os.html#os.waitpid\n    # print(f\"[\u7236\u8fdb\u7a0b] \u5b50\u8fdb\u7a0b(pid{pid})\u9000\u51fa \u8fd4\u56de\u503c\u4e3a{result &gt;&gt; 8}\")\n    print(\"[\u7236\u8fdb\u7a0b] \u9000\u51fa\")\n    exit(0)\nelif pid == 0:  # \u5f53\u524d\u7684\u7a0b\u5e8f\u662f\u65b0\u521b\u5efa\u51fa\u7684\u5b50\u8fdb\u7a0b \u53ef\u4ee5\u5f00\u59cb\u505a\u4e00\u4e9b\u5b50\u8fdb\u7a0b\u7684\u4e8b\u60c5\u4e86\n    print(f\"[\u5b50\u8fdb\u7a0b] \u6211\u662f\u5b50\u8fdb\u7a0b(pid{os.getpid()}) \u7531\u7236\u8fdb\u7a0b(pid{os.getppid()})\u521b\u5efa\")\n    print(\"[\u5b50\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5...\")\n    time.sleep(10)\n    print(\"[\u5b50\u8fdb\u7a0b] \u9000\u51fa\")\n    exit(0)\n\n# \u7236\u8fdb\u7a0b\u548c\u5b50\u8fdb\u7a0b\u5404\u81ea\u6267\u884c\u5b8c\u81ea\u5df1\u7684\u4e09\u4e2aprint\u4f1a\u9000\u51fa\n# \u4f46\u5176\u5b9e\u5e76\u4e0d\u662f\u8fd9\u6837\u7684\n# \u5982\u679c\u7236\u8fdb\u7a0b\u5148\u7ed3\u675f \u7236\u8fdb\u7a0b\u7ed3\u675f\u540e\u5b50\u8fdb\u7a0b\u6309\u7406\u8bf4\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b \u9664\u975e\u88ab\u7cfb\u7edf\u63a5\u7ba1\n# \u5982\u679c\u5b50\u8fdb\u7a0b\u5148\u7ed3\u675f \u7236\u8fdb\u7a0b\u5e94\u8be5\u5bf9\u5e94\u7684\u56de\u6536\u5b50\u8fdb\u7a0b\uff08learnfork.py\u5e76\u6ca1\u6709\u8003\u8651\u56de\u6536\uff09 \u7236\u8fdb\u7a0b\u7ed3\u675f\u540e\u5b50\u8fdb\u7a0b\u6309\u7406\u8bf4\u50f5\u5c38\u8fdb\u7a0b \u9664\u975e\u88ab\u7cfb\u7edf\u63a5\u7ba1\n# \u561b \u4e5f\u5c31\u662f\u8bf4\u8fd9\u4e2a\u7a0b\u5e8f \u4e0d\u8003\u8651\u64cd\u4f5c\u7cfb\u7edf \u65e0\u8bba\u5982\u4f55\u5b50\u8fdb\u7a0b\u90fd\u4f1a\u6210\u4e3a\u50f5\u5c38\u8fdb\u7a0b\n\n# \u5f53\u7236\u8fdb\u7a0b`sleep(5)`\u800c\u5b50\u8fdb\u7a0b`sleep(10)`\u7684\u8f93\u51fa\u60c5\u51b5\u5982\u4e0b:\n#\n# $ python3 learnfork.py # 1\n# [\u7236\u8fdb\u7a0b] \u6211\u662f\u7236\u8fdb\u7a0b(pid92336) \u521b\u5efa\u4e86\u5b50\u8fdb\u7a0b(pid92337) \u7531shell(pid90821)\u521b\u5efa # 2\n# [\u7236\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5... # 3\n# [\u5b50\u8fdb\u7a0b] \u6211\u662f\u5b50\u8fdb\u7a0b(pid92337) \u7531\u7236\u8fdb\u7a0b(pid92336)\u521b\u5efa # 4\n# [\u5b50\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5... # 5\n# [\u7236\u8fdb\u7a0b] \u9000\u51fa # 6\n# $ [\u5b50\u8fdb\u7a0b] \u9000\u51fa # 7\n#\n# \u7b2c1\u884c\u4e3a\u6211\u4eec\u624b\u6572\u7684 \u56de\u8f66\u4e4b\u540e\n# \u7b2c2-5\u884c\u77ac\u95f4\u8f93\u51fa\n# \u7b495\u79d2\u4e4b\u540e\u7b2c6\u884c\u8f93\u51fa\n# \u8fd9\u65f6shell\u8ba4\u4e3a\u5b83fork\u7684Python3\u89e3\u91ca\u5668\u5df2\u7ecf\u7ed3\u675f\u8fd0\u884c\u4e86 \u7136\u540e\u5c31\u5728\u7b2c7\u884c\u8f93\u51fa\u4e86\u4e00\u4e2a`$`\n# \u7b495\u79d2\u4e4b\u540e\u7b2c7\u884c\u8f93\u51fa\u5b50\u8fdb\u7a0b\u7ed3\u675f\u7684\u4fe1\u606f \u6ce8\u610f\u8fd9\u8bf4\u660e\u7236\u8fdb\u7a0b\u7ed3\u675f\u8fd0\u884c\u4e4b\u540e\u5b50\u8fdb\u7a0b\u8fd8\u5728\u8fd0\u884c \u8fd9\u5e94\u8be5\u662f\u64cd\u4f5c\u7cfb\u7edf\u8fdb\u884c\u4e86\u63a5\u7ba1\n\n# \u4f5c\u4fee\u6539\u6dfb\u52a0\u7236\u8fdb\u7a0b\u56de\u6536\u5b50\u8fdb\u7a0b\u7684\u4ee3\u7801:\n# \u5728\u7236\u8fdb\u7a0b\u6700\u540e\u4e00\u884c\u4ee3\u7801\u524d\u6dfb\u52a0`pid, result = os.waitpid(pid)`\u5373\u53ef\u8ba9\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\u8fd0\u884c\n# \u53d6\u6d88\u7236\u8fdb\u7a0b\u4ee3\u7801\u4e2d\u7684\u4e09\u884c\u6ce8\u91ca\n# \u8f93\u51fa\u7ed3\u679c\u5982\u4e0b:\n#\n# $ python3 learnfork.py\n# [\u7236\u8fdb\u7a0b] \u6211\u662f\u7236\u8fdb\u7a0b(pid93225) \u521b\u5efa\u4e86\u5b50\u8fdb\u7a0b(pid93226) \u7531shell(pid90821)\u521b\u5efa\n# [\u7236\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5...\n# [\u5b50\u8fdb\u7a0b] \u6211\u662f\u5b50\u8fdb\u7a0b(pid93226) \u7531\u7236\u8fdb\u7a0b(pid93225)\u521b\u5efa\n# [\u5b50\u8fdb\u7a0b] \u5e72\u81ea\u5df1\u7684\u4e8b\u60c5...\n# [\u5b50\u8fdb\u7a0b] \u9000\u51fa\n# [\u7236\u8fdb\u7a0b] \u5b50\u8fdb\u7a0b(pid93226)\u9000\u51fa \u8fd4\u56de\u503c\u4e3a8\n# [\u7236\u8fdb\u7a0b] \u9000\u51fa\n</code></pre>"},{"location":"BLOG/OS/fork-exec-spawn/","title":"fork/exec/spawn \u8fa8\u6790","text":""},{"location":"BLOG/OS/fork-exec-spawn/#_1","title":"\u603b\u7ed3","text":"<p>\u5173\u4e8e\u5b50\u8fdb\u7a0b\u7236\u8fdb\u7a0b\u540c\u6b65\u548c\u7b49\u5f85\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u6ca1\u6709\u8003\u8651\u65f6\u95f4\u7247\u8f6e\u8f6c\uff0c\u4e5f\u5c31\u662f\u5206\u65f6\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1b\u8fd9\u4e2a\u5c31\u662f\u5b66\u957f\u8bf4\u7684\u8c03\u5ea6\uff0c\u5b8f\u89c2\u4e0a\u5176\u5b9e\u662f\u201c\u540c\u6b65\u201d\u7684\u3002</p>"},{"location":"BLOG/OS/fork-exec-spawn/#_2","title":"\u7b54\u7591","text":"<p>\u6211\uff1a\u6709\u51e0\u4e2a\u5173\u4e8efork/exec/spawn\u7684\u7591\u95ee...</p> <ol> <li>\u300cexec\u7c7b\u6bd4 \u8001\u5988\u7092\u897f\u7ea2\u67ff\u9e21\u86cb\u7092\u4e86\u4e00\u534a\uff0c\u7a81\u7136\u6709\u522b\u7684\u4e8b\u60c5\u8981\u5904\u7406\uff0c\u5b8c\u5168\u628a\u770b\u9505\u7684\u4e8b\u60c5\u4ea4\u7ed9\u6211\u4e86(\u8001\u5988exec\u6211)\uff0c\u6211\u7092\u597d\u4e4b\u540e\u88c5\u76d8\u7aef\u5230\u684c\u5b50\u4e0a\uff08\u6211exit\uff09\u3002\u300d\u8fd9\u4e2a\u7406\u89e3\u5bf9\u5417\uff1f</li> <li>\u300cfork\u7c7b\u6bd4 \u8001\u5988\u8981\u505a\u897f\u7ea2\u67ff\u7092\u9e21\u86cb\uff0c\u8ba9\u6211\u5e2e\u5fd9\u5207\u897f\u7ea2\u67ff\u548c\u6253\u9e21\u86cb(\u7236\u8fdb\u7a0b\u8c03\u7528fork\u521b\u5efa\u5b50\u8fdb\u7a0b)\uff0c\u7136\u540e\u5f00\u59cb\u7b49\u6211(\u7236\u8fdb\u7a0bwaitpid)\uff1b\u6211\u5f00\u59cb\u641e(\u5b50\u8fdb\u7a0bexec)\uff0c\u641e\u597d\u4e4b\u540e\u628a\u5207\u597d\u7684\u897f\u7ea2\u67ff\u548c\u86cb\u6db2\u7ed9\u5979(\u5b50\u8fdb\u7a0bexit)\uff0c\u5979\u5f00\u59cb\u7092(\u7236\u8fdb\u7a0b\u7ee7\u7eed\u8fd0\u884c)\uff1b\u7092\u597d\u4e4b\u540e\u8001\u5988\u88c5\u76d8\u7aef\u5230\u684c\u5b50\u4e0a(\u7236\u8fdb\u7a0bexit)\uff0c\u7ed3\u675f\u3002\u300d\u8fd9\u4e2a\u7406\u89e3\u5bf9\u5417\uff1f</li> <li>exec\u662f\u4e0d\u662f\u548c\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u7684\u4e00\u884c\u884c\u6267\u884c\u662f\u4e00\u6837\u7684\uff1f\u6216\u8005\u8bf4\uff0cA\u4ee3\u7801\u5757\u6267\u884c\u5b8c\u5f00\u59cb\u6267\u884c\u4e0b\u9762\u7684B\u4ee3\u7801\u5757\uff1f</li> <li>fork+exec\u662f\u4e0d\u662f\u548c\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u4e00\u6837\u5462\uff1f\u8fd8\u662f\u8bf4fork+exec+wait\u548c\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u4e00\u6837\u5462\uff1f</li> <li>\uff08\u5173\u4e8e\u5b50\u8fdb\u7a0b\u8fd0\u884c\u8fc7\u7a0b\u4e2d\u7236\u8fdb\u7a0b\u662f\u5426\u53ef\u4ee5\u540c\u6b65\u8fd0\u884c\uff09\u5982\u679c fork+exec\u548c\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u4e00\u6837\uff0c\u9ad8\u7ea7\u8bed\u8a00\u4e2d\u51fd\u6570\u5728\u6267\u884c\u65f6\u539f\u6765\u7684\u8bed\u53e5\u76f8\u5f53\u4e8e\u662f\u5728\u7b49\u5f85\u7684\uff08\u5bf9\u5e94\u6307\u4ee4\u96c6\u7684\u6307\u4ee4\u5728\u5355\u6838\u8fd0\u884c\u65f6\u53ea\u80fd\u4e00\u6761\u4e00\u6761\u6267\u884c\uff09 \u2014\u2014 \u6211\u60f3\u77e5\u9053 fork\u4e4b\u540e \u7236\u8fdb\u7a0b\u662f\u5b8c\u5168\u505c\u6b62\u4ee5\u7b49\u5f85\u5b50\u8fdb\u7a0b\u7ed3\u675f\u5417\uff1f\u8fd8\u662f\u8bf4\u7236\u8fdb\u7a0b\u5728\u5b50\u8fdb\u7a0b\u6267\u884c\u7684\u540c\u65f6\u4e5f\u5728\u6267\u884c\u5462\uff1f\uff08\u6211\u5728\u51c6\u5907\u98df\u6750\u7684\u65f6\u5019\uff0c\u8001\u5988\u5728\u4e00\u76f4\u7b49\u6211\uff0c\u5979\u5728\u7b49\u6211\u7684\u8fc7\u7a0b\u4e2d\u662f\u4e0d\u662f\u53ef\u4ee5\u540c\u65f6\u628a\u9505\u52a0\u8d77\u6765\uff0c\u628a\u6cb9\u5012\u8fdb\u9505\u91cc\uff0c\u628a\u706b\u5f00\u5f00\u7b49\u6cb9\u70ed\uff1f\u8fd8\u662f\u56e0\u4e3a\u7b49\u6211\u4ec0\u4e48\u90fd\u4e0d\u505a\u5462\uff1f\uff09</li> <li>\uff08\u5173\u4e8e\u7236\u8fdb\u7a0b\u7b49\u5f85\u5b50\u8fc7\u7a0b\uff09\u662f\u7236\u8fdb\u7a0b\u6bcf\u9694\u4e00\u6bb5\u65f6\u95f4\u5c31\u7785\u7785\u5b50\u8fdb\u7a0b\u662f\u4e0d\u662f\u7ed3\u675f\u4e86\u6765\u5224\u65ad\u5b50\u8fdb\u7a0b\u662f\u5426\u7ed3\u675f\uff1f\u8fd8\u662f\u5b50\u8fdb\u7a0b\u7ed3\u675f\u4e4b\u540e\u901a\u77e5\u7236\u8fdb\u7a0b\u8bf4\u5df2\u7ecf\u7ed3\u675f\u4e86\u5462\uff1f\uff08\u8001\u5988\u8981\u7b49\u6211\u6240\u4ee5\u6bcf\u9694\u4e00\u5206\u949f\u770b\u4e00\u4e0b\u6211\u662f\u4e0d\u662f\u641e\u5b8c\u4e86\uff1f\u8fd8\u662f\u8bf4\u6211\u8fd9\u8fb9\u51c6\u5907\u5b8c\u4e86\u53ef\u4ee5\u544a\u8bc9\u8001\u5988\u8bf4\u6211\u641e\u5b8c\u4e86\uff1f\uff09</li> <li>\u300cspawn\u57fa\u672c\u5b9e\u73b0\u4e86fork+exec\uff0c\u7ed9\u7528\u6237\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u7684\u8c03\u7528\u65b9\u5f0f\uff0c\u4f46\u5355\u72ecfork\u548cexec\u7684\u5404\u79cd\u7ec4\u5408\u80fd\u5b9e\u73b0\u6bd4spawn\u66f4\u5f3a\u5927\u7684\u529f\u80fd\u3002\u300d\u8fd9\u6837\u7684\u7406\u89e3\u5bf9\u5417\uff1f</li> <li>\u6211\u4eec\u5728ch5\u7ec3\u4e60\u4e2d\u5b9e\u73b0\u7684spawn\u53ef\u4ee5\u53ea\u662ffork+exec\uff0c\u4f46\u4e5f\u53ef\u4ee5\u662f\u4e0efork+exec\u529f\u80fd\u4e00\u81f4\u7684\u4e00\u4e2a\u7cfb\u7edf\u8c03\u7528\uff0c\u4ee5\u4e0d\u540c\u65b9\u5f0f\u5b9e\u73b0\uff08\u4e0d\u5fc5\u50cffork\u4e00\u6837\u590d\u5236\u7236\u8fdb\u7a0b\u7684\u5730\u5740\u7a7a\u95f4\uff09\u3002\u662f\u5417\uff1f</li> </ol> <p>\u52a9\u6559\uff1a</p> <p>1\uff0c2\uff1a\u53ef\u4ee5\u8fd9\u6837\u7406\u89e3 3\uff0c4\uff0c5\uff1a\u6700\u597d\u4e0d\u8981\u7528\u51fd\u6570\u8c03\u7528\u6765\u7406\u89e3\uff0c\u5b9e\u9645\u4e0a\u4ece\u8c03\u5ea6\u7684\u89d2\u5ea6\u6765\u770b\uff0cexec\u53ea\u662f\u6211\u628a\u76f8\u5e94\u7684CPU\u4f7f\u7528\u6743\u7ed9\u4e86\u5b50\u8fdb\u7a0b\uff0c\u7236\u8fdb\u7a0b\u53c8\u56de\u5230\u4e86\u961f\u5217\u91cc\uff0c\u6b63\u5e38\u7684\u8fdb\u884c\u8c03\u5ea6\uff0c\u5b8f\u89c2\u4e0a\u53ef\u4ee5\u8ba4\u4e3a\u5b83\u4eec\u90fd\u5728\u6267\u884c\u3002 6\uff1a\u9519\u8bef\uff0c\u5b9e\u9645\u4e0a\u4e0a\u4e00\u4e2a\u89e3\u7b54\u5e94\u8be5\u53ef\u4ee5\u89e3\u7b54\u4f60\u7684\u95ee\u9898\u3002\u5efa\u8bae\u4ed4\u7ec6\u9605\u8bfbfork\u3001exec\u7b49\u5185\u5bb9\u7684\u5b9e\u9a8c\u4ee3\u7801\uff0c\u4ee5\u53ca\u4e00\u4e9b\u8fdb\u7a0b\u8c03\u5ea6\u7684\u5b9e\u73b0\uff0c\u5e94\u8be5\u53ef\u4ee5\u5e2e\u52a9\u6b63\u786e\u7406\u89e3 7\uff1a\u662f\u7684 8\uff1a\u529f\u80fd\u4e0a\u4e0efork+exec\u4e00\u81f4\uff0c\u4f46\u5b9e\u73b0\u4e0d\u80fd\u4e00\u81f4\uff0c\u56e0\u4e3a\u6709\u4e00\u4e9b\u89c4\u5b9a\u4e0a\u7684\u5dee\u5f02\uff0c\u53ef\u4ee5\u9605\u8bfbguide</p>"},{"location":"BLOG/Others/sony-extend/","title":"\u5bb6\u5ead\u7d22\u5c3c\u7535\u89c6\u4f5c\u4e3a\u5916\u63a5\u663e\u793a\u5c4f","text":"<p>\u76ee\u524d\u5bb6\u4e2d\u7528\u7684\u7535\u89c6\u662f SONY \u7684\u6302\u58c1\u7535\u89c6\uff0c\u5728 \u8bbe\u7f6e &gt; \u7cfb\u7edf &gt; \u5173\u4e8e &gt; \u8bbe\u5907\u540d\u79f0 \u5904\u53ef\u4ee5\u770b\u5230\u7535\u89c6\u7684\u578b\u53f7\u662f SONY KD-75X85J\uff0c\u4e3b\u8981\u53c2\u6570\u5982\u4e0b\uff1a</p> <ul> <li>3840x2160\u7684\u5206\u8fa8\u7387</li> <li>120 Hz \u7684\u5237\u65b0\u7387</li> <li>\u4e24\u4e2a HDMI 2.0 \u7684\u53e3\uff0c\u4e24\u4e2a HDMI 2.1\u7684\u53e3\uff0c\u4e24\u8005\u90fd\u652f\u6301 4K60Hz \u7684\u4f20\u8f93\u3002</li> </ul> <p>\u63a8\u8350\u5148\u5728 \u8bbe\u7f6e &gt; \u7cfb\u7edf &gt; \u5173\u4e8e &gt; \u7cfb\u7edf\u8f6f\u4ef6\u66f4\u65b0 \u5904\u5c06\u7cfb\u7edf\u5347\u81f3\u6700\u65b0\u3002</p> <p>\u8981\u5c06\u7535\u89c6\u4f5c\u4e3a\u6269\u5c55\u5c4f\u5e55\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u8d2d\u7f6e\u4e00\u6839\u652f\u6301 4K60Hz \u89c6\u9891\u4f20\u8f93\u7684\u7ebf\u7f06\uff0c\u6ce8\u610f\u666e\u901a\u7684\u6269\u5c55\u575e\u901f\u7387\u5e94\u8be5\u65e0\u6cd5\u652f\u6301\u5230 4K60Hz\uff0c\u6700\u597d\u4f7f\u7528\u76f4\u8fde\u7ebf\u3002\u5c06\u7ebf\u7f06\u7684 HDMI \u53e3\u63d2\u5165\u7535\u89c6\u7684\u56db\u4e2a HDMI \u53e3\u4e4b\u4e00\uff0c\u7136\u540e\u5c06 TypeC \u53e3\u63d2\u5165\u7535\u8111\u7684\u96f7\u7535\u63a5\u53e3\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u5728 SONY \u7535\u89c6\u4e0a\u505a\u4e00\u4e9b\u91cd\u8981\u7684\u8bbe\u7f6e\uff0c\u786e\u4fdd\u5916\u754c\u663e\u793a\u5668\u7684\u663e\u793a\u6548\u679c\uff1a</p> <ul> <li>\u8bbe\u7f6e &gt; \u9891\u9053 &amp; \u8f93\u5165 &gt; \u5916\u90e8\u8f93\u5165 &gt; HDMI \u4fe1\u53f7\u683c\u5f0f &gt; HDMIx &gt; \u9009\u62e9\u589e\u5f3a\u6a21\u5f0f\uff0c\u8fd9\u6837\u80fd\u591f\u786e\u4fdd 4K60Hz \u7684\u663e\u793a\u6548\u679c\u3002</li> <li>\u8bbe\u7f6e &gt; \u663e\u793a\u548c\u58f0\u97f3 &gt; \u56fe\u50cf &gt; \u56fe\u50cf\u6a21\u5f0f\u8c03\u6574\u4e3a\u6e38\u620f\uff0c\u8fd9\u6837\u786e\u4fdd\u89c6\u9891\u663e\u793a\u7684\u5ef6\u65f6\u6700\u4f4e\u3002\u8fd9\u6b3e\u7535\u89c6\u6709 Motionflow \u529f\u80fd\uff0c\u53ef\u4ee5\u63d2\u5e27\u5f97\u5230 120Hz \u7684\u5237\u65b0\u7387\uff0c\u4f46\u662f\u4f1a\u5e26\u6765\u9ad8\u5ef6\u65f6\uff0c\u5916\u63a5\u65f6\u5e76\u4e0d\u9700\u8981\u6b64\u529f\u80fd\u3002</li> </ul> <p>\u81f3\u6b64\u5c31\u53ef\u4e0e\u6109\u5feb\u7684\u4ee5 4K60Hz \u5916\u63a5\u7535\u89c6\u4e86\u3002</p>"},{"location":"BLOG/Others/video-info/","title":"\u89c6\u9891\u4fe1\u606f\u521d\u63a2","text":""},{"location":"BLOG/Others/video-info/#_2","title":"\u5c01\u88c5\u683c\u5f0f","text":"<p>format \u5927\u7bb1\u5b50,\u4f1a\u88c5\u597d\u591a\u4e1c\u897f</p> <ul> <li><code>mp4</code> <code>mov</code> <code>mkv</code></li> <li>\u7f51\u7edc\u53d1\u5e03\u9009\u62e9 <code>mp4</code></li> </ul>"},{"location":"BLOG/Others/video-info/#_3","title":"\u7f16\u7801\u683c\u5f0f","text":"<p>\u7f16\u7801: <code>coder</code> &amp; <code>decoder</code></p>"},{"location":"BLOG/Others/video-info/#h264","title":"H.264","text":"<p><code>H.264</code> = <code>AVC</code> = <code>AVC1</code> <code>Advance Video Code</code> \u76ee\u524d\u4f7f\u7528\u6700\u5e7f\u7684\u9ad8\u6e05\u89c6\u9891\u538b\u7f29\u7f16\u7801\uff08\u4e0d\u8003\u8651<code>H.265</code>\uff09\uff0c\u4ee5\u4f4e\u7801\u7387\u63d0\u4f9b\u9ad8\u8d28\u91cf\u3002\u4e00\u822c\u7f51\u4e0a\u4e0b\u8f7d\u7684\u89c6\u9891\u4e00\u822c\u90fd\u4e3a<code>H.264</code>\u7f16\u7801</p> <p>H.264\u662f\u5e27\u95f4\u7f16\u7801(interframe),\u6709\u4e09\u79cd\u5e27\uff0c\u5206\u522b\u662f<code>I</code>\u3001<code>P</code>\u3001<code>B</code>\u5e27</p> <ul> <li><code>I\u5e27</code>\uff1a\u89e3\u7801\u4e0d\u4f9d\u8d56\u5176\u4ed6\u5e27\uff08\u4e5f\u5c31\u662f\u4e0d\u53c2\u8003\u4efb\u4f55\u4e00\u4e2a\u5e27\uff09\uff0c\u5b58\u6709\u4e00\u4e2a\u5b8c\u6574\u7684\u753b\u9762\u4fe1\u606f</li> <li><code>P\u5e27</code>\uff1a\u5411\u524d\u9884\u6d4b\u5e27\uff0c\u6709\u8f83\u9ad8\u7684\u538b\u7f29\u6bd4\uff0c\u4ec5\u8bb0\u5f55\u5b83\u6240\u53c2\u8003\u7684\u5e27\u7684\u6b8b\u5dee\uff0c\u5e76\u8bb0\u5f55\u8fd0\u52a8\u77e2\u91cf\uff08\u6709\u53ef\u80fd\u5bfc\u81f4\u9519\u8bef\u6269\u6563\uff09\uff0c\u89e3\u7801\u4f9d\u8d56\u5b83\u6240\u53c2\u8003\u7684I\u3001P\u3001B\u5e27\uff08\u5f53\u6253\u5f00B-Pyramid\u5141\u8bb8B\u5e27\u4f5c\u4e3a\u53c2\u8003\u5e27\u65f6\u53c2\u8003B\u5e27\uff09</li> <li><code>B\u5e27</code>\uff1a\u53cc\u5411\u9884\u6d4b\u5e27\uff0c\u4e00\u822c\u60c5\u51b5\u4e0b\u538b\u7f29\u6bd4\u6700\u9ad8\uff0c\u5728\u89e3\u7801\u65f6\u4f9d\u8d56\u4e8e\u5b83\u6240\u53c2\u8003\u7684I\u3001P\u548cB\u5e27</li> </ul>"},{"location":"BLOG/Others/video-info/#h265","title":"H.265","text":"<p><code>H.265</code> = <code>HEVC</code></p>"},{"location":"BLOG/Others/video-info/#apple-prores","title":"Apple ProRes","text":"<p><code>Apple ProRes</code>\u662f\u5e27\u5185\u7f16\u7801(intraframe),\u662f<code>\u5168I\u5e27</code>\u7684\u7f16\u7801,\u4e0d\u5b58\u5728P\u3001B\u5e27</p> <p><code>Apple ProRes</code>\u662f\u82f9\u679c\u4e3a\u975e\u7ebf\u7f16\u5f00\u53d1\u7684\u4e00\u79cd\u89c6\u9891\u7f16\u7801,\u6709<code>ProRes 4444XQ</code>\u3001<code>ProRes 4444</code>\u3001<code>ProRes 422HQ</code>\u3001<code>ProRes 422</code>\u3001<code>ProRes422LT</code>\u3001<code>ProRes422Proxy</code></p> <p>(<code>Apple ProRes 4444</code> \u548c <code>Apple ProRes 4444 XQ</code> \u975e\u5e38\u9002\u5408\u52a8\u6001\u56fe\u5f62\u5a92\u4f53\u7684\u4ea4\u6362\uff0c\u56e0\u4e3a\u5b83\u4eec\u51e0\u4e4e\u662f\u65e0\u635f\u7684\u3002\u5b83\u4eec\u4e5f\u662f\u4ec5\u6709\u7684\u652f\u6301 <code>alpha \u901a\u9053</code>\u7684 Apple ProRes \u7f16\u89e3\u7801\u5668\u3002)</p> <ul> <li>4444  \u5bf9\u4e8e 1920x1080 \u548c 29.97 fps \u7684 4:4:4 \u6e90\uff0c\u5177\u6709\u5927\u7ea6 330 Mbps \u7684\u76ee\u6807\u6570\u636e\u901f\u7387\u3002\u5b83\u8fd8\u63d0\u4f9b\u5230 RGB \u548c Y\u2019CBCR \u50cf\u7d20\u683c\u5f0f\u7684\u76f4\u63a5\u7f16\u7801\u548c\u89e3\u7801</li> <li>422  \u76ee\u6807\u6570\u636e\u901f\u7387\u5728 1920x1080 \u548c 29.97 fps \u65f6\u7ea6\u4e3a 147 Mbps</li> <li>422 Proxy  Apple ProRes 422 Proxy \u662f\u6bd4 Apple ProRes 422 LT \u66f4\u9ad8\u5ea6\u538b\u7f29\u7684\u7f16\u89e3\u7801\u5668\uff0c\u9002\u7528\u4e8e\u9700\u8981\u4f4e\u6570\u636e\u901f\u7387\u548c\u5168\u5206\u8fa8\u7387\u89c6\u9891\u7684\u79bb\u7ebf\u5de5\u4f5c\u6d41\u7a0b\u3002\u76ee\u6807\u6570\u636e\u901f\u7387\u5728 1920x1080 \u548c 29.97 fps \u65f6\u7ea6\u4e3a 45 Mbps\u3002(FCPX\u505a\u4ee3\u7406\u526a\u8f91\u751f\u6210\u7684\u5a92\u4f53\u7f16\u7801\u5c31\u662fApple ProRes 422 Proxy)</li> </ul> <p>(PS.\u4ee3\u7406:\u91cd\u65b0\u7f16\u7801\u51fa\u4e00\u4e2a\u5206\u8fa8\u7387\u66f4\u4f4e,\u5e27\u5185\u7f16\u7801\u7684\u89c6\u9891\u6587\u4ef6,\u8ba9\u4f60\u5728\u526a\u8f91\u7684\u65f6\u5019\u66f4\u52a0\u6d41\u7545.\u526a\u8f91\u5b8c\u6210\u4e4b\u540e,\u53ef\u4ee5\u628a\u4ee3\u7406\u66ff\u6362\u4e3a\u539f\u7d20\u6750\u505a\u8fdb\u4e00\u6b65\u7684\u5904\u7406)</p>"},{"location":"BLOG/Others/video-info/#_4","title":"\u89c6\u9891\u53c2\u6570","text":""},{"location":"BLOG/Others/video-info/#_5","title":"\u5206\u8fa8\u7387","text":"<p><code>1980*1080</code> \u89c6\u9891\u4e2d\u4e00\u5e27(frame)\u7531\u6a2a\u7eb51920\u00d71080\u4e2a\u50cf\u7d20(pixel)\u6784\u6210</p>"},{"location":"BLOG/Others/video-info/#_6","title":"\u5e27\u7387","text":"<p>frame-rate,\u4e00\u79d2\u949f\u5185\u95ea\u8fc7\u7684\u56fe\u50cf\u7684\u6570\u91cf</p> <p>24000/1001=23.976</p> <p>\u89c6\u9891\u7684\u5e27\u7387\u662f\u53ef\u4ee5\u662f\u6052\u5b9a\u7684(cfr, Const Frame-Rate)\uff0c\u4e5f\u53ef\u4ee5\u662f\u53d8\u5316\u7684(vfr, Variable Frame-Rate)</p> <p>\u9010\u884c\u626b\u63cf p \u9694\u884c\u626b\u63cf i</p> <ul> <li>1080i 60 \u9694\u884c\u626b\u63cf \u6bcf\u79d260\u5e27\u7684\u534a\u5e27 \u727a\u7272\u753b\u9762\u7ec6\u8282\u4fdd\u8bc1\u753b\u9762\u6d41\u7545</li> <li>1080p 30 \u9010\u884c\u626b\u63cf \u6bcf\u79d230\u5e27\u7684\u5168\u5e27 \u7ec6\u8282\u4e30\u5bcc\u4f46\u753b\u9762\u6d41\u7545\u5ea6\u4f4e</li> </ul> <p>\u5f69\u8272\u4fe1\u53f7\u4f7f\u7528\u7684\u9891\u6bb5\u53ef\u80fd\u548c\u58f0\u97f3\u4fe1\u53f7\u5e72\u6270,\u4ea7\u751f\u566a\u97f3\u548c\u753b\u9762\u626d\u66f2\u2014\u2014\u628a\u753b\u9762\u7684\u5e27\u7387\u505a0.1%\u7684\u7f29\u51cf,\u907f\u514d\u4e24\u8005\u4e4b\u95f4\u76f8\u4e92\u4ea7\u751f\u5e72\u6270. 59.94,29.97</p> <p>\u4e24\u79cd\u6807\u51c6:NTSC(30Hz,\u7f8e\u56fd,\u65e5\u672c,\u97e9\u56fd,\u83f2\u5f8b\u5bbe\u7b49)\u62cd\u644425Hz\u4f1a\u53d1\u751f\u95ea\u70c1,PAL(25Hz,\u4e2d\u56fd,\u6b27\u6d32\u7b49)</p>"},{"location":"BLOG/Others/video-info/#_7","title":"\u7801\u7387","text":"<p>\u5b8c\u5168\u65e0\u538b\u7f29\u76844K 8bit RGB:<code>4096*2160*24*(8+8+8)/1024/1024=4860Mbit/s\u22485Gbit/s\u2248600MB/s</code></p> <p>\u89e3\u6790:\u5148\u8003\u5bdf\u4e00\u4e2a\u50cf\u7d20\u70b9,\u7531\u4e8e\u662fRGB\u4e14\u672a\u538b\u7f29,8bit\u5219\u4ee3\u8868\u4e09\u4e2a\u901a\u9053\u90fd\u4f1a\u67098bit\u7684\u4fe1\u606f.\u90a3\u4e48\u4e00\u4e2a\u50cf\u7d20\u70b9\u7684\u6570\u636e\u91cf\u4e3a<code>(8+8+8)bit</code>.\u518d\u8003\u5bdf\u4e00\u5e27,\u7531\u4e8e4K\u7684\u5206\u8fa8\u7387\u662f4096*2160,\u4e00\u5e27\u56fe\u50cf\u7684\u6570\u636e\u91cf\u4e3a<code>4096*2160*(8+8+8)bit</code>.\u4e00\u79d2\u518524\u5e27,\u518d\u8fdb\u884c\u5355\u4f4d\u6362\u7b97\u5f97\u5230\u7ed3\u679c</p> <p>\u5206\u6052\u5b9a\u7801\u7387(CBR)\u548c\u53ef\u53d8\u7801\u7387(VBR).\u53ef\u53d8\u7801\u7387\u66f4\u52a0\u5b9e\u7528</p> <p>\u5f53\u8f93\u51fa\u65f6\u5236\u5b9a\u7801\u7387\u4e4b\u540e,\u7f16\u7801\u4f1a\u5c3d\u53ef\u80fd\u5728\u7801\u7387\u5927\u5c0f\u7684\u9650\u5236\u5148\u4fdd\u7559\u6700\u597d\u7684\u56fe\u50cf</p>"},{"location":"BLOG/Others/video-info/#_8","title":"\u56fe\u50cf/\u5e27\u7684\u8868\u793a\u65b9\u6cd5","text":""},{"location":"BLOG/Others/video-info/#rgb","title":"RGB","text":"<p>\u5206\u4e09\u4e2a\u901a\u9053\u7ea2(Red)\u3001\u7eff(Green)\u3001\u84dd(Blue)</p>"},{"location":"BLOG/Others/video-info/#yuv","title":"YUV","text":"<p>\u8272\u5ea6\u91c7\u6837,\u53c8\u88ab\u79f0\u4e3a\u4eae\u5ea6-\u8272\u5ea6\u6a21\u578b\uff08Luma-Chroma\uff09</p> <p>\u4e00\u79cd\u5b9e\u73b0\u65b9\u5f0f\u662f\u4e09\u4e2a\u901a\u9053\u4e3a:\u4eae\u5ea6(Y),\u84dd\u8272\u8272\u5ea6(Cb),\u7ea2\u8272\u8272\u5ea6(Cr)</p> <p>\u4f18\u70b9:YUV\u6a21\u578b\u5c06\u591a\u6570\u6709\u6548\u4fe1\u606f\u96c6\u4e2d\u5728Y\u901a\u9053\uff0c\u51cf\u5c11\u4e86\u5197\u4f59\u4fe1\u606f\u91cf\uff0c\u4e14\u4e3a\u538b\u7f29\u63d0\u4f9b\u4fbf\u5229;\u4eae\u5ea6\u548c\u989c\u8272\u9971\u548c\u5ea6\u7684\u8c03\u8282\uff0c\u5728YUV\u6a21\u578b\u4e0b\u66f4\u65b9\u4fbf</p> <p>\u64ad\u653e\u7684\u65f6\u5019\uff0c\u64ad\u653e\u5668\u9700\u8981\u5c06YCbCr\u7684\u4fe1\u606f\uff0c\u901a\u8fc7\u8ba1\u7b97\uff0c\u8f6c\u6362\u4e3aRGB\u3002\u8fd9\u4e2a\u6b65\u9aa4\u79f0\u4e3a\u6e32\u67d3\uff08Rendering\uff09</p>"},{"location":"BLOG/Others/video-info/#_9","title":"\u91c7\u6837\u683c\u5f0f","text":"<p>\u7814\u7a76\u8868\u660e,\u4eae\u5ea6\u4fe1\u606f\u6700\u597d\u5168\u90e8\u4fdd\u7559,\u800c\u8272\u5ea6\u4fe1\u606f\u53ef\u4ee5\u7531\u591a\u4e2a\u50cf\u7d20\u5171\u4eab\u4e00\u4e2a\u8272\u5ea6\u503c,\u8fd9\u6837\u505a\u53ef\u4ee5\u51cf\u5c11\u6570\u636e\u91cf,\u540c\u65f6\u753b\u9762\u4e0d\u4f1a\u51fa\u73b0\u4ec0\u4e48\u95ee\u9898</p> <p>(\u81ea\u5df1\u7684\u7406\u89e3:\u91c7\u6837\u5c31\u662f\u968f\u673a\u62bd\u53d6,8\u4e2a\u76f8\u90bb\u7684\u50cf\u7d20,\u53d6\u5176\u4e2d\u51e0\u4e2a\u62ff\u51fa\u6765\u5b58\u8fdb\u53bb\u5c31\u884c\u4e86)</p> <p>\u7b2c\u4e00\u4e2a\u6570\u5b57\u4ee3\u8868\u4e86\u50cf\u7d20\u7684\u6a2a\u5411\u6570\u91cf,\u6765\u8fdb\u884c\u8272\u5ea6\u91c7\u6837;\u7b2c\u4e8c\u4e2a\u6570\u5b57,\u4ee3\u8868\u4e86\u7b2c\u4e00\u884c\u50cf\u7d20\u7684\u8272\u5ea6\u91c7\u6837\u503c;\u7b2c\u4e09\u4e2a\u6570\u5b57,\u4ee3\u8868\u4e86\u7b2c\u4e8c\u884c\u50cf\u7d20\u7684\u91c7\u6837\u503c</p> <p>\u4e3b\u8981\u91c7\u6837\u683c\u5f0f:</p> <ul> <li>4:4:4  \u6bcf\u56db\u5217\u50cf\u7d20\u8fdb\u884c\u4e00\u6b21\u53d6\u6837.\u53d6\u6837\u65f6\u7b2c\u4e00\u884c\u53d64\u4e2a,\u7b2c\u4e8c\u884c\u53d64\u4e2a.8bit\u91cf\u5316\u65f6,\u4e00\u4e2a\u50cf\u7d203Byte</li> <li>4:2:2  \u6bcf\u56db\u5217\u50cf\u7d20\u8fdb\u884c\u4e00\u6b21\u53d6\u6837.\u53d6\u6837\u65f6\u7b2c\u4e00\u884c\u53d62\u4e2a,\u7b2c\u4e8c\u884c\u53d62\u4e2a.\u5269\u4e0b\u6ca1\u6709\u88ab\u53d6\u6837\u7684\u50cf\u7d20\u7531\u5468\u56f4\u7684\u50cf\u7d20\u4ee3\u66ff.\u8fd9\u6837\u505a\u76f8\u6bd4444\u4e22\u5931\u4e86\u4e00\u534a\u7684\u8272\u5ea6\u4fe1\u606f.8bit\u91cf\u5316\u65f6,\u4e24\u4e2a\u50cf\u7d204Byte<code>(\u4e24\u4e2a\u50cf\u7d20\u7684\u4eae\u5ea6)2*1+(\u4e00\u4e2a\u50cf\u7d20\u7684\u4e24\u4e2a\u8272\u5ea6\u901a\u9053\u8272\u5ea6)1*2*1</code>,\u4e00\u4e2a\u50cf\u7d202Byte</li> <li>4:2:0  \u6bcf\u56db\u5217\u50cf\u7d20\u8fdb\u884c\u4e00\u6b21\u53d6\u6837.\u53d6\u6837\u65f6\u7b2c\u4e00\u884c\u53d62\u4e2a,\u7b2c\u4e8c\u884c\u4e0d\u53d6.8bit\u91cf\u5316\u65f6,\u56db\u4e2a\u50cf\u7d206Byte<code>(\u56db\u4e2a\u50cf\u7d20\u7684\u4eae\u5ea6)4*1+(\u4e00\u4e2a\u50cf\u7d20\u7684\u4e24\u4e2a\u8272\u5ea6\u901a\u9053\u8272\u5ea6)1*2*1</code>,\u4e00\u4e2a\u50cf\u7d201.5Byte.\u76f8\u6bd4444\u6254\u6389\u4e8675%\u7684\u8272\u5ea6\u4fe1\u606f.\u4e0d\u8fc7\u6b63\u5e38\u62cd\u6444\u548c\u8c03\u8272\u90fd\u6ca1\u95ee\u9898</li> </ul> <p>(\u6ce8:4:2:0\u5e76\u4e0d\u610f\u5473\u7740\u53ea\u6709Y,Cb\u800c\u6ca1\u6709Cr\u5206\u91cf\u3002\u5b83\u6307\u5f97\u662f\u5bf9\u6bcf\u884c\u626b\u63cf\u7ebf\u6765\u8bf4\uff0c\u53ea\u6709\u4e00\u79cd\u8272\u5ea6\u5206\u91cf\u4ee52:1\u7684\u62bd\u6837\u7387\u5b58\u50a8\u3002\u76f8\u90bb\u7684\u626b\u63cf\u884c\u5b58\u50a8\u4e0d\u540c\u7684\u8272\u5ea6\u5206\u91cf\uff0c \u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4e00\u884c\u662f4:2:0\u7684\u8bdd\uff0c\u4e0b\u4e00\u884c\u5c31\u662f4:0:2\uff0c\u518d\u4e0b\u4e00\u884c\u662f4:2:0...\u4ee5\u6b64\u7c7b\u63a8\u3002\u5bf9\u6bcf\u4e2a\u8272\u5ea6\u5206\u91cf\u6765\u8bf4\uff0c\u6c34\u5e73\u65b9\u5411\u548c\u7ad6\u76f4\u65b9\u5411\u7684\u62bd\u6837\u7387\u90fd\u662f 2:1\uff0c\u6240\u4ee5\u53ef\u4ee5\u8bf4\u8272\u5ea6\u7684\u62bd\u6837\u7387\u662f4:1)</p>"},{"location":"BLOG/Others/video-info/#_10","title":"\u8272\u6df1","text":"<p>\u8272\u6df1(bit-depth)\uff0c\u5c31\u662f\u6211\u4eec\u901a\u5e38\u8bf4\u76848bit\u548c10bit\uff0c\u662f\u6307\u6bcf\u4e2a\u901a\u9053\u7684\u7cbe\u5ea6\u30028bit\u5c31\u662f\u6bcf\u4e2a\u901a\u9053\u7528\u4e00\u4e2a8bit\u6574\u6570(0~255)\u4ee3\u8868\uff0c10bit\u5c31\u662f\u752810bit\u6574\u6570(0~1023)\u6765\u663e\u793a,\u66f4\u9ad8\u7684\u8272\u6df116bit\u5219\u662f0~65535</p> <p>\u4f8b\u5b50:8bitRBG\u6240\u80fd\u5448\u73b0\u7684\u989c\u8272\u79cd\u6570\u4e3a:2^24=16,777,216, 10bitRBG\u6240\u80fd\u5448\u73b0\u7684\u989c\u8272\u79cd\u6570\u4e3a:2^30=1,073,741,824\u224810\u4ebf</p> <p>\u603b\u7ed3:10bit\u5728\u8fdb\u884c\u9ad8\u7aef\u5904\u7406\u7684\u65f6\u5019\u5341\u5206\u5fc5\u8981,\u4f46\u662f8bit\u5728\u65e5\u5e38\u4f7f\u7528\u5df2\u7ecf\u8db3\u591f</p>"},{"location":"BLOG/Others/video-info/#_11","title":"\u53c2\u8003\u8d44\u6599","text":"<ul> <li>VCB-Studio | \u79d1\u666e\u6559\u7a0b 3 \u89c6\u9891\u683c\u5f0f\u57fa\u7840\u77e5\u8bc6</li> <li>videostar | \u7b80\u5355\u7684\u8bf4\u4e0bh.264\u4e0eprores\u89c6\u9891\u7f16\u7801\u5728\u6027\u80fd\u4e0a\u9762\u7684\u533a\u522b</li> <li>bilibili | \u5b8c\u5168\u89e3\u6790\uff1a\u7f16\u7801\u4e0e\u5c01\u88c5</li> <li>bilibili | \u9ad8\u753b\u8d28\u7684\u80cc\u540e\u2014\u2014\u89c6\u9891\u7684\u5c01\u88c5\u4e0e\u7f16\u7801</li> <li>bilibili | 422\uff0c420\uff0c10bit\uff0c8bit\uff1f\u8fd9\u4e9b\u7a76\u7adf\u662f\u4ec0\u4e48(\u8d85\u7ea7\u63a8\u8350\u8fd9\u4e24\u4e2a\u5f71\u89c6\u5267\u98ce\u7684\u786c\u6838\u79d1\u666e)</li> <li>bbsmax | YUV\u4e3b\u8981\u91c7\u6837\u683c\u5f0f\u7406\u89e3</li> <li>Apple\u5b98\u7f51 | \u5173\u4e8e Apple ProRes</li> <li>Apple\u5b98\u7f51 | \u5173\u4e8e Final Cut Pro X \u4e2d\u7684\u4e0d\u517c\u5bb9\u5a92\u4f53</li> <li>videostar | \u82f9\u679cApple ProRes\u7f16\u7801\u77e5\u8bc6\u666e\u53ca</li> </ul>"},{"location":"HuSay/20231123/","title":"\u201d\u6162\u601d\u8003\u201c\u4e4b\u6211\u89c1","text":"<p>2023.11.23 21:40</p> <p>\u4eca\u5929\u9047\u89c1\u4e86\u4e00\u4ef6\u6709\u610f\u601d\u7684\u5c0f\u4e8b\uff0c\u611f\u6168\u826f\u591a\u3002</p> <p>\u6545\u4e8b\u5f88\u7b80\u5355\uff0c\u4e14\u542c\u6211\u53d9\u6765\u3002</p> <p>\u4ece\u5b9e\u9a8c\u5ba4\u51fa\u6765\u6bd4\u5e73\u5e38\u665a\u4e0d\u5c11\uff0c\u53bb\u98df\u5802\u5403\u996d\u3002\u6211\u8d70\u5411\u8106\u76ae\u9e21\u7684\u7a97\u53e3\uff0c\u5927\u6982\u8ddd\u79bb\u4e94\u7c73\u7684\u65f6\u5019\uff0c\u6211\u521a\u51c6\u5907\u5f00\u53e3\uff0c\u6253\u996d\u7684\u5927\u53d4\u76f4\u63a5\u5bf9\u540e\u53f0\u558a\u4e0a\u4e00\u53e5\uff1a\u201c\u871c\u6c41\u8106\u76ae\u9e21\uff0c\u4e0d\u8981\u9ebb\u5a46\u8c46\u8150\u201d\u3002</p> <p>\u6211\u548c\u4ed6\u90fd\u7b11\u4e86\uff0c\u6211\u8bf4\uff1a\u201c\u54c8\u54c8\uff0c\u5927\u53d4\u60a8\u8bb0\u6027\u771f\u597d\uff01\u201d\uff0c\u4ed6\u7ee7\u7eed\u4fdd\u6301\u61a8\u61a8\u7684\u3001\u7565\u663e\u6df3\u6734\u7684\u5fae\u7b11\uff0c\u8bf4\uff1a\u201c\u5c0f\u4f19\u5b50\u4f60\u53ef\u662f\u8001\u4e3b\u987e\u554a\u201d\u3002</p> <p>\u6211\u7565\u663e\u597d\u5947\u5730\u95ee\u4e86\u4ed6\uff1a\u201c\u60a8\u6bcf\u5929\u7ed9\u90a3\u4e48\u591a\u5b66\u751f\u548c\u8001\u5e08\u70b9\u9910\uff0c\u6211\u4e5f\u4e0d\u662f\u7ecf\u5e38\u6765\u8fd9\u91cc\u5403\u8106\u76ae\u9e21\uff0c\u662f\u600e\u4e48\u8bb0\u4f4f\u6211\u7684\u83dc\u5355\u7684\u5462\uff1f\u201d</p> <p>\u4ed6\u76f4\u76f4\u5730\u8bf4\uff1a\u201c\u4f60\u662f\u4e3a\u6570\u4e0d\u591a\u7684\uff0c\u6bcf\u6b21\u6253\u5b8c\u83dc\u90fd\u4f1a\u8ddf\u6211\u8bf4\u8c22\u8c22\u7684\u4eba\u201d\uff0c\u968f\u540e\u7279\u5730\u7ed9\u6211\u6253\u4e86\u4e24\u4efd\u8106\u76ae\u9e21\u3002</p> <p>\u6211\u6709\u70b9\u60ca\u559c\uff0c\u4e5f\u4e0d\u597d\u610f\u601d\u591a\u8bf4\u4ec0\u4e48\uff0c\u4f9d\u65e7\u662f\u7b11\u7b11\uff0c\u968f\u540e\u8bf4\u4e86\u58f0\u201c\u8c22\u8c22\u201d\u3002</p> <p>\u6211\u5403\u996d\u7684\u65f6\u5019\u60f3\u4e86\u5f88\u591a\uff0c\u5176\u5b9e\u6211\u6839\u672c\u6ca1\u6709\u610f\u8bc6\u5230\u81ea\u5df1\u6bcf\u6b21\u6253\u5b8c\u996d\u540e\u90fd\u4f1a\u8ddf\u4ed6\u8bf4\u8c22\u8c22\u3002</p> <p>\u6211\u56de\u5fc6\u4e86\u4e00\u4e0b\uff0c\u5927\u6982\u5c31\u662f\u5728\u6700\u8fd1\u4e00\u5e74\uff0c\u201c\u8c22\u8c22\u201d\u8fd9\u53e5\u8bdd\u624d\u523b\u5728\u4e86\u6211\u7684\u201c\u8bed\u8a00\u6f5c\u610f\u8bc6\u201d\u91cc\uff0c\u751a\u81f3\u6211\u8bf4\u8c22\u8c22\u7684\u65f6\u5019\u5927\u591a\u8fd8\u662f\u51ed\u501f\u808c\u8089\u8bb0\u5fc6\u3002</p> <p>\u6211\u5411\u4e0b\u601d\u8003\u4e86\u4e00\u5c42\uff1a\u4e3a\u4ec0\u4e48\u662f\u6700\u8fd1\u4e00\u5e74\uff0c\u800c\u4e0d\u662f\u66f4\u65e9\u4ee5\u524d\uff0c\u8ba9\u6211\u517b\u6210\u4e86\u5e38\u6001\u5316\u201c\u8c22\u8c22\u201d\u7684\u4e60\u60ef\uff1f</p> <p>\u6211\u53c8\u60f3\uff1a\u4e3a\u4ec0\u4e48\u8fd9\u4e2a\u53d4\u53d4\u4f1a\u6ce8\u610f\u5230\u6211\u7684\u201c\u8c22\u8c22\u201d\uff0c\u800c\u4e4b\u524d\u6211\u5728\u9ad8\u4e2d\u65f6\u5929\u5929\u5149\u987e\u7684\u7a97\u53e3\uff0c\u6253\u996d\u963f\u59e8\u6ca1\u53d8\u8fc7\uff0c\u5374\u672a\u66fe\u5bf9\u6211\u7684\u201c\u8c22\u8c22\u201d\u6709\u7c7b\u4f3c\u7684\u8bb0\u5fc6\u5462\uff1f\u6291\u6216\u662f\u5979\u4eec\u77e5\u9053\uff0c\u4f46\u662f\u5374\u5e76\u4e0d\u8868\u8fbe\u5462\uff1f</p> <p>\u6211\u7684\u5fc3\u91cc\u5176\u5b9e\u5df2\u7ecf\u6709\u4e86\u7b54\u6848\uff0c\u800c\u4e14\u662f\u9488\u5bf9\u4e0a\u9762\u4e24\u5c42\u601d\u8003\u7684\u3002</p>"},{"location":"HuSay/20231123/#_2","title":"\u6211\u89c9\u5f97\uff0c\u4e3b\u8981\u7684\u539f\u56e0\u662f\uff1a\u751f\u6d3b\u6162\u8282\u594f\u6240\u5e26\u6765\u7684\u201c\u6109\u60a6\u611f\u201d\u8ba9\u6211\u4eec\u5728\u5e73\u51e1\u4e2d\u6ce8\u610f\u5230\u90a3\u4e9b\u6240\u8c13\u7684\u201c\u4e60\u4ee5\u4e3a\u5e38\u201d\u3002","text":"<p>\u6211\u5728\u53bb\u5e74\u4e5d\u6708\u4e00\u53f7\u6765\u5230\u897f\u5b89\uff0c\u6765\u5230\u8fd9\u91cc\u7684\u7b2c\u4e00\u5929\uff0c\u6211\u5c31\u611f\u53d7\u5230\u8fd9\u5ea7\u5341\u4e09\u671d\u53e4\u90fd\u7684\u7279\u522b\u4e4b\u5904\u2014\u2014\u2014\u6162\u800c\u6709\u8da3\u7684\u751f\u6d3b\u8282\u594f\u3002\u60f3\u8d77\u6765\u4e4b\u524d\u770b\u8fc7\u7684\u4e00\u7bc7\u6587\u7ae0\u300a\u6162\u4e0b\u6765\uff0c\u624d\u7cbe\u5f69\u300b\uff0c\u91cc\u9762\u63d0\u5230\u4e86\u4e00\u53e5\u8bdd\uff0c\u8ba9\u6211\u81f3\u4eca\u8bb0\u5fc6\u72b9\u65b0\uff1a\u201c\u6162\u601d\u8003\uff0c\u5feb\u884c\u52a8\u201d\u3002</p> <p>\u5728\u897f\u5b89\u7684\u4e00\u5e74\u91cc\uff0c\u6211\u5bf9\u5f53\u5730\u6162\u800c\u6709\u5e8f\u7684\u751f\u6d3b\u8282\u594f\uff0c\u4ece\u6700\u5f00\u59cb\u7684\u60ca\u5f02\u597d\u5947\uff0c\u5230\u9010\u6e10\u7684\u4e60\u60ef\u52a0\u5165\uff0c\u518d\u5230\u73b0\u5728\u7684\u7406\u89e3\u878d\u5165\u3002</p>"},{"location":"HuSay/20231123/#_3","title":"\u5728\u897f\u5b89\uff0c\u201d\u6162\u201c\u662f\u968f\u5904\u53ef\u89c1\u7684\uff1a","text":"<p>\u5f53\u5730\u653f\u5e9c\u51fa\u53f0\u7684\u65e0\u6761\u4ef6\u201d\u8f66\u8ba9\u4eba\u201c\u653f\u7b56\uff0c\u964d\u4e0b\u4e86\u8f66\u901f\uff0c\u63d0\u5347\u4e86\u5c45\u6c11\u7684\u5e78\u798f\u6307\u6570\u3002\u6216\u8bb8\u4f60\u4f1a\u8ba4\u4e3a\u8fd9\u6ca1\u4ec0\u4e48\u7a00\u5947\u7684\uff0c\u6211\u539f\u672c\u4e5f\u662f\u8fd9\u6837\u60f3\u7684\uff0c\u4ee5\u4e3a\u8fd9\u5c31\u662f\u666e\u901a\u7684\u201d\u9e21\u808b\u201c\u653f\u7b56\u3002\u4f46\u5f53\u6211\u4eb2\u8eab\u4f53\u4f1a\u65f6\uff0c\u624d\u77e5\u9053\u8fd9\u9879\u653f\u7b56\u7684\u610f\u4e49\u3002</p> <p>\u6211\u521a\u5f00\u5b66\u7684\u65f6\u5019\uff0c\u5bf9\u8fd9\u91cc\u4eba\u751f\u5730\u4e0d\u719f\u3002\u5728\u53bb\u5317\u57ce\u5899\u6e38\u73a9\u7684\u8def\u4e0a\uff0c\u6211\u56e0\u4e3a\u6234\u7740\u8033\u673a\u8fc7\u9a6c\u8def\uff0c\u6ca1\u6709\u6ce8\u610f\u5230\u6b64\u65f6\u5df2\u7ecf\u7ea2\u706f\u4e86\uff0c\u751a\u81f3\u6211\u8fd8\u6ca1\u6709\u8d70\u6591\u9a6c\u7ebf\u3002\u5f53\u6211\u53cd\u5e94\u8fc7\u6765\u65f6\uff0c\u8ddd\u79bb\u9a6c\u8def\u5bf9\u9762\u8fd8\u6709\u4e0d\u5c11\u8def\uff0c\u5f88\u591a\u8f66\u5df2\u7ecf\u5f80\u8fd9\u5f00\u4e86\uff0c\u6211\u52a0\u7d27\u5c0f\u8dd1\u3002\u5ffd\u7136\u6211\u6ce8\u610f\u5230\uff0c\u8fd9\u4e9b\u8f66\u4e0d\u7ea6\u800c\u540c\u5730\u5728\u6211\u8fc7\u9053\u7684\u5730\u65b9\u505c\u4e0b\uff0c\u6392\u6210\u4e00\u6761\u76f4\u7ebf\uff0c\u6709\u53f8\u673a\u5411\u6211\u62db\u624b\u793a\u610f\uff0c\u8ba9\u6211\u4e0d\u8981\u7740\u6025\u3002\u90a3\u4e00\u523b\uff0c\u6211\u611f\u5230\u524d\u6240\u672a\u6709\u7684\u6e29\u6696\uff0c\u6211\u4e00\u8fb9\u53cc\u624b\u5408\u5341\u5411\u4ed6\u793a\u610f\uff0c\u4e00\u8fb9\u63a5\u7740\u5c0f\u8dd1\u76f4\u5230\u9a6c\u8def\u5bf9\u8fb9\u3002\u6bcf\u5f53\u56de\u60f3\u8d77\u8fd9\u4ef6\u4e8b\uff0c\u6211\u7684\u5fc3\u5934\u90fd\u4f1a\u6d8c\u73b0\u4e00\u80a1\u6696\u6d41\u3002</p> <p>\u5728\u897f\u5b89\uff0c\u968f\u5904\u53ef\u89c1\u8eab\u7740\u6c49\u670d\u6216\u5510\u88c5\u7684\u5c11\u5973\uff0c\u6216\u662f\u5728\u65e5\u5e38\u7684\u5730\u94c1\u4e0a\uff0c\u6216\u662f\u5728\u666e\u901a\u7684\u8857\u9053\u91cc\uff0c\u8fd9\u79cd\u666f\u8c61\u7edd\u4e0d\u4ec5\u9650\u4e8e\u65c5\u6e38\u65fa\u5b63\u7684\u5927\u5510\u4e0d\u591c\u57ce\u3002\u8fd9\u662f\u6587\u5316\u81ea\u4fe1\u5417\uff1f\u663e\u7136\u662f\uff01\u4f46\u662f\u8fd9\u5e76\u4e0d\u5c40\u9650\u4e8e\u5386\u53f2\u6587\u5316\uff0c\u6211\u8ba4\u4e3a\u8fd8\u6709\u8fd9\u5ea7\u57ce\u5e02\u7684\u201d\u6162\u6587\u5316\u201c\uff0c\u5979\u4eec\u6709\u65f6\u95f4\u3001\u6709\u7cbe\u529b\u3001\u6709\u5fd7\u8da3\u8ffd\u6c42\u5ba1\u7f8e\uff0c\u6ce8\u91cd\u81ea\u5df1\u7684\u7cbe\u795e\u9676\u51b6\u4e0e\u4eab\u53d7\u3002</p> <p>\u6b64\u5916\uff0c\u6bcf\u5929\u65e9\u4e0a\u4f60\u90fd\u53ef\u4ee5\u5728\u62a4\u57ce\u6cb3\u8fb9\u770b\u89c1\u4e00\u7fa4\u905b\u9e1f\u7684\u8001\u4eba\u5bb6\u3002\u6211\u53bb\u8fc7\u5f88\u591a\u57ce\u5e02\uff0c\u4f46\u662f\u6211\u4ece\u672a\u89c1\u8fc7\u54ea\u4e00\u4e2a\u57ce\u5e02\u5bf9\u4e8e\u905b\u9e1f\u7684\u8ffd\u6c42\u6709\u53e4\u57ce\u897f\u5b89\u8fd9\u822c\u6267\u7740\u3002\u5ba0\u517b\u9e23\u79bd\u662f\u4e2d\u56fd\u7684\u4e00\u79cd\u201c\u56fd\u7cb9\u201d\uff0c\u897f\u5b89\u7684\u62a4\u57ce\u6cb3\u8fb9\u6bcf\u5929\u5927\u6e05\u65e9\u90fd\u6709\u8bb8\u591a\u517b\u9e1f\u7231\u597d\u8005\u6765\u6e9c\u9e1f\u3001\u4ea4\u6d41\u517b\u9e1f\u7ecf\u3002\u8fd9\u91cc\u7684\u9e1f\u57fa\u672c\u662f\u753b\u7709\uff0c\u6bcf\u5929\u6e05\u65e9\uff0c\u51e0\u5341\u4e2a\u9e1f\u7b3c\u5728\u6811\u4e0a\u4e00\u5b57\u6392\u5f00\u715e\u662f\u58ee\u89c2\uff0c\u518d\u52a0\u4e0a\u53e4\u57ce\u5899\u7684\u886c\u6258\uff0c\u4e5f\u7b97\u662f\u80fd\u5ab2\u7f8e\u65ad\u6865\u70df\u96e8\u4e86\u3002</p>"},{"location":"HuSay/20231123/#_4","title":"\u6765\u4e86\u897f\u5b89\u4e00\u5e74\uff0c\u6211\u7684\u751f\u6d3b\u4e5f\u53d8\u5f97\u6162\u4e86\u4e0d\u5c11\uff0c\u4f46\u662f\u6548\u7387\u5374\u4e00\u70b9\u6ca1\u964d\uff0c\u79c1\u4ee5\u4e3a\u8fd9\u5c31\u662f\u201c\u6162\u601d\u8003\u201d\u6240\u5bf9\u5e94\u7684\u201c\u5feb\u884c\u52a8\u201d\u3002","text":"<p>\u201c\u6162\u601d\u8003\u201d\u5f3a\u8c03\uff1a\u6bcf\u5f62\u6210\u4e00\u4e2a\u89c2\u70b9\u524d\uff0c\u5fc5\u6709\u53c2\u7167\u5206\u6790\u3001\u6709\u903b\u8f91\u63a8\u65ad\uff1b\u6bcf\u8bb2\u4e00\u53e5\u8bdd\u4e4b\u524d\uff0c\u5fc5\u987b\u7ecf\u8fc7\u5145\u5206\u7684\u601d\u8003\u4e0e\u6f14\u7ece\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u4e2a\u8bdd\u662f\u7ecf\u8fc7\u614e\u91cd\u8003\u91cf\u540e\u5f97\u51fa\u6765\u7684\u5ba2\u89c2\u7ed3\u8bba\uff0c\u8fd9\u79cd\u201c\u6162\u601d\u8003\u201d\u662f\u7ecf\u5386\u8fc7\u4e86\u903b\u8f91\u548c\u7406\u6027\u7684\u7b5b\u9009\u540e\u7559\u4e0b\u7684\u89c2\u70b9\u3002\u6bcf\u7ecf\u5386\u4e00\u6b21\u6162\u7684\u601d\u8003\uff0c\u90fd\u662f\u5b9d\u8d35\u7ecf\u9a8c\u7684\u79ef\u7d2f\u3002\u5e38\u5e74\u7d2f\u6708\u7684\u201c\u6162\u601d\u8003\u201d\uff0c\u9010\u6e10\u884d\u751f\u51fa\u6211\u4eec\u7684\u4e00\u5957\u6210\u719f\u7684\u3001\u5408\u4e4e\u60c5\u7406\u4e14\u9ad8\u6548\u7684\u505a\u4e8b\u65b9\u6848\u4e0e\u884c\u4e8b\u98ce\u683c\u3002</p> <p>\u201c\u6162\u601d\u8003\u201d\u7684\u540c\u65f6\uff0c\u4f1a\u5bf9\u5e94\u591a\u800c\u6df1\u9083\u7684\u4ea4\u6d41\uff0c\u6291\u6216\u662f\u4e0e\u5fb7\u9ad8\u671b\u91cd\u7684\u5bfc\u5e08\u6559\u6388\uff0c\u6291\u6216\u662f\u4e0e\u4eb2\u5207\u6709\u4e3a\u7684\u5b66\u957f\u5b66\u59d0\u3002\u8ddf\u4ed6\u4eec\u4ea4\u6d41\uff0c\u80fd\u4e60\u5f97\u4e66\u672c\u4e0a\u96be\u4ee5\u8a00\u6e05\u9053\u660e\u7684\u7ecf\u9a8c\u4e0e\u667a\u6167\u3002\u82b1\u4e00\u70b9\u70b9\u65f6\u95f4\u53bb\u8046\u542c\u3001\u6c72\u53d6\u8d70\u5728\u524d\u4eba\u7684\u6210\u529f\u7ecf\u9a8c\u4e0e\u632b\u6298\u6559\u8bad\uff0c\u662f\u5f88\u503c\u5f97\u7684\u3002\u8fd9\u5e76\u4e0d\u662f\u6240\u8c13\u7684\u201c\u8352\u5e9f\u5149\u9634\uff0c\u95f2\u804a\u5ea6\u65e5\u201d\uff0c\u800c\u662f\u4e00\u79cd\u201c\u5f00\u653e\u5e73\u7b49\u201d\uff0c\u4e0d\u201c\u95ed\u95e8\u9020\u8f66\u201d\u7684\u5b66\u4e60\u5fc3\u6001\u3002\u8fd9\u4e5f\u8bb8\u53ef\u4ee5\u5728\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u89e3\u91ca\u4e3a\u4ec0\u4e48\u5f88\u591a\u5728\u5927\u5b66\u9636\u6bb5\u4fdd\u6301\u9ad8\u4e2d\u9898\u6d77\u6218\u672f\u7684\u201c\u5377\u738b\u201d\uff0c\u6700\u540e\u5f88\u96be\u8d70\u7684\u8fdc\u7684\u201c\u60b2\u5267\u201d\u73b0\u8c61\u3002\u6211\u4e00\u76f4\u575a\u4fe1\uff0c\u53ea\u6709\u7ad9\u5f97\u9ad8\uff0c\u624d\u80fd\u770b\u5f97\u8fdc\uff0c\u800c\u540e\u8d70\u7684\u7a33\uff01</p> <p>\u56e0\u800c\uff0c\u6211\u4eec\u624d\u80fd\u6709\u201c\u5feb\u884c\u52a8\u201d\u3002</p>"},{"location":"HuSay/20231123/#_5","title":"\u6b63\u662f\u517b\u6210\u4e86\u201c\u6162\u601d\u8003\u201d\u7684\u4e60\u60ef\uff0c\u6211\u624d\u80fd\u5728\u6f2b\u957f\u7684\u6c42\u5b66\u751f\u6daf\u4e2d\uff0c\u4e0d\u65f6\u4e0e\u60ca\u559c\u9082\u9005","text":"<p>\u8fd9\u4e00\u5e74\u6765\uff0c\u751f\u6d3b\u8282\u594f\u660e\u663e\u53d8\u6162\uff0c\u6211\u53d8\u5f97\u66f4\u6ce8\u91cd\u7ec6\u8282\uff0c\u66f4\u6ce8\u91cd\u4ed6\u4eba\u7684\u611f\u53d7\u3002\u8fd9\u5927\u6982\u4e5f\u80fd\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6211\u662f\u5728\u6700\u8fd1\u7684\u4e00\u5e74\u91cc\u624d\u628a\u201c\u8c22\u8c22\u201d\u6302\u5728\u5634\u8fb9\u3002 \u751f\u6d3b\u53d8\u5f97\u6162\u4e86\uff0c\u53d6\u5f97\u7684\u6210\u679c\u5374\u4e00\u70b9\u6ca1\u5c11\uff1a\u5956\u5b66\u91d1\uff0c\u6570\u6a21\u7701\u4e00\uff0c\u6570\u7ade\u7701\u4e00\uff0c\u4e13\u5229\u5728\u7533\uff0c\u8bba\u6587\u5728\u53d1...</p>"},{"location":"HuSay/20231123/#_6","title":"\u7ed3\u8bed\uff1a","text":"<p>\u6162\u6162\u5730\uff0c\u6211\u5df2\u7ecf\u4e60\u60ef\u4e86\u897f\u5b89\u8fd9\u5ea7\u57ce\u5e02\uff0c\u5b83\u4e0d\u4ec5\u7ed9\u6211\u5e26\u6765\u4e86\u5b66\u4e1a\u4e0a\u7684\u4e30\u6536\uff0c\u7cbe\u795e\u4e0a\u7684\u4e30\u6c9b\u6e90\u6cc9\uff0c\u66f4\u6559\u7ed9\u6211\u6cf0\u7136\u82e5\u4e4b\u3001\u5706\u6da6\u81ea\u5982\u7684\u4e3a\u4eba\u5904\u4e8b\u667a\u6167 \u8bda\u5982\u65af\u8a00\uff1a\u6162\u4e0b\u6765\uff0c\u624d\u7cbe\u5f69\u3002</p>"},{"location":"LECTURE/","title":"\u57fa\u7840\u8fd0\u7ef4\u77e5\u8bc6","text":""},{"location":"LECTURE/#_2","title":"\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0","text":"<ul> <li> <p>\u8fd9\u4e00\u90e8\u5206\u7b14\u8005\u57fa\u672c\u4e0a\u5168\u5f15\u7528\u4e86\u6768\u5e0c\u6770\u5b66\u957f\u7684\u7f51\u7ad9https://yang-xijie.github.io/LECTURE/</p> </li> <li> <p>\u7b14\u8005\u7684\u57fa\u7840\u8fd0\u7ef4\u77e5\u8bc6\u662f\u8ddf\u968f\u6768\u5b66\u957f\u7684\u7f51\u7ad9\u8fdb\u884c\u5b66\u4e60\u7684\uff0c\u6536\u83b7\u9887\u4e30\uff01\u7531\u4e8e\u6c34\u5e73\u6709\u9650\uff0c\u6b64\u5904\u76f4\u63a5\u5f15\u7528\u6768\u5b66\u957f\u7684\u8bb2\u7a3f</p> </li> <li> <p>\u5e0c\u671b\u5927\u5bb6\u80fd\u5728\u6768\u5b66\u957f\u4e30\u5bcc\u8be6\u5c3d\u7684\u8bb2\u7a3f\u4e2d\u4e60\u5f97\u8fd0\u7ef4\u7684\u77e5\u8bc6</p> </li> </ul>"},{"location":"LECTURE/Git/git-demos/","title":"Git \u5b9e\u4f8b","text":""},{"location":"LECTURE/Git/git-demos/#git-initaddstatusdiffcommitstatusaddcommitlogdiff","title":"git init/add/status/diff/commit/status/add/commit/log/diff","text":""},{"location":"LECTURE/Git/git-demos/#_1","title":"\u521d\u59cb\u5316\u4ed3\u5e93","text":"<pre><code>$ cd ~/Desktop\n$ mkdir notes\n$ cd notes\n$ git init\nInitialized empty Git repository in /Users/yangxijie/Desktop/notes/.git/\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_2","title":"\u6dfb\u52a0\u4e00\u4e2a\u6587\u4ef6","text":"<pre><code>$ touch markdown_learn.md\n$ vim markdown_learn.md\n$ cat markdown_learn.md\n# Markdown Note\n# Grammar\n`#`: title\n\n[](): add link\n\n![](): add image\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_3","title":"\u67e5\u770b\u72b6\u6001","text":"<pre><code>$ git status\nOn branch main\n\nNo commits yet\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    markdown_learn.md\n\nnothing added to commit but untracked files present (use \"git add\" to track)\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_4","title":"\u6dfb\u52a0\u6587\u4ef6\u5230\u6682\u5b58\u533a","text":"<pre><code>$ git add markdown_learn.md\n$ git status\nOn branch main\n\nNo commits yet\n\nChanges to be committed:\n  (use \"git rm --cached &lt;file&gt;...\" to unstage)\n    new file:   markdown_learn.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_5","title":"\u518d\u6dfb\u52a0\u4e00\u7bc7\u6587\u4ef6","text":"<pre><code>$ touch git_learn.md\n$ vim git_learn.md\n$ cat git_learn.md\n# Git Note\n# About Git\nGit is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.\n\n# Git Commands\n`git add &lt;file&gt;`\n`git commit -m \"&lt;msg&gt;\"`\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_6","title":"\u67e5\u770b\u72b6\u6001","text":"<pre><code>$ git status\nOn branch main\n\nNo commits yet\n\nChanges to be committed:\n  (use \"git rm --cached &lt;file&gt;...\" to unstage)\n    new file:   markdown_learn.md\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    git_learn.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_7","title":"\u4fee\u6539\u6587\u4ef6","text":"<pre><code>$ vim markdown_learn.md\n# Markdown Note\n# Grammar\n`#`: title\n\n[](): add link\n\n![](): add image\n\n**bold_text**\n\n*italic_text*\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_8","title":"\u518d\u6b21\u67e5\u770b\u72b6\u6001","text":"<pre><code>$ git status\nOn branch main\n\nNo commits yet\n\nChanges to be committed:\n  (use \"git rm --cached &lt;file&gt;...\" to unstage)\n    new file:   markdown_learn.md\n\nChanges not staged for commit:\n  (use \"git add &lt;file&gt;...\" to update what will be committed)\n  (use \"git restore &lt;file&gt;...\" to discard changes in working directory)\n    modified:   markdown_learn.md\n\nUntracked files:\n  (use \"git add &lt;file&gt;...\" to include in what will be committed)\n    git_learn.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#gitignore","title":"\u6dfb\u52a0gitignore","text":"<p>\u6211\u4eec\u5e0c\u671b\u4e00\u6b21\u6dfb\u52a0\u8fd9\u4e24\u4e2a\u6587\u4ef6\uff0c\u5728\u8fd9\u4e4b\u524d\u5148\u521b\u5efa<code>.gitignore</code>\uff1a</p> <pre><code>$ touch .gitignore\n$ echo \".DS_Store\" &gt;&gt; .gitignore\n\n$ git add .\n$ git status\nOn branch main\n\nNo commits yet\n\nChanges to be committed:\n  (use \"git rm --cached &lt;file&gt;...\" to unstage)\n    new file:   .gitignore\n    new file:   git_learn.md\n    new file:   markdown_learn.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_9","title":"\u63d0\u4ea4","text":"<pre><code>$ git commit -m \"add two notes\"\n[main (root-commit) bdf79c8] add two notes\n 3 files changed, 19 insertions(+)\n create mode 100644 .gitignore\n create mode 100644 git_learn.md\n create mode 100644 markdown_learn.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_10","title":"\u67e5\u770b\u72b6\u6001","text":"<pre><code>$ git status\nOn branch main\nnothing to commit, working tree clean\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_11","title":"\u6dfb\u52a0\u548c\u63d0\u4ea4","text":"<pre><code>$ vim git_learn.md\n$ cat git_learn.md\n# Git Note\n# About Git\nGit is a free and open source distributed version control system designed to handle everything from small to very large projects with speed and efficiency.\n\n# Git Commands\n`git add &lt;file&gt;`\n`git commit -m \"&lt;msg&gt;\"`\n`git status`\n\n$ git add .\n$ git commit -m \"add new git commands\"\n[main c874462] add new git commands\n 1 file changed, 1 insertion(+)\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#log","title":"\u67e5\u770blog","text":"<pre><code>$ git log\ncommit c874462dba874eb098a4445f8ff6a15b2e381fc7 (HEAD -&gt; main)\nAuthor: yxj &lt;564197835@qq.com&gt;\nDate:   Thu May 20 20:42:43 2021 +0800\n\n    add new git commands\n\ncommit bdf79c8b45ebdd1e7644d0a19b47b8c4cba84f9a\nAuthor: yxj &lt;564197835@qq.com&gt;\nDate:   Thu May 20 20:40:03 2021 +0800\n\n    add two notes\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#_12","title":"\u6bd4\u8f83\u5dee\u5f02","text":"<p>\u6bd4\u8f83\u4e24\u6b21commit\u7684\u5dee\u5f02\uff08\u5176\u4e2d\u524d\u9762\u6709\u52a0\u53f7\u7684\u662f\u7b2c\u4e8c\u6b21\u63d0\u4ea4\u6dfb\u52a0\u7684\uff0c\u5269\u4e0b\u7684\u4fe1\u606f\u5e76\u4e0d\u90a3\u4e48\u91cd\u8981\uff09\uff1a</p> <pre><code>$ git diff bdf79c c87446\ndiff --git a/git_learn.md b/git_learn.md\nindex 575b88e..1b60d22 100644\n--- a/git_learn.md\n+++ b/git_learn.md\n@@ -5,3 +5,4 @@ Git is a free and open source distributed version control system designed to han\n # Git Commands\n `git add &lt;file&gt;`\n `git commit -m \"&lt;msg&gt;\"`\n+`git status`\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#git-restore","title":"git restore","text":"<p>TODO</p>"},{"location":"LECTURE/Git/git-demos/#git-brancnswitch","title":"git brancn/switch","text":""},{"location":"LECTURE/Git/git-demos/#_13","title":"\u65b0\u5efa\u4ed3\u5e93","text":"<pre><code>$ cd ~/Desktop\n$ mkdir teamwork\n$ cd teamwork\n$ git init\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#maincommit","title":"\u6dfb\u52a0\u6587\u4ef6\u5728main\u5206\u652f\u81f3\u5c11\u6709\u4e00\u6b21commit","text":"<pre><code>$ touch README.md\n$ echo  'This is our teamwork!'  &gt;&gt; README.md\n$ cat README.md\nThis is our teamwork!\n$ git add README.md\n$ git commit -m \"add README\"\n[main (root-commit) 605051f] add README\n 1 file changed, 1 insertion(+)\n create mode 100644 README.md\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#sayhello","title":"\u5728sayHello\u5206\u652f\u4e0a\u5199\u4ee3\u7801","text":"<pre><code>$ git branch -c sayHello\n$ git switch sayHello\nSwitched to branch 'sayHello'\n$ touch sayHello.swift\n$ vim sayHello.swift\n$ cat sayHello.swift\nfunc sayHello(name: String) {\n    print(\"Hello, \\(name).\")\n}\n$ git add sayHello.swift\n$ git commit -m \"add func sayHello\"\n[sayHello e30ff7a] add func sayHello\n 1 file changed, 3 insertions(+)\n create mode 100644 sayHello.swift\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#main","title":"\u56de\u5230main\u5206\u652f\u8fdb\u884c\u5408\u5e76","text":"<pre><code>$ git switch main\nSwitched to branch 'main'\n$ git merge sayHello\nUpdating 605051f..e30ff7a\nFast-forward\n sayHello.swift | 3 +++\n 1 file changed, 3 insertions(+)\n create mode 100644 sayHello.swift\n$ git log\n Untracked files:\ncommit e30ff7a9797f9577b056c91cdbc46b37bff71168 (HEAD -&gt; main, sayHello)\nAuthor: yxj &lt;564197835@qq.com&gt;\nDate:   Fri May 21 18:37:09 2021 +0800\n\n    add func sayHello\n\ncommit 605051f10e676b477d5f101dca5828cf34165ab6\nAuthor: yxj &lt;564197835@qq.com&gt;\nDate:   Fri May 21 18:30:57 2021 +0800\n\n    add README\n</code></pre>"},{"location":"LECTURE/Git/git-demos/#goodmorning","title":"\u5728goodMorning\u5206\u652f\u4e0a\u5199\u4ee3\u7801","text":"<p>\u540c\u4e0a\u8ff0<code>\u5728sayHello\u5206\u652f\u4e0a\u5199\u4ee3\u7801</code>\u7684\u5185\u5bb9\uff0c\u4e4b\u540e\u4e5f\u662f\u56de\u5230<code>main\u5206\u652f</code>\u8fdb\u884c\u5408\u5e76</p>"},{"location":"LECTURE/Git/git-demos/#github","title":"\u5411GitHub\u4e0a\u7684\u5f00\u6e90\u9879\u76ee\u63d0\u4ea4\u4ee3\u7801","text":"<p>TODO</p>"},{"location":"LECTURE/Git/git-teamwork/","title":"Git \u5408\u4f5c\u5f00\u53d1\u5b9e\u4f8b\uff1aeesast \u5f00\u53d1","text":"<p>\u8bf4\u660e\uff1a\u56e2\u961f\u4ed3\u5e93\u540d\u4e3a<code>eesast</code>\uff0c\u4e2a\u4eba\u4ed3\u5e93\u540d\u4e3a<code>yxj</code></p>"},{"location":"LECTURE/Git/git-teamwork/#_1","title":"\u5c06\u8fdc\u7a0b\u4ed3\u5e93\u4e0b\u8f7d\u3001\u94fe\u63a5\u5230\u672c\u5730","text":""},{"location":"LECTURE/Git/git-teamwork/#_2","title":"\u514b\u9686\u539f\u4ed3\u5e93\u5230\u672c\u5730","text":"<pre><code>git clone &lt;eesast.url&gt; --origin eesast &lt;project_new_name&gt;\n</code></pre> <p><code>--origin &lt;\u8fdc\u7a0b\u4ed3\u5e93\u540d&gt;</code>\u7528\u6765\u7ed9\u9ed8\u8ba4\u7684\u540d\u5b57origin\u91cd\u547d\u540d</p> <p><code>--origin</code>:<code>-o</code></p> <p><code>&lt;project_new_name&gt;</code>\u6307\u672c\u5730\u65b0\u51fa\u73b0\u7684\u6587\u4ef6\u5939\u7684\u540d\u79f0</p>"},{"location":"LECTURE/Git/git-teamwork/#forkpush","title":"fork\u4ed3\u5e93\u4f7f\u5f97\u81ea\u5df1\u6709push\u7684\u6743\u9650","text":"<p>\u5728<code>GitHub</code>\u4e0a\u64cd\u4f5c\uff0c\u5f97\u5230\u81ea\u5df1fork\u540e\u7684\u4ed3\u5e93\u94fe\u63a5<code>&lt;yxj.url&gt;</code></p>"},{"location":"LECTURE/Git/git-teamwork/#clone","title":"\u8fdb\u5165clone\u540e\u7684\u4ed3\u5e93","text":"<pre><code>cd &lt;project&gt;\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_3","title":"\u6dfb\u52a0\u81ea\u5df1\u7684\u8fdc\u7a0b\u4ed3\u5e93","text":"<pre><code>git remote add yxj &lt;yxj.url&gt;\n</code></pre> <p><code>add</code>\u540e\u7d27\u8ddf\u7684\u662f\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u5b57\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49</p>"},{"location":"LECTURE/Git/git-teamwork/#_4","title":"\u67e5\u770b\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93","text":"<pre><code>git remote --verbose\ngit remote --verbose show eesast\ngit remote --verbose show yxj\n</code></pre> <p><code>--verbose</code>:<code>-v</code></p>"},{"location":"LECTURE/Git/git-teamwork/#_5","title":"\u5f00\u59cb\u5f00\u53d1\u81ea\u5df1\u7684\u529f\u80fd","text":"<p>\u6ce8\uff1a\u4e00\u822c\u56e2\u961f\u4ed3\u5e93\u53ea\u6709\u4e00\u4e2amaster\u5206\u652f</p>"},{"location":"LECTURE/Git/git-teamwork/#_6","title":"\u5148\u62c9\u53d6\u6700\u65b0\u5185\u5bb9","text":"<pre><code>git fetch eesast\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#mergemaster","title":"\u5c06\u6700\u65b0\u7684\u5185\u5bb9merge\u5230\u81ea\u5df1\u7684master\u5206\u652f","text":"<pre><code>git checkout master\n(master) git merge eesast/master\n</code></pre> <p>\u8fd9\u91cc\u5e94\u8be5\u4e0d\u4f1a\u9047\u5230\u51b2\u7a81\uff0c\u56e0\u4e3a\u672c\u5730\u4e0d\u4f1a\u5728master\u5206\u652f\u8fdb\u884c\u5f00\u53d1\uff0c\u9664\u975e\u4f60\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u5019\u5fd8\u8bb0\u5207\u6362\u5230\u65b0\u7684\u5206\u652f</p>"},{"location":"LECTURE/Git/git-teamwork/#checkout","title":"checkout\u5230\u65b0\u7684\u5206\u652f","text":"<pre><code>git checkout -b modify\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_7","title":"\u5f00\u59cb\u81ea\u5df1\u4fee\u6539\u4ee3\u7801","text":""},{"location":"LECTURE/Git/git-teamwork/#_8","title":"\u62c9\u53d6\u6700\u65b0\u7684\u4ee3\u7801","text":"<p>\u5982\u679c\u4f60\u5728<code>checkout -b</code>\u4e4b\u540e\u4e00\u76f4\u628a\u6539\u4ee3\u7801\u8fd9\u4ef6\u4e8b\u60c5\u6254\u5728\u4e00\u8fb9\u513f\uff0c\u90a3\u4e48\u4f60\u5728\u5f00\u59cb\u4fee\u6539\u4e4b\u524d\u6700\u597d\u518d\u62c9\u53d6\u4e00\u4e0b\u6700\u65b0\u7684\u4fe1\u606f\u8fdb\u884c\u5408\u5e76\uff1a</p> <pre><code>git fetch eesast\n(modify) git merge eesast/master\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_9","title":"\u4fee\u6539","text":"<p>\u6bd4\u5982\u589e\u52a0\u6587\u4ef6\u3001\u5220\u9664\u6587\u4ef6\uff0c\u589e\u52a0\u4ee3\u7801\u3001\u5220\u9664\u4ee3\u7801\u7b49</p>"},{"location":"LECTURE/Git/git-teamwork/#_10","title":"\u63d0\u4ea4","text":"<pre><code>(modify) git add .\n(modify) git commit -m\"modify sth\"\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_11","title":"\u62c9\u53d6\u6700\u65b0\u4ee3\u7801\u67e5\u770b\u662f\u5426\u6709\u51b2\u7a81","text":"<p>\u5728\u4e0a\u4e00\u6b21commit\u4e4b\u540e\uff0c\u518d\u6b21\u4fee\u6539\u4ee3\u7801\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u62c9\u53d6\u6700\u65b0\u7684\u4ee3\u7801\uff1b\u8fd9\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u51b2\u7a81\uff0c\u56e0\u4e3a\u4f60\u5728\u672c\u5730\u4fee\u6539\u7684\u65f6\u5019\u522b\u4eba\u53ef\u80fd\u5df2\u7ecf\u5728\u8fdc\u7aef\u4ed3\u5e93\u63d0\u4ea4\u4e86PR\u5e76\u4e14\u88ab\u7ba1\u7406\u8005merge\u5230\u65b0\u7684\u4ee3\u7801\u4e2d\u3002\u9047\u5230\u51b2\u7a81\u9700\u8981\u81ea\u5df1\u89e3\u51b3</p> <pre><code>git fetch eesast\n(modify) git merge eesast/master\n</code></pre> <p>\u5728\u89e3\u51b3\u51b2\u7a81\u540e\u518d\u6b21commit\uff1b\u5982\u679c\u65e0\u51b2\u7a81\u5219\u6ca1\u6709\u5fc5\u8981commit</p> <pre><code>(modify) git add .\n(modify) git commit -m\"solve conflicts\"\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_12","title":"\u518d\u6b21\u4fee\u6539","text":"<p>\u91cd\u590d\u4e0a\u8ff0\u201c\u4fee\u6539\u201d\uff0c\u201c\u63d0\u4ea4\u201d\uff0c\u201c\u62c9\u53d6\u6700\u65b0\u4ee3\u7801\u201d\u7684\u8fc7\u7a0b</p>"},{"location":"LECTURE/Git/git-teamwork/#pushpr","title":"push\u5230\u8fdc\u7aef\u548c\u63d0PR","text":""},{"location":"LECTURE/Git/git-teamwork/#push","title":"push\u5230\u81ea\u5df1\u7684\u4ed3\u5e93","text":"<pre><code>git push yxj modify:modify\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; &lt;\u672c\u5730\u5206\u652f&gt;:&lt;\u8fdc\u7a0b\u5206\u652f&gt;</code></p> <p>\u542b\u4e49\uff1a\u5c06\u67d0\u4e00\u672c\u5730\u5206\u652f\u63a8\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684\u8fdc\u7a0b\u5206\u652f\uff1b\u5982\u679c\u8fdc\u7a0b\u4ed3\u5e93\u6ca1\u6709\u8fd9\u4e00\u5206\u652f\uff0c\u5219\u521b\u5efa</p> <p>\u4e5f\u53ef\u4ee5\u5199\u4f5c\uff1a</p> <pre><code>(modify) git push yxj modify\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; &lt;\u8fdc\u7a0b\u5206\u652f&gt;</code></p> <p>\u542b\u4e49\uff1a\u5c06\u672c\u5730\u7684\u5f53\u524d\u5206\u652f\u63a8\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684\u8fdc\u7a0b\u5206\u652f\uff1b\u5982\u679c\u8fdc\u7a0b\u4ed3\u5e93\u6ca1\u6709\u8fd9\u4e00\u5206\u652f\uff0c\u5219\u521b\u5efa</p>"},{"location":"LECTURE/Git/git-teamwork/#pr","title":"\u63d0PR","text":"<p>\u767b\u9646<code>GitHub</code>\uff0c\u5728\u4f60\u7684\u4ed3\u5e93\u53ef\u4ee5\u62ff\u7740\u521a\u521a\u63a8\u5230\u8fdc\u7a0b\u7684modify\u5206\u652f\u5411\u56e2\u961f\u4ed3\u5e93\u63d0\u4e00\u4e2aPR</p>"},{"location":"LECTURE/Git/git-teamwork/#merge","title":"\u7b49\u5f85\u5f00\u53d1\u8005merge","text":"<p>\u5982\u679cPR\u88ab\u62d2\u7edd\uff0c\u4f60\u53ef\u4ee5\u7ee7\u7eed\u66f4\u6539\u4ee3\u7801\u3001commit\u3001push\u3001\u63d0PR\u76f4\u5230merge\uff1b\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5f03\u5751lol</p>"},{"location":"LECTURE/Git/git-teamwork/#mergemodify","title":"\u5f00\u53d1\u8005merge\u4e4b\u540e\u5220\u9664modify\u5206\u652f","text":""},{"location":"LECTURE/Git/git-teamwork/#_13","title":"\u5220\u9664\u8fdc\u7a0b\u5206\u652f","text":""},{"location":"LECTURE/Git/git-teamwork/#_14","title":"\u65b9\u6cd5\u4e00","text":"<p>\u5728\u56e2\u961f\u4ed3\u5e93\u7684PR\u754c\u9762\uff0c\u5982\u679c\u6210\u529fmerge\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a<code>delete branch</code>\u7684\u6309\u94ae\uff0c\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u6309\u94ae\u5220\u9664\u81ea\u5df1fork\u7684\u4ed3\u5e93\u4e2d\u7684modify\u5206\u652f</p>"},{"location":"LECTURE/Git/git-teamwork/#_15","title":"\u65b9\u6cd5\u4e8c","text":"<pre><code>git push yxj --delete modify\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_16","title":"\u65b9\u6cd5\u4e09","text":"<p><pre><code>git push yxj :modify\n</code></pre> \u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; :&lt;\u8fdc\u7a0b\u5206\u652f&gt;</code>\uff08\u6ce8\u610f\u548cpush\u5230\u8fdc\u7aef\u4ed3\u5e93\u505a\u533a\u5206\uff09</p>"},{"location":"LECTURE/Git/git-teamwork/#_17","title":"\u5220\u9664\u672c\u5730\u5206\u652f","text":"<pre><code>(master) git branch -d modify\n</code></pre> <p>\u786e\u8ba4\u5220\u9664\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>(master) git branch -D modify\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#_18","title":"\u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898","text":"<p>\u4f7f\u7528<code>git fetch --all</code>\u5c06\u6240\u6709\u8fdc\u7aef\u4ed3\u5e93\uff08eesast\u548cyxj\uff09\u7684\u6700\u65b0\u201c\u72b6\u51b5\u201d\u62c9\u53d6\u5230\u672c\u5730</p> <p>\u8fd9\u65f6\u4f7f\u7528\u547d\u4ee4<code>git branch -a</code>\u67e5\u770b\u6240\u6709\u5206\u652f\uff0c\u53d1\u73b0\u8fdc\u7aefyxj\u7684modify\u5206\u652f\u5e76\u6ca1\u6709\u5220\u9664</p> <p>\u8fd9\u8bf4\u660e\u4e0d\u80fd\u901a\u8fc7git fetch\u547d\u4ee4\u83b7\u53d6\u5230\u5206\u652f\u5220\u9664\u7684\u66f4\u65b0</p> <p>\u4f7f\u7528<code>git remote -v show yxj</code>\u67e5\u770b\u5206\u652f\u72b6\u51b5\uff0c\u53d1\u73b0modify\u5206\u652f\u662f\u9648\u65e7\u7684\uff08stale\uff09</p> <p>\u4f7f\u7528<code>git remote prune yxj</code>\u5220\u6389\u672c\u5730\u9648\u65e7\u7684\u8fdc\u7aef\u5206\u652f\uff08\u5c31\u662f</p> <p>\u8fdc\u7aef\u5df2\u7ecf\u5220\u9664\u6389\u4e86\u4f46\u662f\u672c\u5730\u8fd8\u6ca1\u5220\u9664\u6389\u7684\u5206\u652f\uff09</p> <p>\u6216\u8005\u62c9\u53d6\u4fe1\u606f\u7684\u65f6\u5019\u4f7f\u7528\uff1a</p> <pre><code>git fetch -p --all\n</code></pre>"},{"location":"LECTURE/Git/git-teamwork/#references","title":"References","text":"<p>CSDN | Git\u8fdc\u7a0b\u5206\u652f\u7684\u5220\u9664\u4e0e\u540c\u6b65</p> <p>Git Documentation</p>"},{"location":"LECTURE/Git/git/","title":"Git \u8bb2\u5ea7","text":"<p><code>v1.0</code> 210523 \u66f4\u65b0\u89c6\u9891\u6559\u7a0b</p> <p>Bilibili\u89c6\u9891\u6559\u7a0b</p> <p>Git\u5b9e\u4f8b</p>"},{"location":"LECTURE/Git/git/#git_1","title":"\u4e3a\u4ec0\u4e48\u8981\u7528Git","text":"<p>\u3007 \u7248\u672c\u63a7\u5236</p> <p>\u6bd4\u5982\uff0c\u4f60\u665a\u4e0a\u5199\u4e00\u7bc7\u8bba\u6587\uff0c\u5199\u597d\u4e86\u5b58\u8d77\u6765\u3002\u7ed3\u679c\u7b2c\u4e8c\u5929\u65e9\u4e0a\u8d77\u6765\uff0c\u4f60\u518d\u62ff\u51fa\u6765\u4e00\u770b\uff0c\u5bb3\uff0c\u5199\u7684\u4ec0\u4e48\u554a\u3002\u65e9\u4e0a\u4fee\u6539\u4e86\u4e00\u5927\u5806\uff0c\u6539\u5b8c\u4e86\u5b58\u8d77\u6765\u3002\u7ed3\u679c\u4e0b\u5348\u4e00\u60f3\uff0c\u5bb3\uff0c\u65e9\u4e0a\u6211\u6539\u4ec0\u4e48\u554a\uff01\u6628\u665a\u90a3\u4e2a\u5199\u7684\u4e0d\u662f\u633a\u597d\u7684\u5417\u2026\u4f46\u8fd9\u65f6\uff0c\u4f60\u5df2\u7ecf\u6ca1\u6709\u6628\u665a\u5b58\u7684\u90a3\u4e00\u4efd\u6587\u7a3f\u4e86\uff0c\u53ea\u80fd\u51ed\u7740\u8bb0\u5fc6\u628a\u8bba\u6587\u518d\u6539\u56de\u6628\u665a\u5199\u5b8c\u4e4b\u540e\u7684\u6837\u5b50\u2026\u2026</p> <p>\u8fd9\u65f6\uff0c\u4f60\u60f3\uff1a\u5982\u679c\u6709\u4e00\u4e2a\u5de5\u5177\uff0c\u628a\u6211\u6bcf\u6b21\u4fee\u6539\u7684\u5185\u5bb9\u90fd\u8bb0\u5f55\u4e0b\u6765\uff0c\u90a3\u4e48\u6211\u6bcf\u6b21\u60f3\u53cd\u6094\u7684\u65f6\u5019\uff0c\u8fd9\u4e2a\u5de5\u5177\u80fd\u5e2e\u6211\u628a\u6587\u7a3f\u6062\u590d\u5230\u539f\u6765\u7684\u6837\u5b50\u5c31\u597d\u4e86\uff01</p> <p>\u3007 \u5408\u4f5c\u5f00\u53d1</p> <p>\u6bd4\u5982\uff0c\u4f60\u5199\u4e00\u7bc7\u8bba\u6587\uff0c\u5199\u597d\u4e86\u5b58\u8d77\u6765\uff0c\u540c\u65f6\u53d1\u7ed9\u4e86\u4f60\u7684\u5b9e\u9a8c\u5ba4\u540c\u4f34\u548c\u5bfc\u5e08\u3002\u4f60\u7684\u540c\u4f34\u770b\u5230\u4f60\u6709\u51e0\u4e2a\u5355\u8bcd\u5199\u9519\u4e86\uff0c\u5e2e\u4f60\u6539\u4e86\u53c8\u53d1\u56de\u6765\uff1b\u4f60\u7684\u5bfc\u5e08\u89c9\u5f97\u4f60\u6709\u6bb5\u5185\u5bb9\u5199\u7684\u903b\u8f91\u4e0d\u592a\u6e05\uff0c\u5e2e\u4f60\u7b80\u5355\u6539\u5199\u4e86\u4e00\u4e0b\u53c8\u53d1\u4e86\u56de\u6765\u3002\u5728\u7b49\u5f85\u4e24\u4eba\u56de\u590d\u7684\u65f6\u95f4\uff0c\u4f60\u53c8\u53d1\u73b0\u8bba\u6587\u7684\u53c2\u8003\u6587\u732e\u5c11\u6dfb\u52a0\u4e86\u51e0\u4e2a\uff0c\u82b1\u4e86\u70b9\u65f6\u95f4\u628a\u5b83\u4eec\u52a0\u4e0a\u3002\u8fc7\u4e86\u4e00\u4f1a\uff0c\u4f60\u6536\u5230\u4e86\u540c\u4f34\u548c\u5bfc\u5e08\u6539\u7684\u4e24\u4efd\u6587\u4ef6\uff0c\u7136\u540e\u4f60\u6253\u5f00\u4f60\u6539\u597d\u7684\u8bba\u6587\uff0c\u628a\u4f60\u540c\u4f34\u6539\u6b63\u7684\u5355\u8bcd\u6311\u51fa\u6765\u653e\u8fdb\u53bb\uff0c\u628a\u4f60\u7684\u5bfc\u5e08\u6539\u7684\u90a3\u4e00\u6bb5\u590d\u5236\u7c98\u8d34\u8fc7\u53bb\u2026</p> <p>\u8fd9\u65f6\uff0c\u4f60\u60f3\uff1a\u8981\u662f\u6709\u4e2a\u5de5\u5177\uff0c\u80fd\u5e2e\u6211\u628a\u5927\u5bb6\u6240\u505a\u7684\u66f4\u6539\u65b9\u4fbf\u7684\u5408\u5e76\u5728\u4e00\u8d77\u5c31\u597d\u4e86\uff01</p> <p>Git\u5c31\u662f\u8fd9\u6837\u7684\u4e00\u4e2a\u5de5\u5177\uff0c\u53ea\u4e0d\u8fc7\uff0c\u6211\u4eec\u4e00\u822c\u4e0d\u540c\u5b83\u6765\u7ba1\u7406\u8bba\u6587\uff0c\u6211\u4eec\u4f1a\u7528<code>Git</code>\u6765\u7ba1\u7406\u9879\u76ee\u3002\u4ec0\u4e48\u662f\u9879\u76ee\uff0c\u8f6f\u4ef6\u5f00\u53d1\u7684\u4e00\u5806\u4ee3\u7801\u6587\u4ef6\u5408\u5728\u4e00\u8d77\u7b97\u4e00\u4e2a\u9879\u76ee\uff0c\u4e00\u672c\u5927\u5bb6\u4e00\u8d77\u6765\u5199\u6559\u7a0b\u4e66\u7b97\u662f\u4e00\u4e2a\u9879\u76ee\u2026\u2026\u6211\u4eec\u7528<code>Git</code>\u6765\u5bf9\u8fd9\u4e9b\u9879\u76ee\u8fdb\u884c\u7ba1\u7406\u3001\u7ed3\u5408\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff08\u6bd4\u5982<code>GitHub</code>\uff09\uff0c\u5927\u5bb6\u4e00\u8d77\u5408\u4f5c\u5f00\u53d1\uff0c\u4fee\u6539\u4ee3\u7801\u6216\u6587\u7ae0\u3002</p>"},{"location":"LECTURE/Git/git/#git_2","title":"Git\u51c6\u5907","text":"<p>\u8981\u5b66\u4e60<code>Git</code>\uff0c\u56e0\u4e3a<code>Git</code>\u672c\u8eab\u5c31\u662f\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u6240\u4ee5\u9996\u5148\u662f\u8981\u5bf9<code>\u7ec8\u7aef</code>\u3001<code>Shell</code>\u3001<code>\u547d\u4ee4\u884c</code>\u6709\u4e00\u4e9b\u8ba4\u8bc6\u548c\u7406\u89e3\u3002\u4f46\u56e0\u4e3a\u5927\u5bb6\u4e4b\u540e\u53ef\u80fd\u5728\u5f00\u53d1\u4e2d\u4e0d\u4f1a\u5f88\u7528\u5230\u7ec8\u7aef\u8fd9\u4e00\u5757\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ea\u4f1a\u7b80\u5355\u8bb2\u4e00\u4e9b\u6d45\u663e\u7684\u90e8\u5206\u3002\u5bf9\u4e8e\u4e4b\u540e\u8981\u8fdb\u884c\u7f51\u7edc\u5e94\u7528\u5f00\u53d1\u7684\u540c\u5b66\uff0c\u4e4b\u540e\u5e94\u8be5\u8fd8\u4f1a\u6709\u5173\u4e8e\u670d\u52a1\u5668\u3001Linux\u547d\u4ee4\u884c\u7b49\u7684\u8bb2\u89e3\u3002</p>"},{"location":"LECTURE/Git/git/#mac","title":"\u8ba4\u8bc6Mac\u7684\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u6587\u4ef6\u662f\u4ec0\u4e48\u5462\uff1f\u5c31\u662f\u5b58\u50a8\u5728\u786c\u76d8\u91cc\u9762\u7684\u4e00\u4e9b\u4e1c\u897f\u3002\u6211\u4eec\u600e\u4e48\u5728Finder\u91cc\u9762\u770b\u5230\u66f4\u6e05\u695a\u7684\u770b\u5230\u8fd9\u4e9b\u6587\u4ef6\u5462\uff1f\u6211\u4eec\u9700\u8981\u5bf9Finder\u8fdb\u884c\u4e00\u4e9b\u8bbe\u7f6e</p>"},{"location":"LECTURE/Git/git/#_1","title":"\u5bf9\u8bbf\u8fbe\u8fdb\u884c\u8bbe\u7f6e","text":"<p><code>Advanced</code>\u6253\u5f00<code>Show all filename extensions</code></p> <p><code>Sidebar</code>\u6253\u5f00<code>Hard disks</code>\u4ece\u800c\u770b\u5230\u6302\u8f7d\u7684\u78c1\u76d8\uff0c\u6253\u5f00\u4f60\u7684\u5bb6\u76ee\u5f55\uff08\u4e00\u4e2a\u623f\u5b50\u7684\u56fe\u6807\uff0c\u6211\u7684\u662f<code>yangxijie</code>\uff09\u4ece\u800c\u770b\u5230\u5bb6\u76ee\u5f55</p>"},{"location":"LECTURE/Git/git/#_2","title":"\u7ee7\u7eed\u8c03\u6574\u8bbf\u8fbe","text":"<p>\u5728\u83dc\u5355\u680f\u7684<code>View</code>\u91cc\u9762\u8c03\u6574\uff1a</p> <p>\u23182\uff1a\u6309\u7167\u5217\u8868\u67e5\u770b</p> <p>\u2325\u2318S\uff1a\u6253\u5f00\u8fb9\u680f</p> <p>\u2325\u2318T\uff1a\u6253\u5f00\u5de5\u5177\u680f</p> <p>\u2325\u2318P\uff1a\u6253\u5f00\u663e\u793a\u8def\u5f84</p> <p>\u2318/\uff1a\u6253\u5f00\u72b6\u6001\u680f</p>"},{"location":"LECTURE/Git/git/#_3","title":"\u89c2\u5bdf\u6839\u76ee\u5f55/\u521d\u8bc6\u76ee\u5f55","text":"<p>\u4ec0\u4e48\u662f\u6839\u76ee\u5f55\uff1f\u6240\u6709\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u90fd\u5b58\u5728\u6839\u76ee\u5f55\u4e0b\u3002\u8fd9\u91cc\u6839\u76ee\u5f55\u5c31\u662f\u4f60\u7684\u5185\u7f6e\u786c\u76d8<code>Macintosh HD</code></p> <p><code>Applications</code>\uff1a\u4f60\u5b89\u88c5\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939</p> <p><code>Library</code>\uff1a\u7528\u6765\u5b58\u5e94\u7528\u7a0b\u5e8f\u7684\u4e00\u4e9b\u6570\u636e\u3002\u6bd4\u5982\u5fae\u4fe1\u7684\u804a\u5929\u8bb0\u5f55\u5c31\u5728\u8fd9\u4e2a\u91cc\u9762\u54e6</p> <p><code>System</code>\uff1a\u4e00\u4e9b\u7cfb\u7edf\uff08<code>macOS</code>\uff09\u7684\u6587\u4ef6\uff0c\u6ca1\u4e8b\u513f\u522b\u4e71\u78b0\u5c31\u597d\u4e86</p> <p><code>User</code>\uff1a\u4e2a\u4eba\u7684\u6587\u4ef6\u5c31\u5728\u8fd9\u91cc\u3002\u5176\u4e2d<code>/User/yangxijie</code>\uff08\u6216\u8005\u4f60\u7684\u7528\u6237\u540d\uff09\u662f\u4f60\u7684\u5bb6\u76ee\u5f55\uff0c\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5728\u8fb9\u680f\u70b9\u51fb\u6253\u5f00\u3002</p>"},{"location":"LECTURE/Git/git/#_4","title":"\u89c2\u5bdf\u6811\u72b6\u7ed3\u6784","text":"<p>\u901a\u8fc7\u5c55\u5f00\u3001\u6298\u53e0\u5217\u8868\u4e86\u89e3\u6587\u4ef6\u5939\u95f4\u7684\u5c42\u7ea7\u5173\u7cfb</p>"},{"location":"LECTURE/Git/git/#_5","title":"\u6587\u4ef6\u5939\u8def\u5f84","text":"<p>\u89c2\u5bdf\u4e0b\u65b9\u7684\u8def\u5f84\u680f\uff0c\u5c1d\u8bd5\u5199\u51fa\u5f53\u524d\u7684\u8def\u5f84\uff1b\u77e5\u9053\u6bcf\u4e2a\u6587\u4ef6\u5939\u90fd\u6709\u4e00\u4e2a\u8def\u5f84\u3002</p> <p>\u5176\u4e2d\uff1a\u6839\u76ee\u5f55<code>/</code> == <code>Macintosh HD</code>\uff0c\u5bb6\u76ee\u5f55<code>~</code> == <code>/Users/yangxijie</code>\uff08\u4f60\u7684\u7528\u6237\u540d\uff09</p> <p>\uff08\u4e4b\u540e\u5728\u7ec8\u7aef\u8f93\u5165\u5e26\u6709\u7a7a\u683c\u7684\u8def\u5f84\u65f6\u8bb0\u5f97\u52a0\u4e0a\u53cc\u5f15\u53f7\u2026\uff09</p>"},{"location":"LECTURE/Git/git/#_6","title":"\u67e5\u770b\u6587\u4ef6\u5c5e\u6027\u4e2d\u7684\u8def\u5f84","text":"<p>\u2318I\u67e5\u770b\u6587\u4ef6\u5c5e\u6027\uff0c\u5c1d\u8bd5\u5199\u51fa\u6587\u4ef6\u7684\u8def\u5f84</p> <p>\u5c1d\u8bd5\u5728\u67d0\u4e2a\u6587\u4ef6\u5939\u4e2d\u5199\u51fa\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\uff1a<code>.</code>\u5f53\u524d\u6587\u4ef6\u5939\uff0c<code>..</code>\u4e0a\u4e00\u7ea7\u6587\u4ef6\u5939\uff0c<code>...</code>\u4e0a\u4e0a\u7ea7\u6587\u4ef6\u5939</p>"},{"location":"LECTURE/Git/git/#_7","title":"\u9690\u85cf\u6587\u4ef6","text":"<p>\u21e7\u2318. \uff1a\u663e\u793a\u9690\u85cf\u6587\u4ef6</p> <p><code>.</code>\u5f00\u5934\u7684\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u4f1a\u88ab\u9690\u85cf\uff0c\u4e00\u4e9b\u4e0d\u4ee5<code>.</code>\u5f00\u5934\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u4e5f\u4f1a\u88ab\u9690\u85cf\u3002\u8fd9\u662f\u56e0\u4e3a\u6709\u4e9b\u6587\u4ef6\u53ef\u80fd\u6bd4\u8f83\u7e41\u7410\u6216\u8005\u5bf9\u7528\u6237\u6765\u8bf4\u5b8c\u5168\u6ca1\u6709\u7528\u5904\uff0c\u6216\u8005\u666e\u901a\u7528\u6237\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\u6bd4\u8f83\u5371\u9669\uff0c\u6240\u4ee5\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6/\u6587\u4ef6\u5939\u7684\u65f6\u5019\u5c31\u5e26\u4e0a\u4e86<code>.</code>\u3001\u6216\u8005\u76f4\u63a5\u7531\u7cfb\u7edf\u5c06\u5176\u9690\u85cf\u5c06\u5176\u9690\u85cf\u4e0d\u8ba9\u4e00\u822c\u7528\u6237\u770b\u5230\u3002</p>"},{"location":"LECTURE/Git/git/#_8","title":"\u6587\u4ef6\u540d\u540e\u7f00\u7684\u8bf4\u660e","text":"<p>\u6587\u4ef6\u540d\u540e\u7f00\u4e0d\u8fc7\u662f\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206\uff0c\u6587\u4ef6\u540d\u540e\u7f00\u53ea\u662f\u4e3a\u4e86\u544a\u8bc9\u7cfb\u7edf\u8be5\u7a0b\u5e8f\u9ed8\u8ba4\u7531\u54ea\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6765\u6253\u5f00\uff08<code>txt</code> \u6587\u672c\u7f16\u8f91\uff0c<code>jpg</code> \u9884\u89c8\uff0c<code>mp4</code> QuickTime Player\uff09\uff0c\u4e00\u822c\u540e\u7f00\u80fd\u6807\u5fd7\u4e00\u4e2a\u6587\u4ef6\u7684\u7c7b\u578b</p> <p>\u5e38\u89c1\u7eaf\u6587\u672c\u6587\u4ef6\u7684\u540e\u7f00\u4e3a\uff1a\u65e0\u540e\u7f00\uff08\u5982\u4e00\u4e9b\u914d\u7f6e\u6587\u4ef6<code>~/.zshrc</code>\uff09\uff0c\u6587\u672c\u6587\u4ef6<code>&lt;filename&gt;.txt</code>\uff08\u4e00\u822c\u4e5f\u4f1a\u7701\u7565<code>.txt</code>\u53d8\u4e3a\u65e0\u540e\u7f00\uff09\uff0cmarkdown\u98ce\u683c\u6587\u4ef6<code>&lt;filename&gt;.md</code>\u2026\u2026</p>"},{"location":"LECTURE/Git/git/#shell","title":"\u8ba4\u8bc6\u7ec8\u7aef\u3001Shell\u3001\u547d\u4ee4\u884c","text":"<p>\u8f6f\u4ef6\u6309\u7167\u4f7f\u7528\u65b9\u5f0f\u6765\u5206\u53ef\u4ee5\u5206\u6210\u6709<code>UI</code>\uff08<code>User Interface</code>\uff0c\u7528\u6237\u754c\u9762\uff09\u7684\u56fe\u5f62\u754c\u9762\u7a0b\u5e8f\uff0c\u8fd8\u6709\u6ca1\u6709<code>UI</code>\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u4ece\u4f7f\u7528\u7684\u89d2\u5ea6\u6765\u8bf4\uff0c\uff0c\u56fe\u5f62\u754c\u9762\u5e94\u7528\u65b9\u4fbf\u5b9e\u7528\uff0c\u90a3\u4e48\u4e3a\u4ec0\u4e48\u4e00\u4e9b\u7a0b\u5e8f\u4f7f\u7528\u547d\u4ee4\u884c\u5462\uff1f\u56e0\u4e3a\u547d\u4ee4\u884c\u7b80\u6d01\uff0c\u5f00\u53d1\u8d77\u6765\u5bb9\u6613\uff0c\u529f\u80fd\u591a\u6837\uff0c\u548c\u7cfb\u7edf\u7684\u8054\u7cfb\u8f83\u8fd1\u3002</p> <p>\u6211\u4eec\u4eca\u5929\u8981\u5b66\u4e60\u7684<code>Git</code>\uff0c\u5c31\u662f\u6ca1\u6709<code>UI</code>\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u547d\u4ee4\u884c\u7a0b\u5e8f\u9700\u8981\u501f\u7528<code>\u7ec8\u7aef</code>\u548c<code>Shell</code>\u6765\u4f7f\u7528\uff0c\u6211\u4eec\u4e0b\u9762\u4f1a\u5148\u8bb2\u4e00\u4e0b\u7ec8\u7aef\u548cShell\u3002</p>"},{"location":"LECTURE/Git/git/#shell_1","title":"\u7ec8\u7aef\u548cShell","text":"<p>\u7ec8\u7aef\uff0c\u5c31\u662fMac\u4e0a\u7684<code>Terminal.app</code>\uff0c\u6216\u8005\u4e00\u4e9b\u522b\u7684\u7ec8\u7aef\u8f6f\u4ef6\uff0c\u6bd4\u5982\u6211\u5728\u7528\u7684<code>iTerm  2.app</code>\u3002\u6253\u5f00\u7ec8\u7aef\u4e4b\u540e\uff0c\u6211\u4eec\u8fdb\u5165\u7684\u5c31\u662f<code>Shell</code>\uff0c<code>Shell</code>\u7684\u4f5c\u7528\u662f\u5c06\u4f60\u8f93\u5165\u7684\u547d\u4ee4\u89e3\u91ca\u5e76\u6267\u884c\u3002\uff08\u6f14\u793a\u5728<code>iTerm  2.app</code>\u7ec8\u7aef\u4e2d\u2318D\u5f00\u4e24\u4e2aShell\uff09</p> <pre><code>date\nWed May  5 15:44:23 CST 2021\n</code></pre> <p>\u4f7f\u7528\uff1a</p> <pre><code>which date\n/bin/date\n</code></pre> <p>\u67e5\u770bShell\u662f\u5982\u4f55\u89e3\u6790\u8fd9\u6761\u547d\u4ee4\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6253\u5f00\u7ec8\u7aef\uff0c\u5728Shell\u91cc\u9762\u8f93\u5165\u547d\u4ee4<code>date</code>\uff0cShell\u4f1a\u5c06\u5176\u89e3\u6790\u4e3a<code>/bin/date</code>\uff0c\u4e5f\u5c31\u662f\u6839\u76ee\u5f55\u4e0b<code>bin/</code>\u6587\u4ef6\u5939\u4e0b\u7684<code>date</code>\u7a0b\u5e8f\uff0c\u5e76\u4e14\u8c03\u7528\u8fd9\u4e2a\u7a0b\u5e8f\uff1b\u8fd9\u4e2a<code>date</code>\u7a0b\u5e8f\u7684\u529f\u80fd\u5c31\u662f\u8f93\u51fa\u5f53\u524d\u7684\u65f6\u95f4\u3002</p>"},{"location":"LECTURE/Git/git/#shell_2","title":"Shell\u7684\u5de5\u4f5c\u8def\u5f84","text":"<p>\u67e5\u770b\u547d\u4ee4\u524d\u9762\uff0c\u4f1a\u6709\u4ee3\u8868\u5f53\u524d\u8def\u5f84\u7684\u5730\u65b9\u3002\u8fd9\u8bf4\u660e\uff0c\u6bcf\u6761\u547d\u4ee4\u5176\u5b9e\u90fd\u662f\u5728\u67d0\u4e2a\u6587\u4ef6\u5939\u4e0b\u6267\u884c\u7684\u3002\u6bd4\u5982\u6211\u4eec\u6267\u884c<code>mkdir</code>\u547d\u4ee4\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u5939\uff0c<code>mkdir</code>\u4f1a\u5e2e\u52a9\u6211\u4eec\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u540d\u5b57\u4e3a<code>new_folder</code>\u3002</p> <pre><code>mkdir new_folder\n</code></pre> <p>\u4f7f\u7528<code>pwd</code>\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7684\u8def\u5f84\u3002\u4f7f\u7528<code>cd</code>\u547d\u4ee4\u53ef\u4ee5\u66f4\u6539\u5f53\u524d\u7684\u8def\u5f84\u3002</p>"},{"location":"LECTURE/Git/git/#_9","title":"\u5e38\u7528\u547d\u4ee4","text":"<p>\u547d\u4ee4\u540e\u9762\u4f1a\u52a0\u4e00\u4e9b\u53c2\u6570\uff0c\u6bd4\u5982\u5728<code>mkdir</code>\u540e\u9762\u52a0\u8981\u521b\u5efa\u7684\u6587\u4ef6\u5939\u7684\u540d\u5b57\uff1b\u547d\u4ee4\u540e\u9762\u4e5f\u4f1a\u52a0\u4e00\u4e9b\u9009\u9879\uff0c\u6bd4\u5982<code>--help</code> <code>-a</code>\u8fd9\u4e9b\u3002</p> <pre><code>which &lt;command&gt; # \u67e5\u770bShell\u5982\u4f55\u89e3\u6790\u8fd9\u6761\u547d\u4ee4\necho &lt;String&gt; # \u539f\u5c01\u4e0d\u52a8\u7684\u8f93\u51fa\u4e00\u4e2a\u5b57\u7b26\u4e32\necho $SHELL # \u8f93\u51fa\u4e00\u4e2a\u53d8\u91cf\u7684\u503c\uff0c\u67e5\u770b\u5f53\u524d\u4f7f\u7528\u7684Shell\n\npwd # \u663e\u793a\u5f53\u524d\u7684\u5de5\u4f5c\u8def\u5f84 pirnt working directory\ncd &lt;dir&gt; # \u66f4\u6539\u8def\u5f84 change directory\n\nls # \u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\nls -a # \u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u6587\u4ef6\u5939\nopen &lt;file&gt; # \u4f7f\u7528\u9ed8\u8ba4\u7a0b\u5e8f\u6253\u5f00\u6587\u4ef6\nmkdir &lt;folder_name&gt; # \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u65b0\u5efa\u6587\u4ef6\u5939\ntouch &lt;filename&gt; # \u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u7eaf\u6587\u672c\u6587\u4ef6\ncat &lt;filename&gt; # \u663e\u793a\u67d0\u7eaf\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\n\nmv/cp &lt;origin_file&gt; &lt;dest_file&gt; # \u91cd\u547d\u540d/\u79fb\u52a8/\u590d\u5236\u6587\u4ef6\nrm &lt;file&gt; # \u5220\u9664\u6587\u4ef6\uff08\u8c28\u614e\u4f7f\u7528\uff09\nrm -rf &lt;dir&gt; # \u5220\u9664\u6587\u4ef6\u5939\uff08\u8c28\u614e\u4f7f\u7528\uff09\n\nclear # \u6e05\u9664\u7ec8\u7aef\u5c4f\u5e55\u4e0a\u7684\u5185\u5bb9\n</code></pre> <pre><code>man &lt;command&gt; # \u67e5\u770b\u67d0\u4e2a\u7a0b\u5e8f\u7684\u5e2e\u52a9 manual\n&lt;command&gt; --help # \u67e5\u770b\u67d0\u4e2a\u7a0b\u5e8f\u7684\u5e2e\u52a9\n</code></pre> <pre><code>\u2303C # \u7ed3\u675f\u5f53\u524d\u547d\u4ee4\n\u2191 # \u8c03\u51fa\u4e0a\u6b21\u6267\u884c\u7684\u547d\u4ee4 \u8fd8\u6709\u2193\n</code></pre> <p>\u7ecf\u8fc7\u89c2\u5bdf\uff0c\u6211\u4eec\u53d1\u73b0Shell\u662f\u7528\u7a7a\u683c\u533a\u5206\u6bcf\u4e2a\u5355\u8bcd\u7684\u3002\u6240\u4ee5\u6211\u4eec\u5728\u4e4b\u540e\u65b0\u5efa\u4e0e\u5f00\u53d1\u6709\u5173\u7684\u6587\u4ef6\u5939/\u6587\u4ef6\u7684\u65f6\u5019\u4e0d\u5141\u8bb8\u4f7f\u7528\u5e26\u6709\u7a7a\u683c\u7684\u540d\u5b57\uff0c\u5c3d\u91cf\u5728\u540d\u5b57\u4e2d\u53ea\u4f7f\u7528<code>a-z``A-Z``0-9</code>\u8fd962\u4e2a\u5b57\u7b26\uff08\u5f53\u7136\u4e2d\u6587\u540d\u4e5f\u53ef\u4ee5\uff0c\u4f46\u662f\u4e0d\u63a8\u8350\uff09\u3002\u4f46\u6709\u65f6\u6709\u7684\u6587\u4ef6\u5c31\u662f\u6709\u7a7a\u683c\uff0c\u8fd9\u65f6\u9700\u8981\u5728\u540d\u5b57\u4e24\u4fa7\u6dfb\u52a0\u53cc\u5f15\u53f7\uff0c\u6216\u8005\u5728\u7a7a\u683c\u524d\u9762\u6dfb\u52a0\u53cd\u659c\u6760<code>\\</code>\u3002</p> <p>OK \u5982\u679c\u53ea\u662f\u5b66Git\uff0c\u8fd9\u4e9b\u7edd\u5bf9\u591f\u4e86\u3002\u5982\u679c\u662f\u8981\u4f7f\u7528\u7ec8\u7aef\u8fdb\u884c\u5f00\u53d1\u5de5\u4f5c\uff0c\u8fd9\u4e9b\u8bf4\u5b9e\u8bdd\u4e0d\u600e\u4e48\u591f\u3002\u4f46\u6211\u4eec\u5b66\u8fd9\u4e9b\u8db3\u591f\u4e86\u3002</p>"},{"location":"LECTURE/Git/git/#git_3","title":"Git\u6559\u7a0b","text":""},{"location":"LECTURE/Git/git/#git_4","title":"\u5b89\u88c5/\u914d\u7f6eGit","text":"<p>macOS\u81ea\u5e26Git\uff08\u4e5f\u8bb8\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\uff08\u4ec0\u4e48\u53eb\u81ea\u5e26\u5462\u2026\u76f8\u5f53\u4e8eFinder\u3001\u5907\u5fd8\u5f55\u3001\u65e5\u5386\u8fd9\u4e9b\u9884\u88c5\u8f6f\u4ef6\uff09\u3002\u4f7f\u7528\u4e0b\u65b9\u547d\u4ee4\u67e5\u770bGit\u7684\u7248\u672c\u3002</p> <pre><code>git --version\ngit version 2.24.3 (Apple Git-128)\n</code></pre> <p>\u5982\u679c\u65e0\u6cd5\u51fa\u73b0\u7248\u672c\u53f7\uff0c\u8bf4\u660e\u4f60\u9700\u8981\u5b89\u88c5<code>Xcode</code>\u6216\u8005<code>Command Line Tools</code>\uff0c\u5b89\u88c5\u7684\u65f6\u5019\u4f1a\u987a\u5e26\u5b89\u88c5<code>Git</code>\u3002\u63a8\u8350\u4e4b\u540e\u6253\u7b97\u5b66\u4e60iOS\u8f6f\u4ef6\u5f00\u53d1\u7684\u540c\u5b66\u76f4\u63a5\u4ece<code>App Store</code>\u5b89\u88c5<code>Xcode</code>\uff1bMac\u5b58\u50a8\u8f83\u5c0f\u7684\u540c\u5b66\u6216\u8005\u4e4b\u540e\u4e0d\u6253\u7b97\u7528<code>Xcode</code>\u7684\u8bdd\u5728Apple Developer\u4e0b\u8f7dCommand Line Tools\u5b89\u88c5\u5c31\u597d\u3002\u5982\u679c\u5e0c\u671b\u4f7f\u7528\u66f4\u65b0\u7248\u672c\u7684<code>Git</code>\uff0c\u9700\u8981\u4f7f\u7528<code>Homebrew</code>\u8fdb\u884c\u5b89\u88c5\uff0c\u8fd9\u91cc\u4e0d\u591a\u8bf4\uff0c\u56e0\u4e3a\u81ea\u5e26\u7684\u7248\u672c\u7248\u672c\u5df2\u7ecf\u8db3\u591f\u4e86\u3002</p>"},{"location":"LECTURE/Git/git/#git_5","title":"\u6dfb\u52a0Git\u7528\u6237\u540d\u548c\u90ae\u7bb1","text":"<pre><code>## \u67e5\u770b\ngit config user.name\ngit config user.email\n\n## \u4fee\u6539\ngit config --global user.name &lt;your name&gt;\ngit config --global user.email &lt;your email&gt;\n</code></pre> <p>\u7531\u4e8eGit\u4f1a\u8bb0\u5f55\u4f60\u7684\u6bcf\u4e00\u6b21\u64cd\u4f5c\uff0c\u8fd9\u4e9b\u8bb0\u5f55\u91cc\u9762\u9700\u8981\u6709\u64cd\u4f5c\u8005\u7684\u4fe1\u606f\uff0c\u4f60\u5728\u4f60\u7684\u7535\u8111\u4e0a\u7528\uff0c\u6240\u4ee5\u9700\u8981\u7ed9\u4f60\u7535\u8111\u4e0a\u7684Git\u914d\u7f6e\u4f60\u7684\u540d\u5b57\u548cemail\u3002\u8fd9\u91cc\u540d\u5b57\u5c31\u7528\u5168\u540d\u662f\u6bd4\u8f83\u597d\u7684\uff0c\u6bd4\u5982<code>Xijie Yang</code>\u8fd9\u6837\uff0c\u4e5f\u53ef\u4ee5\u7528\u7b80\u5199\uff0c\u6bd4\u5982<code>yxj</code>\uff08\u5e76\u4e0d\u89c4\u8303\uff09\u3002\u8fd9\u91cc\u6dfb\u52a0\u540d\u5b57\u548c\u90ae\u7bb1\u662f\u65b9\u4fbf\u4ee5\u540e\u522b\u4eba\u770b\u4e86\u4f60\u5199\u7684\u4ee3\u7801\u80fd\u591f\u627e\u5230\u4f60\u2026\u9700\u8981\u5199\u771f\u5b9e\u7684\u540d\u5b57\u548c\u90ae\u7bb1</p>"},{"location":"LECTURE/Git/git/#git_6","title":"Git\u57fa\u7840","text":""},{"location":"LECTURE/Git/git/#_10","title":"\u521b\u5efa\u7248\u672c\u5e93","text":"<p>\u5728\u67d0\u4e2a\u6587\u4ef6\u5939\u4e0b\u6267\u884c\uff1a</p> <pre><code>$ git init\nInitialized empty Git repository in /Users/yangxijie/Desktop/git_notes/.git/\n</code></pre> <p>\u8be5\u6587\u4ef6\u5939\u4e0b\u4f1a\u591a\u51fa\u6765\u4e00\u4e2a<code>.git/</code>\u7684\u6587\u4ef6\u5939\uff0c\u8fd9\u4e2a\u6587\u4ef6\u5939\u5c31\u662fGit\u751f\u6210\u7684\uff0c\u5b58\u50a8\u7528\u6765\u7ba1\u7406\u8fd9\u4e2a\u6587\u4ef6\u5939\u5185\u6587\u4ef6\u7684\u4fe1\u606f\u3002\u6211\u4eec\u5728\u4e4b\u540e\u662f\u4e0d\u5e94\u8be5\u5bf9\u8fd9\u4e2a\u6587\u4ef6\u5939\u5185\u7684\u4e1c\u897f\u505a\u4efb\u4f55\u66f4\u6539\u7684\u3002\uff08\u590d\u4e60\uff1a\u60f3\u8981\u5728Finder\u770b\u5230\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u6216\u6587\u4ef6\u5939\uff0c\u4f7f\u7528\u5feb\u6377\u952e \u21e7\u2318.\uff09</p>"},{"location":"LECTURE/Git/git/#_11","title":"\u5de5\u4f5c\u533a\u3001\u6682\u5b58\u533a\u3001\u672c\u5730\u7248\u672c\u5e93","text":""},{"location":"LECTURE/Git/git/#_12","title":"\u6982\u8ff0","text":"<p>\u5728\u4f60\u6267\u884c<code>git init</code>\u7684\u6587\u4ef6\u5939\uff08\u5b58\u5728<code>.git/</code>\u6587\u4ef6\u5939\uff09\u4e2d\uff1a</p> <p>\u5de5\u4f5c\u533a\uff08Working Directory\uff09\uff1a\u4f60\u5728<code>Finder</code>/<code>Xcode</code>/<code>VS Code</code>\u7684\u4fa7\u8fb9\u680f\u6587\u4ef6\u7ba1\u7406\u5668\u770b\u5230\u7684\u6240\u6709\u6587\u4ef6\u3002\u8fd9\u4e9b\u6587\u4ef6\u4f60\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\uff0c\u6216\u8005\u8bf4\uff0c\u4f60\u4fee\u6539\u7684\u603b\u662f\u5de5\u4f5c\u533a\u7684\u6587\u4ef6\u3002</p> <p>\u6682\u5b58\u533a\uff08Stage\uff09\uff1a\u901a\u8fc7<code>git add</code>\u547d\u4ee4\u5c06\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u3002\u53ef\u4ee5\u591a\u6b21\u4f7f\u7528<code>git add</code>\u547d\u4ee4\u6765\u8bb0\u5f55\u6dfb\u52a0\u6216\u4fee\u6539\u7684\u6587\u4ef6\u5185\u5bb9\u3002</p> <p>\u672c\u5730\u4ed3\u5e93\uff08Repository\uff09\uff1a\u901a\u8fc7<code>git commit</code>\u547d\u4ee4\u5c06\u6682\u5b58\u533a\u7684\u6240\u6709\u6dfb\u52a0/\u4fee\u6539\u653e\u5165\u672c\u5730\u4ed3\u5e93/\u672c\u5730\u7248\u672c\u5e93\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5f53\u4e00\u4e9b\u6bd4\u8f83\u5927\u7684\u4fee\u6539\u5b8c\u6210\uff0c\u6211\u4eec\u4f1a\u4f7f\u7528<code>git commit</code>\u547d\u4ee4\u5b8c\u6574\u8bb0\u5f55\u8fd9\u6b21\u4fee\u6539\uff0c\u6bcf\u6b21commit\u88ab\u79f0\u4f5c\u4e00\u4e2a\u7248\u672c\uff0c\u56e0\u6b64\u5c06\u5b58\u50a8\u8fd9\u4e9bcommit\u7684\u4ed3\u5e93\u53eb\u505a\u7248\u672c\u5e93\u3002\u4ee5\u540e\u53ef\u4ee5\u901a\u8fc7<code>git log</code>\u547d\u4ee4\u5feb\u901f\u67e5\u770b\u8fd9\u4e9bcommits\u6216\u8fdb\u884c\u7248\u672c\u56de\u9000\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u4f60\u6bcf\u6b21\u4f7f\u7528<code>git commit</code>\uff0cGit\u5c31\u4f1a\u5e2e\u52a9\u4f60\u8bb0\u5f55\u8fd9\u6b21\u505a\u7684\u66f4\u6539\uff0c\u8fd9\u6837\u4f60\u4ee5\u540e\u60f3\u540e\u6094\u7684\u65f6\u5019\u901a\u8fc7commit\u56de\u9000\u5c31\u53ef\u4ee5\u4e86\u3002\u5c31\u597d\u50cf\u6253\u95ef\u5173\u6e38\u620f\u7684\u65f6\u5019\u4f1a\u5b58\u6863\uff0c\u6bcf\u6b21\u5b58\u6863\u4e4b\u540e\uff0c\u5982\u679c\u4f60\u6253Boss\u6302\u4e86\uff0c\u6ca1\u4e8b\u513f\uff0c\u4ece\u5b58\u6863\u70b9\u91cd\u6765\u5c31\u53ef\u4ee5\u4e86\u3002</p>"},{"location":"LECTURE/Git/git/#git-add","title":"git add","text":"<pre><code>git add &lt;file&gt;\n</code></pre> <p>\u53ef\u4ee5\u6dfb\u52a0\u6587\u4ef6\uff0c\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u6587\u4ef6\u5939\u3002\u4e5f\u53ef\u4ee5\u6309\u7167\u901a\u914d\u7b26\u6765\u6dfb\u52a0\u3002</p>"},{"location":"LECTURE/Git/git/#git-commit","title":"git commit","text":"<p>\u8ba8\u8bba\uff1a\u6211\u5230\u5e95\u5e94\u8be5\u4ec0\u4e48\u65f6\u5019commit\uff1fcommit\u6700\u91cd\u8981\u7684\u4f5c\u7528\u662f\uff0c\u4e4b\u540e\u4f60\u53ef\u4ee5\u901a\u8fc7\u67d0\u6b21commit\u7248\u672c\u53f7\u67e5\u770b\u6216\u8005\u56de\u5230\u8fd9\u6b21commit\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5f53\u4f60\u89c9\u5f97\u6539\u4e86\u4e00\u4e9b\u4e1c\u897f\u7684\u65f6\u5019\uff0c\u90fd\u53ef\u4ee5commit\u4e00\u4e0b\u3002\u4e5f\u6709\u4e0d\u5c11\u4eba\u89c9\u5f97\u5e94\u8be5\u6bcf\u6539\u4e00\u4e2a\u6587\u4ef6add\u4e00\u6b21commit\u4e00\u6b21\u3002\u90fd\u53ef\u4ee5\uff0c\u8fd9\u4e2a\u770b\u4e2a\u4eba\u4e60\u60ef\u3002\u4f46\u662f\u6ce8\u610f\u4e0d\u8981\u6539\u4e86\u597d\u591a\u624dcommit\uff0c\u56e0\u4e3a\u8fd9\u6837\u66f4\u6539\u7684\u8bb0\u5f55\u5c31\u4e0d\u662f\u90a3\u4e48\u6e05\u6670\u4e86\u3002</p> <pre><code>git commit -m \"&lt;message&gt;\"\n## \u6216\ngit commit -m\"&lt;message&gt;\"\n</code></pre> <p>\u4e00\u822c<code>&lt;message&gt;</code>\u4f7f\u7528\u52a8\u8bcd\u52a0\u540d\u8bcd\u7684\u5f62\u5f0f\uff0c\u8bb0\u5f55\u4f60\u8fd9\u6b21<code>commit</code>\u4fee\u6539\u7684\u4e3b\u8981\u5185\u5bb9\u3002\u4f7f\u7528\u82f1\u6587\u6216\u4e2d\u6587\u90fd\u53ef\u4ee5\uff0c\u4e2a\u4eba\u63a8\u8350\u4f7f\u7528\u82f1\u6587\uff0c\u56e0\u4e3a\u5982\u679c\u4f60\u4e4b\u540e\u5f00\u6e90\uff0c\u82f1\u6587\u53ef\u4ee5\u8ba9\u4f60\u65b9\u4fbf\u7684\u5c06\u4f60\u7684\u9879\u76ee\u63a8\u5411\u4e16\u754c\u3002</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u6b21commit\u4e4b\u540e\uff0c\u8fd9\u6b21commit\u5c31\u4e0d\u5e94\u8be5\u88ab\u6539\u53d8\u4e86\uff1b\u7c7b\u4f3c\u4f60\u8fd9\u6b21\u505a\u7684\u4fee\u6539\u5df2\u7ecf\u5199\u5165\u5386\u53f2\u4e66\u7684\u611f\u89c9\u3002\u4f46\u662f\u4f60commit\u4e4b\u540e\u7a81\u7136\u53d1\u73b0\u521a\u521a\u7684commit\u5b9e\u5728\u4e0d\u884c\uff0c\u8fd9\u65f6\u600e\u4e48\u529e\u5462\uff1f\u4f7f\u7528\uff1a</p> <pre><code>git commit -m \"&lt;message&gt;\" --amend\n</code></pre> <p>\u6765\u4fee\u8865\u4e0a\u4e00\u6b21commit\u3002\u8fd9\u6837\u4e4b\u524d\u7684\u4e00\u6b21commit\u5c31\u4f1a\u53d8\u6210\u4f60\u65b0\u63d0\u4ea4\u7684commit\u3002</p>"},{"location":"LECTURE/Git/git/#git-status","title":"git status","text":"<p>\u67e5\u770b\u6bcf\u4e2a\u533a\u7684\u72b6\u6001\u3002</p>"},{"location":"LECTURE/Git/git/#git-diff","title":"git diff","text":"<pre><code>git diff # worktree &amp; stage (Changes in the working tree not yet staged for the next commit.)\ngit diff HEAD # worktree &amp; HEAD (Changes in the working tree since your last commit.)\ngit diff --cached # stage &amp; HEAD (Changes between the index and your last commit.)\ngit diff &lt;commit&gt; &lt;commit&gt; # between two commits\n</code></pre> <p>\u66f4\u597d\u7684\u662f\uff0c\u76f4\u63a5\u5728<code>VS Code</code>\u6216<code>Xcode</code>\u4e2d\u67e5\u770b\uff08\u5de6\u4fa7\u7684\u989c\u8272\u6761\uff09\uff0c\u8fd9\u6837\u66f4\u65b9\u4fbf\u3002\u6216\u8005\u91c7\u7528\u4e00\u4e9b\u63d2\u4ef6\u67e5\u770b\uff0c\u6bd4\u5982<code>VS Code</code>\u7684\u63d2\u4ef6<code>git graph</code></p> <p>\u8fd9\u91cc\u53ef\u4ee5\u770b\u5230Git\u5224\u65ad\u6587\u4ef6\u4fee\u6539\u662f\u6309\u7167\u884c\u6765\u5224\u65ad\u7684\u3002\u4f60\u6539\u4e86\u4e00\u4e2a\u5355\u8bcd\uff0cGit\u53ea\u4f1a\u8bb0\u5f55\uff1a\u8fd9\u4e00\u884c\u88ab\u66f4\u6539\uff0c\u539f\u6765\u4e3axx\uff0c\u6539\u4e3a\u4e86xx\uff1b\u4f60\u6dfb\u52a0\u4e86\u4e00\u6bb5\u4ee3\u7801\uff0cGit\u53ea\u4f1a\u8bb0\u5f55\uff1a\u6dfb\u52a0\u4e86xx\u884c\uff0c\u5185\u5bb9\u4e3axx\u3002</p> <p>\u6240\u4ee5\uff1a * Git\u4e00\u822c\u53ea\u80fd\u7ba1\u7406\u6587\u672c\u6587\u4ef6\uff0c\u800c\u4e14\u662f\u6309\u7167\u884c\u7ba1\u7406\u7684 * \u4e8c\u8fdb\u5236\u6587\u4ef6\u4e5f\u53ef\u4ee5\u901a\u8fc7<code>git add</code>\u8ba9Git\u6765\u7ba1\u7406\uff0c\u4f46\u4e8c\u8fdb\u5236\u6587\u4ef6\u88ab\u66f4\u6539\u7684\u8bdd\uff0cGit\u53ea\u77e5\u9053\u6587\u4ef6\u66f4\u6539\u4e86\uff0c\u65e0\u6cd5\u8bb0\u5f55\u662f\u600e\u4e48\u66f4\u6539\u7684\uff1b\u800c\u4e14\u5982\u679c\u4e00\u76f4\u4f7f\u7528Git\u7ba1\u7406\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c<code>.git/</code>\u6587\u4ef6\u5939\u4f1a\u8d8a\u6765\u8d8a\u5927\uff0c\u8fd9\u4e0d\u5229\u4e8e\u7f51\u7edc\u4f20\u8f93\u3002 * \u50cf<code>Microsoft Word</code>\u7684<code>.docx</code>\u6587\u4ef6\u5c31\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4e00\u822c\u4e0d\u4f1a\u7528Git\u6765\u7ba1\u7406\u3002\uff08\u9664\u4e86Git\u8fd8\u6709\u5f88\u591a\u522b\u7684\u7248\u672c\u7ba1\u7406\u5de5\u5177/\u8f6f\u4ef6\u54e6\uff0c\u5927\u5bb6\u611f\u5174\u8da3\u53ef\u4ee5\u81ea\u884c\u4e86\u89e3\uff09</p>"},{"location":"LECTURE/Git/git/#git-log","title":"git log","text":"<p>\uff08\u591a\u6b21commit\u4e4b\u540e\u67e5\u770b\uff09</p> <pre><code>git log\n</code></pre> <p>log\u2014\u2014\u65e5\u5fd7</p> <p>\u770b\u5230\u4e86\u6700\u5f00\u59cb\u8bbe\u7f6e\u7684\u90ae\u7bb1\u548c\u540d\u5b57\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8c01\u63d0\u4ea4\u7684commit\uff0c\u5728log\u91cc\u9762\u662f\u90fd\u80fd\u770b\u5f97\u5230\u7684\u54e6\u3002</p> <p>\u770b\u5230\u4e86\u6bcf\u6b21commit\u90fd\u6709\u4e00\u4e32\u7f16\u53f7\uff0c\u8fd9\u4e2a\u7f16\u53f7\u662f\u6839\u636e\u6bcf\u6b21\u4e00\u6b21commit\u7684\u6587\u4ef6\u8ba1\u7b97\u51fa\u6765\u7684\uff0c\u6211\u4eec\u5c06\u5176\u79f0\u4e3a\u7248\u672c\u53f7\u3002\u4e4b\u540e\u5982\u679c\u8981\u67e5\u770b\u67d0\u4e00\u6b21commit\uff0c\u53ef\u4ee5\u901a\u8fc7\u8fd9\u4e9b\u7248\u672c\u53f7\u67e5\u770b\uff08\u4f46\u6bd4\u8f83\u957f\uff0c\u5199\u524d\u51e0\u4f4d\u5c31\u53ef\u4ee5\u4e86\uff09</p> <p>\u4e5f\u770b\u5230\u4e86\u6bcf\u6b21commit\u9644\u52a0\u7684message\uff0c\u8fd9\u6837\u5c31\u80fd\u77e5\u9053\u6bcf\u6b21commit\u90fd\u505a\u4e86\u4ec0\u4e48\u3002</p>"},{"location":"LECTURE/Git/git/#git-rm","title":"git rm","text":"<p>\u76f4\u63a5\u5220\u9664\u6587\u4ef6\uff08\u2318\u232b\u6216<code>rm</code>\u547d\u4ee4\uff09\u2014\u2014\u53ea\u5220\u9664\u4e86\u5de5\u4f5c\u533a\u7684\u6587\u4ef6\u3002\u8fd9\u65f6\u4f60\u4f7f\u7528<code>git commit</code>\u547d\u4ee4\u63d0\u4ea4\u8fd9\u4e00\u66f4\u6539\uff0c\u53d1\u73b0\u4f60\u521a\u521a\u7684\u66f4\u6539\uff08\u5220\u9664\uff09<code>Changes not staged for commit</code>\u3002\u8fd8\u8bb0\u5f97\u8bb2<code>git commit</code>\u7684\u65f6\u5019\uff0c\u8bf4\u8981\u628a\u4e1c\u897f\u6dfb\u52a0\u5230\u6682\u5b58\u533a\u624d\u80fd\u63d0\u4ea4\u5417\uff1f</p> <p>\u6240\u4ee5\u6211\u4eec\u4f7f\u7528<code>git add &lt;file&gt;</code>\u547d\u4ee4\uff0c\u5c06\u5220\u9664\u7684\u6587\u4ef6\u6dfb\u52a0\u5230\u6682\u5b58\u533a</p> <p>\u76f8\u5f53\u4e8e\uff1a\u5982\u679c\u4f60\u9700\u8981\u5728\u5de5\u4f5c\u533a\uff08\u5728\u6587\u4ef6\u7ba1\u7406\u5668\uff09\u5220\u9664\u4e00\u4e2a\u6587\u4ef6\uff0c\u800c\u4e14\u8fd8\u8981\u8ba9git\u4e0d\u518d\u8ddf\u8e2a\u8bb0\u5f55\u8fd9\u4e2a\u6587\u4ef6\uff0c\u90a3\u4e48\u9700\u8981\u5148\u5728\u6587\u4ef6\u7ba1\u7406\u5668\u4e2d\u5220\u9664\uff0c\u4e4b\u540e\u518d\u4f7f\u7528<code>git add</code>\u547d\u4ee4\u6dfb\u52a0\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p>\u8fd9\u4e24\u6b65\u5408\u6210\u4e00\u6b65\uff0c\u5c31\u662f<code>git rm &lt;file&gt;</code>\u3002\u8fd8\u662f\u63a8\u8350\u5927\u5bb6\u4f7f\u7528\u4e0a\u9762\u7684\u547d\u4ee4\uff0c\u56e0\u4e3a\u6211\u4eec\u5728\u4e4b\u540e\u5b9e\u9645\u5f00\u53d1\u7684\u65f6\u5019\uff0c\u53ef\u80fd\u4e00\u6b21commit\u4f1a\u5bf9\u5f88\u591a\u6587\u4ef6\u4f5c\u51fa\u4fee\u6539\uff0c\u8fd9\u5176\u4e2d\u5305\u62ec\u65b0\u5efa\u4e00\u4e9b\u6587\u4ef6\u3001\u5220\u9664\u4e00\u4e9b\u6587\u4ef6\uff0c\u56e0\u6b64\u76f4\u63a5<code>git add .</code>\u5c31\u597d\u4e86\uff0c\u4e0d\u9700\u8981\u8003\u8651\u8fd9\u4e48\u591a\uff1b\u5982\u679c\u6587\u4ef6\u662f\u5220\u9664\u4e86\u7684\uff0c\u90a3\u4e48<code>git add .</code>\u5c31\u4f1a\u5c06\u8fd9\u4e2a\u6587\u4ef6\u8bc6\u522b\u4e3a\u88ab\u5220\u9664\u7684\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u4f60\u8981\u5c06\u7528<code>git add</code>\u653e\u5230\u6682\u5b58\u533a\u7684\u6587\u4ef6\u53d6\u6d88\u6682\u5b58\uff0c\u4f7f\u7528<code>git rm --cached &lt;file&gt;</code>\u547d\u4ee4</p> <p>\u5982\u679c\u4f60\u60f3\u6539\u53d8\u5de5\u4f5c\u533a\u7684\u6587\u4ef6\uff0c\u6216\u8005\u8ba9\u6682\u5b58\u533a\u7684\u6587\u4ef6\u53d8\u6210</p>"},{"location":"LECTURE/Git/git/#_13","title":"\u6848\u4f8b\uff1a\u5173\u4e8e\u4e0a\u9762\u6240\u6709\u547d\u4ee4\u7684\u6848\u4f8b","text":"<p>git init/add/status/diff/commit/status/add/commit/log/diff</p>"},{"location":"LECTURE/Git/git/#_14","title":"\u820d\u5f03\u5de5\u4f5c\u533a/\u6682\u5b58\u533a\u7684\u4fee\u6539","text":"<p>\u820d\u5f03\u66f4\u6539<code>==</code>\u7528\u67d0\u4e9b\u4e4b\u524d\u7684\u4e1c\u897f\u6765\u8986\u76d6</p> <pre><code>git --help restore # \u67e5\u770brestore\u547d\u4ee4\u7684\u5e2e\u52a9\u6587\u6863\n</code></pre> <p><code>git restore</code> == <code>git restore --worktree</code> \u9ed8\u8ba4\u662f\u8986\u76d6worktree</p> <pre><code>-s &lt;tree&gt;, --source=&lt;tree&gt;\nRestore the working tree files with the content from the given tree. If not specified, the default restore source for the working tree is the index, and the default restore source for the index is HEAD.\n\n-W, --worktree, -S, --staged\nSpecify the restore location. If neither option is specified, by default the working tree is restored.\n</code></pre> <p></p>"},{"location":"LECTURE/Git/git/#git-restore","title":"\u6848\u4f8b\uff1a\u5173\u4e8egit restore","text":""},{"location":"LECTURE/Git/git/#_15","title":"\u7248\u672c\u56de\u9000","text":"<p>\u9996\u5148\u6211\u4eec\u9700\u8981\u660e\u786e\u4e24\u70b9\uff1a\u6bcf\u4e00\u6b21<code>commit</code>\u7684\u7f16\u53f7\uff0c\u4e00\u65b9\u9762\u4ee3\u8868\u6240\u6709\u6587\u4ef6\u7684\u72b6\u6001\uff0c\u53e6\u4e00\u65b9\u9762\u4ee3\u8868\u8fd9\u4e00\u6b21<code>commit</code>\u76f8\u6bd4\u4e8e\u4e0a\u4e00\u6b21<code>commit</code>\u6240\u505a\u7684\u66f4\u6539\u3002</p> <p>\u90a3\u4e48\u6211\u4eec\u5982\u679c\u5e0c\u671b\u56de\u5230\u4e4b\u524d\u7684\u67d0\u4e2a<code>commit</code>\uff0c\u6307\u7684\u5c31\u662f\u76f4\u63a5\u5c06\u5de5\u4f5c\u533a\u6240\u6709\u6587\u4ef6\u90fd\u6062\u590d\u6210\u90a3\u4e2a<code>commit</code>\u4e4b\u540e\u7684\u6837\u5b50\u3002</p> <p>\u8fd9\u65f6\u6211\u4eec\u9700\u8981\u4f7f\u7528\uff1a</p> <pre><code>git reset --hard &lt;commit&gt;\n</code></pre> <p>\u5982\u679c\u6211\u4eec\u5e0c\u671b\u64a4\u9500\u67d0\u6b21<code>commit</code>\u6240\u505a\u51fa\u7684\u66f4\u6539\uff0c\u90a3\u4e48\u6211\u4eec\u9700\u8981\u4f7f\u7528\uff1a</p> <pre><code>git revert &lt;commit&gt; # Git\u5e2e\u4f60\u63d0\u4ea4\ngit revert -n &lt;commit&gt; # -n: --no-commit\uff0c\u81ea\u5df1\u63d0\u4ea4\n</code></pre> <p></p> <p>\u4e24\u79cd\u56de\u9000\u7684\u5206\u6790\uff1a</p> <p><code>git reset --hard</code>\u662f\u975e\u5e38\u65b9\u4fbf\u7684\u56de\u9000\u65b9\u5f0f\u3002\u5982\u679c\u4f60\u5199\u4ee3\u7801\u63d0\u4ea4\u4e86\u4e24\u4e2a<code>commit</code>\u4e4b\u540e\u53bb\u5403\u996d\uff0c\u5403\u5b8c\u56de\u6765\u4e00\u770b\uff0c\u89c9\u5f97\u521a\u521a\u72b6\u6001\u4e0d\u592a\u597d\u5199\u7684\u4e0d\u884c\uff0c\u4e8e\u662f\u4f60<code>git reset --hard</code>\u56de\u5230\u4e24\u4e2a\u7248\u672c\u4e4b\u524d\uff0c\u53d1\u73b0\u6240\u6709\u7684\u4e1c\u897f\u90fd\u53d8\u6210\u4e86\u4f60\u4fee\u6539\u4ee3\u7801\u524d\u7684\u6837\u5b50\u3002</p> <p><code>git reset --hard</code>\u4f1a\u5220\u9664<code>commit</code>\uff0c\u6240\u4ee5\u5982\u679c\u4f60\u5728\u67d0\u6b21<code>commit</code>\u4e2d\u6dfb\u52a0\u4e86\u654f\u611f\u4fe1\u606f\uff08\u5982\u8d26\u53f7\u5bc6\u7801\u7b49\uff09\uff0c\u90a3\u4e48\u4f7f\u7528<code>git reset --hard</code>\u8fdb\u884c\u6062\u590d\u662f\u5341\u5206\u660e\u667a\u7684\u9009\u62e9\u3002</p> <p>\u4f46\u662f\u8981\u6ce8\u610f\uff0c\u5728\u4e0a\u9762\u7684\u6848\u4f8b\u4e2d\uff0c\u5982\u679c\u4f60\u5df2\u7ecf\u5c06\u4e24\u6b21<code>commit</code>\u4f7f\u7528<code>git push</code>\u4e0a\u4f20\u5230\u4e86Git\u670d\u52a1\u5668\uff0c\u90a3\u4e48<code>git reset --hard</code>\u4e00\u5b9a\u4f1a\u7ed9\u56e2\u961f\u534f\u4f5c\u5e26\u6765\u6df7\u4e71\uff08\u56e0\u4e3a\u4f60\u76f4\u63a5\u5220\u9664\u4e86\u4e24\u4e2acommit\uff01\uff09\u3002\u8fd9\u65f6\u600e\u4e48\u529e\u5462\uff1f\u4f60\u53ef\u4ee5\u4f7f\u7528\u4e24\u6b21<code>git revert -n</code>\u518d<code>git commit</code>\uff0c\u8fd9\u6837\u4f60\u4f1a\u65b0\u751f\u6210\u4e00\u4e2a<code>commit</code>\uff0c\u8fd9\u4e2a<code>commit</code>\u7684\u5185\u5bb9\u548c\u5f80\u524d\u4e24\u6b21<code>commit</code>\u7684\u5185\u5bb9\u4e00\u6837\uff0c\u7531\u4e8e\u8fd9\u662f\u65b0\u751f\u6210\u7684<code>commit</code>\uff0c\u6240\u4ee5push\u5230\u670d\u52a1\u5668\u4e5f\u5b8c\u5168\u6ca1\u6709\u95ee\u9898\u3002</p> <p>\u90a3\u4e48\u5982\u679c\u628a\u5bc6\u7801<code>git push</code>\u5230\u670d\u52a1\u5668\u4e86\u5462\uff1f\u8fd9\u65f6<code>Git</code>\u5df2\u7ecf\u5e2e\u4e0d\u4e86\u4f60\u4e86\u3002\u8981\u4e0d\u76f4\u63a5\u5728\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u76f4\u63a5\u5220\u6389\u9879\u76ee\u5427\uff08\u4e0d\u63a8\u8350\uff09\uff0c\u8981\u4e0d\u5c31\u8d76\u7d27\u53bb\u6539\u5bc6\u7801\u5427\u2026</p> <p>\u6ce8\uff1a\u5176\u4e2d\u7684\u7248\u672c\u53f7<code>&lt;commit&gt;</code>\u53ef\u4ee5\u901a\u8fc7<code>git log</code>\u67e5\u770b\u3002</p> <p>\u6ce8\uff1a\u5411\u540e\u56de\u9000\u4e00\u4e2a\u7248\u672c\u53ef\u4ee5\u5199\u4e3a<code>git reset --hard HEAD^</code>\uff0c<code>HEAD^^</code>\u8868\u793a\u5f53\u524d\u7248\u672c\u5411\u540e2\u4e2a<code>commit</code>\uff0c<code>HEAD~n</code>\u8868\u793a\u5f53\u524d\u7248\u672c\u5411\u540en\u4e2a<code>commit</code>\u3002</p>"},{"location":"LECTURE/Git/git/#git-gitignore","title":"Git\u8fdb\u9636 - gitignore","text":"<p>\u6211\u4eec\u56e0\u4e3a\u4e4b\u540e\u8981\u8fdb\u884c\u5408\u4f5c\u5f00\u53d1\uff0c\u6216\u8005\u4f60\u60f3\u628a\u4f60\u7684Git\u4ed3\u5e93\u5206\u4eab\u81f3\u7f51\u7edc\uff0c\u6211\u4eec\u90fd\u9700\u8981\u4e0a\u4f20<code>.git/</code>\u6587\u4ef6\u5939\u3002\u8fd9\u6837\u7684\u8bdd\uff0c\u6211\u4eec\u5c31\u4e0d\u5e0c\u671b\u8fd9\u4e2a\u6587\u4ef6\u5939\u592a\u5927\uff0c\u4e0d\u7136\u522b\u4eba\u4e0b\u8f7d\u8d77\u6765\u5f88\u6162\uff1b\u6211\u4eec\u4e5f\u4e0d\u5e0c\u671b\u4e00\u4e9b\u79c1\u5bc6\u7684\u6587\u4ef6\u4e0a\u4f20\u4e0a\u53bb\uff0c\u6bd4\u5982\u542b\u6709\u67d0\u4e9b\u5bc6\u7801\u7684\u6587\u4ef6\uff1b\u4ee5\u53ca\u4e00\u4e9b\u4e71\u4e03\u516b\u7cdf\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u4e0d\u60f3\u8ba9\u522b\u4eba\u770b\u5230\u3002\u56e0\u6b64\uff0c\u5728<code>git add</code>\u548c<code>git commit</code>\u7684\u65f6\u5019\uff0c\u6211\u4eec\u5c31\u8981\u6ce8\u610f\u4e0d\u8981\u628a\u4e00\u4e9b\u5f88\u5927\u7684\u56fe\u7247\u3001\u89c6\u9891\u3001\u7b2c\u4e09\u65b9\u5305\u7b49\u5927\u6587\u4ef6\uff0c\u8fd8\u6709\u4e00\u4e9b\u5bc6\u7801\u3001\u4e2a\u4eba\u914d\u7f6e\u6587\u4ef6\u6dfb\u52a0\u8fdbGit\u4ed3\u5e93\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728\u6bcf\u6b21<code>git add</code>\u7684\u65f6\u5019\u90fd\u6ce8\u610f\u4e0d\u53bb\u6dfb\u52a0\u8fd9\u4e9b\u6587\u4ef6\uff0c\u4f46\u662f\u521a\u521a\u8bf4\u5230\uff0c\u6700\u5e38\u7528\u7684\u6dfb\u52a0\u6587\u4ef6\u7684\u65b9\u5f0f\u662f<code>git add .</code>\uff0c\u90a3\u4e48\u5982\u4f55\u544a\u8bc9Git\u6211\u4eec\u4e0d\u5e0c\u671b\u6dfb\u52a0\u7684\u90a3\u4e9b\u6587\u4ef6\uff0c\u8ba9Git\u81ea\u52a8\u5e2e\u6211\u4eec\u6392\u9664\u6dfb\u52a0\u8fd9\u4e9b\u6587\u4ef6\u5462\uff1f</p> <p>\u901a\u8fc7\u5728\u9879\u76ee\u7684\u6587\u4ef6\u5939\u4e2d\u521b\u5efa\u4e00\u4e2a<code>.gitignore</code>\u6587\u4ef6\uff0c\u5728\u5176\u4e2d\u5199\u51fa\u4f60\u4e0d\u5e0c\u671bGit\u8ffd\u8e2a\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff0c\u4e4b\u540e\u5728\u4f7f\u7528<code>git add</code>\u547d\u4ee4\u65f6\uff0cGit\u5c31\u4e0d\u4f1a\u6dfb\u52a0\u8fd9\u4e9b\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u8fdb\u6682\u5b58\u533a\u3002</p> <p>\u6211\u4eec\u5728\u5f00\u59cb\u67d0\u79cd\u9879\u76ee\u7684\u65f6\u5019\uff0c\u4f1a\u5148\u5728GitHub\u7684<code>.gitignore</code>\u6a21\u677f\u627e\u4e00\u4efd<code>.gitignore</code>\uff0c\u518d\u5728\u5176\u4e2d\u6dfb\u52a0\u81ea\u5df1\u4e0d\u9700\u8981Git\u8ffd\u8e2a\u7684\u6587\u4ef6\u3002\u6bd4\u5982\u8981\u5f00\u59cbSwift\u9879\u76ee\u7684\u5f00\u53d1\uff0c\u6211\u4eec\u4f1a\u5148\u4e0b\u8f7dSwift\u7684<code>.gitignore</code>\u6a21\u677fhttps://github.com/github/gitignore/blob/master/Swift.gitignore\uff0c\u518d\u5728\u5176\u4e2d\u6dfb\u52a0\u6bd4\u5982\u4e00\u4e9b\u81ea\u5df1\u7528\u6765\u6d4b\u8bd5\u7684\u6587\u4ef6\u5939\u3001\u5b58\u653e\u5bc6\u7801\u7684\u6587\u4ef6\u7b49\u3002</p> <p>\u4f7f\u7528<code>*</code>\u53ef\u4ee5\u4ee3\u66ff\u6587\u4ef6\u7684\u4e00\u90e8\u5206\u540d\u79f0\u3002\u6bd4\u5982\u4f7f\u7528<code>*.log</code>\u8ba9Git\u4e0d\u8981\u6dfb\u52a0\u6240\u6709\u7684\u65e5\u5fd7\u6587\u4ef6\u3002</p> <p>\u7ed9<code>.gitignore</code>\u6dfb\u52a0\u6ce8\u91ca\uff0c\u4f7f\u7528<code>#</code>\u5373\u53ef\u3002</p> <p>\u901a\u8fc7\u5728\u6700\u524d\u9762\u6dfb\u52a0<code>!</code>\u53ef\u4ee5\u8bb2\u5df2\u7ecf\u5ffd\u7565\u7684\u6587\u4ef6\u518d\u6dfb\u52a0\u56de\u6765\u3002\u6bd4\u5982\u524d\u9762\u5199\u4e86<code>*.txt</code>\u5ffd\u7565\u4e86\u6240\u6709\u4f60\u5e0c\u671bGit\u5ffd\u7565\u7684<code>txt</code>\u6587\u4ef6\uff0c\u4f46\u662f\u91cc\u9762\u6709\u4e00\u4efd<code>IMPORTANT.txt</code>\u4f60\u5e0c\u671b\u6dfb\u52a0\uff0c\u90a3\u4e48\u53ef\u4ee5\u5728<code>.gitignore</code>\u540e\u9762\u6dfb\u52a0<code>!IMPORTANT.txt</code>\u3002\u8fd8\u6709\u4e00\u70b9\u8981\u6ce8\u610f\uff0c\u5982\u679c\u4f60\u4e4b\u524d\u5ffd\u7565\u4e86\u4e00\u6574\u4e2a\u6587\u4ef6\u5939\uff0c\u90a3\u4e48\u4e4b\u540e\u662f\u4e0d\u80fd\u518d\u7528<code>!</code>\u6dfb\u52a0\u8fd9\u4e2a\u6587\u4ef6\u5939\u91cc\u9762\u7684\u6587\u4ef6\u7684\u3002\u53ef\u4ee5\u53c2\u8003\u4e00\u4e0b\u4e0b\u9762\u7684\u6587\u6863\uff1a</p> <p>Git Docs | gitignore</p> <p>An optional prefix \"!\" which negates the pattern; any matching file excluded by a previous pattern will become included again. It is not possible to re-include a file if a parent directory of that file is excluded. Git doesn\u2019t list excluded directories for performance reasons, so any patterns on contained files have no effect, no matter where they are defined.</p> <p>\u5728\u5f00\u59cb\u5199\u9879\u76ee\u4ee3\u7801\u4e4b\u524d\u5c31\u521b\u5efa\u597d<code>.gitignore</code>\u5e76\u6dfb\u52a0\u5230Git\u4e2d\u662f\u4e00\u4e2a\u597d\u7684\u4e60\u60ef\u3002</p>"},{"location":"LECTURE/Git/git/#git-","title":"Git\u8fdb\u9636 - \u5206\u652f","text":""},{"location":"LECTURE/Git/git/#_16","title":"\u5206\u652f","text":"<p>\u521b\u5efa\u4e00\u4e2a\u5206\u652f\uff0c\u4f60\u53ef\u4ee5\u5728\u8fd9\u4e2a\u5206\u652f\u4e0a\u5f00\u53d1\u65b0\u529f\u80fdA\uff0c\u8fc7\u4e00\u6bb5\u65f6\u95f4\uff0c\u4f60\u53c8\u60f3\u5f00\u53d1\u65b0\u529f\u80fdB\uff0c\u8fd9\u65f6\u4f60\u53ef\u4ee5\u518d\u5f00\u4e00\u4e2a\u5206\u652f\u3002\u8fc7\u4e86\u4e00\u6bb5\u65f6\u95f4\uff0c\u4f60\u4e24\u4e2a\u65b0\u529f\u80fd\u90fd\u5f00\u53d1\u597d\u4e86\uff0c\u5c31\u53ef\u4ee5\u5c06\u4e24\u4e2a\u5206\u652f\u5408\u5728\u4e00\u8d77\uff0c\u8fd9\u6837\u4f60\u7684\u4ea7\u54c1\u5c31\u540c\u65f6\u6709\u4e86\u4e24\u4e2a\u65b0\u7684\u529f\u80fd\u3002</p>"},{"location":"LECTURE/Git/git/#_17","title":"\u5206\u652f\u64cd\u4f5c","text":"<pre><code>git branch --create(-c) &lt;branch&gt; # \u521b\u5efa\u5206\u652f\ngit branch # \u67e5\u770b\u672c\u5730\u5206\u652f\ngit switch &lt;branch&gt; # \u5207\u6362\u5206\u652f\n</code></pre> <pre><code>## \u5f00\u53d1\u597d\u4e86\u65b0\u529f\u80fd\u4e4b\u540e\ngit switch main # \u5207\u6362\u5230\u4e3b\u5206\u652f\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u6240\u6709\u529f\u80fd\u90fd\u8981\u5408\u5e76\u5230\u4e00\u4e2a\u5206\u652f\u4e0a\ngit merge &lt;branch&gt; # \u5c06\u5f00\u53d1\u65b0\u529f\u80fd\u7684\u5206\u652f\u7684\u5185\u5bb9\u5408\u5e76\uff08merge\uff09\u5230main\u5206\u652f\u4e0a\ngit branch --delete(-d) &lt;branch&gt; # \u5220\u9664\u5f00\u53d1\u65b0\u529f\u80fd\u7684\u5206\u652f\uff0c\u56e0\u4e3a\u5f00\u53d1\u597d\u4e86\u5408\u5e76\u8fdb\u6765\u539f\u6765\u7684\u5f00\u53d1\u5206\u652f\u5c31\u6ca1\u6709\u7528\u4e86\n</code></pre>"},{"location":"LECTURE/Git/git/#_18","title":"\u89e3\u51b3\u51b2\u7a81","text":"<p>\u5408\u5e76\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u4ea7\u751f\u51b2\u7a81\u3002\u8fd9\u65f6\u6211\u4eec\u9700\u8981\u81ea\u5df1\u53bb\u89e3\u51b3\u51b2\u7a81\u3002\u6bd4\u5982\u4f60\u548c\u540c\u5b66\u4e00\u5757\u5199UI\u7ec4\u4ef6\uff0c\u5404\u81ea\u5f00\u4e86\u4e00\u4efd\u6587\u4ef6\u6765\u5199\uff0c\u7ed3\u679c\u4f60\u4fe9\u628a\u6587\u4ef6\u540d\u8d77\u6210\u4e86\u4e00\u6837\u7684\uff0c\u6216\u8005\u5728\u540c\u4e00\u4efd\u6587\u4ef6\u4e2d\u4fee\u6539\u4e86\u76f8\u540c\u7684\u5730\u65b9\uff0c\u8fd9\u65f6\u5728\u7b2c\u4e00\u4e2a\u540c\u5b66\u5408\u5e76\u4e4b\u540e\uff0c\u7b2c\u4e8c\u4e2a\u540c\u5b66\u7684\u5408\u5e76\u5c31\u4f1a\u51fa\u73b0\u51b2\u7a81\u3002\u89e3\u51b3\u51b2\u7a81\u7684\u65b9\u5f0f\u5f88\u7b80\u5355\uff0c\u5728\u88abGit\u7528\u7bad\u5934\u6807\u51fa\u6765\u7684\u5730\u65b9\u8fdb\u884c\u5220\u6539\u5c31\u597d\u4e86\u3002</p>"},{"location":"LECTURE/Git/git/#_19","title":"\u5206\u652f\u6848\u4f8b","text":""},{"location":"LECTURE/Git/git/#main","title":"\u6ce8\uff1a\u8bbe\u7f6e\u9ed8\u8ba4\u5206\u652f\u4e3amain","text":"<p>Stack Overflow | How can I create a Git repository with the default branch name other than master?</p> <pre><code>## \u67e5\u770bGit\u7248\u672c\ngit --version\n## Since git version 2.28.0\ngit config --global init.defaultBranch main\n## \u4e4b\u540e\u4f7f\u7528git init\u521d\u59cb\u5316\u9879\u76ee\u7684\u9ed8\u8ba4\u5206\u652f\u4f1a\u53d8\u4e3amain\ngit init\n\n## or for one repo\ngit init -b main\n</code></pre> <pre><code>git branch --move(-m) master main\n</code></pre>"},{"location":"LECTURE/Git/git/#git-_1","title":"Git\u8fdb\u9636 - \u8fdc\u7a0b\u4ed3\u5e93","text":""},{"location":"LECTURE/Git/git/#_20","title":"\u8fde\u63a5\u8fdc\u7a0b\u4ed3\u5e93","text":"<p>\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5c31\u662f\u4e00\u4e2aGit\u670d\u52a1\u5668\u3002\u5b83\u53ef\u4ee5\u5b58\u653e\u4f60\u7684\u4ee3\u7801\uff0c\u7136\u540e\u591a\u53f0\u7535\u8111\u4e00\u8d77\u94fe\u63a5\u5230\u8fd9\u4e2aGit\u670d\u52a1\u5668\uff0c\u5927\u5bb6\u5c31\u53ef\u4ee5\u5f00\u59cb\u534f\u4f5c\u4e86\u3002\u5982\u679c\u4e00\u4e2a\u5e73\u53f0\u6709\u5f88\u591a\u7684\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u6211\u4eec\u4e00\u822c\u5c06\u5176\u79f0\u4f5c\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u3002\u4e16\u754c\u77e5\u540d\u5ea6\u6700\u9ad8\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u662fGitHub\uff0c\u5927\u5bb6\u90fd\u5728\u7528\uff0c\u6211\u4eec\u4e4b\u540e\u4e5f\u4f1a\u7528GitHub\u8fdb\u884c\u6f14\u793a\uff0c\u4ee5\u540e\u5927\u5bb6\u4e5f\u8bb8\u4e5f\u4f1a\u4f7f\u7528GitHub\u8fdb\u884c\u5408\u4f5c\u5f00\u53d1\u3002\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u7684\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u6bd4\u5982gitee\uff08\u7801\u4e91\uff09\uff0cGitLab\uff08\u4f01\u4e1a\u53ef\u4ee5\u81ea\u884c\u4f7f\u7528\u90e8\u7f72\uff0c\u5982\uff09 <p>\u8fde\u63a5\u8fd9\u4e9b\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\uff0c\u4f60\u5f97\u9996\u5148\u6709\u4e00\u4e2a\u8d26\u53f7\uff0c\u76f4\u63a5\u6ce8\u518c\u5c31\u597d\u4e86\u3002\u5982\u679c\u7528\u7684\u662fTHU\u7684GitLab\uff0c\u7528\u6e05\u534e\u90ae\u7bb1\u5c31\u53ef\u4ee5\u767b\u9646\u3002</p> <p>\u6211\u4eec\u4e4b\u540e\u4f1a\u7528\u8fd9\u4e2a\u8d26\u53f7\u53bb\u5c06\u672c\u5730\u7684\u4ee3\u7801\u63a8\u4e0a\u4e91\u7aef\uff0c\u4f1a\u5c06\u4e91\u7aef\u7684\u4ee3\u7801\u4e0b\u8f7d\u5230\u672c\u5730\u3002\u4f46\u662f\u5982\u679c\u6211\u4eec\u6bcf\u6b21\u767b\u9646\u90fd\u8981\u8f93\u5165\u5bc6\u7801\uff0c\u8fd9\u662f\u4e00\u4ef6\u5f88\u8d39\u529b\u7684\u4e8b\u60c5\u3002\u6240\u4ee5\u6211\u4eec\u9700\u8981\u914d\u7f6essh\u3002</p> <p>\u7b80\u5355\u6765\u8bf4\uff0cssh\u5c31\u662f\u4f60\u53ef\u4ee5\u4e0d\u7528\u8f93\u5165\u5bc6\u7801\uff0c\u800c\u662f\u901a\u8fc7\u4e00\u4e32\u94a5\u5319\u7801\uff08\u5b57\u7b26\u4e32\uff09\u6765\u767b\u9646\uff1b\u767b\u9646\u7684\u65f6\u5019\u53d1\u8fc7\u53bb\u8fd9\u6bb5\u94a5\u5319\u7801\uff0c\u5982\u679c\u670d\u52a1\u5668\u4e00\u770b\u5339\u914d\uff0c\u90a3\u4e48\u5c31\u8ba9\u4f60\u767b\u9646\uff0c\u8fd9\u6837\u5b50\u3002</p> <p>\u5728GitHub\u4e2d\u70b9\u51fb\u4e2a\u4eba\u5934\u50cf\uff0cSettings\uff0c\u5728Account settings\u4e2d\u627e\u5230SSH keys\uff0c\u70b9\u51fbNew SSH key\uff1bTitle\u53ef\u4ee5\u968f\u4fbf\u8d77\uff0c\u6bd4\u5982\u628a\u4f60\u73b0\u5728\u767b\u9646\u7684\u7535\u8111\u578b\u53f7\u5199\u4e0a\u53bb\uff1b\u5728\u4e0b\u65b9Key\u8fd9\u91cc\u586b\u5165SSH \u516c\u94a5</p> <p>\u67e5\u770bSSH \u516c\u94a5\uff1a<code>cat ~/.ssh/id_rsa.pub</code></p> <p>\u5982\u679c\u6ca1\u6709\u9700\u8981\u5148\u4f7f\u7528\u547d\u4ee4<code>ssh-keygen -o</code>\u751f\u6210</p> <p>\uff08\u5177\u4f53\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003Git\u6587\u6863\uff09</p> <p>\u518d\u70b9\u51fb<code>Add SHH key</code>\uff0c\u4e4b\u540e\u672c\u5730\u548c\u8fdc\u7a0b\u4ed3\u5e93\u4e4b\u95f4\u8fde\u63a5\u5c31\u4e0d\u9700\u8981\u8f93\u5165\u8d26\u5bc6\u4e86\u3002</p>"},{"location":"LECTURE/Git/git/#_21","title":"\u5c06\u672c\u5730\u4ed3\u5e93\u4e0a\u4f20\u5230\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u4e2a\u9879\u76ee\u7684\u8fdc\u7a0b\u4ed3\u5e93\u53ea\u6709\u4e00\u4e2a\u5206\u652f<code>main</code>\u3002\u4f60\u5f00\u53d1\u65b0\u529f\u80fd\u7684\u65f6\u5019\u4f1a\u5728\u672c\u5730\u65b0\u5f00\u4e00\u4e2a\u5206\u652f<code>new_feature</code>\uff0c\u5f00\u53d1\u597d\u4e86\u4e4b\u540e\u5c06\u8fd9\u4e2a\u5206\u652fmerge\u5230\u672c\u5730\u7684<code>main</code>\u5206\u652f\u3002\u5982\u679c\u8981\u4e0a\u4f20\uff0c\u5219\u662f\u5c06\u672c\u5730\u7684<code>main</code>\u5206\u652f\u4e0a\u4f20\u5230\u8fdc\u7a0b\u4ed3\u5e93\u7684<code>main</code>\u5206\u652f\u3002</p> <p>\u5047\u8bbe\u6211\u4eec\u73b0\u5728\u672c\u5730\u5df2\u7ecf\u6709\u4e86\u4e00\u4e2aGit\u4ed3\u5e93\uff0c\u6211\u4eec\u73b0\u5728\u5e0c\u671b\u5c06\u5b83\u4e0a\u4f20\u5230<code>GitHub</code>\u4e0a\uff0c\u8ba9\u522b\u4eba\u4e5f\u770b\u5230\u6211\u8fd9\u4e2a\u4ed3\u5e93\u91cc\u9762\u7684\u6587\u4ef6\uff1a</p> <p>\u6253\u5f00<code>GitHub</code>\uff0c\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u4ed3\u5e93\uff08Repository\uff09\uff0c\u4ec0\u4e48\u90fd\u4e0d\u6dfb\u52a0\uff0c\u4e4b\u540e\u4f1a\u5f39\u51fa\u4e0b\u9762\u7684\u4e00\u6bb5\u8bdd\uff1a</p> <pre><code>## push an existing repository from the command line:\n## \u5728\u672c\u5730\u6dfb\u52a0\u4e00\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\uff0c\u5e76\u4e14\u7ed9\u8fd9\u4e2a\u8fdc\u7a0b\u4ed3\u5e93\u8d77\u540d\u4e3a`origin`\u3002\u4f7f\u7528`git remote`\u547d\u4ee4\u67e5\u770b\u672c\u5730\u4ed3\u5e93\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93\u3002\ngit remote add origin https://github.com/Yang-Xijie/git_lecture.git \n## \u5c06\u672c\u5730\u4ed3\u5e93\u7684\u5f53\u524d\u5206\u652f\u91cd\u547d\u540d\u4e3amain\uff08\u4e0d\u672c\u8d28\uff09\ngit branch -M main \n## \u5982\u679c\u76f4\u63a5\u6267\u884cgit push\uff0c\u4f1a\u51fa\u73b0\uff1afatal: The current branch main has no upstream branch. To push the current branch and set the remote as upstream, use `git push --set-upstream origin main`\uff0c\u8fd9\u8bf4\u660e\u6211\u4eec\u9700\u8981\u7ed9\u5f53\u524d\u7684\u5206\u652f\u4e0e\u4e00\u4e2a\u8fdc\u7a0b\u7684\u5206\u652f\u76f8\u5bf9\u5e94\u3002-u\u662f--set-upstream\u7684\u7b80\u5199\u3002\ngit push -u origin main\n</code></pre> <p>\u6211\u4eec\u6309\u7167\u63d0\u793a\u6765\u505a\uff0c\u4f1a\u53d1\u73b0\u4ee3\u7801\u5df2\u7ecf\u4e0a\u4f20\u4e86\u4e0a\u53bb\u3002</p> <p>\u5982\u679c\u6211\u4eec\u518d\u5728\u672c\u5730\u4fee\u6539\uff0c\u63d0\u4ea4\uff0c\uff08\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u4e86\u4e0a\u6e38\u7684\u5206\u652f\uff09\u4e4b\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528<code>git push</code>\u5c06\u4fee\u6539\u7684\u5185\u5bb9\u540c\u6b65\u5230<code>GitHub</code>\u4e86\uff01</p> <p>\u6ce8\uff1a</p> <p>We recommend every repository include a README, LICENSE, and .gitignore. \u2014\u2014 GitHub</p> <p>\u5176\u4e2d<code>README.md</code>\u544a\u8bc9\u522b\u4eba\u600e\u4e48\u7528\u4f60\u5199\u7684\u8fd9\u4e2a\u8f6f\u4ef6\uff0c\u600e\u4e48\u5408\u4f5c\u5f00\u53d1\uff0c\u4f7f\u7528\u9700\u8981\u6ce8\u610f\u4ec0\u4e48\uff1b<code>LICENSE</code>\u91cc\u9762\u5199\u5f00\u6e90\u7684\u534f\u8bae\uff0c\u6211\u4eec\u540e\u9762\u4f1a\u8bf4\u5230\uff1b<code>.gitignore</code>\u6211\u4eec\u524d\u9762\u8bb2\u8fc7\uff0c\u522b\u628a\u4e00\u4e9b\u4e71\u4e03\u516b\u7cdf\u7684\u6587\u4ef6\u6216\u8005\u654f\u611f\u4fe1\u606f</p>"},{"location":"LECTURE/Git/git/#_22","title":"\u548c\u4ed6\u4eba\u5408\u4f5c\u5f00\u53d1\u4e00\u4e2a\u9879\u76ee","text":"<p>\u5982\u679c\u662f\u4e00\u4e2a\u5927\u578b\u8f6f\u4ef6\uff0c\u51e0\u5341\u4e2a\u4ee3\u7801\u6587\u4ef6\uff0c\u4e00\u4e2a\u4eba\u5199\u80af\u5b9a\u4e0d\u73b0\u5b9e\uff0c\u8fd9\u65f6\u5c31\u9700\u8981\u5927\u5bb6\u6765\u5408\u4f5c\u5f00\u53d1\u3002</p>"},{"location":"LECTURE/Git/git/#_23","title":"\u6709\u4ed3\u5e93\u7684\u8bfb\u5199\u6743\u9650","text":"<p>\u4e00\u822c\u6765\u8bf4\uff0c\u5982\u679c\u662f\u4e00\u4e2a\u5c0f\u56e2\u961f\u7684\u9879\u76ee\uff0c\u6bcf\u4e2a\u4eba\u90fd\u6709\u4ed3\u5e93\u7684\u8bfb\u5199\u6743\u7684\u8bdd\uff0c\u6211\u4eec\u5408\u4f5c\u5f00\u53d1\u7684\u6b65\u9aa4\u57fa\u672c\u548c\u4e0a\u9762\u81ea\u5df1\u4e0a\u4f20\u4ee3\u7801\u5230\u4ed3\u5e93\u662f\u4e00\u6837\u7684\u3002</p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u5728\u6211\u4eec\u5f00\u53d1\u4e00\u4e2a\u529f\u80fd\u7684\u65f6\u5019\uff0c\u4ed6\u4eba\u53ef\u80fd\u5df2\u7ecf\u5199\u4e86\u4e00\u4e9b\u4ee3\u7801commit\u7136\u540epush\u5230\u4e86\u8fdc\u7a0b\u4ed3\u5e93\u3002\u8fd9\u65f6\u6211\u4eec\u4e00\u822c\u9700\u8981\u5c06\u4ed6\u4eba\u7684\u4ee3\u7801merge\u5230\u81ea\u5df1\u76ee\u524d\u7684\u5206\u652f\u4e0a\uff0c\u4fdd\u6301\u81ea\u5df1\u7684\u4ee3\u7801\u6700\u65b0\uff0c\u51cf\u5c11\u4e4b\u540e\u81ea\u5df1\u5f00\u53d1\u5b8c\u6bd5push\u5230\u8fdc\u7aef\u4ed3\u5e93\u51fa\u73b0\u51b2\u7a81\u7684\u60c5\u51b5\uff0c\u4e5f\u51cf\u5c11\u91cd\u590d\u5f00\u53d1\u7684\u60c5\u51b5\u3002</p> <p>\u5177\u4f53\u505a\u6cd5 \u9996\u5148\u786e\u4fdd\u4f60\u7684\u5206\u652f\u5df2\u7ecf\u5173\u8054\u4e86\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5206\u652f\uff0c\u4e4b\u540e\u4f7f\u7528</p> <pre><code>git fetch &lt;repo-nickname&gt; # \u5c06\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5185\u5bb9\u62c9\u53d6\u5230\u672c\u5730\ngit merge # \u5c06\u672c\u5730\u4e2d\u8fdc\u7a0b\u4ed3\u5e93\u7684\u5185\u5bb9merge\u5230\u5f53\u524d\u5206\u652f\n</code></pre>"},{"location":"LECTURE/Git/git/#_24","title":"\u4e3a\u5f00\u6e90\u9879\u76ee\u6dfb\u7816\u52a0\u74e6/\u6ca1\u6709\u4ed3\u5e93\u7684\u8bfb\u5199\u6743\u9650","text":"<p>\u6709\u7684\u9879\u76ee\uff0c\u4f1a\u6709\u4e00\u4e9b\u6838\u5fc3\u7684\u4eba\u6709\u7740\u4ed3\u5e93\u7684\u63a7\u5236\u6743\u9650\uff1b\u5176\u4ed6\u4eba\u5219\u9700\u8981\u901a\u8fc7\u8fd9\u4e9b\u6838\u5fc3\u7684\u4eba\u7684\u5ba1\u6838\uff0c\u624d\u80fd\u5bf9\u9879\u76ee\u4f5c\u51fa\u4fee\u6539\u3002\u4e00\u822c\u6211\u4eec\u5c06\u8fd9\u4e9b\u6709\u7740\u4ed3\u5e93\u63a7\u5236\u6743\u9650\u7684\u5f00\u53d1\u8005\u53eb\u505a\u9879\u76ee\u7ef4\u62a4\u8005\uff08Maintainer\uff09\uff0c\u5c06\u53c2\u4e0e\u9879\u76ee\u5f00\u53d1\u4f46\u662f\u6ca1\u6709\u76f4\u63a5\u64cd\u63a7\u6743\u9650\u7684\u5f00\u53d1\u8005\u53eb\u505a\u9879\u76ee\u8d21\u732e\u8005\uff08Contributor\uff09\u3002\u4e0a\u9762\u6240\u8bf4\u7684\u76f4\u63a5push\u53ef\u4ee5\u4f5c\u4e3aMaintainer\u63d0\u4ea4\u4ee3\u7801\u7684\u4e00\u79cd\u65b9\u5f0f\u3002\u4f46\u5982\u679c\u662fContributor\u8be5\u5982\u4f55\u63d0\u4ea4\u4ee3\u7801\u5462\uff1f</p> <p>Git\u4f7f\u7528\u5b9e\u4f8b\uff1a<code>&lt;team-repo-nickname&gt;</code>\u5f00\u53d1 \u8bf4\u660e\uff1a\u56e2\u961f\u4ed3\u5e93\u540d\u4e3a<code>&lt;team-repo-nickname&gt;</code>\uff0c\u4e2a\u4eba\u4ed3\u5e93\u540d\u4e3a<code>&lt;my-repo-nickname&gt;</code></p>"},{"location":"LECTURE/Git/git/#1","title":"1 \u5c06\u8fdc\u7a0b\u4ed3\u5e93\u4e0b\u8f7d\u3001\u94fe\u63a5\u5230\u672c\u5730","text":"<p>\u3007 1.1 \u514b\u9686\u539f\u4ed3\u5e93\u5230\u672c\u5730 <pre><code>git clone &lt;team-repo-url&gt; --origin &lt;team-repo-nickname&gt; &lt;project-folder&gt;\n</code></pre></p> <p><code>--origin &lt;\u8fdc\u7a0b\u4ed3\u5e93\u540d&gt;</code>\u7528\u6765\u7ed9\u9ed8\u8ba4\u7684\u540d\u5b57origin\u91cd\u547d\u540d</p> <p><code>--origin</code>:<code>-o</code></p> <p><code>&lt;project-folder&gt;</code>\u6307\u672c\u5730\u65b0\u51fa\u73b0\u7684\u6587\u4ef6\u5939\u7684\u540d\u79f0</p> <p>\u3007 1.2 fork\u4ed3\u5e93\u4f7f\u5f97\u81ea\u5df1\u6709push\u7684\u6743\u9650 \u5728<code>GitHub</code>\u4e0a\u64cd\u4f5c\uff0c\u5f97\u5230\u81ea\u5df1fork\u540e\u7684\u4ed3\u5e93\u94fe\u63a5<code>&lt;my-repo-url&gt;</code></p> <p>\u3007 1.3 \u8fdb\u5165clone\u540e\u7684\u6587\u4ef6\u5939 <pre><code>cd &lt;project-folder&gt;\n</code></pre></p> <p>\u3007 1.4 \u6dfb\u52a0\u81ea\u5df1\u7684\u8fdc\u7a0b\u4ed3\u5e93 <pre><code>git remote add &lt;my-repo-nickname&gt; &lt;my-repo-url&gt;\n</code></pre></p> <p><code>add</code>\u540e\u7d27\u8ddf\u7684\u662f\u8fdc\u7a0b\u4ed3\u5e93\u7684\u540d\u5b57\uff0c\u53ef\u4ee5\u81ea\u5b9a\u4e49</p> <p>\u3007 1.5 \u67e5\u770b\u5173\u8054\u7684\u8fdc\u7a0b\u4ed3\u5e93 <pre><code>git remote --verbose\ngit remote --verbose show &lt;repo-nickname&gt;\n</code></pre></p> <p><code>--verbose</code>:<code>-v</code></p>"},{"location":"LECTURE/Git/git/#2","title":"2 \u5f00\u59cb\u5f00\u53d1\u81ea\u5df1\u7684\u529f\u80fd","text":"<p>\u6ce8\uff1a\u4e00\u822c\u56e2\u961f\u7684\u8fdc\u7a0b\u4ed3\u5e93\u53ea\u6709\u4e00\u4e2amain\u5206\u652f</p> <p>\u3007 2.1 \u5148\u62c9\u53d6\u6700\u65b0\u5185\u5bb9</p> <pre><code>git fetch &lt;team-repo-nickname&gt; # \u6216 git fetch --all\n</code></pre> <p>\u3007 2.2 \u5c06\u6700\u65b0\u7684\u5185\u5bb9merge\u5230\u81ea\u5df1\u7684main\u5206\u652f</p> <pre><code>git switch main\ngit merge &lt;team-repo-nickname&gt;/main\n</code></pre> <p>\u8fd9\u91cc\u5e94\u8be5\u4e0d\u4f1a\u9047\u5230\u51b2\u7a81\uff0c\u56e0\u4e3a\u672c\u5730\u4e0d\u4f1a\u5728main\u5206\u652f\u8fdb\u884c\u5f00\u53d1\uff0c\u9664\u975e\u4f60\u4fee\u6539\u6587\u4ef6\u7684\u65f6\u5019\u5fd8\u8bb0\u5207\u6362\u5230\u65b0\u7684\u5206\u652f</p> <p>\u3007 2.3 switch\u5230\u65b0\u7684\u5206\u652f</p> <pre><code>git branch --create newFeature\n</code></pre> <p>\u3007 2.4 \u5f00\u59cb\u81ea\u5df1\u4fee\u6539\u4ee3\u7801</p> <p>\u3007 2.4.1 \u62c9\u53d6\u6700\u65b0\u7684\u4ee3\u7801 \u5982\u679c\u4f60\u5728\u5207\u6362\u5206\u652f\u4e4b\u540e\u4e00\u76f4\u628a\u6dfb\u52a0\u65b0\u529f\u80fd\u8fd9\u4ef6\u4e8b\u60c5\u6254\u5728\u4e00\u8fb9\u513f\uff0c\u90a3 \u4e48\u4f60\u5728\u5f00\u59cb\u4fee\u6539\u4ee3\u7801\u4e4b\u524d\u6700\u597d\u518d\u62c9\u53d6\u4e00\u4e0b\u6700\u65b0\u7684\u4ee3\u7801\u8fdb\u884c\u5408\u5e76\uff1a</p> <pre><code>git fetch &lt;team-repo-nickname&gt;\ngit merge &lt;team-repo-nickname&gt;/main\n</code></pre> <p>\u3007 2.4.2 \u4fee\u6539 \u6bd4\u5982\u589e\u52a0\u6587\u4ef6\u3001\u5220\u9664\u6587\u4ef6\uff0c\u589e\u52a0\u4ee3\u7801\u3001\u5220\u9664\u4ee3\u7801\u7b49</p> <p>\u3007 2.4.3 \u63d0\u4ea4</p> <pre><code>(newFeature) git add .\n(newFeature) git commit -m\"add newFeature\"\n</code></pre> <p>\u3007 2.4.4 \u62c9\u53d6\u6700\u65b0\u4ee3\u7801\u67e5\u770b\u662f\u5426\u6709\u51b2\u7a81</p> <p>\u5728\u4e0a\u4e00\u6b21commit\u4e4b\u540e\uff0c\u518d\u6b21\u4fee\u6539\u4ee3\u7801\u4e4b\u524d\uff0c\u4f60\u9700\u8981\u62c9\u53d6\u6700\u65b0\u7684\u4ee3\u7801\uff1b\u8fd9\u65f6\u53ef\u80fd\u4f1a\u9047\u5230\u51b2\u7a81\uff0c\u56e0\u4e3a\u4f60\u5728\u672c\u5730\u4fee\u6539\u7684\u65f6\u5019\u522b\u4eba\u53ef\u80fd\u5df2\u7ecf\u5728\u8fdc\u7aef\u4ed3\u5e93\u63d0\u4ea4\u4e86PR\u5e76\u4e14\u88ab\u7ba1\u7406\u8005merge\u5230\u65b0\u7684\u4ee3\u7801\u4e2d\u3002\u9047\u5230\u51b2\u7a81\u9700\u8981\u81ea\u5df1\u89e3\u51b3</p> <pre><code>git fetch &lt;team-repo-nickname&gt; # \u6216 git fetch --all\n(newFeature) git merge &lt;team-repo-nickname&gt;/main\n</code></pre> <p>\u5728\u89e3\u51b3\u51b2\u7a81\u540e\u518d\u6b21commit\uff1b\u5982\u679c\u65e0\u51b2\u7a81\u5219\u6ca1\u6709\u5fc5\u8981commit</p> <pre><code>(newFeature) git add .\n(newFeature) git commit -m\"solve conflicts\"\n</code></pre> <p>\u3007 \u518d\u6b21\u4fee\u6539</p> <p>\u91cd\u590d\u4e0a\u8ff0<code>\u4fee\u6539</code>\uff0c<code>\u63d0\u4ea4</code>\uff0c<code>\u62c9\u53d6\u6700\u65b0\u4ee3\u7801</code>\u7684\u8fc7\u7a0b</p>"},{"location":"LECTURE/Git/git/#3-pushpr","title":"3 push\u5230\u8fdc\u7aef\u548c\u63d0PR","text":"<p>\u3007 3.1 push\u5230\u81ea\u5df1\u7684\u8fdc\u7aef\u4ed3\u5e93</p> <pre><code>git push &lt;my-repo-nickname&gt; newFeature:newFeature\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; &lt;\u672c\u5730\u5206\u652f&gt;:&lt;\u8fdc\u7a0b\u5206\u652f&gt;</code></p> <p>\u542b\u4e49\uff1a\u5c06\u67d0\u4e00\u672c\u5730\u5206\u652f\u63a8\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684\u8fdc\u7a0b\u5206\u652f\uff1b\u5982\u679c\u8fdc\u7a0b\u4ed3\u5e93\u6ca1\u6709\u8fd9\u4e00\u5206\u652f\uff0c\u5219\u521b\u5efa</p> <p>\u4e5f\u53ef\u4ee5\u5199\u4f5c\uff1a</p> <pre><code>(newFeature) git push &lt;my-repo-nickname&gt; newFeature\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; &lt;\u8fdc\u7a0b\u5206\u652f&gt;</code></p> <p>\u542b\u4e49\uff1a\u5c06\u672c\u5730\u7684\u5f53\u524d\u5206\u652f\u63a8\u5230\u8fdc\u7a0b\u4e3b\u673a\u7684\u8fdc\u7a0b\u5206\u652f\uff1b\u5982\u679c\u8fdc\u7a0b\u4ed3\u5e93\u6ca1\u6709\u8fd9\u4e00\u5206\u652f\uff0c\u5219\u521b\u5efa</p> <p>\u3007 3.2 \u63d0PR\uff08Pull Request\uff09</p> <p>\u767b\u9646<code>GitHub</code>\uff0c\u5728\u4f60\u7684\u4ed3\u5e93\u53ef\u4ee5\u62ff\u7740\u521a\u521a\u63a8\u5230\u8fdc\u7a0b\u7684<code>newFeature</code>\u5206\u652f\u5411\u56e2\u961f\u4ed3\u5e93\u63d0\u4e00\u4e2aPR</p> <p>\u3007 3.3 \u7b49\u5f85\u5f00\u53d1\u8005merge</p> <p>\u5982\u679cPR\u88ab\u62d2\u7edd\uff0c\u4f60\u53ef\u4ee5\u7ee7\u7eed\u66f4\u6539\u4ee3\u7801\u3001commit\u3001push\u3001\u63d0PR\u76f4\u5230\u5f00\u53d1\u8005\u89c9\u5f97\u4f60\u7684\u4ee3\u7801\u53ef\u4ee5merge\uff1b\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5f03\u5751lol</p>"},{"location":"LECTURE/Git/git/#4-mergenewfeature","title":"4 \u5f00\u53d1\u8005merge\u4e4b\u540e\u5220\u9664newFeature\u5206\u652f","text":"<p>\u3007 4.1 \u5220\u9664\u8fdc\u7a0b\u5206\u652f</p> <p>\u3007 \u65b9\u6cd5\u4e00</p> <p>\u5728\u56e2\u961f\u4ed3\u5e93\u7684PR\u754c\u9762\uff0c\u5982\u679c\u6210\u529fmerge\uff0c\u90a3\u4e48\u4f60\u53ef\u4ee5\u770b\u5230\u4e00\u4e2a<code>delete branch</code>\u7684\u6309\u94ae\uff0c\u53ef\u4ee5\u76f4\u63a5\u70b9\u51fb\u6309\u94ae\u5220\u9664\u81ea\u5df1fork\u7684\u4ed3\u5e93\u4e2d\u7684newFeature\u5206\u652f</p> <p>\u3007 \u65b9\u6cd5\u4e8c</p> <pre><code>git push &lt;my-repo-nickname&gt; --delete newFeature\n</code></pre> <p>\u3007 \u65b9\u6cd5\u4e09</p> <pre><code>git push &lt;my-repo-nickname&gt; :newFeature\n</code></pre> <p>\u8fd9\u91cc\u7684\u8bed\u6cd5\u662f\uff1a<code>git push &lt;\u8fdc\u7a0b\u4e3b\u673a&gt; :&lt;\u8fdc\u7a0b\u5206\u652f&gt;</code>\uff08\u6ce8\u610f\u548cpush\u5230\u8fdc\u7aef\u4ed3\u5e93\u505a\u533a\u5206\uff09</p> <p>\u3007 4.2 \u5220\u9664\u672c\u5730\u5206\u652f</p> <pre><code>(main) git branch -d newFeature\n</code></pre> <p>\u786e\u8ba4\u5220\u9664\u53ef\u4ee5\u4f7f\u7528\uff1a</p> <pre><code>(main) git branch -D newFeature\n</code></pre> <p>\u3007 4.3 \u53ef\u80fd\u9047\u5230\u7684\u95ee\u9898</p> <p>\u4f7f\u7528<code>git fetch --all</code>\u5c06\u6240\u6709\u8fdc\u7aef\u4ed3\u5e93\uff08<code>&lt;team-repo-nickname&gt;</code>\u548c<code>&lt;my-repo-nickname&gt;</code>\uff09\u7684\u6700\u65b0\u201c\u72b6\u51b5\u201d\u62c9\u53d6\u5230\u672c\u5730</p> <p>\u8fd9\u65f6\u4f7f\u7528\u547d\u4ee4<code>git branch -a</code>\u67e5\u770b\u6240\u6709\u5206\u652f\uff0c\u53d1\u73b0\u8fdc\u7aef<code>&lt;my-repo-nickname&gt;</code>\u7684newFeature\u5206\u652f\u5e76\u6ca1\u6709\u5220\u9664</p> <p>\u8fd9\u8bf4\u660e\u4e0d\u80fd\u901a\u8fc7git fetch\u547d\u4ee4\u83b7\u53d6\u5230\u5206\u652f\u5220\u9664\u7684\u66f4\u65b0</p> <p>\u4f7f\u7528<code>git remote -v show yxj</code>\u67e5\u770b\u5206\u652f\u72b6\u51b5\uff0c\u53d1\u73b0newFeature\u5206\u652f\u662f\u9648\u65e7\u7684\uff08stale\uff09</p> <p>\u4f7f\u7528<code>git remote prune yxj</code>\u5220\u6389\u672c\u5730\u9648\u65e7\u7684\u8fdc\u7aef\u5206\u652f\uff08\u5c31\u662f\u8fdc\u7aef\u5df2\u7ecf\u5220\u9664\u6389\u4e86\u4f46\u662f\u672c\u5730\u8fd8\u6ca1\u5220\u9664\u6389\u7684\u5206\u652f\uff09</p> <p>\u6216\u8005\u62c9\u53d6\u4fe1\u606f\u7684\u65f6\u5019\u4f7f\u7528\uff1a</p> <pre><code>git fetch -p --all\n</code></pre> <p>\u8be6\u60c5\u53ef\u4ee5\u67e5\u770b\uff1aCSDN | Git\u8fdc\u7a0b\u5206\u652f\u7684\u5220\u9664\u4e0e\u540c\u6b65</p>"},{"location":"LECTURE/Git/git/#private","title":"\u4f7f\u7528private\u4ed3\u5e93\u8fdb\u884c\u5408\u4f5c\u5f00\u53d1","text":"<p>\u4e0e\u53c2\u4e0e\u5f00\u6e90\u9879\u76ee\u662f\u7c7b\u4f3c\u7684\u3002</p> <p>\u5982\u679c\u76f4\u63a5\u5728<code>private\u9879\u76ee</code>\u4e2d\u6dfb\u52a0\u4ed6\u4eba\u7684access\u6743\u9650\uff08\u6dfb\u52a0collaborator\uff09\uff0c\u76f8\u5f53\u4e8e\u6dfb\u52a0maintainer\uff0cmaintainer\u53ef\u4ee5\u76f4\u63a5push\u4ed3\u5e93\uff1b\u4e0d\u8fc7\u4e5f\u53ef\u4ee5fork\u4e4b\u540e\u63d0PR\u3002\u6ce8\u610f\uff0c\u6ca1\u6709\u4ed3\u5e93\u7684access\u6743\u9650\u5e94\u8be5\u662f\u4e0d\u80fdfork\u7684\uff01</p>"},{"location":"LECTURE/Git/git/#git-_2","title":"Git\u8fdb\u9636 - \u6807\u7b7e\u7ba1\u7406","text":""},{"location":"LECTURE/Git/git/#_25","title":"\u4e3a\u4ec0\u4e48\u8981\u6dfb\u52a0\u6807\u7b7e","text":"<p>\u53d1\u5e03\u4e00\u4e2a\u7248\u672c\u65f6\uff0c\u6211\u4eec\u901a\u5e38\u5148\u5728\u7248\u672c\u5e93\u4e2d\u6253\u4e00\u4e2a\u6807\u7b7e\uff08tag\uff09\uff0c\u8fd9\u6837\uff0c\u5c31\u552f\u4e00\u786e\u5b9a\u4e86\u6253\u6807\u7b7e\u65f6\u523b\u7684\u7248\u672c\u3002\u5c06\u6765\u65e0\u8bba\u4ec0\u4e48\u65f6\u5019\uff0c\u53d6\u67d0\u4e2a\u6807\u7b7e\u7684\u7248\u672c\uff0c\u5c31\u662f\u628a\u90a3\u4e2a\u6253\u6807\u7b7e\u7684\u65f6\u523b\u7684\u5386\u53f2\u7248\u672c\u53d6\u51fa\u6765\u3002\u6240\u4ee5\uff0c\u6807\u7b7e\u4e5f\u662f\u7248\u672c\u5e93\u7684\u4e00\u4e2a\u5feb\u7167\u3002</p> <p>Git\u6709commit\uff0c\u4e3a\u4ec0\u4e48\u8fd8\u8981\u5f15\u5165tag\uff1f</p> <p>\u201c\u8bf7\u628a\u4e0a\u5468\u4e00\u7684\u90a3\u4e2a\u7248\u672c\u6253\u5305\u53d1\u5e03\uff0ccommit\u53f7\u662f6a5819e...\u201d</p> <p>\u5982\u679c\u6362\u4e00\u4e2a\u529e\u6cd5\uff1a</p> <p>\u201c\u8bf7\u628a\u4e0a\u5468\u4e00\u7684\u90a3\u4e2a\u7248\u672c\u6253\u5305\u53d1\u5e03\uff0c\u7248\u672c\u53f7\u662fv1.2\u201d</p> <p>\u201c\u597d\u7684\uff0c\u6309\u7167tag v1.2\u67e5\u627ecommit\u5c31\u884c\uff01\u201d</p> <p>\u6240\u4ee5\uff0ctag\u5c31\u662f\u4e00\u4e2a\u8ba9\u4eba\u5bb9\u6613\u8bb0\u4f4f\u7684\u6709\u610f\u4e49\u7684\u540d\u5b57\uff0c\u5b83\u8ddf\u67d0\u4e2acommit\u7ed1\u5728\u4e00\u8d77\u3002</p> <p>\u2014\u2014\u5ed6\u96ea\u5cf0Git\u6559\u7a0b-\u6807\u7b7e\u7ba1\u7406</p>"},{"location":"LECTURE/Git/git/#commit","title":"\u5728\u672c\u5730\u7684commit\u4e0a\u6dfb\u52a0\u6807\u7b7e","text":"<pre><code> git tag -a \"1.0\" -m\"first versioin\"\n</code></pre>"},{"location":"LECTURE/Git/git/#_26","title":"\u5c06\u6807\u7b7e\u4e0a\u4f20\u81f3\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0","text":"<pre><code>git push --tags\n</code></pre>"},{"location":"LECTURE/Git/git/#git-_3","title":"Git\u8fdb\u9636 - \u547d\u4ee4\u7b80\u5199","text":""},{"location":"LECTURE/Git/git/#gitconfig","title":"gitconfig","text":"<p><code>cat ~/.gitconfig</code></p> <p>\u7528vim\u7f16\u8f91\u5668\u6253\u5f00<code>vim ~/.gitconfig</code>\u6216<code>open ~/.gitignore</code>\u4f7f\u7528\u9ed8\u8ba4\u5e94\u7528\u6253\u5f00</p> <p>\u6dfb\u52a0</p> <pre><code>[alias]\n    lg = log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit\n</code></pre> <p>\u4e4b\u540e\u4f7f\u7528\u547d\u4ee4<code>git lg</code>\u5c31\u53ef\u4ee5\u4ee3\u66ff\u4e0a\u9762\u8fd9\u4e00\u957f\u4e32\u7684\u547d\u4ee4\u5566\uff01\u4f60\u4e5f\u53ef\u4ee5\u8bbe\u7f6e<code>c=commit</code>\uff0c\u8fd9\u6837\u4f60\u4ee5\u540e\u7528<code>git c</code></p>"},{"location":"LECTURE/Git/git/#zshrc","title":"zshrc","text":"<p>\u5982\u679c\u4f60\u8fd8\u662f\u89c9\u5f97\u4e0a\u9762\u7684\u547d\u4ee4\u4e0d\u591f\u7b80\u5316\uff0c\u4f60\u8fd8\u53ef\u4ee5\u8fd9\u6837\uff0c\u76f4\u63a5\u8ba9Shell\u89e3\u6790\u4f60\u7b80\u5316\u7684\u547d\u4ee4\uff1a</p> <p><code>cat ~/.zshrc</code>\uff08macOS\u7248\u672c\u9700\u572810.15 Catalina\u53ca\u4ee5\u4e0a\uff1b\u4ec0\u4e48\uff0c\u8fd8\u6ca1\u5347\u7ea7\uff1f\u5feb\u53bb\u5347\u554a \u7b11\uff09\u8fd9\u662fzsh\u7684\u914d\u7f6e\u6587\u4ef6\u3002</p> <p><code>vim ~/.zshrc</code>\u6216<code>open ~/.zshrc</code></p> <p>\u6dfb\u52a0</p> <pre><code>## Git\nalias ga=\"git add \"\nalias gc=\"git commit -m \"\nalias gs=\"git status\"\nalias glg=\"git log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit\"\n## Git END\n</code></pre> <p>\u7136\u540e\u6211\u4eec\u4f7f\u7528\u547d\u4ee4<code>source ~/.zshrc</code>\u8ba9\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u751f\u6548\u3002</p> <p>\u4e4b\u540e\u6211\u4eec\u5c31\u53ef\u4ee5\u7528<code>ga .</code>\u6765\u6dfb\u52a0\u6240\u6709\u6587\u4ef6\uff0c\u7528<code>gc \"update xxx\"</code>\u6765\u63d0\u4ea4\uff0c\u7528<code>glg</code>\u67e5\u770b\u7b80\u8981\u7684\u63d0\u4ea4\u5386\u53f2\u2026\u2026\u4f60\u4e5f\u53ef\u4ee5\u6dfb\u52a0\u66f4\u591a\u7684\u7b80\u5199</p>"},{"location":"LECTURE/Git/git/#github","title":"\u5982\u4f55\u4f7f\u7528GitHub\u4e0a\u7684\u4ee3\u7801","text":""},{"location":"LECTURE/Git/git/#_27","title":"\u8bf4\u8bf4\u5f00\u6e90","text":""},{"location":"LECTURE/Git/git/#_28","title":"\u4ec0\u4e48\u662f\u5f00\u6e90","text":"<p>\u5f00\u6e90\u5c31\u662f\u628a\u81ea\u5df1\u5199\u7684\u8f6f\u4ef6\u7684\u6e90\u7801\u516c\u5f00\uff0c\u6bd4\u5982\u4e0a\u4f20\u5230GitHub\u5e76\u4e14\u8bbe\u7f6e\u4ed3\u5e93\u4e3a<code>public</code> (instead of private)</p>"},{"location":"LECTURE/Git/git/#_29","title":"\u5f00\u6e90\u8005","text":"<ul> <li>\u4ece\u5f00\u6e90\u8005\u7684\u89d2\u5ea6\uff0c\u4f60\u7684\u4ee3\u7801\u88ab\u522b\u7684\u4f18\u79c0\u5f00\u53d1\u8005\u770b\u5230\uff0c\u4ed6\u4eec\u80fd\u5e2e\u4f60\u63d0\u51fa\u5f88\u591a\u4ee3\u7801\u4e0a\u7684\u5efa\u8bae\uff0c\u4f1a\u5e2e\u4f60\u4e00\u8d77\u5f00\u53d1\u8f6f\u4ef6\uff0c\u52a0\u901f\u8f6f\u4ef6\u5f00\u53d1\u901f\u5ea6\uff1b</li> <li>\u4ece\u5176\u4ed6\u5f00\u53d1\u8005\u7684\u89d2\u5ea6\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u5f88\u591a\u4f18\u79c0\u7684\u5f00\u6e90\u4ee3\u7801\u4ed3\u5e93\uff0c\u4ece\u800c\u6709\u4e86\u5b66\u4e60\u7684\u5185\u5bb9\uff1b</li> <li>\u6574\u4f53\u6765\u8bf4\uff0c\u5f00\u6e90\u52a0\u5feb\u4e86\u67d0\u79cd\u793e\u533a\u7684\u53d1\u5c55\uff0c\u52a0\u5feb\u4e86\u8f6f\u4ef6\u7684\u5f00\u53d1\u8fdb\u7a0b\uff0c\u52a0\u5f3a\u4e86\u7a0b\u5e8f\u5458\u4e4b\u95f4\u7684\u4ea4\u6d41\u2026</li> </ul> <p>\u5f53\u7136\u4e5f\u4f1a\u6709\u4e00\u4e9b\u5f0a\u7aef\uff0c\u6bd4\u5982\u5f00\u6e90\u8005\u53ef\u80fd\u5f88\u96be\u4ece\u5f00\u6e90\u4e2d\u83b7\u5f97\u8d44\u91d1\u7684\u652f\u6301\u2026\u4e0d\u8fc7\u4e5f\u8bb8\u80fd\u83b7\u5f97\u597d\u7684\u540d\u58f0\uff0c\u55ef\uff0c\u53ea\u662f\u4e5f\u8bb8</p>"},{"location":"LECTURE/Git/git/#_30","title":"\u5f00\u6e90\u534f\u8bae","text":"<p>\u6709\u5f88\u591a\u79cd\u5f00\u6e90\u534f\u8bae\u3002\u5728GitHub\u4e0a\u4f7f\u7528\u6700\u591a\u7684\u662fMIT\u534f\u8bae\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5f00\u6e90\u534f\u8bae\u544a\u8bc9\u770b\u5f00\u6e90\u4ee3\u7801\u7684\u4eba\u8be5\u5982\u4f55\u4f7f\u7528\u8fd9\u4efd\u5f00\u6e90\u7684\u4ee3\u7801\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5f00\u6e90\u8005\u5e94\u8be5\u5728\u4ee3\u7801\u4e2d\u63d0\u4f9b\u5f00\u6e90\u534f\u8bae\u3002\u4f60\u53ef\u4ee5\u7528\u73b0\u6210\u7684\u534f\u8bae\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u5199\u3002\u60f3\u4e86\u89e3\u66f4\u591a\u53ef\u4ee5\u67e5\u770b\uff1a\u4eceMIT\u534f\u8bae\u8c08\u5951\u7ea6\u7cbe\u795e\uff08\u5982\u679c\u4e4b\u540e\u6253\u7b97\u5f00\u6e90\u81ea\u5df1\u7684\u4ee3\u7801\u7684\u8bdd\u4e00\u5b9a\u8981\u4ed4\u7ec6\u67e5\u770b\u54e6\uff09</p>"},{"location":"LECTURE/Git/git/#github_1","title":"GitHub\u7b80\u4ecb","text":"<p>GitHub\u662f\u4e00\u4e2a\u4ee3\u7801\u6258\u7ba1\u5e73\u53f0\u548c\u4e16\u754c\u6700\u5927\u7684\u7a0b\u5e8f\u5458\u4ea4\u6d41\u793e\u533a\u3002\u4f60\u53ef\u4ee5\u5c06\u81ea\u5df1\u56e2\u961f\u7684\u9879\u76ee\u653e\u4e0a\u53bb\uff0c\u7136\u540e\u5927\u5bb6\u4e00\u8d77push\u4e00\u8d77\u63d0pr\uff08Pull Request\uff09\u5408\u4f5c\u5f00\u53d1\uff0c\u8fd9\u65f6\u4f60\u4f7f\u7528\u7684\u662fGitHub\u7684\u4ee3\u7801\u6258\u7ba1\u529f\u80fd\uff0c\u5982\u679c\u4f60\u4e0d\u5e0c\u671b\u5f00\u6e90\u9879\u76ee\uff0c\u4f60\u5e94\u8be5\u628arepo\uff08Repository\uff09\u7684\u5c5e\u6027\u8bbe\u7f6e\u4e3a<code>private</code>\uff1b\u4f60\u4e5f\u53ef\u4ee5\u81ea\u5df1\u4e00\u4e2a\u4eba\u5f00\u53d1\uff0c\u7136\u540e\u628a\u4ee3\u7801\u653e\u4e0a\u53bb\u8ba9\u66f4\u591a\u7684\u4eba\u770b\u5230\uff08\u8bbe\u7f6erepo\u5c5e\u6027\u4e3a<code>public</code>\uff09\uff0c\u5982\u679c\u6709\u4eba\u8ddf\u4f60\u4e92\u52a8\uff08\u6bd4\u5982\u5728Issues\u6a21\u5757\u53cd\u9988\u4e86\u51e0\u4e2abug\uff0c\u5728<code>Discussion</code>\u6a21\u5757\u548c\u4f60\u7b80\u5355\u4ea4\u6d41\uff09\uff0c\u90a3\u4e48\u4f60\u5c31\u4f7f\u7528\u4e86GitHub\u7684\u4ee3\u7801\u6258\u7ba1\u529f\u80fd\u548c\u4ea4\u6d41\u793e\u533a\u7684\u529f\u80fd\u3002</p> <p>\u6709\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4e5f\u4f1a\u53bbGitHub\u641c\u7d22\u4e00\u4e9b\u5f00\u6e90\u9879\u76ee\u6765\u501f\u9274\u5b66\u4e60\u3002</p>"},{"location":"LECTURE/Git/git/#github_2","title":"\u5982\u4f55\u67e5\u770bGitHub\u4ee3\u7801\u4ed3\u5e93/\u4f7f\u7528\u522b\u4eba\u5199\u7684\u4ee3\u7801","text":"<p>\u4f60\u53ef\u4ee5\u5728GitHub\u4e0a\u641c\u7d22\u4f60\u611f\u5174\u8da3\u7684\u9879\u76ee</p> <p>\u70b9\u5f00\u67d0\u4e2arepo\u67e5\u770bREADME.md\uff0c\u4e00\u822c\u6765\u8bf4README.md\u90fd\u4f1a\u5c06\u9879\u76ee\u63cf\u8ff0\u7684\u5f88\u6e05\u695a</p> <p>\u60f3\u501f\u9274\u4ee3\u7801\uff1a</p> <ul> <li>\u5982\u679c\u53ea\u6709\u51e0\u4e2a\u6587\u4ef6\u7684\u8bdd\u53ef\u4ee5\u76f4\u63a5\u590d\u5236\u7c98\u8d34</li> <li>\u76f4\u63a5<code>git clone</code>\u67e5\u770b\u6240\u6709\u7684\u4ee3\u7801</li> <li>\u4e0b\u8f7d\u4ee3\u7801\u6587\u4ef6\uff08\u53ef\u80fd\u4e0d\u5e26<code>.git</code>\u6587\u4ef6\u5939\uff09</li> </ul> <p>\u60f3\u4f7f\u7528\u7a0b\u5e8f\uff1a</p> <ul> <li>\u4e0b\u8f7d\u53ef\u6267\u884c\u6587\u4ef6/\u5b89\u88c5\u5305</li> <li><code>git clone</code>\u540e\u81ea\u5df1\u8fdb\u884c\u7f16\u8bd1/build</li> </ul> <p>\u60f3\u4e3a\u8fd9\u4e2a\u5f00\u6e90\u9879\u76ee\u8d21\u732e\u81ea\u5df1\u7684\u529b\u91cf\uff1a</p> <ul> <li>\u4f7f\u7528\u7a0b\u5e8f\uff0c\u5728Issues\u6a21\u5757\u63d0\u51fa\u81ea\u5df1\u53d1\u73b0\u7684bug</li> <li><code>git clone</code>\u540e\u81ea\u5df1\u5bf9\u7a0b\u5e8f\u4f5c\u51fa\u4e00\u4e9b\u4fee\u6539\uff0c\u5bf9\u9879\u76ee\u63d0\u51fapr</li> </ul> <p>\u8bb0\u5f97\u67e5\u770bLicence\uff0c\u5728\u8bb8\u53ef\u8bc1\u5141\u8bb8\u7684\u8303\u56f4\u5185\u4f7f\u7528\u6e90\u4ee3\u7801\u3002</p>"},{"location":"LECTURE/Git/git/#references","title":"References","text":"<ul> <li>Git Official Site</li> <li>\u5ed6\u96ea\u5cf0\uff5cGit\u6559\u7a0b<ul> <li>\u2721 RECOMMENDED \u2721</li> <li>\u975e\u5e38\u901a\u4fd7\u6613\u61c2\u7684\u6587\u5b57\u7248Git\u6559\u7a0b\uff0c\u63a8\u8350\u591a\u6b21\u7ffb\u9605</li> </ul> </li> <li>Bilibili\uff5c\u7535\u5b50\u7cfb\u79d1\u534f2020\u5e74\u6691\u57f9 p1 Git</li> <li>\u53ef\u89c6\u5316\u5b66\u4e60Git<ul> <li>\u5bf9Git\u4e2d\u7684\u9ad8\u7aef\u64cd\u4f5c\u4e0d\u7406\u89e3\u53ef\u4ee5\u53bb\u8bd5\u8bd5\u53ef\u89c6\u52a8\u753b</li> <li>\u521d\u5b66\u9636\u6bb5\u4e5f\u53ef\u4ee5\u901a\u8fc7\u95ef\u5173\u6765\u52a0\u6df1\u5bf9git\u7684\u7406\u89e3</li> </ul> </li> <li>Git docs\uff5c\u5feb\u901f\u67e5\u9605git\u64cd\u4f5c</li> <li>GitHub\uff5cgit-flight-rules<ul> <li>\u2721 RECOMMENDED \u2721</li> <li>\u5982\u679c\u4f60\u5728\u4f7f\u7528git\u7684\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u68d8\u624b\u7684\u95ee\u9898\u5e94\u8be5\u90fd\u53ef\u4ee5\u5728\u8fd9\u91cc\u627e\u5230\u89e3\u51b3\u65b9\u6cd5</li> </ul> </li> <li>\u4e00\u4e2a\u633a\u8be6\u7ec6\u7684 Git \u4e2d\u6587\u624b\u518c</li> <li>Git Pro\uff5c\u8fdb\u9636git\u7684\u4e00\u672c\u539a\u4e66<ul> <li>\u4e00\u822c\u6ca1\u6709\u5fc5\u8981\u770b</li> </ul> </li> </ul>"},{"location":"LECTURE/Git/git/#_31","title":"\u8865\u5145\u5185\u5bb9","text":""},{"location":"LECTURE/Git/git/#_32","title":"\u5173\u4e8e\u6211\u8bb2\u7684\u5185\u5bb9","text":"<p>\u6211\u8bb2\u7684\u5185\u5bb9\u662f\u505a\u4e86\u5220\u51cf\u7684\uff0c\u5e76\u6ca1\u6709\u8bb2\u5230Git\u7684\u5168\u90e8\u547d\u4ee4\u3002\u6211\u628a\u6838\u5fc3\u653e\u5230\u5f00\u53d1\u5e38\u7528\u7684\u4e00\u4e9b\u547d\u4ee4\u4e0a\uff0c\u5e0c\u671b\u5927\u5bb6\u77e5\u9053Git\u600e\u4e48\u771f\u6b63\u8f85\u52a9\u6211\u4eec\u7684\u5f00\u53d1\u3002</p>"},{"location":"LECTURE/Git/git/#_33","title":"\u4ec0\u4e48\u662f\u68af\u5b50","text":"<p>\u4ec0\u4e48\u662f\u670d\u52a1\u5668\u2014\u2014\u5c31\u662f\u4e00\u53f0\u7535\u8111</p> <p>\u7f51\u7edc\u5982\u4f55\u8bbf\u95ee\uff08\u9aa8\u5e72\u7f51\uff0c\u8def\u7531\u5668\uff09</p> <p>\u6982\u62ec\u7684\u6765\u8bf4\uff0c\u80fd\u8ba9\u4f60\u4e0a\u7f51\u901f\u5ea6\u52a0\u5feb\uff0c\u80fd\u8ba9\u4f60\u8bbf\u95ee\u539f\u672c\u8bbf\u95ee\u4e0d\u4e86\u7684\u7f51\u7ad9\u7684\u5de5\u5177\uff0c\u5c31\u53eb\u68af\u5b50/VPN/\u52a0\u901f\u5668\u2026</p>"},{"location":"LECTURE/Git/git/#thu-gitlab","title":"\u4f7f\u7528THU GitLab","text":"<p>\u6ce8\u610f\u65e0\u6cd5\u548c\u6821\u5916\u7684\u540c\u5b66\u4e00\u8d77\u4f7f\u7528</p>"},{"location":"LECTURE/Git/git/#git_7","title":"\u56fe\u5f62\u5316Git","text":"<p>\u6709\u5f88\u591a\u56fe\u5f62\u5316\u7684<code>Git</code>\u8f6f\u4ef6\uff0c\u6211\u7528\u8fc7\u90fd\u89c9\u5f97\u5f88\u96be\u7528\u2026\u6240\u4ee5\u4e5f\u6ca1\u4ec0\u4e48\u53d1\u8a00\u6743\uff0c\u5927\u5bb6\u89c9\u5f97\u547d\u4ee4\u884c\u4e0d\u597d\u7528\u4e5f\u53ef\u4ee5\u81ea\u5df1\u53bb\u63a2\u7d22\u4e00\u4e0b</p> <p>\u5728<code>Xcode</code>\u4e2d\u4f7f\u7528<code>Git</code>\uff0c\u53ef\u4ee5\u4f7f\u7528\u81ea\u5e26\u7684\u4e00\u4e9b\u529f\u80fd\uff08\u5728\u83dc\u5355\u680f<code>Source Control</code>\u91cc\u9762\uff09\uff0c\u4f46\u662f\u6211\u4e2a\u4eba\u63a8\u8350\u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u884c\u8fdb\u884c\u7248\u672c\u63a7\u5236\u3002\u6ce8\u610f\u6253\u5f00\u7ec8\u7aef\u4e4b\u540e\u9700\u8981\u5148<code>cd</code>\u5230\u9879\u76ee\u7684\u6587\u4ef6\u5939\u518d\u4f7f\u7528<code>Git</code>\u3002</p>"},{"location":"LECTURE/Git/git/#_34","title":"\u7ec8\u7aef\u8fdb\u9636","text":"<p><code>echo hello world &gt;&gt; haha</code></p> <p><code>history | grep git</code></p> <p>\u7ec8\u7aef\u811a\u672c\u7684\u7f16\u5199\uff1a\u9700\u8981\u638c\u63e1\uff0c\u5728Xcode\u91cc\u9762\u53ef\u80fd\u5c31\u8981\u5199\u7684\u3002\u4f46\u4e0d\u662f\u521a\u9700\u3002\u4e5f\u5f88\u7b80\u5355\uff0c\u7528\u5230\u7684\u65f6\u5019\u518d\u7b80\u5355\u5b66\u4e00\u4e0b\u5c31\u597d\u4e86</p>"},{"location":"LECTURE/Git/git/#github-ci","title":"GitHub CI","text":"<p>\u67e5\u770bTHU-iOS tutorial repo\u4e2d<code>.github/workflows</code>\u4e2d\u7684<code>yaml</code>\u6587\u4ef6\uff0c\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u5c06\u4e0a\u4f20\u7684\u8bb2\u7a3f\u81ea\u52a8\u90e8\u7f72\u5230<code>GitHub pages</code></p>"},{"location":"LECTURE/Git/git/#homework","title":"Homework","text":"<p>\u3007\uff08Git\u57fa\u7840\uff09</p> <p>Git\u662f\u76ee\u524d\u4e16\u754c\u4e0a\u6700\u5148\u8fdb\u7684\u5206\u5e03\u5f0f\uff08\uff09\u63a7\u5236\u7cfb\u7edf</p> <p>\u3007\uff08\u8def\u5f84\u7684\u7406\u89e3\uff09</p> <p>\u5982\u679c\u4f7f\u7528<code>pwd</code>\u547d\u4ee4\u5f97\u5230\u7684\u8def\u5f84\u4e3a<code>~/Developer/git_learning/</code>\uff0c\u8bf7\u5199\u51fa\u6587\u4ef6<code>~/Developer/Swift_learning/help.md</code>\u7684\u76f8\u5bf9\u8def\u5f84\uff1a</p> <p>\u3007\uff08Finder\u64cd\u4f5c\uff09</p> <p>\u5728Finder\u4e2d\u663e\u793a/\u9690\u85cf\u4ee5\u70b9\u5f00\u5934\u6587\u4ef6\u7684\u5feb\u6377\u952e\u4e3a\uff1a</p> <p>\u63d0\u793a\uff1a\u5feb\u6377\u952e\u7b26\u53f7\u53ef\u4ee5\u5728macOS\u6309\u2303\u2318space\u8c03\u51fa\u8868\u60c5/\u7b26\u53f7\u9762\u677f\uff08\u83dc\u5355\u680f\u7684<code>Emoji &amp; Symbols</code>\uff09\uff0c\u5728\u6280\u672f\u7b26\u53f7\uff08<code>Technical Symbols</code>\uff09\u4e2d\u627e\u5230\u8fd9\u4e9b\u5feb\u6377\u952e\u7b26\u53f7\u3002\u4e5f\u53ef\u4ee5\u7528\u82f1\u6587\u7b80\u5199\u8868\u793a\u3002</p> <p>\u3007 \uff08\u7ec8\u7aef\u5e38\u7528\u547d\u4ee4\u4e0e\u6ce8\u610f\u4e8b\u9879\uff09</p> <p>\u4f7f\u7528\u7ec8\u7aef\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a<code>learning git.md</code>\u7684\u6587\u672c\u6587\u4ef6\u7684\u547d\u4ee4\u4e3a\uff1a</p> <p>\u3007\uff08\u67e5\u770b\u5e2e\u52a9\u6587\u6863\u7684\u65b9\u5f0f\u3001\u547d\u4ee4\u7684\u53c2\u6570\uff09</p> <p>\u5728\u547d\u4ee4\u884c\u67e5\u770bGit\u5e2e\u52a9\u7684\u547d\u4ee4\u4e3a\uff1a</p> <p>\u5728\u547d\u4ee4\u884c\u67e5\u770bGit\u7684restore\u64cd\u4f5c\u7684\u5e2e\u52a9\u6587\u6863\u7684\u547d\u4ee4\u4e3a\uff1a</p> <p>\u4f7f\u7528\u7ec8\u7aef\u67e5\u770b\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u7684\u547d\u4ee4\u4e3a<code>cat &lt;file&gt;</code>\uff0c\u8bf7\u95ee\u8fd9\u4e2a<code>cat</code>\u662f\u54ea\u4e2a\u82f1\u6587\u5355\u8bcd\u7684\u7f29\u5199\u5462\uff1f</p> <p>\u5982\u4f55\u9000\u51fa\u5e2e\u52a9\u9875\u9762\uff1f</p> <p>\u63d0\u793a\uff1a\u67e5\u770b<code>cat</code>\u7684\u5e2e\u52a9\u6587\u6863</p> <p>\u3007 \uff08Git\u7248\u672c\u56de\u9000\uff09</p> <p>\u9009\u62e9\u9898\uff1a\u547d\u4ee4<code>git reset --hard &lt;commit&gt;</code>\u7684\u4f5c\u7528\u662f\uff08\uff09\uff0c\u547d\u4ee4<code>git revert &lt;commit&gt;</code>\u7684\u4f5c\u7528\u662f\uff08\uff09</p> <p>A. \u5c06\u5de5\u4f5c\u533a\u7684\u6240\u6709\u6587\u4ef6\u6062\u590d\u5230\u67d0\u4e2a<code>commit</code>\u4e4b\u540e\u7684\u6837\u5b50</p> <p>B. \u64a4\u9500/\u56de\u9000\u67d0\u4e2a<code>commit</code>\u6240\u505a\u7684\u66f4\u6539</p> <p>\u3007 \uff08Git\u4f7f\u7528\u6ce8\u610f\uff09</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u4f7f\u7528<code>git init</code>\u521d\u59cb\u5316\u4e4b\u540e\uff0c\u9700\u8981\u7ed9\u6587\u4ef6\u5939\u6dfb\u52a0\u600e\u6837\u7684\u4e00\u4e2a\u6587\u4ef6\uff0c\u8fd9\u6837\u4e4b\u540e\u624d\u80fd\u624d\u80fd\u76f4\u63a5\u4f7f\u7528<code>git add .</code>\u5462\uff1f</p> <p>\u3007 \uff08Git\u8fdb\u9636\u64cd\u4f5c\uff09</p> <p>\u8bf7\u95ee<code>git rebase</code>\u547d\u4ee4\u7684\u4f5c\u7528\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u63d0\u793a\uff1a\u4f7f\u7528\u641c\u7d22\u5f15\u64ce\u4e86\u89e3\uff0c\u4e00\u53e5\u8bdd\u7b80\u8ff0\u5373\u53ef</p> <p>\u3007 \uff08\u5f00\u6e90\u534f\u8bae\uff09</p> <p>MIT\u534f\u8bae\u4e2d\u6709\u4e00\u53e5\u8bdd<code>THE SOFTWARE IS PROVIDED \"XX XX\"</code>\uff0c\u6d4f\u89c8\u6587\u7ae0\u4eceMIT\u534f\u8bae\u8c08\u5951\u7ea6\u7cbe\u795e\uff0c\u56de\u7b54<code>\"XX XX\"</code>\u4ee3\u8868\u7684\u82f1\u6587\u5355\u8bcd\u662f\uff1f\u5b83\u7684\u4e2d\u6587\u610f\u601d\u662f\uff1f</p>"},{"location":"LECTURE/Git/git/#answer","title":"Answer","text":"<p>\u3007\uff08Git\u57fa\u7840\uff09</p> <p>\u7248\u672c</p> <p>\u3007\uff08\u8def\u5f84\u7684\u7406\u89e3\uff09</p> <p>../Swift_learning/help.md</p> <p>\u3007\uff08Finder\u64cd\u4f5c\uff09</p> <p>\u21e7\u2318.</p> <p>\u3007 \uff08\u7ec8\u7aef\u5e38\u7528\u547d\u4ee4\u4e0e\u6ce8\u610f\u4e8b\u9879\uff09\u4f7f\u7528\u7ec8\u7aef\u5728\u5f53\u524d\u8def\u5f84\u4e0b\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a\u201clearning git.md\u201d\u7684\u6587\u672c\u6587\u4ef6\u7684\u547d\u4ee4\u4e3a\uff1a</p> <p>touch \"learning git.md\" \u6216 touch learning\\ git.md \u6216 touch 'learning git.md'</p> <p>\u3007\uff08\u67e5\u770b\u5e2e\u52a9\u6587\u6863\u7684\u65b9\u5f0f\u3001\u547d\u4ee4\u7684\u53c2\u6570\uff09</p> <p>man git \u6216 git --help</p> <p>git --help restore \u6216 git restore --help</p> <p>concatenate</p> <p>\u5728\u82f1\u6587\u8f93\u5165\u65b9\u5f0f\u4e0b\u6309q</p> <p>\u3007 \uff08Git\u7248\u672c\u56de\u9000\uff09</p> <p>A B</p> <p>\u3007 \uff08Git\u4f7f\u7528\u6ce8\u610f\uff09</p> <p>.gitignore</p> <p>\u3007 \uff08Git\u8fdb\u9636\u64cd\u4f5c\uff09</p> <p>\u5408\u5e76\u591a\u6b21commit\u4e3a\u4e00\u6b21commit</p> <p>\u3007 \uff08\u5f00\u6e90\u534f\u8bae\uff09</p> <p>AS IS \u4e2d\u6587\u610f\u601d\uff1a\u6309\u7167\u539f\u6837\u7684</p>"},{"location":"LECTURE/Git/windows-install/","title":"\u5728Windows\u4e0a\u5b89\u88c5Git","text":""},{"location":"LECTURE/Git/windows-install/#git","title":"\u4e0b\u8f7dGit\u5b89\u88c5\u5305","text":"<p>\u6253\u5f00\u7f51\u5740 https://git-scm.com/downloads</p> <p>\u70b9\u51fb\u53f3\u4fa7 <code>Download for Windows</code></p> <p></p> <p>\u9009\u62e9 <code>Other Git for Windows downloads</code> \u4e2d\u7684 <code>Standalone Installer</code> \u4e2d\u7684 <code>64-bit Git for Windows Setup</code>\uff0c\u5373\u53ef\u5f00\u59cb\u4e0b\u8f7dGit\u5b89\u88c5\u5305</p> <p></p> <p></p> <p>\u4e0b\u8f7d\u597d\u4e4b\u540e\u83b7\u5f97<code>Git-2.37.3-64-bit.exe</code>\uff08\u6211\u8fd9\u91cc\u5b58\u50a8\u5230\u684c\u9762\uff09</p> <p></p>"},{"location":"LECTURE/Git/windows-install/#git_1","title":"\u5b89\u88c5Git","text":"<p>\u53cc\u51fb\u6253\u5f00<code>Git-2.37.3-64-bit.exe</code>\uff0c\u70b9\u51fb<code>\u662f</code></p> <p></p> <p>\u4e00\u8def <code>Next</code>\uff0c\u6700\u540e\u70b9\u51fb <code>Install</code>\uff0c\u7136\u540e\u7b49\u5f85\u5b89\u88c5\u5b8c\u6bd5</p> <p></p> <p>\u51fa\u73b0\u4e0b\u56fe\u5219\u8bf4\u660e\u5df2\u7ecf\u5b89\u88c5\u6210\u529f\uff1a</p> <p></p> <p>\u5728\u6700\u540e\u4e00\u4e2a\u754c\u9762\uff0c\u7b2c\u4e00\u4e2a <code>Launch Git Bash</code> \u53ef\u4ee5\u6253\u5f00\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u4e0e Git \u4ea4\u4e92\u7684\u547d\u4ee4\u884c\u754c\u9762\uff0c\u6211\u4eec\u9700\u8981\u9009\u4e2d\uff1b\u7b2c\u4e8c\u4e2a <code>View Release Notes</code> \u53ef\u4ee5\u67e5\u770b <code>Git</code> \u7684\u66f4\u65b0\u4fe1\u606f\uff0c\u6211\u4eec\u6ca1\u5fc5\u8981\u67e5\u770b\uff0c\u6240\u4ee5\u53d6\u6d88\u52fe\u9009\u3002</p> <p></p> <p>\u4e4b\u540e\u70b9\u51fb <code>Finish</code>\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd9\u6837\u7684\u4e00\u4e2a\u7a97\u53e3\u3002</p> <p></p>"},{"location":"LECTURE/Linux/commands-concise/","title":"\u547d\u4ee4\u884c\u5165\u95e8\u7cbe\u7b80\u7248","text":"<p>\u6b64\u4efd\u6559\u7a0b\u4e3b\u8981\u9762\u5411\u975e\u5f00\u53d1\u4eba\u5458\uff0c\u4ee5\u4ecb\u7ecd\u4e3a\u4e3b\u3002</p>"},{"location":"LECTURE/Linux/commands-concise/#_2","title":"\u6253\u5f00\u547d\u4ee4\u884c","text":""},{"location":"LECTURE/Linux/commands-concise/#windows","title":"Windows","text":"<p>\u684c\u9762\u53f3\u952e <code>Git Bash Here</code> \u6253\u5f00 <code>Git Bash</code>\u3002</p>"},{"location":"LECTURE/Linux/commands-concise/#macos","title":"macOS","text":"<p>\u805a\u7126\u641c\u7d22 <code>cmd \u7a7a\u683c</code> \u641c\u7d22 <code>\u7ec8\u7aef</code> \u6216 <code>terminal</code> \u6253\u5f00\u7ec8\u7aef\u3002</p>"},{"location":"LECTURE/Linux/commands-concise/#_3","title":"\u5e38\u7528\u547d\u4ee4","text":""},{"location":"LECTURE/Linux/commands-concise/#_4","title":"\u666e\u901a\u547d\u4ee4","text":"<ul> <li><code>date</code> \u4e86\u89e3\u547d\u4ee4\u884c\u53ef\u4ee5\u8c03\u7528\u4e00\u4e2a\u7a0b\u5e8f<ul> <li>\u67e5\u770b<code>date</code>\u7684\u5e2e\u52a9\u6587\u6863\uff1a<code>date --help</code> (Git Bash) \u6216 <code>man date</code> (macOS / Linux)</li> <li>\u683c\u5f0f\u5316\u6253\u5370\u65f6\u95f4\uff1a<code>date \"+%m/%d\"</code> \u4e86\u89e3\u7a0b\u5e8f\u53ef\u4ee5\u63a5\u53d7\u8f93\u5165 \u5bf9\u5e94\u6709\u8f93\u51fa</li> </ul> </li> <li><code>echo</code> \u539f\u5c01\u4e0d\u52a8\u6253\u5370\u51fa\u8f93\u5165\u7684\u5185\u5bb9</li> <li><code>clear</code> \u6e05\u5c4f</li> <li><code>history</code> \u67e5\u770b\u4e4b\u524d\u6572\u8fc7\u7684\u547d\u4ee4</li> </ul>"},{"location":"LECTURE/Linux/commands-concise/#_5","title":"\u6587\u4ef6\u7cfb\u7edf\u76f8\u5173","text":"<ul> <li>\u76ee\u5f55<ul> <li>\u4e86\u89e3\u6587\u4ef6\u7cfb\u7edf\u662f\u4e00\u4e2a\u6811\u72b6\u7684\u7ed3\u6784</li> <li><code>pwd</code> print working directory<ul> <li>\u663e\u793ashell\u7684\u5de5\u4f5c\u76ee\u5f55</li> </ul> </li> <li><code>ls</code> list<ul> <li>\u5217\u51fashell\u7684\u5de5\u4f5c\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u5939\u548c\u6587\u4ef6</li> </ul> </li> <li>\u6587\u4ef6\u8def\u5f84\u7684\u8868\u793a<ul> <li>\u6839\u76ee\u5f55 <code>/</code></li> <li>\u5f53\u524d\u76ee\u5f55 <code>.</code> \u4e0a\u7ea7\u76ee\u5f55 <code>..</code> \u4e0a\u4e0a\u7ea7\u76ee\u5f55 <code>../..</code></li> <li>\u5bb6\u76ee\u5f55 <code>~</code></li> </ul> </li> <li><code>cd</code> change directory<ul> <li>\u5207\u6362shell\u7684\u5de5\u4f5c\u76ee\u5f55</li> </ul> </li> </ul> </li> <li>\u6587\u4ef6\u5939<ul> <li><code>mkdir</code> make directory<ul> <li>\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939 \u5982 <code>mkdir new_folder</code> \u6ce8\uff1a\u4e0d\u8981\u5728\u6587\u4ef6\u5939\u5185\u5e26\u7a7a\u683c</li> </ul> </li> </ul> </li> <li>\u6587\u4ef6<ul> <li><code>touch</code><ul> <li>\u521b\u5efa\u4e00\u4e2a\u7eaf\u6587\u672c\u6587\u4ef6 \u5982 <code>touch a.txt</code></li> </ul> </li> <li><code>cat</code> concatenate<ul> <li>\u663e\u793a\u4e00\u4e2a\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9 \u5982 <code>cat a.txt</code></li> </ul> </li> <li><code>mv</code> move<ul> <li>\u79fb\u52a8\u4e00\u4e2a\u6587\u4ef6\u5230\u53e6\u4e00\u4e2a\u8def\u5f84 \u5982 <code>mv a.txt ../a.txt</code> \u5c06\u6587\u4ef6\u79fb\u52a8\u5230\u4e0a\u5c42\u6587\u4ef6\u5939</li> <li>\u91cd\u547d\u540d\u6587\u4ef6 \u5982 <code>mv a.txt b.txt</code></li> </ul> </li> <li><code>cp</code> copy<ul> <li>\u590d\u5236\u6587\u4ef6\u5230\u53e6\u4e00\u4e2a\u6587\u4ef6 \u5982 <code>cp a.txt b.txt</code></li> </ul> </li> <li><code>rm</code> remove<ul> <li>\uff08\u6ce8\u610f <code>rm</code> \u4f1a\u76f4\u63a5\u5220\u9664 \u4f7f\u7528\u65f6\u4e00\u5b9a\u5f53\u5fc3\uff09</li> <li>\u5220\u9664\u6587\u4ef6 \u5982 <code>rm a.txt</code></li> <li>\u6279\u91cf\u5220\u9664\u6587\u4ef6 \u5982 <code>rm *.txt</code> \u5220\u9664\u6240\u6709\u7684 <code>txt</code> \u6587\u4ef6</li> <li>\u5220\u9664\u6587\u4ef6\u5939\u5185\u6240\u6709\u5185\u5bb9 \u5982 <code>rm -r folder</code></li> </ul> </li> </ul> </li> </ul> <p>\u5b89\u88c5 <code>VS Code</code> \u4e4b\u540e\u53ef\u4ee5\u7528 <code>code</code> \u547d\u4ee4\u6253\u5f00\u4e00\u4e2a\u6587\u4ef6\u5939\u6216\u6587\u4ef6\uff0c\u5982 <code>code new_folder</code> <code>code README.md</code></p>"},{"location":"LECTURE/Linux/commands-concise/#shell","title":"Shell\u4f7f\u7528\u6280\u5de7","text":""},{"location":"LECTURE/Linux/commands-concise/#_6","title":"\u5e38\u7528\u6280\u5de7","text":"<ul> <li>Tab\u8865\u5168<ul> <li>\u547d\u4ee4\u8f93\u5165\u5230\u4e00\u534a\u65f6\u8865\u5168\u547d\u4ee4</li> <li><code>cd</code>\u65f6\u8865\u5168\u8def\u5f84 <code>cat</code>\u65f6\u8865\u5168\u6587\u4ef6\u540d \u7b49</li> </ul> </li> <li><code>ctrl C</code><ul> <li>\u6e05\u9664\u8f93\u5165\u7684\u547d\u4ee4</li> <li>\u7ed3\u675f\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f</li> </ul> </li> <li>\u6309\u4e0a\u952e\u8c03\u51fa\u4e4b\u524d\u7684\u547d\u4ee4</li> <li>\u5728\u8fdb\u5165\u4e00\u4e9b\u201c\u7a97\u53e3\u201d\u65f6\uff08\u5982 <code>git log</code> \u4e4b\u540e\u7684\u201c\u7a97\u53e3\u201d\uff09\uff0c\u53ef\u4ee5\u5728\u82f1\u6587\u8f93\u5165\u6cd5\u4e0b\u6309 <code>q</code> \u9000\u51fa</li> </ul>"},{"location":"LECTURE/Linux/commands-concise/#_7","title":"\u8c03\u6574\u6587\u5b57\u5927\u5c0f","text":"<ul> <li><code>Windows - Git Bash</code> \u53f3\u952e\u83dc\u5355\u680f\uff0c\u70b9\u51fb <code>Options</code> \u91cc\u9762\u53ef\u4ee5\u8c03\u6574\u5b57\u4f53\u5927\u5c0f\u3002\u66f4\u65b9\u4fbf\u7684\u662f\u4f7f\u7528 <code>ctrl -</code> \u548c <code>ctrl =</code> \u6765\u8fdb\u884c\u63a7\u5236\u5b57\u4f53\u5927\u5c0f\u3002</li> <li><code>macOS - Terminal</code> \u7528 <code>cmd ,</code> \u6253\u5f00\u8bbe\u7f6e\uff0c\u5728 <code>Profiles &gt; Default &gt; Text &gt; Font</code> \u5904\u8c03\u6574\u5b57\u4f53\u5927\u5c0f\u3002\u66f4\u65b9\u4fbf\u7684\u662f\u4f7f\u7528 <code>cmd -</code> \u548c <code>cmd =</code> \u6765\u8fdb\u884c\u63a7\u5236\u5b57\u4f53\u5927\u5c0f\u3002</li> </ul>"},{"location":"LECTURE/Linux/linux/","title":"Linux \u8bb2\u5ea7 - 2021\u4fe1\u9662\u8054\u5408\u6691\u57f9","text":"<p>\u8bb2\u5ea7\u65f6\u95f4\uff1a\u5c0f\u5b66\u671f\u7b2c\u4e09\u5468\u5468\u4e00\uff087.12\uff09\u665a\u4e0a 19:00</p> <p>\u9762\u5411\u7fa4\u4f53\uff1a\u4fe1\u9662\u79d1\u534f\u7684\u540c\u5b66\uff08\u9700\u8981\u5f97\u5230\u57f9\u8bad\uff1b\u80fd\u591f\u5feb\u901f\u4e0a\u624b\u76f8\u5173\u7684\u5f00\u53d1\u5de5\u5177\uff09\uff0c\u5176\u4ed6\u540c\u5b66\uff08\u6709\u4e00\u4e9b\u57fa\u7840\uff0c\u5e0c\u671b\u80fd\u4e86\u89e3\u66f4\u591a\uff1b\u79d1\u666e\u7684\u5f62\u5f0f\u544a\u8bc9\u5927\u5bb6\u5f00\u53d1\u7684\u76f8\u5173\u6d41\u7a0b\u548c\u4e00\u4e9b\u5e38\u7528\u7684\u3001\u597d\u7528\u7684\u5de5\u5177\uff09</p> <p>\u4f5c\u8005\uff1a\u7535\u5b50\u7cfb\u4e5d\u5b57\u73ed \u6768\u5e0c\u6770</p> <p>\u8bfe\u7a0b\u5f55\u5c4f https://www.bilibili.com/video/BV12h41167Lk</p>"},{"location":"LECTURE/Linux/linux/#_1","title":"\u5f00\u573a","text":"<p>\u81ea\u6211\u4ecb\u7ecd\uff1a\u5927\u5bb6\u597d\uff0c\u6211\u662f\u65e097\u73ed\u7684\u6768\u5e0c\u6770\uff0c\u4e00\u5e74\u524d\u6211\u52a0\u5165\u7535\u5b50\u7cfb\u79d1\u534f\u8f6f\u4ef6\u90e8\u3002</p> <p>\u4e00\u5e74\u524d\u7684\u8fd9\u4e2a\u65f6\u5019\u6211\u53c2\u52a0\u4e86\u7535\u5b50\u7cfb\u79d1\u534f\u5b66\u957f\u4eec\u7ec4\u7ec7\u7684\u6691\u57f9\uff0c\u8ba4\u771f\u542c\u4e0b\u6765\uff0c\u6536\u83b7\u4e86\u4e0d\u5c11\u4e1c\u897f\u3002\u5bf9\u7535\u8111\u6709\u4e86\u66f4\u591a\u7684\u8ba4\u8bc6\uff0c\u7b80\u5355\u5bf9\u524d\u7aef\u540e\u7aef\u6709\u4e86\u4e86\u89e3\uff0c\u6253\u5f00\u4e86\u6211\u8d70\u5411\u5f00\u53d1\u7684\u9053\u8def\u3002\u4eca\u5e74\u54b1\u4eec\u4fe1\u606f\u9662\u7cfb\u5408\u5f00\uff0c\u76f8\u4fe1\u80fd\u8ba9\u8fd9\u6b21\u6691\u57f9\u505a\u7684\u66f4\u597d\u3002</p> <p>\u4e00\u65b9\u9762\u5462\uff0c\u5e0c\u671b\u5927\u5bb6\u4e86\u89e3\u4e0e\u4fe1\u606f\u3001\u5f00\u53d1\u76f8\u5173\u3001\u81ea\u5df1\u611f\u5174\u8da3\u7684\u4e1c\u897f\uff1b\u53e6\u4e00\u65b9\u9762\u5462\uff0c\u5e0c\u671b\u79d1\u534f\u7684\u540c\u5b66\u8ba4\u771f\u542c\u8bb2\uff0c\u56e0\u4e3a\u6691\u57f9\u4e0a\u8bb2\u7684\u4e1c\u897f\u4f60\u53ef\u80fd\u5f88\u5feb\u5c31\u8981\u7528\u5230\u3002</p> <p>\u4e3a\u4e86\u9632\u6b62\u8bb2\u5ea7\u88ab\u6253\u65ad\uff0c\u6211\u4e0d\u4f1a\u5728\u8bb2\u5ea7\u7684\u8fc7\u7a0b\u4e2d\u770b\u817e\u8baf\u4f1a\u8bae\u548c\u5fae\u4fe1\u7684\u804a\u5929\u3002\u5f53\u7136\u4e3a\u4e86\u9632\u6b62\u7279\u6b8a\u60c5\u51b5\u7684\u53d1\u751f\uff0c\u6211\u63d0\u524d\u8ddf\u4e00\u4e9b\u540c\u5b66\u8bf4\u597d\uff0c\u5982\u679c\u7a81\u7136\u7ffb\u8f66\u4e86\u77ed\u4fe1\u8054\u7cfb\u6211hh\u3002</p> <p>\u5927\u5bb6\u5982\u679c\u5728\u8bb2\u5ea7\u7684\u8fc7\u7a0b\u4e2d\u6709\u7591\u95ee\uff0c\u53ef\u4ee5\u5728\u8bb2\u5ea7\u4f11\u606f\u7684\u95f4\u9699\u6216\u8005\u8bb2\u5ea7\u7ed3\u675f\u540e\u6765\u627e\u6211\u95ee\u95ee\u9898\u3002\u9f13\u52b1\u5927\u5bb6\u591a\u601d\u8003\uff0c\u591a\u63d0\u95ee\u9898\u3002\u8fd9\u4e5f\u662f\u6211\u7b2c\u4e00\u6b21\u8bb2<code>Linux</code>\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u53ef\u80fd\u4e5f\u4f1a\u6709\u4e00\u4e9b\u5730\u65b9\u8bbe\u8ba1\u7684\u4e0d\u592a\u597d\uff0c\u5927\u5bb6\u6709\u5efa\u8bae\u4e5f\u6b22\u8fce\u5728\u8bb2\u5ea7\u540e\u8ddf\u6211\u53cd\u9988\u3002</p>"},{"location":"LECTURE/Linux/linux/#_2","title":"\u5f15\u8a00","text":"<p>\u4eca\u5929\u6211\u8bb2\u7684\u4e3b\u9898\u662f<code>Linux</code>\uff0c\u4f46\u662f\u5462\uff0c\u6211\u53ef\u80fd\u524d\u56db\u5341\u5206\u949f\u90fd\u4e0d\u4f1a\u63d0\u5230<code>Linux</code>\u672c\u8eab\u3002\u6211\u4f1a\u4ece<code>\u7a0b\u5e8f</code>\u8bb2\u8d77\uff0c\u8bf4\u8bf4<code>\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf</code>\uff0c\u804a\u804a\u5927\u5bb6\u90fd\u7528\u7535\u8111\u6765\u505a\u4ec0\u4e48\uff1b\u7ed9\u5927\u5bb6\u8865\u5145\u4e00\u4e9b\u57fa\u7840\u7684\u6982\u5ff5\u3002\u4e4b\u540e\u6211\u4f1a\u8ddf\u5927\u5bb6\u8bb2\u8bb2<code>Linux</code>\u7684\u83b7\u53d6\u548c\u4f7f\u7528\u3002\u5e0c\u671b\u5927\u5bb6\u901a\u8fc7\u4eca\u5929\u7684\u8bfe\u7a0b\uff0c\u4e00\u65b9\u9762\u662f\u5bf9\u81ea\u5df1\u7684\u7535\u8111\u548c\u4fe1\u606f\u77e5\u8bc6\u6709\u4e00\u4e2a\u8865\u5145\uff0c\u53e6\u4e00\u65b9\u9762\u662f\u5bf9\u5f00\u53d1\u7684\u57fa\u7840\u5de5\u5177\u6709\u4e00\u4e9b\u7b80\u5355\u7684\u4e86\u89e3\u3002</p>"},{"location":"LECTURE/Linux/linux/#_3","title":"\u6b63\u6587","text":""},{"location":"LECTURE/Linux/linux/#_4","title":"\u4ec0\u4e48\u662f\u7a0b\u5e8f","text":"<p>\uff08\u8f6f\u4ef6\u76f8\u5f53\u4e8e\u4e00\u4e2a\u7cfb\u7edf\uff0c\u6709\u8f93\u5165\u6709\u8f93\u51fa\uff09\u9762\u5bf9\u4f60\u9762\u524d\u7684\u7535\u8111\uff0c\u4f60\u5982\u4f55\u4f7f\u7528\u5b83\u5462\uff1f\u4ed4\u7ec6\u60f3\u60f3\uff0c\u6211\u4eec\u5176\u5b9e\u90fd\u662f\u5728\u4f7f\u7528\u4e00\u4e9b\u5e94\u7528\u7a0b\u5e8f\u3002\u6bd4\u5982\u5907\u5fd8\u5f55\uff0c\u6bd4\u5982<code>Microsoft Word</code>\uff0c\u6bd4\u5982\u6d4f\u89c8\u5668\uff0c\u6bd4\u5982\u4e00\u4e9b\u6e38\u620f\u3002\u5b83\u4eec\u90fd\u662f\u8f6f\u4ef6\u3002\u518d\u5f80\u4e0b\u60f3\u4e00\u5c42\uff0c\u6211\u4eec\u5982\u4f55\u53bb\u4f7f\u7528\u8fd9\u4e9b\u8f6f\u4ef6\u5462\uff1f\u5f53\u7136\u662f\u952e\u76d8\u548c\u9f20\u6807\uff1b\u4f46\u53ea\u6709\u952e\u76d8\u548c\u9f20\u6807\u4e0d\u591f\u5bf9\u5427\uff0c\u8fd8\u5f97\u6709\u663e\u793a\u5668\u3002\u90a3\u6211\u4eec\u5176\u5b9e\u53ef\u4ee5\u5c06\u4e00\u4e2a\u8f6f\u4ef6\u770b\u6210\u4e00\u4e2a\u7cfb\u7edf\uff0c\u5b83\u6709\u8f93\u5165\uff0c\u6709\u8f93\u51fa\uff1b\u8f93\u5165\u662f\u952e\u76d8\u548c\u9f20\u6807\uff0c\u8f93\u51fa\u662f\u663e\u793a\u5668\u3002</p> <p>\uff08\u6253\u5f00GUI\u7a0b\u5e8f\u5b9e\u9645\u4e0a\u662f\u8981\u627e\u5230\u7a0b\u5e8f\u7684<code>.app</code>\u6587\u4ef6\u548c<code>.exe</code>\u6587\u4ef6\uff09\u8ba9\u6211\u4eec\u518d\u628a\u8fd9\u4e2a\u8fc7\u7a0b\u5177\u4f53\u4e00\u4e0b\u3002\u8981\u4f7f\u7528\u7a0b\u5e8f\uff0c\u6211\u4eec\u9996\u5148\u8981\u6253\u5f00\u7a0b\u5e8f\u3002\u90a3\u4e48\u5982\u4f55\u6253\u5f00\u7a0b\u5e8f\u5462\uff1f\u6211\u4eec\u9700\u8981\u627e\u5230\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u6587\u4ef6\u6216\u8005\u627e\u5230\u5176\u5feb\u6377\u65b9\u5f0f\u3002\u627e\u5230\u7a0b\u5e8f\u7684\u4f4d\u7f6e\u5728\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u6709\u7740\u4e0d\u540c\u7684\u65b9\u5f0f\u2014\u2014\u5728<code>macOS</code>\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u627e\u5230\u7535\u8111\u4e0a\u7684<code>Applications\u6587\u4ef6\u5939</code>\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u540e\u7f00\u4e3a<code>.app</code>\u7684\u7a0b\u5e8f\u53cc\u51fb\u6253\u5f00\uff1b\u5728<code>Windows</code>\u4e0a\uff0c\u6211\u4eec\u9700\u8981\u627e\u5230\u81ea\u5df1\u5f53\u521d\u5b89\u88c5\u8f6f\u4ef6\u7684\u4f4d\u7f6e\uff0c\u627e\u5230\u5bf9\u5e94\u7684\u540e\u7f00\u4e3a<code>.exe</code>\u7684\u6587\u4ef6\uff0c\u53cc\u51fb\u6253\u5f00\u8fd0\u884c\u3002\u8fd9\u65f6\u6709\u7684\u540c\u5b66\u5c31\u4f1a\u8bf4\uff0c\u6211\u4f7f\u7528<code>macOS</code>\u76f4\u63a5\u4ece<code>\u7a0b\u5e8f\u575e</code>\u548c<code>Dock\u680f</code>\u70b9\u51fb\u7a0b\u5e8f\u56fe\u6807\u5c31\u53ef\u4ee5\u6253\u5f00\u7a0b\u5e8f\uff0c\u4f7f\u7528<code>Windows</code>\u76f4\u63a5\u5728\u5f00\u59cb\u83dc\u5355\u70b9\u51fb\u7a0b\u5e8f\u6216\u8005\u5728\u684c\u9762\u53cc\u51fb\u5feb\u6377\u65b9\u5f0f\u5c31\u80fd\u6253\u5f00\uff1b\u5176\u5b9e\u8fd9\u4e9b\u65b9\u5f0f\u672c\u8d28\u4e0a\u90fd\u662f\u7535\u8111\u7cfb\u7edf\u4f1a\u5e2e\u4f60\u627e\u5230\u5bf9\u5e94\u7684<code>.app</code>\u6587\u4ef6\u548c<code>.exe</code>\u6587\u4ef6\uff0c\u5feb\u6377\u65b9\u5f0f\u6216\u8005\u4ece<code>Dock\u680f</code>\u6253\u5f00\u53ea\u662f\u65b9\u4fbf\u4f60\u6253\u5f00\u7a0b\u5e8f\u7684\u65b9\u5f0f\u3002</p> <p>\uff08GUI\u7a0b\u5e8f\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff09\u518d\u6765\u770b\u770b\u8f93\u5165\u5427\u3002\u8f93\u5165\u6709\u4e24\u79cd\uff0c<code>\u952e\u76d8</code> \u548c <code>\u9f20\u6807</code>\u3002\u6211\u4eec\u6253\u5f00\u5907\u5fd8\u5f55\uff0c\u968f\u4fbf\u6572\u51fb\u4e00\u4e9b\u6587\u5b57\u4e0a\u53bb\uff0c\u8fd9\u65f6\u8f93\u5165\u8bbe\u5907\u662f\u952e\u76d8\uff1b\u6211\u4eec\u901a\u8fc7\u9f20\u6807\u70b9\u51fb\u79fb\u52a8\u5149\u6807\u4f4d\u7f6e\uff0c\u8fd9\u65f6\u8f93\u5165\u662f\u9f20\u6807\u7684\u57fa\u672c\u64cd\u4f5c\uff1b\u6211\u4eec\u8fd8\u53ef\u4ee5\u53f3\u952e\u9f20\u6807\u6216\u8005\u6ed1\u52a8\u9875\u9762\uff0c\u6216\u8005\u62d6\u52a8\u9f20\u6807\u9009\u4e2d\u5185\u5bb9\uff0c\u8fd9\u4e9b\u90fd\u662f\u9f20\u6807\u7684\u4e00\u4e9b\u9ad8\u7ea7\u64cd\u4f5c\u3002\u8fd9\u4e9b\u64cd\u4f5c\u80fd\u8ba9\u4f60\u505a\u4ec0\u4e48\u5462\uff0c\u80fd\u8ba9\u4f60\u544a\u8bc9\u6b63\u5728\u4f7f\u7528\u7684\u7a0b\u5e8f\u4f60\u60f3\u505a\u4ec0\u4e48\u3002\u70b9\u51fb\u53d8\u66f4\u5149\u6807\u4f4d\u7f6e\uff0c\u53f3\u952e\u8c03\u51fa\u83dc\u5355\uff0c\u6ed1\u52a8\u8ba9\u9875\u9762\u79fb\u52a8\uff0c\u6309\u4f4f\u9009\u4e2d\u5185\u5bb9\u2014\u2014\u8fd9\u4e9b\u90fd\u662f\u7a0b\u5e8f\u5e2e\u4f60\u5904\u7406\u7684\u7ed3\u679c\uff08\u8f93\u51fa\uff09\u3002\u4e0d\u8fc7\u4e3a\u4ec0\u4e48\u4f60\u80fd\u770b\u5230\u8fd9\u4e9b\u8f93\u51fa\u548c\u7ed3\u679c\u5462\uff1f\u8fd9\u662f\u56e0\u4e3a\u7535\u8111\u7cfb\u7edf\u5e2e\u4f60\u628a\u8fd9\u4e9b\u7ed3\u679c\uff08\u8f93\u51fa\uff09\u4ee5\u753b\u56fe\u7684\u5f62\u5f0f\u5448\u73b0\u5728\u4e86\u4f60\u7684\u663e\u793a\u5668\u4e0a\u3002\u6bd4\u5982\uff0c\u5728\u6211\u7684<code>MacBook</code>\u4e0a\uff0c\u5bf9\u8f6f\u4ef6\u7684\u64cd\u4f5c\u7ecf\u8fc7<code>macOS</code>\u7684\u5904\u7406\uff08\u6bd4\u5982\u901a\u8fc7CPU\u8ba1\u7b97\u9f20\u6807\u7684\u4f4d\u7f6e\uff09\uff0c\u518d\u7ecf\u8fc7<code>GPU</code>\uff08\u96c6\u6210\u663e\u5361\uff09\u7684\u6e32\u67d3\uff0c\u6700\u7ec8\u5728\u5c4f\u5e55\u4e0a\u5448\u73b0\u4e86\u8f6f\u4ef6\u7684\u7ed3\u679c\uff08\u8f93\u51fa\uff09\u3002</p> <p>\uff08GUI\u7a0b\u5e8f\u662f\u6709\u56fe\u5f62\u754c\u9762\u7684\u7a0b\u5e8f\uff09\u6211\u4eec\u5c06\u8fd9\u4e9b\u8f6f\u4ef6\u79f0\u4f5c<code>GUI\u5e94\u7528</code>\uff08<code>GUI</code>, <code>Graphical User Interface</code>, \u56fe\u5f62\u7528\u6237\u754c\u9762\uff09\uff0c\u56e0\u4e3a\u4f60\u5bf9\u8fd9\u4e9b\u5e94\u7528\u7a0b\u5e8f\u7684\u8f93\u5165\u548c\u8f93\u51fa\u662f\u901a\u8fc7\u56fe\u5f62\u7684\u65b9\u5f0f\u5448\u73b0\u7684\u3002\u8fd9\u662f\u6211\u4eec\u6700\u5e38\u7528\u7684\u8f6f\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u6700\u7b26\u5408\u6211\u4eec\u7684\u76f4\u89c9\u3002</p>"},{"location":"LECTURE/Linux/linux/#_5","title":"\u603b\u7ed3","text":"<p>OK\uff0c\u6211\u4eec\u82b1\u5927\u6982\u51e0\u5206\u949f\u7684\u65f6\u95f4\u590d\u4e60\u4e86\u5927\u5bb6\u4e5f\u8bb8\u4ece\u5c0f\u5b66\u65f6\u5019\u5c31\u975e\u5e38\u719f\u6089\u7684\u4e8b\u60c5\u3002\u867d\u7136\u53ef\u80fd\u786e\u5b9e\u5f88\u7b80\u5355\uff0c\u4f46\u662f\u8fd9\u4e9b\u7b80\u5355\u7684\u4e1c\u897f\u53e0\u52a0\u8d77\u6765\uff0c\u628a\u5176\u4e2d\u7684\u601d\u60f3\u62bd\u51fa\u6765\uff0c\u6211\u76f8\u4fe1\u4f60\u4f1a\u5bf9<code>\u4f7f\u7528\u7535\u8111</code>\u8fd9\u4ef6\u4e8b\u60c5\u6709\u66f4\u597d\u7684\u7406\u89e3\u3002\u63d0\u70bc\u4e00\u4e0b\u601d\u60f3\u2014\u2014\u6211\u4eec\u4f7f\u7528\u7535\u8111\u5b9e\u9645\u4e0a\u662f\u5728\u5404\u79cd\u5404\u6837\u7684\u7a0b\u5e8f\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8f93\u5165\u544a\u8bc9\u7a0b\u5e8f\u6211\u4eec\u60f3\u505a\u7684\u4e8b\u60c5\uff0c\u7a0b\u5e8f\u5904\u7406\u4e4b\u540e\u5c06\u7ed3\u679c\u5448\u73b0\u7ed9\u6211\u4eec\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u5bf9<code>\u7a0b\u5e8f</code>\u6709\u4e86\u7b80\u5355\u7684\u4e86\u89e3\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u518d\u8ba4\u8bc6\u4e00\u4e0b<code>\u64cd\u4f5c\u7cfb\u7edf</code>\u5427\uff0c\u6bd5\u7adf\u90a3\u4e48\u591a\u5e94\u7528\u7a0b\u5e8f\u662f\u8dd1\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#gui","title":"\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e38\u89c1\u7684GUI\u64cd\u4f5c\u7cfb\u7edf","text":"<p>\uff08\u64cd\u4f5c\u7cfb\u7edf\u662f\u4ec0\u4e48\uff09\u64cd\u4f5c\u7cfb\u7edf\uff08<code>Operating System</code>, <code>OS</code>\uff09\u662f\u7ba1\u7406\u8ba1\u7b97\u673a\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u8d44\u6e90\u7684\u8ba1\u7b97\u673a\u7a0b\u5e8f\u3002\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u63d0\u4f9b\u4e00\u4e2a\u8ba9\u7528\u6237\u4e0e\u7cfb\u7edf\u4ea4\u4e92\u7684\u64cd\u4f5c\u754c\u9762\u3002\uff08\u6765\u81ea<code>\u64cd\u4f5c\u7cfb\u7edf</code>\u767e\u5ea6\u767e\u79d1\uff09</p> <p>\uff08\u64cd\u4f5c\u7cfb\u7edf\u548c\u8f6f\u786c\u4ef6\u7684\u8fde\u63a5\uff09\u4e5f\u5c31\u662f\u8bf4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u63a5\u7535\u8111\u7684\u786c\u4ef6\u8d44\u6e90\uff08CPU\uff08\u7528\u6765\u8fdb\u884c\u6267\u884c\u6307\u4ee4\u548c\u8fdb\u884c\u8fd0\u7b97\uff09\u3001GPU\uff08\u7528\u6765\u8fdb\u884c\u6e32\u67d3\u5de5\u4f5c\uff08\u6e32\u67d3\u5c31\u662f\u753b\u56feww\uff09\u3001\u786c\u76d8\uff08\u7528\u6765\u5b58\u50a8\u5404\u79cd\u5404\u6837\u7684\u8d44\u6e90\uff09\uff0c\u5916\u8bbe\uff08\u5982\u9f20\u6807/\u952e\u76d8/LED/\u5c4f\u5e55\u4ec0\u4e48\u7684\uff09\uff09\uff0c\u4e0a\u63a5\u4e00\u5806\u7684\u5e94\u7528\u7a0b\u5e8f\uff08\u5c31\u662f\u6211\u4eec\u5e38\u7528\u7684\u90a3\u4e9b\uff09\u3002\u5b9a\u4e49\u8bf4\u64cd\u4f5c\u7cfb\u7edf\u4e5f\u662f\u4e00\u79cd\u7a0b\u5e8f\uff0c\u662f\u7684\uff0c\u5b83\u4e5f\u63a5\u53d7\u8f93\u5165\u8f93\u51fa\uff0c\u5176\u5b9e\u4f60\u5bf9\u7a0b\u5e8f\u7684\u8f93\u5165\u8f93\u51fa\u90fd\u5148\u7ecf\u8fc7\u64cd\u4f5c\u7cfb\u7edf\uff0c\u518d\u5230\u8fbe\u4e0a\u5c42\u7684\u5e94\u7528\u7a0b\u5e8f\u7684\u3002</p> <p>\uff08GUI\u64cd\u4f5c\u7cfb\u7edf\uff09\u8fd9\u5c31\u662f\u64cd\u4f5c\u7cfb\u7edf\uff0c\u90a3\u4e48\u4ec0\u4e48\u662fGUI\u64cd\u4f5c\u7cfb\u7edf\u5462\uff1f\u80fd\u8ba9\u4f60\u7528\u9f20\u6807\u70b9\u51fb\uff0c\u7528\u5c4f\u5e55\u5448\u73b0\u56fe\u5f62\u7684\u64cd\u4f5c\u7cfb\u7edf\u5c31\u662fGUI\u7cfb\u7edf\u3002\u73b0\u5728\u5e02\u9762\u4e0a\u4e3b\u8981\u6709\u4e24\u79cd\u8fd9\u6837\u7684\u7535\u8111\u7cfb\u7edf\uff0c\u4e00\u79cd\u662f<code>Windows\u7cfb\u5217</code>\uff0c\u5176\u4ee5\u51fa\u8272\u7684\u517c\u5bb9\u6027\u548c\u4e30\u5bcc\u7684\u8f6f\u4ef6\u5e02\u573a\u6709\u7740\u5f88\u9ad8\u7684\u4f7f\u7528\u7387\uff0c\u76ee\u524d\u6700\u65b0\u7684\u7cfb\u7edf\u662f<code>Windows 10</code>\uff0c\u5f53\u7136<code>Windows 11</code>\u4e5f\u5728\u8def\u4e0a\u4e86\u662f\u5427\uff1b\u53e6\u4e00\u79cd\u662f<code>macOS\u7cfb\u5217</code>\uff0c\u5176\u4ee5\u66f4\u4eba\u6027\u5316\u548cApple\u7684\u670d\u52a1\u5f97\u5230\u4e00\u90e8\u5206\u7fa4\u4f53\u7684\u9752\u7750\uff0c\u76ee\u524d\u6700\u65b0\u7684\u7cfb\u7edf\u662f<code>macOS Big Sur</code>\uff0c\u65b0\u7cfb\u7edf\u4e5f\u9a6c\u4e0a\u8981\u53d1\u5e03\u4e86\u3002\u5f53\u7136<code>Harmony OS</code>\u53ef\u80fd\u4e5f\u8981\u6765\u4e86\u662f\u5427\uff0c\u76f8\u4fe1\u5927\u5bb6\u90fd\u5f88\u671f\u5f85\u3002</p>"},{"location":"LECTURE/Linux/linux/#_6","title":"\u603b\u7ed3","text":"<p>\u6211\u4eec\u521a\u521a\u7b80\u5355\u4ecb\u7ecd\u4e86\u64cd\u4f5c\u7cfb\u7edf\uff0c\u77e5\u9053\u4e86\u64cd\u4f5c\u7cfb\u7edf\u8fde\u63a5\u7740\u786c\u4ef6\u548c\u8f6f\u4ef6\uff0c\u5c06\u7528\u6237\u7684\u8f93\u5165\u53d1\u9001\u7ed9\u7a0b\u5e8f\uff0c\u5c06\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u8fd4\u56de\u7ed9\u7528\u6237\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u4e3a\u4e86\u5f15\u51fa\u66f4\u4e00\u822c\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u6211\u4eec\u9700\u8981\u5148\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u3001\u8def\u5f84\u3001\u6587\u4ef6\u6709\u4e00\u4e9b\u57fa\u672c\u7684\u8ba4\u8bc6\u3002</p>"},{"location":"LECTURE/Linux/linux/#_7","title":"\u6587\u4ef6","text":"<p>\uff08\u6587\u4ef6\u5f15\u8a00\uff09\u6211\u4eec\u5728\u4f7f\u7528\u7a0b\u5e8f\u7684\u65f6\u5019\uff0c\u5f88\u591a\u65f6\u5019\u90fd\u662f\u5bf9\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\u3002\u6bd4\u5982<code>Microsoft Word</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9<code>.docx</code>\u6587\u4ef6\u8fdb\u884c\u64cd\u4f5c\uff0c\u5728\u5b8c\u6210\u7f16\u8f91\u4e4b\u540e\uff0c\u5bfc\u51fa<code>.pdf</code>\u6587\u4ef6\uff1b\u6bd4\u5982\u97f3\u4e50\u64ad\u653e\u5668\uff0c\u5b9e\u9645\u4e0a\u5c31\u662f\u6253\u5f00\u97f3\u4e50\u6587\u4ef6\uff08<code>.mp3</code> <code>.wav</code>\uff09\u3002\u521a\u521a\u8bf4\u4e86<code>.app</code>\u7a0b\u5e8f\u548c<code>.exe</code>\u7a0b\u5e8f\uff0c\u8fd9\u4e9b\u672c\u8d28\u4e0a\u4e5f\u662f\u6587\u4ef6\u5566\u3002\u8fd9\u4e9b\u6587\u4ef6\u672c\u8d28\u4e0a\u662f\u4ec0\u4e48\u5462\uff0c\u5b83\u4eec\u5728\u8ba1\u7b97\u673a\u91cc\u9762\u5b58\u5728\u54ea\u91cc\u5462\uff1f\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u6765\u4ecb\u7ecd\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u3002</p> <p>\uff08\u8ba1\u7b97\u673a\u4e2d\u6587\u4ef6\u7684\u672c\u8d28\uff09\u6211\u4eec\u60f3\u5728\u5927\u8111\u4e2d\u5b58\u50a8\u4e00\u4e2a\u4e1c\u897f\uff0c\u8fd9\u4e2a\u539f\u7406\u80af\u5b9a\u5f88\u590d\u6742\uff0c\u8fd9\u65b9\u9762\u7684\u7814\u7a76\u4e5f\u662f\u5f53\u524d\u7684\u524d\u6cbf\u79d1\u7814\u9886\u57df\u3002\u4f46\u662f\u8ba1\u7b97\u673a\u5b58\u50a8\u662f\u975e\u5e38\u7b80\u5355\u7684\uff0c\u53ea\u6709<code>0</code>\u548c<code>1</code>\uff1b\u7a0d\u5fae\u8bb2\u4e00\u4e9b\u786c\u4ef6\u7684\u4e1c\u897f\uff0c\u5982\u679c\u662f\u673a\u68b0\u78c1\u76d8\uff0c\u78c1\u4ecb\u8d28\u7684\u4e24\u79cd\u78c1\u5316\u65b9\u5f0f\u5bf9\u5e94<code>0</code>\u548c<code>1</code>\uff1b\u5982\u679c\u662fSSD\uff0c\u7535\u5bb9\u5145\u7535\u4e0e\u5426\u4e3a<code>0</code>\u548c<code>1</code>\uff1b\u90a3\u4e48\u5982\u4f55\u8bfb\u53d6\u6570\u636e\u5462\uff0c\u4e00\u4e2abit\u7684\u6570\u636e\u4f20\u8f93\u7ebf\u4e0a\uff0c<code>0</code>\u4e3a\u4f4e\u7535\u5e73\uff0c<code>1</code>\u4e3a\u9ad8\u7535\u5e73\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b\u521a\u521a\u8bf4\u7684\uff0c\u4f60\u5728\u8ba1\u7b97\u673a\u4e2d\u5904\u7406\u7684\u6587\u4ef6\uff0c\u53ea\u6709\u4e00\u79cd\uff0c\u91cc\u9762\u5199\u6ee1\u4e86<code>0</code>\u548c<code>1</code>\u3002\u90a3\u4e48\u4f60\u5982\u4f55\u624d\u80fd\u901a\u8fc7\u8fd9\u4e9b<code>0</code>\u548c<code>1</code>\u5f97\u5230\u4f60\u60f3\u8981\u7684\u6587\u4ef6\u5185\u5bb9\u5462\uff1f\u8fd9\u65f6\u5c31\u9700\u8981\u7a0b\u5e8f\u51fa\u624b\u4e86\u3002</p>"},{"location":"LECTURE/Linux/linux/#_8","title":"\u7eaf\u6587\u672c\u6587\u4ef6","text":"<p>\u5b66\u8fc7\u7f16\u7a0b\u7684\u540c\u5b66\u5927\u6982\u4f1a\u77e5\u9053\u7f16\u7801\u3002\u6bd4\u5982\u5982\u4e0b\u7684\u4e00\u4e2a<code>.txt</code>\u6587\u4ef6\uff1a</p> <pre><code>Hello, world!\n</code></pre> <p>\u8fd9\u4e2a\u6587\u4ef6\u5b58\u5728\u4f60\u7684\u786c\u76d8\u4e0a\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e32<code>0</code>\u548c<code>1</code>\u3002\u5982\u4e0b\u6240\u793a\uff08\u5171 14 Byte\uff09\uff1a</p> <p>\u6ce8\uff1a\u53ef\u4ee5\u4f7f\u7528<code>xxd -b &lt;file&gt;</code>\u547d\u4ee4\u6765\u67e5\u770b\u6587\u4ef6\u7684\u5185\u5bb9\uff08<code>0</code>\u548c<code>1</code>\uff09</p> <pre><code>01001000 01100101 01101100 01101100 01101111 00101100 00100000 01110111 01101111 01110010 01101100 01100100 00100001 00001010\n</code></pre> <p>\uff08\u4f7f\u7528\u5bf9\u5e94\u7684\u7f16\u7801\u8bfb\u53d6\u7eaf\u6587\u672c\u6587\u4ef6\uff09\u7531\u4e8e\u8fd9\u4e2a\u6587\u4ef6\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff0c\u6240\u4ee5\u6211\u4eec\u9700\u8981\u901a\u8fc7\u7f16\u7801\u6765\u786e\u5b9a\u91cc\u9762\u6240\u5199\u7684\u5b57\u7b26\u4e32\u7684\u5177\u4f53\u5185\u5bb9\u3002\u8be5\u6587\u4ef6\u4f7f\u7528<code>UTF-8</code>\u7f16\u7801\uff0c\u901a\u8fc7\u67e5\u770b<code>UTF-8</code>\u7684\u7f16\u7801\u7f16\u7801\u8868\uff08\u7531\u4e8e\u6211\u4eec\u53ea\u5199\u4e86\u82f1\u6587\u5b57\u7b26\uff0c\u800c\u82f1\u6587\u5b57\u7b26\u90e8\u5206<code>UTF-8</code>\u517c\u5bb9<code>ASCII</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b<code>ASCII</code>\u7801\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u5c06\u4e0a\u8ff0\u6587\u672c\u548c\u7f16\u7801\u4e00\u4e00\u5bf9\u5e94\u3002</p> <p>\uff08\u5e38\u89c1\u7684\u7eaf\u6587\u672c\u6587\u4ef6\uff09\u4e0a\u9762\u6211\u4eec\u6240\u8bf4\u7684\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff0c\u5176\u5b9e\u4f60\u6240\u63a5\u89e6\u7684\u7edd\u5927\u591a\u6570\u4e0e\u6587\u5b57\u76f8\u5173\u7684\u6587\u4ef6\u90fd\u662f\u7eaf\u6587\u672c\u6587\u4ef6\u3002\u6bd4\u5982\u521a\u521a\u6240\u8bf4\u7684 <code>.txt</code>\uff0c\u5e38\u7528\u7684 <code>.md</code>\uff08<code>Markdown</code>\u98ce\u683c\u6587\u672c\uff09\uff0c\u8fd8\u6709\u5927\u5bb6\u7f16\u5199\u4ee3\u7801\u53ef\u80fd\u9047\u5230\u7684 <code>.c</code> <code>.h</code> <code>.cpp</code> <code>.py</code>\uff0c\u5199\u8fc7\u7f51\u9875\u7684\u540c\u5b66 \u5e94\u8be5\u4e5f\u4f1a\u56de\u5fc6\u8d77\u6765 <code>.html</code> <code>.xml</code>\u8fd9\u4e9b\u683c\u5f0f\u6587\u672c\uff0c\u8fd8\u6709\u4e00\u4e9b\u914d\u7f6e\u6587\u4ef6\u548c\u4e0d\u5e26\u540e\u7f00\u7684\u6587\u4ef6\uff0c\u4e5f\u90fd\u662f\u7eaf\u6587\u672c\u6587\u4ef6\u3002\u6253\u5f00\u5b83\u4eec\u9700\u8981\u4e00\u4e2a\u80fd\u8bfb\u61c2\u76f8\u5e94\u6587\u5b57 / \u5b57\u7b26\u7f16\u7801\u7684\u8f6f\u4ef6\u6216\u7a0b\u5e8f\uff0c\u4e00\u822c\u8fd9\u79cd\u7a0b\u5e8f\u7684\u540d\u5b57\u662f<code>\u6587\u672c\u7f16\u8f91\u5668</code>\u3002</p>"},{"location":"LECTURE/Linux/linux/#_9","title":"\u5a92\u4f53\u6587\u4ef6","text":"<p>\u6587\u4ef6\u53ea\u6709\u4e00\u79cd\uff0c\u5c31\u662f<code>0</code>\u548c<code>1</code>\u7684\u4e32\u3002\u5206\u7c7b\u521a\u521a\u8bf4\u4e86\u4e00\u79cd\uff0c\u662f\u7eaf\u6587\u672c\u6587\u4ef6\u3002\u90a3\u4e48\u5982\u4f55\u5b58\u50a8\u4e00\u4e9b\u5a92\u4f53\u6587\u4ef6\u5462\uff1f\u6216\u8005\u8bf4\uff0c\u5982\u4f55\u628a\u5a92\u4f53\u6620\u5c04\u6210<code>0</code>\u548c<code>1</code>\u7684\u4e32\u5462\uff1f\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4e00\u5f20\u7535\u5b50\u56fe\u7247\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4e8c\u7ef4\u77e9\u9635\uff0c\u5b58\u50a8\u7740\u6bcf\u4e2a\u50cf\u7d20\u7684\u8272\u5f69\u2014\u2014\u6211\u4eec\u5148\u7528\u4e24\u4e2a\u6574\u6570\u5206\u522b\u8868\u793a\u77e9\u9635\u7684\u884c\u548c\u5217\uff0c\u7136\u540e\u4f7f\u7528\u4e00\u8fde\u4e32\u7684\u6574\u6570\uff0c\u8868\u793a\u4ece\u7b2c\u4e00\u5757\u50cf\u7d20\u5230\u6700\u540e\u4e00\u5757\u50cf\u7d20\u7684\u8272\u5f69\u503c\uff1b\u518d\u5c06\u8fd9\u4e9b\u6574\u6570\u90fd\u53d8\u6210<code>0</code>\u548c<code>1</code>\uff0c\u6211\u4eec\u5c31\u5f97\u5230\u4e86\u7528<code>0</code>\u548c<code>1</code>\u8868\u793a\u7684\u5a92\u4f53\u6587\u4ef6\uff1b\u7535\u5b50\u97f3\u4e50\u4e5f\u662f\u4e00\u6837\u7684\uff0c\u6211\u4eec\u53ef\u4ee5\u5bf9\u8fde\u7eed\u7684\u97f3\u4e50\u54cd\u5ea6\u8fdb\u884c\u91c7\u6837\uff0c\u5c06\u91c7\u6837\u5f97\u5230\u7684\u6570\u503c\u53d8\u4e3a<code>0</code>\u548c<code>1</code>\uff0c\u6328\u4e2a\u6392\u8d77\u6765\uff0c\u5c31\u5f97\u5230\u4e86<code>0</code>\u548c<code>1</code>\u7ec4\u6210\u7684\u4e00\u9996\u97f3\u4e50\uff1b\u6211\u4eec\u5c06\u8fd9\u4e2a\u8fc7\u7a0b\u79f0\u4e3a\u7f16\u7801\u3002\u4e0d\u8fc7\u6211\u4eec\u5f53\u7136\u8981\u7ea6\u5b9a\u5982\u4f55\u6253\u5f00\u8fd9\u4e9b\u6587\u4ef6\u4e86\uff0c\u6bd4\u5982\u6309\u7167\u521a\u521a\u7684\u601d\u8def\uff0c\u5982\u679c\u6709\u4e2a\u8f6f\u4ef6\u60f3\u6253\u5f00\u67d0\u79cd\u56fe\u7247\uff0c\u5b83\u5f97\u77e5\u9053\u8fd9\u4e2a\u56fe\u7247\u662f\u600e\u4e48\u751f\u6210\u7684\uff0c\u7136\u540e\u7528\u76f8\u53cd\u7684\u65b9\u5f0f\u8fdb\u884c\u89e3\u7801\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8fd9\u79cd\u5a92\u4f53\u6587\u4ef6\uff0c\u9700\u8981\u4e13\u95e8\u5f00\u53d1\u7684\u7a0b\u5e8f\u6765\u6253\u5f00\uff0c\u5bf9\u6587\u4ef6\u505a\u89e3\u6790\u624d\u80fd\u5f97\u5230\u5bf9\u4eba\u6765\u8bf4\u6709\u610f\u4e49\u7684\u5a92\u4f53\u5185\u5bb9\u3002</p> <p>\uff08\u5e38\u89c1\u7684\u5a92\u4f53\u6587\u4ef6\uff09\u5176\u5b9e\u6700\u5e38\u89c1\u7684\u5a92\u4f53\u6587\u4ef6\u5c31\u662f\u56fe\u7247\uff08<code>.jpg</code> <code>.png</code> <code>.raw</code>\uff09\u3001\u89c6\u9891\uff08<code>.h264</code> <code>.hevc</code> <code>.yuv</code>\uff09\u3001\u97f3\u4e50\uff08<code>.mp3</code> <code>.flac</code> <code>.wav</code>\uff09\u4e86\u3002\u5f53\u7136\u5c06\u8fd9\u4e9b\u5a92\u4f53\u7ec4\u5408\u8d77\u6765\u7684\u6587\u4ef6\u4e5f\u90fd\u662f\u5a92\u4f53\u6587\u4ef6\u3002\u6bd4\u5982\u4f60\u53ef\u4ee5\u5728<code>Microsoft Word</code>\u91cc\u9762\u63d2\u5165\u56fe\u7247\uff0c\u5728<code>Microsoft Powerpoint</code>\u91cc\u63d2\u5165\u97f3\u4e50\uff0c\u90a3\u4e48<code>.docx</code> <code>.pptx</code>\u5f53\u7136\u7b97\u662f\u8fd9\u7c7b\u6587\u4ef6\uff1b<code>.pdf</code>\u5f53\u7136\u4e5f\u7b97\u3002\u628a\u89c6\u9891\u548c\u97f3\u9891\u8f68\u9053\u7ec4\u88c5\u5728\u4e00\u8d77\u7684\u5c01\u88c5\u6587\u4ef6\uff0c\u6bd4\u5982<code>.mp4</code>\uff0c\u4e5f\u662f\u8fd9\u6837\u7684\u6587\u4ef6\uff1b\u538b\u7f29\u6587\u4ef6<code>.zip</code> <code>.rar</code>\u4e5f\u7b97\u662f\u3002</p> <p>\uff08\u901a\u8fc7\u6587\u4ef6\u540e\u7f00\u51b3\u5b9a\u6253\u5f00\u65b9\u5f0f\uff09\u90a3\u4e48\u5982\u4f55\u6253\u5f00\u8fd9\u7c7b\u6587\u4ef6\u5462\uff1f\u672c\u8d28\u90fd\u662f<code>0</code>\u548c<code>1</code>\uff0c\u600e\u4e48\u77e5\u9053\u91cc\u9762\u662f\u97f3\u4e50\u8fd8\u662f\u89c6\u9891\u5462\uff1f\u8fd9\u5c31\u8981\u8bf4\u5230\u540e\u7f00\u540d\u4e86\u3002\u6bcf\u4e2a\u6587\u4ef6\u90fd\u6709\u4e00\u4e2a\u540d\u5b57\uff0c\u6bd4\u5982<code>TODO.txt</code> <code>Journey.mp3</code> <code>\u526a\u8f91\u5bfc\u51fa.mp4</code>\uff0c\u540d\u5b57\u4e00\u822c\u5206\u4e3a\u4e24\u90e8\u5206\uff0c<code>.</code>\u524d\u9762\u662f\u6587\u4ef6\u540d\uff0c<code>.</code>\u540e\u9762\u662f\u540e\u7f00\u540d\u3002\u64cd\u4f5c\u7cfb\u7edf\u901a\u8fc7\u540e\u7f00\u540d\u6765\u51b3\u5b9a\u8fd9\u4e2a\u6587\u4ef6\u53ef\u4ee5\u7528\u4ec0\u4e48\u7a0b\u5e8f\u6765\u6253\u5f00\uff1b\u5c06\u4e00\u4e2a\u6587\u4ef6\u9001\u5165\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd9\u4e2a\u5e94\u7528\u7a0b\u5e8f\u4e5f\u4f1a\u6839\u636e\u540e\u7f00\u540d\u6765\u51b3\u5b9a\u5982\u4f55\u5904\u7406\u8fd9\u4e2a\u6587\u4ef6\uff1b\u6bd4\u5982\u4e0a\u9762\u7684\u4e09\u4e2a\u6587\u4ef6\u3002\u6240\u4ee5\u8bf4\u540e\u7f00\u540d\u8fd8\u662f\u5f88\u91cd\u8981\u7684\u3002\uff08\u6ce8\uff1a\u540e\u7f00\u540d\u662f\u6587\u4ef6\u540d\u5b57\u7684\u4e00\u90e8\u5206\uff09</p>"},{"location":"LECTURE/Linux/linux/#_10","title":"\u7a0b\u5e8f","text":"<p>\u7136\u540e\u6765\u8bf4\u8bf4\u6700\u540e\u4e00\u79cd<code>0</code>\u548c<code>1</code>\u7ec4\u6210\u7684\u6587\u4ef6\uff0c\u7a0b\u5e8f\u3002\u5982\u679c\u5927\u5bb6\u5b66\u8fc7<code>\u6570\u5b57\u903b\u8f91\u4e0e\u5904\u7406\u5668\u57fa\u7840</code>\u6216\u8005<code>\u8ba1\u7b97\u673a\u7ec4\u6210\u67b6\u6784</code>\u6216\u8005<code>\u64cd\u4f5c\u7cfb\u7edf</code>\u8fd9\u6837\u7684\u8bfe\u7a0b\u3001\u5bf9\u5904\u7406\u5668\uff08CPU\uff09\u7684\u5de5\u4f5c\u65b9\u5f0f\u6709\u4e00\u5b9a\u7684\u4e86\u89e3\uff0c\u90a3\u4e48\u4f1a\u77e5\u9053\u2014\u2014\u6211\u4eec\u7528\u4ee3\u7801\u7f16\u5199\u7684\u7a0b\u5e8f\u7ecf\u8fc7\u7f16\u8bd1\u94fe\u63a5\u4f1a\u53d8\u6210\u4e00\u7cfb\u5217\u7684\u673a\u5668\u6307\u4ee4\uff1b\u8fd9\u4e9b\u673a\u5668\u6307\u4ee4\u4e00\u6761\u5c31\u662f<code>64\u4e2a</code>\uff08\u6216<code>32\u4e2a</code>\uff09<code>0</code>\u548c<code>1</code>\uff0c\u4e0d\u540c\u7684\u6307\u4ee4\u987a\u5e8f\u6392\u5217\uff0c\u5c31\u53d8\u6210\u4e86\u7a0b\u5e8f\uff08\u5982<code>.exe</code>\u6587\u4ef6\uff09\u3002\u6253\u5f00\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u672c\u8d28\u4e0a\u662f\u5f00\u59cb\u6267\u884c\u7a0b\u5e8f\u4e2d\u673a\u5668\u7801\u7684\u8fc7\u7a0b\u3002\uff08\u8bb2\u5230\u8fd9\u91cc\u6211\u4eec\u5176\u5b9e\u548c\u547d\u4ee4\u884c\u7a0b\u5e8f\u5df2\u7ecf\u975e\u5e38\u63a5\u8fd1\u4e86\uff01\uff09</p>"},{"location":"LECTURE/Linux/linux/#_11","title":"\u603b\u7ed3","text":"<p>\u505a\u4e00\u4e2a\u5c0f\u7ed3\uff0c\u8ba1\u7b97\u673a\u4e2d\u6587\u4ef6\u5b58\u50a8\u5728\u786c\u76d8\u91cc\u9762\uff0c\u672c\u8d28\u4e0a\u90fd\u662f<code>0</code>\u548c<code>1</code>\u3002\u5982\u679c\u5206\u7c7b\u53ef\u4ee5\u5927\u81f4\u5206\u4e3a\u7eaf\u6587\u672c\u6587\u4ef6\uff08\u7531\u5b57\u7b26\u7f16\u7801\u7ec4\u6210\uff09\u3001\u5a92\u4f53\u6587\u4ef6\uff08\u7531\u6309\u7167\u4e00\u5b9a\u65b9\u5f0f\u7ec4\u7ec7\u7684\u5a92\u4f53\u4fe1\u606f\u6784\u6210\uff09\u3001\u7a0b\u5e8f\uff08\u7531CPU\u53ef\u4ee5\u76f4\u63a5\u8fd0\u884c\u7684\u673a\u5668\u7801\u6784\u6210\uff09\u3002</p> <p>\u6587\u4ef6\u7684\u540d\u5b57\u4e00\u822c\u7531\u4e24\u90e8\u5206\u6784\u6210\uff0c\u524d\u534a\u90e8\u5206\u4e3a\u53ef\u4ee5\u968f\u4fbf\u8d77\u7684\u6587\u4ef6\u540d\u79f0\uff0c\u540e\u534a\u90e8\u5206\u7528\u540e\u7f00\u540d\u6765\u8868\u793a\u8be5\u6587\u4ef6\u7684\u7c7b\u578b\uff0c\u4e00\u822c\u7531\u751f\u6210\u8be5\u6587\u4ef6\u7684\u8f6f\u4ef6\u8fdb\u884c\u786e\u5b9a\uff0c\u7528\u6237\u4e0d\u5fc5\u66f4\u6539\uff1b\u64cd\u4f5c\u7cfb\u7edf\u5219\u901a\u8fc7\u6587\u4ef6\u540e\u7f00\u540d\u51b3\u5b9a\u53ef\u4ee5\u7528\u54ea\u4e2a / \u4e9b\u7a0b\u5e8f\u6765\u6253\u5f00\u8be5\u6587\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u9700\u8981\u6765\u8ba4\u8bc6\u6587\u4ef6\u5728\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u4e2d\u5230\u5e95\u653e\u5728\u54ea\u91cc\uff0c\u521d\u6b65\u5bf9\u6587\u4ef6\u7cfb\u7edf\u6709\u4e00\u4e2a\u4e86\u89e3\u3002</p>"},{"location":"LECTURE/Linux/linux/#_12","title":"\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u4e0d\u540c\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u6709\u6240\u4e0d\u540c\uff0c\u4f46\u601d\u60f3\u90fd\u662f\u4e00\u6837\u7684\u3002\u6211\u4f1a\u4e3b\u8981\u4ee5<code>macOS</code>\uff08\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf\uff09\u4e3a\u4f8b\u8bf4\u660e\u6587\u4ef6\u8def\u5f84\u3002<code>Windows</code>\u4e5f\u662f\u7c7b\u4f3c\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#finder","title":"\u5bf9Finder\u505a\u4e00\u4e9b\u914d\u7f6e","text":"<p>\u5728<code>macOS</code>\u4e2d\uff0c\u4f60\u9700\u8981\u5bf9<code>Finder</code>\u505a\u4e00\u4e9b\u8bbe\u7f6e\u624d\u80fd\u770b\u5230\u6587\u4ef6\u7684\u8def\u5f84\u3002</p> <p>\u5728<code>Finder</code>\u7684 <code>\u504f\u597d\u8bbe\u7f6e - \u9ad8\u7ea7</code> \u4e2d\u6253\u5f00<code>Show all filename extensions</code></p> <p></p> <p>\u5728Finder\u7684 <code>\u504f\u597d\u8bbe\u7f6e - \u8fb9\u680f</code> \u4e2d<code>Favorites</code>\u52fe\u9009\u50cf\u623f\u5b50\u4e00\u6837\u7684\u5bb6\u76ee\u5f55\uff0c\u5728<code>Locations</code>\u52fe\u9009\u786c\u76d8<code>Hard Disk</code>\u3002</p> <p></p> <p></p>"},{"location":"LECTURE/Linux/linux/#_13","title":"\u67e5\u770b \u6839\u76ee\u5f55 \u5bb6\u76ee\u5f55","text":"<p>\u8fd9\u65f6\u6211\u4eec\u6765\u5230\u786c\u76d8\u7535\u8111\u4e0a\u7684\u786c\u76d8\uff0c\u7ee7\u7eed\u505a\u4e00\u4e9b\u8c03\u6574\uff1a</p> <p>\u23182\uff1a\u6309\u7167\u5217\u8868\u67e5\u770b</p> <p>\u2325\u2318S\uff1a\u6253\u5f00\u8fb9\u680f</p> <p>\u2325\u2318P\uff1a\u6253\u5f00\u663e\u793a\u8def\u5f84</p> <p>\uff08\u8ba4\u8bc6\u6587\u4ef6\u7cfb\u7edf\u7684\u6811\u72b6\u7ed3\u6784\uff09\u53ef\u4ee5\u770b\u5230\uff0c\u4f60\u7684\u6240\u6709\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u90fd\u5728\u4f60\u7684\u786c\u76d8\u4e0b\u3002\u5177\u4f53\u6765\u770b\uff0c<code>Applications</code>\u6587\u4ef6\u5939\u91cc\u9762\u653e\u4e86\u4e0d\u5c11\u81ea\u5df1\u5b89\u88c5\u7684\u5e94\u7528\uff0c\u800c\u81ea\u5df1\u6700\u5e38\u7528\u7684\u6587\u4ef6\u5176\u5b9e\u90fd\u653e\u5728\u5bb6\u76ee\u5f55\u4e0b\uff08\u4e00\u4e2a\u623f\u5b50\u7684\u56fe\u6807\uff09\u3002</p> <p></p> <p></p>"},{"location":"LECTURE/Linux/linux/#_14","title":"\u5199\u8def\u5f84","text":"<p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u8fd9\u6837\u7684\u6811\u72b6\u7ed3\u6784\uff0c\u901a\u8fc7\u8fd9\u6837\u7684\u6811\u72b6\u7ed3\u6784\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u6587\u4ef6\u5939\u6216\u6587\u4ef6\u7684\u8def\u5f84\u3002\uff08\u5728<code>macOS</code>\u4e0a\u53ef\u4ee5\u901a\u8fc7\u2318I\u6216\u4e0b\u65b9\u8def\u5f84\u680f\u67e5\u770b\u8def\u5f84\uff0c\u6216\u8005\u76f4\u63a5\u7528 \u21e7\u2318C \u62f7\u8d1d\u8def\u5f84\uff1b<code>Windows</code>\u5219\u53ef\u4ee5\u901a\u8fc7\u8d44\u6e90\u7ba1\u7406\u5668\u4e0a\u65b9\u7684\u8def\u5f84\u680f\u67e5\u770b\u8def\u5f84\uff0c\u70b9\u51fb\u540e\u53f3\u952e\u5373\u53ef\u590d\u5236\uff09</p>"},{"location":"LECTURE/Linux/linux/#_15","title":"\u7edd\u5bf9\u8def\u5f84","text":"<p>\u6bd4\u5982\u6211\u7684\u5bb6\u76ee\u5f55\uff1a<code>/Users/yangxijie</code></p> <p>\u6bd4\u5982\u6211\u684c\u9762\u4e0a\u7684\u5f85\u529e\u4e8b\u9879\uff1a<code>/Users/yangxijie/Desktop/TODO.txt</code></p> <p>\uff08\u6839\u76ee\u5f55\uff09\u8fd9\u91cc\uff0c\u8def\u5f84\u7684\u7b2c\u4e00\u4e2a<code>/</code>\u8868\u793a\u6839\u76ee\u5f55\uff0c\u6839\u76ee\u5f55\u5c31\u662f\u4f60\u7684\u786c\u76d8\u3002\u6211\u4eec\u9a6c\u4e0a\u5c31\u8981\u5f00\u59cb\u8ba4\u8bc6<code>Linux</code>\u4e86\uff08\u5410\u69fd \u7ec8\u4e8e\u63d0\u5230\u4e86\u4e00\u6b21\uff09\uff0c<code>macOS</code>\u548c<code>Linux</code>\u64cd\u4f5c\u7cfb\u7edf\u90fd\u662f<code>\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf</code>\uff08\u6211\u4eec\u540e\u9762\u4f1a\u8bb2\uff09\uff0c\u5b83\u4eec\u6240\u4f7f\u7528\u7684\u6587\u4ef6\u7cfb\u7edf\u90fd\u662f\u4ee5\u6839\u76ee\u5f55\u5f00\u59cb\uff08<code>Windows</code>\u5219\u662f\u7528\u76d8\u7b26\u6765\u533a\u5206\uff09</p> <p>\uff08\u5bb6\u76ee\u5f55\uff09\u90a3\u4e48\u5bb6\u76ee\u5f55\u53c8\u662f\u4ec0\u4e48\u5462\uff1f\u5728<code>macOS</code>\u4e2d\u6253\u5f00 <code>\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e - \u7528\u6237\u548c\u7fa4\u7ec4</code> \u53ef\u4ee5\u770b\u5230\u5f53\u524d\u7684\u7528\u6237\u3002\u73b0\u5728\u5927\u5bb6\u7684\u7535\u8111\u53ef\u80fd\u90fd\u662f\u4e00\u4eba\u4e00\u53f0\uff0c\u4f46\u53ef\u80fd\u5341\u5e74\u524d\uff0c\u8fd8\u4f1a\u51fa\u73b0\u51e0\u4e2a\u4eba\u5408\u7528\u7535\u8111\u7684\u60c5\u51b5\uff0c\u8fd9\u65f6\u5c31\u4f1a\u521b\u5efa\u591a\u4e2a\u7528\u6237\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u6709\u4e00\u4e2a\u5bb6\u76ee\u5f55\u7528\u6765\u653e\u81ea\u5df1\u7684\u6587\u4ef6\u3002\uff08\u5728\u540e\u9762\u6211\u4eec\u8bb2\u5230\u5171\u4eab\u670d\u52a1\u5668\u8d44\u6e90\u7684\u65f6\u5019\uff0c\u4e5f\u4f1a\u63d0\u5230\u591a\u7528\u6237\u7684\u7ba1\u7406\uff09</p> <p>\u5bb6\u76ee\u5f55\u6ca1\u4ec0\u4e48\u795e\u5947\u7684\uff0c\u5c31\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u4e0d\u8fc7\u7531\u4e8e\u7ecf\u5e38\u7528\uff0c\u6240\u4ee5\u6211\u4eec\u5199\u8def\u5f84\u7684\u65f6\u5019\u53ef\u4ee5\u7528<code>~</code>\u6765\u4ee3\u66ff\u5bb6\u76ee\u5f55\u3002\u6bd4\u5982\u6211\u684c\u9762\u4e0a\u7684\u5f85\u529e\u4e8b\u9879\uff1a<code>~/Desktop/TODO.txt</code></p>"},{"location":"LECTURE/Linux/linux/#_16","title":"\u76f8\u5bf9\u8def\u5f84","text":"<p>\u4e0a\u9762\u6211\u4eec\u6240\u8bf4\u7684\u90fd\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u8def\u5f84\u4ece\u6839\u76ee\u5f55\uff08\u6216\u8005\u76d8\u7b26\uff09\u5f00\u59cb\u3002\u8fd8\u6709\u4e00\u79cd\u8def\u5f84\u7684\u5199\u6cd5\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u6bd4\u5982\u6211\u5f53\u524d\u5728\u684c\u9762\uff0c\u90a3\u4e48\u6211\u63cf\u8ff0\u684c\u9762\u4e0a\u7684\u5f85\u529e\u4e8b\u9879\u5c31\u53ef\u4ee5\u7528\u76f8\u5bf9\u8def\u5f84\uff1a<code>./TODO.txt</code>\uff1b\u63cf\u8ff0\u6211\u4e0b\u8f7d\u6587\u4ef6\u5939\u4e2d\u7684\u6587\u4ef6\u53ef\u4ee5\u7528\uff1a<code>../Downloads/MATLAB\u5927\u4f5c\u4e1a.zip</code></p> <p>\u8fd9\u91cc<code>.</code>\u6307\u5f53\u524d\u7684\u6587\u4ef6\u5939\uff0c<code>..</code>\u6307\u4e0a\u7ea7\u6587\u4ef6\u5939\uff08\u684c\u9762\u548c\u4e0b\u8f7d\u6587\u4ef6\u5939\u90fd\u5728\u5bb6\u76ee\u5f55\u4e0b\uff0c\u5b83\u4eec\u662f\u540c\u7ea7\u7684\uff09\uff1b\u4e0a\u4e0a\u7ea7\u53ef\u4ee5\u5199\u4f5c<code>../..</code></p>"},{"location":"LECTURE/Linux/linux/#_17","title":"\u9690\u85cf\u6587\u4ef6","text":"<p>\u4e0a\u9762\u6240\u8bf4\u7684\u6587\u4ef6\u7cfb\u7edf\u91cc\u53ea\u6709\u4f60\u80fd\u770b\u5230\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u8fd8\u9700\u8981\u4e86\u89e3\u66f4\u591a\u2014\u2014\u6211\u4eec\u4f7f\u7528\u5feb\u6377\u952e \u2318\u21e7. \u8ba9<code>Finder</code>\u6253\u5f00\u9690\u85cf\u6587\u4ef6\u3002\u9690\u85cf\u6587\u4ef6\u4e00\u822c\u6307\u4ee5<code>.</code>\u5f00\u5934\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\uff1b\u4e5f\u6709\u4e00\u4e9b\u6587\u4ef6\u6216\u6587\u4ef6\u5939\u867d\u7136\u4e0d\u7531<code>.</code>\u5f00\u5934\uff0c\u4f46\u4e5f\u88ab\u7cfb\u7edf\u9690\u85cf\u3002</p> <p></p> <p>\u8fd9\u4e9b\u6587\u4ef6\u4e00\u822c\u90fd\u6bd4\u8f83\u6838\u5fc3\uff0c\u5982\u679c\u7528\u6237\u4e0d\u5c0f\u5fc3\u5220\u6389\u6216\u8005\u4ec0\u4e48\u53ef\u80fd\u4f1a\u5bf9\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\u9020\u6210\u4e00\u4e9b\u5f71\u54cd\uff0c\u6240\u4ee5\u5927\u5bb6\u63a5\u89e6\u8fd9\u4e9b\u6587\u4ef6\u7684\u65f6\u5019\u8981\u5c3d\u91cf\u5c0f\u5fc3\u54e6\u3002</p> <p>\u5728\u6253\u5f00\u9690\u85cf\u6587\u4ef6\u540e\u7684\u6839\u76ee\u5f55\u4e0b\uff0c\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e2a\u6587\u4ef6\u5939<code>/bin</code>\uff0c<code>bin</code> <code>binary</code> <code>\u4e8c\u8fdb\u5236</code>\u2026\u2026\u6253\u5f00\u770b\u770b\uff0c\u53d1\u73b0\u91cc\u9762\u597d\u50cf\u6709\u4e00\u5806\u53ef\u6267\u884c\u7a0b\u5e8f\u7684\u6837\u5b50\u3002\uff08<code>exec</code> <code>executable</code> <code>\u53ef\u6267\u884c</code>\uff09</p> <p>\u2014\u2014\u597d\u4e86 \u6211\u4eec\u7ec8\u4e8e\u8981\u63a5\u89e6\u5230\u547d\u4ee4\u884c\u7a0b\u5e8f\u548c\u547d\u4ee4\u884c\u4e86\u3002</p>"},{"location":"LECTURE/Linux/linux/#_18","title":"\u8865\u5145","text":"<p>\u5728<code>macOS</code>\u4e0a\uff0c<code>.app</code>\u540e\u7f00\u7684\u6587\u4ef6\u5176\u5b9e\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u4f60\u53ef\u4ee5\u53f3\u952e<code>\u663e\u793a\u5305\u5185\u5bb9</code>\u67e5\u770b\u8fd9\u4e2a\u6587\u4ef6\u5939\u91cc\u9762\u90fd\u6709\u4ec0\u4e48\u3002</p>"},{"location":"LECTURE/Linux/linux/#_19","title":"\u603b\u7ed3","text":"<p>\u8fd9\u4e00\u5c0f\u8282\u6211\u4eec\u4e86\u89e3\u4e86<code>\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf</code>\uff08\u5982<code>macOS</code>\u3001<code>Linux</code>\uff09\u7684\u6587\u4ef6\u7cfb\u7edf\uff0c\u77e5\u9053\u4e86\u6839\u76ee\u5f55\u548c\u5bb6\u76ee\u5f55\uff0c\u80fd\u591f\u5199\u51fa\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\u548c\u76f8\u5bf9\u8def\u5f84\u3002</p> <p>\u5728<code>/bin</code>\u6587\u4ef6\u5939\u4e0b\u6211\u4eec\u53d1\u73b0\u4e86\u4e00\u4e9b\u770b\u8d77\u6765\u53ef\u4ee5\u6267\u884c\u7684\u7a0b\u5e8f\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u5c06\u4f7f\u7528<code>\u7ec8\u7aef</code>\u3001<code>shell</code>\u548c\u8fd9\u4e9b<code>\u547d\u4ee4\u884c\u7a0b\u5e8f</code>\u8fdb\u884c\u4ea4\u4e92\u3002</p>"},{"location":"LECTURE/Linux/linux/#_20","title":"\u547d\u4ee4\u884c\u7a0b\u5e8f","text":""},{"location":"LECTURE/Linux/linux/#shell","title":"\u7ec8\u7aef\u548cshell","text":"<p>\u7ec8\u7aef\u662f\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u5176\u53ef\u4ee5\u5f00\u542f\u591a\u4e2ashell\u3002shell\u4e5f\u662f\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u4f60\u53ef\u4ee5\u8ba9<code>shell</code>\u6765\u5904\u7406\u4f60\u7684\u547d\u4ee4\u3002</p> <p>\uff08\u6253\u5f00\u7ec8\u7aef\u548cshell\uff09\u6211\u8fd9\u8fb9\u6253\u5f00\u6211\u7535\u8111\u4e0a\u5b89\u88c5\u7684\u7ec8\u7aef<code>iTerm 2</code>\uff0c\u5b83\u662f\u56fe\u5f62\u5316\u7684\uff0c\u4f60\u53ef\u4ee5\u5728\u5e94\u7528\u7a0b\u5e8f\u6587\u4ef6\u5939\u627e\u5230\u5b83\u3002\u90a3\u4e48\u5982\u4f55\u5728\u7ec8\u7aef\u4e2d\u5f00\u542f<code>shell</code>\u5462\uff1f\u53ea\u8981\u6253\u5f00\u4e86\u7ec8\u7aef\uff0c\u7ec8\u7aef\u4f1a\u81ea\u52a8\u5e2e\u4f60\u6253\u5f00\u4e00\u4e2a<code>shell</code>\uff1b\u60f3\u8981\u66f4\u591a\u7684<code>shell</code>\uff0c\u53ef\u4ee5\u591a\u952e\u6807\u7b7e\u9875\uff08\u6216\u5206\u5c4f\uff09\u3002</p>"},{"location":"LECTURE/Linux/linux/#shell_1","title":"shell \u529f\u80fd \u89e3\u6790\u4f60\u8f93\u5165\u7684\u547d\u4ee4","text":""},{"location":"LECTURE/Linux/linux/#_21","title":"\u901a\u8fc7\u7edd\u5bf9\u8def\u5f84\u6253\u5f00\u547d\u4ee4\u884c\u7a0b\u5e8f\u5e76\u4f7f\u7528","text":"<p>\uff08\u901a\u8fc7<code>/bin/date</code>\u7a0b\u5e8f\u6765\u8ba4\u8bc6\u547d\u4ee4\u884c\u7a0b\u5e8f\uff09\u90a3\u4e48<code>shell</code>\u80fd\u505a\u4ec0\u4e48\u5462\uff1f\u7b2c\u4e00\u4e2a\u529f\u80fd\u2014\u2014\u901a\u8fc7\u7edd\u5bf9\u8def\u5f84\u6253\u5f00\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u6bd4\u5982\u521a\u521a\u770b\u5230\u4e86\u4e00\u4e2a\u7a0b\u5e8f\u540d\u4e3a<code>date</code>\uff0c\u6211\u4eec\u53ef\u4ee5\u5199\u51fa\u5176\u7edd\u5bf9\u8def\u5f84\uff0c\u590d\u5236\u5230\u7ec8\u7aef\u7684<code>shell</code>\u4e2d\uff0c\u7136\u540e\u6572\u51fb\u56de\u8f66\u3002</p> <pre><code>$ /bin/date\nThu Jul  8 16:35:04 CST 2021\n</code></pre> <p>\u8fd9\u4e2a\u7a0b\u5e8f\u6253\u5f00\u4e4b\u540e\uff0c\u6ca1\u6709\u8f93\u5165\uff0c\u4ea7\u751f\u4e86\u4e00\u4e2a\u8f93\u51fa\uff0c\u8f93\u51fa\u4e3a\u4e00\u884c\u5b57\u7b26\u4e32\uff0c\u4e3a\u5f53\u524d\u7684\u7cfb\u7edf\u65f6\u95f4\u3002</p> <p>\u5f53\u7136\u6211\u4eec\u4e5f\u53ef\u4ee5\u7ed9\u5b83\u4e00\u4e9b\u8f93\u5165\uff1a</p> <pre><code>$ /bin/date \"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\"\nDATE: 2021-07-08\nTIME: 16:36:41\n</code></pre> <p>\u8fd9\u91cc\u6211\u4eec\u53d1\u73b0\u5728\u7a0b\u5e8f\u7684\u7edd\u5bf9\u8def\u5f84\u548c\u8f93\u5165\uff08\u4e00\u4e2a\u7528\u6765\u683c\u5f0f\u5316\u7684\u5b57\u7b26\u4e32\uff09\u4e4b\u95f4\uff0c\u6709\u4e00\u4e2a\u7a7a\u683c\u3002\u8fd9\u4e00\u4e2a\u7a7a\u683c\u4f5c\u4e3ashell\u533a\u5206\u7a0b\u5e8f\u548c\u8f93\u5165\uff08\u53c2\u6570\uff09\u7684\u5206\u9694\u7b26\u3002</p> <p>\u6211\u4eec\u8fd8\u53ef\u4ee5\u8f93\u5165\u4e00\u4e9b\u5176\u4ed6\u7684\u53c2\u6570\uff0c\u6bd4\u5982<code>-r</code>\uff1a</p> <pre><code>-r seconds - Print the date and time represented by seconds, where seconds is the number of seconds since the Epoch (00:00:00 UTC, January 1, 1970)\n\n-r filename - Print the date and time of the last modification of filename.\n</code></pre> <p>\u6bd4\u5982\u6211\u5e0c\u671b\u770b\u770b\u81ea\u8ba1\u7b97\u673a\u7684\u96f6\u65f6\u8fc7<code>10\u4ebf\u79d2</code>\u540e\u7684\u65f6\u95f4\u662f\u591a\u5c11\uff0c\u4e5f\u770b\u770b\u6211\u684c\u9762\u4e0a<code>TODO.txt</code>\u4ec0\u4e48\u65f6\u5019\u66f4\u65b0\u8fc7\uff1a</p> <pre><code>$ /bin/date -r 1000000000\nSun Sep  9 09:46:40 CST 2001\n\n$ /bin/date -r /Users/yangxijie/Desktop/TODO.txt\nThu Jul  8 16:48:19 CST 2021\n</code></pre> <p>\u603b\u7ed3\u4e00\u4e0b\uff0c\u6211\u4eec\u521a\u521a\u8ba4\u8bc6\u4e86\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f<code>/bin/date</code>\u3002\u5176\u76f4\u63a5\u8fd0\u884c\u53ef\u4ee5\u6253\u5370\u5f53\u524d\u7684\u7cfb\u7edf\u65f6\u95f4\uff1b\u7ed9\u4e00\u4e9b\u53c2\u6570\uff08\u76f8\u5f53\u4e8e\u7279\u6b8a\u7684\u8f93\u5165\uff09\u53ef\u4ee5\u6267\u884c\u4e00\u4e9b\u64cd\u4f5c\uff0c\u6bd4\u5982\u67e5\u770b\u6587\u4ef6\u7684\u6700\u540e\u4fee\u6539\u65f6\u95f4\u3001\u6bd4\u5982\u505a\u4e00\u4e9b\u8ba1\u7b97\u5c06\u79d2\u8f6c\u4e3a\u683c\u5f0f\u5316\u7684\u65f6\u95f4\uff1b\u6700\u7ec8\u8fd4\u56de\u4e00\u4e2a\u5b57\u7b26\u4e32\u3002\u7ec8\u7aef\u5219\u901a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u3001\u5c06\u8fd9\u4e2a\u5b57\u7b26\u4e32\u663e\u793a\u5728\u4f60\u7684\u5c4f\u5e55\u4e0a\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u547d\u4ee4\u884c\u7a0b\u5e8f\u4e00\u822c\u5c06\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8f93\u5165\u548c\u8f93\u51fa\uff1b\u8f93\u5165\u8f93\u51fa\u8fd9\u4e00\u70b9\u548cGUI\u7a0b\u5e8f\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#shell_2","title":"\u901a\u8fc7\u547d\u4ee4\u8ba9shell\u6765\u89e3\u6790\u4f60\u8981\u8c03\u7528\u7684\u7a0b\u5e8f","text":"<p><code>/bin/date</code>\u8fd9\u4e2a\u7a0b\u5e8f\uff0c\u5982\u679c\u6211\u4eec\u6ca1\u6709\u5728\u4e4b\u524d\u673a\u7f18\u5de7\u5408\u7684\u5728<code>/bin</code>\u76ee\u5f55\u4e0b\u53d1\u73b0\u5b83\uff0c\u6211\u4eec\u8fd8\u600e\u4e48\u4f7f\u7528\u7ec8\u7aef\u6765\u67e5\u770b\u7cfb\u7edf\u65f6\u95f4\u5462\uff1f\u4e8b\u5b9e\u4e0a\uff0c\u6211\u8981\u8c03\u7528\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u5982\u679c\u603b\u662f\u5199\u5b83\u7684\u7edd\u5bf9\u8def\u5f84\uff0c\u90a3\u4e0d\u662f\u5f88\u7d2f\u5417\uff1f<code>date</code>\u8fd9\u4e2a\u7a0b\u5e8f\u8fd8\u597d\uff0c\u4f46\u5982\u679c\u662f\u5176\u4ed6\u653e\u5728\u591a\u7ea7\u6587\u4ef6\u4e0b\u7684\u6570\u636e\uff0c\u90a3\u4e0d\u662f\u5199\u8def\u5f84\u5c31\u8981\u5199\u597d\u4e45\u5417\uff1f</p> <p>\u6bd4\u8f83\u76f4\u89c2\u7684\u8ba4\u8bc6\u662f\uff0c\u6211\u4eec\u76f4\u63a5\u8f93\u5165\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u540d\u5b57<code>date</code>\uff0c\u7136\u540e\u8fd9\u4e2a\u7a0b\u5e8f\u88ab\u8c03\u7528\u3002\u6765\u8bd5\u8bd5\u53ef\u5426\uff1f</p> <pre><code>$ date\n</code></pre> <p>\u6211\u4eec\u53d1\u73b0\u662f\u53ef\u4ee5\u7684\u3002\u4e0d\u8fc7\u8fd9\u80cc\u540e\u662f\u4ec0\u4e48\u539f\u7406\u5462\uff1f\u5176\u5b9e\u662f<code>shell</code>\u7acb\u4e86\u5927\u529f\u52b3\u3002\u6211\u4eec\u521a\u521a\u8bf4\u5230\uff0c\u4f60\u53ef\u4ee5\u5728<code>shell</code>\u4e2d\u8f93\u5165\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u7edd\u5bf9\u8def\u5f84\u4ee5\u8c03\u7528\u6253\u5f00\u8fd9\u4e2a\u7a0b\u5e8f\u3002\u4f46\u5176\u5b9e<code>shell</code>\u7684\u4f5c\u7528\u4e0d\u662f\u8bc6\u522b\u8def\u5f84\uff0c\u800c\u662f<code>\u89e3\u6790\u5b57\u7b26\u4e32</code>\u3002\u5f53\u4f60\u8f93\u5165\u4e00\u4e32\u5b57\u7b26\uff0c<code>shell</code>\u5c31\u4f1a\u53bb\u627e\u8fd9\u4e2a\u5b57\u7b26\u4e32\u5bf9\u5e94\u7684\u7a0b\u5e8f\u3002\u5982\u679c\u8fd9\u4e2a\u5b57\u7b26\u4e32\u662f\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\uff0c\u90a3<code>shell</code>\u5f53\u7136\u53ef\u4ee5\u76f4\u63a5\u627e\u5230\u4f60\u60f3\u8c03\u7528\u7684\u7a0b\u5e8f\uff1b\u5982\u679c\u662f\u4e00\u4e2a\u5355\u8bcd\uff0c<code>shell</code>\u4f1a\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u627e\u8fd9\u4e2a\u5355\u8bcd\u5bf9\u5e94\u7684\u7a0b\u5e8f\u2014\u2014\u56e0\u6b64\uff0c\u4f60\u53ef\u4ee5\u901a\u8fc7\u4e00\u4e2a\u5355\u8bcd\u65b9\u4fbf\u7684\u8c03\u7528\u4e00\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\uff08\u5982\u679c\u8fd9\u4e2a\u7a0b\u5e8f\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u7684\u8bdd\uff09\u3002</p> <p>\u90a3\u4e48\u4ec0\u4e48\u662f\u73af\u5883\u53d8\u91cf\u5462\uff1f\u5176\u5b9e\u5c31\u662f\u4e00\u7cfb\u5217\u5b58\u653e\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u6587\u4ef6\u5939\u3002\u4f7f\u7528\u4e0b\u9762\u7684\u547d\u4ee4\u53ef\u4ee5\u67e5\u770b\u73af\u5883\u53d8\u91cf\uff1a</p> <pre><code>$ /bin/echo $PATH\n/usr/local/sbin:/usr/local/bin:/usr/local/sbin:/usr/local/bin:/Users/yangxijie/opt/anaconda3/condabin:/usr/local/sbin:/usr/local/bin:/Users/yangxijie/bin:/usr/local/bin:/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware Fusion.app/Contents/Public:/Library/TeX/texbin:/usr/local/aria2/bin:/usr/local/share/dotnet:~/.dotnet/tools:/Library/Apple/usr/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/Applications/Visual Studio Code.app/Cont\n</code></pre> <p>\u6211\u4eec\u53d1\u73b0\u8fd9\u786e\u5b9e\u662f\u4e00\u7cfb\u5217\u8def\u5f84\uff0c\u4f7f\u7528\u5192\u53f7\u9694\u5f00\u3002\u5728\u5176\u4e2d\u6211\u4eec\u53d1\u73b0\u4e86<code>/bin</code>\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5f53\u4f60\u8f93\u5165\u4e00\u4e2a\u5355\u8bcd\u7684\u65f6\u5019\uff0c<code>shell</code>\u5c31\u4f1a\u53bb\u73af\u5883\u53d8\u91cf\u4e0b\u627e\u8fd9\u4e2a\u5355\u8bcd\u5bf9\u5e94\u7684\u7a0b\u5e8f\uff0c\u4ece\u800c\u786e\u5b9a\u4f60\u8981\u8c03\u7528\u7684\u7a0b\u5e8f\u3002</p> <p>\u7531\u4e8e<code>/bin/echo</code>\u548c<code>/bin/date</code>\u90fd\u5728<code>/bin</code>\u6587\u4ef6\u5939\u4e0b\uff0c\u6211\u4eec\u53ef\u4ee5\u4e0d\u7528\u5199\u7edd\u5bf9\u8def\u5f84\uff0c\u800c\u662f\u7528\u5355\u8bcd<code>echo</code> <code>date</code>\u6765\u544a\u8bc9<code>shell</code>\u6211\u4eec\u60f3\u6253\u5f00\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u5f53\u53ef\u4ee5\u7701\u7565\u65f6\uff0c\u6211\u4eec\u4e0d\u59a8\u5c06\u8fd9\u4e9b\u5355\u8bcd\u6210\u4e3a\u547d\u4ee4\uff1b\u6709\u65f6\u4e5f\u628a\u5728shell\u4e2d\u8f93\u5165\u7684\u4e00\u6574\u884c\u5b57\u7b26\u4e32\u79f0\u4f5c\u547d\u4ee4\u3002\u4e5f\u6b63\u662f\u56e0\u6b64\uff0c\u6211\u4eec\u5c06\u8fd9\u4e9b\u4e8c\u8fdb\u5236\u7684\u7a0b\u5e8f\u79f0\u4f5c\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002</p> <p>\u6211\u4eec\u4e4b\u540e\u90fd\u4f1a\u4f7f\u7528\u547d\u4ee4\u8fd9\u4e2a\u8bcd\u8bed\uff0c\u4f46\u522b\u5fd8\u4e86\u672c\u8d28\u4e0a\u4f60\u4f7f\u7528\u547d\u4ee4\u662f\u5728\u8c03\u7528\u7a0b\u5e8f\u5e76\u7ed9\u8fd9\u4e2a\u7a0b\u5e8f\u63d0\u4f9b\u8f93\u5165/\u53c2\u6570\u3002</p> <p>\u518d\u89e3\u91ca\u4e00\u4e0b\u4e0a\u9762\u7684<code>/bin/echo $PATH</code>\u3002<code>echo</code>\u7a0b\u5e8f\u80fd\u591f\u6253\u5370\u51fa\u4f60\u8f93\u5165\u7684\u4e1c\u897f\uff0c\u4e00\u822c\u6765\u8bf4\u662f\u539f\u5c01\u4e0d\u52a8\uff1b\u4f46\u5982\u679c\u4f60\u7684\u8f93\u5165\u662fshell\u53d8\u91cf\uff08\u7528<code>$</code>\u5f00\u5934\u8868\u793ashell\u4e2d\u7684\u4e00\u4e2a\u53d8\u91cf\uff0c<code>$PATH</code>\u6307\u7684\u5c31\u662fshell\u7684\u73af\u5883\u53d8\u91cf\uff09\uff0c\u90a3\u4e48<code>echo</code>\u7a0b\u5e8f\u5c31\u4f1a\u6253\u5370\u51fa\u8fd9\u4e2a\u53d8\u91cf\u7684\u503c\u3002\u50cf\u4e0a\u9762\u90a3\u6837\u3002</p> <pre><code>$ date\nFri Jul  9 15:00:27 CST 2021\n$ echo hhhhh\nhhhhh\n$ a=1\n$ echo a\na\n$ echo $a\n1\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_22","title":"\u81ea\u5df1\u5199\u547d\u4ee4\u884c\u7a0b\u5e8f","text":"<p>\u521a\u521a\u6211\u4eec\u521d\u8bc6\u4e86\u4e00\u4e9b\u7c7bUnix\u7cfb\u7edf\u81ea\u5e26\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u5f53\u7136\u8fd9\u4e9b\u7a0b\u5e8f\u6709\u5f88\u591a\uff0c\u5927\u5bb6\u5982\u679c\u719f\u7ec3\u638c\u63e1\uff0c\u4e0d\u8bba\u662f\u5728\u4ee5\u540e\u7f16\u5199\u4ee3\u7801\u8fd8\u662f\u5b9e\u9645\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\u90fd\u4f1a\u6709\u5f88\u5927\u7684\u6548\u7387\u63d0\u5347\u3002\u6211\u4eec\u4e4b\u540e\u4e5f\u4f1a\u4ecb\u7ecd\u4e00\u4e9b\u6bd4\u8f83\u91cd\u8981\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u4e0d\u8fc7\u8fd9\u65f6\u6709\u4e9b\u540c\u5b66\u5c31\u4f1a\u95ee\u4e86\uff0c\u300c\u6211\u80fd\u7f16\u5199\u8fd9\u6837\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u5417\uff1f\u300d</p> <p>\u5f53\u7136\u53ef\u4ee5\u4e86\uff01\u76f8\u4fe1\u5728\u5ea7\u7684\u5927\u591a\u6570\u540c\u5b66\u90fd\u6709\u5199\u8fc7<code>C</code>\u548c<code>C++</code>\u7a0b\u5e8f\u7684\u7ecf\u5386\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c1d\u8bd5\u7528<code>\u7ec8\u7aef</code>\u548c<code>shell</code>\u6765\u5199\u4e00\u4e2a\u81ea\u5df1\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u3002\u6211\u4eec\u5e0c\u671b\u80fd\u5728\u684c\u9762\u4e0a\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939\u5185\u7f16\u5199<code>cpp</code>\u4ee3\u7801\uff0c\u7136\u540e\u5c06\u5176\u7f16\u8bd1\u4e3a\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u5e76\u6267\u884c\u5b83\u3002</p>"},{"location":"LECTURE/Linux/linux/#_23","title":"\u5207\u6362\u8def\u5f84","text":"<p>\u4f7f\u7528<code>pwd</code>\uff08<code>print working directory</code>\uff09\u547d\u4ee4\u53ef\u4ee5\u83b7\u5f97\u5f53\u524dshell\u7684\u5de5\u4f5c\u8def\u5f84\u3002\u50cf\u6211\u7684\u7ec8\u7aef\u7ecf\u8fc7\u914d\u7f6e\uff0c\u6240\u4ee5\u8fd9\u4e2a\u8def\u5f84\u53ef\u4ee5\u76f4\u63a5\u770b\u5230\u3002\u4f7f\u7528<code>cd</code>\uff08<code>change directory</code>\uff09\u8def\u5f84\u53ef\u4ee5\u66f4\u6362\u5f53\u524d\u8def\u5f84\u3002\u5728\u5f53\u524d\u8def\u5f84\u4e0b\uff0c\u53ef\u4ee5\u4f7f\u7528<code>mkdir</code>\uff08<code>make directory</code>\uff09\u547d\u4ee4\u521b\u5efa\u6587\u4ef6\u5939\uff0c\u6587\u4ef6\u5939\u4e5f\u53ef\u4ee5\u4ee5\u76f8\u5bf9\u8def\u5f84\u7684\u5f62\u5f0f\u5448\u73b0\u3002<code>ls</code>\uff08<code>list</code>\uff09\u547d\u4ee4\u5219\u53ef\u4ee5\u5217\u51fa\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u3002</p> <pre><code>$ pwd\n/Users/yangxijie\n$ ls\nApplications\nDesktop\nDocuments\nDownloads\n\u2026\n$ cd Desktop\n$ ls\n$ cd CODE\ncd: no such file or directory: CODE\n$ mkdir CODE\n$ cd CODE\n$ pwd\n/Users/yangxijie/desktop/CODE\n</code></pre> <p>\u8fd9\u6837\u6211\u4eec\u5c31\u6210\u529f\u5207\u6362\u4e86<code>shell\u7684\u5de5\u4f5c\u8def\u5f84</code>\uff08\u5f53\u524d\u8def\u5f84\uff09\u3002</p>"},{"location":"LECTURE/Linux/linux/#_24","title":"\u7f16\u5199\u4ee3\u7801","text":"<p>\u6211\u4eec\u60f3\u5199\u4e0b\u9762\u7684\u8fd9\u4e2a\u5c0f\u7a0b\u5e8f\uff08\u8f93\u5165\u4f60\u7684\u540d\u5b57\uff0c\u7a0b\u5e8f\u8ddf\u4f60\u6253\u62db\u547c\uff09\uff1a</p> <pre><code>#include&lt;cstdio&gt;\n\nint main(){\n  char name[100];\n  printf(\"Please input your name: \");\n  scanf(\"%s\", name);\n  printf(\"Hello, %s\", name);\n}\n</code></pre> <p>\u5148\u7528\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u6587\u672c\u7f16\u8f91\u5668<code>vim</code>\u6765\u5c06\u4e0a\u9762\u8fd9\u4e00\u6bb5\u4ee3\u7801\u5199\u5165\u6587\u4ef6<code>SayHello.cpp</code>\uff08\u63a5\u6536\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u4f60\u8981\u65b0\u5efa\u7684\u7eaf\u6587\u672c\u6587\u4ef6\u7684\u540d\u5b57\uff09\uff1a</p> <pre><code>$ vim SayHello.cpp\n</code></pre> <p>\u8fdb\u5165<code>vim</code>\u7f16\u8f91\u5668\u4e4b\u540e\uff0c\u6211\u4eec\u6309<code>i</code>\u8fdb\u5165\u7f16\u8f91\u6a21\u5f0f\uff0c\u5c06\u4e0a\u9762\u8fd9\u6bb5\u4ee3\u7801\u590d\u5236\u5230<code>vim</code>\u4e2d\u3002\u8fd9\u65f6\u6211\u4eec\u5b8c\u6210\u4e86\u7f16\u8f91\u8981\u4fdd\u5b58\u9000\u51fa\uff0c\u5148\u6309<code>esc</code>\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f\uff0c\u518d\u6309<code>:</code>\u4ee5\u8f93\u5165\u7f16\u8f91\u5668\u7684\u9009\u9879\uff0c\u6211\u4eec\u4f7f\u7528<code>wq</code>\u4fdd\u5b58\u9000\u51fa\uff08<code>write</code> <code>quit</code>\uff09\u3002\uff08\u6ce8\uff0c\u4e5f\u53ef\u4ee5\u5148\u6309<code>\u238b</code>\u9000\u51fa\u7f16\u8f91\u6a21\u5f0f\uff0c\u518d\u7528<code>ZZ</code>\u9000\u51fa\uff09</p> <p>\u4e0d\u59a8\u6765\u770b\u770b\u6587\u4ef6\u91cc\u9762\u5199\u4e86\u4ec0\u4e48\uff0c<code>cat</code>\u547d\u4ee4\u53ef\u4ee5\u7528\u6765\u67e5\u770b\u7eaf\u6587\u672c\u6587\u4ef6\uff1a</p> <pre><code>$ cat SayHello.cpp\n#include&lt;cstdio&gt;\n\nint main(){\n  char name[100];\n  printf(\"Please input your name: \");\n  scanf(\"%s\", name);\n  printf(\"Hello, %s\", name);\n}\n</code></pre> <p>\u8865\u5145\uff1a\u5173\u4e8e<code>vim</code>\u7684\u4f7f\u7528\u65b9\u5f0f\uff0c\u6211\u7b80\u5355\u505a\u4e86\u6574\u7406\uff0c\u5927\u5bb6\u53ef\u4ee5\u8fdb\u884c\u53c2\u8003\uff1avim\u5b66\u4e60\u7b14\u8bb0\u3002\u8bb0\u5f97\uff0c<code>vim</code>\u662f\u4e00\u6b3e\u67e5\u770b\u5668\u548c\u7f16\u8f91\u5668\uff0c\u5b83\u80fd\u505a\u5230\u7684\u4e8b\u60c5\u548c\u4f60\u7535\u8111\u4e0a\u6587\u672c\u7f16\u8f91\u5668\u6240\u80fd\u505a\u5230\u7684\u4e8b\u60c5\u662f\u4e00\u6837\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#_25","title":"\u7f16\u8bd1\u94fe\u63a5 \u83b7\u5f97\u547d\u4ee4\u884c\u7a0b\u5e8f\u5e76\u6267\u884c","text":"<p>\u5728<code>macOS</code>\u4e0a\uff0c\u6211\u8fd9\u8fb9\u4f7f\u7528<code>g++</code>\u7f16\u8bd1\u5668\u6765\u505a\u8fd9\u4ef6\u4e8b\u60c5\u3002\u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u8f93\u5165\u7684\u4ee3\u7801\u6587\u4ef6\uff0c\u540e\u9762<code>-o</code>\u53c2\u6570\u662f\u8f93\u51fa\u7684\u6587\u4ef6\u540d\u3002\u5728<code>windows</code>\u4e0a\uff0c\u53ef\u6267\u884c\u6587\u4ef6\uff08\u547d\u4ee4\u884c\u7a0b\u5e8f\uff09\u4e00\u822c\u4ee5<code>.exe</code>\u4e3a\u540e\u7f00\uff1b\u4f46\u5728<code>\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf</code>\u4e0a\uff0c\u53ef\u6267\u884c\u6587\u4ef6\u4e00\u822c\u4e0d\u8bbe\u7f6e\u540e\u7f00\u3002</p> <pre><code>$ g++ SayHello.cpp -o \"SayHello\"\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u6216\u76f8\u5bf9\u8def\u5f84\u6765\u8c03\u7528\u8fd9\u4e2a\u7a0b\u5e8f\u3002\uff08\u4f46\u6ce8\u610f\uff0c\u8fd9\u91cc\u4e0d\u80fd\u76f4\u63a5\u8f93\u5355\u8bcd\uff0c\u56e0\u4e3a<code>shell</code>\u6536\u5230\u5355\u8bcd\u4f1a\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u627e\u5bf9\u5e94\u7684\u7a0b\u5e8f\uff0c\u800c\u4f60\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f\u8fd8\u6ca1\u6709\u6dfb\u52a0\u5230\u73af\u5883\u53d8\u91cf\u4e2d\uff09</p> <pre><code>$ ls\nSayHello     SayHello.cpp\n$ /Users/yangxijie/desktop/CODE/SayHello\n\u2026\n$ SayHello\nzsh: command not found: SayHello\n$ ./SayHello\n\u2026\n</code></pre> <p>\u8865\u5145\uff1a\u5728<code>macOS</code>\u4e0a\u4f7f\u7528<code>clang</code>\u548c<code>g++</code>\u53ef\u80fd\u9700\u8981\u5b89\u88c5<code>Command Line Tools</code></p>"},{"location":"LECTURE/Linux/linux/#shell_3","title":"\u5e38\u7528\u7684shell\u547d\u4ee4","text":"<p>\u5e38\u7528\u7684<code>shell\u547d\u4ee4</code>\uff08<code>Linux\u547d\u4ee4</code>\uff09\u6709\u5f88\u591a\uff0c\u4e0b\u9762\u5199\u7684\u662f\u4e00\u4e9b\u6bd4\u8f83\u5e38\u89c1\u7684\u3002\u5f53\u7136\u5927\u5bb6\u4e4b\u540e\u4f7f\u7528\u670d\u52a1\u5668\u8fd8\u4f1a\u4f7f\u7528\u5230\u5404\u79cd\u5404\u6837\u7684\u547d\u4ee4\uff0c\u53ef\u4ee5\u53c2\u8003\u83dc\u9e1f\u6559\u7a0b\uff5cLinux\uff0c\u63a8\u8350\u5927\u5bb6\u76f4\u63a5\u767e\u5ea6\u67e5\u3002</p>"},{"location":"LECTURE/Linux/linux/#_26","title":"\u4e0e\u5de5\u4f5c\u8def\u5f84\u76f8\u5173","text":"<pre><code>pwd # \u663e\u793a\u5f53\u524d\u5de5\u4f5c\u8def\u5f84\n\ncd # \u5207\u6362\u5f53\u524d\u8def\u5f84\ncd .. # \u8fd4\u56de\u4e0a\u7ea7\u8def\u5f84\ncd - # \u5207\u6362\u5230\u4e0a\u4e2a\u8def\u5f84\n\nls # \u5217\u51fa\u5f53\u524d\u8def\u5f84\u4e0b\u7684\u6587\u4ef6\nls -a # \u5305\u542b\u9690\u85cf\u6587\u4ef6\nls -l # \u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\nls -al # \u5305\u542b\u9690\u85cf\u6587\u4ef6\u4e14\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_27","title":"\u4e0e\u6587\u4ef6\u64cd\u4f5c\u76f8\u5173","text":"<pre><code>rm # \u5220\u9664\u6587\u4ef6 \u56e0\u4e3a\u4f1a\u76f4\u63a5\u5220\u9664 \u6240\u4ee5\u5c0f\u5fc3\u4f7f\u7528\nrm -d testDirectory # \u5220\u9664\u7a7a\u6587\u4ef6\u5939\nrm -rf testDirectory # \u5220\u9664\u6587\u4ef6\u5939 \u8c28\u614e\u4f7f\u7528\n\nmv # \u79fb\u52a8\u6587\u4ef6 \u539f\u5730\u79fb\u52a8\u76f8\u5f53\u4e8e\u91cd\u547d\u540d\ncp # \u590d\u5236\u6587\u4ef6\n\nfind # \u67e5\u627e\u6587\u4ef6\nfind . -name \"*.cpp\" -exec cp {} cpp-files \\; # \u67e5\u627e\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u540e\u7f00\u540d\u4e3a`.cpp`\u7684\u6587\u4ef6\u5e76\u5c06\u5176\u590d\u5236\u5230\u5f53\u524d\u8def\u5f84\u4e0b\u7684 cpp-files/ \u6587\u4ef6\u5939\u4e2d\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_28","title":"\u4e0e\u7eaf\u6587\u672c\u76f8\u5173","text":"<pre><code>vim # \u597d\u7528\u7684\u547d\u4ee4\u884c\u6587\u672c\u7f16\u8f91\u5668\n\ntouch # \u65b0\u5efa\u6587\u672c\u6587\u4ef6\n\ncat &lt;file&gt; # \u67e5\u770b\u6587\u4ef6\u5185\u5bb9\nhead &lt;file&gt; # \u67e5\u770b\u6587\u4ef6\u7684\u524d\u5341\u884c\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_29","title":"\u4e0e\u547d\u4ee4\u76f8\u5173","text":"<pre><code>clear # \u6e05\u7a7a\u5f53\u524d\u7684\u7ec8\u7aef\u754c\u9762\nhistory # \u67e5\u770b\u5386\u53f2\u547d\u4ee4\n\u4e0a/\u4e0b\u952e # \u8c03\u51fa\u4e4b\u524d\u6267\u884c\u7684\u547d\u4ee4\n\nman # \u67e5\u770b\u7cfb\u7edf\u5185\u5173\u4e8e\u67d0\u4e2a\u547d\u4ee4\u7684\u5e2e\u52a9\nxx --help (-h) # \u67e5\u770b\u67d0\u4e2a\u547d\u4ee4\u884c\u7a0b\u5e8f\u5185\u7f6e\u7684\u5e2e\u52a9\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_30","title":"\u4e0e\u8fdb\u7a0b\u76f8\u5173","text":"<pre><code>ps # report a snapshot of the current processes\nkill # send a signal to a process\n</code></pre> <p><code>ps</code>\u53ef\u4ee5\u67e5\u770b\u5f53\u524d\u7684\u8fdb\u7a0b\uff0c<code>kill</code>\u53ef\u4ee5\u7ed9\u8fdb\u7a0b\u53d1\u9001\u4e00\u4e9b\u4fe1\u53f7\u3002\u7531\u4e8e\u6211\u8fd8\u6ca1\u4e0a\u8fc7\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5bf9\u8fd9\u4e9b\u4e0d\u662f\u7279\u522b\u4e86\u89e3\uff0c\u5927\u5bb6\u53ef\u4ee5\u76f4\u63a5\u7528<code>man</code>\u547d\u4ee4\u6765\u67e5\u770b<code>ps</code>\u548c<code>kill</code>\u7684\u5e2e\u52a9\uff08\u6216\u767e\u5ea6\uff09</p>"},{"location":"LECTURE/Linux/linux/#shell_4","title":"\u5176\u4ed6shell\u64cd\u4f5c","text":""},{"location":"LECTURE/Linux/linux/#which-where","title":"which where","text":"<pre><code>which # \u67e5\u770bshell\u5982\u4f55\u89e3\u6790\u4f60\u7684\u8f93\u5165\nwhere # \u67e5\u770bshell\u53ef\u80fd\u5982\u4f55\u89e3\u6790\u4f60\u7684\u8f93\u5165\uff0c\u7b2c\u4e00\u6761\u4e3awhich\u7684\u7ed3\u679c\n</code></pre>"},{"location":"LECTURE/Linux/linux/#_31","title":"\u8f93\u5165\u8f93\u51fa\u6d41\u91cd\u5b9a\u5411","text":"<p>\u8fd8\u8bb0\u5f97<code>echo</code>\u5417\uff1f</p> <pre><code>touch my.txt\necho \"hello world\" &gt; my.txt # \u5c06\u8f93\u51fa\u8986\u76d6\u5230\u6587\u4ef6\necho \"hhhh\" &gt; my.txt # \u5c06\u8f93\u51fa\u8986\u76d6\u5230\u6587\u4ef6\necho \"hahahaha\" &gt;&gt; my.txt # \u5c06\u8f93\u51fa\u8ffd\u52a0\u5230\u6587\u4ef6\n\nmkdir ha/haha 2&gt; /dev/null # \u5ffd\u7565\u9519\u8bef\nmkdir ha/haha 2&gt;&gt; error.log # \u8ffd\u52a0\u9519\u8bef\u5230\u65e5\u5fd7\u6587\u4ef6\u4e2d\n</code></pre> <p>\u3007 \u91cd\u5b9a\u5411\u7b26\u53f7</p> <ul> <li><code>&gt;</code>\uff1a\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u6587\u4ef6\u6216\u8bbe\u5907 \u8986\u76d6\u539f\u6765\u7684\u6587\u4ef6</li> <li><code>&gt;!</code>\uff1a\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u6587\u4ef6\u6216\u8bbe\u5907 \u5f3a\u5236\u8986\u76d6\u539f\u6765\u7684\u6587\u4ef6</li> <li><code>&gt;&gt;</code>\uff1a\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u6587\u4ef6\u6216\u8bbe\u5907 \u8ffd\u52a0\u539f\u6765\u7684\u6587\u4ef6</li> <li><code>&lt;</code>\uff1a\u8f93\u5165\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u7a0b\u5e8f\uff08\u5982\u679c\u4f60\u8981\u505a\u6570\u7b97\u9898\uff0c\u8f93\u5165\u6570\u636e\u7684\u65f6\u5019\u53ef\u80fd\u4f1a\u7528\u5230\uff09</li> <li>\u6ce8\uff1a\u8fd9\u91cc\u6587\u4ef6\u6307\u7684\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff1b\u8bbe\u5907\u4e2d\u6709\u4e00\u4e2a\u6bd4\u8f83\u7279\u6b8a\u7684\u662f<code>/dev/null</code>\uff0c\u5982\u679c\u4f60\u4e0d\u9700\u8981\u8f93\u51fa\u7684\u4fe1\u606f\uff0c\u4f60\u53ef\u4ee5\u5c06\u4fe1\u606f\u91cd\u5b9a\u5411\u5230\u8fd9\u91cc</li> </ul> <p>\u3007 \u8f93\u5165\u548c\u8f93\u51fa\u8868\u793a\uff1a\u4e3b\u8981\u6709\u4e09\u79cd\u8f93\u51fa\u5165\u7684\u72b6\u51b5\uff0c\u5206\u522b\u662f\uff1a</p> <ol> <li>\u6807\u51c6\u8f93\u5165\uff1b\u4ee3\u7801\u4e3a <code>0</code> \uff1b\u6216\u79f0\u4e3a <code>stdin</code> \uff1b\u4f7f\u7528\u7684\u65b9\u5f0f\u4e3a <code>&lt;</code></li> <li>\u6807\u51c6\u8f93\u51fa\uff1a\u4ee3\u7801\u4e3a <code>1</code> \uff1b\u6216\u79f0\u4e3a <code>stdout</code>\uff1b\u4f7f\u7528\u7684\u65b9\u5f0f\u4e3a <code>1&gt;</code></li> <li>\u9519\u8bef\u8f93\u51fa\uff1a\u4ee3\u7801\u4e3a <code>2</code> \uff1b\u6216\u79f0\u4e3a <code>stderr</code>\uff1b\u4f7f\u7528\u7684\u65b9\u5f0f\u4e3a <code>2&gt;</code></li> </ol> <p>\uff08\u6ce8\uff1a\u4e0a\u8ff0\u5185\u5bb9\u90e8\u5206\u6458\u81eaLinux\u4e2d\u91cd\u5b9a\u5411\u53ca\u7ba1\u9053\uff09</p>"},{"location":"LECTURE/Linux/linux/#_32","title":"\u7ba1\u9053","text":"<p><code>|</code>: \u4e0a\u4e00\u4e2a\u547d\u4ee4\uff08\u7a0b\u5e8f\uff09\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165</p> <p>\u6bd4\u5982\u6211\u60f3\u770b\u770b\u6211\u521a\u521a\u521b\u5efa\u4e86\u4ec0\u4e48\u6587\u4ef6\u5939\u6765\u7740\uff1a\u6211\u53ef\u4ee5\u4e00\u6761\u4e00\u6761\u7ffb\uff0c\u4f46\u662f\u6211\u4e5f\u53ef\u4ee5\u641c\u7d22\u554a\uff01</p> <p><pre><code>history\nhistory | grep \"mkdir\"\n</code></pre> \u4f7f\u7528\u7ec8\u7aef\u7684\u5feb\u6377\u952e\u2303R\u4e5f\u53ef\u4ee5\u5feb\u901f\u67e5\u627e\u4e4b\u524d\u7684\u547d\u4ee4\u3002</p>"},{"location":"LECTURE/Linux/linux/#grep","title":"grep","text":"<pre><code>$ man grep\nThe grep utility searches any given input files, selecting lines that match one or more patterns.\nBy default, a pattern matches an input line if the regular expression (RE) in the patternmatches the input line without its trailing newline.\n\n$ echo \"123abc456\" | grep \"[0-9]\"\n123abc456\uff081 2 3 4 5 6\u5f97\u5230\u9ad8\u4eae\uff09\n$ echo \"123abc456\" | grep \"[0-9]*\"\n123abc456\uff08123 456\u5f97\u5230\u9ad8\u4eae\uff09\n$ echo \"123abc456\" | grep \"[a-z]*\"\n123abc456\uff08abc\u5f97\u5230\u9ad8\u4eae\uff09\n\n$ grep \"[0-9]\" error.log\n</code></pre> <p>\u6b63\u5219\u8868\u8fbe\u5f0f\u53ef\u4ee5\u7528\u6765\u641c\u7d22\u5e76\u8fdb\u4e00\u6b65\u63d0\u53d6\u4f60\u60f3\u8981\u7684\u5185\u5bb9\u3002\u6b63\u5219\u8868\u8fbe\u5f0f\u4e5f\u662f\u5f00\u53d1\u540c\u5b66\u7684\u5fc5\u5907\u6280\u80fd\uff0c\u6211\u63a8\u8350\u5927\u5bb6\u5927\u5bb6\u770b\u83dc\u9e1f\u6559\u7a0b\uff5c\u6b63\u5219\u8868\u8fbe\u5f0f\uff1b\u8fd8\u6709\u4e00\u4e2a\u6b63\u5219\u8868\u8fbe\u6d4b\u8bd5\u7684\u7f51\u7ad9https://regexr.com/5mtrl</p>"},{"location":"LECTURE/Linux/linux/#c","title":"\u2303C","text":"<p>\u7ed3\u675f\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u7a0b\u5e8f\uff1b\u547d\u4ee4\u8f93\u5230\u4e00\u534a\u4e5f\u7528\u5b83\u6765\u91cd\u65b0\u8f93\u3002</p>"},{"location":"LECTURE/Linux/linux/#d","title":"\u2303D","text":"<p>\u9000\u51fa\u4e00\u4e2ashell\u3002</p> <pre><code>$ echo $SHELL\n/bin/zsh\n$ bash\nbash-3.2$\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u2303D\u9000\u51fa\u3002\u5728\u540e\u9762\u8fde\u63a5\u8fdc\u7a0bshell\u7684\u65f6\u5019\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\u9000\u51fa\u3002</p>"},{"location":"LECTURE/Linux/linux/#_33","title":"\u7a7a\u683c","text":"<p>\u4e3e\u4f8b\uff1a\u521b\u5efa\u4e00\u4e2a\u542b\u6709\u7a7a\u683c\u7684\u6587\u4ef6\u5939\uff0c\u7ed3\u679c\u53d1\u73b0\u521b\u5efa\u4e86\u4e24\u4e2a</p> <p>\u5728\u7a7a\u683c\u4e4b\u524d\u52a0\u5165<code>\\</code>\u8f6c\u4e49\uff1b\u6216\u7528 <code>\"\"</code> <code>''</code> \u5305\u88f9\u542b\u6709\u7a7a\u683c\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939</p>"},{"location":"LECTURE/Linux/linux/#_34","title":"\u901a\u914d\u7b26","text":"<p><code>*</code> \u5339\u914d\u4efb\u610f\u591a\u5b57\u7b26</p> <p><code>?</code> \u5339\u914d\u5355\u4e2a\u5b57\u7b26</p> <pre><code>$ ls *.cpp # \u5217\u51fa\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709cpp\u6587\u4ef6\n$ rm *.log # \u5220\u9664\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u65e5\u5fd7\u6587\u4ef6\n</code></pre>"},{"location":"LECTURE/Linux/linux/#tab","title":"tab\u548c\u53f3\u952e\u8865\u5168","text":"<p>\u5f53\u4f60\u5728<code>shell</code>\u4e2d\u8f93\u5165\u4e00\u4e9b\u4e1c\u897f\u4e4b\u540e\uff0c\u6309<code>tab</code>\u53ef\u4ee5\u83b7\u53d6\u8865\u5168\uff0c\u6216\u591a\u6b21\u6309<code>tab</code>\u67e5\u770b<code>shell</code>\u7684\u63d0\u793a\uff1b\u5982\u679c\u505a\u4e86<code>shell</code>\u7684\u4e2a\u6027\u5316\u914d\u7f6e\uff0c\u6309\u53f3\u952e\u4e5f\u6839\u636e\u5386\u53f2\u547d\u4ee4\u8fdb\u884c\u8865\u5168\u3002</p>"},{"location":"LECTURE/Linux/linux/#_35","title":"\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u6743\u9650","text":""},{"location":"LECTURE/Linux/linux/#ls-l","title":"ls -l","text":"<p>\u53ef\u4ee5\u4f7f\u7528 <code>ls -l file</code> \u67e5\u770b\u6587\u4ef6/\u6587\u4ef6\u5939\u7684\u6743\u9650\u3002</p> <pre><code>$ ls -l test.txt\n-rw-r--r-- 1 re re 56 Jul  5 11:00 test.txt\n</code></pre> <p>\u7b2c <code>1</code> \u4f4d\uff1a\u6587\u4ef6\u7c7b\u578b\u3002<code>d</code> \u8868\u793a\u6587\u4ef6\u5939\uff0c<code>-</code> \u8868\u793a\u6587\u4ef6\uff1b \u7b2c <code>2-4</code> \u4f4d\uff1a\u8868\u793a\u8fd9\u4e2a\u6587\u4ef6\u7684owner\u62e5\u6709\u7684\u6743\u9650\uff1b \u7b2c <code>5-7</code> \u4f4d\uff1a\u8868\u793a\u548c\u8fd9\u4e2a\u6587\u4ef6owner\u6240\u5728\u540c\u4e00\u4e2a\u7ec4\u7684\u7528\u6237\u6240\u5177\u6709\u7684\u6743\u9650\uff1b \u7b2c <code>8-10</code> \u4f4d\uff1a\u5176\u4ed6\u7528\u6237\u6240\u5177\u6709\u7684\u6743\u9650\uff1b <code>r</code>: <code>read</code> \u8bfb\uff0c<code>w</code>: <code>write</code> \u5199\uff0c<code>x</code>: <code>execute</code> \u6267\u884c\uff0c<code>-</code>: \u65e0\u6743\u9650\u3002</p>"},{"location":"LECTURE/Linux/linux/#chmod","title":"chmod","text":"<p>\u53ef\u4ee5\u4f7f\u7528<code>chmod</code>\u4fee\u6539\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u7684\u6743\u9650\uff08<code>chmod</code>, <code>change mode</code>, \u4fee\u6539\u6587\u4ef6\u3001\u6587\u4ef6\u5939\u6743\u9650\uff09\uff1a</p> <p>1 \u6587\u5b57\u8bbe\u5b9a\u6cd5</p> <pre><code>$ chmod  [u|g|o|a] [+|-|=] [rwx] file\n$ chmod ug+w,o-x a.txt # owner\u53ca\u540c\u7ec4\u589e\u52a0\u5199\u6743\u9650 \u5176\u4ed6\u7528\u6237\u5220\u9664\u6267\u884c\u6743\u9650\n</code></pre> <p><code>u</code>: owner\uff0c<code>g</code>: \u540c\u7ec4\u7528\u6237\uff0c <code>o</code>: \u5176\u4ed6\u7528\u6237\uff0c<code>a</code>: \u6240\u6709\u7528\u6237</p> <p>2 \u6570\u5b57\u8bbe\u5b9a\u6cd5</p> <pre><code>$ chmod [mode] file\n$ chmod 644 my.txt # owner\u53ef\u8bfb\u5199 \u540c\u7ec4\u548c\u5176\u4ed6\u7528\u6237\u53ea\u53ef\u8bfb\u3002\n</code></pre> <ul> <li><code>mode</code> \u4e3a 3 \u4f4d\u516b\u8fdb\u5236\u6570\uff0c\u6bcf\u4f4d\u7531\u5404\u6743\u9650\u6309\u6743\u91cd\u76f8\u52a0\u5f97\u5230\u3002\u4ece\u5de6\u5f80\u53f3\u4f9d\u6b21\u4ee3\u8868owner\u3001\u540c\u7ec4\u3001\u5176\u4ed6\u7528\u6237\u7684\u6743\u9650</li> <li><code>rwx</code> \u5bf9\u5e94\u7684\u6743\u91cd\u5206\u522b\u662f <code>4</code>, <code>2</code>, <code>1</code></li> </ul> <p>\u6ce8\uff1a\u5927\u5bb6\u4ee5\u540e\u5728\u4f7f\u7528\u8fd9\u4e2a\u547d\u4ee4\u7684\u65f6\u5019\uff0c\u867d\u7136\u53ef\u4ee5\u4e00\u6b21\u628a\u6743\u9650\u7ed9\u7684\u591a\u4e00\u4e9b\uff0c\u4f46\u6700\u597d\u8fd8\u662f\u5c0f\u5fc3\u4e00\u70b9\uff0c\u80fd\u5c11\u4e00\u70b9\u5c31\u5c11\u4e00\u70b9\uff0c\u4ee5\u9632\u6b62\u4e00\u4e9b\u53ef\u80fd\u53d1\u751f\u7684\u300c\u707e\u96be\u300d\u3002</p>"},{"location":"LECTURE/Linux/linux/#_36","title":"\u7528\u6237\u6743\u9650","text":""},{"location":"LECTURE/Linux/linux/#shell_5","title":"shell\u811a\u672c","text":"<p>\u5982\u679c\u6211\u4eec\u4e00\u6b21\u6267\u884c\u4e00\u4e2a\u547d\u4ee4\uff0c\u90a3\u7528\u624b\u6572\u7684\u53ef\u80fd\u6765\u7684\u5feb\u4e00\u70b9\u3002\u4f46\u662f\u5982\u679c\u8981\u4e00\u6b21\u6267\u884c\u591a\u6761\u547d\u4ee4\uff0c\u90a3\u53ef\u80fd\u8fd8\u662f\u5199\u4e00\u4e2a\u811a\u672c\u4e00\u6b21\u6027\u6267\u884c\u6765\u7684\u5feb\u4e00\u70b9\u3002</p> <p>\u811a\u672c\uff08<code>script</code>\uff09\uff0c\u662f\u4f7f\u7528\u4e00\u79cd\u7279\u5b9a\u7684\u63cf\u8ff0\u6027\u8bed\u8a00\uff0c\u4f9d\u636e\u4e00\u5b9a\u7684\u683c\u5f0f\u7f16\u5199\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\uff08\u6765\u81ea\u767e\u5ea6\u767e\u79d1\uff09</p> <p>\u8fd9\u91cc\u6240\u8bf4\u7684\u53ef\u6267\u884c\u6587\u4ef6\u548c\u4e4b\u524d\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\u662f\u6709\u533a\u522b\u7684\uff1b\u811a\u672c\u672c\u8d28\u4e0a\u662f\u8fd8\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff0c\u5b83\u80fd\u6267\u884c\u662f\u56e0\u4e3a\u6709\u89e3\u91ca\u5668\u6765\u5bf9\u5176\u4e2d\u6bcf\u4e00\u884c\u547d\u4ee4\u505a\u89e3\u6790\u3002\u6bd4\u5982<code>shell \u811a\u672c</code>\u5c31\u7531<code>shell</code>\u6765\u89e3\u6790\uff1b<code>python \u811a\u672c / \u7a0b\u5e8f</code>\u5c31\u7531<code>python</code>\u89e3\u91ca\u5668\u6765\u89e3\u6790\u3002</p>"},{"location":"LECTURE/Linux/linux/#shell_6","title":"\u5c1d\u8bd5\u7f16\u5199shell\u811a\u672c","text":"<p>\u6bd4\u5982\u6211\u4eec\u5e0c\u671b\u521b\u5efa\u8fd9\u6837\u4e00\u4e2a\u811a\u672c\u2014\u2014\u6765\u6279\u91cf\u663e\u793a\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u3002\u6ce8\u610f\uff0c\u8fd9\u4e0d\u662f<code>ls</code>\u547d\u4ee4\uff0c\u6211\u60f3\u8981\u9012\u5f52\u663e\u793a\u3002</p> <p>\u6211\u4eec\u4f7f\u7528\u4e0b\u9762\u7684<code>shell</code>\u811a\u672ckddeisz | GitHub | tree.sh\u505a\u4e00\u4e2a\u6f14\u793a\uff1a</p> <pre><code>#!/usr/bin/env bash\n\nshopt -s nullglob\ndir_count=0\nfile_count=0\n\ntraverse() {\n  dir_count=$(($dir_count + 1))\n  local directory=$1\n  local prefix=$2\n\n  local children=($directory/*)\n  local child_count=${#children[@]}\n\n  for idx in \"${!children[@]}\"; do \n    local child=${children[$idx]// /\\\\ }\n    child=${child##*/}\n\n    local child_prefix=\"\u2502   \"\n    local pointer=\"\u251c\u2500\u2500 \"\n\n    if [ $idx -eq $((child_count - 1)) ]; then\n      pointer=\"\u2514\u2500\u2500 \"\n      child_prefix=\"    \"\n    fi\n\n    echo \"${prefix}${pointer}$child\"\n    [ -d \"$directory/$child\" ] &amp;&amp;\n      traverse \"$directory/$child\" \"${prefix}$child_prefix\" ||\n      file_count=$((file_count + 1))\n  done\n}\n\nroot=\".\"\n[ \"$#\" -ne 0 ] &amp;&amp; root=\"$1\"\necho $root\n\ntraverse $root \"\"\necho\necho \"$(($dir_count - 1)) directories, $file_count files\"\nshopt -u nullglob\n</code></pre> <p>\u53ef\u4ee5\u53d1\u73b0\u8fd9\u4e2a\u8fd8\u662f\u975e\u5e38\u96be\u7406\u89e3\u7684\u3002</p> <pre><code>$ vim tree.sh # \u4e00\u822cshell\u811a\u672c\u7684\u540e\u7f00\u4e3a`.sh`\n$ ./tree.sh # \u6267\u884cshell\u811a\u672c\nzsh: permission denied: ./tree.sh\n$ chmod +x tree.sh\n$ ./tree.sh\n.\n\u251c\u2500\u2500 SayHello\n\u251c\u2500\u2500 SayHello.cpp\n\u2514\u2500\u2500 tree.sh\n\n0 directories, 3 files\n</code></pre>"},{"location":"LECTURE/Linux/linux/#shell_7","title":"shell\u811a\u672c\u7684\u4f18\u52a3","text":"<p>\u4f18\u70b9\uff1a\u4f60\u53ef\u4ee5\u5c06\u591a\u6761\u547d\u4ee4\u5199\u8fdb<code>shell\u811a\u672c</code>\uff0c\u4e00\u6b21\u6267\u884c\u3002</p> <p>\u7f3a\u70b9\uff1a\u5176\u5e76\u975e\u7f16\u7a0b\u8bed\u8a00\uff0c\u4e00\u4e9b\u8bed\u6cd5\uff08\u751a\u81f3\u4e0d\u80fd\u79f0\u4f5c\u8bed\u6cd5\uff09\u6666\u6da9\u96be\u61c2\uff0c\u7f3a\u5c11\u76f8\u5173\u7684debug\u5de5\u5177\uff08\u6709\u662f\u6709\uff09\u3002</p> <p>\u6211\u63a8\u8350\u5927\u5bb6\u5728\u8fdb\u884c\u6279\u5904\u7406\u7684\u65f6\u5019\u76f4\u63a5\u7f16\u5199<code>python\u811a\u672c</code>\uff0c\u73b0\u5728\u8fd9\u4e2a\u65f6\u4ee3\uff0c\u54ea\u53f0\u673a\u5668\u4e0a\u8fd8\u6ca1\u6709\u4e2a<code>Python3</code>\u5462\uff1f\u5199\u8fc7python\u7684\u4eba\u90fd\u77e5\u9053python\u5199\u8d77\u6765\u591a\u8212\u670d\u5427\u3002\u6211\u4eec\u53ef\u4ee5\u5728\u4e0a\u9762\u7684\u811a\u672c\u4f5c\u8005\u7684\u4ed3\u5e93GitHub | kddeisz | tree\u4e2d\u627e\u5230<code>tree.py</code>\uff0c\u70b9\u8fdb\u53bb\u4e00\u770b\uff0c\u8212\u670d\u591a\u4e86ww\u3002</p> <p>\u5f53\u7136\uff0c\u6709\u4e9b<code>python</code>\u53ef\u80fd\u505a\u4e0d\u5230\u7684\u4e8b\u60c5\uff0c\u90a3\u4f60\u5c31\u7528<code>shell\u811a\u672c</code>\u5199\u55bd\u3002\u6211\u8fd9\u91cc\u4e5f\u4e0d\u8be6\u7ec6\u8bf4\u4e86\uff0c\u5927\u5bb6\u7528\u5230\u7684\u65f6\u5019\u53ef\u4ee5\u81ea\u5df1\u67e5\u3002\u5b66\u4e60\u5982\u4f55\u7f16\u5199<code>shell\u811a\u672c</code>\u53ef\u4ee5\u67e5\u770bMissing Semester\uff5cShell \u5de5\u5177\u548c\u811a\u672c</p>"},{"location":"LECTURE/Linux/linux/#shell_8","title":"shell\u914d\u7f6e\u6587\u4ef6","text":"<p><code>shell</code>\u662f\u8c01\u5728\u7528\u5462\u3002\u5f53\u7136\u662f\u4f60\u5728\u7528\u4e86\uff01\u914d\u7f6e\u6587\u4ef6\u5199\u7684\u723d\uff0c\u4f60\u7528<code>shell</code>\u7528\u8d77\u6765\u5c31\u723d\uff1b\u6bcf\u6b21<code>shell</code>\u5f00\u542f\u7684\u65f6\u5019\uff0c\u90fd\u4f1a\u5148\u52a0\u8f7d\u8fd9\u4e2a\u914d\u7f6e\u6587\u4ef6\u3002\u6211\u4eec\u4e0d\u59a8\u770b\u770b\u6211\u7535\u8111\u4e0a\u7684<code>zsh</code>\u914d\u7f6e\u6587\u4ef6\uff1a</p> <pre><code>$ cat ~/.zshrc\n\u2026\u2026\nplugins=(\n    git\n    zsh-autosuggestions\n    zsh-syntax-highlighting\n)\n\u2026\u2026\nexport HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles\nexport PATH=\"/usr/local/bin:$PATH\"\nexport PATH=\"/usr/local/sbin:$PATH\"\n\u2026\u2026\nalias ga=\"git add \"\nalias gc=\"git commit -m \"\nalias glg=\"git log --color --graph --pretty=format:'%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)&lt;%an&gt;%Creset' --abbrev-commit\"\nalias gs='git status'\n\u2026\u2026\nalias ll=\"ls -alF\"\n\u2026\u2026\nexport LANG=en_US.UTF-8\nexport LC_ALL=en_US.UTF-8\n</code></pre> <p>\u50cf\u6211\u5462\uff0c\u7ed9\u6211\u7684<code>shell</code>\u6dfb\u52a0\u4e86\u4e00\u4e9b\u63d2\u4ef6\uff1b\u66f4\u6362\u4e86\u5305\u7ba1\u7406\u5de5\u5177\uff08\u540e\u9762\u4f1a\u8bb2\u5230\u4ec0\u4e48\u662f\u5305\u7ba1\u7406\uff09<code>brew</code>\u7684\u4e0b\u8f7d\u5730\u5740\uff1b\u6dfb\u52a0\u4e86\u4e00\u4e9b\u73af\u5883\u53d8\u91cf\uff1b\u8bbe\u7f6e\u4e86<code>Git</code>\u3001<code>ls</code>\u7684\u5feb\u6377\u952e\uff08<code>alias</code>\uff09\uff1b\u4e3a\u4e86\u907f\u514d\u4e00\u4e9b<code>GBK</code>\u5e26\u6765\u7684\u95ee\u9898\uff0c\u628a\u7cfb\u7edf\u7684\u7f16\u7801\u5168\u90e8\u8bbe\u7f6e\u4e3a<code>UTF-8</code>\u2026\u2026</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u81ea\u5df1\u4fee\u6539\u4f60\u7684\u914d\u7f6e\u6587\u4ef6\u2014\u2014\u6309\u7167\u81ea\u5df1\u559c\u6b22\u7684\u6765\uff0c\u7f51\u4e0a\u4e5f\u6709\u5f88\u591a\u53ef\u4ee5\u53c2\u8003\u7684\u914d\u7f6e\u3002\u5f53\u7136\u4e86\uff0c\u6539\u5b8c\u4e86\u8bb0\u5f97\u8981\u8ba9\u5b83\u751f\u6548\uff1a</p> <pre><code>$ source ~/.zshrc\n</code></pre> <p>\u5f53\u7136\u76f4\u63a5\u91cd\u542f\u7ec8\u7aef\u6216\u8005<code>shell</code>\u4e5f\u5b8c\u5168OK\u3002</p> <p>\u8865\u5145\uff1a<code>shell</code>\u6709\u5f88\u591a\u79cd\u7684\u3002\u5e38\u7528\u7684\u53ef\u80fd\u6709<code>bash</code>\u3001<code>zsh</code>\u2026\u5f53\u7136\u4e86\u529f\u80fd\u6ca1\u4ec0\u4e48\u533a\u522b\uff0c\u90fd\u662f\u89e3\u6790\u4f60\u8f93\u5165\u7684\u547d\u4ee4\u4e0e\u547d\u4ee4\u884c\u7a0b\u5e8f\u505a\u4ea4\u4e92\uff0c\u4f46\u53ef\u80fd\u4e00\u4e9b\u8bbe\u8ba1\u7ec6\u8282\u4e0a\u4f1a\u6709\u4e00\u4e9b\u4e0d\u540c\u3002\u914d\u7f6e\u6587\u4ef6\u4e5f\u4f1a\u6709\u4e0d\u540c\uff0c\u6bd4\u5982<code>zsh</code>\u7684\u914d\u7f6e\u6587\u4ef6\u5728<code>~/.zshrc</code>\uff0c<code>bash</code>\u7684\u914d\u7f6e\u6587\u4ef6\u5728<code>~/.bash_profile</code>\u3002</p>"},{"location":"LECTURE/Linux/linux/#_37","title":"\u8865\u5145","text":"<p>\u5982\u679c\u5927\u5bb6\u60f3\u5bf9\u7ec8\u7aef\u3001<code>shell</code>\u3001\u547d\u4ee4\u884c\u6df1\u5165\u4e86\u89e3\uff0c\u53ef\u4ee5\u67e5\u770b\u4e0b\u9762\u7684\u8bfe\u7a0b\u7684\u524d\u4e94\u8282\u8bfe\uff08\u5168\u770b\u5f53\u7136\u6700\u597d\u5566\uff09\uff08\u8fd9\u662f\u5bf9\u6211\u5e2e\u52a9\u5f88\u5927\u7684\u4e00\u95e8\u8bfe\u7a0b\uff09\uff1a</p> <p>\u8ba1\u7b97\u673a\u6559\u80b2\u4e2d\u7f3a\u5931\u7684\u4e00\u8bfe The Missing Semester of Your CS Education \u4e2d\u6587\u7248</p> <p>\u8fd9\u95e8\u8bfe\u7a0b\u7684\u7b80\u4ecb\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>\u5927\u5b66\u91cc\u7684\u8ba1\u7b97\u673a\u8bfe\u7a0b\u901a\u5e38\u4e13\u6ce8\u4e8e\u8bb2\u6388\u4ece\u64cd\u4f5c\u7cfb\u7edf\u5230\u673a\u5668\u5b66\u4e60\u8fd9\u4e9b\u5b66\u9662\u6d3e\u7684\u8bfe\u7a0b\u6216\u4e3b\u9898\uff0c\u800c\u5bf9\u4e8e\u5982\u4f55\u7cbe\u901a\u5de5\u5177\u8fd9\u4e00\u4e3b\u9898\u5219\u5f80\u5f80\u4f1a\u7559\u7ed9\u5b66\u751f\u81ea\u884c\u63a2\u7d22\u3002\n\u5728\u8fd9\u4e2a\u7cfb\u5217\u8bfe\u7a0b\u4e2d\uff0c\u6211\u4eec\u8bb2\u6388\u547d\u4ee4\u884c\u3001\u5f3a\u5927\u7684\u6587\u672c\u7f16\u8f91\u5668\u7684\u4f7f\u7528\u3001\u4f7f\u7528\u7248\u672c\u63a7\u5236\u7cfb\u7edf\u63d0\u4f9b\u7684\u591a\u79cd\u7279\u6027\u7b49\u7b49\u3002\n\u5b66\u751f\u5728\u4ed6\u4eec\u53d7\u6559\u80b2\u9636\u6bb5\u5c31\u4f1a\u548c\u8fd9\u4e9b\u5de5\u5177\u671d\u5915\u76f8\u5904\uff08\u5728\u4ed6\u4eec\u7684\u804c\u4e1a\u751f\u6daf\u4e2d\u66f4\u662f\u8fd9\u6837\uff09\u3002 \n\u56e0\u6b64\uff0c\u82b1\u65f6\u95f4\u6253\u78e8\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u7684\u80fd\u529b\u5e76\u80fd\u591f\u6700\u7ec8\u719f\u7ec3\u5730\u3001\u6d41\u7545\u5730\u4f7f\u7528\u5b83\u4eec\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\n\u7cbe\u901a\u8fd9\u4e9b\u5de5\u5177\u4e0d\u4ec5\u53ef\u4ee5\u5e2e\u52a9\u60a8\u66f4\u5feb\u7684\u4f7f\u7528\u5de5\u5177\u5b8c\u6210\u4efb\u52a1\uff0c\u5e76\u4e14\u53ef\u4ee5\u5e2e\u52a9\u60a8\u89e3\u51b3\u5728\u4e4b\u524d\u770b\u6765\u4f3c\u4e4e\u65e0\u6bd4\u590d\u6742\u7684\u95ee\u9898\u3002\n</code></pre>"},{"location":"LECTURE/Linux/linux/#gui-linux","title":"\u547d\u4ee4\u884c \u4e0e GUI - Linux\u7684\u5e38\u89c1\u53d1\u884c\u7248\u672c","text":"<p>\u4e0a\u9762\u6211\u4eec\u804a\u4e86\u804aGUI\u7a0b\u5e8f\u3001\u5f15\u5165\u4e00\u822c\u7684\u7a0b\u5e8f\uff08\u8f93\u5165\u8f93\u51fa\uff09\u3001\u8ba4\u8bc6\u4e86\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf\u7684\u6587\u4ef6\u7cfb\u7edf\u3001\u4f7f\u7528\u4e86\u547d\u4ee4\u884c\u7a0b\u5e8f\uff1b\u6709\u4e86\u8fd9\u4e9b\u57fa\u7840\uff0c\u6211\u60f3\u5927\u5bb6\u5df2\u7ecf\u6709\u4e86\u8ba4\u8bc6Linux\u7684\u57fa\u7840\u4e86\u3002\u4e0b\u9762\u5c31\u8ba9\u6211\u4eec\u6765\u8bf7\u51faLinux\u5427\u2014\u2014</p>"},{"location":"LECTURE/Linux/linux/#gui_1","title":"GUI \u4e0e \u547d\u4ee4\u884c","text":"<p>\u4e0d\u8fc7\u8981\u5148\u89e3\u51b3\u4e00\u4e2a\u5c0f\u95ee\u9898\uff0c\u6211\u4eec\u5df2\u7ecf\u6709\u4e86GUI\u7a0b\u5e8f\uff0c\u770b\u65f6\u95f4\u53f3\u4e0a\u89d2\u5c31\u53ef\u4ee5\u770b\u3001\u4e0d\u9700\u8981<code>date</code>\uff0c\u6587\u672c\u7f16\u8f91\u7cfb\u7edf\u6709\u81ea\u5e26\u7684\u6587\u672c\u7f16\u8f91\u3001\u4e0d\u9700\u8981<code>vim</code>\uff0c\u4f7f\u7528IDE\uff08\u96c6\u6210\u5f00\u53d1\u73af\u5883\uff09\u3001\u4e00\u4e2a\u5feb\u6377\u952e\u5c31\u80fd\u5e2e\u4f60\u8fd0\u884c\u7a0b\u5e8f\u3001\u800c\u4e14\u8fd8\u6709\u4ee3\u7801\u9ad8\u4eae\u3001\u8bed\u6cd5\u68c0\u6d4b\u7b49\u591a\u79cd\u529f\u80fd\uff1b\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8981\u7528\u547d\u4ee4\u884c\u7a0b\u5e8f\uff1f</p> <p>\uff08GUI\u7a0b\u5e8f\u5360\u7528\u7684\u8d44\u6e90\u8f83\u591a\uff09\u8003\u5bdfGUI\u7a0b\u5e8f\u548c\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0cGUI\u7a0b\u5e8f\u64cd\u4f5c\u65b9\u4fbf\uff0c\u4f46\u5176\u5b9e\u5b83\u5360\u7528\u7684\u8d44\u6e90\u975e\u5e38\u591a\uff08\u770b\u6211\u6643\u52a8\u9f20\u6807\uff0cCPU\u7684\u5360\u7528\u7387\u5c31\u5f00\u59cb\u4e0a\u5347\uff0c\u53ea\u662f\u6643\u52a8\u54e6\uff09\uff0c\u81f3\u5c11\u673a\u5668\u5f97\u6709\u4e2a\u96c6\u6210\u663e\u5361\u6765\u8ba1\u7b97\u5c4f\u5e55\u4e0a\u4ec0\u4e48\u65f6\u5019\u663e\u793a\u4ec0\u4e48\u5427\uff1b\u800c\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u5176\u53ea\u662f\u5904\u7406\u5b57\u7b26\u4e32\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff0c\u8fd9\u6837\u5360\u7528\u7684\u8d44\u6e90\u662f\u975e\u5e38\u5c11\u7684\uff0c\u6240\u4ee5\u6548\u7387\u9ad8\u3002</p> <p>\uff08\u5386\u53f2\u4e0a\u5148\u51fa\u73b0\u7684\u662f\u547d\u4ee4\u884c\u64cd\u4f5c\u7cfb\u7edf\uff09\u4ece\u5386\u53f2\u4e0a\u6765\u8bf4\uff0c\u6700\u5148\u9762\u4e16\u7684\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\u80af\u5b9a\u53ea\u6709\u547d\u4ee4\u884c\u7684\u8f93\u5165\u548c\u8f93\u51fa\uff1b\u540e\u6765\u4e3a\u4e86\u65b9\u4fbf\u4eba\u4eec\u64cd\u4f5c\uff1b\u52a0\u4e0a\u4e86\u53ef\u4ee5\u79fb\u52a8\u7684\u5149\u6807\u548c\u9f20\u6807\u3002\u4e8b\u5b9e\u4e0a\uff0cGUI\u7684\u64cd\u4f5c\u7cfb\u7edf\u80af\u5b9a\u4e5f\u662f\u652f\u6301\u4f7f\u7528\u547d\u4ee4\u884c\u7a0b\u5e8f\u7684\u2014\u2014\u6211\u521a\u521a\u5728\u6f14\u793a\u65f6\u4f7f\u7528\u7684\u64cd\u4f5c\u7cfb\u7edf\u662fmacOS\uff0c\u5b83\u5c31\u6709\u7ec8\u7aef\uff0c\u6709shell\uff0c\u53ef\u4ee5\u5904\u7406\u4f60\u6572\u5165\u7684\u547d\u4ee4\u3002</p> <p>\u867d\u7136GUI\u5df2\u7ecf\u5f88\u65b9\u4fbf\u4e86\uff0c\u4f46\u5f53\u6211\u4eec\u8ffd\u6c42\u8ba1\u7b97\u673a\u8ba1\u7b97\u610f\u4e49\u4e0a\u7684\u9ad8\u6548\u65f6\uff0c\u6211\u4eec\u8fd8\u662f\u4f1a\u4f7f\u7528\u53ea\u6709\u547d\u4ee4\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u6700\u5e38\u89c1\u53ea\u6709\u547d\u4ee4\u884c\u7684\u64cd\u4f5c\u7cfb\u7edf\u5c31\u662f<code>Linux</code>\uff1b\u6216\u8005\u6211\u4eec\u6709\u4e00\u4e9b\u7279\u6b8a\u7684\u9700\u6c42\u65e0\u6cd5\u5728<code>macOS</code>\u548c<code>Windows</code>\u4e0a\u5b8c\u6210\u65f6\uff0c\u6211\u4eec\u53ef\u80fd\u4e5f\u4f1a\u4f7f\u7528<code>Linux</code>\u3002\u4e0b\u9762\u6211\u5c31\u5f00\u59cb\u771f\u6b63\u8bb2<code>Linux</code>\u4e86\u3002</p>"},{"location":"LECTURE/Linux/linux/#linux","title":"Linux \u5386\u53f2\u6982\u8ff0","text":"<p>\uff08\u6ce8\uff1a\u672c\u5c0f\u8282\u5185\u5bb9\u90e8\u5206\u53c2\u8003\u81ea \u7535\u5b50\u7cfb2020\u5e74\u6691\u57f9 Linux\u90e8\u5206  \u65e076 \u5b59\u5fd7\u5c27\uff09</p>"},{"location":"LECTURE/Linux/linux/#linux-unix","title":"Linux \u548c Unix","text":"<p>\u9996\u5148\u660e\u786e\uff0c<code>Linux</code>\u662f\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\uff0c\u90a3\u5b83\u5c31\u6709\u81ea\u5df1\u7684\u5185\u6838\u3002\u5185\u6838\u6307\u7684\u662f\u4e00\u4e2a\u63d0\u4f9b\u8bbe\u5907\u9a71\u52a8\u3001\u6587\u4ef6\u7cfb\u7edf\u3001\u8fdb\u7a0b\u7ba1\u7406\u3001\u7f51\u7edc\u901a\u4fe1\u7b49\u529f\u80fd\u7684\u7cfb\u7edf\u8f6f\u4ef6\uff0c\u5185\u6838\u5e76\u4e0d\u662f\u4e00\u5957\u5b8c\u6574\u7684\u64cd\u4f5c\u7cfb\u7edf\uff0c\u5b83\u53ea\u662f\u64cd\u4f5c\u7cfb\u7edf\u7684\u6838\u5fc3\u3002<code>Linux \u5185\u6838</code>\u6700\u521d\u7531 <code>Linus Torvalds</code> \u7f16\u5199\u3002</p> <p>\u4e4b\u524d\u6211\u4eec\u4e00\u76f4\u63d0\u5230<code>\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf</code>\uff0c\u5927\u5bb6\u770b\u4e0b\u9762\u8fd9\u5f20\u56fe\u53ef\u80fd\u9a6c\u4e0a\u5c31\u660e\u767d\u4e86\u3002</p> <p>Linux \u662f\u4e00\u4e2a\u7c7b\u4f3c Unix \u7684\u64cd\u4f5c\u7cfb\u7edf\uff0cUnix \u8981\u65e9\u4e8e Linux\uff0cLinux \u7684\u521d\u8877\u5c31\u662f\u8981\u66ff\u4ee3 UNIX\uff0c\u5e76\u5728\u529f\u80fd\u548c\u7528\u6237\u4f53\u9a8c\u4e0a\u8fdb\u884c\u4f18\u5316\uff0c\u6240\u4ee5 Linux \u6a21\u4eff/\u6539\u8fdb\u4e86 UNIX\uff08\u4f46\u5e76\u6ca1\u6709\u6284\u88ad UNIX \u7684\u6e90\u7801\uff09\uff0c\u4f7f\u5f97 Linux \u5728\u5916\u89c2\u548c\u4ea4\u4e92\u4e0a\u4e0e UNIX \u975e\u5e38\u7c7b\u4f3c\u3002\u2014\u2014C\u8bed\u8a00\u4e2d\u6587\u7f51 | Linux\u548cUNIX\u7684\u5173\u7cfb\u53ca\u533a\u522b</p> <p>\u76f8\u6bd4\u4e8e <code>UNIX</code>\uff0c<code>Linux</code> \u6700\u5927\u7684\u521b\u65b0\u662f\u5f00\u6e90\u514d\u8d39\uff0c\u8fd9\u662f\u5b83\u80fd\u591f\u84ec\u52c3\u53d1\u5c55\u7684\u6700\u91cd\u8981\u539f\u56e0\u3002</p> <p></p> <p>\uff08\u4ece\u8868\u4e2d\u6211\u4eec\u4e5f\u53ef\u4ee5\u770b\u5230\uff0c<code>macOS</code>\u4e5f\u662f<code>\u7c7bUnix\u64cd\u4f5c\u7cfb\u7edf</code>\uff0c\u6240\u4ee5<code>macOS</code>\u7ec8\u7aef\u7684\u4f53\u9a8c\u548c<code>Linux</code>\u57fa\u672c\u4e0a\u662f\u4e00\u81f4\u7684\uff09</p>"},{"location":"LECTURE/Linux/linux/#linux_1","title":"Linux \u53d1\u884c\u7248","text":"<p>\u4e00\u4e9b\u7ec4\u7ec7\u6216\u5382\u5546\u5c06<code>Linux \u5185\u6838</code>\u4e0e<code>\u5404\u79cd\u8f6f\u4ef6\u548c\u6587\u6863</code>\u5305\u88c5\u8d77\u6765\uff0c\u5e76\u63d0\u4f9b\u7cfb\u7edf\u5b89\u88c5\u754c\u9762\u548c\u7cfb\u7edf\u914d\u7f6e\u3001\u8bbe\u5b9a\u4e0e\u7ba1\u7406\u5de5\u5177\uff0c\u5c31\u6784\u6210\u4e86 <code>Linux\u7684\u53d1\u884c\u7248\u672c</code>\u3002\u5e38\u89c1\u7684\u53d1\u884c\u7248\u672c\u6709\u5f88\u591a\uff0c\u6bd4\u5982<code>Ubuntu</code> <code>CentOS</code>\u2026</p> <p>\u6211\u4eec\u4f7f\u7528\u7684\u4e5f\u662f\u8fd9\u4e9b<code>Linux\u53d1\u884c\u7248</code>\uff0c\u4e00\u822c\u6211\u4eec\u8bf4\u7684\u5b9e\u9645\u4f7f\u7528\u7684<code>Linux\u64cd\u4f5c\u7cfb\u7edf</code>\u6307\u7684\u4e5f\u662f\u8fd9\u4e9b<code>Linux\u53d1\u884c\u7248</code>\u3002</p> <p>\u8865\u5145\uff1a<code>Linux</code>\u4e5f\u6709\u50cf<code>macOS</code>\u548c<code>Windows</code>\u4e00\u6837\u7684GUI\u7248\uff0c\u76f8\u5f53\u4e8e\u4f60\u5728\u73b0\u5728\u7684\u7535\u8111\u4e0a\u5237\u4e00\u4e2a\u65b0\u7684\u64cd\u4f5c\u7cfb\u7edf\uff1b\u4f46\u6211\u4e0d\u662f\u5f88\u63a8\u8350\u5927\u5bb6\u4f7f\u7528\uff0c\u9664\u975e\u4f60\u662fLinux\u53d1\u70e7\u53cb\uff0c\u4e5f\u613f\u610f\u82b1\u65f6\u95f4\u53bb\u5b66\u3002\u5927\u5bb6\u611f\u5174\u8da3\u7684\u8bdd\u81ea\u5df1\u767e\u5ea6<code>Linux \u684c\u9762 \u53d1\u884c\u7248</code>\u5427\u3002\u6211\u4eec\u4e00\u822c\u8bf4\u7684Linux\u90fd\u662f\u53ea\u6709\u547d\u4ee4\u884c\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#linux_2","title":"Linux \u6587\u4ef6\u7cfb\u7edf","text":"<p>\u5728<code>Linux</code>\u4e2d\uff0c\u4e00\u5207\u7686\u6587\u4ef6\uff1a</p> <ul> <li>\u666e\u901a\u6587\u4ef6\u662f\u6587\u4ef6\uff1b</li> <li>\u76ee\u5f55\u662f\u6587\u4ef6\uff1a\u76ee\u5f55\u6587\u4ef6\u5305\u542b\u4e86\u6b64\u76ee\u5f55\u4e2d\u5404\u4e2a\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u4ee5\u53ca\u6307\u5411\u8fd9\u4e9b\u6587\u4ef6\u7684\u6307\u9488\uff0c\u6253\u5f00\u76ee\u5f55\u7b49\u540c\u4e8e\u6253\u5f00\u76ee\u5f55\u6587\u4ef6\uff1b</li> <li>\u786c\u4ef6\u8bbe\u5907\u662f\u6587\u4ef6\uff1a\u8fd9\u4e9b\u6587\u4ef6\u901a\u5e38\u9690\u85cf\u5728 <code>/dev</code> \u76ee\u5f55\u4e0b\uff0c\u5f53\u8fdb\u884c\u8bbe\u5907\u8bfb\u53d6\u6216\u5916\u8bbe\u4ea4\u4e92\u65f6\u624d\u4f1a\u88ab\u4f7f\u7528\uff1b</li> <li>\u5957\u63a5\u5b57\uff08socket\uff09\u662f\u6587\u4ef6\uff1a\u5957\u63a5\u5b57\u6587\u4ef6\u4e00\u822c\u9690\u85cf\u5728 <code>/var/run</code> \u76ee\u5f55\u4e0b\uff0c\u7528\u4e8e\u8fdb\u7a0b\u95f4\u7684\u7f51\u7edc\u901a\u4fe1\uff1b</li> <li>\u7b26\u53f7\u94fe\u63a5\uff08symbolic link\uff09\u662f\u6587\u4ef6\uff1a\u7c7b\u4f3c\u4e8e\u7684\u5feb\u6377\u65b9\u5f0f\uff0c\u662f\u6307\u5411\u53e6\u4e00\u6587\u4ef6\u7684\u7b80\u4ecb\u6307\u9488\uff08\u4e5f\u5c31\u662f\u8f6f\u94fe\u63a5\uff09\uff1b</li> <li>\u7ba1\u9053\uff08pipe\uff09\u662f\u6587\u4ef6\u3002</li> </ul> <p></p>"},{"location":"LECTURE/Linux/linux/#linux_3","title":"\u4e0a\u624bLinux","text":""},{"location":"LECTURE/Linux/linux/#_38","title":"\u670d\u52a1\u5668","text":"<p>\u8bf4\u4e86\u8fd9\u4e48\u4e45\uff0c\u5927\u5bb6\u8fd8\u6ca1\u89c1\u5230<code>Linux</code>\uff0c\u6211\u4e0d\u59a8\u76f4\u63a5\u62ff\u4e00\u53f0<code>Linux</code>\u6765\u5427\u3002</p> <pre><code>ssh root@106.13.128.69\n</code></pre> <p>\u597d \u8fd9\u6837\u6211\u4eec\u5c31\u8fde\u63a5\u4e0a\u4e86\u4e00\u53f0<code>Linux</code>\uff0c\u8fd9\u4e2a\u662f\u4e3a\u4e86\u6f14\u793a\u524d\u51e0\u5929\u4e70\u7684<code>Linux</code> ww\u3002\u4f60\u8bf4\uff0c\u64cd\u4f5c\u7cfb\u7edf\u4e0b\u8fde\u786c\u4ef6\uff0c\u786c\u4ef6\u5462\uff1f\uff1f\u56e0\u4e3a\u6211\u4e70\u7684\u662f\u767e\u5ea6\u4e91\u5728\u4fdd\u5b9a\u7684\u670d\u52a1\u5668\uff08\u4ec0\u4e48\u662f\u670d\u52a1\u5668\u6211\u4eec\u4e4b\u540e\u4f1a\u8bb2\uff09\uff0c\u6240\u4ee5\u5dee\u4e0d\u591a\u5c31\u662f\u5728\u897f\u5357\u65b9\u5411\u5427\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u6211\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u5230\u8fd9\u53f0<code>Linux</code>\uff0c\u5c31\u53ef\u4ee5\u5bf9\u5176\u8fdb\u884c\u4f7f\u7528\u5566\uff1b\u4f7f\u7528\u7684\u65b9\u6cd5\u5c31\u662f\u6572\u547d\u4ee4\u3002</p> <p>\u89e3\u91ca\u4e00\u4e0b\u4e0a\u9762\u7684\u547d\u4ee4\uff1a\u6211\u662f\u7528\u672c\u673a\u7684<code>ssh</code>\u547d\u4ee4\uff08\u7a0b\u5e8f\uff09\u4e0e<code>ip\u5730\u5740</code>\u4e3a<code>106.13.128.69</code>\u8fdb\u884c<code>ssh\u534f\u8bae</code>\u7684\u901a\u8baf\uff0c\u767b\u9646\u7528\u6237\u4e3a<code>root</code>\u3002</p> <ul> <li><code>SSH</code> \u662f\u8f83\u53ef\u9760\uff0c\u4e13\u4e3a\u8fdc\u7a0b\u767b\u5f55\u4f1a\u8bdd\u548c\u5176\u4ed6\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5b89\u5168\u6027\u7684\u534f\u8bae\u3002\u2014\u2014\u767e\u5ea6\u767e\u79d1</li> <li><code>ip\u5730\u5740</code>\u9700\u8981\u67e5\u770b\u4f60\u8d2d\u4e70\u670d\u52a1\u5668\u7684\u63a7\u5236\u53f0\u3002</li> <li><code>root</code>\u7528\u6237\u62e5\u6709<code>Linux</code>\u670d\u52a1\u5668\u6700\u9ad8\u7684\u6743\u9650\uff0c\u7c7b\u4f3c<code>Windows</code>\u4e0a\u7684\u7ba1\u7406\u5458\uff1b\u8f93\u5165\u5bc6\u7801\u4e4b\u540e\u5c31\u53ef\u4ee5\u8fdb\u5165\u670d\u52a1\u5668\u5566</li> </ul> <p></p> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u7531\u4e8e\u53ea\u662f\u6f14\u793a\uff0c\u6240\u4ee5\u6211\u4e70\u4e86\u914d\u7f6e\u8f83\u4f4e\u7684\u670d\u52a1\u5668\uff0c\u5176CPU\u53ea\u6709\u4e00\u6838\uff0c\u8fdb\u5165\u670d\u52a1\u5668\u8fdb\u884c\u67e5\u770b\uff1a</p> <pre><code>$ cat /proc/cpuinfo\n\u2026\u2026\nmodel name  : Intel(R) Xeon(R) Gold 6148 CPU @ 2.40GHz\n\u2026\u2026\n</code></pre> <p>\uff08\u670d\u52a1\u5668\u914d\u7f6e\uff09\u8fd9\u5757CPU\u5e94\u8be5\u662f\u8981\u6bd4\u7edd\u5927\u591a\u6570\u4eba\u7535\u8111\u4e0a\u88c5\u7684CPU\u662f\u5f3a\u5f88\u591a\u7684\uff08\u867d\u7136\u53ef\u80fd\u8fd9\u53f0\u670d\u52a1\u5668\u53ea\u80fd\u4f7f\u7528\u8fd9\u4e2aCPU\u4e00\u4e2a\u6838\u7684\u8d44\u6e90\uff09\u3002\u5185\u5b582G\u4e0d\u7b97\u5f88\u5927\uff1b\u5b58\u50a8\u76d840G SSD\uff1b\u64cd\u4f5c\u7cfb\u7edf\u7528\u7684\u662f<code>Ubuntu 20.04 LTS</code>\uff08<code>LTS</code>, <code>long term support</code>\uff09\u3002\u5b89\u5168\u7ec4\u662f\u4ec0\u4e48\u6211\u4eec\u5728\u4e4b\u540e\u8bb2\u7aef\u53e3\u7684\u65f6\u5019\u4f1a\u8bb2\u3002</p> <p>\u597d\u4e86\u8fd9\u5c31\u662f\u6211\u4eec\u7684<code>Linux</code>\u3002<code>Linux</code>\u5230\u624b\u4e86\uff0c\u6211\u4eec\u4e5f\u80fd\u8fde\u63a5\u4e0a\u4e86\uff0c\u63a5\u4e0b\u6765\u5f53\u7136\u662f\u8981\u7528<code>Linux</code>\u6765\u505a\u4e8b\u60c5\u4e86\u3002\u4e0d\u8fc7\u5728\u8fd9\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u9700\u8981\u77e5\u9053\uff0c\u4e00\u53f0\u4e91\u7aef\u7684<code>Linux</code>\u670d\u52a1\u5668\u7a76\u7adf\u80fd\u5e72\u4ec0\u4e48\u3002</p> <p>\u8865\u5145\uff1a\u5982\u679c\u4f60\u4e4b\u540e\u4e5f\u6709\u8d2d\u4e70\u670d\u52a1\u5668\u7684\u9700\u6c42\uff0c\u4f5c\u4e3a\u5b66\u751f\uff0c\u6211\u4eec\u53ef\u4ee5\u4ee5\u5b66\u751f\u4f18\u60e0\u5728\u591a\u4e2a\u5e73\u53f0\u4eab\u53d7\u4f4e\u81f3\u4e00\u6298\u7684\u4f18\u60e0\u3002\u53ef\u4ee5\u67e5\u770bGitHub ivmm | \u6559\u80b2\u4f18\u60e0\u4ee5\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u3002</p>"},{"location":"LECTURE/Linux/linux/#_39","title":"\u5176\u4ed6\u65b9\u5f0f","text":""},{"location":"LECTURE/Linux/linux/#wsl","title":"WSL","text":"<p>\u9002\u7528\u4e8e <code>Linux</code> \u7684 <code>Windows</code> \u5b50\u7cfb\u7edf\u53ef\u8ba9\u5f00\u53d1\u4eba\u5458\u76f4\u63a5\u5728 <code>Windows</code> \u4e0a\u6309\u539f\u6837\u8fd0\u884c <code>GNU/Linux</code> \u73af\u5883\uff08\u5305\u62ec\u5927\u591a\u6570\u547d\u4ee4\u884c\u5de5\u5177\u3001\u5b9e\u7528\u5de5\u5177\u548c\u5e94\u7528\u7a0b\u5e8f\uff09\uff0c\u4e14\u4e0d\u4f1a\u4ea7\u751f\u4f20\u7edf\u865a\u62df\u673a\u6216\u53cc\u542f\u52a8\u8bbe\u7f6e\u5f00\u9500\u3002</p> <p>\u5177\u4f53\u5b89\u88c5\u8bf7\u67e5\u770b\u5218\u96ea\u67ab\uff08xfgg\uff09\u6240\u5199\u7684WSL\u6559\u7a0b</p>"},{"location":"LECTURE/Linux/linux/#_40","title":"\u865a\u62df\u673a","text":"<p>\u64cd\u4f5c\u7cfb\u7edf\u4f5c\u4e3a\u8f6f\u4ef6\u548c\u786c\u4ef6\u7684\u6865\u6881\uff0c\u4e0d\u540c\u7684\u64cd\u4f5c\u7cfb\u7edf\u4e0a\u80af\u5b9a\u8fd0\u884c\u7740\u4e0d\u540c\u7684\u8f6f\u4ef6\uff0c\u4e0b\u9762\u4e5f\u6709\u7740\u4e0d\u540c\u7684\u786c\u4ef6\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e00\u822c\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4f7f\u7528\u7684\u786c\u4ef6\uff0c\u53ef\u80fd\u5e76\u4e0d\u80fd\u8fd0\u884c\u53e6\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u3002\u865a\u62df\u673a\u5219\u53ef\u4ee5\u6a21\u62df\u51fa\u7cfb\u7edf\u6240\u9700\u7684\u786c\u4ef6\u73af\u5883\uff0c\u4ece\u800c\u5728\u786c\u4ef6\u4e0a\u8dd1\u5176\u4ed6\u7684\u64cd\u4f5c\u7cfb\u7edf\u3002\u6bd4\u5982\u4f7f\u7528<code>Mac</code>\u7684\u540c\u5b66\u4e00\u822c\u90fd\u4f1a\u6709\u4e00\u4e2a\u865a\u62df\u673a\u8f6f\u4ef6\uff0c\u7528\u6765\u5f00<code>Windows</code>\u865a\u62df\u673a\u3002</p> <p>\u6211\u4eec\u4e5f\u53ef\u4ee5\u4f7f\u7528\u865a\u62df\u673a\u6765\u88c5<code>Linux</code>\u3002\u4e0d\u8fc7\u8fd9\u65f6\u4f60\u88c5\u5230\u7684\u53ef\u80fd\u66f4\u591a\u662f\u56fe\u5f62\u754c\u9762\u7684<code>Linux</code>\u3002</p>"},{"location":"LECTURE/Linux/linux/#docker","title":"Docker","text":"<p><code>Docker</code>\u548c\u865a\u62df\u673a\u5dee\u4e0d\u591a\uff0c\u4e0d\u8fc7\u6bd4\u865a\u62df\u673a\u6548\u7387\u66f4\u9ad8\uff0c\u5360\u7528\u7684\u8d44\u6e90\u66f4\u5c11\u3002\u6211\u4eec\u8fd9\u6b21\u6691\u57f9\u4e5f\u6709<code>Docker</code>\u76f8\u5173\u7684\u8bfe\u7a0b\uff0c\u5927\u5bb6\u5230\u65f6\u5019\u53ef\u4ee5\u5c1d\u8bd5\u4f7f\u7528<code>Docker</code>\u5b89\u88c5<code>Linux</code>\u7cfb\u7edf\u3002</p>"},{"location":"LECTURE/Linux/linux/#ssh","title":"\u914d\u7f6essh\u8fde\u63a5","text":""},{"location":"LECTURE/Linux/linux/#_41","title":"\u65e0\u9700\u5bc6\u7801\u767b\u9646","text":"<pre><code>ssh root@106.13.128.69\ncd /root\nchmod 700 .ssh\ncd /root/.ssh\ntouch authorized_keys\nchmod 600 authorized_keys\nvim authorized_keys\n</code></pre> <p>\u7136\u540e\u5c06\u672c\u5730<code>~/.ssh/id_rsa.pub</code>\u4e2d\u7684\u5168\u90e8\u5185\u5bb9\u590d\u5236\u5230<code>vim</code>\u7f16\u8f91\u5668\u4e2d, \u4fdd\u5b58\u9000\u51fa\u5373\u53ef</p> <p>\u4e00\u822c\u6211\u4eec\u90fd\u7528\u8d26\u53f7\u548c\u5bc6\u7801\u6765\u767b\u9646\uff1b\u4f46\u662f\u8fd9\u6837\u5e76\u4e0d\u5f88\u5b89\u5168\uff0c\u4e5f\u8bb8\u4f1a\u6709\u4e00\u4e9b\u9014\u5f84\u8ba9\u522b\u4eba\u63a2\u5230\u4f60\u7684\u5bc6\u7801\u3002\u4e00\u79cd\u66f4\u5b89\u5168\u7684\u65b9\u5f0f\u662f\u4f7f\u7528\u5bc6\u94a5\u8fdb\u884c\u767b\u9646\u3002</p> <p></p>"},{"location":"LECTURE/Linux/linux/#ssh_1","title":"\u7ed9ssh\u914d\u7f6e\u7aef\u53e3\u548c\u7528\u6237\u540d","text":"<p>\u672c\u673a\uff1a</p> <pre><code>$ vim ~/.ssh/config\n## add\nhost bdy\n    user root\n    hostname 106.13.128.69\n</code></pre> <pre><code>$ ssh bdy # \u4e0d\u7528\u6bcf\u6b21\u90fd\u8f93ip\u5730\u5740\u4e86\n</code></pre>"},{"location":"LECTURE/Linux/linux/#linux_4","title":"\u4e91\u7aefLinux\u670d\u52a1\u5668\u7684\u529f\u80fd","text":"<p>\u521a\u521a\u6211\u6f14\u793a\u4e86\u6211\u4eec\u4e4b\u524d\u8bb2\u8fc7\u7684\u4e00\u4e9b\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u8fd9\u4e9b\u7a0b\u5e8f\u5f53\u7136\u53ef\u4ee5\u7528\u3002\u4e0d\u8fc7\u6211\u4eec\u662f\u53ef\u4ee5\u505a\u4e00\u4e9b\u66f4\u5f3a\u7684\u4e8b\u60c5\u7684\u3002</p> <p>\u8fd9\u53f0\u673a\u5668\u4e0a\u6709\u786c\u76d8\uff0c\u6211\u53ef\u4ee5\u628a\u6587\u4ef6\u4e22\u8fdb\u53bb\u8ba9\u522b\u4eba\u8bbf\u95ee\u2014\u2014\u4e5f\u8bb8\u53ef\u4ee5\u505a\u4e2a\u4e91\u76d8\uff1b\u5982\u679c\u5199\u4e86\u7f51\u7ad9\u4e22\u4e0a\u53bb\uff0c\u90a3\u4e5f\u8bb8\u53ef\u4ee5\u505a\u4e2a\u7535\u5546\u5e73\u53f0\uff1bCPU\u8fd9\u4e48\u597d\uff0c\u4e0d\u59a8\u88c5\u4e2apython\u6765\u8dd1\u673a\u5668\u5b66\u4e60\u7684\u8bad\u7ec3\u6a21\u578b\u5427\uff1b\u5982\u679c\u518d\u88c5\u4e2aGPU\uff0c\u63d0\u9ad8\u4e00\u4e0b\u7f51\u7edc\u5e26\u5bbd\uff0c\u505a\u89c6\u9891\u526a\u8f91\u7684\u6e32\u67d3\u519c\u573a\u4e5f\u8bf4\u4e0d\u5b9a\uff1f</p> <p>\u4e91\u7aef<code>Linux\u670d\u52a1\u5668</code>\u548c\u666e\u901a\u7684\u7535\u8111\u672c\u8d28\u662f\u4e00\u6837\u7684\uff0c\u53ea\u662f\u5b83\u7684CPU\u66f4\u5f3a\uff0c\u7cfb\u7edf\u662f<code>Linux</code>\uff0c\u4e8c\u5341\u56db\u5c0f\u65f6\u5f00\u673a\uff0c\u968f\u4fbf\u4f60\u600e\u4e48\u6298\u817e\uff0c\u4e0d\u5728\u4f60\u8eab\u8fb9\uff0c\u98ce\u6247\u600e\u4e48\u8f6c\u4e5f\u5435\u4e0d\u5230\u4f60\u3002\u8dd1\u4e2a\u673a\u5668\u5b66\u4e60\u52a8\u8f84\u51e0\u5929\u51e0\u5468\uff0c\u6254\u5230\u670d\u52a1\u5668\u4e0a\u53bb\u8dd1\u5427\uff1b\u6709\u4e2a\u7f51\u7ad9\u60f3\u8ba9\u522b\u4eba\u4e8c\u5341\u56db\u5c0f\u65f6\u90fd\u80fd\u8bbf\u95ee\uff0c\u6254\u5230\u670d\u52a1\u5668\u4e0a\u53bb\u5427\u3002</p> <p>\u90a3\u4e3a\u4ec0\u4e48\u628a\u8fd9\u6837\u7684\u4e00\u53f0\u7535\u8111\u53eb\u505a\u670d\u52a1\u5668\u5462\uff1f\u5904\u7406\u8bf7\u6c42 == \u63d0\u4f9b\u670d\u52a1\u3002\u6bd4\u5982\u6211\u60f3\u4ece\u6211\u540c\u5b66\u7684\u7535\u8111\u4e0a\u62f7\u4e00\u5f20\u56fe\uff0c\u6211\u53ef\u4ee5\u628aU\u76d8\u7ed9ta\uff0cta\u62f7\u597d\u518d\u628aU\u76d8\u8fd8\u7ed9\u6211\uff1b\u4e0d\u8fc7\u7f51\u7edc\u90fd\u8fd9\u4e48\u53d1\u8fbe\u4e86\uff0cta\u53ef\u4ee5\u628a\u56fe\u5148\u53d1\u5230\u670d\u52a1\u5668\uff0c\u7136\u540e\u6211\u544a\u8bc9\u670d\u52a1\u5668\u8bf4\uff0c\u300c\u6211\u8981\u90a3\u4e00\u5f20\u56fe\u300d\uff0c\u7136\u540e\u670d\u52a1\u5668\u5c31\u628a\u90a3\u5f20\u56fe\u53d1\u7ed9\u6211\uff1b\u90a3\u5982\u679c\u662f\u5f88\u591a\u4eba\u90fd\u60f3\u8981\u8fd9\u5f20\u56fe\uff0c\u90a3\u4e48\u539f\u672c \u6709\u90a3\u5f20\u56fe\u7684\u4eba\u53ea\u9700\u8981\u4e0a\u4f20\u4e00\u6b21\u5230\u670d\u52a1\u5668\uff0c\u60f3\u8981\u8fd9\u5f20\u56fe\u7684\u4eba\u90fd\u5f80\u670d\u52a1\u5668\u53d1\u8bf7\u6c42\u300c\u7ed9\u6211\u56fe\u300d\uff0c\u7136\u540e\u670d\u52a1\u5668\u5c31\u8fd4\u56de\u7ed9\u4f60\u5bf9\u5e94\u7684\u56fe\u7247\u8d44\u6e90\u3002</p> <p>\u5dee\u4e0d\u591a\u5c31\u662f\uff0c\u5904\u7406\u5f88\u591a\u4eba\u53d1\u7684\u8bf7\u6c42\u7684\u673a\u5668\u5c31\u662f\u670d\u52a1\u5668\u5427\uff1b\u540c\u65f6\u5904\u7406\u5f88\u591a\u4eba\u7684\u8bf7\u6c42\uff0c\u90a3\u5c31\u9700\u8981\u5f88\u5f3a\u7684<code>I/O\u80fd\u529b</code>\uff0c\u6240\u4ee5CPU\u5f53\u7136\u8981\u5f88\u5389\u5bb3\u5566\u3002\u670d\u52a1\u5668\u6709\u5f88\u591a\u7684\u7aef\u53e3\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u4e00\u4e2a\u7aef\u53e3\u5bf9\u5e94\u4e00\u4e2a\u670d\u52a1\u3002\u6bd4\u5982\u4f60\u53ef\u4ee5\u5728\u4e00\u4e2a\u7aef\u53e3\u90e8\u7f72\u4e00\u4e2a\u6570\u636e\u5e93\uff0c\u4e00\u4e2a\u7aef\u53e3\u7528\u6765\u8ba9\u7528\u6237\u8bbf\u95ee\u7f51\u9875\uff0c\u4e00\u4e2a\u7aef\u53e3\u6765\u63d0\u4f9bssh\u8fde\u63a5\u670d\u52a1\u5668\u7684\u670d\u52a1\u2026\u2026\uff08\u4e3a\u4e86\u786e\u4fdd\u5b89\u5168\u6027\uff0c\u4f60\u9700\u8981\u5728\u4f60\u8d2d\u4e70\u4e91\u670d\u52a1\u7684\u63a7\u5236\u53f0\u786e\u8ba4\u5b89\u5168\u7ec4\u7684\u5f00\u653e\u60c5\u51b5\uff0c\u5b89\u5168\u7ec4\u4e5f\u5c31\u662f\u5141\u8bb8\u5efa\u7acb\u8fde\u63a5\u7684\u7aef\u53e3\uff09</p> <p>\u4e3a\u4ec0\u4e48\u670d\u52a1\u5668\u5927\u591a\u6570\u90fd\u662f<code>Linux</code>\u5462\uff08\u7ea697%\uff09\uff0c\u8fd9\u662f\u56e0\u4e3a<code>Linux</code>\u662f\u5f00\u6e90\u7684\uff0c\u5f00\u6e90\u7684\u64cd\u4f5c\u7cfb\u7edf\u662f\u514d\u8d39\u7684\uff0c\u6240\u4ee5\u7528<code>Linux</code>\u6210\u672c\u662f\u5f88\u4f4e\u7684\uff1b\u5f00\u6e90\u4e5f\u52a0\u901f<code>Linux</code>\u4e0d\u65ad\u8fed\u4ee3\u7ef4\u62a4\u5347\u7ea7\uff0c\u5176\u4e5f\u8d8a\u6765\u8d8a\u597d\u7528\u6613\u7528\u3002</p>"},{"location":"LECTURE/Linux/linux/#_42","title":"\u7f51\u7ad9\u90e8\u7f72","text":""},{"location":"LECTURE/Linux/linux/#_43","title":"\u8bbf\u95ee\u7f51\u7ad9\u7684\u6d41\u7a0b","text":"<p>\u8bbf\u95ee\u4e00\u4e2a\u7f51\u7ad9\uff0c\u672c\u8d28\u4e0a\u7ecf\u8fc7\u4e86\u4e0b\u9762\u7684\u4e00\u4e9b\u6b65\u9aa4\uff1a</p> <ul> <li>\u7528\u6237\u5728\u6d4f\u89c8\u5668\uff08\u5ba2\u6237\u7aef\uff09\u6572\u5165\u57df\u540d</li> <li>\u8be5\u57df\u540d\u901a\u8fc7DNS\u53d8\u4e3a\u9700\u8981\u8bbf\u95ee\u7684\u670d\u52a1\u5668\u7684ip\u5730\u5740</li> <li>\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u7aef\uff08Linux\u670d\u52a1\u5668\uff09\u5efa\u7acb\u8fde\u63a5\u5e76\u53d1\u9001\u4e92\u8054\u7f51\u8bf7\u6c42</li> <li>\u670d\u52a1\u7aef\u5904\u7406\u8be5\u8bf7\u6c42</li> <li>\u670d\u52a1\u7aef\u5411\u5ba2\u6237\u7aef\u8fd4\u56de\u5bf9\u5e94\u7684\u8d44\u6e90\uff08\u7f51\u9875\u3001\u56fe\u7247\u7b49\uff09</li> <li>\u6d4f\u89c8\u5668\u6536\u5230\u8fd4\u56de\u7684\u8d44\u6e90\u8fdb\u884c\u6e32\u67d3\u5448\u73b0\u5728\u7528\u6237\u7684\u5c4f\u5e55\u4e0a</li> </ul>"},{"location":"LECTURE/Linux/linux/#_44","title":"\u90e8\u7f72\u7f51\u9875","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u7b80\u5355\u5728\u670d\u52a1\u5668\u4e0a\u642d\u5efa\u4e00\u4e2a\u9759\u6001\u7f51\u9875\uff0c\u53ef\u4ee5\u8ba9\u5927\u5bb6\u6765\u67e5\u770b\u6b64\u6b21\u7684\u8bb2\u7a3f\u5427\u3002</p>"},{"location":"LECTURE/Linux/linux/#nginx","title":"\u5b89\u88c5nginx","text":"<p>\u9996\u5148\u6765\u88c5\u4e2a<code>nginx</code>\u5427\uff1a</p> <pre><code>$ apt update\n$ apt install nginx\n</code></pre> <p>\u8fd9\u65f6\u6211\u4eec\u8bbf\u95ee<code>106.13.128.69</code>\u5c31\u80fd\u770b\u5230<code>Nginx\u7684\u6b22\u8fce\u754c\u9762</code>\u4e86\u3002</p> <p>\u6ce81\uff1aNginx \uff08\u8bfb\u4f5c <code>engine X</code>\uff09\u662f\u4e00\u4e2a\u9ad8\u6027\u80fd\u7684\u7f51\u9875\u3001\u53cd\u5411\u4ee3\u7406\u3001\u8d1f\u8f7d\u5747\u8861\u670d\u52a1\u5668\u3002<code>Nginx</code> \u8fd0\u884c\u5728\u670d\u52a1\u5668\u7aef\uff0c\u76d1\u542c\u670d\u52a1\u5668\u7684\u67d0\u4e2a\u7aef\u53e3\u5e76\u505a\u51fa\u54cd\u5e94\uff0c\u4ee5\u8fbe\u5230\u63d0\u4f9b web \u670d\u52a1\u7684\u76ee\u7684\u3002</p>"},{"location":"LECTURE/Linux/linux/#apt","title":"\u5305\u7ba1\u7406apt","text":"<p>\u6ce82\uff1aapt\u662f<code>Linux\u670d\u52a1\u5668</code>\u4e0a\u7684\u5305\u7ba1\u7406\u5de5\u5177\uff08<code>apt</code>, <code>Advanced Packaging Tool</code>, \u662f <code>Ubuntu</code> \u81ea\u5e26\u7684\u5305\u7ba1\u7406\u5de5\u5177\uff09\u3002\u6211\u4eec\u5728<code>Linux</code>\u4e2d\u4f7f\u7528\u7684\u90fd\u662f\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u90a3\u4e48\u5982\u4f55\u5b89\u88c5\u8fd9\u4e9b\u547d\u4ee4\u884c\u7a0b\u5e8f\u5462\uff1f\u5b89\u88c5\u4e00\u4e9b\u7a0b\u5e8f\u7684\u65f6\u5019\u5b83\u6709\u76f8\u5f53\u591a\u7684\u4f9d\u8d56\uff08\u5373\u8fd9\u4e2a\u7a0b\u5e8f\u8981\u8c03\u7528\u5176\u4ed6\u7684\u547d\u4ee4\u884c\u7a0b\u5e8f\uff09\uff0c\u600e\u4e48\u7ba1\u7406\u8fd9\u4e9b\u5462\uff1f\u90fd\u7528\u5305\u7ba1\u7406\u5de5\u5177\u5c31\u597d\u4e86\u3002</p> <p>\u3007 <code>apt</code>\u5e38\u7528\u547d\u4ee4\uff1a</p> <ul> <li><code>apt update</code>\uff1a\u66f4\u65b0\u8f6f\u4ef6\u6e90\u4e2d\u7684\u6240\u6709\u8f6f\u4ef6\u5217\u8868\uff0c\u5efa\u8bae\u5728\u6267\u884c\u5b89\u88c5\u6216\u66f4\u65b0\u64cd\u4f5c\u524d\uff0c\u5148\u6267\u884c\u8be5\u6307\u4ee4\u3002</li> <li><code>apt list</code>\uff1a\u5217\u51fa\u6240\u6709\u8f6f\u4ef6\u5305</li> <li><code>apt list --upgradable</code>\uff1a\u5217\u51fa\u6240\u6709\u53ef\u4f9b\u66f4\u65b0\u7684\u8f6f\u4ef6\u5305</li> <li><code>apt upgrade</code>\uff1a\u5347\u7ea7\u8f6f\u4ef6\u5305</li> <li><code>apt install &lt;package_name&gt;</code>\uff1a\u5b89\u88c5\u8f6f\u4ef6\u5305</li> <li><code>apt remove &lt;package_name&gt;</code>\uff1a\u5378\u8f7d\u8f6f\u4ef6\u5305</li> <li><code>apt purge &lt;package_name&gt;</code>\uff1a\u6e05\u9664\u8f6f\u4ef6\u5305\uff08\u5305\u542b\u8f6f\u4ef6\u5305\u548c\u5b83\u7684\u914d\u7f6e\u6587\u4ef6\uff09</li> <li><code>apt search &lt;package_name&gt;</code>\uff1a\u641c\u7d22\u8f6f\u4ef6\u5305</li> <li><code>apt show &lt;package_name&gt;</code>\uff1a\u663e\u793a\u8f6f\u4ef6\u5305\u7684\u4fe1\u606f</li> </ul> <p>\u3007 <code>apt</code>\u7684\u51e0\u4e2a\u7f3a\u7701\u8def\u5f84\uff1a</p> <ul> <li>\u4e0b\u8f7d\u7684\u8f6f\u4ef6\u5b58\u653e\u4f4d\u7f6e\uff1a<code>/var/cache/apt/archives</code></li> <li>\u5b89\u88c5\u540e\u8f6f\u4ef6\u9ed8\u8ba4\u4f4d\u7f6e\uff1a<code>/usr/share</code></li> <li>\u53ef\u6267\u884c\u6587\u4ef6\u4f4d\u7f6e\uff1a<code>/usr/bin</code></li> <li>\u914d\u7f6e\u6587\u4ef6\u4f4d\u7f6e\uff1a<code>/etc</code></li> <li>\u5e93\u6587\u4ef6\u4f4d\u7f6e\uff1a<code>/usr/lib</code></li> </ul>"},{"location":"LECTURE/Linux/linux/#_45","title":"\u90e8\u7f72","text":"<p>\u518d\u5199\u4e2a\u7f51\u9875\uff0c\u6539\u4e00\u4e0b<code>nginx\u7684\u914d\u7f6e\u6587\u4ef6</code>\u5427\u3002</p> <pre><code>$ mkdir /root/website\n$ cd /root/website\n$ vim index.html\n</code></pre> <pre><code>$ cat /etc/nginx/nginx.conf # \u67e5\u770b\u914d\u7f6e\n$ vim /etc/nginx/conf.d/test.conf # \u81ea\u5df1\u914d\u7f6e\n## add followings\nserver{\n    listen 23333;\n    server_name 106.13.128.69;\n        location / {\n        root /home/yxj/website/;\n        }\n}\n$ nginx -s reload\n</code></pre> <p>\u5982\u679c<code>listen 23333;</code>\u6ce8\u610f\u9700\u8981\u5728\u670d\u52a1\u5668\u7684\u5b89\u5168\u7ec4\u4e2d\u6dfb\u52a0\u8fd9\u4e2a\u7aef\u53e3\u624d\u80fd\u5728\u6d4f\u89c8\u5668\u4e2d\u8bbf\u95ee\uff08\u9700\u8981\u8f93\u5165<code>ip:23333</code>\u624d\u80fd\u8bbf\u95ee\uff09\uff1b\u5982\u679c<code>listen 80;</code>\u4e14\u6ca1\u6709\u5907\u6848,<code>server_name;</code>\u662f\u5fc5\u987b\u7684\uff08\u53ef\u76f4\u63a5\u8f93\u5165ip\u5730\u5740\u8bbf\u95ee\uff09</p> <p>\uff08\u6211\u4eec\u4e4b\u540e\u4f1a\u6709\u66f4\u597d\u7684\u65b9\u5f0f\u5c06\u8fd9\u6b21\u8bb2\u7a3f\u90e8\u7f72\u51fa\u6765\u7684hh\uff09</p>"},{"location":"LECTURE/Linux/linux/#_46","title":"\u90e8\u7f72\u53ef\u4ee5\u4ea4\u4e92\u7684\u5c0f\u6e38\u620f","text":"<p>\u521a\u521a\u6211\u4eec\u653e\u4e0a\u53bb\u7684\u4ec5\u4ec5\u662f\u4e00\u4e2a\u9759\u6001\u9875\u9762\u3002\u9759\u6001\u6307\u7684\u662f\u4f60\u4e0d\u80fd\u901a\u8fc7\u70b9\u51fb\u548c\u9875\u9762\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>\u5982\u6cd5\u70ae\u5236\uff0c\u6211\u4eec\u628a\u5c0f\u6e38\u620f\u90e8\u7f72\u4e0a\u53bb\u3002\u9996\u5148\u6211\u4eec\u9700\u8981\u5199\u51fa\u6765\u4e00\u4e2a\u5c0f\u6e38\u620f\uff0c\u5e76\u4e14\u5c06\u5176build\u4e3a\u7f51\u9875\u3002\u5173\u4e8e\u8fd9\u4e00\u6b65\u600e\u4e48\u505a\uff0c\u540e\u9762\u5f00\u53d1\u7f51\u7ad9\u7684\u65f6\u5019\u5927\u6982\u4f1a\u8bb2\u5230\uff0c\u8fd9\u4e0d\u662f\u6211\u4eec\u4eca\u5929\u7684\u91cd\u70b9\uff1b\u8fd9\u4e00\u6b65\u6211\u5df2\u7ecf\u63d0\u524d\u505a\u597d\u4e86\uff0cbuild\u5b8c\u6210\u7684\u7f51\u9875\u5728\u6211\u7684\u7535\u8111\u4e0a<code>/Users/yangxijie/Desktop/Linux/react-game-build</code>\u3002\u5982\u4f55\u5c06\u5176\u4e0a\u4f20\u81f3\u670d\u52a1\u5668\u5462\uff1f</p> <pre><code>scp -r /Users/yangxijie/Desktop/Linux/react-game-build bdy:/home/yxj/react-game\n</code></pre> <pre><code>$ vim /etc/nginx/conf.d/test.conf\n## add followings\nserver{\n    listen 2333;\n    server_name 106.13.128.69;\n        location / {\n        root /home/yxj/react-game/;\n        }\n}\n$ nginx -s reload\n</code></pre> <p>\u6ce8\uff1a\u4f46\u5176\u5b9e\u8fd9\u4e48\u90e8\u7f72\u4e0d\u592a\u597d\uff0c\u4f60\u5e94\u8be5\u7528\u57df\u540d\uff1b\u6211\u5728\u8fd9\u91cc\u5c31\u4e0d\u6f14\u793a\u4e86\u3002</p>"},{"location":"LECTURE/Linux/linux/#tmux","title":"\u7a0b\u5e8f\u7f16\u8bd1 \u548c tmux","text":"<p>\u5f53\u7136<code>Linux</code>\u670d\u52a1\u5668\u8fd8\u53ef\u4ee5\u505a\u5f88\u591a\u4e8b\u60c5\uff0c\u6bd4\u5982\u5e2e\u6211\u7f16\u8bd1\u7a0b\u5e8f\u3002\u6211\u9009\u53d6<code>x265</code>\u89c6\u9891\u7f16\u7801\u5668\u7684\u6e90\u7801\u6765\u7ed9\u5927\u5bb6\u6f14\u793a\u4e00\u4e0b\u3002\uff08\u5b9e\u9645\u4f7f\u7528\u7684\u7f16\u8bd1\u8054\u673a\u7ba1\u7406\u5de5\u5177\u662f<code>make</code>\uff0c\u5f53\u4ee3\u7801\u6587\u4ef6\u591a\u8d77\u6765\u7684\u65f6\u5019\uff0c\u4e00\u6761\u6761\u547d\u4ee4\u80af\u5b9a\u4e0d\u591f\u7528\uff0c\u6211\u4eec\u9700\u8981\u4e00\u5957\u5de5\u5177\u9488\u5bf9\u4fee\u6539\u8fc7\u7684\u6587\u4ef6\u5206\u522b\u7f16\u8bd1\u94fe\u63a5\uff09</p> <p>\u4f46\u5176\u5b9e\u8fd9\u91cc\u6211\u66f4\u60f3\u544a\u8bc9\u5927\u5bb6\u7684\u662f <code>tmux</code>\u3002\u5728<code>Linux</code>\u4e0a\u6267\u884c\u5f88\u591a\u4efb\u52a1\uff0c\u90fd\u662f\u9700\u8981\u82b1\u65f6\u95f4\u7684\uff0c\u6bd4\u5982\u51e0\u4e2a\u5c0f\u65f6\uff1f\u6216\u8005\u4f60\u9700\u8981\u4e00\u4e2a\u7a0b\u5e8f / \u811a\u672c24h\u8fd0\u884c\uff1b\u4f46\u4f60\u7528ssh\u8fde\u63a5\u5230\u670d\u52a1\u5668\uff0c\u5982\u679c\u6211\u4eec\u9000\u51fa\u670d\u52a1\u5668\uff0c\u5f53\u524d\u7684\u5bf9\u8bdd\uff08<code>session</code>\uff0c<code>\u5f53\u524d\u5f00\u542f\u7684shell</code>\uff09\u5c31\u4f1a\u88ab\u7ec8\u6b62\u3002\u5982\u679c\u6211\u4eec\u5e0c\u671b\u9000\u51fa\u670d\u52a1\u5668\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u7684\u4efb\u52a1\u80fd\u591f\u7ee7\u7eed\u6267\u884c\uff0c\u6211\u4eec\u9700\u8981\u7528<code>tmux</code></p> <pre><code>$ tmux new -s &lt;session-name&gt; # \u65b0\u5efa\u4f1a\u8bdd\n$ tmux detach # \u5206\u79bb\u4f1a\u8bdd\uff08\u5e76\u672a\u7ed3\u675f\uff09\uff08\u2303B d\uff09\n$ exit # \u7ed3\u675f\u4f1a\u8bdd\uff08\u2303D\uff09\n\n$ tmux ls # \u67e5\u770b\u5f53\u524d\u6240\u6709\u7684\u4f1a\u8bdd\n$ tmux attach -t &lt;session-name&gt; # \u63a5\u5165\u4f1a\u8bdd\n\n$ tmux kill-session -t &lt;session-name&gt; # \u6740\u6b7b\u4f1a\u8bdd\n</code></pre> <pre><code>$ wget -c https://bitbucket.org/multicoreware/x265_git/downloads/x265_3.5.tar.gz # \u4e0b\u8f7d\u8f6f\u4ef6\u5305\n\n$ tmux new -s x265\n\n$ tar -zxvf x265_3.5.tar.gz\n$ cd x265_3.5/build/linux\n$ ./make-Makefiles.bash\n$ make\n\n\u2303B d # \u9000\u51fa\u5f53\u524d tmux session\n\n\u2303 D # \u9000\u51fa\u670d\u52a1\u5668\n\n$ ssh bdy\n$ tmux attach -t x265 # \u91cd\u65b0\u8fde\u63a5\u4f1a\u8bdd\uff0c\u53ef\u4ee5\u770b\u5230\u5df2\u7ecf\u7f16\u8bd1\u5b8c\u6210\u4e86\n</code></pre> <p>\u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u60f3\u5230\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u670d\u52a1\u5668\u4e0a\u6267\u884c\u4e00\u4e9b\u7f16\u8bd1\u3001\u6d4b\u8bd5\u7684\u4efb\u52a1\u3002\u662f\u7684\uff0c\u5927\u5bb6\u4e4b\u540e\u4f7f\u7528\u5230<code>GitHub Actions</code>\u6216\u8005\u6709\u4e00\u4e9b\u81ea\u5df1\u7684\u6d4b\u8bd5\u4efb\u52a1\uff0c\u5c31\u53ef\u4ee5\u5c06\u5b83\u4eec\u90e8\u7f72\u5230\u670d\u52a1\u5668\u4e0a\u3002</p> <p>\u8865\u5145\uff1a\u5f88\u597d\u7684<code>tmux\u547d\u4ee4</code>\u6574\u7406 \u962e\u4e00\u5cf0\u7684\u7f51\u7edc\u65e5\u5fd7\uff5ctmux\u4f7f\u7528\u6559\u7a0b</p>"},{"location":"LECTURE/Linux/linux/#linux_5","title":"Linux\u4f5c\u4e3a\u5f00\u53d1\u73af\u5883\uff1f","text":"<p><code>Linux</code> \u662f\u4e00\u79cd\u81ea\u7531\u548c\u5f00\u6e90\u7c7b <code>UNIX</code> \u64cd\u4f5c\u7cfb\u7edf\u3002<code>Linux</code> \u7cfb\u7edf\u5de5\u5177\u94fe\u5b8c\u6574\uff0c\u7b80\u5355\u64cd\u4f5c\u5c31\u53ef\u4ee5\u914d\u7f6e\u51fa\u5408\u9002\u7684\u5f00\u53d1\u73af\u5883\uff0c\u53ef\u4ee5\u7b80\u5316\u5f00\u53d1\u8fc7\u7a0b\uff0c\u51cf\u5c11\u5f00\u53d1\u4e2d\u4eff\u771f\u5de5\u5177\u7684\u969c\u788d\uff0c\u4f7f\u7cfb\u7edf\u5177\u6709\u8f83\u5f3a\u7684\u79fb\u690d\u6027\uff0c\u56e0\u6b64\u6211\u4eec\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u4f1a\u7ecf\u5e38\u4f7f\u7528\u5230 <code>Linux</code> \u64cd\u4f5c\u7cfb\u7edf\u3002\u6240\u4ee5\uff0c\u4e86\u89e3 <code>Linux</code> \u7cfb\u7edf\u4ee5\u53ca\u76f8\u5173\u5de5\u5177\u7684\u57fa\u672c\u4f7f\u7528\u662f\u975e\u5e38\u91cd\u8981\u7684\u3002</p> <p>\u4e0a\u4e3a\u63a8\u9001\u7684\u7b80\u4ecb\u3002</p> <p>\u4e0d\u8fc7\u4e8b\u5b9e\u4e0a\uff0c\u5728\u5f00\u53d1\u7684\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4eec\u4e00\u822c\u4f1a\u7528<code>macOS</code>\u548c<code>Windows</code>\u7f16\u5199\u4ee3\u7801\uff0c\u7136\u540e\u4f7f\u7528<code>Linux</code>\u4f5c\u4e3a\u6d4b\u8bd5\u3001\u90e8\u7f72\u5de5\u5177\uff0c<code>Linux</code>\u662f\u5f88\u597d\u7684<code>\u5f00\u53d1\u73af\u5883</code>\u2014\u2014\u771f\u8981\u8bf4\u5f00\u53d1\uff0c\u5199\u4ee3\u7801\uff0c\u90a3\u5f53\u7136\u8fd8\u662f\u5f00\u4e2a<code>VS Code</code>\u6216\u8005<code>IDE</code>\u8981\u65b9\u4fbf\u4e00\u4e9b\uff1b\u53ef\u80fd\u4f1a\u6709\u771f\u6b63\u7684\u5927\u4f6c\u7528<code>vim</code>\u5728<code>Linux</code>\u4e0a\u5199\u7a0b\u5e8f\u4e5f\u8bf4\u4e0d\u51c6\u3002<code>Linux</code>\u4f5c\u4e3a\u53ef\u4ee5\u5feb\u901f\u90e8\u7f72\u7684\u73af\u5883\uff0c24h\u5f00\u673a\u63d0\u4f9b\u670d\u52a1\uff0c\u6709\u7740\u9ad8\u6027\u80fd\u7684CPU\u548c\u78c1\u76d8\uff0c\u8fd9\u4e9b\u662f\u5b83\u7684\u4f18\u52bf\u3002\u5728\u8be5\u4f7f\u7528<code>Linux</code>\u7684\u5730\u65b9\u4f7f\u7528<code>Linux</code>\uff0c\u8ba9\u5f00\u53d1\u7684\u6d41\u7a0b\u7b80\u5316\u3001\u6548\u7387\u63d0\u5347\u5427\u3002</p>"},{"location":"LECTURE/Linux/linux/#_47","title":"\u603b\u7ed3","text":"<p>\u8fd9\u6b21\u8bb2\u5ea7\uff0c\u6211\u4eec\u5b66\u4e60\u7684\u6838\u5fc3\u662f\u4f7f\u7528\u547d\u4ee4\u884c\u3002\u5728\u4e86\u89e3\u7ec8\u7aef\u548cshell\u7684\u4f7f\u7528\u4e4b\u540e\uff0c\u6211\u4eec\u4f7f\u7528Linux\u670d\u52a1\u5668\u8fdb\u884c\u4e86\u6f14\u793a\u3002\u8fd9\u6b21\u8bb2\u5ea7\u4e5f\u5305\u542b\u4e86\u5f88\u591a\u8ba1\u7b97\u673a\u76f8\u5173\u7684\u57fa\u7840\u77e5\u8bc6\u3002</p> <p>\u5e0c\u671b\u5927\u5bb6\u8bfe\u540e\u590d\u4e60\u8bb2\u7a3f\u3001\u6709\u95ee\u9898\u79ef\u6781\u63d0\u95ee\u4ea4\u6d41\uff0c\u53ef\u5e0c\u671b\u5927\u5bb6\u591a\u5b9e\u8df5\uff0c\u591a\u5c1d\u8bd5\u3002</p>"},{"location":"LECTURE/Linux/linux/#_48","title":"\u8bfe\u540e\u7b54\u7591","text":"<p>\u63a8\u8350\u7ebf\u4e0b\u7684\u540c\u5b66\u76f4\u63a5\u548c\u6211\u9762\u5bf9\u9762\u4ea4\u6d41\uff0c\u6211\u4e00\u76f4\u8ba4\u4e3a\u8fd9\u79cd\u65b9\u5f0f\u662f\u6548\u7387\u6700\u9ad8\u7684\u4ea4\u6d41\u65b9\u5f0f\u3002\u7ebf\u4e0a\u7684\u540c\u5b66\u53ef\u4ee5\u901a\u8fc7\u817e\u8baf\u4f1a\u8bae\u7684\u804a\u5929\u7a97\u53e3\u63d0\u95ee\uff0c\u6211\u770b\u5230\u5c31\u4f1a\u56de\u7b54\uff0c\u6ca1\u770b\u5230\u7684\u8bdd\u4f60\u53ef\u4ee5\u591a\u53d1\u51e0\u904d\u3002</p> <p>\u8bfe\u540e\u5927\u5bb6\u53ef\u4ee5\u901a\u8fc7 <code>B\u7ad9\u79c1\u4fe1</code> \u5411\u300c\u6768\u5e0c\u6770619\u300d\u63d0\u95ee\u3002</p>"},{"location":"LECTURE/Linux/linux/#_49","title":"\u8bfe\u7a0b\u4f5c\u4e1a","text":"<p>\u590d\u5236\u4e0b\u9762\u7684\u4f5c\u4e1a\u5185\u5bb9\u5e76\u5728\u62ec\u53f7\u4e2d\u586b\u7a7a\uff08\u4f5c\u4e1a\u7b54\u6848\u5728\u6b64\u6b21\u8bb2\u7a3f\u7684\u6700\u4e0b\u65b9\uff0c\u63a8\u8350\u8ba4\u771f\u505a\u5b8c\u540e\u81ea\u884c\u8ba2\u5bf9\uff09</p> <p>\u300c\u7a0b\u5e8f\u300d</p> <p>\u3007 GUI\u662f\uff08\uff09\u7684\u7f29\u5199\u3002</p> <p>\u3007 \u4f7f\u7528\u7cfb\u7edf\u7684\u601d\u60f3\uff1a\u6211\u4eec\u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u770b\u4f5c\u662f\u4e00\u4e2a\uff08\uff09\uff1a\u7528\u6237\u901a\u8fc7\uff08\uff09\u6765\u544a\u8bc9\u5e94\u7528\u7a0b\u5e8f\u81ea\u5df1\u505a\u7684\u4e8b\u60c5\uff0c\u901a\u8fc7\uff08\uff09\u6765\u5f97\u77e5\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u3002</p> <p>\u300c\u64cd\u4f5c\u7cfb\u7edf\u300d</p> <p>\u3007 GUI\u64cd\u4f5c\u7cfb\u7edf\u4e00\u822c\u4ee5\uff08\uff09\u4f5c\u4e3a\u8f93\u5165\u5916\u8bbe\uff0c\u4ee5\uff08\uff09\u4f5c\u4e3a\u8f93\u51fa\u5916\u8bbe\u3002</p> <p>\u3007 \u8ba1\u7b97\u673a\u4e2d\u666e\u901a\u6587\u4ef6\u7684\u672c\u8d28\u662f\uff08\uff09\u3002</p> <p>\u3007 \u7eaf\u6587\u672c\u6587\u4ef6\u4e2d\u5b58\u50a8\u7684\u662f\u5b57\u7b26\u5bf9\u5e94\u7684\uff08\uff09\u3002</p> <p>\u3007 \u53ef\u4ee5\u901a\u8fc7\u5c06.docx\u6587\u4ef6\u7684\u540e\u7f00\u540d\u6539\u4e3a.pdf\u6765\u5f97\u5230PDF\u6587\u4ef6\u5417\uff1f\uff08\uff09\u539f\u56e0\u662f\uff1a\uff08\uff09</p> <p>\u300c\u6587\u4ef6\u7cfb\u7edf\u300d</p> <p>\u3007 \u5199\u51fa\u4f60\u7535\u8111\u5bb6\u76ee\u5f55\u4e0b\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\uff1a\uff08\uff09</p> <p>\u3007 \u4ee5\u5bb6\u76ee\u5f55\u4e3a\u5f53\u524d\u8def\u5f84\uff0c\u5199\u51fa\u4f60\u7535\u8111\u684c\u9762\u4e0a\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\uff1a\uff08\uff09</p> <p>\u300c\u7ec8\u7aef\u548cshell\u300d</p> <p>\u3007 shell\u7684\u4e00\u4e2a\u4f5c\u7528\u662f\u89e3\u6790\uff08\uff09\u3002</p> <p>\u3007 shell\u4f7f\u7528\uff08\uff09\u6765\u5206\u9694\u547d\u4ee4\uff1b\u5199\u51fa\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u540d\u4e3a My Notes \u6587\u4ef6\u5939\u7684\u547d\u4ee4\uff1a\uff08\uff09</p> <p>\u3007 \u5728shell\u6216shell\u811a\u672c\u4e2d\u5b9a\u4e49\u53d8\u91cfa\u4e3a5\u7684\u547d\u4ee4\u4e3a\uff08\uff09</p> <p>\u3007 \u5f53\u4f60\u5728shell\u4e2d\u8f93\u5165\u4e00\u4e2a\u5355\u8bcd\u7684\u65f6\u5019\uff0cshell\u4f1a\u5728\uff08\uff09\u4e2d\u5bfb\u627e\u8be5\u5355\u8bcd\u5bf9\u5e94\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u5e76\u8c03\u7528\u3002</p> <p>\u3007 \u67e5\u770bcat\u547d\u4ee4\u7684\u5e2e\u52a9\u6587\u6863\uff0ccat\u7684\u5168\u79f0\u662f\uff08\uff09\uff0c\u9664\u4e86\u67e5\u770b\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5b83\u8fd8\u80fd\uff08\uff09</p> <p>\u3007 Python\u662f\u4e00\u95e8\uff08\uff09\u578b\u8bed\u8a00\uff0cC++\u662f\u4e00\u95e8\uff08\uff09\u578b\u8bed\u8a00\u3002</p> <p>\u300cLinux\u548c\u670d\u52a1\u5668\u300d</p> <p>\u3007 \u4e3a\u8ba1\u7b97\u673a\u4e0b\u7684\u6240\u6709\u7528\u6237\u6dfb\u52a0 \u5f53\u524d\u76ee\u5f55\u4e0b\u7684shell\u811a\u672chaha.sh \u7684\u6267\u884c\u6743\u9650\u7684\u547d\u4ee4\u662f\uff08\uff09\u3002</p> <p>\u3007 \u767b\u9646\u670d\u52a1\u5668\u540e\uff0c\u60f3\u8981\u9000\u51fa\u9700\u8981\u4f7f\u7528\u5feb\u6377\u952e\uff08\uff09\u3002</p> <p>\u3007 \u7b80\u5355\u8bf4\u8bf4\u4e00\u53f0Linux\u670d\u52a1\u5668\u80fd\u505a\u54ea\u4e9b\u4e8b\u60c5\uff1a\uff08\uff09</p> <p>\u3007 \u7b80\u8ff0\u5728Linux\u670d\u52a1\u5668\u4e0a\u4f7f\u7528tmux\u7684\u4f5c\u7528\uff1a\uff08\uff09</p> <p>\u3007 \u62d3\u5c55\uff1a\u8bf7\u9605\u8bfb \u4ece MIT \u534f\u8bae\u8c08\u5951\u7ea6\u7cbe\u795e https://mp.weixin.qq.com/s/WyBZpChPA5xLo90rBHi8Mw \u5b66\u4e60\u548c\u4e86\u89e3\u5f00\u6e90\u4ee5\u53ca\u5f00\u6e90\u534f\u8bae\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u5e76\u56de\u7b54\u95ee\u9898\uff1aMIT\u534f\u8bae\u4e2d\u6709\u4e00\u53e5\u8bddTHE SOFTWARE IS PROVIDED \"XX XX\"\uff0c\"XX XX\"\u4ee3\u8868\u7684\u82f1\u6587\u5355\u8bcd\u662f\uff08\uff09\uff1b\u5b83\u7684\u4e2d\u6587\u610f\u601d\u662f\uff08\uff09\u3002</p> <p>\u6ce8\uff1a\u8fd8\u662f\u5e0c\u671b\u5927\u5bb6\u770b\u61c2\u6587\u7ae0\u4e4b\u540e\u63d0\u70bc\u4e00\u4e0b\u7684\u3002\u6709\u7684\u540c\u5b66\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u6709\u70b9\u8fc7\u4e8e\u7701\u4e8b\u513f\u4e86\u54c8</p>"},{"location":"LECTURE/Linux/linux/#_50","title":"\u540e\u8bb0","text":""},{"location":"LECTURE/Linux/linux/#_51","title":"\u70b9\u70b9\u7ecf\u9a8c\u4e4b\u8c08","text":"<p>\u95f2\u804a\u4e00\u4e0b\u6211\u7684\u7ecf\u9a8c\u4e4b\u8c08\u5427\uff1a</p> <ul> <li>Google is your best friend.</li> <li>\u80fd\u8ba9\u673a\u5668\u505a\u7684\u4e8b\u60c5\uff0c\u81ea\u5df1\u522b\u505a\uff1b\u673a\u5668\u505a\u4e0d\u4e86\u7684\u4e8b\u60c5\uff0c\u60f3\u529e\u6cd5\u8ba9\u673a\u5668\u505a\uff1b\u60f3\u4e0d\u5230\u529e\u6cd5\uff0c\u81ea\u5df1\u505a</li> <li>\u5b66\u65e0\u6b62\u5883\uff0c\u5c24\u5176\u662f\u4e0d\u65ad\u53d1\u5c55\u7684\u4fe1\u606f\u884c\u4e1a</li> <li>\u8be5\u770b\u6587\u6863\u5c31\u4e00\u5b57\u4e0d\u843d\u7684\u770b\u6587\u6863\uff0c\u6587\u6863\u6c38\u8fdc\u6bd4\u522b\u4eba\u505a\u7684\u6559\u7a0b\u8981\u6e05\u695a</li> </ul>"},{"location":"LECTURE/Linux/linux/#-git","title":"\u9884\u4e60 - Git","text":"<p>\u660e\u5929\u8bb2<code>Git</code>\uff0c\u5927\u5bb6\u53ef\u80fd\u9700\u8981\u63d0\u524d\u8fdb\u884c\u5b89\u88c5\u3002<code>macOS</code>\u81ea\u5e26<code>Git</code>\uff0c\u7248\u672c\u6bd4\u8f83\u4f4e\u4f46\u662f\u591f\u7528\uff1b\u5982\u679c\u60f3\u5b89\u88c5\u9ad8\u7248\u672c<code>Git</code>\u53ef\u4ee5\u4f7f\u7528\u5305\u7ba1\u7406\u5de5\u5177<code>Homebrew</code>\u8fdb\u884c\u5b89\u88c5\u3002<code>Windows</code>\u7684\u540c\u5b66\u53ef\u4ee5\u76f4\u63a5\u5728\u5b98\u7f51\u4e0b\u8f7d\u5b89\u88c5\u3002</p> <ul> <li><code>Git</code>\u4e5f\u662f\u4e00\u6b3e\u8f6f\u4ef6\uff0c\u5b83\u662f\u547d\u4ee4\u884c\u7a0b\u5e8f\uff0c\u4f46\u662f\u4e5f\u6709<code>GUI</code>\u7a0b\u5e8f\uff0c\u4e0d\u8fc7\u6211\u63a8\u8350\u5927\u5bb6\u628a\u5b66\u4e60\u7684\u7ecf\u5386\u653e\u5728\u547d\u4ee4\u884cGit\u4e0a</li> <li><code>Git</code>\u6309\u884c\u7ba1\u7406\u6587\u4ef6\uff08\u4e5f\u5c31\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff09\uff1a\u5b83\u6ca1\u6cd5\u7ba1\u7406\u4e8c\u8fdb\u5236\u6587\u4ef6\uff1b\u63a8\u8350\u5927\u5bb6\u5b66\u4e00\u4e0b<code>Markdown</code>\uff0c\u4e5f\u8bb8\u660e\u5929\u4e5f\u4f1a\u7528\u5230\u3002\u6211\u4e4b\u524d\u4e5f\u505a\u8fc7<code>Markdown</code>\u7684\u6559\u7a0b\uff0c\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003Bilibili | \u6768\u5e0c\u6770619 | \u9762\u5411\u5f00\u53d1\u7684Markdown\u6559\u7a0b</li> </ul>"},{"location":"LECTURE/Linux/linux/#_52","title":"\u4f5c\u4e1a\u7b54\u6848","text":"<p>\u300c\u7a0b\u5e8f\u300d</p> <p>\u3007 <code>GUI</code>\u662f\uff08<code>Graphic User Interface</code>\uff09\u7684\u7f29\u5199\u3002</p> <p>\u3007 \u4f7f\u7528\u7cfb\u7edf\u7684\u601d\u60f3\uff1a\u6211\u4eec\u53ef\u4ee5\u5c06\u5e94\u7528\u7a0b\u5e8f\u770b\u4f5c\u662f\u4e00\u4e2a\uff08<code>\u7cfb\u7edf</code>\uff09\uff1a\u7528\u6237\u901a\u8fc7\uff08<code>\u8f93\u5165</code>\uff09\u6765\u544a\u8bc9\u5e94\u7528\u7a0b\u5e8f\u81ea\u5df1\u505a\u7684\u4e8b\u60c5\uff0c\u901a\u8fc7\uff08<code>\u8f93\u51fa</code>\uff09\u6765\u5f97\u77e5\u5e94\u7528\u7a0b\u5e8f\u7684\u8fd0\u884c\u7ed3\u679c\u3002</p> <p>\u300c\u64cd\u4f5c\u7cfb\u7edf\u300d</p> <p>\u3007 GUI\u64cd\u4f5c\u7cfb\u7edf\u4e00\u822c\u4ee5\uff08<code>\u952e\u76d8\u548c\u9f20\u6807\uff08\u9ea6\u514b\u98ce\u3001\u5149\u4f20\u611f\u5668\u7b49\uff09</code>\uff09\u4f5c\u4e3a\u8f93\u5165\u5916\u8bbe\uff0c\u4ee5\uff08<code>\u663e\u793a\u5668/\u5c4f\uff08LED\u3001\u97f3\u54cd\u7b49\uff09</code>\uff09\u4f5c\u4e3a\u8f93\u51fa\u5916\u8bbe\u3002</p> <p>\u3007 \u8ba1\u7b97\u673a\u4e2d\u666e\u901a\u6587\u4ef6\u7684\u672c\u8d28\u662f\uff08<code>0\u548c1</code>  or  <code>0 1\u5e8f\u5217</code>  or  <code>\u4e8c\u8fdb\u5236\u5e8f\u5217</code>\uff09\u3002</p> <p>\u3007 \u7eaf\u6587\u672c\u6587\u4ef6\u4e2d\u5b58\u50a8\u7684\u662f\u5b57\u7b26\u5bf9\u5e94\u7684\uff08<code>\u7f16\u7801</code>  or  <code>\u4e8c\u8fdb\u5236\u7f16\u7801</code>\uff09\u3002</p> <p>\u3007 \u53ef\u4ee5\u901a\u8fc7\u5c06<code>.docx</code>\u6587\u4ef6\u7684\u540e\u7f00\u540d\u6539\u4e3a<code>.pdf</code>\u6765\u5f97\u5230PDF\u6587\u4ef6\u5417\uff1f\uff08<code>\u4e0d\u53ef\u4ee5</code>\uff09\u539f\u56e0\u662f\uff1a\uff08<code>\u4fee\u6539\u540e\u7f00\u540d\u53ea\u5bf9\u6587\u4ef6\u7684\u540d\u79f0\u505a\u4e86\u4fee\u6539\uff0c\u6587\u4ef6\u7684\u5b9e\u8d28\u5185\u5bb9\u5e76\u6ca1\u6709\u6539\u53d8\uff1b\u67e5\u770bPDF\u6587\u4ef6\u7684\u7a0b\u5e8f\u65e0\u6cd5\u6b63\u5e38\u5c06\u5176\u6b63\u5e38\u8bfb\u53d6\u89e3\u6790</code>\uff09</p> <p>\u6ce8\uff1a\u5b9e\u8df5\u51fa\u771f\u77e5\uff0c\u4e5f\u53ef\u4ee5\u81ea\u5df1\u8bd5\u4e00\u4e0b\u3002\u62d3\u5c55\uff1a\u4f60\u53ef\u4ee5\u5c1d\u8bd5\u628a<code>.docx</code>\u6587\u4ef6\u7684\u540e\u7f00\u6539\u4e3a<code>.zip</code>\uff0c\u53cc\u51fb\uff1b\u5c1d\u8bd5\u89e3\u91ca\u53d1\u751f\u7684\u73b0\u8c61\u3002</p> <p>\u6ce8\uff1a\u4f7f\u7528<code>Microsoft Word</code>\u81ea\u5e26\u7684<code>\u5bfc\u51fa\u4e3aPDF</code>\u529f\u80fd\uff0c<code>Word</code>\u4f1a\u5c06\u683c\u5f0f\u6587\u672c<code>.docx</code>\u8f6c\u6362\u4e3a<code>PDF</code>\u6587\u4ef6\uff1b\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u8fdb\u884c\u4e86\u91cd\u65b0\u7ec4\u7ec7</p> <p>\u300c\u6587\u4ef6\u7cfb\u7edf\u300d</p> <p>\u3007 \u5199\u51fa\u4f60\u7535\u8111\u5bb6\u76ee\u5f55\u4e0b\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\uff1a\uff08<code>~/folder</code>  or  <code>/home/xxx/folder</code>  or  <code>/User/xxx/folder</code>  or  <code>C:\\\\Users\\\\xxx\\\\folder</code>\uff09</p> <p>\u6ce8\uff1a\u7edd\u5bf9\u8def\u5f84\u662f\u53ef\u4ee5\u6709<code>~</code>\u7684\uff1b\u4e0a\u8ff0\u540e\u9762\u4e09\u79cd\u5199\u6cd5\u5206\u522b\u5bf9\u5e94 <code>Linux</code> <code>macOS</code> <code>Windows</code></p> <p>\u6ce8\uff1a\u5982\u679c\u4f60\u7684\u6587\u4ef6\u5939\u5e26\u7a7a\u683c\uff0c\u8bf7\u7528\u591a\u79cd\u65b9\u5f0f\uff08\u53cc\u5f15\u53f7\u8f6c\u4e49\u7b26\u5355\u5f15\u53f7\uff09\u8fdb\u884c\u5904\u7406</p> <p>\u6ce8\uff1a<code>Windows</code>\u5728\u5199\u8def\u5f84\u7684\u65f6\u5019\u6700\u597d\u5c06\u53cd\u659c\u7ebf<code>\\</code>\u66ff\u6362\u4e3a\u4e24\u4e2a\u53cd\u659c\u7ebf<code>\\\\</code>\uff08\u8f6c\u4e49\u5b57\u7b26\uff09</p> <p>\u6ce8\uff1a<code>Windows</code>\u4e0b\u6ca1\u6709\u6839\u76ee\u5f55\uff0c\u4ece\u76d8\u7b26\u5f00\u59cb\u5199\u5c31\u53ef\u4ee5\u4e86</p> <p>\u3007 \u4ee5\u5bb6\u76ee\u5f55\u4e3a\u5f53\u524d\u8def\u5f84\uff0c\u5199\u51fa\u4f60\u7535\u8111\u684c\u9762\u4e0a\u4efb\u610f\u4e00\u4e2a\u6587\u4ef6\u7684\u76f8\u5bf9\u8def\u5f84\uff1a\uff08<code>./Desktop/file</code>  or  <code>Desktop/file</code>\uff09</p> <p>\u6ce8\uff1a\u5e94\u8be5\u662f\u53ea\u6709\u8fd9\u4e24\u79cd\u5199\u6cd5\u3002\u601d\u8003\u601d\u8def\uff0c\u5199\u51fa\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u540e\uff0c\u5c06\u5bb6\u76ee\u5f55\u7528<code>.</code>\u66ff\u6362\u6389\uff0c\u56e0\u4e3a\u5bb6\u76ee\u5f55\u662f\u5f53\u524d\u8def\u5f84</p> <p>\u6ce8\uff1a\u5982\u679c\u4f60\u7684\u6587\u4ef6\u5e26\u7a7a\u683c\uff0c\u8bf7\u7528\u591a\u79cd\u65b9\u5f0f\uff08\u53cc\u5f15\u53f7\u8f6c\u4e49\u7b26\u5355\u5f15\u53f7\uff09\u8fdb\u884c\u5904\u7406</p> <p>\u6ce8\uff1a\u76f8\u5bf9\u8def\u5f84\u662f\u4e0d\u542b\u6709 <code>~</code> \u7684\uff1b\u76f8\u5bf9\u8def\u5f84\u4e0d\u4f1a\u4ee5<code>/</code>\u5f00\u59cb</p> <p>\u300c\u7ec8\u7aef\u548cshell\u300d</p> <p>\u3007 shell\u7684\u4e00\u4e2a\u4f5c\u7528\u662f\u89e3\u6790\uff08<code>\u547d\u4ee4</code>  or  <code>\u8f93\u5165\u7684\u5b57\u7b26\u4e32</code>\uff09\u3002</p> <p>\u6ce8\uff1a\u8fd9\u4e2a\u9898\u4e0d\u662f\u5224\u65ad\u9898</p> <p>\u3007 shell\u4f7f\u7528\uff08<code>\u7a7a\u683c</code>  or  <code>;</code>  or  <code>|</code>  or  <code>||</code>  or  <code>\u4e0d\u540c\u884c</code>  or  <code>&amp;&amp;</code>\uff09\u6765\u5206\u9694\u547d\u4ee4\u548c\u547d\u4ee4\u7684\u4e0d\u540c\u90e8\u5206\uff1b\u5199\u51fa\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u540d\u4e3a <code>My Notes</code> \u6587\u4ef6\u5939\u7684\u547d\u4ee4\uff1a\uff08<code>mkdir \"My Notes\"</code>  or  <code>mkdir My\\ Notes</code>  or  <code>mkdir 'My Notes'</code>\uff09</p> <p>\u6ce8\uff1a\u5728\u82f1\u6587\u8f93\u5165\u6cd5\u4e0b\u4f7f\u7528\u53cc\u5f15\u53f7\u548c\u5355\u5f15\u53f7</p> <p>\u6ce8\uff1a\u8bfb\u9898 \u521b\u5efa\u6587\u4ef6\u5939 \u4e0d\u662f\u521b\u5efa\u6587\u4ef6\u3001\u7ec6\u5fc3 \u662f<code>Notes</code>\u4e0d\u662f<code>Note</code></p> <p>\u6ce8\uff1a\u5176\u5b9e\u8fd9\u79cd\u6bd4\u8f83\u7b80\u5355\u7684\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u81ea\u5df1\u6d4b\u8bd5\u4e00\u4e0b\u770b\u5199\u7684\u5bf9\u4e0d\u5bf9\uff0c\u6572\u56de\u8f66\u4e4b\u540e\u770b\u6709\u6ca1\u6709\u9884\u671f\u7684\u7ed3\u679c</p> <p>\u3007 \u5728shell\u6216shell\u811a\u672c\u4e2d<code>\u5b9a\u4e49\u53d8\u91cfa\u4e3a5</code>\u7684\u547d\u4ee4\u4e3a\uff08<code>a=5</code>\uff09</p> <p>\u6ce8\uff1a\u5982\u679c\u4f60\u60f3\u7528<code>$</code>\u8868\u793a\u4e00\u884c\u547d\u4ee4\uff0c\u4f60\u53ef\u4ee5\u5199\u6210\u300c<code>$ mkdir My\\ Notes</code>\u300d\u300c<code>$ a=5</code>\u300d\u6ce8\u610f<code>$</code>\u4e4b\u540e\u7a7a\u4e00\u683c</p> <p>\u3007 \u5f53\u4f60\u5728shell\u4e2d\u8f93\u5165\u4e00\u4e2a\u5355\u8bcd\u7684\u65f6\u5019\uff0cshell\u4f1a\u5728\uff08<code>\u73af\u5883\u53d8\u91cf</code>  or  <code>$PATH</code>  or  <code>shell\u5185\u5efa\u7a0b\u5e8f</code>\uff09\u4e2d\u5bfb\u627e\u8be5\u5355\u8bcd\u5bf9\u5e94\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u5e76\u8c03\u7528\u3002</p> <p>\u6ce8\uff1a\u5e76\u4e0d\u4f1a\u5728\u5f53\u524d\u76ee\u5f55\u627e\u53ef\u6267\u884c\u7a0b\u5e8f\u3002\u6267\u884c\u5f53\u524d\u76ee\u5f55\u4e0b\u7684\u53ef\u6267\u884c\u7a0b\u5e8f\u9700\u8981\u52a0 <code>./</code></p> <p>\u3007 \u67e5\u770b<code>cat</code>\u547d\u4ee4\u7684\u5e2e\u52a9\u6587\u6863\uff0c<code>cat</code>\u7684\u5168\u79f0\u662f\uff08<code>concatenate</code>  or  <code>catenate</code>\uff09\uff0c\u9664\u4e86\u67e5\u770b\u6587\u672c\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5b83\u8fd8\u80fd\uff08<code>\u62fc\u63a5\u6587\u4ef6</code>\u3001<code>\u521b\u5efa\u6587\u4ef6</code>\uff09</p> <p>\u6ce8\uff1a\u300c<code>cat</code>\u7684\u5168\u79f0\u662f <code>Get-Content</code>\u300d\u6211\u770b\u5230\u6709\u4e9b\u4eba\u8fd9\u4e48\u5199 \u4f60\u770b\u8fd9\u4e2a <code>cat</code> \u548c <code>Get-Content</code> \u5b8c\u5168\u4e0d\u50cf\uff0c\u5199\u4e86\u8fd9\u4e2a\u7b54\u6848\u5e94\u8be5\u8981\u81ea\u5df1\u6000\u7591\u4e00\u4e0b\u7684\uff01\u7136\u540e\u53bb\u767e\u5ea6\u3001\u53bbGoogle\uff01</p> <p>\u3007 <code>Python</code>\u662f\u4e00\u95e8\uff08<code>\u89e3\u91ca</code>\uff09\u578b\u8bed\u8a00\uff0c<code>C++</code>\u662f\u4e00\u95e8\uff08<code>\u7f16\u8bd1</code>\uff09\u578b\u8bed\u8a00\u3002</p> <p>\u300cLinux\u548c\u670d\u52a1\u5668\u300d</p> <p>\u3007 \u4e3a\u8ba1\u7b97\u673a\u4e0b\u7684\u6240\u6709\u7528\u6237\u6dfb\u52a0 \u5f53\u524d\u76ee\u5f55\u4e0b\u7684shell\u811a\u672c<code>haha.sh</code> \u7684\u6267\u884c\u6743\u9650\u7684\u547d\u4ee4\u662f\uff08<code>chmod (a)+x (./)haha.sh</code>\uff09\u3002</p> <p>\u6ce8\uff1a\u6743\u9650\u80fd\u5c11\u7ed9\u5c31\u5c11\u7ed9\uff0c<code>777</code>\u8fd9\u79cd\u5c3d\u91cf\u522b\u7528\u3002</p> <p>\u3007 \u767b\u9646\u670d\u52a1\u5668\u540e\uff0c\u60f3\u8981\u9000\u51fa\u9700\u8981\u4f7f\u7528\u5feb\u6377\u952e\uff08<code>\u2303D</code>\uff09\u3002</p> <p>\u3007 \u7b80\u5355\u8bf4\u8bf4\u4e00\u53f0<code>Linux\u670d\u52a1\u5668</code>\u80fd\u505a\u54ea\u4e9b\u4e8b\u60c5\uff1a\uff08<code>\u90e8\u7f72\u7f51\u7edc\u670d\u52a1</code>\u3001<code>\u90e8\u7f72\u7f51\u7ad9</code>\u3001<code>\u7f16\u8bd1\u7a0b\u5e8f</code>\u3001<code>\u6267\u884c\u7a0b\u5e8f</code>\u2026\u2026\uff09</p> <p>\u3007 \u7b80\u8ff0\u5728<code>Linux\u670d\u52a1\u5668</code>\u4e0a\u4f7f\u7528<code>tmux</code>\u7684\u4f5c\u7528\uff1a\uff08<code>\u65b0\u5efa\u591a\u4e2a\u4f1a\u8bdd / session / \u7a97\u53e3</code>\u3001<code>\u4f7f\u5f97\u4f1a\u8bdd\u4e2d\u7684\u7a0b\u5e8f\u5728ssh\u8fde\u63a5\u65ad\u5f00\u540e\u4fdd\u6301\u8fd0\u884c</code>\uff09</p> <p>\u3007 \u62d3\u5c55\uff1a\u8bf7\u9605\u8bfb \u4ece MIT \u534f\u8bae\u8c08\u5951\u7ea6\u7cbe\u795e \u5b66\u4e60\u548c\u4e86\u89e3\u5f00\u6e90\u4ee5\u53ca\u5f00\u6e90\u534f\u8bae\u76f8\u5173\u7684\u5185\u5bb9\uff0c\u5e76\u56de\u7b54\u95ee\u9898\uff1a<code>MIT\u534f\u8bae</code>\u4e2d\u6709\u4e00\u53e5\u8bdd<code>THE SOFTWARE IS PROVIDED \"XX XX\"</code>\uff0c<code>\"XX XX\"</code>\u4ee3\u8868\u7684\u82f1\u6587\u5355\u8bcd\u662f\uff08<code>AS IS</code>\uff09\uff1b\u5b83\u7684\u4e2d\u6587\u610f\u601d\u662f\uff08<code>\u6309\u7167\u539f\u6837\u7684</code>\uff09\u3002</p> <p>\u6ce8\uff1a\u8fd8\u662f\u5e0c\u671b\u5927\u5bb6\u770b\u61c2\u6587\u7ae0\u4e4b\u540e\u63d0\u70bc\u4e00\u4e0b\u7684\u3002\u6709\u7684\u540c\u5b66\u76f4\u63a5\u590d\u5236\u7c98\u8d34\u6709\u70b9\u8fc7\u4e8e\u7701\u4e8b\u513f\u4e86\u54c8</p>"},{"location":"LECTURE/Markdown/markdown/","title":"\u9762\u5411\u5f00\u53d1\u7684 Markdown \u8bb2\u5ea7","text":"<p>Bilibili\u89c6\u9891\u6559\u7a0b</p> <p>\u8bf4\u660e\uff1a\u6240\u8bb2\u7684\u5185\u5bb9\u5305\u62ec\u4f46\u4e0d\u9650\u4e8e\uff1a\u4f7f\u7528<code>markdown</code>\u7684\u539f\u56e0\u3001<code>markdown</code>\u57fa\u7840\u8bed\u6cd5\u3001\u5bf9<code>markdown</code>\u4e2d\u8def\u5f84\u548c\u4e92\u8054\u7f51\u8d44\u6e90\u7684\u7406\u89e3\u3001<code>markdown</code>\u7f16\u5199\u5de5\u5177\u3001\u5bfc\u51fa\u3001\u53d1\u5e03\u2026\u2026</p> <p>\u9762\u5411\u5bf9\u8c61\uff1a\u9700\u8981\u8fdb\u884c\u5408\u4f5c\u7f16\u7a0b\u5f00\u53d1\u7684\u540c\u5b66\uff08\u4e3b\u8981\uff09\uff1b\u6ca1\u6709\u4f7f\u7528\u8fc7<code>markdown</code>\u98ce\u683c\u5199\u8fc7\u6587\u5b57\u7684\u540c\u5b66\u3002\u6559\u7a0b\u4ee5\u4f7f\u7528<code>macOS</code>\u7684\u540c\u5b66\u4e3a\u4e3b\u3002</p> <p>Lecture\u7279\u8272\uff1a\u4e0d\u4ec5\u4ec5\u8bb2<code>markdown</code>\u672c\u8eab\uff0c\u4f1a\u4ece<code>markdown</code>\u5ef6\u4f38\u51fa\u53bb\uff0c\u6709\u4e00\u4e9b\u6269\u5c55\u7684\u5185\u5bb9</p>"},{"location":"LECTURE/Markdown/markdown/#_1","title":"\u8868\u8fbe\u4e0e\u8bf4\u660e\u7684\u65b9\u5f0f","text":"<p>\u6211\u4eec\u8981\u7ed9\u522b\u4eba\u8bf4\u660e\u4e00\u6837\u4e1c\u897f\u3001\u4e00\u6837\u4e8b\u60c5\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u9700\u8981\u81f3\u5c11\u4e00\u79cd\u7684\u8868\u8fbe\u65b9\u5f0f\uff1a\u6bd4\u5982\u7528\u8bed\u8a00\u3001\u7528\u6587\u5b57\u3001\u7528\u56fe\u7247\u3001\u89c6\u9891\u3001\u97f3\u4e50\u7b49\u5a92\u4f53\uff1b\u6216\u8005\u5c06\u5b83\u4eec\u7ed3\u5408\u8d77\u6765\uff0c\u6bd4\u5982<code>PPT</code>\u3002</p> <p>\u4f46\u5176\u5b9e\u4e00\u822c\u6765\u8bf4\uff0c\u66f4\u65b9\u4fbf\u7684\u4fdd\u7559\u548c\u4f20\u64ad\u7684\u4e00\u79cd\u65b9\u5f0f\u662f\u6587\u5b57\u3002\u4f46\u5982\u679c\u53ea\u6709\u6587\u5b57\uff0c\u603b\u662f\u4f1a\u8ba9\u4eba\u89c9\u5f97\u6709\u4e9b\u7d22\u7136\u65e0\u5473\u3002\u8fd9\u65f6\uff0c\u5e26\u683c\u5f0f\u7684\u6587\u5b57\u4f5c\u4e3a\u4e00\u79cd\u589e\u5f3a\u7684\u8868\u8fbe\u65b9\u5f0f\u51fa\u73b0\u4e86\u3002\u5927\u5bb6\u6700\u5e38\u7528\u7684\u53ef\u80fd\u5c31\u662f<code>Microsoft Word</code>\u3002\u4f60\u5728<code>Word</code>\u4e2d\u6572\u597d\u6587\u5b57\uff0c\u7136\u540e\u6dfb\u52a0\u4e00\u4e9b\u683c\u5f0f\uff0c\u6bd4\u5982\u52a0\u7c97\u3001\u659c\u4f53\u3001\u5c45\u4e2d\u3001\u8bbe\u7f6e\u6bb5\u843d\u683c\u5f0f\u3001\u827a\u672f\u5b57\u548c\u989c\u8272\u8c03\u6574\uff1b\u8fd9\u6837\u6587\u5b57\u4e5f\u53d8\u5f97\u6709\u8868\u73b0\u529b\u4e86\u8d77\u6765\u3002</p> <p>\u4f46\u662f\uff0c\u5bf9\u4e8e\u4ece\u4e8b\u5f00\u53d1\u7684\u5f00\u53d1\u8005\u4eec\u6765\u8bf4\uff0c<code>Word</code>\u5e76\u4e0d\u591f\u9ad8\u6548\u3002\u867d\u7136\u5b83\u63d0\u4f9b\u7684\u683c\u5f0f\u80fd\u591f\u589e\u5f3a\u6587\u672c\u7684\u8868\u73b0\u529b\uff0c\u4f46\u8fd9\u4e9b\u683c\u5f0f\u5f88\u96be\u6dfb\u52a0\u548c\u7ba1\u7406\u2014\u2014\u81f3\u5c11\uff0c\u4f60\u5f97\u6709<code>Word</code>\u8fd9\u6b3e\u4ed8\u8d39\u7684\u8f6f\u4ef6\u624d\u80fd\u770b\u5230\u3001\u6dfb\u52a0\u3001\u4fee\u6539\u8fd9\u4e9b\u683c\u5f0f\u3002\u53e6\u5916\uff0c<code>Word</code>\u63d0\u4f9b\u7684\u683c\u5f0f\u592a\u591a\u4e86\uff0c\u5bf9\u4e8e\u5f00\u53d1\u8005\u6765\u8bf4\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e9b\u683c\u5f0f\u6765\u589e\u5f3a\u6587\u5b57\u7684\u8868\u73b0\u529b\uff0c\u4f46\u662f\u53ef\u80fd\u5e76\u4e0d\u9700\u8981\u592a\u591a\u7684\u683c\u5f0f\uff08\u6bd4\u5982\u6211\u4eec\u5e0c\u671b\u67d0\u79cd\u683c\u5f0f\u80fd\u52a0\u7c97\u6211\u4eec\u8f6f\u4ef6\u8bf4\u660e\u4e66\u4e2d\u7684\u91cd\u8981\u90e8\u5206\uff0c\u80fd\u591f\u6709\u5c42\u7ea7\u7ed3\u6784\u8ba9\u6211\u4eec\u7684\u8bf4\u660e\u7ed3\u6784\u6e05\u6670\u4fbf\u4e8e\u6d4f\u89c8\uff1b\u4f46\u662f\u6211\u4eec\u4e0d\u9700\u8981\u4ec0\u4e48\u8bba\u6587\u7ba1\u7406\u7684\u529f\u80fd\uff0c\u4e5f\u4e0d\u9700\u8981\u4ec0\u4e48\u827a\u672f\u5b57\uff0c\u989c\u8272\u4ec0\u4e48\u7684\u4e5f\u4e0d\u592a\u9700\u8981\u2026\u2026\uff09</p> <p>\u518d\u5177\u4f53\u7684\u6765\u8bf4\uff0c<code>Word</code>\u7684\u6587\u4ef6\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5b83\u7684\u540e\u7f00\u4e00\u822c\u662f<code>.doc</code>\u6216\u8005<code>.docx</code>\uff1a\u8fd9\u4e2a\u6587\u4ef6\u5728\u673a\u5668\u4e2d\u7684\u672c\u8d28\u662f\u4e00\u957f\u4e32\u7684<code>0</code>\u548c<code>1</code>\uff0c\u91cc\u9762\u4e0d\u4ec5\u5b58\u50a8\u4e86\u4f60\u5199\u7684\u6587\u5b57\uff0c\u4e5f\u5b58\u653e\u4e86\u8fd9\u4e9b\u6587\u5b57\u7684\u6837\u5f0f\uff1b\u800c\u8fd9\u4e00\u4e9b<code>0</code>\u548c<code>1</code>\u53ea\u6709\u7528\u4e13\u95e8\u7684\u8f6f\u4ef6<code>Word</code>\u624d\u80fd\u6253\u5f00\uff08\u8fd9\u5176\u4e2d\u53ef\u80fd\u9700\u8981\u89e3\u538b\u3001\u6309\u7167\u7279\u5b9a\u987a\u5e8f\u8bfb\u53d6\u7b49\u6b65\u9aa4\uff09\u3002</p> <p>\u4e0e\u8fd9\u79cd\u4e8c\u8fdb\u5236\u6587\u4ef6\u76f8\u5bf9\u7684\u5462\uff0c\u662f\u7eaf\u6587\u672c\u6587\u4ef6\uff0c\u4e5f\u5c31\u662f\u6211\u4eec\u5e38\u89c1\u7684\u540e\u7f00\u4e3a<code>.txt</code>\u7684\u6587\u4ef6\u3002\u8fd9\u4e00\u7c7b\u6587\u4ef6\u5462\uff0c\u91cc\u9762\u4ece\u5f00\u59cb\u5230\u7ed3\u675f\uff0c\u5b58\u50a8\u7684\u5c31\u662f\u4e00\u4e2a\u4e2a\u5b57\u7b26\uff1a\u6bd4\u5982\u6211\u5728<code>hello.txt</code>\u91cc\u9762\u5199\u5165</p> <pre><code>Hello, world!\n\u4f60\u597d\uff0c\u4e16\u754c\uff01\n</code></pre> <p>\u90a3\u4e48\uff0c\u8fd9\u4e2atxt\u6587\u4ef6\u5176\u4e2d\u7684\u5185\u5bb9\u5c31\u662f<code>H</code>\u540e\u9762\u8ddf\u4e0a<code>e</code>\u518d\u8ddf\u4e0a\u2026\u518d\u8ddf\u4e0a\u4e00\u4e2a\u82f1\u6587<code>!</code>\u518d\u8ddf\u4e0a\u4e00\u4e2a\u6362\u884c\u7b26<code>\\n</code>\u2026\u518d\u8ddf\u4e0a\u4e00\u4e2a\u4e2d\u6587<code>\uff01</code>\u6700\u540e\u8ddf\u4e0a\u4e00\u4e2a\u6587\u4ef6\u7ed3\u675f\u7b26<code>EOF</code>\uff08End of File\uff09\u3002\u800c\u8fd9\u4e9b\u5b57\u7b26\u90fd\u662f\u53ef\u4ee5\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u76f4\u63a5\u8bfb\u53d6\u5e76\u4e14\u663e\u793a\u51fa\u6765\u7684\uff0c\uff08\u5f53\u7136\u4e86\uff0c\u672c\u8d28\u4e0a\u8fd9\u4e9b\u7b26\u53f7\u5728\u8ba1\u7b97\u673a\u5185\u8fd8\u662f\u4ee5<code>0\uff5e1</code>\u7684\u5f62\u5f0f\u5b58\u50a8\u7684\uff09\uff0c\u56e0\u6b64\u8bfb\u53d6\u8981\u6bd4<code>Word</code>\u65b9\u4fbf\uff08\u4e0d\u9700\u8981\u7279\u5b9a\u7684\u8f6f\u4ef6\uff09\u3001\u8bfb\u53d6\u901f\u5ea6\u8981\u6bd4<code>Word</code>\u5feb\u5f97\u591a\uff1b\u7531\u4e8e\u5176\u4e2d\u4e0d\u5e26\u683c\u5f0f\uff0c\u5927\u5c0f\u4e5f\u8981\u6bd4<code>Word</code>\u6587\u6863\u5c0f\u5f97\u591a\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#markdown_1","title":"Markdown\u5f15\u8a00","text":"<p>\u521a\u521a\u6211\u4eec\u8bf4\u4e86\u6587\u5b57\u662f\u5f88\u5e38\u89c1\u7684\u4e00\u79cd\u8868\u8fbe\u65b9\u5f0f\uff0c\u7528<code>txt</code>\u6587\u4ef6\u5c31\u53ef\u4ee5\u5728\u8ba1\u7b97\u673a\u4e2d\u65b9\u4fbf\u7684\u5448\u73b0\u6587\u5b57\uff1b\u6211\u4eec\u4e5f\u8bf4\u4e86\u683c\u5f0f\u662f\u53ef\u4ee5\u589e\u5f3a\u6587\u672c\u7684\u8868\u73b0\u529b\u7684\uff0c\u6bd4\u5982\u7528<code>Word</code>\u7ed9\u8fd9\u4e9b\u6587\u5b57\u6dfb\u52a0\u683c\u5f0f\u3002\u4f46\u95ee\u9898\u662f\u5355\u5355<code>txt</code>\u7684\u8868\u73b0\u80fd\u529b\u6349\u6025\uff0c<code>Word</code>\u4e2d\u6dfb\u52a0\u683c\u5f0f\u7684\u64cd\u4f5c\u6210\u672c\u3001\u5b58\u50a8\u6210\u672c\u90fd\u592a\u9ad8\u4e86\uff08\u540e\u9762\u8bb2<code>Git</code>\u8fd8\u4f1a\u8bf4\uff0c\u7531\u4e8e<code>.docx</code>\u6587\u4ef6\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u5176\u65e0\u6cd5\u7528<code>Git</code>\u8fdb\u884c\u9010\u884c\u7ba1\u7406\uff09\uff0c\u80fd\u4e0d\u80fd\u627e\u5230\u4e8c\u8005\u7684\u5e73\u8861\u5462\uff1f</p> <p>\u6709\uff0c\u8fd9\u4e2a\u4e1c\u897f\u5c31\u662f<code>Markdown</code>\u3002</p> <p><code>Markdown</code>\u5176\u5b9e\u662f\u4e00\u79cd\u5199\u4f5c\u98ce\u683c/\u65b9\u5f0f\uff0c\u6211\u4eec\u7528\u8fd9\u79cd\u98ce\u683c/\u65b9\u5f0f\u5199\u51fa\u6765\u7684\u7eaf\u6587\u672c\u6587\u4ef6\uff08\u548c<code>.txt</code>\u662f\u4e00\u6837\u7684\uff09\u53eb\u505amarkdown\u6587\u4ef6\uff0c\u4e00\u822c\u4ee5<code>.md</code>\u4f5c\u4e3a\u6587\u4ef6\u540e\u7f00\uff08\u800c\u4e0d\u662f<code>.txt</code>\uff09\u3002<code>.md</code>\u6587\u4ef6\u867d\u7136\u662f\u7eaf\u6587\u672c\uff0c\u4f46\u5176\u4e2d\u7528\u4e00\u4e9b\u7279\u6b8a\u7684\u5b57\u7b26\uff08\u5982<code>* # [] () \u2026</code>\uff09\u7ed9\u7eaf\u6587\u672c\u5e26\u6765\u683c\u5f0f\uff08\u8fd9\u4e0e<code>html</code>\u6587\u4ef6\u662f\u76f8\u4f3c\u7684\uff0c\u4e5f\u53ef\u4ee5\u5c06<code>markdown</code>\u770b\u4f5c\u662f\u7b80\u5355\u7684<code>html</code>\uff09\u3002\u8fd9\u4e9b\u683c\u5f0f\u901a\u8fc7\u67d0\u79cd\u65b9\u5f0f\u8fdb\u884c\u6e32\u67d3\uff08\u6ce8\uff1a\u6e32\u67d3\uff1a\u6307\u5c06\u8ba1\u7b97\u673a\u4e2d\u7684\u67d0\u4e9b\u6570\u636e\u5448\u73b0\u5728\u5c4f\u5e55\u4e0a\uff09\u4f60\u5c31\u53ef\u4ee5\u770b\u5230\u5b83\u4eec\u4ee3\u8868\u7684\u683c\u5f0f\u4e86\uff01</p>"},{"location":"LECTURE/Markdown/markdown/#markdown_2","title":"Markdown\u4e3e\u4f8b","text":"<p>\u8bf4\u4e86\u8fd9\u4e48\u591a\uff0c\u6211\u4eec\u8fd8\u6ca1\u770b\u5230\u8fc7<code>markdown</code>\u6587\u4ef6\u5462\uff0c\u6765\u770b\u51e0\u4e2a\u4f8b\u5b50\u5427\uff1a</p> <p>\u3007 \uff08\u521a\u521a\u8bf4\u5230\uff09\u5f00\u53d1\u8005\u5728\u5199\u8f6f\u4ef6\u8bf4\u660e\u4e66\u7684\u65f6\u5019\u4f1a\u7528\u5230<code>markdown</code>\uff1a</p> <p>\u51e0\u4e4e\u6bcf\u4e2a<code>GitHub</code>\u4ed3\u5e93\u90fd\u6709\u4e00\u4e2a<code>markdown</code>\u6587\u4ef6<code>README.md</code>\u7528\u6765\u5bf9\u9879\u76ee\u505a\u4e00\u4e2a\u7b80\u5355\u7684\u8bf4\u660e\u3002\uff08\u80af\u5b9a\u6709\u540c\u5b66\u4e0d\u77e5\u9053<code>GitHub</code>\u662f\u4ec0\u4e48\uff0c\u6211\u4eec\u6682\u65f6\u628a\u5b83\u7406\u89e3\u4e3a\u4e00\u4e9b\u5f00\u53d1\u8005\u5b58\u653e\u4ed6\u4eec\u5199\u597d\u7684\u4ee3\u7801\u7684\u5730\u65b9\uff09</p> <p>GitHub\uff5cSwiftFormat * <code>Xcode</code>\u7684\u5c0f\u63d2\u4ef6\uff1a\u7528\u6765\u683c\u5f0f\u5316Swift\u4ee3\u7801 * \u5176\u4e2d\u7684<code>README.md</code>\u5c31\u662f\u7528<code>markdown</code>\u6587\u4ef6\uff0c\u901a\u8fc7<code>GitHub</code>\u7684\u7f51\u9875\u5c06\u5176\u6e32\u67d3\u5448\u73b0\u5728\u4f60\u9762\u524d\u3002</p> <p>\u3007 \uff08\u4e3a\u4e86\u63d0\u9ad8\u5199\u4f5c\u6548\u7387\uff08\u6709\u65f6\u6dfb\u52a0\u683c\u5f0f\u86ee\u9ebb\u70e6\u7684\uff09\uff09\u5199\u4f5c\u8005\u6709\u7684\u65f6\u5019\u4e5f\u4f1a\u7528\u8fd9\u79cd\u98ce\u683c\uff1a</p> <p>GitHub\uff5cgit flight rules</p> <p>GitHub\uff5cHow To Ask Questions The Smart Way</p> <p>\u6211\u7684\u8fd9\u7bc7\u8bb2\u7a3f\u4e5f\u662f\u7528<code>markdown</code>\u5199\u7684\uff08\u4e8b\u5b9e\u4e0a\u6211\u73b0\u5728\u624b\u4e0a\u7684\u51e0\u4e4e\u6240\u6709\u6587\u5b57\u90fd\u662f\u7528<code>markdown</code>\u6765\u5199\u7684\uff09</p> <p>\u56fd\u5185\u7684\u535a\u5ba2\u7f51\u7ad9\uff1a<code>CSDN</code>\u548c<code>\u7b80\u4e66</code>\u90fd\u652f\u6301<code>markdown</code>\u683c\u5f0f\uff1b\u7528<code>markdown</code>\u6765\u505a\u5b66\u4e60\u7b14\u8bb0\u662f\u5f88\u65b9\u4fbf\u7684\u3002</p> <p>\u3007 \u4ee3\u7801\u6ce8\u91ca\uff1a</p> <p>\u6bd4\u5982<code>Xcode</code>\u652f\u6301\u7684<code>markup</code>\u6ce8\u91ca\u98ce\u683c\uff08\u7c7b\u4f3c\uff0c\u6362\u4e86\u4e2a\u540d\u5b57hh\uff09</p> <p>CSDN\uff5cSwift Markup Formatting Syntax</p>"},{"location":"LECTURE/Markdown/markdown/#markdown_3","title":"Markdown\u8bed\u6cd5","text":"<p>\u4e0b\u9762\u6211\u4eec\u6765\u4ecb\u7ecd<code>markdown</code>\u6587\u4ef6\u5230\u5e95\u600e\u4e48\u5199\uff1a</p> <p>\u8bf4\u201c\u8bed\u6cd5\u201d\u4ec0\u4e48\u7684\u6709\u70b9\u4e13\u4e1a\u4e86\u3002\u521a\u521a\u6211\u4eec\u8bf4\u5230\u2014\u2014<code>markdown</code>\u7528\u4e00\u4e9b\u7279\u6b8a\u7684\u5b57\u7b26\uff08\u5982<code>* # [] () \u2026</code>\uff09\u7ed9\u7eaf\u6587\u672c\u5e26\u6765\u683c\u5f0f\uff0c\u5176\u5b9e\u8bed\u6cd5\u6307\u7684\u5c31\u662f\u8fd9\u4e9b\u89c4\u5219\u3002\u90a3\u4e48\u4e0b\u9762\u6211\u4eec\u5c31\u6765\u5b66\u4e60\u5982\u4f55\u7528\u8fd9\u4e9b\u7279\u6b8a\u7b26\u53f7\u6765\u5728\u7eaf\u6587\u672c\u4e2d\u8868\u8fbe\u683c\u5f0f\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#_2","title":"\u5177\u4f53\u8bed\u6cd5","text":"<p>GitHub Guides | Mastering Markdown</p> <p><code>markdown</code>\u6709\u4e0d\u5c11\u6269\u5c55\u7684\u8bed\u6cd5\uff0c\u6211\u4eec\u4e3b\u8981\u5b66\u4e60\u5b83\u6700\u57fa\u7840\u7684\u8bed\u6cd5\uff0c\u548c\u4e00\u4e9b<code>GitHub</code>\u652f\u6301\u7684\u8bed\u6cd5\uff0c\u56e0\u4e3a\u6211\u4eec\u4e4b\u540e\u5199<code>markdown</code>\u6587\u4ef6\u53ef\u80fd\u4e3b\u8981\u662f\u7528\u6765\u5199\u9879\u76ee\u7684<code>README.md</code>\uff0c\u800c\u8fd9\u4e9b\u9879\u76ee\u7684\u4ee3\u7801\u4ed3\u5e93\uff0c\u6211\u4eec\u5f88\u53ef\u80fd\u5c31\u5728<code>GitHub</code>\u5b58\u653e\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#headers","title":"Headers \u6807\u9898","text":"<p><code>1</code>\uff5e<code>6</code>\u4e2a\u4e95\u53f7\u52a0\u4e00\u4e2a\u7a7a\u683c\u518d\u52a0\u4e0a\u6807\u9898\u7684\u540d\u79f0</p> <pre><code>## \u4e00\u7ea7\u6807\u9898\n### \u4e8c\u7ea7\u6807\u9898\n\u2026\u2026\n###### \u516d\u7ea7\u6807\u9898\n</code></pre> <p>\u6709\u7684\u540c\u5b66\u53ef\u80fd\u4f1a\u95ee\uff0c\u90a3\u4e03\u7ea7\u6807\u9898\u5462\uff1f\u55ef\uff0c\u662f\u6ca1\u6709\u7684\u3002\u4e8b\u5b9e\u4e0a\uff0c\u4e94\u7ea7\u6807\u9898\u548c\u516d\u7ea7\u6807\u9898\u90fd\u5f88\u5c11\u4f1a\u7528\u5230\uff0c\u8fd9\u4e9b\u7edd\u5bf9\u591f\u7528\u4e86</p>"},{"location":"LECTURE/Markdown/markdown/#emphasis","title":"Emphasis \u52a0\u7c97\u548c\u659c\u4f53","text":"<pre><code>*This text will be italic*\n_This will also be italic_\n\n**This text will be bold**\n__This will also be bold__\n\n_You **can** combine them_\n</code></pre> <p>This text will be italic</p> <p>This will also be italic</p> <p>This text will be bold</p> <p>This will also be bold</p> <p>You can combine them</p> <p>\u4e00\u822c\u6211\u4eec\u5355\u4e2a\u4f7f\u7528\u7684\u65f6\u5019\u7528<code>*</code>\u591a\u4e00\u4e9b\uff0c\u4f46\u662f\u4e24\u79cd\u683c\u5f0f\u7ec4\u5408\u4f7f\u7528\u7684\u65f6\u5019\u5c31\u968f\u610f\u4e86\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#lists","title":"Lists \u5217\u8868","text":""},{"location":"LECTURE/Markdown/markdown/#unordered","title":"Unordered \u65e0\u5e8f\u5217\u8868","text":"<p>\u8fd9\u91cc\u53ef\u4ee5\u7f29\u8fdb\u7684\u54e6</p> <pre><code>* Item 1\n* Item 2\n    * Item 2a\n    * Item 2b\n</code></pre> <ul> <li>Item 1</li> <li>Item 2<ul> <li>Item 2a</li> <li>Item 2b</li> </ul> </li> </ul>"},{"location":"LECTURE/Markdown/markdown/#ordered","title":"Ordered \u6709\u5e8f\u5217\u8868","text":"<p>\u8fd9\u91cc\u53ef\u4ee5\u7f29\u8fdb\u7684\u54e6\uff0c\u7f29\u8fdb\u4f1a\u91cd\u65b0\u7f16\u53f7\uff0c\u6216\u8005\u53d8\u6210\u5c0f\u6807\u9898\uff08\u5982<code>1.1</code> <code>2.1.3</code>\u8fd9\u6837\uff09</p> <pre><code>1. Item 1\n1. Item 2\n1. Item 3\n    1. Item 3a\n    1. Item 3b\n</code></pre> <ol> <li>Item 1</li> <li>Item 2</li> <li>Item 3<ol> <li>Item 3a</li> <li>Item 3b</li> </ol> </li> </ol>"},{"location":"LECTURE/Markdown/markdown/#task-lists","title":"Task Lists \u4efb\u52a1\u5217\u8868","text":"<pre><code>- [x] this is a complete item\n- [ ] this is an incomplete item\n</code></pre> <ul> <li>[x] this is a complete item</li> <li>[ ] this is an incomplete item</li> </ul>"},{"location":"LECTURE/Markdown/markdown/#links","title":"Links \u94fe\u63a5","text":"<p><code>[Text](url)</code>\uff1a\u4e2d\u62ec\u53f7\uff0c\u540e\u9762\u5c0f\u62ec\u53f7\u3002\u5c0f\u62ec\u53f7\u91cc\u9762\u653e\u94fe\u63a5\uff0c\u4e2d\u62ec\u53f7\u91cc\u9762\u653e\u8bf4\u660e\uff08\u5fc5\u987b\uff09\uff1b\u4e0d\u9700\u8981\u8bf4\u660e\u7684\u8bdd\uff0c\u53ef\u4ee5\u76f4\u63a5\u5199\u94fe\u63a5</p> <p>\u76f4\u63a5\u5199\u94fe\u63a5\u4f1a\u76f4\u63a5\u88ab\u8f6c\u6362\u4e3a\u53ef\u4ee5\u70b9\u51fb\u7684\u94fe\u63a5\uff1b\u4e5f\u53ef\u4ee5\u5728\u4e24\u4fa7\u52a0\u4e0a<code>&lt;</code>\u548c<code>&gt;</code></p> <pre><code>[GitHub Official Site](https://github.com)\n\nhttps://github.com\n&lt;https://github.com&gt;\n</code></pre> <p>GitHub Official Site</p> <p>https://github.com</p> <p>https://github.com</p>"},{"location":"LECTURE/Markdown/markdown/#images","title":"Images \u56fe\u7247","text":"<p><code>![Text](url)</code>\uff1a\u611f\u53f9\u53f7\uff0c\u4e2d\u62ec\u53f7\uff0c\u5c0f\u62ec\u53f7\u3002\u5c0f\u62ec\u53f7\u91cc\u9762\u653e\u56fe\u7247\u94fe\u63a5\uff0c\u4e2d\u62ec\u53f7\u91cc\u9762\u653e\u56fe\u7247\u8bf4\u660e\uff08\u4e0d\u5fc5\u987b\uff1b\u5199\u4e86\u7684\u8bdd\u4f1a\u5728\u56fe\u7247\u4e0b\u65b9\u6216\u67d0\u5904\u663e\u793a\u8bf4\u660e\uff0c\u5f53\u56e0\u4e3a\u67d0\u79cd\u539f\u56e0\u56fe\u7247\u65e0\u6cd5\u52a0\u8f7d\u7684\u65f6\u5019\uff0c\u663e\u793a\u65f6\u4e5f\u4f1a\u7528\u8bf4\u660e\u66ff\u4ee3\u56fe\u7247\uff09</p> <pre><code>![GitHub Logo](https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png)\n</code></pre> <p></p> <p>\u5173\u4e8e\u94fe\u63a5\u6211\u4eec\u4e4b\u540e\u4f1a\u8be6\u7ec6\u6765\u8bf4\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#inline-code","title":"Inline Code \u884c\u5185\u4ee3\u7801","text":"<pre><code>`Swift`\u4e2d\uff0c`var`\u5b9a\u4e49\u53d8\u91cf\uff0c`let`\u5b9a\u4e49\u5e38\u91cf\n</code></pre> <p><code>Swift</code>\u4e2d\uff0c<code>var</code>\u5b9a\u4e49\u53d8\u91cf\uff0c<code>let</code>\u5b9a\u4e49\u5e38\u91cf</p>"},{"location":"LECTURE/Markdown/markdown/#code-block","title":"Code Block \u4ee3\u7801\u5757","text":"<p>\u7528\u4e00\u5bf9\u4e09\u4e2a\u53cd\u6487```\u5305\u88f9\uff0c\u5728\u6700\u5f00\u59cb\u4e09\u4e2a\u53cd\u6487\u540e\u53ef\u4ee5\u52a0\u4ee3\u7801\u7684\u8bed\u8a00\u540d\u79f0\u6216\u7b80\u5199\u4ee5\u5728\u6e32\u67d3\u65f6\u83b7\u5f97\u9ad8\u4eae\u652f\u6301\u3002</p> <p>```swift</p> <p>var natural_numbers: Array = [0,1,2,3] <p>print(natural_numbers.capacity)</p> <p>```</p> <pre><code>var natural_numbers: Array&lt;Int&gt; = [0,1,2,3]\n\nprint(natural_numbers.capacity)\n</code></pre> <p>\u4e00\u822c\u652f\u6301\u7684\u4ee3\u7801\u9ad8\u4eae\u4f1a\u6709\u5f88\u591a\uff0c\u6bd4\u5982\uff1a<code>shell</code>\u3001<code>bash</code>\u3001<code>c</code>\u3001<code>cpp</code>\u3001<code>java</code>\u3001<code>objectivec</code>\u3001<code>python</code>\u3001<code>swift</code>\u3001<code>yaml</code>\u3001<code>html</code>\u3001<code>xml</code>\u7b49</p>"},{"location":"LECTURE/Markdown/markdown/#blockquotes","title":"Blockquotes \u5f15\u7528","text":"<pre><code>As Tim Cook said:\n\n&gt; Fearlessness means taking the frst step, \n&gt; even if you don't know where it will take you.\n</code></pre> <p>As Tim Cook said:</p> <p>Fearlessness means taking the frst step,  even if you don't know where it will take you.</p> <p>\u2014\u2014Tim Cook's Commencement Address at Duke University, 2018</p> <p>\u6211\u4e00\u822c\u4f1a\u7528\u5b83\u6765\u5728\u6587\u7ae0\u5f00\u5934\u5199\u4e00\u4e0b\u6587\u6863\u7684\u66f4\u65b0\u65e5\u671f\u548c\u4f5c\u8005\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#tables","title":"Tables \u8868\u683c","text":"<p>You can create tables by assembling a list of words and dividing them with hyphens <code>-</code> (for the first row), and then separating each column with a pipe <code>|</code>:</p> <pre><code>First Header | Second Header\n------------ | -------------\nContent from cell 1 | Content from cell 2\nContent in the first column | Content in the second column\n</code></pre> First Header Second Header Content from cell 1 Content from cell 2 Content in the first column Content in the second column"},{"location":"LECTURE/Markdown/markdown/#github","title":"\u5176\u4ed6GitHub\u652f\u6301\u7684\u8bed\u6cd5","text":"<p>\u66f4\u591a<code>Github</code>\u652f\u6301\u7684<code>markdown</code>\u8bed\u6cd5\u53ef\u4ee5\u67e5\u770bGitHub Guides | Mastering Markdown</p>"},{"location":"LECTURE/Markdown/markdown/#_3","title":"\u5bf9\u6587\u4ef6\u8def\u5f84\u7684\u7406\u89e3","text":"<p>\u6211\u4eec\u5728\u63d2\u5165\u94fe\u63a5\u7684\u65f6\u5019\uff0c\u4f1a\u4f7f\u7528\uff1a</p> <pre><code>[Google](https://www.google.com) is your best friend!\n</code></pre> <p>Google is your best friend!</p> <p>\u65b9\u62ec\u53f7\u91cc\u9762\u653e\u4f60\u8981\u5448\u73b0\u7684\u540d\u5b57\uff0c\u5706\u62ec\u53f7\u91cc\u9762\u653e\u7f51\u9875\u7684\u94fe\u63a5\u3002</p> <p>\u66f4\u666e\u901a\u7684\uff0c\u8fd9\u4e2a\u94fe\u63a5\u8fd8\u53ef\u4ee5\u6362\u6210\u6587\u4ef6\uff1a</p> <pre><code>\u70b9\u51fb\u67e5\u770b[\u5e2e\u52a9\u6587\u6863](./doc/help.md)\n</code></pre> <p>\u8fd9\u4e2a\u8def\u5f84\u662f\u76f8\u5bf9\u8def\u5f84\uff0c\u8868\u793a\u548c\u5f53\u524d\u7684md\u6587\u4ef6\u5728\u540c\u4e00\u4e2a\u8def\u5f84\u4e0b\u7684<code>doc</code>\u6587\u4ef6\u5939\u91cc\u9762\u7684<code>help.md</code>\u6587\u4ef6\uff0c\u4e00\u822c\u6211\u4eec\u90fd\u4f1a\u5c06md\u6587\u4ef6\u653e\u5728\u4e00\u4e2a\u603b\u7684\u6587\u4ef6\u5939\u4e2d\uff0c\u8fd9\u6837\u5b83\u4eec\u4e4b\u95f4\u5c31\u53ef\u4ee5\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u76f8\u4e92\u5f15\u7528\u4e86\u3002</p> <p>\u5982\u679c\u662f\u5728\u81ea\u5df1\u7535\u8111\u4e0a\u5199md\uff0c\u4e5f\u53ef\u4ee5\u5199\u7edd\u5bf9\u8def\u5f84\u3002\u4f46\u662f\u8fd9\u6837\u4e00\u65e6\u90a3\u4e2a\u6587\u4ef6\u79fb\u52a8\u4f4d\u7f6e\uff0c\u4f7f\u7528\u7edd\u5bf9\u8def\u5f84\u5c31\u627e\u4e0d\u89c1\u90a3\u4e2a\u6587\u4ef6\u4e86\u3002\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u7684\u8bdd\uff0c\u7531\u4e8e\u4e00\u822cmd\u6587\u4ef6\u4f1a\u968f\u7740\u603b\u6587\u4ef6\u5939\u8ddf\u7740\u5176\u4ed6\u7684\u6587\u4ef6\u4e00\u8d77\u8d70\uff0c\u6240\u4ee5\u4e00\u822c\u4e0d\u4f1a\u51fa\u73b0\u627e\u4e0d\u5230\u7684\u95ee\u9898\u3002</p> <p>\u66f4\u666e\u901a\u7684\uff0c\u8fd8\u53ef\u4ee5\u6362\u6210\u5f53\u524d\u6587\u6863\u4e2d\u7684\u67d0\u4e2a\u5927\u6807\u9898\uff1a</p> <pre><code>\u70b9\u51fb\u8df3\u8f6c\u5230\u8fd9\u7bc7markdown\u7684[Intro\u90e8\u5206](#intro)\n</code></pre>"},{"location":"LECTURE/Markdown/markdown/#url","title":"\u5bf9url\u8d44\u6e90\u7684\u7406\u89e3","text":"<p>\u5728\u6211\u4eec\u63d2\u5165\u56fe\u7247\u7684\u65f6\u5019\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u8fd9\u6837\u7684\u8bed\u6cd5\uff1a</p> <pre><code>![\u56fe\u7247\u540d\u79f0](\u56fe\u7247\u94fe\u63a5)\n</code></pre> <p>\u672c\u8d28\u4e0a\u6765\u8bf4\uff0c\u4f60\u83b7\u53d6\u4e00\u5f20\u7f51\u7edc\u4e0a\u7684\u56fe\u7247\uff0c\u662f\u5728\u670d\u52a1\u5668\uff0824h\u4e0d\u5173\u673a\u7684\u7535\u8111\uff09\u7684\u6587\u4ef6\u7cfb\u7edf\u91cc\u9762\u83b7\u53d6\u4e86\u8fd9\u5f20\u56fe\u7247\u3002\u4f46\u4e3a\u4e86\u80fd\u4fdd\u8bc1\u4e00\u5f20\u56fe\u6709\u4e00\u4e2a\u552f\u4e00\u7684\u6807\u5fd7\uff0c\u4e00\u822c\u4e00\u5f20\u56fe\u90fd\u4f1a\u6709\u4e00\u4e2a\u81ea\u5df1\u7684\u94fe\u63a5\u3002</p> <p>\u6253\u5f00\u5e26\u56fe\u7247\u7684\u7f51\u7ad9\uff0c\u53f3\u952e\u56fe\u7247\uff0c\u5c31\u53ef\u4ee5\u770b\u5230<code>\u590d\u5236\u56fe\u7247\u94fe\u63a5</code>\u7684\u6309\u94ae\u4ece\u800c\u83b7\u53d6\u56fe\u7247\u7684\u94fe\u63a5\u3002</p> <p>\u8fd9\u91cc\u7684<code>\u56fe\u7247\u94fe\u63a5</code>\u4e5f\u53ef\u4ee5\u662f\u521a\u521a\u7684\u76f8\u5bf9\u8def\u5f84\uff0c\u6bd4\u5982\uff1a</p> <pre><code>![Markdown\u56fe\u6807](./media/markdown_icon.png)\n</code></pre> <p>\u4f46\u8fd9\u6837\uff0c\u4f60\u5c31\u9700\u8981\u5728\u548c\u4f60\u73b0\u5728\u5199\u7684<code>markdown</code>\u7684\u540c\u4e00\u76ee\u5f55\u4e0b\uff0c\u653e\u4e00\u4e2a<code>media</code>\u6587\u4ef6\u5939\uff0c\u91cc\u9762\u6709\u8fd9\u5f20<code>markdown_icon.png</code>\u7684\u56fe\u7247\u3002</p> <p>\u6709\u7684\u65f6\u5019\uff0c\u56fe\u7247\u548c\u4ee3\u7801\u76f8\u6bd4\u8d77\u6765\uff0c\u662f\u4e2a\u5e9e\u7136\u5927\u7269\uff08<code>1KB</code> vs <code>1MB</code>\uff09\uff0c\u8fd9\u65f6\u6211\u4eec\u4e0d\u5e0c\u671b\u5c06\u56fe\u7247\u52a0\u5165\u5230\u9879\u76ee\u4e2d\uff08\u6307\u4e0d\u5e0c\u671b\u9879\u76ee\u7684\u4f53\u79ef\u5f88\u5927\uff0c\u522b\u4eba\u4ece<code>GitHub</code>\u4e0a\u4e0b\u8f7d\u9879\u76ee\u65f6\u82b1\u7684\u65f6\u95f4\u8fc7\u4e45\uff09\uff0c\u53ef\u662f\u5728\u9879\u76ee\u8bf4\u660e\u4e2d\u8fd8\u9700\u8981\u52a0\u5165\u56fe\u7247\u8fdb\u884c\u8bf4\u660e\uff0c\u8fd9\u65f6\u600e\u4e48\u529e\u5462\uff1f\u6700\u7b80\u5355\u7684\uff0c\u5c06\u56fe\u7247\u538b\u7f29\u4e00\u4e0b\uff08<code>1MB-&gt;100KB</code>\uff09\u6254\u8fdb\u9879\u76ee\u6587\u4ef6\u5939\uff0c\u8fd9\u662f\u6700\u7701\u5fc3\u7684\u2026\u4f46\u8981\u662f\u56fe\u6bd4\u8f83\u591a\uff0c\u4e00\u822c\u6765\u8bf4\uff0c\u6211\u4eec\u4f1a\u9009\u62e9\u67d0\u4e9b\u5382\u5546\u7684\u5bf9\u8c61\u5b58\u50a8\u670d\u52a1\uff0c\u5c06\u8fd9\u4e9b\u56fe\u7247\u8d44\u6e90\u653e\u5230\u6bd4\u5982\u963f\u91cc\u4e91\u7684\u670d\u52a1\u5668\u4e0a\uff0c\u7136\u540e\u8fd9\u4e2a\u670d\u52a1\u628a\u56fe\u7247\u7684\u7f51\u7edc\u94fe\u63a5\u7ed9\u4f60\uff0c\u4f60\u5c31\u53ef\u4ee5\u5728<code>markdown</code>\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u94fe\u63a5\u4e86\u3002\u5982\u679c\u6ca1\u6709\u90a3\u4e48\u6b63\u5f0f\uff0c\u90a3\u4e48\u8fd9\u79cd\u670d\u52a1\u53eb\u505a\u56fe\u5e8a\u3002\u6bd4\u5982\u6211\u4e00\u76f4\u5728\u7528\u7684\u805a\u5408\u56fe\u5e8a\uff0c\u4f60\u628a\u56fe\u7247\u4e22\u8fdb\u53bb\uff0c\u5b83\u5e2e\u4f60\u5c06\u56fe\u7247\u8f6c\u4e3a\u4e00\u4e2a\u94fe\u63a5\u3002\u4f46\u662f\u4f7f\u7528\u8fd9\u79cd\u670d\u52a1\u4e5f\u6709\u9700\u8981\u6ce8\u610f\u7684\u5730\u65b9\uff0c\u5982\u679c\u8fd0\u8425\u56fe\u5e8a\u7684\u5de5\u4f5c\u5ba4\u54ea\u5929\u8dd1\u8def\u4e86\uff0c\u4f60\u653e\u8fdb\u53bb\u7684\u56fe\u7247\u53ef\u80fd\u5c31\u6ca1\u4e86\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#_4","title":"\u6dfb\u52a0\u76ee\u5f55","text":"<p>\u4e0d\u5c11\u5e73\u53f0\u90fd\u652f\u6301\u4f7f\u7528<code>[toc]</code>\u6765\u6dfb\u52a0\u76ee\u5f55\u3002\u4f60\u53ea\u9700\u8981\u8f93\u5165<code>[toc]</code>\uff0c\u5e73\u53f0\u5c31\u4f1a\u5e2e\u4f60\u81ea\u52a8\u6e32\u67d3\u751f\u6210\u76ee\u5f55\u3002</p> <p>\u4f46\u4e5f\u6709\u4e00\u4e9b\u5e73\u53f0\u4e0d\u652f\u6301\u8fd9\u6837\uff0c\u8fd9\u65f6\u4f60\u9700\u8981\u4f7f\u7528VS Code\u4e2d\u7684<code>Markdown All in One</code>\u63d2\u4ef6\uff0c\u4f7f\u7528\u8fd9\u4e2a\u63d2\u4ef6\u63d0\u4f9b\u7684<code>\u81ea\u52a8\u751f\u6210\u76ee\u5f55</code>\u529f\u80fd\u6765\u6dfb\u52a0\u76ee\u5f55\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#_5","title":"\u5176\u4ed6\u4e00\u4e9b\u6ce8\u610f\u4e8b\u9879","text":"<p>\u6709\u7684\u65f6\u5019\u4f60\u5728<code>markdown</code>\u660e\u660e\u6362\u884c\u4e86\uff0c\u53ef\u662f\u4e0a\u4f20\u5230<code>GitHub</code>\u4e0a\u9762\u4e00\u770b\uff0c\u6587\u5b57\u90fd\u7c98\u5728\u4e00\u8d77\u4e86\u3002\u8fd9\u662f\u4e3a\u4ec0\u4e48\u5462\uff1f</p> <p>\u82f1\u6587\u5728\u5206\u6bb5\u7684\u65f6\u5019\uff0c\u4e0d\u50cf\u6211\u4eec\u5199\u6587\u7ae0\u6bb5\u524d\u7a7a\u4e24\u683c\uff0c\u4ed6\u4eec\u4f1a\u76f4\u63a5\u5728\u4e24\u6bb5\u4e4b\u95f4\u591a\u7a7a\u4e00\u884c\u3002\u4e00\u822c\u7684\u56de\u8f66\u53ea\u662f\u7528\u6765\u65b9\u4fbf\u9605\u8bfb\uff0c\u4e0d\u7136\u4e00\u884c\u7684\u5185\u5bb9\u592a\u957f\u4e86\u3002</p> <p>\u5982\u679c\u4f60\u4e0d\u5e0c\u671b\u8fd9\u79cd\u65b9\u5f0f\u751f\u6548\uff0c\u53ef\u4ee5\u5728\u4e00\u884c\u540e\u9762\u52a0\u4e24\u4e2a\u7a7a\u683c\uff1b\u4f46\u8fd9\u6837\u5f88\u9ebb\u70e6\uff0c\u8fd8\u662f\u591a\u52a0\u56de\u8f66\u5427\uff1b\u6700\u597d\u5728\u6bcf\u79cd\u8bed\u6cd5\u524d\u540e\u90fd\u7a7a\u884c\uff0c\u8fd9\u6837\u4e5f\u80fd\u6709\u6548\u51cf\u5c11\u8bed\u6cd5\u4e0d\u88ab\u8bc6\u522b\u7684\u60c5\u51b5</p> <p>\uff08\u6ce8\uff1a\u591a\u4e8e2\u4e2a\u7684\u8fde\u7eed\u56de\u8f66markdown\u4f1a\u5c06\u5b83\u4eec\u5f53\u4f5c\u4e00\u4e2a\u56de\u8f66\u54e6\uff09</p>"},{"location":"LECTURE/Markdown/markdown/#markdown_4","title":"Markdown\u5de5\u5177\u4ecb\u7ecd","text":""},{"location":"LECTURE/Markdown/markdown/#macos","title":"macOS","text":""},{"location":"LECTURE/Markdown/markdown/#typora","title":"Typora","text":"<p>Typora\u5b98\u7f51</p> <p>\u6240\u89c1\u5373\u6240\u5f97\u7684<code>markdown</code>\u7f16\u8f91\u8f6f\u4ef6\uff0c\u5168\u5e73\u53f0\uff1b\u5404\u79cd\u610f\u4e49\u4e0a\u90fd\u5e94\u8be5\u662f<code>markdown</code>\u7f16\u8f91\u7684\u9996\u9009\uff01</p> <p>\u4e3b\u8981\u7528\u6765\u5199\u5355\u72ec\u7684markdown\uff08\u6bd4\u5982\u6211\u4eca\u5929\u8981\u5199\u8bb2\u7a3f\u4e86\uff0c\u7528markdown\u5199\u7684\u8bdd\u6211\u5c31\u4f1a\u8003\u8651Typora\uff09\uff1b\u4e5f\u53ef\u4ee5\u5f00\u4e00\u4e2a\u6587\u4ef6\u5939\u4e13\u95e8\u653e\u81ea\u5df1\u7684\u7b14\u8bb0\u2026\u2026</p>"},{"location":"LECTURE/Markdown/markdown/#vs-code","title":"VS Code","text":"<p>\u5b89\u88c5\u63d2\u4ef6<code>Markdown All in One</code>\uff0c\u4f1a\u652f\u6301\u4e0d\u5c11\u5feb\u6377\u64cd\u4f5c\u3002</p> <p><code>VS Code</code>\u4f5c\u4e3a\u7a0b\u5e8f\u5458\u4e2d\u53e3\u7891\u6700\u597d\u7684\u7f16\u8f91\u5668\uff0c\u5199\u5199<code>markdown</code>\u4ec0\u4e48\u7684\u80af\u5b9a\u6ca1\u95ee\u9898\uff01\u62d6\u5165\u4e00\u4e2a\u6587\u4ef6\u5939\u65b0\u5efa<code>markdown\u6587\u4ef6</code>\u5c31\u53ef\u4ee5\u7f16\u8f91\u4e86\uff01</p> <p>\u4e00\u822c\u6765\u8bf4\uff0c\u8f6f\u4ef6\u5f00\u53d1\u7684\u9879\u76ee\u4e2d\uff0c\u4ee3\u7801\u90fd\u662f\u548c<code>markdown\u6587\u4ef6</code>\u5728\u4e00\u8d77\u7684\uff0c\u4ee5\u540e\u5982\u679c\u6709\u4e00\u4e9b\u9700\u8981\u5728<code>VS Code</code>\u6253\u5f00\u7684\u9879\u76ee\uff0c\u4f7f\u7528<code>VS Code</code>\u7f16\u5199<code>README.md</code>\u6216\u8005\u5176\u4ed6\u7684<code>markdown\u6587\u4ef6</code>\u4e5f\u662f\u5f88\u65b9\u4fbf\u7684\u4e00\u4e2a\u9009\u62e9\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#xcode","title":"Xcode","text":"<p>\u5728<code>Xcode</code>\u4e2d\u4e5f\u53ef\u4ee5\u548c\u6dfb\u52a0<code>\u4ee3\u7801\u6587\u4ef6</code>\u4e00\u6837\u6dfb\u52a0<code>markdown\u6587\u4ef6</code>\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#_6","title":"\u5176\u4ed6","text":"<p>\u5982\u679c\u4f60\u5728\u542c\u4e86\u8fd9\u6b21lecture\u4e4b\u540e\uff0c\u6253\u7b97\u548c\u6211\u4e00\u6837\u4ee5\u540e\u81ea\u5df1\u7684\u6587\u7a3f\u90fd\u7528<code>markdown</code>\u6765\u5199\uff0c\u90a3\u6211\u89c9\u5f97\u4f60\u53ef\u4ee5\u8003\u8651\u4e00\u4e9b\u529f\u80fd\u66f4\u5f3a\u5927\u7684\u8f6f\u4ef6\u3002\u8fd9\u4e9b\u8f6f\u4ef6\u57fa\u672c\u90fd\u662f\u4ed8\u8d39\u7684\uff0c\u5728<code>App Store</code>\u641c\u7d22<code>markdown</code>\u5c31\u6709\u5f88\u591a\uff1b\u6709\u4e9b\u662f\u4e70\u65ad\u5236\u7684\uff0c\u6709\u4e9b\u662f\u8ba2\u9605\u5236\u7684\uff1b\u90fd\u5404\u81ea\u6709\u4e00\u4e9b\u72ec\u7279\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u53d1\u5e03\u670d\u52a1\u3001\u81ea\u52a8\u5907\u4efd\u3001\u56fe\u7247\u4e0a\u4f20\u7b49\u7b49\uff0c\u611f\u5174\u8da3\u7684\u540c\u5b66\u4e5f\u53ef\u4ee5\u770b\u770b\u77e5\u4e4e\u7b49\u5e73\u53f0\u7684\u5b89\u5229\u6587\u7ae0\uff0c\u81ea\u5df1\u4e0b\u8f7d\u8bd5\u7528\u7248\u8bd5\u7528\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#_7","title":"\u7f51\u7edc\u5e73\u53f0","text":"<p><code>CSDN</code>\u548c<code>\u7b80\u4e66</code>\u652f\u6301<code>Markdown</code>\u5199\u4f5c\u3002</p> <ul> <li><code>CSDN</code>\u5bf9\u5404\u79cd\u8bed\u6cd5\u652f\u6301\u7684\u6bd4\u8f83\u597d\uff1b<code>\u7b80\u4e66</code>\u53ea\u652f\u6301\u6bd4\u8f83\u57fa\u7840\u7684<code>Markdown</code>\u8bed\u6cd5\u3002</li> <li><code>CSDN</code>\u7684\u4e3b\u8981\u6587\u7ae0\u90fd\u662f\u6280\u672f\u6587\u7ae0\uff1b<code>\u7b80\u4e66</code>\u53ef\u80fd\u504f\u6742\u6587\u591a\u4e00\u4e9b\uff0c\u4f46\u4e5f\u6709\u4e0d\u5c11\u8d28\u91cf\u5f88\u9ad8\u7684\u6280\u672f\u6587\u7ae0\u3002\u5927\u5bb6\u4ee5\u540e\u81ea\u5df1\u7684\u5b66\u4e60\u7ecf\u5386\u3001\u5f00\u53d1\u7b14\u8bb0\u4e5f\u90fd\u53ef\u4ee5\u4e0a\u4f20\u5230\u8fd9\u4e9b\u5e73\u53f0\u8ba9\u66f4\u591a\u4eba\u770b\u5230\u3002</li> </ul>"},{"location":"LECTURE/Markdown/markdown/#_8","title":"\u5173\u4e8e\u4e0d\u540c\u98ce\u683c\u548c\u6269\u5c55\u7684\u8bf4\u660e","text":"<p>\u5982\u679c\u6211\u4eec\u53ea\u662f\u5199\u7b80\u5355\u7684<code>Markdown</code>\u6587\u7a3f\uff0c\u4e0a\u9762\u7684\u8fd9\u4e9b\u8bed\u6cd5\u5df2\u7ecf\u5b8c\u5168\u591f\u7528\u4e86\u3002</p> <p>\u4e0d\u8fc7\u65e2\u7136\u80fd\u7528\u7b26\u53f7\u8868\u793a\u683c\u5f0f\uff0c\u90a3\u4e48\u80fd\u4e0d\u80fd\u6dfb\u52a0\u66f4\u591a\u7684\u8bed\u6cd5\u8fdb\u6765\u5462\uff1f\u5f53\u7136\u53ef\u4ee5\uff0c\u6bd4\u5982\u5728<code>markdown</code>\u91cc\u9762\u4f7f\u7528<code>$y=x^2$</code>\u8868\u793a\u8fd9\u662f\u4e00\u4e2a<code>LaTeX</code>\u516c\u5f0f\uff08\u600e\u4e48\u6572<code>LaTeX</code>\u53ef\u4ee5\u67e5\u770b\u6211\u4e4b\u524d\u6574\u7406\u7684LaTeX\u6574\u7406 | \u7b80\u6613\u7b26\u53f7 Markdown\u516c\u5f0f\u7f16\u8f91\uff09\uff0c\u5982\u679c\u6e32\u67d3<code>markdown</code>\u7684\u8f6f\u4ef6\u652f\u6301\uff0c\u90a3\u4e48\u5b83\u5c31\u4f1a\u88ab\u663e\u793a\u4e3a\\(y=x^2\\)\uff1b\u6bd4\u5982\u8bf4\u5f88\u591a\u7f16\u8f91\u5668\u90fd\u652f\u6301<code>[toc]</code>\u8868\u793a\u63d2\u5165\u5168\u6587\u76ee\u5f55\uff08\u4f46\u53ef\u60dc\u7684\u662f<code>GitHub</code>\u4e0d\u652f\u6301\uff0c\u4e00\u822c\u4f1a\u7528<code>VS Code</code>\u7684\u63d2\u4ef6\u6765\u521b\u5efa\u76ee\u5f55\uff09\uff1b\u524d\u9762\u6211\u4eec\u8bb2\u4e86\u8868\u683c\uff0c\u8bed\u6cd5\u66f4\u591a\u7684<code>markdown</code>\u8fd8\u53ef\u4ee5\u4ee5\u67d0\u79cd\u65b9\u5f0f\u8bbe\u5b9a\u8868\u683c\u6bcf\u5217\u7684\u5bf9\u9f50\u65b9\u5f0f\uff1b\u7531\u4e8e<code>markdown</code>\u6700\u7ec8\u4f1a\u88ab\u6e32\u67d3\u4e3a\u7f51\u9875\uff08<code>html\u6587\u4ef6</code>\uff09\uff0c\u56e0\u6b64\u4f60\u5728\u5176\u4e2d\u52a0\u5165<code>html\u6807\u7b7e</code>\u4e5f\u662f\u53ef\u4ee5\u7684\u3002\u8fd9\u4e9b\u5176\u4ed6\u7684\u683c\u5f0f\u5927\u5bb6\u90fd\u53ef\u4ee5\u53bb<code>CSDN</code>\u641c\u7d22<code>markdown</code>\u6559\u7a0b\u627e\u5230\uff0c\u4f46\u662f\u5728\u4f7f\u7528\u7684\u65f6\u5019\u4e5f\u8981\u6ce8\u610f\u770b\u81ea\u5df1\u7684<code>markdown</code>\u7f16\u8f91\u5668\u662f\u4e0d\u662f\u652f\u6301\u8fd9\u4e9b\u8bed\u6cd5\u54e6\u3002</p> <p>\u8fd9\u4e2aCSDN\uff5cMarkdown\u8bed\u6cd5\u5b66\u4e60\u662f\u6211\u6700\u5f00\u59cb\u5b66\u4e60<code>Markdown</code>\u6574\u7406\u7684\u8bed\u6cd5\uff0c\u91cc\u9762\u5c31\u6709\u4ecb\u7ecd\u4e86\u5f88\u591a\u5176\u4ed6\u7684\u683c\u5f0f\uff1b\u4f46\u4e8b\u5b9e\u4e0a\u6211\u5199\u4e86\u4e00\u5e74\u7684<code>markdown</code>\uff0c\u6709\u4e9b\u6839\u672c\u5c31\u6ca1\u7528\u8fc7\u2026\u2026\u6240\u4ee5\u4eca\u5929\u6211\u4e5f\u53ea\u8bb2\u4e86\u6700\u57fa\u7840\u7684\u4e00\u4e9b\u683c\u5f0f\u3002</p> <p>\u8fd8\u6709\u4e00\u70b9\uff0c\u53cd\u659c\u7ebf\u8fd8\u6709\u884c\u5185\u4ee3\u7801\u53ef\u4ee5\u7528\u6765\u8f93\u5165\u53ef\u80fd\u4f1a\u88ab\u5f53\u4f5c<code>markdown</code>\u8bed\u6cd5\u7684\u7b26\u53f7\u3002\u6bd4\u5982\u4f60\u60f3\u5728markdown\u4e2d\u8f93\u5165\u4e00\u4e2a\u661f\u53f7<code>*</code>\uff0c\u53ef\u80fd\u4f60\u4e00\u4e0d\u5c0f\u5fc3\u5c31\u53d1\u73b0\u661f\u53f7\u88abmarkdown\u6e32\u67d3\u6210\u4e86\u683c\u5f0f\u3002\u8fd9\u65f6\u4f60\u53ef\u4ee5\u7528\u884c\u5185\u4ee3\u7801\u5305\u88f9\uff0c`*`\uff0c\u6216\u8005\u7528\u53cd\u659c\u7ebf<code>\\*</code>\uff0c\u8fd9\u6837markdown\u5c31\u4e0d\u4f1a\u628a\u8fd9\u4e9b\u7b26\u53f7\u5f53\u6210\u683c\u5f0f\u4e86\u3002</p>"},{"location":"LECTURE/Markdown/markdown/#markdown_5","title":"Markdown\u7684\u5bfc\u51fa","text":"<p>\u6709\u7684\u65f6\u5019\uff08\u5927\u591a\u6570\u65f6\u5019\uff09\u6211\u4eec\u90fd\u9700\u8981\u5c06\u81ea\u5df1\u5199\u7684<code>markdown</code>\u53d1\u4e2a\u522b\u4eba\u770b\uff0c\u8fd9\u65f6\u5f53\u7136\u6211\u4eec\u5e0c\u671b\u522b\u4eba\u770b\u5230\u7684\u662f\u5e26\u683c\u5f0f\u7684\uff0c\u800c\u4e0d\u662f\u7eaf\u6587\u672c\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u6211\u4eec\u5728<code>GitHub</code>\u4e0a\u4e0a\u4f20\u4e86<code>README.md</code>\uff0c\u90a3\u4e48<code>GitHub</code>\u4f1a\u5e2e\u6211\u4eec\u81ea\u52a8\u628a<code>.md</code>\u6587\u4ef6\u6e32\u67d3\u4e3a\u5e26\u683c\u5f0f\u7684\u7f51\u9875\u65b9\u4fbf\u67e5\u770b\u3002\u5728<code>CSDN</code>\u548c<code>\u7b80\u4e66</code>\u7b49\u5e73\u53f0\u53d1\u5e03\u4e5f\u662f\u4e00\u6837\u7684\u3002</p> <p>\u4e0d\u8fc7\u5982\u679c\u662f\u81ea\u5df1\u5bfc\u51fa\u7684\u8bdd\uff1a</p> <ul> <li>\u53ef\u4ee5\u5bfc\u51fa<code>xxx.md</code>\uff0c\u4f46\u8fd9\u6837\u5bf9\u65b9\u7684\u7535\u8111\u4e0a\u9700\u8981\u6709<code>markdown</code>\u7f16\u8f91\u8f6f\u4ef6\u6253\u5f00\u624d\u80fd\u770b\u5230\u683c\u5f0f\uff0c\u4e0d\u8fc7\u8fd9\u6837\u7684\u8bdd\u5bf9\u65b9\u4e0d\u4ec5\u53ef\u4ee5\u67e5\u770b\uff0c\u4e5f\u80fd\u7f16\u8f91\uff1b</li> <li>\u5982\u679c\u53ea\u662f\u8ba9\u522b\u4eba\u67e5\u770b\u7684\u8bdd\uff0c\u4e00\u822c\u6211\u4eec\u4f1a\u8003\u8651\u5bfc\u51fa<code>PDF\u6587\u4ef6</code>\uff0c\u4e5f\u5c31\u662f\u6253\u5370\uff0c\u7136\u540e\u9009\u62e9\u4fdd\u5b58PDF\u6587\u4ef6\uff1b</li> <li>\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5bfc\u51fa\u4e3a<code>\u56fe\u7247</code>\uff08\u4e00\u4e9b\u8f6f\u4ef6\u652f\u6301\uff09\uff1b</li> <li>\u6216\u8005\u6211\u4eec\u8fd8\u53ef\u4ee5\u5bfc\u51fa\u4e3a<code>\u7f51\u9875</code>\uff08html\uff09\uff0c\u8fd9\u6837\u5bf9\u65b9\u9700\u8981\u7528\u6d4f\u89c8\u5668\u624d\u80fd\u6253\u5f00\u4e5f\u6709\u4e9b\u9ebb\u70e6\u2026\u4e0d\u8fc7\u5982\u679c\u4f60\u662f\u5bfc\u51fa\u4e3a\u7f51\u9875\u518d\u90e8\u7f72\uff0c\u90a3\u4e48\u5bf9\u65b9\u901a\u8fc7\u94fe\u63a5\u5c31\u53ef\u4ee5\u8bbf\u95ee\uff0c\u8fd9\u5c31\u53d8\u5f97\u5f88\u65b9\u4fbf\u4e86</li> </ul>"},{"location":"LECTURE/Markdown/markdown/#markdown_6","title":"Markdown\u7684\u53d1\u5e03","text":"<p>\u4e0b\u9762\u7684\u5185\u5bb9\u6709\u4e9b\u8fdb\u9636\u4e5f\u6ca1\u90a3\u4e48\u91cd\u8981\u3002\u6211\u8bb2\u8fd9\u4e00\u5757\u5462\uff0c\u662f\u60f3\u544a\u8bc9\u5927\u5bb6\u5927\u5bb6\u73b0\u5728\u770b\u5230\u7684\u8fd9\u4efd\u8bb2\u7a3f\u548c\u8fd9\u4e2a\u9875\u9762\u662f\u600e\u4e48\u505a\u51fa\u6765\u7684\u3002\u4e00\u65b9\u9762\u662f\u60f3\u8ba9\u5927\u5bb6\u4e86\u89e3<code>markdown\u6587\u4ef6</code>\u53d1\u5e03\u7684\u8fc7\u7a0b\uff0c\u53e6\u4e00\u65b9\u9762\u662f\u5e0c\u671b\u5927\u5bb6\u5b66\u4e86Git\u3001\u4e86\u89e3\u4e86GitHub\u4e4b\u540e\u4e5f\u80fd\u4e00\u8d77\u4fee\u6539\u73b0\u5728\u7f51\u9875\u4e0a\u7684\u8fd9\u4e9b\u8bb2\u7a3f\u3002</p> <p>\u611f\u5174\u8da3\u7684\u540c\u5b66\u53ef\u4ee5\u8ba4\u771f\u542c\u4e00\u4e0b\uff1b\u56e0\u4e3a\u6211\u4e0d\u4f1a\u82b1\u5f88\u591a\u65f6\u95f4\u5728\u8fd9\u4e0a\u9762\uff0c\u4e5f\u5e0c\u671b\u5176\u4ed6\u540c\u5b66\u542c\u4e00\u542c\uff1a</p> <p>\u6709\u7684\u540c\u5b66\u53ef\u80fd\u5728\u5b66\u4e86<code>markdown</code>\u540e\u5c31\u4e00\u76f4\u7528\u5b83\u6765\u5199\u6587\u7ae0\uff0c\u5199\u7684\u591a\u4e86\u5c31\u60f3\u628a\u5b83\u53d1\u5e03\u51fa\u6765\uff0c\u6bd4\u5982\u5efa\u4e00\u4e2a\u4e2a\u4eba\u7f51\u7ad9\uff0c\u628a\u8fd9\u4e9b\u6587\u7ae0\u653e\u4e0a\u53bb\u3002\u7136\u800c<code>markdown</code>\u662f\u7eaf\u6587\u672c\u7684\uff0c\u6240\u4ee5\u8981\u5c06\u5e26\u683c\u5f0f\u7684\u7f51\u9875\u53d1\u5e03\u51fa\u6765\uff0c\u6211\u4eec\u9700\u8981\u501f\u52a9\u4e00\u4e9b\u5de5\u5177\uff1b\u8fd9\u6837\u7684\u5de5\u5177\u6709\u5f88\u591a\uff0c\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e2a\uff1amdbook</p> <p>\u6211\u4eec\u53ef\u4ee5\u5728<code>Mac</code>\u4e0a\u5b89\u88c5<code>Homebrew</code>\uff0c\u7136\u540e\u5728\u7ec8\u7aef\u7528\u547d\u4ee4\u884c\u8f93\u5165\uff1a</p> <pre><code>brew install mdbook\n</code></pre> <p>\u4e4b\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u5b83\u4e86\uff01</p> <p><code>mdbook</code>\u53ef\u4ee5\u65b9\u4fbf\u7684\u628a\u4e00\u7cfb\u5217md\u6587\u4ef6\u7ec4\u7ec7\u6210\u4e00\u4e2a<code>book</code>\uff0c\u7528\u6765\u53d1\u5e03\u5f88\u591a<code>markdown</code>\u6587\u4ef6\u7684\u65f6\u5019\u5f88\u5bb9\u6613\u3002<code>mdbook</code>\u4f7f\u7528<code>SUMMARY.md</code>\u8fd9\u4e2a\u6587\u4ef6\u786e\u5b9a\u5c55\u793a\u7684\u8fb9\u680f\uff1b<code>book.toml</code>\u8fd9\u4e2a\u6587\u4ef6\u6765\u5bf9\u5b83\u751f\u6210\u7684\u7f51\u9875\u505a\u4e00\u4e9b\u8bbe\u7f6e\u3002</p> <p>\u6211\u4eec\u53ea\u9700\u8981\u5728\u51c6\u5907\u597dmd\u6587\u4ef6\uff0c\u7f16\u8f91\u597d<code>SUMMARY.md</code>\u548c<code>book.toml</code>\u4e4b\u540e\uff0c\u786e\u5b9a\u81ea\u5df1\u7535\u8111\u88c5\u597d\u4e86<code>mdbook</code>\uff0c\u5728\u548c<code>book.toml</code>\u540c\u7ea7\u7684\u6587\u4ef6\u5939\u4e0b\u6267\u884c\uff1a</p> <pre><code>mdbook build\n</code></pre> <p>\u5c31\u53ef\u4ee5\u5f97\u5230\u4e00\u4e2a<code>book</code>\u7684\u6587\u4ef6\u5939\uff0c\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0a\u4f20\u5230\u670d\u52a1\u5668\uff0c\u522b\u4eba\u53bb\u8bbf\u95ee\u5c31\u53ef\u4ee5\u770b\u5230mdbook\u6e32\u67d3\u597d\u7684\u9875\u9762\u4e86\u3002</p> <p>\u5982\u4f55\u76f4\u63a5\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u67e5\u770b\u751f\u6210\u7684\u7f51\u9875\u7684\u6548\u679c\u5462\uff1f\u5728\u548c<code>book.toml</code>\u540c\u7ea7\u7684\u6587\u4ef6\u5939\u4e0b\u6267\u884c\uff1a</p> <pre><code>mdbook server\n</code></pre> <p>\u90a3\u4e48\u5982\u4f55\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u4e0a\u4f20\u81f3<code>GitHub</code>\u5462\uff1f\u6211\u4eec\u53ef\u4ee5\u5c06\u521a\u521a\u5f97\u5230\u7684<code>book</code>\u6587\u4ef6\u5939\u4e0a\u4f20\u81f3<code>GitHub</code>\uff0c\u7136\u540e\u5f00\u542f<code>GitHub Pages</code>\u7684\u670d\u52a1\u3002\u4f46\u66f4\u65b9\u4fbf\u7684\u662f\uff0c\u76f4\u63a5\u628a\u8fd9\u4e2a\u6587\u4ef6\u5939\u4f20\u4e0a\u53bb\uff0c\u4f7f\u7528<code>GitHub Action</code>\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u5728\u53e6\u4e00\u4e2a<code>Git</code>\u5206\u652f\u751f\u6210\u7f51\u9875\uff0c\u7136\u540e\u7528<code>GitHub Pages</code>\u53d1\u5e03\u51fa\u53bb\uff1b\u8fd9\u6837\u505a\u7684\u597d\u5904\u662f\uff1a\u6bcf\u6b21\u4fee\u6539\u4e0a\u4f20\uff0c\u53d1\u5e03\u90fd\u662f\u81ea\u52a8\u7684\uff0c\u8fd9\u6837\u88ab\u4eba\u770b\u5230\u4f60\u7684\u7f51\u9875/\u8bb2\u7a3f\u5c31\u603b\u662f\u6700\u65b0\u7684\u3002\u5982\u679c\u5927\u5bb6\u4e5f\u60f3\u5e2e\u5fd9\u4e00\u8d77\u5efa\u8bbe<code>THU iOS Club</code>\u7684<code>Tutorial</code>\uff0c\u5728\u5b66\u4e86<code>Git</code>\u4e4b\u540e\u5c31\u53ef\u4ee5\u63d0<code>Pull Request</code>\u55bd\uff01</p>"},{"location":"LECTURE/Markdown/markdown/#up","title":"\u6587\u5b57\u7f16\u8f91\u6548\u7387up\u6280\u5de7","text":"<p>\u6700\u540e\u5462\uff0c\u518d\u6559\u5927\u5bb6\u4e00\u4e9b\u5feb\u901f\u5199\u6587\u6863\u7684\u65b9\u6cd5\u3002\u8fd9\u79cd\u65b9\u6cd5\u5728macOS\u4e0a\u7684\u5927\u591a\u6570\u6587\u5b57/\u4ee3\u7801\u7f16\u8f91\u8f6f\u4ef6\u4e0a\u90fd\u9002\u7528\uff08\u5305\u62ec<code>Xcode</code>\uff09\u3002</p> <p>\u3007 \u53cc\u51fb\u9009\u4e2d\u4e00\u4e2a\u8bcd\uff1a\u8fd9\u91cc\u8bcd\u6307\u4e00\u4e2a\u4e2d\u6587\u7684\u8bcd\u8bed\u6216\u8005\u4e00\u4e2a\u82f1\u6587\u7684\u5355\u8bcd</p> <p>\u3007 \u4e09\u51fb\u9009\u4e2d\u4e00\u884c</p> <p>\u3007 \u2325\u5de6\u53f3\uff1a\u4ee5\u8bcd\u4e3a\u5355\u4f4d\u79fb\u52a8\u5149\u6807</p> <p>\u3007 \u2318\u4e0a\u4e0b\u5de6\u53f3\uff1a\u79fb\u52a8\u5149\u6807\u5230\u884c\u9996/\u884c\u672a/\u6587\u5934/\u6587\u672b</p> <p>\u3007 \u6309\u4f4f\u21e7\uff1a\u6587\u5b57\u9009\u4e2d\uff1b\u21e7\u4e0a\u4e0b\u5de6\u53f3 / \u21e7\u2325\u5de6\u53f3 / \u2318\u21e7\u4e0a\u4e0b\u5de6\u53f3</p> <p>\u3007 \u6309\u4f4f\u2325\uff1a\u77e9\u5f62\u533a\u57df\u9009\u4e2d</p> <p>\u3007 \u2325\u232b\u3001\u2318\u232b\uff1bfn\u232b\uff1a\u5220\u9664\u8bcd\u3001\u5220\u9664\u5230\u884c\u9996\uff1b\u5411\u540e\u5220\u9664 delete\uff1b\u2318X\u4e5f\u662f\u4e00\u79cd\u5220\u9664\u7684\u65b9\u5f0f</p>"},{"location":"LECTURE/Markdown/markdown/#homework","title":"Homework","text":"<p>\u3007 \uff08markdown\u8bed\u6cd5\uff1a\u7c97\u4f53/\u659c\u4f53\uff09</p> <p>\u7528<code>markdown</code>\u5199\u51fa\u5e26\u683c\u5f0f\u7684\u6587\u5b57\uff1a<code>Hello, world!</code>\u5176\u4e2d<code>Hello</code>\u7528\u7c97\u4f53\uff0c<code>world</code>\u7528\u659c\u4f53\u3002</p> <p>\u3007 \uff08markdown\u8bed\u6cd5\uff1a\u8868\u683c\uff09</p> <p>\u7528<code>markdown</code>\u8bed\u6cd5\u5217\u4e00\u4e2a\u4e24\u884c\u4e94\u5217\u7684\u8868\u683c\uff1a\u8868\u5934\u4e3a\u5468\u4e00\u5230\u5468\u4e94\uff0c\u8868\u7684\u5185\u5bb9\u4e3a\u90a3\u5929\u4f60\u7684\u65e9\u516b\u8bfe\u7a0b\uff1b\u5982\u679c\u67d0\u5929\u6ca1\u6709\u65e9\u516b\u8bfe\u7a0b\uff0c\u90a3\u4e48\u5bf9\u5e94\u7684\u683c\u7a7a\u4e0b\u6765\u4e0d\u586b\u5199\u3002</p> <p>\u3007 \uff08markdown\u56fe\u7247\u63d2\u5165\uff09</p> <p>\u5728<code>markdown</code>\u4e2d\u63d2\u5165\u56fe\u7247\u65f6\u5c0f\u62ec\u53f7\u4e2d\u53ef\u4ee5\u586b\u5199\u56fe\u7247\u5728\u4e92\u8054\u7f51\u4e0a\u7684\uff08\uff09\uff0c\u4e5f\u53ef\u4ee5\u586b\u5199\u5728\u6587\u4ef6\u7ba1\u7406\u5668\uff08\u5982<code>\u8bbf\u8fbe</code>\uff09\u4e2d\u7684\u56fe\u7247\u4e0emarkdown\u6587\u4ef6\u7684\uff08\uff09\u3002</p> <p>\u3007 \uff08\u5176\u4ed6markdown\u8bed\u6cd5\uff09</p> <p>\u9605\u89c8<code>Github</code>\u652f\u6301\u7684<code>markdown</code>\u8bed\u6cd5GitHub Guides | Mastering Markdown\uff0c\u4f7f\u7528\u5220\u9664\u7ebf\u8bed\u6cd5\u5728\u53f3\u8fb9\u7684\u6587\u5b57\u4e2d\u53ea\u6dfb\u52a0\u7b26\u53f7\u6765\u8868\u793a\u201cGoogle\u662f\u4f60\u6700\u597d\u7684\u670b\u53cb\u201d\uff09\uff1a<code>Baidu Google is your best friend.</code>\uff08\u63d0\u793a\uff1a<code>crossed out</code>\uff09</p>"},{"location":"LECTURE/Markdown/markdown/#answer","title":"Answer","text":"<p>\u3007 \uff08markdown\u8bed\u6cd5\uff1a\u7c97\u4f53/\u659c\u4f53\uff09</p> <p>\u7528<code>markdown</code>\u5199\u51fa\u5e26\u683c\u5f0f\u7684\u6587\u5b57\uff1a<code>Hello, world!</code>\u5176\u4e2d<code>Hello</code>\u7528\u7c97\u4f53\uff0c<code>world</code>\u7528\u659c\u4f53\u3002</p> <pre><code>**Hello**/__Hello__ \u548c _word_/*world* \u7684\u4efb\u610f\u7ec4\u5408\n</code></pre> <p>\u3007 \uff08markdown\u8bed\u6cd5\uff1a\u8868\u683c\uff09</p> <p>\u53c2\u8003\uff1a</p> <pre><code>Monday | Tuesday | Wednesday | Thursday | Friday\n- | - | - | - | -\n | | Technical Drawing | | Signal and System\n</code></pre> <p>\u3007 \uff08markdown\u56fe\u7247\u63d2\u5165\uff09</p> <p>\u94fe\u63a5 \u76f8\u5bf9\u8def\u5f84</p> <p>\u3007 \uff08\u5176\u4ed6markdown\u8bed\u6cd5\uff09</p> <pre><code>~~Baidu~~ Google is your best friend.\n</code></pre>"},{"location":"LECTURE/Markdown/vscode-extension/","title":"\u5b89\u88c5VSCode\u548cMarkdown\u63d2\u4ef6","text":"<p>\u6682\u65f6\u4e0d\u60f3\u5b89\u88c5 VSCode\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528\u5728\u7ebf\u7684 Markdown\u7f16\u8f91\u5668\u3002\u5982 https://stackedit.io/app#</p>"},{"location":"LECTURE/Markdown/vscode-extension/#vscode","title":"\u5b89\u88c5 VSCode","text":"<p>\u5982\u679c\u5df2\u7ecf\u5b89\u88c5\u4e86 VSCode\uff0c\u63a8\u8350\u68c0\u67e5\u4e00\u4e0b\u66f4\u65b0\u4fdd\u6301\u6700\u65b0\u7248\u672c\uff1a</p> <p></p> <p>\u6253\u5f00 https://code.visualstudio.com/Download</p> <p>\u6309\u7167\u81ea\u5df1\u7684\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\u9009\u62e9\u5b89\u88c5\u5305\u8fdb\u884c\u4e0b\u8f7d\u3002</p> <p></p> <p>\u4e0b\u8f7d\u597d\u540e\u53cc\u51fb\u5b89\u88c5\u5373\u53ef\u3002</p> <p></p> <p></p> <p>\u63a8\u8350\u5728\u5b89\u88c5\u8fc7\u7a0b\u4e2d\uff0c\u52fe\u9009\u8fd9\u51e0\u9879\uff1a</p> <p></p> <p>\u5176\u4ed6\u7684\u76f4\u63a5\u4e0b\u4e00\u6b65\u5c31\u597d</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u5b89\u88c5\u5df2\u7ecf\u5b8c\u6210</p> <p></p>"},{"location":"LECTURE/Markdown/vscode-extension/#_1","title":"\u5b89\u88c5\u63d2\u4ef6","text":""},{"location":"LECTURE/Markdown/vscode-extension/#_2","title":"\u4e2d\u6587\u63d2\u4ef6","text":"<p>\u5982\u679c\u9700\u8981\u5c06 VSCode \u8c03\u4e3a\u4e2d\u6587\uff0c\u53ef\u4ee5\u5728\u63d2\u4ef6\u5546\u5e97\uff08\u5de6\u4fa7\u7b2c\u4e94\u4e2a\u56fe\u6807\uff09\u4e2d\u641c\u7d22 <code>Chinese</code>\uff0c\u9009\u62e9\u4e2d\u6587\u7b80\u4f53\u5b89\u88c5\u5373\u53ef\u3002</p>"},{"location":"LECTURE/Markdown/vscode-extension/#markdown","title":"Markdown\u63d2\u4ef6","text":"<p>\u5728\u63d2\u4ef6\u5546\u5e97\uff08\u5de6\u4fa7\u7b2c\u4e94\u4e2a\u56fe\u6807\uff09\u4e2d\u641c\u7d22 <code>Markdown</code>\uff0c\u53ef\u4ee5\u770b\u5230\u6709\u4e00\u4e2a <code>Markdown All in One</code> \u7684\u63d2\u4ef6\uff0c\u5b89\u88c5\u5373\u53ef\u3002</p> <p></p> <p>\u63d2\u4ef6\u4f1a\u63d0\u4f9b\u5982 Markdown\u9884\u89c8\u3001\u5feb\u6377\u952e \u7b49 \u5728\u7f16\u8f91Markdown\u65f6\u5f88\u5b9e\u7528\u7684\u529f\u80fd\u3002</p>"},{"location":"LECTURE/ns-3/ns3/","title":"ns-3 \u73af\u5883\u914d\u7f6e","text":"<p>made by XJTU  CS2201(H) \u80e1\u535a\u7444</p>"},{"location":"LECTURE/ns-3/ns3/#0-ns3","title":"0. ns3\u7b80\u4ecb","text":"<p>ns-3\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u7f51\u7edc\u4eff\u771f\u5668\uff0c\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\u7cfb\u7edf\u548c\u534f\u8bae\u7684\u5efa\u6a21\u4e0e\u4eff\u771f\u3002\u5982\u679c\u4f60\u51c6\u5907\u53c2\u4e0e\u8ba1\u7b97\u673a\u7f51\u7edc\u548c\u4e91\u8ba1\u7b97\u65b9\u9762\u7684\u79d1\u7814\u9879\u76ee\uff0c\u5b83\u5c06\u662f\u4f60\u5fe0\u8bda\u800c\u53ef\u9760\u7684\u201c\u53e6\u4e00\u534a\u201d\u3002\u5b83\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7814\u7a76\u3001\u5f00\u53d1\u548c\u6d4b\u8bd5\u5404\u79cd\u7f51\u7edc\u6280\u672f\u548c\u7b97\u6cd5\u3002</p> <p>ns-3\u88ab\u6784\u5efa\u4e3a\u4e00\u7ec4\u76f8\u4e92\u534f\u4f5c\u7684\u8f6f\u4ef6\u5e93\uff0c\u7528\u6237\u53ef\u4ee5\u7f16\u5199C++\u6216Python\u7f16\u7a0b\u8bed\u8a00\u7684\u7a0b\u5e8f\uff0c\u5e76\u4e0e\u8fd9\u4e9b\u5e93\u8fdb\u884c\u94fe\u63a5\u6216\u5bfc\u5165\u3002</p>"},{"location":"LECTURE/ns-3/ns3/#1","title":"1. \u672c\u6587\u7535\u8111\u914d\u7f6e\u73af\u5883\u4e0e\u76ee\u6807\u7248\u672c\uff1a","text":"<ol> <li>\u7535\u8111\uff1aMacbook Pro\uff08M2\uff09</li> <li>\u914d\u7f6e\u73af\u5883\uff1aLinux\u865a\u62df\u673a\uff08Ubuntu 22.04LTS\uff09</li> <li>\u76ee\u6807\u7248\u672c\uff1ans-3.37</li> </ol>"},{"location":"LECTURE/ns-3/ns3/#2-ns-3","title":"2. \u4ee5\u4e0b\u5de5\u5177\u662f\u5f00\u59cb\u4f7f\u7528ns-3\u6240\u9700\u7684\uff1a","text":"<p>C++\u7f16\u8bd1\u5668 clang++\u6216\uff08g++\u7248\u672c9\u6216\u66f4\u9ad8\uff09g++ Python python3\u7248\u672c&gt;=3.6 CMake cmake\u7248\u672c&gt;=3.10 \u6784\u5efa\u7cfb\u7edf make ninja\uff08XCode\uff09\u6216xcodebuild Git \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u4eceGitLab.com\u8bbf\u95eens-3\uff09 tar \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u89e3\u538bns-3\u53d1\u5e03\uff09 bunzip2 \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u89e3\u538b\u7f29ns-3\u53d1\u5e03\uff09</p> <pre><code>sudo apt install g++ python3 cmake ninja-build git\nsudo apt install ccache\nsudo apt install python3-pip\npython3 -m pip install --user cppyy // \u5f85\u5b9a\uff0c\u76ee\u524d\u770b\u6765\u5e76\u4e0d\u662f\u5fc5\u9700\u54c1\uff0c\u56e0\u4e3a\u6211\u6ca1\u914d\u4e0a\u5374\u4e5f\u4e0d\u5f71\u54cd\u4f7f\u7528\ud83e\udd21\nsudo apt install gir1.2-goocanvas-2.0 python3-gi python3-gi-cairo python3-pygraphviz gir1.2-gtk-3.0 ipython3\nsudo apt install python3-setuptools git\nsudo apt install qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools\nsudo apt install openmpi-bin openmpi-common openmpi-doc libopenmpi-dev\nsudo apt install mercurial unzip\nsudo apt install gdb valgrind\nsudo apt install clang-format\nsudo apt install doxygen graphviz imagemagick\nsudo apt install texlive texlive-extra-utils texlive-latex-extra texlive-font-utils dvipng latexmk\nsudo apt install python3-sphinx dia\nsudo apt install gsl-bin libgsl-dev libgslcblas0\nsudo apt install tcpdump\nsudo apt install sqlite sqlite3 libsqlite3-dev // \u5982\u679c\u51fa\u95ee\u9898\u53ef\u4ee5\u6539\u6210\uff1asudo apt install sqlite3 libsqlite3-dev\nsudo apt install libxml2 libxml2-dev\nsudo apt install libgtk-3-dev\nsudo apt install vtun lxc uml-utilities\nsudo apt install libxml2 libxml2-dev libboost-all-dev\n</code></pre>"},{"location":"LECTURE/ns-3/ns3/#3-gitns3","title":"3. \u4f7f\u7528Git\u5b89\u88c5ns3\uff1a","text":"<p>ps: \u8981\u662f\u4e0d\u719f\u6089git\uff0c\u8bf4\u660e\u4f60\u7684\u79d1\u7814\u7ecf\u5386\u5b58\u5728\u8df3\u6b65\uff0c\u5efa\u8bae\u590d\u4e60\u57fa\u7840\u8fd0\u7ef4\u77e5\u8bc6</p> <p><pre><code>(1) \u5efa\u7acb\u6587\u4ef6\u5939\uff0c\u5728\u6587\u4ef6\u5939\u4e2d\u653e\u7f6e\u5b89\u88c5\u5305\uff1a\ncd //\u968f\u4fbf\u4f60\u5efa\u7acb\u5728\u54ea\u91cc\uff0c\u6211\u7684\u9009\u62e9\u662f: cd /Desktop/\nmkdir workspace\n\n(2) \u8fdb\u5165\u6587\u4ef6\u5939\uff0c\u8fdb\u884cclone\uff1a\ncd workspace\ngit clone https://gitlab.com/nsnam/ns-3-allinone.git\ncd ns-3-allinone\n</code></pre> </p>"},{"location":"LECTURE/ns-3/ns3/#4-ns-3-allinone","title":"4. \u8fdb\u5165\u6307\u5b9a\u7684ns-3-allinone\u8fdb\u884c\u540e\u7eed\u914d\u7f6e\uff1a","text":"<p>==\u5728\u6587\u4ef6\u5939ns-3-allinone\u4e0b==\u5bf9\u6307\u5b9a\u7684ns3\u7248\u672c\u8fdb\u884c\u4e0b\u8f7d\uff1a(\u770b\u6587\u4ef6\u914d\u7f6e\u548c\u6211\u7684\u622a\u56fe\u65f6\uff0c\u8bb0\u5f97\u4ed4\u7ec6\u770b\u914d\u7f6e\u7684\u8def\u5f84\uff01) <pre><code>python3 download.py -n ns-3.37\n</code></pre> </p>"},{"location":"LECTURE/ns-3/ns3/#5-cmake","title":"5. \u7528CMake\u5305\u88c5\u5668\u8fdb\u884c\u6784\u5efa\uff1a","text":"<p>ps\uff1a\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65b0\u7248\u672c\u7684ns3\uff083.36\u540e\u7eed\u7248\u672c\uff09\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528waf\u5de5\u5177\u8fdb\u884c\u9879\u76ee\u7684\u6784\u5efa\u4e86</p> <ol> <li>\u7d27\u968f\u4e0a\u9762\u7684\u5185\u5bb9\uff0c\u8fdb\u5165ns-3.37\u6587\u4ef6\u5939\uff1a</li> <li>\u4e3a\u5b9e\u73b0\u7528\u6237\u754c\u9762\uff0c\u8fd9\u91cc\u5305\u542b\u540d\u4e3ans-3\u7684CMake\u5305\u88c5\u5668\u811a\u672c\u3002\uff08\u4f60\u5728\u8fd9\u4e00\u6b65\u5565\u4e5f\u4e0d\u7528\u505a\uff0c\u76f4\u63a5\u770b\u4e0b\u9762\u5c31\u884c\uff09</li> <li>\u4e3a\u4e86\u544a\u8bc9ns-3\u8fdb\u884c\u5305\u542b\u793a\u4f8b\u548c\u6d4b\u8bd5\u7684\u4f18\u5316\u6784\u5efa\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>./ns3 clean\n./ns3 configure --build-profile=optimized --enable-examples --enable-tests\n</code></pre></li> <li>\u73b0\u5728\u4f60\u53ef\u4ee5\u770b\u5230\u5b83\u7684\u53cd\u9988\uff0c\u8bf4\u660e\u6784\u5efa\u6210\u529f\u2705 </li> </ol>"},{"location":"LECTURE/ns-3/ns3/#6-ns-3","title":"6. \u624b\u52a8\u8fdb\u884cns-3\u6a21\u5757\u6d4b\u8bd5\uff1a","text":"<p>\u8fd9\u4e00\u6b65\u4f9d\u7136\u662f\u5728ns-3.37\u6587\u4ef6\u5939\u4e0b\u8fdb\u884c <pre><code>./test.py\n</code></pre></p> <p>\u8fd9\u4f1a\u7ecf\u5386\u4e00\u4e2a\u6f2b\u957f\u7684\u8fc7\u7a0b\uff0c\u5f62\u5982\uff1a </p> <p>\u6700\u540e\uff0c\u770b\u5230\u8fd9\u6837\u7684\u754c\u9762\uff0c\u8bf4\u660e\u642d\u5efa\u6d4b\u8bd5\u6210\u529f\uff1a</p> <p></p>"},{"location":"LECTURE/ns-3/ns3/#7","title":"7. \u81ea\u884c\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a","text":"<p>\u901a\u5e38\u6211\u4eec==\u5728 ns3 \u7684\u63a7\u5236\u4e0b\u8fd0\u884c\u811a\u672c==\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u6784\u5efa\u7cfb\u7edf\u6b63\u786e\u8bbe\u7f6e\u4e86\u5171\u4eab\u5e93\u8def\u5f84\uff0c\u5e76\u4e14\u5728\u8fd0\u884c\u65f6\u5e93\u662f\u53ef\u7528\u7684\u3002</p> <p>\u8981\u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u53ea\u9700\u5728 ns3 \u4e2d\u4f7f\u7528 <code>--run</code> \u9009\u9879\u3002\u6211\u4eec\u6765\u8fd0\u884c ns-3 \u4e2d\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u7684 \"Hello World\" \u7a0b\u5e8f\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>$ ./ns3 run hello-simulator\n</code></pre></p> <p>ns3 \u4f1a\u9996\u5148\u68c0\u67e5\u7a0b\u5e8f\u662f\u5426\u5df2\u6b63\u786e\u6784\u5efa\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\u4f1a\u6267\u884c\u6784\u5efa\u3002\u7136\u540e\uff0cns3 \u6267\u884c\u8be5\u7a0b\u5e8f\uff0c\u4ea7\u751f\u4ee5\u4e0b\u8f93\u51fa\uff1a <pre><code>Hello Simulator\nCongratulations! You are now an ns-3 user!\n</code></pre></p>"},{"location":"LECTURE/ns-3/ns3/#ps","title":"ps\uff1a\u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230\u8f93\u51fa\u600e\u4e48\u529e\uff1f","text":"<p>\u5982\u679c\u4f60\u770b\u5230 ns3 \u7684\u6d88\u606f\u8868\u660e\u6784\u5efa\u6210\u529f\uff0c\u4f46\u662f\u6ca1\u6709\u770b\u5230 \"Hello Simulator\" \u7684\u8f93\u51fa\uff0c\u5f88\u53ef\u80fd\u662f\u4f60\u5df2\u7ecf\u5728 \"Building with the ns3 CMake wrapper\" \u90e8\u5206\u5c06\u6784\u5efa\u6a21\u5f0f\u5207\u6362\u4e3a\u4e86\u4f18\u5316\u6a21\u5f0f\uff0c\u4f46\u662f\u5fd8\u8bb0\u4e86\u5207\u56de\u8c03\u8bd5\u6a21\u5f0f\u3002\u5728\u672c\u6559\u7a0b\u4e2d\u4f7f\u7528\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684 ns-3 \u65e5\u5fd7\u7ec4\u4ef6\u6765\u6253\u5370\u7528\u6237\u6d88\u606f\u5230\u63a7\u5236\u53f0\u3002\u5728\u7f16\u8bd1\u4f18\u5316\u4ee3\u7801\u65f6\uff0c\u6b64\u7ec4\u4ef6\u7684\u8f93\u51fa\u4f1a\u81ea\u52a8\u7981\u7528\uff0c\u5373\u88ab\u201c\u4f18\u5316\u6389\u201d\u3002\u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230 \"Hello Simulator\" \u8f93\u51fa\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ ./ns3 configure --build-profile=debug --enable-examples --enable-tests\n</code></pre> <p>\u8fd9\u544a\u8bc9 ns3 \u6784\u5efa\u8c03\u8bd5\u7248\u672c\u7684 ns-3 \u7a0b\u5e8f\uff0c\u5305\u62ec\u793a\u4f8b\u548c\u6d4b\u8bd5\u3002 </p> <p>\u7136\u540e\uff0c\u4f60\u4ecd\u7136\u9700\u8981\u6784\u5efa\u5b9e\u9645\u7684\u8c03\u8bd5\u7248\u672c\u4ee3\u7801\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ ./ns3\n</code></pre> <p>\u8fd9\u4f1a\u7ecf\u5386\u4e00\u4e2a\u6f2b\u957f\u7684\u8fc7\u7a0b\uff0c\u76f4\u5230\u5168\u90e8\u642d\u5efa\u5b8c\u6210\uff1a</p> <p></p> <p>\u73b0\u5728\uff0c\u5982\u679c\u8fd0\u884c <code>hello-simulator</code> \u7a0b\u5e8f\uff0c\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u9884\u671f\u7684\u8f93\u51fa:</p> <p></p>"},{"location":"LECTURE/ns-3/ns3/#8","title":"8. \u7ed3\u8bed\uff1a","text":"<ol> <li>\u606d\u559c\u4f60\uff0c\u5230\u4e86\u8fd9\u91cc\u4f60\u5c31\u5df2\u7ecf\u914d\u7f6e\u6210\u529f\u4e86\uff01</li> <li>\u4e0d\u8981\u5fd8\u4e86\u672c\u6587\u7684\u914d\u7f6e\u987a\u5e8f\u662f\u6e10\u8fdb\u7684\uff0c\u5982\u679c\u4f60\u7559\u5fc3\u7684\u8bdd\u4f1a\u53d1\u73b0\uff1a./test.py\u4e4b\u540e\u8df3\u51fa\u7684\u90e8\u5206\u663e\u793a\u4e4b\u524d\u914d\u7f6e\u7684\u662f\u4f18\u5316\u6a21\u5f0f\uff1b\u800c\u540e\u7eed./ns3 configure --build-profile=debug --enable-examples --enable-tests\u5bf9\u5e94\u914d\u7f6e\u7684\u662f\u8c03\u8bd5\u6a21\u5f0f\u3002\u5728\u6211\u4eec\u7684\u65e5\u5e38\u79d1\u7814\u4e2d\u7528\u5230\u7684\u57fa\u672c\u662f\u8c03\u8bd5\u6a21\u5f0f\uff01</li> </ol>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/","title":"oh-my-zsh\u914d\u7f6e","text":"<p>made by XJTU CS2201(H) \u80e1\u535a\u7444</p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#0","title":"0. \u524d\u7f6e\u4ecb\u7ecd","text":"<ul> <li>\u4f7f\u7528\u8bbe\u5907\uff1aMacbookPro(M2)</li> <li>\u7535\u8111\u7248\u672c\uff1aSonoma 14.0 (23A344)</li> <li>\u914d\u7f6e\u76ee\u7684\uff1a\u6211\u7684mac\u9ed8\u8ba4\u7ec8\u7aef\u662fzsh\uff0c\u4f46\u7f3a\u4e4foh-my-zsh\u7684\u52a0\u6301\uff0c\u5b83\u663e\u5f97\u4e0d\u591f\u9ad8\u7aef\ud83e\udd21\uff0c\u4e8e\u662f\u6211\u51b3\u5b9a\u201c\u5347\u7ea7\u201d\uff01</li> </ul> <p>\u76f4\u63a5\u4ece\u5b98\u7f51\u4e0b\u8f7diTerm.app\u8f6f\u4ef6\uff1ahttps://iterm2.com/</p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#1-oh-my-zsh","title":"1. \u5b89\u88c5oh-my-zsh","text":"<pre><code>sh -c \"$(curl -fsSL https://raw.github.com/robbyrussell/oh-my-zsh/master/tools/install.sh)\"\n</code></pre> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4f7f\u7528 git clone \u8fdb\u884c\u4e0b\u8f7d\uff0c\u4e24\u8005\u662f\u4e00\u4e2a\u610f\u601d\uff0c\u6b64\u5904\u7565\u53bb</p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#2-zsh","title":"2. \u8bbe\u7f6ezsh\u4e3b\u9898","text":"<pre><code>open ~/.zshrc\n</code></pre> <pre><code>source ~/.zshrc\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#3-firacode","title":"3. \u5b89\u88c5\u5e76\u8bbe\u7f6eFiraCode\u5b57\u4f53","text":"<p>\u5b89\u88c5\u5b57\u4f53\uff1a</p> <pre><code>brew tap homebrew/cask-fonts\nbrew install font-fira-code --cask\n</code></pre> <p>\u8bbe\u7f6e\u5b57\u4f53\uff1a</p> <p></p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#4-snazzy","title":"4. \u5b89\u88c5\u5e76\u8bbe\u7f6e\u914d\u8272\uff08\u968f\u610f\uff0c\u8fd9\u91cc\u4ee5snazzy\u4e3e\u4f8b\uff09","text":"<ol> <li> <p>\u5b89\u88c5\u914d\u8272\uff1a\u4e0b\u8f7d\u540e\u70b9\u51fb\uff1aAdd it anyway</p> </li> <li> <p>\u8bbe\u7f6e\u914d\u8272\uff1a </p> </li> </ol>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#5","title":"5. \u5b89\u88c5\u51e0\u4e2a\u63d2\u4ef6","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#1zshpure-prompt","title":"\uff081\uff09\u81ea\u5b9a\u4e49zsh\u63d0\u793a\u7b26\u548c\u8272\u5f69\u7684\u63d2\u4ef6\uff1apure prompt","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#fastest","title":"\u6211\u8ba4\u4e3a\u7684fastest\u65b9\u6cd5:","text":"<pre><code>brew install pure\n# .zshrc\nautoload -U promptinit; promptinit\nprompt pure\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#2fuzzy-finder","title":"\uff082\uff09\u6a21\u7cca\u67e5\u627efuzzy finder","text":"<pre><code>git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf\n~/.fzf/install\n</code></pre> <p>\u5f88\u663e\u7136\uff1a\u4e00\u8defy\u5c31\u597d</p> <p>\u4f7f\u7528\u5feb\u6377\u952e\uff1a<code>ctrl+R</code></p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#_1","title":"\u26a0\ufe0f\u4e0b\u9762\u8fd9\u4e09\u4e2a\u5148\u4e0b\u8f7d\u540e\u914d\u7f6e\uff01","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#3zsh-syntax-highlightinga","title":"\uff083\uff09\u8bed\u6cd5\u9ad8\u4eae\uff1azsh-syntax-highlighting\uff08\u4e0b\u8f7da\uff09","text":"<pre><code>git clone https://github.com/zsh-users/zsh-syntax-highlighting.git ${ZSH_CUSTOM:-~/.oh-my-zsh/custom}/plugins/zsh-syntax-highlighting\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#4zsh-autosuggestionsb","title":"\uff084\uff09\u81ea\u52a8\u8865\u5168\uff1azsh-autosuggestions\uff08\u4e0b\u8f7db\uff09","text":"<pre><code> git clone https://github.com/zsh-users/zsh-autosuggestions ~/.oh-my-zsh/custom/plugins/zsh-autosuggestions\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#5autojumpc","title":"\uff085\uff09\u81ea\u52a8\u5230\u8fbe\u8def\u5f84\uff1aautojump\uff08\u4e0b\u8f7dc\uff09","text":"<pre><code>brew install autojump\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#6-abc","title":"\uff086\uff09 \u914d\u7f6e\u73af\u5883\u53d8\u91cf\uff08\u5bf9\u5e94\u4e0a\u8ff0\u7684\uff1a\u4e0b\u8f7da/b/c\uff09","text":"<pre><code>open ~/.zshrc\n</code></pre> <pre><code>plugins=(\n  git\n  zsh-syntax-highlighting\n  zsh-autosuggestions\n  autojump\n)\n</code></pre> <p>\u8fd9\u91cc\u6ce8\u610f\uff0c\u5fc5\u987b\u662f\u5c0f\u5199</p>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#7-source","title":"\uff087\uff09 \u968f\u540esource\uff0c\u8ba9\u5b83\u8d77\u4f5c\u7528","text":"<pre><code>source ~/.zshrc\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#6","title":"6. \u5176\u4ed6\u8bbe\u7f6e","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#status-bar","title":"Status Bar:","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#_2","title":"\u5feb\u901f\u9690\u85cf\u548c\u663e\u793a\u7a97\u4f53\uff08\u6211\u5f3a\u70c8\u63a8\u8350\uff01\u975e\u5e38\u9177\u70ab\uff01\uff09\uff1a","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#_3","title":"\u8bbe\u7f6e\u81ea\u542f\u52a8\u547d\u4ee4\uff1a","text":"<pre><code>brew install toilet\n</code></pre> <pre><code>toilet -f mono12 -F gay Hello  \n\n// \u8fd9\u91cc\u7684hello\u968f\u4f60\u6362\uff0c\u6362\u6210\u4f60\u559c\u6b22\u7684\u201c\u95ee\u5019\u8bed\u201d\u5c31\u884c\uff0c\u4e0b\u9762\u7684\u56fe\u793a\u4e2d\u5bf9\u5e94\u6539\u4e00\u4e0b\u5373\u53ef\n</code></pre>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#_4","title":"\u8bbe\u7f6e\u7528\u6237\u540d\u989c\u8272\u3001\u8bbe\u7f6e\u7528\u6237\u540d\u3001\u8bbe\u7f6e\u663e\u793a\u65f6\u95f4\uff1a","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#itermvim","title":"\u7ed9ITerm\u4e2dVim\u914d\u8272\uff1a","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#iterm2ls","title":"\u7ed9ITerm2\u4e2dls\u914d\u8272\uff1a","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#7","title":"7. \u6548\u679c\u6f14\u793a","text":""},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#_5","title":"\u6211\u7684\u914d\u7f6e\u6e05\u5355\uff1a","text":"<ul> <li>\u4e0a\u9762\u4ecb\u7ecd\u7684\u4e94\u6b3e\u63d2\u4ef6</li> <li>\u81ea\u5f00\u542fiterm2\u7684\u5feb\u6377\u952e\uff1acommand+p</li> <li>\u7a97\u53e3\u9ed8\u8ba4\u663e\u793a\u957f\u5bbd\u6bd4\uff1a100:50</li> <li>\u7a97\u53e3\u663e\u793a\u900f\u660e\u5ea6\uff1a10%</li> <li>\u663e\u793a\u7a97\u4f53\uff08\u60ac\u6d6e\u7a97\uff09\uff1acpu\u4f7f\u7528\u7387 + \u5185\u5b58\u4f7f\u7528\u7387 + \u5f53\u524dgit\u5730\u5740 + \u67e5\u627e</li> </ul>"},{"location":"LECTURE/terminal_zsh/oh_my_zsh/#8-iterm2","title":"8. \u9644\u5f55\uff1aiTerm2 \u5feb\u6377\u547d\u4ee4","text":"<ul> <li>command + enter \u8fdb\u5165\u4e0e\u8fd4\u56de\u5168\u5c4f\u6a21\u5f0f</li> <li>command + t \u65b0\u5efa\u6807\u7b7e</li> <li>command + w \u5173\u95ed\u6807\u7b7e</li> <li>command + \u6570\u5b57 command + \u5de6\u53f3\u65b9\u5411\u952e    \u5207\u6362\u6807\u7b7e</li> <li>command + enter \u5207\u6362\u5168\u5c4f</li> <li>command + f \u67e5\u627e</li> <li>command + d \u6c34\u5e73\u5206\u5c4f</li> <li>command + shift + d \u5782\u76f4\u5206\u5c4f</li> <li>command + option + \u65b9\u5411\u952e command + [ \u6216 command + ]    \u5207\u6362\u5c4f\u5e55</li> <li>command + ; \u67e5\u770b\u5386\u53f2\u547d\u4ee4</li> <li>command + shift + h \u67e5\u770b\u526a\u8d34\u677f\u5386\u53f2</li> <li>ctrl + u    \u6e05\u9664\u5f53\u524d\u884c</li> <li>ctrl + l    \u6e05\u5c4f</li> <li>ctrl + a    \u5230\u884c\u9996</li> <li>ctrl + e    \u5230\u884c\u5c3e</li> <li>ctrl + f/b  \u524d\u8fdb\u540e\u9000</li> <li>ctrl + p    \u4e0a\u4e00\u6761\u547d\u4ee4</li> <li>ctrl + r    \u641c\u7d22\u547d\u4ee4\u5386\u53f2</li> </ul> <ul> <li>\u8fdb\u5165iterm</li> <li>cd </li> <li>ls</li> <li>command + ; \u67e5\u770b\u5386\u53f2\u547d\u4ee4</li> <li>command + shift + h \u67e5\u770b\u526a\u8d34\u677f\u5386\u53f2</li> <li>command + shift + d \u5782\u76f4\u5206\u5c4f</li> <li><code>Option+Cmd+B</code> \u5373\u53ef\u6253\u5f00\u4e00\u4e2a\u8fdb\u5ea6\u6761\uff0c\u5012\u9000\u5230\u8fd9\u4e2a\u7a97\u53e3\u4e4b\u524d\u7684\u5feb\u7167\u3002\u56de\u653e\u00a1</li> <li>j</li> <li>ctrl+r</li> <li>\u518d\u6b21\u65b0\u5efa</li> </ul>"},{"location":"LECTURE/vscode-cpp/0_about/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 0 \u7b80\u4ecb","text":""},{"location":"LECTURE/vscode-cpp/0_about/#_1","title":"\u7b80\u4ecb","text":"<p>\u7cfb\u5217\u6559\u7a0b\u2014\u2014\u5982\u4f55\u5728<code>macOS</code>\u4e0a\u4f7f\u7528<code>VS Code</code>\u4f18\u96c5\u7684\u5199<code>C++</code>\u4ee3\u7801\u3002\u6559\u4f60\u4ece\u96f6\u5f00\u59cb\u914d\u7f6e\u4f60\u81ea\u5df1\u7684<code>C++</code>\u7f16\u7a0b\u73af\u5883\u3002</p> <p>\u6ce8\u610f\uff1a\u6211\u63a8\u8350\u5927\u5bb6\u5148\u67e5\u770b\u6781\u901f\u7248\u6559\u7a0b\u3002\u4f60\u5982\u679c\u5bf9\u5176\u4e2d\u6240\u8bf4\u7684\u4e1c\u897f\u90fd\u5f88\u4e86\u89e3\u90a3\u4e48\u662f\u6ca1\u6709\u5fc5\u8981\u770b\u6211\u8fd9\u4e2a\u7cfb\u5217\u6559\u7a0b\u7684\u3002\u8fd9\u4efd\u7cfb\u5217\u6559\u7a0b\u4e3b\u8981\u9488\u5bf9\u5927\u4e00\u521a\u521a\u5f00\u59cb\u5b66\u4e60\u7a0b\u5e8f\u8bbe\u8ba1\u800c\u4e14\u4f7f\u7528<code>mac</code>\u7535\u8111\u7684\u540c\u5b66\uff0c\u56e0\u6b64\u6211\u5927\u6982\u82b1\u4e86\u4e00\u534a\u65f6\u95f4\u6765\u8bb2\u7ec8\u7aef<code>shell</code>\u548c\u547d\u4ee4\uff08\u56e0\u4e3a\u5927\u5b66\u5f80\u5f80\u4f1a\u5ffd\u7565\u8bb2\u89e3\u8fd9\u4e9b\u4e1c\u897f\uff09\u3002\u5982\u679c\u6559\u7a0b\u4e2d\u6709\u4f60\u5df2\u7ecf\u4e86\u89e3\u7684\u5730\u65b9\uff0c\u4f60\u53ef\u4ee5\u76f4\u63a5\u8df3\u8fc7\u67d0\u8282\u6216\u67d0\u51e0\u8282\u8bfe\uff1b\u7531\u4e8e\u8fd9\u662f\u6211\u7b2c\u4e00\u6b21\u51fa\u7c7b\u4f3c\u7684\u6559\u7a0b\uff0c\u4e5f\u4f1a\u6709\u4e00\u4e9b\u4e0d\u8db3\u7684\u5730\u65b9\uff0c\u4e5f\u5e0c\u671b\u5927\u5bb6\u5728\u8bc4\u8bba\u533a\u63d0\u51fa\u6765\uff1b\u5982\u679c\u4f60\u89c9\u5f97\u6211\u7684\u8bed\u901f\u6162\uff0c\u8bf7\u5f00\u542f\u500d\u901f\u3002\u8c22\u8c22\uff01\u5e0c\u671b\u8fd9\u4efd\u6559\u7a0b\u80fd\u8ba9\u5927\u5bb6\u6709\u6240\u6536\u83b7\u3002</p> <p>\u70b9\u51fb\u9875\u9762\u5de6\u4e0a\u89d2\u7684\u56fe\u6807\u53ef\u4ee5\u5207\u6362\u9875\u9762\u67e5\u770b\u6b64\u8bfe\u7a0b\u7684\u8bb2\u7a3f\u3002</p> <p>\u70b9\u51fb\u4e0b\u65b9\u7684\u94fe\u63a5\u8df3\u8f6cBilibili\u89c6\u9891\u6559\u7a0b\u3002</p>"},{"location":"LECTURE/vscode-cpp/0_about/#bilibili","title":"\u5728Bilibili\u67e5\u770b\u89c6\u9891\u6559\u7a0b","text":"<p>\u6ce8\uff1a\u6240\u6709\u89c6\u9891\u5f55\u5236\u53ca\u4e0a\u4f20\u5206\u8fa8\u7387\u5747\u4e3a<code>3360x2100</code>\uff0c\u5982\u679c\u89c2\u770b\u65f6\u611f\u5230\u89c6\u9891\u6a21\u7cca\uff0c\u8bf7\u8c03\u6574\u753b\u8d28\u5230<code>4K \u8d85\u6e05</code>\uff1b\u7531\u4e8e\u89c6\u9891\u6bd4\u4f8b\u4e3a<code>16:10</code>\uff0c\u5efa\u8bae\u4f7f\u7528\u76f8\u540c\u6bd4\u4f8b\u7684\u663e\u793a\u5668\u5168\u5c4f\u64ad\u653e\u4ee5\u83b7\u5f97\u6700\u4f73\u89c2\u770b\u4f53\u9a8c\u3002</p> <p>1 \u524d\u8a00\u548c\u8bfe\u7a0b\u8bf4\u660e</p> <p>2 \u8ba4\u8bc6mac\u7684\u6587\u4ef6\u7cfb\u7edf</p> <p>3 \u8ba4\u8bc6\u7a0b\u5e8f</p> <p>4 \u8ba4\u8bc6\u7ec8\u7aef\u548cshell</p> <p>5 \u5f00\u542fVS Code\u7684\u5927\u95e8\uff08\u4e0a\uff09</p> <p>5 \u5f00\u542fVS Code\u7684\u5927\u95e8\uff08\u4e0b\uff09</p> <p>6 VS Code\u4ee3\u7801\u8fd0\u884c\u81ea\u52a8\u5316</p> <p>7 \u7528VS Code\u8c03\u8bd5Cpp\u4ee3\u7801</p> <p>8 \u8bfe\u7a0b\u56de\u987e</p> <p>\u6781\u901f\u7248</p>"},{"location":"LECTURE/vscode-cpp/0_about/#_2","title":"\u9644","text":"<p>\u5f88\u7528\u5fc3\u505a\u7684\u4e00\u671f\u6559\u7a0b\uff0c\u56e0\u4e3a\u89c9\u5f97\u5f88\u6709\u8fd9\u4e48\u505a\u7684\u5fc5\u8981\uff01\u505a\u8fd9\u4efd\u6559\u7a0b\u7684\u539f\u56e0\u6211\u5728\u7b2c\u4e00\u8bfe\u548c\u7b2c\u516b\u8bfe\u90fd\u6709\u63d0\u5230\uff5e</p> <p>\u8bf4\u5b9e\u8bdd\uff0c\u5f55\u6559\u7a0b\u771f\u7684 \u592a \u7d2f \u4e86\u3002<code>1\u500d</code>\u65f6\u95f4\u7684\u89c6\u9891\uff0c\u6784\u601d\u5927\u6982\u4f1a\u82b1\u6389<code>2\u500d</code>\uff0c\u5199\u8bb2\u7a3f\u548c\u4e0a\u4f20\u8bb2\u7a3f\u3001\u4fee\u6539\u8bb2\u7a3f\u5927\u6982\u82b1<code>5\u500d</code>\u65f6\u95f4\uff0c\u5f55\u5236\u4e00\u822c\u82b1<code>1\u500d</code>\u65f6\u95f4\uff08\u4f46\u662f\u7d27\u5f20\u7684\u65f6\u5019\u5dee\u4e0d\u591a\u5c31\u5f97<code>1.5\u500d</code>\uff09\uff0c\u5012\u5165FCPX\u68c0\u67e5\u4e00\u904d\u5927\u6982<code>1.5\u500d</code>\u65f6\u95f4\uff0c\u5bfc\u51fa\u548c\u4e0a\u4f20\u89c6\u9891\u3001\u5199\u7b80\u4ecb\u3001\u5199\u8bc4\u8bba\u52a0\u8d77\u6765\u5e73\u5747\u82b1\u6389<code>3\u500d</code>\u65f6\u95f4\uff1b\u6574\u4e2a\u7b97\u4e0b\u6765\u5dee\u4e0d\u591a\u662f<code>12.5\u500d</code>\u7684\u65f6\u95f4\u3002\u5e0c\u671b\u8fd9\u4e48\u505a\u662f\u503c\u5f97\u7684\uff0c\u5e0c\u671b\u80fd\u5e2e\u5230\u5927\u5bb6\uff01</p> <p>\u5982\u679c\u5927\u5bb6\u89c9\u5f97\u6709\u5e2e\u52a9\uff0c\u8fd8\u8bf7\u628a\u8fd9\u4efd\u6559\u7a0b\u63a8\u8350\u7ed9\u8eab\u8fb9\u7684\u540c\u5b66\u54e6\uff01</p>"},{"location":"LECTURE/vscode-cpp/0_about/#windows","title":"\u60f3\u5bf9\u4f7f\u7528Windows\u7684\u540c\u5b66\u8bf4\u7684\u8bdd","text":"<p>\u4e4b\u524d\u63d0\u5230\u201c\u5e94\u8be5\u201d\u4f1a\u51fa\u4e00\u4e2a<code>Windows</code>\u7248\uff0c\u4f46\u662f\u505a\u5b8c\u8fd9\u4efd\u6559\u7a0b\u89c9\u5f97\uff0c\u505a\u6559\u7a0b\u592a\u82b1\u65f6\u95f4\u4e86\uff0c\u6211\u5927\u6982\u662f\u6ca1\u6709\u7ecf\u5386\u518d\u51fa\u4e00\u4efd\u76f8\u540c\u601d\u8def\u7684<code>Windows</code>\u7248\u6559\u7a0b\uff1b\u53e6\u5916\uff0c\u6211\u5bf9<code>Windows</code>\u7cfb\u7edf\u53ef\u80fd\u4e5f\u6ca1\u6709\u90a3\u4e48\u719f\u6089\uff0c\u505a\u51fa\u6765\u7684\u6559\u7a0b\u8d28\u91cf\u5f88\u96be\u4fdd\u8bc1\u3002\u5982\u679c\u53ef\u4ee5\uff0c\u6211\u975e\u5e38\u5e0c\u671b\u6709\u719f\u6089<code>Windows</code>\u7684\u540c\u5b66\u51fa\u4e00\u4efd\u76f8\u5e94\u7684\u89c6\u9891\u6559\u7a0b\uff0c\u5e2e\u52a9\u5927\u4e00\u65b0\u5165\u5b66\u7684\u540c\u5b66\u4eec\u914d\u7f6e\u597d\u5c5e\u4e8e\u81ea\u5df1\u7684<code>C++</code>\u7f16\u7a0b\u73af\u5883\u3002</p> <p>\u53e6\u5916\uff0c\u5373\u4f7f\u4f60\u5728\u4f7f\u7528<code>Windows</code>\u7cfb\u7edf\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u6211\u7684\u8fd9\u4efd\u6559\u7a0b\u4ece\u601d\u8def\u4e0a\u4e86\u89e3\u914d\u7f6e\u7684\u8fc7\u7a0b\uff0c\u8ba9\u4f60\u7684\u73af\u5883\u914d\u7f6e\u66f4\u987a\u5229\uff08\u4e5f\u8bb8\uff09\uff01</p>"},{"location":"LECTURE/vscode-cpp/0_about/#_3","title":"\u5176\u4ed6\u60f3\u8bf4\u7684\u8bdd","text":"<p>\u8fd9\u4efd\u6559\u7a0b\u662f<code>AS-IS</code>\u7684\uff0c\u610f\u601d\u662f\u8bf4\uff0c\u8fd9\u4efd\u6559\u7a0b\u6211\u505a\u51fa\u6765\u5c31\u653e\u5728\u8fd9\u91cc\u5b83\u5c31\u662f\u8fd9\u4e2a\u6837\u5b50\u3002\u81f3\u4e8e\u4f60\u770b\u4e0d\u770b\u8fd9\u4efd\u6559\u7a0b\uff0c\u8fd9\u662f\u4f60\u81ea\u5df1\u7684\u9009\u62e9\u3002\u5982\u679c\u4f60\u770b\u4e86\u8fd9\u4efd\u6559\u7a0b\u7136\u540e\u89c9\u5f97\u6211\u8bb2\u7684\u4e0d\u884c\uff0c\u90a3\u6211\u89c9\u5f97\u53ef\u80fd\u4f60\u5e76\u4e0d\u9002\u5408\u8fd9\u4efd\u6559\u7a0b\uff0c\u6216\u8005\u786e\u5b9e\u6211\u8fd9\u4efd\u6559\u7a0b\u505a\u7684\u4e0d\u597d\uff1b\u4f46\u8bf7\u6ce8\u610f\u8fd9\u662f\u4f60\u81ea\u5df1\u7684\u9009\u62e9\u3002\u5982\u679c\u4f60\u60f3\u7ed9\u6211\u7684\u8bfe\u7a0b\u63d0\u4e00\u4e9b\u5efa\u8bae\uff0c\u6211\u975e\u5e38\u6b22\u8fce\uff0c\u4e0d\u8fc7\u5982\u679c\u53ef\u4ee5\uff0c\u6211\u5e0c\u671b\u4f60\u7684\u8bed\u6c14\u80fd\u59d4\u5a49\u4e00\u4e9b\u3002</p> <p>\u63d0\u95ee\u524d\u8bf7\u5148\u4ed4\u7ec6\u9605\u8bfb\u63d0\u95ee\u7684\u667a\u6167\uff08\u4e2d\u6587\u7248\uff09\uff08the original version in English How To Ask Questions The Smart Way \uff09\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 10 \u6781\u901f\u7248","text":"<p>\u5927\u5bb6\u597d\uff0c\u4eca\u5929(210902)\u6709\u540c\u5b66\u8ddf\u6211\u53cd\u6620\u8bf4\u6559\u7a0b\u4e2d<code>Intel Mac</code>\u65e0\u6cd5\u8c03\u8bd5\uff0c\u5177\u4f53\u8868\u73b0\u4e3a\uff1a\u6309F5\u5f00\u542f\u8c03\u8bd5\u4e4b\u540e\u5f39\u51fa\u7ec8\u7aef\uff0c\u7ec8\u7aef\u4e00\u7247\u7a7a\u767d\uff0c\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\uff1b\u4e0a\u6ed1\u540e\u53d1\u73b0\u4e00\u4e9b\u4ece\u6765\u6ca1\u89c1\u8fc7\u7684\u547d\u4ee4\u3002\u6211\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u8bd5\u4e86\u4e00\u4e0b\u4e5f\u51fa\u73b0\u4e86\u8fd9\u6837\u7684\u60c5\u51b5\u3002</p> <p>\u901a\u8fc7\u67e5\u770b<code>GitHub microsoft/vscode-cpptools</code> \u4ed3\u5e93\u7684<code>issues</code>\uff0c\u786e\u8ba4\u8fd9\u662f\u5728\u6269\u5c55\u5546\u5e97\u5b89\u88c5\u7684<code>C++\u6269\u5c55\u63d2\u4ef6</code>\u65b0\u7248\u672c<code>v1.6.0 (August 24, 2021)</code>\u7684bug\uff0c\u5de5\u7a0b\u5e08\u5df2\u7ecf\u53d1\u73b0\u4e86\u8fd9\u4e2a\u95ee\u9898\u5e76\u4e14\u5728\u4ee3\u7801\u4e2d\u4fee\u590d\uff0c\u5728\u4e0b\u4e00\u4e2a\u7248\u672c\u7684\u66f4\u65b0\u4e2d\u5e94\u8be5\u4f1a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u6700\u8fd1\u9700\u8981\u8fdb\u884c\u8c03\u8bd5\u7684\u540c\u5b66\u53ef\u4ee5\u5148\u5c06<code>C++\u63d2\u4ef6</code>\u964d\u7ea7\u4e3a<code>1.5.1 (July 9, 2021)</code>\uff0c\u964d\u7ea7\u65b9\u6cd5\u5982\u4e0b\uff1a 1. \u6253\u5f00<code>VS Code</code>\u8bbe\u7f6e\uff08\u2318,\uff09\u641c\u7d22<code>c_cpp.update</code>\uff0c\u5c06\u9009\u9879\u4ece<code>Insiders</code>\u66f4\u6539\u4e3a<code>Default</code>\uff08\u5173\u95edC++\u63d2\u4ef6\u7684\u81ea\u52a8\u66f4\u65b0\uff09 2. \u9000\u51fa\u91cd\u542f<code>VS Code</code> 3. \u6253\u5f00\u63d2\u4ef6\u5546\u5e97\uff0c\u627e\u5230\u5b89\u88c5\u7684\u6269\u5c55<code>C/C++</code>\uff0c\u53f3\u952e\u9009\u62e9<code>Install Another Version</code>\uff0c\u9009\u62e9<code>v1.5.1</code> 4. \u9000\u51fa\u91cd\u542f<code>VS Code</code>\uff0c\u7b49\u5f85<code>v1.5.1</code>\u7248\u672c\u7684<code>C/C++\u6269\u5c55</code>\u5b89\u88c5\u5b8c\u6bd5\u5373\u53ef\u3002</p> <p>\u95ee\u9898\u63cf\u8ff0\uff1a</p> <ul> <li>https://github.com/microsoft/vscode-cpptools/issues/5079#issuecomment-903149903</li> <li>https://github.com/microsoft/vscode-cpptools/issues/8008#issue-974146751</li> </ul> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <ul> <li>https://github.com/microsoft/vscode-cpptools/issues/8008#issuecomment-902336978</li> </ul> <p>\u4ee3\u7801\u4fee\u590d\uff1a</p> <ul> <li>https://github.com/microsoft/MIEngine/pull/1201</li> </ul>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_1","title":"\u524d\u8a00","text":"<p>\u6b64\u6559\u7a0b\u4e3a\u4e24\u79cd\u4eba\u8bbe\u8ba1\uff1a</p> <p>1 \u770b\u4e86\u6211\u4e4b\u524d\u4e0a\u4f20\u7684<code>\u5728macOS\u4e0a\u914d\u7f6eVSCode\u7f16\u7a0bCpp\u7684\u73af\u5883</code>2\u81f37\u8bfe\u7684\u6559\u7a0b\u5e0c\u671b\u56de\u987e\u5982\u4f55\u5feb\u901f\u5728<code>macOS</code>\u4e0a\u914d\u7f6e<code>VSCode</code>\u7f16\u7a0b<code>Cpp</code>\u7684\u73af\u5883\u7684\u540c\u5b66</p> <p>2 \u5e0c\u671b\u901a\u8fc7\u8fd9\u51e0\u5206\u949f\u7684\u6559\u7a0b\u5c31\u660e\u767d\u5982\u4f55\u5728<code>macOS</code>\u4e0a\u914d\u7f6e<code>VSCode</code>\u7f16\u7a0b<code>Cpp</code>\u7684\u73af\u5883\u7684\u540c\u5b66</p> <p>\u6211\u5e0c\u671b\u4f60\u5c06\u8fd9\u4efd\u6781\u901f\u7248\u6559\u7a0b\u5f53\u4f5c\u590d\u4e60\u8d44\u6599\u800c\u4e0d\u662f\u5b66\u4e60\u6750\u6599\uff0c\u56e0\u4e3a\u603b\u5171\u4e94\u4e2a\u591a\u5c0f\u65f6\u6240\u8bb2\u7684\u4e1c\u897f\uff0c\u6ca1\u6cd5\u538b\u7f29\u4e3a\u51e0\u5206\u949f\u7684\u5185\u5bb9\u3002</p> <p>\u8bdd\u4e0d\u591a\u8bf4\uff0c\u6211\u4eec\u5f00\u59cb\uff01</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_2","title":"\u5b89\u88c5","text":""},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_3","title":"\u5b89\u88c5\u547d\u4ee4\u884c\u5de5\u5177","text":"<p>\u65b9\u6cd5\u4e00\uff1a\u4ece<code>App Store</code>\u5b89\u88c5<code>Xcode.app</code>\u3002</p> <p>\u65b9\u6cd5\u4e8c\uff1a\u5728\u82f9\u679c\u5f00\u53d1\u8005\u7f51\u7ad9\u4e0b\u8f7dCommand Line Tool\u5e76\u8fdb\u884c\u5b89\u88c5\u3002</p> <p>\u4efb\u9009\u4e00\u79cd\u5373\u53ef\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#vs-code","title":"\u5b89\u88c5VS Code","text":"<p>\u5728VS Code\u5b98\u7f51\u4e0b\u8f7d\u89e3\u538b\u5b89\u88c5<code>Visual Studio Code.app</code>\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_4","title":"\u5b89\u88c5\u63d2\u4ef6","text":"<p>\u6253\u5f00<code>VS Code</code>\u5728\u63d2\u4ef6\u5e02\u573a\u641c\u7d22\u5b89\u88c5<code>C/C++</code>\u548c<code>Code Runner</code></p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_5","title":"\u65b0\u5efa\u6587\u4ef6\u5939","text":"<p>\u5728\u684c\u9762\u65b0\u5efa\u540d\u4e3a<code>CODE</code>\u7684\u6587\u4ef6\u5939\uff0c\u5728\u5176\u4e2d\u65b0\u5efa\u540d\u4e3a<code>Cpp</code>\u7684\u6587\u4ef6\u5939\u3002\u4ee5\u540e\u6211\u4eec\u7684\u6240\u6709\u4ee3\u7801\u90fd\u5199\u5728\u5176\u4e2d\u3002</p> <p>\u6ce8\u610f\uff1a\u5173\u4e8e\u7f16\u7a0b\u7684\u4efb\u4f55\u8def\u5f84\u5c3d\u91cf\u4e0d\u8981\u51fa\u73b0\u7a7a\u683c\uff0c\u8fd9\u662f\u56e0\u4e3a<code>shell</code>\u5728\u89e3\u6790\u4f60\u7684\u547d\u4ee4\u65f6\u4f1a\u7528\u7a7a\u683c\u9694\u5f00\u5404\u79cd\u53c2\u6570\uff0c\u5982\u679c\u4f60\u7684\u8def\u5f84\u4e2d\u6709\u7a7a\u683c\uff0c\u540c\u65f6\u4f60\u53c8\u5904\u7406\u4e0d\u5f97\u5f53\uff0c<code>shell</code>\u53ef\u80fd\u4f1a\u5c06\u5176\u5206\u4e3a\u4e24\u90e8\u5206\u3002\u8fd9\u91cc\u6211\u63a8\u8350\u5927\u5bb6\u5728\u65b0\u5efa\u6587\u4ef6\u5939\u65f6\u6216\u7ed9\u6587\u4ef6\u8d77\u540d\u5b57\u7684\u65f6\u5019\u90fd\u4e0d\u5e26\u7a7a\u683c\uff0c\u6216\u8005\u5c06\u7a7a\u683c\u6539\u4e3a\u4e0b\u5212\u7ebf<code>_</code>\uff0c\u8fd9\u6837\u80fd\u6709\u6548\u907f\u514d\u4e00\u4e9b\u9519\u8bef\u3002</p> <p>\u5c06\u6587\u4ef6\u5939<code>Cpp</code>\u62d6\u5230<code>Dock\u680f</code>\u7684<code>VS Code</code>\u4e0a\u6253\u5f00\u8be5\u6587\u4ef6\u5939\u3002</p> <p>\u6ce8\u610f\uff1a\u8bf7\u5c3d\u91cf\u4e0d\u8981\u5728\u4efb\u4f55\u5173\u4e8e\u4ee3\u7801\u548c\u7a0b\u5e8f\u7684\u5730\u65b9\u51fa\u73b0\u7a7a\u683c\u3002\u7a7a\u683c\u4f5c\u4e3a<code>shell</code>\u5206\u9694\u547d\u4ee4\u7684\u7b26\u53f7\uff0c\u5728\u8def\u5f84\u6216\u6587\u4ef6\u540d\u4e2d\u51fa\u73b0\u7a7a\u683c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u60f3\u4e0d\u5230\u7684\u540e\u679c\u3002\u4f60\u53ef\u4ee5\u5c06\u7a7a\u683c\u66ff\u6362\u4e3a\u4e0b\u5212\u7ebf\uff0c\u6216\u8005\u76f4\u63a5\u5220\u6389\u7a7a\u683c\u3002\u5982\u5c06<code>VS Code</code>\u7684\u6587\u4ef6\u5939\u6539\u540d\u4e3a<code>VS_Code</code>\u6216<code>VSCode</code></p> <p>\u6211\u6240\u5199\u7684\u8bb2\u7a3f\u4e2d<code>Code Runner</code>\u548c<code>\u7f16\u8bd1</code>\u5bf9\u7a7a\u683c\u6709\u5f88\u597d\u7684\u5904\u7406\uff0c\u4f46\u662f<code>\u8c03\u8bd5</code>\u603b\u662f\u5904\u4e8e\u4e24\u96be\u7684\u5883\u5730\uff0c\u6709\u4e86\u7a7a\u683c\u5c31\u4e0d\u80fd\u8c03\u8bd5\u3002\u5f88\u62b1\u6b49\u5230\u73b0\u5728\u624d\u53d1\u73b0\u95ee\u9898(210110)</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#vscode","title":"\u5199\u4e09\u4efd\u6587\u4ef6\u4f4d\u4e8e.vscode\u6587\u4ef6\u5939\u4e0b\u7684\u6587\u4ef6","text":""},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#settingsjson","title":"settings.json","text":"<p>\uff08\u6ce8\u610f<code>json</code>\u6587\u4ef6\u7684\u683c\u5f0f\uff09 <pre><code>{\n  // \u6dfb\u52a0\u5e0c\u671b\u88ab\u5ffd\u7565\u7684\u6587\u4ef6,\u8fd9\u6837\u4e00\u4e9b\u6587\u4ef6\u867d\u7136\u5b58\u5728\u4e8e\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b,\u4f46\u662f\u4e0d\u4f1a\u88ab\u663e\u793a\u5728\u5de6\u4fa7\u7684\u6587\u4ef6\u6d4f\u89c8\u5668\u91cc\n  \"files.exclude\": {\n    // dSYM\u6587\u4ef6\u5177\u6709\u8c03\u8bd5\u4fe1\u606f,\u666e\u901a\u4f7f\u7528\u7684\u8bdd\u4e0d\u770b\u5230\u5b83\u5c31\u53ef\u4ee5\u4e86\n    \"**/*.dSYM\": true,\n    \"**/*.out\": true,\n  },\n  // --------------------------------------------------------------------------------------\n  // Code Runner\n  // To run code:\n  //   use shortcut \"Ctrl Opt N\" *\n  //   or press F1 and then select/type Run Code,\n  //   or right click the Text Editor and then click Run Code in editor context menu\n  //   or click Run Code button in editor title menu\n  //   or click Run Code button in context menu of file explorer\n  // To stop the running code:\n  //   use shortcut \"Ctrl Opt M\" *\n  //   or press F1 and then select/type Stop Code Run\n  //   or right click the Output Channel and then click Stop Code Run in context menu\n  \"code-runner.executorMap\": {\n    // Introduction:\n    //   Make sure the executor PATH of each language is set in the environment variable.\n    //   You could also add entry into \"code-runner.executorMap\" to set the executor PATH.\n    // Supported customized parameters:\n    //   $workspaceRoot: The path of the folder opened in VS Code\n    //   $dir: The directory of the code file being run\n    //   $fullFileName: The full name of the code file being run\n    //   $fileName: The base name of the code file being run, that is the file without the directory\n    //   $fileNameWithoutExt: The base name of the code file being run without its extension\n    /* ------ \u7f16\u8bd1\u3001\u8fd0\u884c\u53ea\u6709\u4e00\u4e2a\u6587\u4ef6\u7684cpp\u6587\u4ef6 ------ */\n    // \u6ce8\uff1a\u8def\u5f84\u4e2d\u6709\u7a7a\u683c\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\n    \"cpp\": \"g++ $fullFileName -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c++17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // \u5176\u4e2d $fullFileName \u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u662f\u4e3b\u6587\u4ef6\n    // \u81ea\u5df1\u51b3\u5b9a\u662f\u5426\u52a0\u5165 &amp;&amp; rm $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\uff08\u4e5f\u53ef\u4ee5\u6dfb\u52a0\"files.exclude\"\uff09\n    /* ------ \u7f16\u8bd1\u3001\u8fd0\u884c\u591a\u4e2acpp\u6587\u4ef6 ------ */\n    // \"cpp\": \"g++ $fullFileName &lt;file_to_link&gt; -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c++17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // &lt;file_to_link&gt;\u7684\u5199\u6cd5\uff1a\n    //   \u4e00\u822c\u7684\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5199\u7edd\u5bf9\u8def\u5f84\n    //     \\\"/path/xxxx.cpp\\\"\n    //   \u5982\u679c\u4f60\u94fe\u63a5\u7684cpp\u6587\u4ef6\u548c\u4e3b\u6587\u4ef6\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff1a\n    //     $dir\\\"xxxx.cpp\\\"\n    //   \u66f4\u4e00\u822c\u7684\uff0c\u5982\u679c\u4f60\u94fe\u63a5\u7684cpp\u6587\u4ef6\u4e0d\u548c\u4e3b\u6587\u4ef6\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u9700\u8981\u4ece\u5f53\u524dVSCode\u7684\u5de5\u4f5c\u76ee\u5f55\u8865\u5145\u76f8\u5bf9\u8def\u5f84\u4ece\u800c\u5f62\u6210\u7edd\u5bf9\u8def\u5f84\uff1a\n    //     $workspaceRoot\\\"relative/path/xxxx.cpp\\\"\n    /* ------ \u7f16\u8bd1c\u6587\u4ef6 ------ */\n    \"c\": \"gcc $fullFileName -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // \"c\": \"gcc $fullFileName &lt;file_to_link&gt; -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n  },\n  // Whether to clear previous output before each run (default is false):\n  \"code-runner.clearPreviousOutput\": true,\n  // Whether to save all files before running (default is false):\n  \"code-runner.saveAllFilesBeforeRun\": false,\n  // Whether to save the current file before running (default is false):\n  \"code-runner.saveFileBeforeRun\": true,\n  // Whether to show extra execution message like [Running] ... and [Done] ... (default is true):\n  \"code-runner.showExecutionMessage\": true, // cannot see that message is you set \"code-runner.runInTerminal\" to true\n  // Whether to run code in Integrated Terminal (only support to run whole file in Integrated Terminal, neither untitled file nor code snippet) (default is false):\n  \"code-runner.runInTerminal\": true, // cannot input data when setting to false\n  // Whether to preserve focus on code editor after code run is triggered (default is true, the code editor will keep focus; when it is false, Terminal or Output Channel will take focus):\n  \"code-runner.preserveFocus\": false,\n  // Whether to ignore selection to always run entire file. (Default is false)\n  \"code-runner.ignoreSelection\": true,\n  // --------------------------------------------------------------------------------------\n}\n</code></pre></p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#tasksjson","title":"tasks.json","text":"<pre><code>{\n  // Tasks in VS Code can be configured to run scripts and start processes\n  // so that many of these existing tools can be used from within VS Code \n  // without having to enter a command line or write new code.\n  // Workspace or folder specific tasks are configured from the tasks.json file in the .vscode folder for a workspace.\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      // The task's label used in the user interface.\n      // Terminal -&gt; Run Task... \u770b\u5230\u7684\u540d\u5b57\n      \"label\": \"g++ compile\",\n      // The task's type. For a custom task, this can either be shell or process.\n      // If shell is specified, the command is interpreted as a shell command (for example: bash, cmd, or PowerShell).\n      // If process is specified, the command is interpreted as a process to execute.\n      \"type\": \"shell\",// shell: \u8f93\u5165\u547d\u4ee4\n      // The actual command to execute.\n      // \u56e0\u4e3ag++\u5df2\u7ecf\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u5199\u547d\u4ee4\u5c31\u884c\u4e0d\u7528\u5199g++\u7684\u7edd\u5bf9\u8def\u5f84\n      \"command\": \"g++\",\n      \"args\": [\n        \"${file}\", // \u8868\u793a\u5f53\u524d\u6587\u4ef6\uff08\u7edd\u5bf9\u8def\u5f84\uff09\n        // \u5728\u8fd9\u91cc\u6dfb\u52a0\u4f60\u8fd8\u9700\u8981\u94fe\u63a5\u7684.cpp\u6587\u4ef6\n        \"-o\",\n        \"${fileDirname}/${fileBasenameNoExtension}.out\",\n        \"-W\",\n        \"-Wall\",\n        \"-g\",\n        \"-std=c++17\",\n      ],\n      // Defines to which execution group this task belongs to.\n      // It supports \"build\" to add it to the build group and \"test\" to add it to the test group.\n      // Tasks that belong to the build/test group can be executed by running Run Build/Test Task from the Command Palette (sft cmd P).\n      // Valid values:\n      //   \"build\",\n      //   {\"kind\":\"build\",\"isDefault\":true}, \n      //   \"test\",\n      //   {\"kind\":\"test\",\"isDefault\":true}, \n      //   \"none\".\n      \"group\": {\n        \"kind\": \"build\",\n        \"isDefault\": true, // Defines if this task is the default task in the group.\n      },\n      // Configures the panel that is used to present the task's output and reads its input.\n      \"presentation\": {\n        // Controls whether the executed command is echoed to the panel. Default is true.\n        \"echo\": true, // \u6253\u5f00\u53ef\u4ee5\u770b\u5230\u7f16\u8bd1\u7684\u547d\u4ee4\uff0c\u628a\u547d\u4ee4\u672c\u8eab\u8f93\u51fa\u4e00\u6b21\n        // Controls whether the terminal running the task is revealed or not. Default is \"always\".\n        //   always: Always reveals the terminal when this task is executed.\n        //   silent: Only reveals the terminal if the task exits with an error or the problem matcher finds an error.(\u4f1a\u663e\u793a\u9519\u8bef\uff0c\u4f46\u4e0d\u4f1a\u663e\u793a\u8b66\u544a)\n        //   never: Never reveals the terminal when this task is executed.\n        \"reveal\": \"silent\", // \u63a7\u5236\u5728\u96c6\u6210\u7ec8\u7aef\u4e2d\u662f\u5426\u663e\u793a\u3002\u5982\u679c\u6ca1\u95ee\u9898\u90a3\u6211\u4e0d\u5e0c\u671b\u7ec8\u7aef\u88ab\u5207\u6362\u3001\u5982\u679c\u6709\u95ee\u9898\u6211\u5e0c\u671b\u80fd\u770b\u5230\u7f16\u8bd1\u8fc7\u7a0b\u54ea\u91cc\u51fa\u9519\uff0c\u6240\u4ee5\u9009silent(\u53ef\u80fdalways\u4f1a\u597d\u4e00\u4e9b)\n        // Controls whether the panel takes focus. Default is false.\n        \"focus\": false, // \u6211\u7684\u7406\u89e3\u662f\uff1a\u662f\u5426\u5c06\u9f20\u6807\u79fb\u8fc7\u53bb\u3002\u56e0\u4e3a\u8fd9\u4e2a\u662f\u7f16\u8bd1\u4efb\u52a1\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u8f93\u5165\u4ec0\u4e48\u4e1c\u897f\uff0c\u6240\u4ee5\u9009false\n        // Controls if the panel is shared between tasks, dedicated to this task or a new one is created on every run.\n        \"panel\": \"shared\", // shared:\u4e0d\u540c\u4efb\u52a1\u7684\u8f93\u51fa\u4f7f\u7528\u540c\u4e00\u4e2a\u7ec8\u7aefpanel\uff08\u4e3a\u4e86\u5c11\u751f\u6210\u51e0\u4e2apanel\u6211\u4eec\u9009shared\uff09\n        // Controls whether to show the `Terminal will be reused by tasks, press any key to close it` message.\n        \"showReuseMessage\": true, // \u5c31\u4e00\u53e5\u8bdd\uff0c\u4f60\u60f3\u770b\u5c31true\uff0c\u4e0d\u60f3\u770b\u5c31false\n        // Controls whether the terminal is cleared before executing the task.\n        \"clear\": false, // \u8fd8\u662f\u4fdd\u7559\u4e4b\u524d\u7684task\u8f93\u51fa\u4fe1\u606f\u6bd4\u8f83\u597d\u3002\u6240\u4ee5\u4e0d\u6e05\u7406\n      },\n      // Other two choices: options &amp; runOptions (cmd I to use IntelliSense)\n      \"options\": {\n        // The current working directory of the executed program or script. If omitted Code's current workspace root is used.\n        \"cwd\": \"${workspaceFolder}\",// \u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a\uff0c\u5220\u6389\u4e5f\u6ca1\u95ee\u9898\n      },\n      // problemMatcher: \u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6g++\u7684\u8f93\u51fa\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u5e76\u5c06\u5176\u663e\u793a\u5230VS Code\u4e0b\u65b9\u7684Problems\u7a97\u53e3\n      // check: https://code.visualstudio.com/docs/editor/tasks#_defining-a-problem-matcher\n      \"problemMatcher\": {\n        \"owner\": \"cpp\",\n        \"fileLocation\": \"absolute\",\n        \"pattern\": {\n          \"regexp\": \"^(.*):(\\\\d+):(\\\\d+):\\\\s+(warning|error):\\\\s+(.*)$\",\n          \"file\": 1,\n          \"line\": 2,\n          \"column\": 3,\n          \"severity\": 4,\n          \"message\": 5,\n        },\n      },\n      // \u5b98\u7f51\u6559\u7a0b https://code.visualstudio.com/docs/cpp/config-clang-mac#_build-helloworldcpp \n      // \u63d0\u5230\u4e86\u53e6\u4e00\u79cdproblemMatcher\uff0c\u4f46\u8bd5\u4e86\u4e4b\u540e\u597d\u50cf\u4e0d\u8d77\u4f5c\u7528\uff0c\u751a\u81f3\u8fd8\u628a\u6211\u539f\u672c\u7684\u7535\u8111\u641e\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\u2026\u2026\n    },\n    {\n      \"label\": \"Open Terminal.app\",\n      \"type\": \"shell\",\n      \"command\": \"osascript -e 'tell application \\\"Terminal\\\"\\ndo script \\\"echo now VS Code is able to open Terminal.app\\\"\\nend tell'\",\n      \"problemMatcher\": [],\n      \"group\": \"none\",\n    }\n  ]\n}\n</code></pre> <p>\u4fdd\u5b58\u540e\u21e7\u2318P\u8c03\u51fa\u6240\u6709\u547d\u4ee4\u641c\u7d22<code>run task</code>\u9009\u62e9<code>Open Terminal.app</code>\uff0c\u7ed9<code>VS Code</code>\u6253\u5f00\u7ec8\u7aef\u7684\u6743\u9650\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#launchjson","title":"launch.json","text":"<pre><code>{\n  // One of the key features of Visual Studio Code is its great debugging support.\n  // VS Code's built-in debugger helps accelerate your edit, compile and debug loop.\n  // VS Code keeps debugging configuration information in a launch.json file\n  // located in a .vscode folder in your workspace (project root folder).\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      /* ------ these three options are mandatory ------ */\n      // The type of debugger to use for this launch configuration.\n      \"type\": \"cppdbg\", // C++ debug\n      // The request type of this launch configuration. Currently, launch and attach are supported.\n      //   If you come from a server or desktop background, \n      //   it's quite normal to have your editor launch your process for you, \n      //   and your editor automatically attaches its debugger to the newly launched process.\n      //   A launch configuration starts your app in debug mode before VS Code attaches to it.\n      // \u5927\u6982\u610f\u601d\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u5f00\u59cbdebug\u7684\u65f6\u5019\u4f60\u7684\u9879\u76ee\u5df2\u7ecf\u542f\u8d77\u6765\u4e86\uff0c\u90a3\u5c31attach\uff08\u628adebug\u7684\u5de5\u5177\u9644\u52a0\u4e0a\u53bb\uff09\n      // \u5982\u679c\u4f60\u5f00\u59cbdebug\u7684\u65f6\u673a\u548c\u4f60\u542f\u52a8\u9879\u76ee\u7684\u65f6\u673a\u662f\u76f8\u540c\u7684\uff0c\u90a3\u5c31launch\n      \"request\": \"launch\", // debug\u7684\u7c7b\u578b\uff0claunch\u8868\u793a\u542f\u52a8\uff0cattach\u8868\u793a\u9644\u52a0\n      // The reader-friendly name to appear in the Debug launch configuration drop-down.\n      \"name\": \"C++ Debug\", // \u5728VSCode\u4fa7\u8fb9\u680fRun\u90a3\u91cc\u770b\u5230\u7684\u540d\u5b57\uff08\u53ef\u4ee5\u968f\u4fbf\u8d77\uff09\n      /* ------ some optional attributes available to all launch configurations ------ */\n      // To launch a task before the start of a debug session, set this attribute to the label of a task specified in tasks.json.\n      \"preLaunchTask\": \"g++ compile\", //\u5728\u8c03\u8bd5\u4e4b\u524d\u8981\u8fdb\u884c\u7684\u5de5\u4f5c compile\u662f\u5728 tasks.json \u7684\u7f16\u8bd1\u4efb\u52a1\u91cc\u9762\u7684label\n      /* ------ Many debuggers support some of the following attributes: ------ */\n      // executable or file to run when launching the debugger\n      // \uff01\uff01\u4e0d\u8981\u5728\u7a0b\u5e8f\u548c\u4ee3\u7801\u7684\u8def\u5f84\u53ca\u6587\u4ef6\u540d\u4e2d\u51fa\u73b0\u7a7a\u683c\uff01\uff01\u5426\u5219\u65e0\u6cd5\u8c03\u8bd5\uff08\u6211\u5c1d\u8bd5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u771f\u7684\u65e0\u6cd5\u89e3\u51b3\uff09\n      \"program\": \"${fileDirname}/${fileBasenameNoExtension}.out\", // debug\u7684\u5bf9\u8c61(-g\u7f16\u8bd1\u51fa\u6765\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6)\uff0c\u9700\u8981\u548c.vscode/tasks.json\u4e2d\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e00\u81f4\n      // arguments passed to the program to debug\n      \"args\": [], // \u6bd4\u5982\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u6dfb\u52a0\u8f93\u5165\u53c2\u6570\uff08argc/argv\uff09\uff0c\u9700\u8981\u5728\u8fd9\u91cc\u6dfb\u52a0\n      // Environment variables to add to the environment for the program\n      \"environment\": [], // \u653e\u7f6e\u73af\u5883\u53d8\u91cf\n      // current working directory for finding dependencies and other files\n      \"cwd\": \"${workspaceFolder}\",\n      // break immediately when the program launches\n      \"stopAtEntry\": false,\n      // If true, a console is launched for the debuggee.\n      // If false, on Linux and Windows, it will appear in the Integrated Console.\n      \"externalConsole\": true,\n      // \u4e3atrue\u5219\u4f1a\u6253\u5f00\u7cfb\u7edf\u7ec8\u7aef\u5728\u5176\u4e2d\u8fdb\u884c\u4ea4\u4e92\n      // \u5982\u679c\u4e3a true\uff0c\u5219\u4e3a\u8c03\u8bd5\u5bf9\u8c61\u542f\u52a8\u63a7\u5236\u53f0\u3002\u5982\u679c\u4e3a false\uff0c\u5b83\u5728 Linux \u548c Windows \u4e0a\u4f1a\u663e\u793a\u5728\u96c6\u6210\u63a7\u5236\u53f0\u4e2d\n      // macOS\u4e0d\u9002\u7528\uff1ahttps://code.visualstudio.com/docs/cpp/launch-json-reference#_externalconsole\n      /* ------ Customizing GDB or LLDB ------ */\n      // Indicates the debugger that VS Code will connect to. Must be set to gdb or lldb. \n      // \u4f46\u662fmacOS\u53ea\u5b89\u88c5\u4e86llbd\uff08\u6709\u53ef\u80fd\u662f\u5b89\u88c5\u547d\u4ee4\u884c\u5de5\u5177\u7684\u65f6\u5019\u5b89\u88c5\u7684\uff09\uff0c\u90a3\u5c31\u7528lldb\u5427\n      \"MIMode\": \"lldb\",\n    }\n  ]\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_6","title":"\u5982\u4f55\u8fd0\u884c","text":"<p>\u4f7f\u7528\u9ed8\u8ba4\u5feb\u6377\u952e\u6216\u53f3\u952e\u3002\u63a8\u8350\u5927\u5bb6\u2318K\u2318S\u6253\u5f00\u5feb\u6377\u952e\u8bbe\u7f6e\uff0c\u641c\u7d22<code>run code</code>\uff0c\u8bbe\u7f6e\u8fd0\u884c\u4e3a\u2318R\uff0c\u505c\u6b62\u8fd0\u884c\u4e3a\u21e7\u2318R</p> <p>\u5728\u4e3b\u6587\u4ef6\u6253\u5f00\u65f6\u6309\u2318R\u53ef\u5728\u4e0b\u65b9\u96c6\u6210\u7ec8\u7aef\u770b\u5230\u8f93\u51fa\uff08\u8bb0\u5f97\u7528\u8fc7\u4e4b\u540e\u6539\u56de\u53bb\uff09</p> <p>\u94fe\u63a5\u6587\u4ef6\u65f6\u53ea\u9700\u8981\u5728<code>settings.json</code>\u7684<code>code-runner.executorMap</code>\u7684<code>cpp</code>\u90a3\u91cc\u7684<code>$fullFileName</code>\u548c<code>-o</code>\u4e4b\u95f4\u6dfb\u52a0\u4f60\u9700\u8981\u94fe\u63a5\u7684<code>.cpp</code>\u6587\u4ef6\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_7","title":"\u5982\u4f55\u8c03\u8bd5","text":"<p>\u4f7f\u7528\u5feb\u6377\u952e<code>F5</code>\u6216\u70b9\u51fb\u83dc\u5355\u680f<code>Run -&gt; Start Debugging</code>\u6216\u70b9\u51fb<code>Touch Bar</code>\u4e0a\u7684\u64ad\u653e\u952e\u5f00\u59cb\u8c03\u8bd5\u3002</p> <p>\u5206\u5c4f\u5c06\u7ec8\u7aef\u653e\u5728\u5de6\u8fb9\u3001<code>VS Code</code>\u653e\u5728\u53f3\u8fb9\u3002</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#_8","title":"\u6dfb\u52a0\u94fe\u63a5\u7684\u6587\u4ef6","text":"<p>\u94fe\u63a5\u6587\u4ef6\u65f6\u53ea\u9700\u8981\u5728<code>tasks.json</code>\u7684<code>args</code>\u7684<code>\"${file}\",</code>\u548c<code>\"-o\",</code>\u6dfb\u52a0\u4f60\u8fd8\u9700\u8981\u94fe\u63a5\u7684<code>.cpp</code>\u6587\u4ef6.</p>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#attachment","title":"Attachment","text":""},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#hellocpp","title":"hello.cpp","text":"<pre><code>#include &lt;cstdio&gt;\n\nint main() {\n  printf(\"Hello, world!\\n\");\n  printf(\"Hello, world!\\n\");\n  printf(\"Hello, world!\\n\");\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#one_filecpp","title":"one_file.cpp","text":"<pre><code>#include &lt;cstdio&gt;\n\nint twoSum(int a, int b) { return a + b; }\nint fourSum(int a, int b, int c, int d) { return twoSum(a, b) + twoSum(c, d); }\n\nint main() { printf(\"Addition = %d\\n\", fourSum(1, 2, 3, 4)); }\n</code></pre>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#two_filescpp","title":"two_files.cpp","text":""},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#main_filecpp","title":"main_file.cpp","text":"<pre><code>#include &lt;cstdio&gt;\n\n#include \"myAdd.hpp\"\n\nint main() { printf(\"Addition = %d\\n\", threeSum(2, 3, 4)); }\n</code></pre>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#myaddhpp","title":"myAdd.hpp","text":"<pre><code>#ifndef myAdd_hpp\n#define myAdd_hpp\n\nint threeSum(int a, int b, int c);\nint fourSum(int a, int b, int c, int d);\n\n#endif /* myAdd_hpp */\n</code></pre>"},{"location":"LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/#myaddcpp","title":"myAdd.cpp","text":"<pre><code>#include \"myAdd.hpp\"\n\n/// Just add three integers.\n/// @param a int1\n/// @param b int2\n/// @param c int3\n/// @return additon of a, b and c\nint threeSum(int a, int b, int c) { return a + b + c; }\n\nint fourSum(int a, int b, int c, int d) { return a + b + c + d; }\n</code></pre>"},{"location":"LECTURE/vscode-cpp/11_%E8%A1%A5%E5%85%85/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 11 \u8865\u5145","text":""},{"location":"LECTURE/vscode-cpp/11_%E8%A1%A5%E5%85%85/#220129-c","title":"220129 \u5173\u4e8e\u7f16\u5199C++\u5de5\u7a0b","text":"<p>\u8865\u5145\u4e00\u4e0b\u5173\u4e8e\u6211\u4e4b\u524d\u51fa\u7684\u5728macOS\u4e0a\u7528VS Code\u5199C++\u7684\u6559\u7a0b\uff1a</p> <p>\u3007</p> <p>\u5982\u679c\u662f\u521a\u5f00\u59cb\u5b66<code>C++</code>\uff0c\u57fa\u672c\u4e0a\u4f60\u6bcf\u5b66\u4e00\u4e2a\u77e5\u8bc6\u70b9\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a\u65b0\u7684<code>.cpp</code>\u6587\u4ef6\u8fdb\u884c\u6d4b\u8bd5\uff1b\u800c\u4e14\u6700\u5f00\u59cb\u7684\u4e00\u4e9b\u7a0b\u5e8f\u90fd\u6bd4\u8f83\u7b80\u5355\u3001\u4ee3\u7801\u884c\u6570\u6bd4\u8f83\u5c11\uff0c\u5199\u5728\u4e00\u4efd\u4ee3\u7801\u6587\u4ef6\u91cc\u9762\u4e5f\u5b8c\u5168\u80fd\u591f\u505a\u5230\u6761\u7406\u6e05\u6670\u3002\u4f60\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u7684\u6240\u6709\u4ee3\u7801\u6587\u4ef6\u53ef\u4ee5\u653e\u5728\u4e00\u4e2a\u6587\u4ef6\u5939\u5185\uff0c\u6bd4\u5982<code>~/Desktop/CppLearning/</code>\u4e2d\u3002</p> <p>\u56e0\u6b64\uff0c\u4f7f\u7528\u6211\u5728\u6559\u7a0b\u4e2d\u6240\u8bf4\u7684\u300c\u7528Code Runner\u63d2\u4ef6\u52a0\u5feb\u6377\u952e\u8fd0\u884c\u6587\u4ef6\u67e5\u770b\u8f93\u51fa\u7ed3\u679c\u300d\u662f\u5f88\u65b9\u4fbf\u7684\uff0c\u6bcf\u6b21\u53ea\u7f16\u8bd1\u8fd0\u884c\u4e00\u4e2a\u6587\u4ef6\u3002</p> <p>\u3007</p> <p>\u4f46\u662f\u5f53\u4f60\u8981\u5f00\u59cb\u4f7f\u7528<code>C++</code>\u7f16\u5199\u9879\u76ee\u7684\u65f6\u5019\uff08\u8fd9\u4e00\u70b9\u6211\u6559\u7a0b\u6700\u540e\u6ca1\u6709\u63d0\u5230\uff09\uff0c\u4e00\u822c\u6765\u8bf4\u4e00\u4e2a\u9879\u76ee\u91cc\u9762\u4f1a\u5305\u542b\u5f88\u591a\u4ee3\u7801\u6587\u4ef6\uff0c\u8fd9\u91cc\u7684\u300c\u9879\u76ee\u300d\u6307\u7684\u662f\u4e00\u4e2a\u6587\u4ef6\u5939\uff0c\u6bd4\u5982\u547d\u540d\u4e3a<code>MyShiningProject/</code>\uff1b\u300c\u9879\u76ee\u300d\u4e5f\u53ef\u4ee5\u6307\u4e00\u4e2a\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u5939\u5185\u7684\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u3002\u4e3a\u4ec0\u4e48\u4e00\u4e2a\u9879\u76ee\u4f1a\u5305\u542b\u5f88\u591a\u4ee3\u7801\u6587\u4ef6\u5462\uff0c\u56e0\u4e3a\u4f60\u9700\u8981\u5c06\u4e0d\u540c\u6a21\u5757\u62bd\u8c61\u51fa\u6765\uff0c\u5bf9\u4e00\u4e2a\u5de5\u7a0b\u5185\u7684\u4ee3\u7801\u8fdb\u884c\u7ec4\u7ec7\u89c4\u5212\uff0c\u800c\u4e0d\u662f\u5199\u5728\u4e00\u4e2a\u6587\u4ef6\u5185\u3002</p> <p>\u6211\u5728\u6559\u7a0b\u4e2d\u63d0\u5230\u4f60\u53ef\u4ee5\u901a\u8fc7<code>g++</code>\u7f16\u8bd1\u547d\u4ee4\u6dfb\u52a0\u591a\u4e2a\u9700\u8981\u94fe\u63a5\u7684\u6587\u4ef6\uff0c\u4f46\u8fd9\u4e00\u79cd\u6307\u7684\u662f\u5b66\u4e60\u65b9\u9762\u7684\uff1b\u56e0\u4e3a\u4f60\u5728\u7f16\u5199\u5de5\u7a0b\u7684\u8fc7\u7a0b\u4e2d\u4f60\u9700\u8981\u4e0d\u65ad\u6dfb\u52a0\u4ee3\u7801\u6587\u4ef6\uff0c\u4e0d\u65ad\u5bf9\u9879\u76ee\u8fdb\u884c\u91cd\u6784\uff0c\u624b\u52a8\u7f16\u5199\u7f16\u8bd1\u547d\u4ee4\u662f\u4e00\u4ef6\u6bd4\u8f83\u9ebb\u70e6\u7684\u4e8b\u60c5\u3002</p> <p>\u66f4\u597d\u3001\u4e5f\u662f\u66f4\u5de5\u7a0b\u6027\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u7a0b\u5e8f<code>make</code>\u6765\u8fdb\u884c\u7f16\u8bd1\uff1b\u5982\u679c\u5e0c\u671b\u4ee3\u7801\u80fd\u591f\u5728\u591a\u4e2a\u5e73\u53f0\u8fdb\u884c\u7f16\u8bd1\uff0c\u4f60\u9700\u8981\u4e86\u89e3<code>cmake</code> (c - cross)\uff1b\u7f16\u5199\u4ee3\u7801\u7684\u8bdd\uff0c\u4f7f\u7528\u4efb\u610f\u4e00\u6b3e\u7f16\u8f91\u5668\u90fd\u53ef\u4ee5\uff08<code>VS Code</code>\u5c31\u662f\u4e00\u6b3e\u5f88\u597d\u7684\u7f16\u8f91\u5668\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u7528<code>Vim</code>\u2026\u2026\uff09\u3002</p> <p>\u4f7f\u7528IDE\u6765\u7f16\u5199\u9879\u76ee\u4e5f\u662f\u5f88\u597d\u7684\u9009\u62e9\uff0c\u4e00\u822c\u6765\u8bf4\u5728\u4f60\u6dfb\u52a0\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u6587\u4ef6\u4f1a\u88ab\u81ea\u52a8\u52a0\u5165\u7f16\u8bd1\u547d\u4ee4\uff0c\u7701\u53bb\u4e86\u624b\u52a8\u6dfb\u52a0\u5404\u79cd\u6587\u4ef6\u7684\u9ebb\u70e6\uff1b\u540c\u65f6IDE\u4e5f\u4f1a\u81ea\u5e26\u5f88\u591a\u7684\u529f\u80fd\uff0c\u5e2e\u52a9\u4f60\u66f4\u597d\u7684\u7f16\u5199\u4ee3\u7801\uff1b\u5728<code>macOS</code>\u4e0a\u4f7f\u7528<code>Xcode</code>\u662f\u53ef\u4ee5\u6bd4\u8f83\u5bb9\u6613\u7684\u6784\u5efa<code>C++</code>\u5de5\u7a0b\u7684\u3002</p> <p>\u4e00\u4efd\u6211\u89c9\u5f97\u4e0d\u9519\u7684Makefile\u6559\u7a0b Bilibili | \u6b63\u6708\u70b9\u706f\u7b3c | Makefile\u7684\u5199\u6cd5</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 1 \u524d\u8a00\u548c\u8bfe\u7a0b\u8bf4\u660e","text":""},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_1","title":"\u524d\u8a00","text":"<p>\u5927\u5bb6\u597d\uff0c\u6211\u662f\u6768\u5e0c\u6770\u3002\u4eca\u5929\u7ed9\u5927\u5bb6\u5e26\u6765\u7684\u662f\u5728<code>macOS</code>\u4e0a\u7528<code>VS Code</code>\u5199C++\u4ee3\u7801\u7684\u6559\u7a0b</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_2","title":"\u80cc\u666f","text":"<p>\u4e0d\u5c11\u5de5\u79d1\u7684\u540c\u5b66\u8fdb\u5165\u5927\u4e00 \u4f1a\u5b66\u4e60\u7a0b\u5e8f\u8bbe\u8ba1\uff0c\u6700\u5f00\u59cb\u63a5\u89e6\u7684\u8bed\u8a00\u4e00\u822c\u90fd\u662f<code>C/C++</code></p> <p>\u4e0d\u8fc7\u5462\uff0c\u8001\u5e08\u5f80\u5f80\u4f1a\u4ee5<code>Windows</code>\u7cfb\u7edf\u4e3a\u4f8b\u8bf4\u660e\u5982\u4f55\u5199\u4ee3\u7801\uff08\u6bd5\u7adf\u76ee\u524d\u4f7f\u7528mac\u7684\u7528\u6237\u662f\u5c0f\u7fa4\u4f53\uff09\uff0c\u8fd9\u5bf9\u4f7f\u7528\u82f9\u679c\u7535\u8111\u4e5f\u5c31\u662f<code>Mac</code>\u7684\u540c\u5b66\u662f\u4e0d\u5f88\u53cb\u597d\u7684</p> <p>\u800c\u4e14\u6709\u4e9b\u8001\u5e08\u5728\u7f16\u7a0b\u73af\u5883\u7684\u914d\u7f6e\u3001\u7f16\u8f91\u5668\u7684\u9009\u53d6\u4e0a\u4e5f\u4f1a\u6709\u4e00\u4e9b\u5ffd\u7565\uff0c\u8fd9\u90e8\u5206\u7684\u5185\u5bb9\u5f80\u5f80\u8ba9\u540c\u5b66\u4eec\u81ea\u5b66\uff1b\u800c\u7f51\u4e0a\u7684\u535a\u5ba2\u6216\u6559\u7a0b\u826f\u83a0\u4e0d\u9f50\uff0c\u597d\u4e0d\u5bb9\u6613\u627e\u5230\u80fd\u7528\u7684\u914d\u7f6e\uff0c\u4e5f\u53ea\u662f\u590d\u5236\u7c98\u8d34\u4e0d\u77e5\u9053\u91cc\u9762\u5199\u4e86\u4ec0\u4e48</p> <p>\u66f4\u4f55\u51b5\u6709\u4e9b\u540c\u5b66\u62ff\u7740<code>Mac</code>\u4f46\u662f\u5b8c\u5168\u662f\u4e2a\u7535\u8111\u5c0f\u767d\uff0c\u751a\u81f3\u8fde\u82f9\u679c\u7535\u8111\u7684\u57fa\u672c\u64cd\u4f5c\u90fd\u4e0d\u592a\u719f\u6089</p> <p>\u8fd9\u65f6\u8981\u5f00\u59cb\u7f16\u7a0b\u771f\u662f\u96be\u4e0a\u52a0\u96be</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_3","title":"\u6211\u7684\u60c5\u51b5","text":"<p>\u5bf9\uff0c\u4ee5\u4e0a\u60c5\u51b5\u8bf4\u7684\u5c31\u662f\u6211\u3002\u6211\u5728\u9ad8\u8003\u4e4b\u524d\u51e0\u4e4e\u6ca1\u6709\u600e\u4e48\u7528\u8fc7\u7535\u8111\uff0c\u5c31\u662f\u8bf4\u8fde<code>Windows</code>\u7535\u8111\u90fd\u4e0d\u600e\u4e48\u4f1a\u7528\u3002\u5927\u4e00\u5f00\u59cb\u7a0b\u8bbe\u8bfe\u8001\u5e08\u5b8c\u5168\u6ca1\u6709\u63d0\u8fc7<code>Mac</code>\u7684\u4e8b\u60c5\uff0c\u63a8\u8350\u6211\u4eec\u7528<code>Windows</code>\u5e73\u53f0\u7684<code>Visual Studio</code>\u5f88\u8001\u7684\u4e00\u4e2a\u7248\u672c\u8fdb\u884c\u7f16\u7a0b\u5b66\u4e60\u3002\u6211\u5f53\u65f6\u5b89\u88c5\u4e86\u865a\u62df\u673a\uff0c\u56e0\u4e3a\u5b58\u50a8\u539f\u56e0\u53c8\u6362\u4e86<code>Visual Studio Code</code>\uff0c\u914d\u7f6e\u6587\u4ef6\u8ba9\u6211\u5934\u5927\u3002\u5b66\u4e86\u4e00\u5e74\u51715\u5b66\u5206\u7684\u7a0b\u8bbe\u8bfe\u4e4b\u540e\uff0c\u76f4\u523020\u5e74\u7684\u6691\u5047\uff0c\u4e5f\u5c31\u662f\u6211\u5927\u4e00\u7684\u6691\u5047\uff0c\u6211\u52a0\u5165\u79d1\u534f\u8f6f\u4ef6\u90e8\uff0c\u53c2\u52a0\u4e86\u4e00\u4e9b\u989d\u5916\u7684\u57f9\u8bad\u4e4b\u540e\uff0c\u6211\u624d\u53d1\u73b0\uff0c\u7f16\u7a0b\u73af\u5883\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u6ca1\u6709\u90a3\u4e48\u56f0\u96be\u3002</p> <p>\u6211\u9010\u6e10\u53d1\u73b0\uff0c\u53ea\u8981\u6e05\u695a\u539f\u7406\uff0c\u4ece\u6700\u57fa\u7840\u7684\u5f00\u59cb\u4e86\u89e3\uff0c\u5728<code>Mac</code>\u4e0a\u7528<code>VS Code</code>\u7f16\u7a0b\u662f\u4e00\u4ef6\u8f7b\u677e\u6109\u5feb\u7684\u4e8b\u60c5\uff0c\u800c\u6211\u4e00\u76f4\u90fd\u5728\u8d70\u5f2f\u8def\u3002\u62b1\u7740\u4e0d\u5e0c\u671b\u5b66\u5f1f\u5b66\u59b9\u7ed5\u5f2f\u8def\u7684\u60f3\u6cd5\uff0c\u6211\u8ba1\u5212\u51fa\u4e00\u4efd\u5728<code>Mac</code>\u4e0a\u7528<code>VS Code</code>\u5199\u4f18\u96c5\u7684\u5199<code>C++</code>\u4ee3\u7801\u7684\u6559\u7a0b\u3002</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_4","title":"\u8bfe\u7a0b\u76ee\u6807","text":"<p>\u6211\u5e0c\u671b\u6211\u7684\u8bfe\u7a0b\u80fd\u8fbe\u5230\uff1a\u8ba9\u521a\u521a\u5165\u5b66\u7684\u4f7f\u7528<code>Mac</code>\u5b66\u4e60<code>C++</code>\u7f16\u7a0b\u7684\u540c\u5b66\u770b\u5230\u4e4b\u540e\uff0c\u80fd\u591f\u5feb\u901f\u4e0a\u624b<code>VS Code</code>\u6109\u5feb\u8f7b\u677e\u5730\u5f00\u59cb\u7a0b\u5e8f\u8bbe\u8ba1\u8bfe\u7684\u5b66\u4e60</p> <p>\u6216\u8005\u8bf4\uff1a\u5982\u679c\u4e00\u5e74\u524d\u7684\u6211\u770b\u5230\u8fd9\u6b21\u5236\u4f5c\u7684\u6559\u7a0b\uff0c\u80fd\u8ba9\u6211\u5c11\u4e00\u5e74\u5728\u7a0b\u8bbe\u4e0a\u7684\u8ff7\u832b\u3002</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_5","title":"\u8bfe\u7a0b\u7b80\u4ecb","text":"<ol> <li>\u6211\u5c06\u4ece<code>Mac</code>\u7684\u6587\u4ef6\u7cfb\u7edf\u8bb2\u8d77\uff0c\u63d0\u53ca\u7a0b\u5e8f\u3001\u53ef\u6267\u884c\u6587\u4ef6\u7684\u6982\u5ff5\uff0c\u4ece\u96f6\u5f00\u59cb\u4f7f\u7528\u7ec8\u7aef\u547d\u4ee4\u52a0\u6df1\u5bf9\u7a0b\u5e8f\u7684\u7406\u89e3\uff1b</li> <li>\u5728\u5927\u5bb6\u6709\u4e86\u5bf9\u7a0b\u5e8f\u7684\u7406\u89e3\u548c\u57fa\u672c\u7ec8\u7aef\u64cd\u4f5c\u7684\u6280\u80fd\u4e4b\u540e\uff0c\u6211\u4f1a\u5f00\u59cb\u7f16\u5199\u7b80\u5355\u7684<code>C++</code>\u4ee3\u7801\uff0c\u5e76\u6f14\u793a\u5982\u4f55\u5c06\u5176\u7f16\u8bd1\u4e3a\u53ef\u6267\u884c\u6587\u4ef6/\u7a0b\u5e8f\uff1b</li> <li>\u8fdb\u800c\u5f15\u5165<code>macOS</code>\u8f7b\u91cf\u7684\u7f16\u8f91\u5668<code>VS Code</code>\uff0c\u6574\u5408\u4e4b\u524d\u6240\u8bb2\u7684\u6587\u4ef6\u7cfb\u7edf/\u6587\u4ef6\u76ee\u5f55\u3001\u7ec8\u7aef\u4f7f\u7528\u3001\u7f16\u7a0b\u4e0e\u4ee3\u7801\u7f16\u8bd1\u7684\u8fc7\u7a0b</li> <li>\u8fdb\u4e00\u6b65\u5f15\u5165<code>VS Code</code>\u7684\u63d2\u4ef6<code>Code Runner</code>\u4ee5\u53ca<code>VS Code</code>\u7684\u914d\u7f6e\u6587\u4ef6<code>settings.json</code>\u5feb\u901f\u7f16\u8bd1\u548c\u6267\u884c\u4ee3\u7801\u6587\u4ef6</li> <li>\u63d2\u5165\u4ecb\u7ecd<code>VS Code</code>\u7684\u4e00\u4e9b\u4fbf\u6377\u64cd\u4f5c</li> <li>\u4ecb\u7ecd<code>VS Code</code>\u7684\u8c03\u8bd5\uff08<code>debug</code>\uff09\u529f\u80fd</li> </ol>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_6","title":"\u8f85\u52a9\u64cd\u4f5c","text":"<p>\u4ecb\u7ecd\u6211\u7684\u7535\u8111\u60c5\u51b5\u3002\u8fd9\u662f\u4e00\u53f0\u5168\u65b0\u7684<code>MacBook Pro</code>\uff0c\u642d\u8f7d<code>Big Sur</code>\u6700\u65b0<code>11.1</code>\u7684<code>macOS</code>\u3001\u4e5f\u5c31\u662f\u82f9\u679c\u7535\u8111\u64cd\u4f5c\u7cfb\u7edf\u3002</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48\u8981\u7528\u4e00\u53f0\u5168\u65b0\u7684\u7535\u8111\uff0c\u8fd9\u662f\u56e0\u4e3a\u81ea\u5df1\u7684\u7535\u8111\u7528\u4e86\u4e00\u5e74\u591a\uff0c\u548c\u4f60\u624b\u4e0a\u7684\u7535\u8111\u4f1a\u6709\u5f88\u591a\u6709\u5dee\u522b\u7684\u5730\u65b9\u3002\u81f3\u5c11\u7528\u4e00\u53f0\u65b0\u7684\u7535\u8111\u4f1a\u5c3d\u53ef\u80fd\u5730\u6d88\u9664\u8fd9\u4e9b\u5dee\u5f02\u5427\u3002</p> <p>\u81f3\u4e8e\u6211\u4ece\u54ea\u91cc\u6765\u7684\u4e00\u53f0\u5168\u65b0\u7684<code>MacBook Pro</code>\uff0cemmm\uff0c\u5e76\u4e0d\u662f\u4e70\u7684\uff0c\u662f\u5728\u5916\u7f6eSSD\u4e2d\u53e6\u88c5\u7684\u7cfb\u7edf\u3002\u5982\u679c\u4f60\u4e0d\u77e5\u9053\u53ef\u4ee5\u8fd9\u4e48\u641e\uff0c\u90a3\u4f60\u5c31\u5f53\u6211\u6ca1\u8bf4\u8fc7\uff0c\u8ba4\u4e3a\u8fd9\u662f\u4e00\u53f0\u521a\u4e70\u7684<code>MBP</code>\u5c31\u597d\u4e86\u3002</p> <p>\u6211\u8fd8\u5b89\u88c5\u4e86\u4e00\u4e9b\u8f85\u52a9\u6559\u7a0b\u5f55\u5236\u7684\u8f6f\u4ef6\u3001\u4e5f\u8c03\u6574\u4e86\u5c11\u91cf\u7684\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\uff0c\u5e0c\u671b\u8fd9\u4e9b\u65b9\u6cd5\u80fd\u8ba9\u8fd9\u4efd\u6559\u7a0b\u7684\u6548\u679c\u66f4\u597d\u3002</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#_7","title":"\u603b\u7ed3","text":"<p>\u6211\u7684\u8bfe\u7a0b\u4f1a\u4ece\u6700\u57fa\u7840\u7684\u5f00\u59cb\u8bb2\uff0c\u56e0\u6b64\u82b1\u8d39\u7684\u65f6\u95f4\u4f1a\u5f88\u957f\u3002\u4f46\u662f\u76f8\u4fe1\u6211\uff0c\u8ddf\u7740\u8fd9\u4efd\u6559\u7a0b\u8d70\u4e0b\u53bb\uff0c\u4f60\u4f1a\u83b7\u5f97\u5bf9<code>Mac</code>\u3001\u5bf9<code>macOS</code>\u3001\u5bf9\u7a0b\u5e8f\u7f16\u8bd1\u3001\u8fd0\u884c\u3001\u8c03\u8bd5\u7b49\u4e00\u7cfb\u5217\u7e41\u7410\u4e8b\u60c5\u7684\u6e05\u6670\u8ba4\u8bc6\u3002\u597d\u4e86\uff0c\u524d\u9762\u8981\u8bf4\u7684\u8bdd\u5c31\u8fd9\u4e48\u591a\uff0c\u8ba9\u6211\u4eec\u5f00\u59cb\u3002</p> <p>\u4e0b\u9762\u662f\u7b2c\u4e00\u8282\u8bfe\uff0c\u8ba4\u8bc6<code>macOS</code>\u7684\u6587\u4ef6\u7cfb\u7edf</p>"},{"location":"LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/#tips","title":"Tips","text":"<p>\u5982\u679c\u5728\u63a5\u4e0b\u6765\u770b\u8bfe\u7a0b\u7684\u8fc7\u7a0b\u4e2d\u5bf9<code>Mac</code>\u7684\u4e00\u4e9b\u64cd\u4f5c\u6709\u4e0d\u7406\u89e3\u6216\u4e0d\u719f\u6089\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u770b\u770bB\u7ad9up\u4e3bMac\u4e91\u8bfe\u5802\u5236\u4f5c\u4e0a\u4f20\u7684\u8d85\u826f\u5fc3<code>Mac</code>\u6559\u7a0b\uff0c\u53ef\u80fd\u770b\u4e86\u90a3\u4e9b\u89c6\u9891\u4f60\u4f1a\u53d1\u73b0<code>Mac</code>\u5c31\u662f\u4f60\u624b\u8fb9\u7684\u751f\u4ea7\u529b\u3002</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 2 \u8ba4\u8bc6macOS\u7684\u6587\u4ef6\u7cfb\u7edf","text":"<p>\u6587\u4ef6\u662f\u4ec0\u4e48\u5462\uff1f\uff08\u5c55\u793a\u4e0b\u8f7d\u6587\u4ef6\u5939\u4e2d\u7684\u56fe\u7247\uff0c\u89c6\u9891\uff0c<code>txt</code>\uff0c<code>word</code>\u7b49\uff09</p> <p>\u5c31\u662f\u5b58\u50a8\u5728\u786c\u76d8\u91cc\u9762\u7684\u4e00\u4e9b\u4e1c\u897f</p> <p>\u5982\u4f55\u66f4\u65b9\u4fbf\u7684\u770b\u5230\u8fd9\u4e9b\u6587\u4ef6\u4ece\u800c\u5bf9\u6587\u4ef6\u7cfb\u7edf\u6709\u4e00\u4e2a\u66f4\u6e05\u6670\u7684\u8ba4\u8bc6\u5462\uff1f</p> <p>\u9996\u5148\u6211\u4eec\u9700\u8981\u5bf9mac\u7684\u6587\u4ef6\u7ba1\u7406\u5668\u2014\u2014\u8bbf\u8fbe\u8fdb\u884c\u4e00\u4e9b\u8bbe\u7f6e</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_1","title":"\u5bf9\u8bbf\u8fbe\u8fdb\u884c\u8bbe\u7f6e","text":"<p>\u6253\u5f00<code>Show all filename extensions</code></p> <p></p> <p>\u6253\u5f00<code>Hard disks</code>\u4ece\u800c\u770b\u5230\u6302\u8f7d\u7684\u78c1\u76d8\uff08\u770b\u4e00\u4e0b\uff09</p> <p>\u6253\u5f00\u4f60\u7684\u5bb6\u76ee\u5f55\uff08\u4e00\u4e2a\u623f\u5b50\u7684\u56fe\u6807\uff0c\u6211\u7684\u662f<code>yangxijie</code>\uff09\u4ece\u800c\u770b\u5230\u5bb6\u76ee\u5f55</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_2","title":"\u7ee7\u7eed\u8c03\u6574\u8bbf\u8fbe","text":"<p>\u23182\uff1a\u6309\u7167\u5217\u8868\u67e5\u770b</p> <p>\u2325\u2318S\uff1a\u6253\u5f00\u8fb9\u680f</p> <p>\u2325\u2318T\uff1a\u6253\u5f00\u5de5\u5177\u680f</p> <p>\u2325\u2318P\uff1a\u6253\u5f00\u663e\u793a\u8def\u5f84</p> <p>\u2318/\uff1a\u6253\u5f00\u72b6\u6001\u680f</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_3","title":"\u89c2\u5bdf\u6839\u76ee\u5f55","text":"<p>\u4ec0\u4e48\u662f\u6839\u76ee\u5f55\uff1f\u6240\u6709\u7684\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u90fd\u5b58\u5728\u6839\u76ee\u5f55\u4e0b\u3002\u8fd9\u91cc\u6839\u76ee\u5f55\u5c31\u662f\u4f60\u7684\u5185\u7f6e\u786c\u76d8</p> <p>\u8c03\u6574\u4e0a\u9762\u7684\u663e\u793a\u9879\u76ee</p> <p></p> <p>\uff08\u5206\u522b\u89e3\u91ca\u6bcf\u4e2a\u6587\u4ef6\u5939\u7684\u7528\u5904\uff09</p> <p><code>Applications</code>\uff1a\u4f60\u5b89\u88c5\u7684\u5e94\u7528\u7a0b\u5e8f\u90fd\u5728\u8fd9\u4e2a\u6587\u4ef6\u5939</p> <p><code>Library</code>\uff1a\u7528\u6765\u5b58\u5e94\u7528\u7a0b\u5e8f\u7684\u4e00\u4e9b\u6570\u636e\u3002\u6bd4\u5982\u5fae\u4fe1\u7684\u804a\u5929\u8bb0\u5f55\u5c31\u5728\u8fd9\u4e2a\u91cc\u9762\u54e6</p> <p><code>System</code>\uff1a\u4e00\u4e9b\u7cfb\u7edf\uff08<code>macOS</code>\uff09\u7684\u6587\u4ef6\uff0c\u6ca1\u4e8b\u513f\u522b\u4e71\u78b0\u5c31\u597d\u4e86</p> <p><code>User</code>\uff1a\uff08\u6253\u5f00\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\uff0c\u67e5\u770b\u7528\u6237\uff09\u4e2a\u4eba\u7684\u6587\u4ef6\u5c31\u5728\u8fd9\u91cc</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_4","title":"\u9690\u85cf\u6587\u4ef6","text":"<p>\u21e7\u2318. \uff1a\u663e\u793a\u9690\u85cf\u6587\u4ef6</p> <p></p> <p>\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u5939\u548c\u6587\u4ef6\u4f1a\u88ab\u9690\u85cf\u3002\u8fd9\u662f\u56e0\u4e3a\u6709\u4e9b\u6587\u4ef6\u53ef\u80fd\u6bd4\u8f83\u7e41\u7410\u6216\u8005\u5bf9\u7528\u6237\u6765\u8bf4\u5b8c\u5168\u6ca1\u6709\u7528\u5904\uff0c\u6216\u8005\u53ef\u80fd\u5bf9\u5176\u8fdb\u884c\u64cd\u4f5c\u6bd4\u8f83\u5371\u9669\uff0c\u6240\u4ee5\u521b\u5efa\u8fd9\u4e2a\u6587\u4ef6/\u6587\u4ef6\u5939\u7684\u65f6\u5019\u5c31\u5e26\u4e0a\u4e86<code>.</code>\u5c06\u5176\u9690\u85cf\u4e0d\u8ba9\u7528\u6237\u770b\u5230\u3002</p> <p>\u4f46\u662f\u4e5f\u6709\u4e00\u4e9b\u4e0d\u662f\u70b9\u5f00\u5934\u7684\u6587\u4ef6\u6216\u8005\u6587\u4ef6\u5939\u88ab\u9690\u85cf\u3002\u90a3\u4e48\u4e3a\u4ec0\u4e48\u8fd9\u4e9b\u6587\u4ef6\u4f1a\u88ab\u9690\u85cf\u5462\uff1f\u56e0\u4e3a\u7cfb\u7edf\u4e0d\u5e0c\u671b\u4e00\u822c\u7684\u4f7f\u7528\u8005\u78b0\u8fd9\u4e9b\u6587\u4ef6\u3002\u56e0\u4e3a\u53ef\u80fd\u4f60\u968f\u624b\u5220\u6389\u4e00\u4e2a\u7cfb\u7edf\u5c31\u5d29\u4e86\u3002emmm\uff0c\u5d29\u4e86\u5c31\u662f\u8bf4\uff0c\u7535\u8111\u6b7b\u673a\u6216\u8005\u574f\u6389\u4ec0\u4e48\u7684\u3002\u6240\u4ee5\u4e0d\u8981\u968f\u4fbf\u4e71\u52a8\u3002</p> <p>\u4e0d\u8fc7\u6211\u4eec\u5f85\u4f1a\u513f\u8981\u7528\uff0c\u6240\u4ee5\u5c31\u7b80\u5355\u770b\u770b\u5427\u3002</p> <p>\u4e3b\u8981\u662f<code>/bin</code>\u76ee\u5f55\u3002\u5b58\u653e\u7cfb\u7edf\u5173\u952e\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\uff08\u4ec0\u4e48\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\u6211\u4e0b\u8282\u8bfe\u4f1a\u8bb2\uff09\uff08\u5927\u5bb6\u8bb0\u4f4f\u8fd9\u91cc\u6709\u4e2a<code>date</code>\u5c31\u597d\u4e86\uff09</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_5","title":"\u89c2\u5bdf\u5bb6\u76ee\u5f55","text":"<p>\u5176\u5b9e\u4f60\u7684\u8fb9\u680f\uff08\u6253\u5f00\u8bbf\u8fbe\u8bbe\u7f6e\uff09\u663e\u793a\u7684\u5c31\u662f\u8fd9\u91cc\u7684\u6587\u4ef6\u5939\uff08\u6ca1\u4ec0\u4e48\u795e\u79d8\u7684\uff0c\u4e0e\u522b\u7684\u6587\u4ef6\u5939\u6ca1\u6709\u4efb\u4f55\u533a\u522b\uff09</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_6","title":"\u8def\u5f84","text":"<p>\u6839\u76ee\u5f55<code>/</code> == <code>Macintosh HD</code></p> <p>\u5bb6\u76ee\u5f55<code>~</code> == <code>/Users/yangxijie</code>\uff08\u4f60\u7684\u7528\u6237\u540d\uff09</p> <p>\u6811\u72b6\u5206\u7ea7</p> <p>\uff08\u8bd5\u7740\u5199\u51fa\u8def\u5f84\uff09</p>"},{"location":"LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/#_7","title":"\u6587\u4ef6\u540d\u540e\u7f00\u7684\u8bf4\u660e","text":"<p>\u6587\u4ef6\u540d\u540e\u7f00\u662f\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206</p> <p>\u6587\u4ef6\u540d\u540e\u7f00\u53ea\u662f\u4e3a\u4e86\u544a\u8bc9\u7cfb\u7edf\u8be5\u7a0b\u5e8f\u9ed8\u8ba4\u7531\u54ea\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6765\u6253\u5f00\uff08<code>.txt</code> \u6587\u672c\u7f16\u8f91\uff0c<code>.jpg</code> \u9884\u89c8\uff0c<code>.mp4</code> QuickTime Player\uff09</p> <p>\u4f60\u4e5f\u53ef\u4ee5\u4e0d\u5199\u540e\u7f00\uff0c\u4f46\u662f\u8fd9\u6837\u7cfb\u7edf\u5c31\u4e0d\u77e5\u9053\u8981\u7528\u54ea\u4e9b\u7a0b\u5e8f\u53bb\u6253\u5f00/\u8981\u5982\u4f55\u6253\u5f00\u3002\u6240\u4ee5\u4e00\u5b9a\u8981\u5199\u597d\u540e\u7f00\u54e6\uff08\u4f46\u662f\u540e\u9762\u4f1a\u8bf4\u5230\u4e24\u79cd\u6587\u4ef6\uff1a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u548c\u6587\u672c\u6587\u4ef6\u4e00\u822c\u662f\u4e0d\u5199\u540e\u7f00\u540d\u7684\uff09</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 3 \u8ba4\u8bc6\u7a0b\u5e8f","text":""},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_1","title":"\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u548c\u6587\u672c\u6587\u4ef6","text":"<p>\u8fd9\u4e24\u79cd\u6587\u4ef6\u53ef\u4ee5\u8bf4\u662f\u6587\u4ef6\u7cfb\u7edf\u6700\u57fa\u672c\u7684\u4e24\u79cd\u6587\u4ef6\u4e86</p> <p>\u5b83\u4eec\u6709\u4ec0\u4e48\u4e0d\u540c\u5462\uff1f</p> <p>\u8ba1\u7b97\u673a\u5b58\u50a8\uff0c\u672c\u8d28\u90fd\u662f<code>0</code>\u548c<code>1</code>\u5b58\u50a8\u3002\u6211\u4eec\u5148\u8bf4\u6587\u672c\u6587\u4ef6\u5427\uff1a</p> <p>\u6587\u672c\u6587\u4ef6\uff1a\u5b58\u7684\u662f\u5b57\u7b26\uff0c\u4e00\u4e2a\u63a5\u4e00\u4e2a\u7684\u5b57\u7b26\u3002\u6bcf\u4e2a\u5b57\u7b26\u90fd\u6709\u4e00\u4e32<code>0</code>\u3001<code>1</code>\u6784\u6210\u7684\u7f16\u7801\u3002\u6253\u5f00\u6587\u672c\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u7cfb\u7edf\u5c06\u8fd9\u4e9b\u7f16\u7801\u6328\u4e2a\u8bfb\u51fa\u6765\u5c31\u6210\u4e3a\u4e86\u6587\u672c\u6587\u4ef6\u3002</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_2","title":"\u4ec0\u4e48\u662f\u7a0b\u5e8f/\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6","text":"<p>1 \u4ece\u6c49\u8bed\u7684\u6982\u5ff5\u6765\u8bf4\uff1a\u7a0b\u5e8f\u5c31\u662f\u6309\u7167\u4e00\u5b9a\u8fc7\u7a0b\u6267\u884c\u7684\u4e1c\u897f</p> <p>2 \u4ece\u7528\u6237\u4f7f\u7528/\u7a0b\u5e8f\u81ea\u8eab\u7684\u6027\u8d28\u7684\u89d2\u5ea6\u6765\u8bf4\uff1a\uff08\u6211\u7684\u7406\u89e3\uff09<code>input</code>\u8f93\u5165\uff0c<code>output</code>\u8f93\u51fa\u3002\u5728\u8ba1\u7b97\u673a\u91cc\u9762\uff1a\u6709\u8f93\u5165\u3001\u6709\u8f93\u51fa\u5c31\u7b97\u7a0b\u5e8f\u3002 \u53c2\u6570\u662f\u7279\u6b8a\u7684\u8f93\u5165</p> <p>\u6267\u884c\u67d0\u79cd\u64cd\u4f5c\u662f\u7279\u6b8a\u7684\u8f93\u51fa</p> <p>\u4e3e\u4f8b\u5b50\uff1a\uff08\u5148\u8bf4\u4e00\u4e0b\u8f93\u5165\u4e0e\u8f93\u51fa\u7684\u7279\u70b9\uff09</p> <p>\u5927\u5bb6\u7ecf\u5e38\u4f7f\u7528\u7684\u53ef\u80fd\u662f\u6709\u56fe\u5f62\u754c\u9762\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u4e5f\u5c31\u662f\u5728<code>\u5e94\u7528\u7a0b\u5e8f</code>\u6587\u4ef6\u5939\u4e2d\u7684\u540e\u7f00\u4e3a<code>.app</code>\u7684\u7a0b\u5e8f\u3002\u6211\u4eec\u5148\u4ece\u8fd9\u4e9b\u5927\u5bb6\u719f\u6089\u7684<code>app</code>\u5165\u624b\uff0c\u4e4b\u540e\u518d\u8bf4\u5927\u5bb6\u53ef\u80fd\u5f88\u5c11\u63a5\u89e6\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6</p> <p></p> <p></p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_3","title":"\u4ee5\u5907\u5fd8\u5f55\u4e3a\u4f8b\uff1a","text":"<p>\u952e\u76d8\u6572\u4e86\u4e00\u4e9b\u5b57\uff0c\u5c4f\u5e55\u4e0a\u5c31\u663e\u793a\u4e86\u4e00\u884c\u5b57\uff08\u8f93\u5165\uff1a\u6572\u952e\u76d8\uff1b\u8f93\u51fa\uff1a\u5907\u5fd8\u5f55\u4e2d\u591a\u4e86\u4e00\u884c\u5b57\uff09</p> <p>\u9f20\u6807\u70b9\u51fb\uff0c\u5728\u5149\u6807\u79fb\u52a8\uff08\u8f93\u5165\uff1a\u9f20\u6807\u70b9\u51fb\uff1b\u8f93\u51fa\uff1a\u5149\u6807\u79fb\u52a8\uff09</p> <p>\u53f3\u952e\u70b9\u51fb\uff0c\u51fa\u73b0\u8f85\u52a9\u83dc\u5355\uff08\u8f93\u5165\uff1a\u5e26\u53c2\u6570\u2303\u7684\u9f20\u6807\u70b9\u51fb\uff1b\u8f93\u51fa\uff1a\u51fa\u73b0\u83dc\u5355\uff09</p> <p>\u70b9\u51fb\u65b0\u5efa\u4e00\u4e2a\u5217\u8868\uff0c\u8ba1\u7b97\u673a\u5c31\u6267\u884c\u4e86\u65b0\u5efa\u4e00\u4e2a\u5217\u8868\u7684\u64cd\u4f5c\uff0c\u65b0\u5efa\u4e86\u4e00\u4e2a\u5217\u8868\uff08\u8f93\u5165\uff1a\u70b9\u51fb\u67d0\u4e2a\u6309\u94ae/\u56fe\u6807\uff1b\u8f93\u51fa\uff1a\u6267\u884c\u67d0\u4e2a\u64cd\u4f5c\uff09</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_4","title":"\u6bb5\u843d\u603b\u7ed3","text":"<p>\u6211\u4eec\u7b80\u5355\u603b\u7ed3\u4e00\u4e0b\uff1a\u4ece\u4f7f\u7528\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u6709\u8f93\u5165\u6709\u8f93\u51fa\u5c31\u53ef\u4ee5\u7b97\u4f5c\u662f\u4e00\u4e2a\u7a0b\u5e8f\u3002\u5927\u5bb6\u65e5\u5e38\u63a5\u89e6\u7684\u5c31\u662f\u5728<code>\u5e94\u7528\u7a0b\u5e8f</code>\u6587\u4ef6\u5939\u4e2d\u7684\u7a0b\u5e8f\u3002\u8f93\u5165\u4f1a\u6709\u666e\u901a\u7684\u8f93\u5165\uff08\u70b9\u51fb\uff09\uff0c\u4e5f\u6709\u5e26\u53c2\u6570\u7684\u8f93\u5165\uff08\u53f3\u952e\uff0c\u2303\u70b9\u51fb\uff09\uff1b\u8f93\u51fa\u6709\u666e\u901a\u7684\u8f93\u51fa\uff08\u51fa\u73b0\u4e86\u4e00\u884c\u5b57\uff0c\u663e\u793a\u4e86\u4ec0\u4e48\u753b\u9762\uff09\uff0c\u4e5f\u6709\u7279\u6b8a\u7684\u8f93\u51fa\u2014\u2014\u6267\u884c\u4e86\u67d0\u79cd\u64cd\u4f5c</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u8981\u8ba4\u8bc6\u4e00\u4e9b\u5927\u5bb6\u5e73\u5e38\u5f88\u5c11\u89c1\u7684\u7a0b\u5e8f\uff1a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>3 \u4ece\u8ba1\u7b97\u673a\u5e95\u5c42\u7684\u89d2\u5ea6\u6765\u8bf4\uff1a\u7a0b\u5e8f\u5c31\u662f\u4e00\u5806\u673a\u5668\u7801\uff08<code>0</code>\u3001<code>1</code>\uff09\uff0c\u5c31\u662f\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8ba1\u7b97\u673a\u5e95\u5c42\u786c\u4ef6\uff08\u5904\u7406\u5668\uff09\u53ef\u4ee5\u8bfb\u53d6\u8fd9\u4e9b\u673a\u5668\u7801\u7136\u540e\u5b9e\u73b0\u76f8\u5e94\u7684\u8ba1\u7b97/\u8fdb\u884c\u76f8\u5e94\u7684\u5904\u7406</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_5","title":"\u5f15\u5165\u7ec8\u7aef","text":"<p>\u8981\u8ddf\u8fd9\u4e9b\u7a0b\u5e8f/\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u6253\u4ea4\u9053\uff0c\u6211\u4eec\u9996\u5148\u9700\u8981\u5165\u95e8\u4e00\u4e0b<code>\u7ec8\u7aef.app</code>/<code>Terminal.app</code>\u3002\u4ece\u542f\u52a8\u53f0\u6253\u5f00\uff08\u76f8\u5f53\u4e8e\u5728\u8bbf\u8fbe\u4e2d\u627e\u5230<code>\u7ec8\u7aef.app</code>\u7136\u540e\u53cc\u51fb\u6253\u5f00\uff09\u3002</p> <p>\u7ec8\u7aef\u4e5f\u662f\u7a0b\u5e8f\uff08\u63a5\u53d7\u4f60\u7684\u5b57\u7b26\u4e32\uff08\u547d\u4ee4\uff09\u4e3a\u8f93\u5165\uff0c\u4e5f\u4f1a\u6709\u4e00\u4e9b\u8f93\u51fa\uff09\uff0c\u6211\u4eec\u901a\u8fc7\u7ec8\u7aef\u4e0e\u4e00\u4e9b\u6ca1\u6709\u56fe\u5f62\u754c\u9762\u7684\u7a0b\u5e8f\u8fdb\u884c\u4ea4\u4e92\u3002</p> <p>\u4f46\u662f\u5177\u4f53\u6765\u8bf4\uff0c\u7ec8\u7aef\u63d0\u4f9b\u7684\u662f\u4e00\u4e2a\u8f93\u5165\u547d\u4ee4\uff08\u5b57\u7b26\u4e32\uff09\u548c\u8f93\u51fa\u63d0\u793a\uff08\u5b57\u7b26\u4e32\uff09\u7684\u73af\u5883\uff0c\u800cshell\u5219\u8d1f\u8d23\u89e3\u6790\u4ece\u7ec8\u7aef\u8f93\u5165\u7684\u547d\u4ee4\u3002</p> <p>CSDN\uff5c\u7ec8\u7aef\u3001shell\u7684\u533a\u522b\u4e0e\u8054\u7cfb</p> <p>\u767e\u5ea6\u767e\u79d1\uff5cshell</p> <pre><code>\u5728\u8ba1\u7b97\u673a\u79d1\u5b66\u4e2d\uff0cshell\u4fd7\u79f0\u58f3\uff08\u7528\u6765\u533a\u522b\u4e8e\u6838\uff09\uff0c\u662f\u6307\u201c\u4e3a\u4f7f\u7528\u8005\u63d0\u4f9b\u64cd\u4f5c\u754c\u9762\u201d\u7684\u8f6f\u4ef6\uff08\u547d\u4ee4\u89e3\u6790\u5668\uff09\u3002\n\u5b83\u63a5\u6536\u7528\u6237\u547d\u4ee4\uff0c\u7136\u540e\u8c03\u7528\u76f8\u5e94\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\n</code></pre> <p>\u8fd9\u4e00\u5c0f\u8282\u7684\u6807\u9898\u662f\u5f15\u5165\u7ec8\u7aef\uff0c\u6211\u4eec\u8fd9\u8282\u8bfe\u53ea\u662f\u5e26\u5927\u5bb6\u521d\u6b65\u8ba4\u8bc6\u7ec8\u7aef\uff0c\u4e0b\u8282\u8bfe\u6211\u4eec\u4f1a\u5bf9\u7ec8\u7aef\u548c<code>shell</code>\u505a\u66f4\u6df1\u5165\u7684\u4e86\u89e3</p> <p>\u201c\u5b83\uff08shell\uff09\u63a5\u6536\u7528\u6237\u547d\u4ee4\uff0c\u7136\u540e\u8c03\u7528\u76f8\u5e94\u7684\u5e94\u7528\u7a0b\u5e8f\u3002\u201d\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u7528\u7ec8\u7aef\u901a\u8fc7shell\u8c03\u7528\u4e00\u4e9b\u6ca1\u6709\u56fe\u5f62\u754c\u9762\u7684\u7a0b\u5e8f\uff08\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff09\uff0c\u770b\u770b\u5b83\u4eec\u7684\u8f93\u5165\u8f93\u51fa\u90fd\u662f\u4ec0\u4e48</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#say_hello","title":"\u81ea\u5df1\u5199\u7684say_hello","text":"<p>\uff08\u2318I/\u7a7a\u683c\u770b\u5230\u56fe\u6807\u4e0a\u7684<code>exec</code>\uff09</p> <p>\uff08\u5982\u4f55\u544a\u8bc9<code>shell</code>\u6211\u4eec\u8981\u8c03\u7528\u8fd9\u4e2a\u7a0b\u5e8f\u5462\uff1f\u5199\u51fa\u5b83\u7684\u8def\u5f84\u5c31\u597d\u4e86\uff09</p> <p>\u590d\u5236\u8def\u5f84\uff1a\u53f3\u952e\uff0c\u2325\uff1b\u2325\u2318C\uff1b\u62d6\u52a8\u5230\u7ec8\u7aef</p> <p>\uff08\u76f4\u89c2\u8f93\u5165+\u76f4\u89c2\u8f93\u51fa\uff1a\u5b57\u7b26\u4e32\uff09</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#bindate","title":"/bin/date","text":"<p>\u663e\u793a\u65e5\u671f</p> <pre><code>/bin/date\n/bin/date \"+DATE: %Y-%m-%d%nTIME: %H:%M:%S\"\n</code></pre> <p>\uff08\u76f4\u89c2\u8f93\u51fa\uff0c\u6ca1\u6709\u8f93\u5165\uff09</p> <p>\uff08\u6dfb\u52a0\u53c2\u6570\uff09</p> <p></p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#binmkdir","title":"/bin/mkdir","text":"<p>\u521b\u5efa\u6587\u4ef6\u5939</p> <p>\u63a5\u6536\u4e00\u4e2a\u53c2\u6570/\u8f93\u5165\uff1a\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5939\u521b\u5efa\u5728\u54ea\u91cc</p> <p>\u5728\u684c\u9762\u521b\u5efa<code>newFolder</code></p> <p>\u8f93\u51fa\uff1a\u6267\u884c\u4e86<code>\u521b\u5efa\u6587\u4ef6\u5939</code>\u7684\u64cd\u4f5c</p>"},{"location":"LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/#_6","title":"\u9644","text":"<p>\u672c\u8282\u8bfe\u6240\u7528\u53ef\u6267\u884c\u6587\u4ef6<code>say_hello</code>\u7684C++\u4ee3\u7801\u6587\u4ef6</p> <pre><code>#include &lt;cstdio&gt;\n\nint main() {\n  char name[100];\n  printf(\"Please input your name: \");\n  scanf(\"%s\", name);\n  printf(\"Hello, %s\", name);\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 4 \u8ba4\u8bc6\u7ec8\u7aef\u548cshell","text":"<p>\u4e0a\u8282\u8bfe\u6211\u4eec\u5df2\u7ecf\u6253\u5f00\u4e86\u7ec8\u7aef\u3002\u8fd9\u8282\u8bfe\u6211\u4eec\u8981\u6df1\u5165\u8ba4\u8bc6\u7ec8\u7aef\u3002</p> <p>\u5148\u7b80\u5355\u56de\u987e\u4e00\u4e0b\uff1a</p> <p>\u7ec8\u7aef\u63d0\u4f9b\u7684\u662f\u4e00\u4e2a\u8f93\u5165\u547d\u4ee4\uff08\u5b57\u7b26\u4e32\uff09\u548c\u8f93\u51fa\u63d0\u793a\uff08\u5b57\u7b26\u4e32\uff09\u7684\u73af\u5883\uff0c\u800c<code>shell</code>\u5219\u8d1f\u8d23\u89e3\u6790\u4ece\u7ec8\u7aef\u8f93\u5165\u7684\u547d\u4ee4\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_1","title":"\u5185\u5efa\u7a0b\u5e8f\u4e0e\u5185\u5efa\u547d\u4ee4","text":"<p>\u6211\u4eec\u6253\u5f00\u7ec8\u7aef\uff0c\u8fd9\u65f6\u5176\u5b9e\u76f8\u5f53\u4e8e\u6253\u5f00\u4e86<code>shell</code>\u3002\u4e0a\u8282\u8bfe\u6211\u4eec\u901a\u8fc7<code>shell</code>\u8fd0\u884c\u4e86\u4e00\u4e9b\u7a0b\u5e8f\uff08<code>say_hello</code> <code>/bin/date</code> <code>/bin/mkdir</code>\uff09\u3002\u5176\u5b9e<code>shell</code>\u81ea\u8eab\u4e5f\u5e26\u7740\u4e00\u4e9b\u7a0b\u5e8f\uff08\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff09\uff0c\u8fd9\u4e9b\u7a0b\u5e8f\u5c31\u53eb\u5185\u5efa\u7a0b\u5e8f\u3002</p> <p><code>shell</code>\u5185\u5efa\u7a0b\u5e8f\u7684\u72ec\u7279\u4e4b\u5904\u662f\uff0c\u6211\u4eec\u5728\u8c03\u7528\u8fd9\u4e9b\u7a0b\u5e8f\u7684\u65f6\u5019\u53ea\u9700\u8981\u6572\u4e00\u4e2a\u5355\u8bcd\u5c31\u884c\u4e86\u3002\u4e00\u4e2a\u5355\u8bcd\uff0c\u5f88\u77ed\uff0c\u6240\u4ee5\u6211\u4eec\u5c31\u628a\u5b83\u4eec\u79f0\u4f5c\u5185\u5efa\u547d\u4ee4\u3002</p> <p>\u987a\u5e26\u4e00\u63d0\uff0c\u7cfb\u7edf\u81ea\u5e26\u7684\u90a3\u4e9b\u7a0b\u5e8f\u5982\u679c\u4e5f\u80fd\u7528\u4e00\u4e2a\u5355\u8bcd\u5c31\u8c03\u7528\u90a3\u4e48\u4e5f\u53ef\u4ee5\u79f0\u5b83\u4eec\u4e3a\u7cfb\u7edf\u547d\u4ee4\u3002</p> <p>\u5185\u5efa\u547d\u4ee4\u6709\u5f88\u591a\uff0c\u6211\u4eec\u53ea\u4ecb\u7ecd\u4e00\u4e9b\u6bd4\u8f83\u91cd\u8981\u7684\uff1a<code>which</code> <code>echo</code> <code>history</code> <code>pwd</code> <code>cd</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_2","title":"\u4e0e\u8def\u5f84\u65e0\u5173","text":""},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#which","title":"which","text":"<p>\u67e5\u770b<code>shell</code>\u5982\u4f55\u89e3\u91ca\u540e\u9762\u7684\u547d\u4ee4</p> <pre><code>which which\nwhich echo\nwhich history\nwhich pwd\nwhich cd\n</code></pre> <p>\u5f97\u5230\u7ed3\u679c\uff1a<code>which: shell built-in command</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#echo","title":"echo","text":"<p>\u5c06\u540e\u9762\u8f93\u5165\u7684\u4e1c\u897f\u8fd4\u56de\u3002\u770b\u8d77\u6765\u5f88\u6ca1\u7528\uff0c\u4f46\u662f\u5728\u663e\u793a\u53d8\u91cf\u7684\u65f6\u5019\u4f1a\u663e\u793a\u53d8\u91cf\u7684\u503c\u800c\u4e0d\u662f\u90a3\u4e2a\u5b57\u7b26\u4e32</p> <pre><code>echo hello\necho $SHELL\n</code></pre> <p>\u67e5\u770b\u6b63\u5728\u4f7f\u7528\u7684<code>shell</code> <code>echo $SHELL</code>\u3002\u5176\u5b9e\u8fd8\u6709\u597d\u591a\u5176\u4ed6\u7684<code>shell</code>\uff0c\u4f46\u662f\u6211\u4eec\u7528<code>macOS</code>\u9ed8\u8ba4\u7684<code>shell</code>\u2014\u2014<code>zsh</code>\u5c31\u597d\u4e86\u3002\uff08\u5c0f\u77e5\u8bc6\uff1a\u5728macOS 10.15 <code>Catalina</code>\u4e4b\u524d<code>macOS</code>\u9ed8\u8ba4\u7684<code>shell</code>\u662f<code>bash</code>\uff0c\u5176\u5b9e\u4e8c\u8005\u7684\u533a\u522b\u5e76\u4e0d\u5927\uff0c\u4f5c\u7528\u90fd\u662f\u89e3\u6790\u4f60\u8f93\u5165\u7684\u547d\u4ee4\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#history","title":"history","text":"<pre><code>history\nhistory -5\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#date","title":"date","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u5c1d\u8bd5\u4e00\u4e0b<code>which date</code>\u3002</p> <p>\u53d1\u73b0<code>shell</code>\u8fd4\u56de\u4e86<code>/bin/date</code>\uff01\u56de\u987e<code>which</code>\u7684\u4f5c\u7528\uff0c<code>which</code>\u4f1a\u67e5\u770b\u540e\u9762\u8f93\u5165\u7684\u4e1c\u897f\u4f5c\u4e3a\u547d\u4ee4\u5982\u4f55\u88ab<code>shell</code>\u89e3\u6790\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u5728<code>shell</code>\u8f93\u5165<code>date</code>\uff0c\u76f8\u5f53\u4e8e\u8f93\u5165<code>/bin/date</code>\u3002\u90a3\u4e48\u6211\u4eec\u8981\u770b\u65f6\u95f4\u600e\u4e48\u770b\u554a\uff0c\u76f4\u63a5\u8f93\u5165<code>date</code>\uff0c<code>shell</code>\u5c31\u4f1a\u5e2e\u6211\u89e3\u6790\u8fd9\u4e2a\u5355\u8bcd\uff0c\u7136\u540e\u53bb\u8c03\u7528\u5728\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684<code>/bin/date</code>\u8fd9\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7a0b\u5e8f\uff0c\u6267\u884c\u8fd9\u4e2a\u7a0b\u5e8f\uff0c\u7136\u540e\u8fd4\u56de\u5f53\u524d\u7684\u65f6\u95f4\u3002</p> <p>\u7136\u540e\u6211\u4eec\u7075\u5149\u4e00\u73b0\uff0c\u90a3\u662f\u4e0d\u662f\u5f88\u591a\u7cfb\u7edf\u547d\u4ee4\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2a\u5355\u8bcd\u8c03\u7528\u5462\uff1f</p> <p>\u662f\u8fd9\u6837\u7684\uff0c\u6211\u4e3e\u4e00\u4e2a\u4f8b\u5b50\u3002<code>which mkdir</code>\uff0c\u53d1\u73b0\u4e5f\u662f\u8fd4\u56de\u6211\u4eec\u4e4b\u524d\u7528\u7684<code>/bin/mkdir</code>\u3002\u90a3\u4e48\u6211\u4eec\u4ee5\u540e\u7528mkdir\u7684\u65f6\u5019\u662f\u4e0d\u662f\u5c31\u4e0d\u7528\u5199\u8def\u5f84\u4e86\uff0c\u76f4\u63a5\u5199\u5355\u8bcd\u5c31OK\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_3","title":"\u8bf4\u660e","text":"<p>\u65e2\u7136\u4e0d\u8bba\u662f\u5185\u5efa\u547d\u4ee4\u8fd8\u662f\u7cfb\u7edf\u547d\u4ee4\uff0c\u90fd\u53ef\u4ee5\u7528\u4e00\u4e2a\u5355\u8bcd\u66ff\u4ee3\uff0c\u90a3\u4e48\u6211\u4eec\u4e4b\u540e\u5c31\u4e0d\u8981\u592a\u533a\u5206\u5b83\u4eec\u5566\uff0c\u53cd\u6b63\u90fd\u662f\u547d\u4ee4\uff0c\u90fd\u662f\u7528\u4e00\u4e2a\u5355\u8bcd\u544a\u8bc9<code>shell</code>\u8981\u8c03\u7528\u54ea\u4e2a\u7a0b\u5e8f\uff0c\u672c\u8d28\u4e0a\u662f\u4e00\u6837\u7684\u3002</p> <p>\u6ce8\uff1a\u4e3a\u4ec0\u4e48\u4f1a\u8fd9\u6837\u5462\uff1f\u8c03\u7528\u7a0b\u5e8f\u5199\u5b8c\u6574\u8def\u5f84\u53ef\u4ee5\u8c03\u7528\uff0c\u4f46\u662f\u4e00\u4e2a\u5355\u8bcd\u7ed9<code>shell</code>\u3001<code>shell</code>\u5c31\u80fd\u77e5\u9053\u8fd9\u4e2a\u7a0b\u5e8f\u5728\u54ea\u91cc\uff1f\u597d\u5947\u602a\u554a\u3002\u539f\u56e0\u6211\u4f1a\u5728\u8fd9\u8282\u8bfe\u7684\u6700\u540e\u8bb2\u73af\u5883\u53d8\u91cf\u7684\u65f6\u5019\u63d0\u53ca\u3002\u73b0\u5728\u5148\u8ba4\u4e3a\u8fd9\u5c31\u662f<code>shell</code>\u7684\u529f\u80fd\u597d\u4e86\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#shell","title":"\u4e0eshell\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u76f8\u5173","text":"<p>\u521a\u521a\u6211\u4eec\u8bb2\u5185\u5efa\u547d\u4ee4\u7684\u65f6\u5019\u8fd8\u8bf4\u4e86\u4e24\u4e2a\u547d\u4ee4\uff0c<code>pwd</code>\u548c<code>cd</code>\u3002\u4f46\u662f\u521a\u521a\u63d2\u7740\u8bb2\u4e86<code>shell</code>\u7684\u4e00\u4e9b\u5e38\u7528\u547d\u4ee4\u4e8e\u662f\u5c31\u8df3\u8fc7\u4e86\u3002\u63a5\u4e0b\u6765\u6211\u4eec\u6765\u8bb2\u8fd9\u4e9b\u547d\u4ee4\u3002</p> <p>\u63a5\u4e0b\u6765\u8bb2\u7684\u547d\u4ee4\u7684\u4e00\u4e9b\u4e0d\u540c\u662f\u547d\u4ee4\u7684\u8f93\u5165\u548c\u6267\u884c\u6216\u591a\u6216\u5c11\u4f1a\u4f9d\u8d56<code>shell</code>\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\uff0c\u4e0e\u6587\u4ef6\u7684\u8def\u5f84\u76f8\u5173\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#pwd","title":"pwd","text":"<p>\u63a5\u4e0b\u6765\u5f00\u59cb\u4ecb\u7ecd\u6587\u4ef6\u8def\u5f84\u2014\u2014\u7edd\u5bf9\u8def\u5f84\u548c\u76f8\u5bf9\u8def\u5f84</p> <p>\u6211\u4eec\u4e4b\u524d\u6240\u8bf4\u7684\u8def\u5f84\u90fd\u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u4e5f\u5c31\u662f\u4ece\u6839\u76ee\u5f55\u5f00\u59cb\u3002\u4f46\u5176\u5b9e\u8fd8\u6709\u76f8\u5bf9\u8def\u5f84\u3002</p> <pre><code>pwd\n</code></pre> <p>\u5f00\u59cb\u4ecb\u7ecdshell\u7684\u5f53\u524d\u5de5\u4f5c\u8def\u5f84</p> <p><code>.</code> <code>..</code> <code>...</code> <code>-</code> <code>~</code></p> <p>\u5c0f\u95ee\u9898\uff1a<code>~/Desktop</code>\u662f\u76f8\u5bf9\u8def\u5f84\u8fd8\u662f\u7edd\u5bf9\u8def\u5f84\uff1f\uff08A\uff1a\u7edd\u5bf9\u8def\u5f84\u3002\u56e0\u4e3a<code>~</code>\u548c<code>/User/yangxijie</code>\u662f\u7b49\u4ef7\u7684\uff09</p> <p>\uff08\u597d\u7684\u4e60\u60ef\u662f\u76ee\u5f55\u540e\u9762\u518d\u52a0\u4e00\u4e2a\u659c\u6760\uff0c\u800c\u6587\u4ef6\u540e\u9762\u4e0d\u52a0\uff08\u6211\u56e0\u4e3a\u8fd9\u4e2a\u5403\u8fc7\u4e8f\uff0c\u4f46\u8fd8\u662f\u61d2\u5f97\u6539\uff09\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#cd","title":"cd","text":"<p>\u8df3\u8f6c<code>shell</code>\u7684\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u5230\u6307\u5b9a\u7684\u76ee\u5f55</p> <p>\u8fd9\u65f6\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u9a8c\u8bc1\u4e0a\u9762\u5b66\u5230\u7684\u76f8\u5bf9\u8def\u5f84\u4e86</p> <p>\u4e0d\u8fc7\u6211\u4eec\u5148\u8bd5\u8bd5\u7edd\u5bf9\u8def\u5f84\u3002\u518d\u6765\u76f8\u5bf9\u8def\u5f84</p> <p>\uff08\u67e5\u770b\u547d\u4ee4\u524d\u9762\u7684\u7b26\u53f7\uff09</p> <p>\u4e4b\u524d\u7684\u7a0b\u5e8f<code>/Users/yangxijie/Desktop/teaching_materials/say_hello</code>\uff0c\u76f4\u63a5\u8f93\u5165<code>say_hello</code>shell\u4f1a\u544a\u8bc9\u4f60\u5b83\u4e0d\u8ba4\u8bc6\u8fd9\u4e2a\u5355\u8bcd\uff0c\u4e0d\u8ba4\u8bc6\u8fd9\u4e2a\u547d\u4ee4</p> <p>\u4f46\u662f\u8981\u8c03\u7528\u8fd9\u6837\u7684\u7a0b\u5e8f\u672a\u514d\u4e5f\u592a\u957f\u4e86\u5427\uff0c\u6211\u4eec\u80fd\u4e0d\u80fd\u7b80\u5316\u4e00\u4e9b\uff1f</p> <p>\u5148<code>cd</code>\u5230<code>/Users/yangxijie/Desktop</code>\u8fd9\u65f6\u91cc\u9762\u4f1a\u6709\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6</p> <p>\u76f4\u89c2\u7684\u60f3\u6cd5\u662f<code>say_hello</code></p> <p>\u4f46\u662f\u8fdb\u5165\u76ee\u5f55\u540e\u76f4\u63a5\u8f93\u5165\u5b57\u7b26\u4e32<code>zsh</code>\u4f1a\u628a\u8fd9\u4e2a\u5f53\u4f5c\u4e00\u6761\u547d\u4ee4\u7136\u540e\u5b83\u53d1\u73b0\u5e76\u6ca1\u6709\u627e\u5230\u8fd9\u4e2a\u547d\u4ee4\uff08\u5f53\u7136\u4e86<code>say_hello</code>\u4e0d\u662f<code>shell</code>\u7684\u5185\u5efa\u547d\u4ee4\u73af\u5883\u53d8\u91cf\u91cc\u9762\u4e5f\u6ca1\u6709\u5b83\u6240\u4ee5\u5f53\u7136\u51fa\u73b0\u4e0b\u9762\u7684\u63d0\u793a\u4e86<code>zsh: command not found: say_hello</code></p> <p>\u600e\u4e48\u8ba9<code>shell</code>\u77e5\u9053\u8f93\u5165\u7684<code>say_hello</code>\u4e0d\u662f\u547d\u4ee4\u800c\u662f\u6211\u4eec\u60f3\u8981\u6267\u884c\u7684\u7a0b\u5e8f\u5462\uff1f\u6211\u4eec\u8f93\u5165<code>./say_hello</code>\u5c31\u597d\u4e86\u3002\u76f8\u5f53\u4e8e\u5199\u4e86\u4e00\u4e2a\u7edd\u5bf9\u8def\u5f84\u5bf9\u5427\uff08<code>.</code>\u76f8\u5f53\u4e8epwd\u5e26\u5165\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_4","title":"\u603b\u7ed3","text":"<p>\u4ee5\u4e0a\u6211\u4eec\u4e3b\u8981\u5b66\u4e60\u4e86\u4e24\u79cd\u5185\u5efa\u547d\u4ee4\uff1a\u4e00\u79cd\u4e0e\u6587\u4ef6\u7cfb\u7edf/\u8def\u5f84\u65e0\u5173\uff0c\u4e00\u79cd\u4e0e\u6587\u4ef6\u7cfb\u7edf/\u8def\u5f84\u6709\u5173\u3002\u4f46\u662f\u4e4b\u540e\u6211\u4eec\u4e5f\u4e0d\u4f1a\u53bb\u533a\u5206\u8fd9\u4e24\u79cd\u547d\u4ee4\u4e86\u3002</p> <p>\u4e5f\u5c31\u662f\u8bf4\uff0c\u4e4b\u540e\u547d\u4ee4\u5c31\u662f\u547d\u4ee4\uff0c\u4e0d\u7ba1\u90a3\u662f\u5185\u5efa\u7684\u8fd8\u662f\u7cfb\u7edf\u7684\u3001\u4e5f\u4e0d\u7ba1\u5b83\u548c\u6587\u4ef6\u7cfb\u7edf\u3001\u8def\u5f84\u662f\u5426\u6cbe\u8fb9\u3002</p> <p>\u4e4b\u524d\u8fd9\u4e48\u8bb2\u662f\u5e0c\u671b\u5927\u5bb6\u80fd\u6709\u4e00\u4e2a\u8f83\u4e3a\u6e05\u6670\u7684\u601d\u8def\u8ba4\u8bc6\u8fd9\u4e9b\u547d\u4ee4\u3001\u8ba4\u8bc6<code>shell</code>\u89e3\u6790\u547d\u4ee4\u4e0e\u6267\u884c\u7a0b\u5e8f\u7684\u5173\u7cfb\u3002\u4f46\u662f\u4e4b\u540e\u5728\u6572\u547d\u4ee4\u7684\u4e0d\u7528\u592a\u8fc7\u8003\u8651\u8fd9\u4e9b\u4e1c\u897f\uff0c\u547d\u4ee4\u5c31\u662f\u547d\u4ee4\uff0c\u5c31\u53ea\u662f\u4e00\u4e2a\u5355\u8bcd\u3001\u53ea\u662f\u4e00\u53e5\u8bdd\u800c\u5df2\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#shell_1","title":"shell\u5e38\u7528\u547d\u4ee4","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u8fd8\u4f1a\u518d\u4ecb\u7ecd\u4e00\u4e9bshell\u5e38\u7528\u7684\u547d\u4ee4\u548c\u64cd\u4f5c\u3002</p> <p>\uff08\u53c2\u80032020\u5e74\u6e05\u534e\u5927\u5b66\u7535\u5b50\u7cfb\u79d1\u534f\u6691\u57f9\uff5cLinux\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#ls","title":"ls","text":"<p>\u5217\u51fa\u5f53\u524d\u6587\u4ef6\u5939\u4e0b\u7684\u6240\u6709\u6587\u4ef6</p> <pre><code>ls\nls -a\nls -l\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#cat","title":"cat","text":"<pre><code>cat hello.txt\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#clear","title":"clear","text":"<p>\u6e05\u7a7a\u7ec8\u7aef\u4e2d\u5b58\u5728\u7684\u5df2\u7ecf\u6267\u884c\u8fc7\u7684\u547d\u4ee4</p> <p>\uff08<code>history</code>\u4ecd\u7136\u53ef\u4ee5\u67e5\u770b\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#mkdir","title":"mkdir","text":"<p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\u5939</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#touch","title":"touch","text":"<p>\u5728\u5f53\u524d\u76ee\u5f55\u4e0b\u521b\u5efa\u6587\u4ef6\uff08\u4e00\u822c\u8fd9\u4e48\u521b\u5efa\u7684\u6587\u4ef6\u662f\u6587\u672c\u6587\u4ef6\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#rm","title":"rm","text":"<p>\u79fb\u9664\u67d0\u4e2a\u6587\u4ef6\uff08\u6ce8\u610f\u4e0d\u662f\u79fb\u52a8\u5230\u5e9f\u7eb8\u7bd3\uff0c\u800c\u662f\u76f4\u63a5\u62b9\u6389\uff0c\u5c31 \u6ca1\u4e86\uff09</p> <p>\u79fb\u9664\u67d0\u4e2a\u6587\u4ef6\u5939<code>rm -d testDirectory</code></p> <p>\u5f3a\u5236\u5220\u9664<code>rm -rf testDirectory</code>\uff08\u4f7f\u7528\u4e00\u5b9a\u614e\u91cd\uff01\uff01\uff01\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#mvcp","title":"mv/cp","text":"<p>\u79fb\u52a8\u6587\u4ef6\u4e0e\u590d\u5236\u6587\u4ef6</p> <p>\u79fb\u52a8\u6587\u4ef6\u5230\u539f\u5730\u76f8\u5f53\u4e8e\u91cd\u547d\u540d</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#open","title":"open","text":"<pre><code>open foo.md\nopen -a Visual\\ Studio\\ Code.app foo.md\nopen $(pwd)\nopen .\n</code></pre> <p><code>-a</code>\u53c2\u6570\u5236\u5b9a\u6253\u5f00\u7684\u7a0b\u5e8f\uff08\u9700\u8981\u4f7f\u7528\u7a0b\u5e8f\u5168\u540d\uff09</p> <p><code>$(pwd)</code>\u8868\u793a\u5f53\u524d\u76ee\u5f55\uff0c<code>open $(pwd)</code>\u8868\u793a\u7528<code>Finder</code>\u6253\u5f00<code>shell</code>\u5f53\u524d\u7684\u5de5\u4f5c\u76ee\u5f55 (<code>open .</code>\u4e5f\u53ef)</p> <p>\u8865\u5145\uff1a\u5728\u5b89\u88c5\u597d<code>VS Code</code>\u4e4b\u540e\uff0c\u53ef\u4ee5\u5728<code>~/.zshrc</code>\u4e2d\u6dfb\u52a0\uff1a</p> <pre><code>export PATH=\"$PATH:/Applications/Visual Studio Code.app/Contents/Resources/app/bin\"\n</code></pre> <p>\u4e4b\u540e\u7528\u5728shell\u4e2d\u6572\u547d\u4ee4<code>code &lt;folder&gt;</code>\u7528<code>VS Code</code>\u6253\u5f00\u6587\u4ef6\u5939\uff08\u5de5\u4f5c\u533a\uff09\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#man","title":"man","text":"<p>\u4ee5<code>date</code>\u4e3a\u4f8b</p> <p>\uff08\u6709\u7684\u6ca1\u6709\uff09</p> <p><code>--help</code>\uff08\u4f46\u662f\u6709\u7684\u4e5f\u6ca1\u6709\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#shell_2","title":"shell\u5e38\u7528\u7684\u64cd\u4f5c","text":""},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_5","title":"\u8f93\u51fa\u6d41\u91cd\u5b9a\u5411","text":"<p>\u8fd8\u8bb0\u5f97<code>echo</code>\u5417\uff1f</p> <pre><code>touch my.txt\necho \"hello world\" &gt; my.txt\necho \"hhhh\" &gt; my.txt\necho \"hahahaha\" &gt;&gt; my.txt\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_6","title":"\u7ba1\u9053","text":"<p><code>|</code>: \u4e0a\u4e00\u4e2a\u547d\u4ee4\uff08\u7a0b\u5e8f\uff09\u7684\u8f93\u51fa\u4f5c\u4e3a\u4e0b\u4e00\u4e2a\u547d\u4ee4\u7684\u8f93\u5165</p> <p>\u6bd4\u5982\u6211\u60f3\u770b\u770b\u6211\u521a\u521a\u521b\u5efa\u4e86\u4ec0\u4e48\u6587\u4ef6\u5939\u6765\u7740\uff1a\u6211\u53ef\u4ee5\u4e00\u6761\u4e00\u6761\u7ffb\uff0c\u4f46\u662f\u6211\u4e5f\u53ef\u4ee5\u641c\u7d22\u554a\uff01</p> <pre><code>history\nhistory | grep \"mkdir\"\n</code></pre>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#c","title":"\u2303C","text":""},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_7","title":"\u7a7a\u683c","text":"<p>\u4e3e\u4f8b\uff1a\u521b\u5efa\u4e00\u4e2a\u542b\u6709\u7a7a\u683c\u7684\u6587\u4ef6\u5939\uff0c\u7ed3\u679c\u53d1\u73b0\u521b\u5efa\u4e86\u4e24\u4e2a</p> <p>\u52a0\u5165<code>\\</code>\u6216<code>\"\"</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_8","title":"\u7ec8\u7aef\u8fdb\u9636\u4e0e\u5e38\u7528\u7684\u7ec8\u7aef\u64cd\u4f5c","text":"<p>\u5982\u679c\u5927\u5bb6\u60f3\u5bf9\u7ec8\u7aef\u3001<code>shell</code>\u3001\u547d\u4ee4\u884c\u6df1\u5165\u4e86\u89e3\uff0c\u53ef\u4ee5\u67e5\u770b\u4e0b\u9762\u7684\u8bfe\u7a0b\uff1a</p> <p>\u8fd9\u662f\u5bf9\u6211\u5e2e\u52a9\u5f88\u5927\u7684\u4e00\u95e8\u8bfe\u7a0b</p> <p>\u8ba1\u7b97\u673a\u6559\u80b2\u4e2d\u7f3a\u5931\u7684\u4e00\u8bfe The Missing Semester of Your CS Education \u4e2d\u6587\u7248</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#where","title":"where","text":"<p><code>where</code>\u4e5f\u662f\u4e00\u4e2a<code>shell</code>\u5185\u5efa\u547d\u4ee4\u3002<code>where</code>\u548c<code>which</code>\u7684\u529f\u80fd\u5dee\u4e0d\u591a\uff0c\u4e5f\u662f\u544a\u8bc9\u6211\u4eec\u4e00\u4e2a\u547d\u4ee4\u5982\u4f55\u88ab<code>shell</code>\u89e3\u6790\u3002\u533a\u522b\u662f\uff0c<code>shell</code>\u80fd\u591f\u544a\u8bc9\u6211\u4eec<code>shell</code>\u53bb\u89e3\u6790\u8fd9\u4e2a\u547d\u4ee4\u7684\u5168\u90e8\u53ef\u80fd\u6027\u3002</p> <pre><code>where which\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u5176\u5b9e\u5728<code>shell</code>\u8f93\u5165\u547d\u4ee4<code>which</code>\u7684\u65f6\u5019\uff0c<code>shell</code>\u89c9\u5f97\uff1a\u554a\uff0c\u8fd9\u4e2a\u5355\u8bcd\u6709\u4e24\u79cd\u65b9\u6cd5\u53ef\u4ee5\u88ab\u6211\u89e3\u6790\uff1a\u7b2c\u4e00\u79cd\u662f\u6211\u81ea\u5df1\u5e26\u7684\u5185\u5efa\u7a0b\u5e8f\uff1b\u7b2c\u4e8c\u79cd\u662f\u7cfb\u7edf\u81ea\u5e26\u7684\u7a0b\u5e8f\uff1b\u4e0d\u8fc7\u6211\u81ea\u5df1\u7528\u6211\u81ea\u5df1\u81ea\u5e26\u7684\u7a0b\u5e8f\u6548\u7387\u66f4\u5feb\uff0c\u6bd5\u7adf\u662f\u6211\u81ea\u5df1\u7684\u4e1c\u897f\uff0c\u6240\u4ee5\u5c31\u7528\u81ea\u5df1\u7684\u55bd\u3002\u5176\u5b9e\uff0c\u6211\u611f\u89c9<code>which</code>\u5c31\u662f<code>where</code>\u7684\u7b2c\u4e00\u884c\uff0c\u5bf9\u5427\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#vim","title":"vim\u6781\u7b80\u5165\u95e8\uff08\u53ea\u8981\u80fd\u5199\u4e1c\u897f\u8fdb\u53bb\u5c31\u597d\u4e86\uff09","text":"<p>\uff08\u7f16\u8f91\u4e00\u4e2a\u6587\u672c\u4e3a\u4f8b\uff09</p> <p>\u63a8\u51fa\u63d2\u5165\u6a21\u5f0f\u5e76\u4fdd\u5b58\u9000\u51fa\uff1a\u238b \u5192\u53f7 <code>wq</code> \u56de\u8f66</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#d","title":"\u2303D","text":"<p>\uff08<code>bash</code>\u4e3e\u4f8b\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#chmod","title":"chmod","text":"<p>\u4fee\u6539\u6587\u4ef6\u6743\u9650\u3002</p> <p>\u5982\u679c\u4f60\u5e0c\u671b\u4e00\u4e2a\u6587\u4ef6\u6709\u53ef\u6267\u884c\u6743\u9650\uff1a</p> <pre><code>chmod a+x &lt;file&gt;\n</code></pre> <p>\uff08\u6ca1\u6709\u6df1\u5165\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_9","title":"\u56de\u987e","text":"<p>\u5982\u679c\u8981\u603b\u7ed3\u8fd9\u8282\u8bfe\u6240\u5b66\u7684\u7ec8\u7aef\u3001<code>shell</code>\u4e0e\u4e4b\u524d\u8bfe\u7a0b\u7684\u8054\u7cfb\uff0c\u90a3\u5c31\u662f\u628a\u4e4b\u524d\u5f88\u957f\u7684\u547d\u4ee4\u7ed9\u7b80\u5316\u4e86\u3002\u539f\u672c\u8c03\u7528\u7a0b\u5e8f\u7684\u8fc7\u7a0b\u6211\u90fd\u6254\u7ed9<code>shell</code>\u53bb\u505a\uff0c\u6211\u6572\u547d\u4ee4\u544a\u8bc9<code>shell</code>\u5e72\u4ec0\u4e48\u5c31ok\u4e86\u3002</p> <p>\u6bd4\u5982\uff1a</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_10","title":"\u7b80\u5316\u524d\u9762\u7684\u547d\u4ee4 \u4e4b \u521b\u5efa\u6587\u4ef6\u5939","text":"<p><code>/bin/mkdir /Users/yangxijie/Desktop/newFolder</code>\u8fd9\u6837\u6211\u4eec\u53ef\u4ee5\u5148<code>cd</code>\u8fc7\u53bb</p> <p>\u524d\u9762\u7701\u7565\u7a0b\u5e8f\u8def\u5f84\u662f\u56e0\u4e3a<code>shell</code>\u77e5\u9053\u4f60\u90a3\u4e2a\u5355\u8bcd\u4ee3\u8868\u8def\u5f84\u4e3a<code>/bin/mkdir</code>\u7684\u7a0b\u5e8f\uff0c\u6240\u4ee5\u6211\u4eec\u7701\u7565\u4ea4\u7ed9<code>shell</code>\u4e00\u4e2a\u5355\u8bcd\u5c31\u597d\u3002</p> <p>\u540e\u9762\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u7701\u7565\u5462\uff1f\u90a3\u662f\u56e0\u4e3a<code>shell</code>\u6709\u4e00\u4e2a\u53eb\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u7684\u4e1c\u897f\uff0c\u56e0\u6b64\u5f88\u591a\u7edd\u5bf9\u8def\u5f84\u53ef\u4ee5\u7528\u76f8\u5bf9\u8def\u5f84\u6765\u4ee3\u66ff\u3002\u6211\u4eec\u53ef\u4ee5\u5148<code>cd</code>\u5230\u9700\u8981\u5efa\u76ee\u5f55\u7684\u5730\u65b9\u7136\u540e\u6572<code>mkdir newFolder</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_11","title":"\u7b80\u5316\u524d\u9762\u7684\u547d\u4ee4 \u4e4b \u6267\u884c\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f","text":"<p>\u4e4b\u524d\u8bf4shell\u5185\u5efa\u7684\u7a0b\u5e8f\u548c\u7cfb\u7edf\u7684\u5927\u591a\u6570\u4e8c\u8fdb\u5236\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u8ba9<code>shell</code>\u5e2e\u6211\u4eec\u6267\u884c\u3002\u4f46\u662f\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f<code>shell</code>\u662f<code>\u4e0d\u8ba4\u8bc6</code>\u7684</p> <p>\u4f46\u662f\u4f60\u4ecd\u7136\u53ef\u4ee5\u5207\u6362\u5230\u76f8\u5e94\u7684\u76ee\u5f55\uff0c\u7136\u540e\u7528<code>./&lt;your_execFile&gt;</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_12","title":"\u8865\u5145\uff1a\u73af\u5883\u53d8\u91cf","text":""},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_13","title":"\u5f15\u8a00","text":"<p>\u6211\u4eec\u4e4b\u524d\u91c7\u7528\u4e86\u51e0\u79cd\u65b9\u6cd5\u6765\u7b80\u5316\u7ec8\u7aef\u6572\u547d\u4ee4\u7684\u957f\u5ea6\uff1a</p> <p>\u6700\u5f00\u59cb\u8bf4\u7684\u662f\uff1a<code>shell</code>\u8ba4\u8bc6\u4f60\u7ed9\u5b83\u7684\u547d\u4ee4\uff08\u5355\u8bcd\uff09\uff0c\u6240\u4ee5\u5b83\u5c31\u5e2e\u4f60\u7528\u8fd9\u4e2a\u547d\u4ee4\uff08\u5355\u8bcd\uff09\u627e\u5230\u4f60\u9700\u8981\u6267\u884c\u7684\u7a0b\u5e8f\uff0c\u7136\u540e\u6267\u884c\u8fd9\u4e2a\u7a0b\u5e8f</p> <p>\u540e\u6765\u8fd8\u8bb2\u8fc7\u4e00\u79cd\uff1a\u56e0\u4e3a<code>shell</code>\u81ea\u8eab\u6709\u4e00\u4e2a<code>\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55</code>\uff0c\u6240\u4ee5\u5173\u4e8e\u8def\u5f84\u7684\u4e1c\u897f\u90fd\u53ef\u4ee5\u5199\u76f8\u5bf9\u8def\u5f84\u3002\u901a\u8fc7<code>cd</code>\u547d\u4ee4<code>cd</code>\u5230\u67d0\u4e2a\u76ee\u5f55\u4e4b\u540e\uff0c\u63a5\u4e0b\u6765\u9700\u8981\u8def\u5f84\u7684\u547d\u4ee4\u90fd\u53ef\u4ee5\u7701\u7565\u6389\u7edd\u5bf9\u8def\u5f84\u800c\u4f7f\u7528\u76f8\u5bf9\u8def\u5f84\u3002</p> <p>\u7b2c\u4e8c\u79cd\u7684\u539f\u7406\u5df2\u7ecf\u5f88\u6e05\u695a\u3002\u4f46\u662f\uff0c\u7b2c\u4e00\u79cd\uff0c\u4e5f\u5c31\u662f\u6700\u5148\u8bf4\u7684\u90a3\u4e00\u79cd\uff0c<code>shell</code>\u662f\u600e\u4e48\u8ba4\u8bc6\u6211\u4eec\u7ed9\u5b83\u7684\u5355\u8bcd\u5462\uff1f\uff1f\uff1f</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u7b80\u5355\u8bf4\u4e00\u4e0b\u8fd9\u4e2a\u4e8b\u60c5\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_14","title":"\u73af\u5883\u53d8\u91cf","text":"<p>\u67e5\u770b\u73af\u5883\u53d8\u91cf</p> <pre><code>echo $PATH\n</code></pre> <p>\u5176\u4e2d\u5192\u53f7\u662f\u5206\u9694\u7b26\u3002\u5f53\u4f60\u7ed9<code>shell</code>\u6254\u4e86\u4e00\u4e2a\u547d\u4ee4\u4e4b\u540e\uff0c<code>shell</code>\u5148\u5728\u81ea\u5df1\u7684\u5185\u5efa\u7a0b\u5e8f\u4e2d\u627e\u6709\u6ca1\u6709\u8fd9\u4e2a\u5355\u8bcd\uff0c\u6ca1\u627e\u5230\u518d\u5230\u73af\u5883\u53d8\u91cf\u53bb\u627e\u3002 \uff08\u56de\u987e<code>where</code>\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_15","title":"\u4e3a\u4ec0\u4e48\u8981\u7528\u73af\u5883\u53d8\u91cf\u5462\uff1f","text":"<p>\u56e0\u4e3a\u4e00\u4e2a\u76f8\u540c\u7684\u7a0b\u5e8f\uff0c\u5728\u4e0d\u540c\u7684\u8ba1\u7b97\u673a\u4e0a\u53ef\u80fd\u5b89\u88c5\u5728\u4e0d\u540c\u7684\u4f4d\u7f6e\u3002</p> <p>\u6bd4\u5982\u6211\u5199\u4e86\u4e00\u4e2a<code>python</code>\u811a\u672c\uff0c\u5728\u811a\u672c\u7684\u7b2c\u4e00\u884c\u6307\u51fa\u4e86\u6211\u7535\u8111\u91cc\u9762\u7684<code>python</code>\u8def\u5f84\u3002\u7136\u540e\u4f60\u770b\u4e86\u8fd9\u4e2a\u811a\u672c\uff0c\u89c9\u5f97\u633a\u597d\u7528\u7684\uff0c\u6211\u5c31\u590d\u5236\u4e86\u4e00\u4efd\u7ed9\u4f60\u3002\u7ed3\u679c\u4f60\u7684\u7535\u8111\u4e0a<code>python</code>\u5e76\u6ca1\u6709\u88c5\u5728\u90a3\u91cc\uff0c\u90a3\u4e0d\u5c31\u51c9\u4e86\u5417\uff1f\u4f60\u6267\u884c\u8fd9\u4e2a\u6211\u5199\u7684\u811a\u672c\u7684\u65f6\u5019\u7cfb\u7edf\u5c31\u627e\u4e0d\u5230<code>python</code>\u7684\u89e3\u91ca\u5668\u4e8e\u662f\u65e0\u6cd5\u8fd0\u884c\u8fd9\u6bb5\u811a\u672c\u3002</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_16","title":"\u8865\u5145\uff1a\u6dfb\u52a0\u73af\u5883\u53d8\u91cf","text":"<p>\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u7b49\uff08\u5927\u5bb6\u53ef\u4ee5\u81ea\u5df1\u53bb\u4e86\u89e3\u4e00\u4e0b\uff0c\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f\u53ef\u4ee5\u8fd9\u4e48\u641e\uff0c\u4f46\u4e00\u822c\u90fd\u4e0d\u8fd9\u4e48\u641e\u3002\u4e0d\u8fc7\u4f60\u8981\u662f\u4e0b\u4e2a<code>python</code>\u89e3\u91ca\u5668\uff0c\u8fd9\u4e2a\u65f6\u5019\u4f60\u5c31\u8981\u7ed9<code>python</code>\u7684\u89e3\u91ca\u5668\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u4e86\uff0c\u56e0\u4e3a\u5f88\u591a\u522b\u7684\u8f6f\u4ef6\u90fd\u4f1a\u7528\u5230<code>python</code>\uff0c\u8fd9\u4e9b\u8f6f\u4ef6\u5e0c\u671b\u5b83\u4eec\u7528\u4e00\u4e2a\u5355\u8bcd<code>python</code>\u5c31\u80fd\u627e\u5230<code>python</code>\u7684\u89e3\u91ca\u5668\u3002\uff08\u5728<code>macOS</code>\u4e0a\u8fd9\u4ef6\u4e8b\u60c5\u4ea4\u7ed9<code>brew</code>\u53bb\u505a\uff0c\u4e0d\u7528\u4f60\u624b\u52a8\u6dfb\u52a0\uff1b\u4f46\u662f<code>Windows</code>\u4e0a\u53ef\u80fd\u4f60\u5c31\u8981\u624b\u52a8\u6dfb\u52a0\u73af\u5883\u53d8\u91cf\u4e86\uff09\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_17","title":"\u5176\u4ed6\u7684\u5de5\u5177","text":""},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#shell-","title":"shell\u811a\u672c - \u7ec4\u5408\u4f60\u7684\u547d\u4ee4","text":"<p><code>shell</code>\u811a\u672c\uff08\u4ee5\u6211\u5199\u7684\u5904\u7406\u89c6\u9891\u7684\u811a\u672c\u4e3a\u4f8b\uff1a\u811a\u672c\u662f\u4e00\u6bb5\u4ee3\u7801\uff0c\u7ec4\u5408\u4e86\u5f88\u591a\u547d\u4ee4mkv2mp4_fcp\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#homebrew-macos","title":"homebrew - macOS\u5feb\u901f\u5b89\u88c5\u547d\u4ee4\u884c\u7a0b\u5e8f","text":"<p><code>homebrew</code>\uff08\u5728\u54ea\u91cc\u4e0b\u8f7d\u56fe\u5f62\u5316\u754c\u9762\u7684\u7a0b\u5e8f\uff1f<code>App Store</code>\u3002\u90a3\u4e48\u5728\u54ea\u91cc\u4e0b\u8f7d\u547d\u4ee4\u884c\u7a0b\u5e8f\u5462\uff1f\u5f53\u7136\u662f\u2026<code>Homebrew</code>\u3002\u5c31\u662f\u4e00\u4e2a\u540d\u5b57\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7Homebrew\u6765\u5b89\u88c5\u5404\u79cd\u547d\u4ee4\u884c\u5de5\u5177\u5e76\u8fdb\u884c\u4f7f\u7528\uff08\u8865\u5145\uff1a<code>brew</code>\u4e5f\u53ef\u4ee5\u7528\u6765\u5b89\u88c5\u4e00\u4e9b\u56fe\u5f62\u5316\u5de5\u5177\uff09brew\u5b98\u7f51\uff09\u5982\u679c\u6709\u673a\u4f1a\u6211\u4f1a\u51fa\u540e\u7eed\u7684\u6559\u7a0b</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#zsh","title":"zsh\u914d\u7f6e\u6587\u4ef6","text":"<p><code>~/.zshrc</code></p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#-","title":"\u914d\u7f6e\u7ec8\u7aef - \u6253\u9020\u8212\u9002\u7ec8\u7aef","text":"<p>\u7ec8\u7aef\u914d\u7f6e(\uff08\u62ff\u6211\u81ea\u5df1\u7684\u7535\u8111\u8bf4\u4e00\u4e0b\u4e8b\u513f\uff09\uff08\u7ed9\u51fa\u94fe\u63a5\u5927\u5bb6\u81ea\u5df1\u60f3\u914d\u53ef\u4ee5\u914d\u7f6e\u4e00\u4e0b\uff09\u5982\u4f55\u914d\u7f6e\u5f88\u6f02\u4eae\u7684\u7ec8\u7aef\uff09</p> <p></p> <p>\u53ef\u4ee5\u53c2\u8003\uff1a</p> <p>iTerm2 + Oh My Zsh \u6253\u9020\u8212\u9002\u7ec8\u7aef\u4f53\u9a8c</p> <p>Mac OS \u7ec8\u7aef\u5229\u5668 iTerm2</p> <p>\u5982\u679c\u6709\u673a\u4f1a\u6211\u4f1a\u51fa\u540e\u7eed\u7684\u6559\u7a0b</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_18","title":"\u7528\u6237\u4e0e\u7fa4\u7ec4","text":"<p>\u7528\u6237<code>yxj</code>\u548c<code>sudo</code> <code>root</code>\uff08<code>whoami</code> <code>who</code>\u7b49\uff08\u7cfb\u7edf\u504f\u597d\u8bbe\u7f6e\u7684\u5207\u6362\u7528\u6237\uff08\u4e0d\u8fc7\u770b\u6211\u89c6\u9891\u6559\u7a0b\u7684\u4eba\u5e94\u8be5\u90fd\u662f\u7528\u81ea\u5df1\u7684<code>mac</code>\uff0c\u6240\u4ee5\u4e0d\u4f1a\u7275\u626f\u5230\u8fd9\u4e2a\u95ee\u9898\u3002\u5982\u679c\u4f60\u662f<code>Linux</code>\u670d\u52a1\u5668\u7ba1\u7406\u5458\uff0c\u90a3\u4e48\u53ef\u80fd\u8981\u8bbe\u7f6e\u591a\u4e2a\u7528\u6237\u4e86\u3002\uff09\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#shell_3","title":"\u67e5\u770b\u6240\u6709\u7684shell\u5185\u5efa\u547d\u4ee4","text":"<p><code>man builtins</code>\u53ef\u4ee5\u67e5\u770bshell\u7684\u6240\u6709\u5185\u5efa\u547d\u4ee4</p> <p></p> <p><code>man zshbuiltins</code>\u53ef\u4ee5\u67e5\u770b\u5230zsh\u7684\u6240\u6709\u5185\u5efa\u547d\u4ee4\u3002\uff08\u4e5f\u53ef\u4ee5\u5148<code>man zsh</code>\uff0c\u7136\u540e\u5728\u4e0b\u65b9\u627e\u5230\u8fd9\u4e2a<code>zshbuiltins</code>\uff09</p>"},{"location":"LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/#_19","title":"\u7ed3\u675f","text":"<p>\u5927\u5bb6\u4f30\u8ba1\u542c\u5b8c\u8fd9\u56db\u8282\u8bfe\u90fd\u7740\u6025\u4e86\uff0c\u600e\u4e48\u8fd8\u6ca1\u89c1\u5230<code>VS Code</code>\u7684\u5f71\u5b50\u5462\uff1f</p> <p>\u522b\u6025\uff0c\u73b0\u5728\u4f60\u5df2\u7ecf\u6709\u4e86\u8db3\u591f\u7684\u57fa\u7840\u53ef\u4ee5\u542c\u61c2\u6211\u63a5\u4e0b\u6765\u5728\u8bb2\u4ec0\u4e48\uff0c\u90a3\u6211\u4eec\u5c31\u5f00\u59cb\u6253\u5f00<code>VS Code</code>\u7684\u5927\u95e8\u5427\uff01\uff01\uff01</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 5 \u5f00\u542fVSCode\u7684\u5927\u95e8","text":"<p>\uff08\u56e0\u4e3a\u8fd9\u4e00\u8bfe\u5185\u5bb9\u6bd4\u8f83\u591a\uff0c\u53ef\u80fd\u4f1a\u5206\u4e3a\u4e0a\u4e0b\u4e24\u90e8\u5206\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_1","title":"\u7528\u7ec8\u7aef\u5199\u4ee3\u7801","text":"<p>\u9996\u5148\u6211\u4eec\u8981\u5199\u4ee3\u7801\uff0c\u7136\u540e\u5c06\u5176\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002\u8fd9\u6837\u6211\u4eec\u7684\u4ee3\u7801\u5c31\u53ef\u4ee5\u5728\u7535\u8111\u4e0a\u8dd1\u8d77\u6765\u3002</p> <p>\u7b2c\u4e00\u6b21\u8fdb\u884c\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u6211\u4eec\u8fd8\u662f\u7528\u539f\u59cb\u7684\u65b9\u6cd5\uff08\u7528\u7ec8\u7aef\uff09\u6765\u505a\uff1b\u4e4b\u540e\u518d\u7528<code>VS Code</code>\u53bb\u7b80\u5316\u8fd9\u4e2a\u6d41\u7a0b</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_2","title":"\u5199\u4ee3\u7801","text":"<p>\uff08\u6211\u4eec\u5c3d\u53ef\u80fd\u7528\u7ec8\u7aef\u548c\u547d\u4ee4\u6765\u8fdb\u884c\u64cd\u4f5c\uff0c\u9010\u6e10\u719f\u7ec3\u8fd9\u4e9b\u4e1c\u897f\u4e4b\u540e\u4f60\u4f1a\u53d1\u73b0\u8fd9\u6bd4\u9f20\u6807\u70b9\u51fb/\u5207\u6362\u6765\u5207\u6362\u53bb\u8981\u5feb/\u65b9\u4fbf\u5f88\u591a\uff09</p> <p><code>cd</code>\u5230\u684c\u9762<code>mkdir Cpp</code>\uff0c<code>cd</code>\u8fdb\u53bb\u3002\u6ce8\u610f\uff1a\u5173\u4e8e\u7f16\u7a0b\u7684\u4efb\u4f55\u8def\u5f84\u5c3d\u91cf\u4e0d\u8981\u51fa\u73b0\u7a7a\u683c\uff0c\u8fd9\u662f\u56e0\u4e3ashell\u5728\u89e3\u6790\u4f60\u7684\u547d\u4ee4\u65f6\u4f1a\u7528\u7a7a\u683c\u9694\u5f00\u5404\u79cd\u53c2\u6570\uff0c\u5982\u679c\u4f60\u7684\u8def\u5f84\u4e2d\u6709\u7a7a\u683c\uff0c\u540c\u65f6\u4f60\u53c8\u5904\u7406\u4e0d\u5f97\u5f53\uff0cshell\u53ef\u80fd\u4f1a\u5c06\u5176\u5206\u4e3a\u4e24\u90e8\u5206\u3002\u8fd9\u91cc\u6211\u63a8\u8350\u5927\u5bb6\u5728\u65b0\u5efa\u6587\u4ef6\u5939\u65f6\u6216\u7ed9\u6587\u4ef6\u8d77\u540d\u5b57\u7684\u65f6\u5019\u90fd\u4e0d\u5e26\u7a7a\u683c\uff0c\u6216\u8005\u5c06\u7a7a\u683c\u6539\u4e3a\u4e0b\u5212\u7ebf<code>_</code>\uff0c\u8fd9\u6837\u80fd\u6709\u6548\u907f\u514d\u4e00\u4e9b\u9519\u8bef\u3002</p> <p><code>touch``hello.cpp</code>\u3001<code>vim</code>\u6253\u5f00\u7f16\u8f91\uff08\u5982\u679c\u4f60\u4e0d\u719f\u6089<code>vim</code>\u90a3\u8fd8\u662f\u76f4\u63a5\u53cc\u51fb\u7528\u6587\u672c\u7f16\u8f91\u5668\uff08<code>open hello.cpp</code>\uff08\u5982\u679c<code>open</code>\u6253\u5f00\u4e86\u522b\u7684\u5e94\u7528\uff0c\u2318I\u66f4\u6539\u8bbe\u7f6e\uff1b\u6216\u8005<code>open hello.cpp -a textedit.app</code>\uff09\uff09\u5427\u3001\u6211\u8fd9\u91cc\u53ea\u662f\u7528<code>vim</code>\u6f14\u793a\u4e00\u4e0b\uff0c\u548c\u7528macOS\u81ea\u5e26\u7684\u6587\u672c\u7f16\u8f91\u5668\u5199\u662f\u4e00\u6837\u7684\uff09\u3001\u4fdd\u5b58\u9000\u51fa</p> <pre><code>#include&lt;cstdio&gt;\n\nint main(){\n  char name[100];\n  printf(\"Please input your name: \");\n  scanf(\"%s\", name);\n  printf(\"Hello, %s\", name);\n}\n</code></pre> <p>\u63a5\u4e0b\u6765\u662f\u628a\u4ee3\u7801\u6587\u4ef6\u7f16\u8bd1\u6210\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#g","title":"g++\u7f16\u8bd1","text":"<p>\u7528\u4ec0\u4e48\u6765\u7f16\u8bd1\u4ee3\u7801\u5462\uff1f\u5f53\u7136\u662f\u7528\u7a0b\u5e8f\u4e86\u3002<code>/bin/date</code>\u53ef\u4ee5\u663e\u793a\u5f53\u524d\u7684\u65f6\u95f4\uff0c<code>/bin/mkdir</code>\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u7a7a\u6587\u4ef6\u5939\uff1b\u90a3\u4ec0\u4e48\u7a0b\u5e8f\u80fd\u5c06<code>cpp</code>\u4ee3\u7801\u7f16\u8bd1\u4e3a\u6211\u4eec\u60f3\u8981\u7684\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6/\u7a0b\u5e8f\u5462\uff1f</p> <p><code>g++</code>\u3002\u662f\u7684\uff0c\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u540d\u5b57\u5c31\u662f<code>g++</code>\uff0c\u5b83\u7684\u529f\u80fd\u662f\uff1a\u5c06<code>cpp</code>\u4ee3\u7801\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u6ce8\uff1a\u4e0d\u8fc7\u521a\u521a\u4e00\u76f4\u5728\u8bf4\u7f16\u8bd1\uff0c\u4ec0\u4e48\u662f\u7f16\u8bd1\uff1f\u7b80\u5355\u6765\u8bf4\uff0c\u4f60\u5199\u7684\u540e\u7f00\u4e3a<code>.cpp</code>\u7684\u6587\u4ef6\u662f\u6587\u672c\u6587\u4ef6\uff0c\u91cc\u9762\u53ef\u80fd\u8fd8\u5f15\u7528\u4e86\u4e00\u4e9b\u5934\u6587\u4ef6\uff08\u4e5f\u662f\u4ee3\u7801\u6587\u4ef6\u3001\u6587\u672c\u6587\u4ef6\uff09\uff1b\u7f16\u8bd1\u5c31\u662f\u5c06\u8fd9\u4e9b\u4e1c\u897f\u94fe\u63a5\u8d77\u6765\uff0c\u8f6c\u6362\u4e3a\u4e00\u5806\u673a\u5668\u7801\u4f7f\u5f97\u7535\u8111\u786c\u4ef6\u53ef\u4ee5\u76f4\u63a5\u6267\u884c\u3002\uff08\u6ce8\uff1a\u8fd9\u91cc\u8bf4\u7684\u7f16\u8bd1\u4e25\u683c\u4e00\u4e9b\u5e94\u8be5\u6307\u7f16\u8bd1\u94fe\u63a5\uff1b\u66f4\u4e25\u683c\u7684\u8fc7\u7a0b\u653e\u5728\u672c\u8bfe\u6700\u540e\u4e86\uff09</p> <p>\u6ce8\uff1a\u5982\u679c\u5bf9\u7f16\u8bd1\u5668\u4e0d\u611f\u5174\u8da3\uff0c\u4f60\u53ea\u9700\u8981\u77e5\u9053\uff1a<code>g++</code>\u5c06cpp\u4ee3\u7801\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6 \u8fd9\u70b9\u5c31\u591f\u4e86\u3002\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u8fd9\u8282\u8bfe\u8bb2\u7a3f\u6700\u540e\u7684\u8865\u5145\u8d44\u6599\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_3","title":"\u4e0b\u8f7d\u5fc5\u8981\u7684\u547d\u4ee4\u884c\u5de5\u5177","text":"<p>\u90a3\u4e48\u5728\u54ea\u91cc\u4e0b\u8f7d<code>g++</code>\u8fd9\u4e2a\u7a0b\u5e8f\u5462\uff1f</p> <p>\u82f9\u679c\u7684\u5f00\u53d1\u96c6\u6210\u5de5\u5177\u662f<code>Xcode.app</code>\uff0c\u5176\u4e2d\u5c31\u5e26\u7740\u4e00\u5806\u7684\u547d\u4ee4\u884c\u5de5\u5177\uff0c\u90a3\u4e48\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u5728<code>App Store</code>\u4e0b\u8f7d<code>Xcode.app</code>\u3002\u4e0d\u8fc7\u4f60\u6253\u5f00\u4e00\u770b\uff0c12G\uff01\uff01\u592a\u5927\u4e86\u5427\u3002\u5982\u679c\u4f60\u4e0d\u4ece\u4e8b\u82f9\u679c\u5e73\u53f0\u7684\u8f6f\u4ef6\u5f00\u53d1\uff0c\u53ea\u662f\u4e3a\u4e86\u4e00\u4e2a<code>g++</code>\uff08\u53ef\u80fd\u4e5f\u5c311\u30012MB\uff09\u4e0b\u8f7d<code>Xcode</code>\u8fd9\u4e48\u5927\u7684\u4e1c\u897f\u5360\u7535\u8111\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u5b9e\u5728\u5212\u4e0d\u6765\u3002\u90a3\u600e\u4e48\u529e\u5462\uff1f</p> <p>\uff08\u76f4\u63a5\u5728<code>App Store</code>\u4e0b\u8f7d<code>Xcode</code>\uff09</p> <p></p> <p>\u82f9\u679c\u4e5f\u8003\u8651\u4e86\u8fd9\u79cd\u60c5\u51b5\uff0c\u6240\u4ee5\u5728\u82f9\u679c\u5b98\u65b9\u5f00\u53d1\u8005\u7684\u7f51\u7ad9\u4e0a\u4f1a\u6709\u5355\u72ec\u7684\u547d\u4ee4\u884c\u5de5\u5177\u7684\u4e0b\u8f7d\u3002\u8fd9\u4e2a\u5927\u5c0f\u53ea\u6709\u5927\u6982<code>400MB</code>\uff0c\u8fd8\u7b97\u6bd4\u8f83\u5c0f\uff08\u4e0d\u8fc7\u5176\u5b9e\u88c5\u597d\u9700\u89812.5G\u5de6\u53f3\u7684\u7a7a\u95f4\uff0c\u8fd9\u4e2a\u786e\u5b9e\u65e0\u6cd5\u907f\u514d\u5566\uff09</p> <pre><code>The Command Line Tools enable UNIX-style development via Terminal by installing command line developer tools, as well as macOS SDK frameworks and headers. Many useful tools are included, such as the Apple LLVM compiler, linker, and Make. If you use Xcode, these tools are also embedded within the Xcode IDE.\n</code></pre> <p>\u5728\u82f9\u679c\u5f00\u53d1\u8005\u7f51\u7ad9\u4e0b\u8f7dCommand Line Tool</p> <p></p> <p>\u6ce8\uff1a\u5176\u5b9e\u4e5f\u53ef\u4ee5\u5148\u5c1d\u8bd5<code>g++ --version</code>\uff0c\u7136\u540e\u7ec8\u7aef\u5f39\u51fa\u63d0\u793a\u8bf4\u8981\u4e0b\u8f7d<code>g++</code>\u3002\u4f46\u662f\u7531\u4e8e\u7f51\u7edc\u539f\u56e0\uff0c\u6211\u63a8\u8350\u5927\u5bb6\u76f4\u63a5\u5b89\u88c5<code>Command Line Tools</code>\uff0c\u4e4b\u540e\u5728\u8c03\u8bd5<code>Cpp</code>\u4ee3\u7801\u7684\u65f6\u5019\u4e5f\u4f1a\u7528\u5230\u3002\uff08\u5728\u4f60\u4f7f\u7528<code>MATLAB</code>\u7684\u65f6\u5019\u4e5f\u4f1a\u9700\u8981\u5b89\u88c5<code>Command Line Tools</code>\u54e6\uff0c\u6240\u4ee5\u73b0\u5728\u5c31\u88c5\u4e86\u5427\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_4","title":"\u7b2c\u4e00\u6b21\u7f16\u8bd1\u548c\u6267\u884c","text":"<p>\u5b89\u88c5\u597d\u540e\uff0c\u6211\u4eec\u76f4\u63a5\u7f16\u8bd1\u5c31\u597d\u4e86\u3002\u53ef\u4ee5\u5148\u6267\u884c<code>which g++</code>\u770b\u770b<code>shell</code>\u600e\u4e48\u89e3\u6790\u8fd9\u6761\u547d\u4ee4\uff0c\u53d1\u73b0\u8fd4\u56de\u4e86\u4e00\u4e2a\u8def\u5f84<code>/usr/bin/g++</code>\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u867d\u7136<code>g++</code>\u8fd9\u4e2a\u7a0b\u5e8f\u5728<code>/usr/bin/g++</code>\uff0c\u4f46\u4f60\u7528\u4e00\u4e2a\u5355\u8bcd/\u547d\u4ee4\u544a\u8bc9\u7ec8\u7aef\u7ec8\u7aef\u5c31\u4f1a\u77e5\u9053\u4f60\u8981\u6267\u884c\u7684\u7a0b\u5e8f\u5728\u8fd9\u91cc\uff08\u4e0e\u73af\u5883\u53d8\u91cf\u76f8\u5173\uff0c<code>/usr/bin</code>\u5728\u73af\u5883\u53d8\u91cf\u4e2d\uff09</p> <p>\u7f16\u8bd1\uff1a\u6267\u884c\uff1a</p> <pre><code>g++ hello_word.cpp\n</code></pre> <p><code>ls</code>\u53d1\u73b0\u76ee\u5f55\u4e0b\u591a\u4e86\u4e00\u4e2a<code>a.out</code>\u6587\u4ef6\u3002\u8fd9\u4e2a\u6587\u4ef6\u5c31\u662f\u6211\u4eec\u9700\u8981\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u6267\u884c\uff1a\u7edd\u5bf9\u8def\u5f84\uff08\u62d6\u79fb\u3001\u2325\u590d\u5236\u8def\u5f84\u3001\u2318\u2325C\u590d\u5236\u8def\u5f84\u3001\u6839\u636e\u8def\u5f84\u680f\u81ea\u5df1\u5199\u8def\u5f84\uff09\uff1b\u76f8\u5bf9\u8def\u5f84\uff1a\u4e0d\u80fd\u76f4\u63a5<code>a.out</code>\uff08\u56e0\u4e3ashell\u89c9\u5f97\u8fd9\u662f\u4e2a\u547d\u4ee4\u4f46\u662f\u5b83\u53c8\u4e0d\u8ba4\u8bc6\uff09\uff0c\u9700\u8981<code>./a.out</code></p> <pre><code>% ls       \nhello.cpp\n\n% g++ hello.cpp \n\n% ls\na.out       hello.cpp\n\n% a.out\nzsh: command not found: a.out\n\n% ./a.out\nPlease input your name: yxj\nHello, yxj% \n</code></pre>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#aout","title":"\u7ed9a.out\u6539\u4e2a\u540d\u5b57","text":"<p>\u7ed9<code>g++</code>\u6dfb\u52a0<code>-o</code>\u53c2\u6570</p> <pre><code>g++ hello.cpp -o hello.out\n./hello.out\n</code></pre> <pre><code>g++ hello.cpp -o hello\n./hello\n</code></pre> <p></p> <p>\u89c2\u5bdf\u56fe\u6807\uff0c\u53d1\u73b0\u7cfb\u7edf\u89c9\u5f97<code>hello</code>\u662f\u4e8c\u8fdb\u5236\u6587\u4ef6\uff0c\u4f46\u662f<code>hello.out</code>\u4e0d\u662f\u3002\u8fd9\u5c31\u8981\u8bf4\u5230\u6211\u4eec\u4e4b\u524d\u63d0\u5230\u7684\u6587\u4ef6\u540e\u7f00\u540d\u7684\u4e8b\u60c5\u4e86\u3002\u6587\u4ef6\u7684\u540e\u7f00\u540d\u662f\u6587\u4ef6\u540d\u7684\u4e00\u90e8\u5206\uff0c\u53ef\u6709\u53ef\u65e0\uff0c\u4f46\u8fd9\u4e2a\u540e\u7f00\u540d\u4f1a\u544a\u8bc9\u7cfb\u7edf\u5b83\u7528\u4ec0\u4e48\u5e94\u7528\u7a0b\u5e8f\u53bb\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\u3002\u53cc\u51fb<code>hello</code>\u53d1\u73b0\u7cfb\u7edf\u6253\u5f00\u4e86\u7ec8\u7aef\uff0c\u4f46\u662f\u53cc\u51fb<code>hello.out</code>\u53d1\u73b0\u7cfb\u7edf\u5e76\u4e0d\u77e5\u9053\u600e\u4e48\u6253\u5f00\u8fd9\u4e2a\u6587\u4ef6\uff08\u5176\u5b9e\u8fd9\u4e2a<code>.out</code>\u76f8\u5f53\u4e8e<code>Windows</code>\u91cc\u9762\u7684\u53ef\u6267\u884c\u6587\u4ef6<code>.exe</code>\uff09</p> <p>\u5927\u5bb6\u7528<code>Cpp</code>\u4ee3\u7801\u751f\u6210\u53ef\u6267\u884c\u6587\u4ef6\u7684\u65f6\u5019\uff0c\u6587\u4ef6\u540d\u5e26\u4e0d\u5e26\u540e\u7f00\u90fd\u53ef\u4ee5\uff08\u4e0d\u5e26\u662f\u56e0\u4e3a<code>macOS</code>\u4e2d\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u672c\u8eab\u5c31\u4e0d\u5e26\u540e\u7f00\uff09\u3002\u5982\u679c\u8981\u5e26\uff0c\u4f60\u5c31\u7528\u9ed8\u8ba4\u7684<code>.out</code>\uff0c\u522b\u7528\u522b\u7684\uff08\u4e3e\u4f8b\uff1a\u4f60\u6539\u6210<code>exe</code>\u540e\u7f00\uff0c\u7528<code>./hello.exe</code>\u7684\u8bdd\uff0cshell\u4e5f\u4f1a\u628a\u8fd9\u4e2a\u6587\u4ef6\u5f53\u4f5c\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u4f46\u6bd5\u7adf<code>.exe</code>\u662f<code>Windows</code>\u7cfb\u7edf\u7684\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540e\u7f00\uff0c\u8fd9\u4e48\u7528\u4e4b\u540e\u53ef\u80fd\u4f1a\u9020\u6210\u6df7\u6dc6\uff0c\u6240\u4ee5\u5c31\u7528\u9ed8\u8ba4\u7684\uff09\u3002</p> <p>\u6211\u4eec\u5728\u540e\u9762\u5bf9\u4e8e\u7528<code>g++</code>\u7f16\u8bd1\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u90fd\u4f1a\u5e26\u4e0a<code>.out</code>\u540e\u7f00\uff0c\u5230\u540e\u9762\u4f7f\u7528<code>VS Code</code>\u7684\u65f6\u5019\u4f60\u5c31\u77e5\u9053\u539f\u56e0\u4e86\u3002\u63a8\u8350\u5927\u5bb6\u4e5f\u5c06<code>Cpp</code>\u4ee3\u7801\u7f16\u8bd1\u51fa\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u5e26\u4e0a<code>.out</code>\u540e\u7f00</p> <p>\u8fd9\u91cc\u5173\u4e8e\u540e\u7f00\u540d\u8bf4\u7684\u6bd4\u8f83\u591a\uff0c\u662f\u56e0\u4e3a\u6211\u53d1\u73b0\u5f88\u591a\u540c\u5b66\u90fd\u4e0d\u77e5\u9053\u540e\u7f00\u540d\u7684\u542b\u4e49\uff0c\u603b\u662f\u6709\u540c\u5b66\u95ee\u6211\u80fd\u4e0d\u80fd\u5728macOS\u4e0a\u76f4\u63a5\u6253\u5f00<code>.exe</code>\u7684\u7a0b\u5e8f\uff0c\u5f53\u7136\u4e0d\u884c\uff0c\u6570\u636e\u7684\u7ec4\u7ec7\u65b9\u5f0f\u4e0d\u4e00\u6837\uff0c\u4e24\u4e2a\u6587\u4ef6\u7684\u6027\u8d28\u5c31\u4e0d\u4e00\u6837\u3002\u80fd\u4e0d\u80fd\u76f4\u63a5\u628a<code>.docx</code>\u540e\u7f00\u7684\u6587\u4ef6\u76f4\u63a5\u6539\u6210<code>.pdf</code>\u8f6c\u6210<code>pdf</code>\uff0c\u540e\u7f00\u540d\u51b3\u5b9a\u4e86\u7cfb\u7edf\u7528\u4ec0\u4e48\u5e94\u7528\u7a0b\u5e8f\u6253\u5f00\u6587\u4ef6\uff0c\u4f60\u6539\u540e\u7f00\u7684\u8bdd\u53ea\u4f1a\u8ba9\u53e6\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u6253\u4e0d\u5f00\u539f\u672c\u7684\u6587\u4ef6\uff1b\u6b63\u786e\u7684\u505a\u6cd5\u662f\u7528\u4e13\u95e8\u7684\u5e94\u7528\u7a0b\u5e8f\u53bb\u8f6c\u6362\u6587\u4ef6\u5185\u90e8\u7684\u6570\u636e\u7ec4\u7ec7\u65b9\u5f0f\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u66f4\u6539\u540e\u7f00\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_5","title":"\u5410\u69fd\u4e0d\u723d\u7684\u5730\u65b9","text":"<p>\u7b2c\u4e00\u6b21\u5199\u4ee3\u7801\u7f16\u8bd1\u5c31\u7ed3\u675f\u4e86\uff0c\u5927\u6982\u662f\uff1a\u6253\u5f00\u7ec8\u7aef\uff0c\u5199\u4ee3\u7801\uff0c<code>g++</code>\u7f16\u8bd1\u3002\u6574\u4e2a\u8fc7\u7a0b\u8fd8\u7b97\u7b80\u5355\u3002</p> <p>\u4f46\u662f\u6709\u53ef\u4ee5\u5410\u69fd\u7684\u5730\u65b9\u3002\u6bd4\u5982\u6587\u672c\u7f16\u8f91\u5668\u4f1a\u81ea\u52a8\u7ed9\u6211\u5927\u5199\u3001\u6587\u672c\u7f16\u8f91\u5668\u6ca1\u6709\u9ad8\u4eae\u663e\u793a\uff0c\u5199\u4ee3\u7801\u5c31\u771f\u7684\u53ea\u662f\u9ed1\u767d\u7684\u592a\u96be\u770b\u4e86\u3001\u800c\u4e14\u6211\u9700\u8981\u4e0d\u65ad\u5728\u7ec8\u7aef\u548c\u6587\u672c\u7f16\u8f91\u4e4b\u95f4\u6765\u56de\u5207\u6362\uff0c\u8fd9\u4f53\u9a8c\u786e\u5b9e\u6709\u70b9\u4e0d\u723d\u554a\u3002<code>vim</code>\u7684\u66f4\u6539\u4fdd\u5b58\u9000\u51fa\u8fd9\u4e48\u590d\u6742\u2026\u2026\u6709\u6ca1\u6709\u4f18\u96c5\u4e00\u70b9\u7684\u65b9\u5f0f\u5462\uff1f\uff1f\uff1f\u5f53\u7136\u2026\u6709\uff01</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#vs-code","title":"\u8ba4\u8bc6VS Code","text":"<p>\u90a3\u6211\u4eec\u5c31\u8981\u5f15\u51fa\u672c\u6b21\u6559\u7a0b\u7684\u4e3b\u89d2<code>VS Code</code>\u4e86\uff0c\u5168\u540d\u662f<code>Visual Studio Code.app</code>\u3002\u6211\u4eec\u5728\u5fae\u8f6fVSCode\u5b98\u7f51\u76f4\u63a5\u4e0b\u8f7dmacOS\u5e73\u53f0\u7684\u6700\u65b0\u7248\u672c\u5373\u53ef\uff08\u767e\u5ea6\u641c\u7d22\u7b2c\u4e00\u6761\u5c31\u662f\uff09</p> <p></p> <p>\u5728\u4e0b\u8f7d\u7684\u65f6\u5019\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u4e00\u4e0b<code>VS Code</code>\u3002\u8fd8\u8bb0\u5f97\u6211\u4eec\u521a\u521a\u7684\u6587\u672c\u7f16\u8f91\u5668\u5417\uff1f\u5c31\u662f\u53ef\u4ee5\u7528\u952e\u76d8\u628a\u5b57\u7b26\u6572\u4e0a\u53bb\uff0c\u7136\u540e\u5b83\u7ed9\u4f60\u5728\u5c4f\u5e55\u4e0a\u663e\u793a\u51fa\u6765\u7684\u90a3\u4e2a\u5e94\u7528\u7a0b\u5e8f\u3002\u5176\u5b9e<code>VS Code</code>\u4e5f\u5c31\u662f\u8fd9\u6837\u7684\u4e00\u6b3e\u7f16\u8f91\u5668\uff0c\u4f46\u662f\u5b83\u63d0\u4f9b\u7684\u4e1c\u897f\u66f4\u591a\uff1a\u4ee3\u7801\u8865\u5168\u3001\u4ee3\u7801\u63d0\u793a\u3001\u4ee3\u7801\u9ad8\u4eae\u3001\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u3001\u63d2\u4ef6\u7ba1\u7406\u3001\u81ea\u52a8\u5316\u6d41\u7a0b\uff0c\u5185\u7f6e\u7ee7\u627f\u7ec8\u7aef\uff08<code>Integrated Terminal</code>\uff09\u3001\u7248\u672c\u63a7\u5236\uff08<code>Git</code>\uff09\u3001\u8d44\u6e90\u7ba1\u7406\u3001\u8c03\u8bd5\u7a97\u53e3\u7b49\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#vs-code_1","title":"VS Code\u7684\u4f18\u70b9","text":"<p>\u8981\u8bf4VSCode\u76f8\u6bd4\u4e8e\u5176\u4ed6\u7684\u7f16\u8f91\u5668\u54ea\u91cc\u597d\uff1a</p> <ol> <li>\u5f00\u6e90\uff08\u7248\u672c\u8fed\u4ee3\u5feb\uff0c\u529f\u80fd\u9f50\u5168\uff09\uff1a\u5f00\u6e90\u610f\u5473\u7740\u4e0d\u662f\u4e00\u4e2a\u56e2\u961f\u5728\u5f00\u53d1\uff0c\u800c\u662f\u6240\u6709\u4f7f\u7528\u8005\u90fd\u53ef\u4ee5\u4e3a<code>VS Code</code>\u7684\u53d1\u5c55\u505a\u51fa\u4e00\u4e9b\u8d21\u732e</li> <li>\u8f7b\u91cf\uff08250MB\u5de6\u53f3\uff0c\u6bd4Xcode\u5c0f\u592a\u591a\u4e86\uff09</li> <li>\u51e0\u4e4e\u53ef\u4ee5\u7528\u6765\u7f16\u5199\u6240\u6709\u8bed\u8a00\u3001\u751a\u81f3\u53ef\u4ee5\u7528\u6765\u5199\u6587\u6863\uff1a\u6bd4\u5982\u6211\u4eec\u63a5\u4e0b\u6765\u5c31\u8981\u7528<code>VS Code</code>\u6765\u5199Cpp\u4ee3\u7801\uff1b\u5982\u679c\u4f60\u8981\u5b66<code>python</code>\uff0c\u90a3\u4e48\u4e5f\u53ef\u4ee5\u76f4\u63a5\u7528<code>VS Code</code>\uff1b\u5404\u79cd\u811a\u672c\u2026\u2026\u53ea\u8981\u5b89\u88c5\u4e86\u76f8\u5e94\u7684\u7684\u63d2\u4ef6\uff0c<code>VS Code</code>\u5c31\u80fd\u4e3a\u4f60\u63d0\u4f9b\u4f18\u96c5\u7684\u7f16\u8f91/\u6572\u4ee3\u7801\u4f53\u9a8c\u3002\u53e6\u5916\uff0c<code>VS Code</code>\u751a\u81f3\u53ef\u4ee5\u7528\u6765\u5199<code>markdown</code>\u3001\u5199<code>LaTeX</code>\u3002\u53ea\u8981\u662f\u5173\u4e8e\u6587\u672c\u7f16\u8f91/\u4ee3\u7801\u7f16\u8f91\uff0c<code>VS Code</code>\u90fd\u6709\u76f8\u5e94\u7684\u63d2\u4ef6\u53bb\u652f\u6301\u3002</li> <li>\u964d\u4f4e\u4e86\u7f16\u8f91\u5668\u7684\u5b66\u4e60\u6210\u672c\uff08\u4e0a\u4e00\u70b9\u7684\u597d\u5904\uff09\u3002\u4e0d\u9700\u8981\u4e0a\u624b\u4e0d\u540c\u7684\u7f16\u8f91\u5668\uff0c\u53ea\u9700\u8981\u638c\u63e1<code>VS Code</code>\u7684\u57fa\u672c\u7528\u6cd5\uff0c\u4ee5\u540e\u65b0\u5b66\u4e60\u7684\u8bed\u8a00\u90fd\u53ef\u4ee5\u7528<code>VS Code</code>\uff08\u9664\u4e86\u4e00\u4e9b\u5927\u578b\u5de5\u7a0b\uff1a\u4f60\u8981\u5f00\u53d1Windows\u8f6f\u4ef6\u90a3\u8fd8\u662f\u7528<code>Visual Studio</code>\uff0c\u4f60\u8981\u5f00\u53d1macOS\u3001iOS\u7a0b\u5e8f\u90a3\u80af\u5b9a\u8fd8\u662f<code>Xcode.app</code>\uff09\u3002\u6211\u7684\u8bdd\uff0c\u7528<code>VS Code</code>\u5199Cpp\u3001\u5199<code>python</code>\u722c\u866b\u3001\u5199<code>Applescript</code>\u811a\u672c\u3001<code>shell</code>\u811a\u672c\u3001\u5f00\u53d1\u7f51\u7ad9\u524d\u540e\u7aef\u3001\u554a\u8fd8\u6709\u5199<code>markdown</code>\uff1b<code>VS Code</code>\u5e2e\u6211\u7701\u4e86\u5b66\u4e60\u4f7f\u7528\u65b0\u7f16\u8f91\u5668\u3001\u9002\u5e94\u65b0\u5f00\u53d1\u73af\u5883\u7684\u65f6\u95f4</li> <li>\u4e2a\u6027\u5316\u914d\u7f6e\u7a0b\u5ea6\u9ad8\u3002\u4f60\u60f3\u6253\u9020\u600e\u6837\u7684\u7f16\u8f91\u5668\uff0c<code>VS Code</code>\u901a\u8fc7\u5185\u7f6e\u7684\u8bbe\u7f6e\u548c\u63d2\u4ef6\u5e02\u573a\u57fa\u672c\u90fd\u53ef\u4ee5\u6ee1\u8db3\u4f60\u7684\u9700\u6c42\u3002\u5982\u679c\u786e\u5b9e\u6ee1\u8db3\u4e0d\u4e86\u600e\u4e48\u529e\uff1f\u90a3\u4f60\u81ea\u5df1\u5f00\u53d1\u4e00\u4e2a\u63d2\u4ef6\u3001\u81ea\u5df1\u53bb\u4e3a\u8fd9\u4e2a\u8f6f\u4ef6\u6dfb\u52a0\u4e00\u4e9b\u529f\u80fd\u5457\uff08\u5f00\u6e90\uff09</li> </ol>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#vs-code_2","title":"VS Code\u754c\u9762\u8ba4\u8bc6","text":"<p>\u89e3\u538b\u5b89\u88c5\u597d<code>VS Code</code>\u4e4b\u540e\uff0c\u53cc\u51fb\u6253\u5f00\u3002</p> <p></p> <p>\uff08\u8c03\u6574\u7a97\u53e3\u5927\u5c0f<code>\u2318-</code> <code>\u2318=</code> \u5168\u5c4f\uff09\uff08\u63d0\u4e00\u4e0b\u5b89\u88c5\u4e2d\u6587\u3001\u4f46\u8fd8\u662f\u7528\u82f1\u6587\uff1a\u56e0\u4e3a\u6211\u76f8\u4fe1\u5927\u5bb6\u7684\u82f1\u8bed\u6c34\u5e73\uff0c\u6bd5\u7adf\u5927\u5bb6\u4ece\u5c0f\u90fd\u5728\u5b66\uff1b\u5b66\u7f16\u7a0b\u82f1\u6587\u662f\u5f88\u91cd\u8981\u7684\uff0c\u5728\u4e0b\u8282\u8bfe\u3001\u4e0b\u4e0b\u8282\u8bfe\uff0c\u6211\u4eec\u4f1a\u76f4\u63a5\u53bb\u770b\u63d2\u4ef6\u7684\u82f1\u6587\u4ecb\u7ecd\uff0c\u53bb\u770b\u8bf4\u660e\u914d\u7f6e\u6587\u4ef6\u5199\u6cd5\u7684\u82f1\u6587\u6587\u6863\uff1b\u6bd5\u7adf\u8fd9\u4e9b\u4e1c\u897f\uff0c\u82f1\u6587\u662f\u7b2c\u4e00\u624b\u7684\uff0c\u4f60\u7b49\u522b\u4eba\u7ffb\u8bd1\u51fa\u6765\uff0c\u8981\u4e0d\u5c31\u662f\u8fc7\u65f6\u4e86\uff0c\u8981\u4e0d\u5c31\u662f\u4e0d\u51c6\u786e\u6ca1\u6cd5\u8868\u8fbe\u539f\u6587\u6863\u7684\u610f\u601d\u3002\uff09</p> <p>\u8ba4\u8bc6\u8fb9\u680f\uff1a\u4e3b\u8981\u662f\u7b2c\u4e00\u4e2a\u548c\u6700\u540e\u4e00\u4e2a\u3002</p> <p>\u4ece\u4e0a\u5230\u4e0b\u5206\u522b\u662f<code>\u8d44\u6e90\u7ba1\u7406\u5668</code>\uff08\u7c7b\u4f3c\u8bbf\u8fbe\uff09\u3001<code>\u641c\u7d22</code>\uff08\u5168\u5c40\u641c\u7d22\uff09\u3001<code>\u7248\u672c\u63a7\u5236</code>\u3001<code>\u8fd0\u884c\u4e0e\u8c03\u8bd5</code>\u3001<code>\u63d2\u4ef6\u5e02\u573a</code>\uff08\u4e0b\u8f7d\u548c\u7ba1\u7406\u63d2\u4ef6\u7684\u5730\u65b9\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#vs-code_3","title":"\u7528VS Code\u7f16\u5199\u4ee3\u7801","text":"<p>\u5220\u9664\u684c\u9762\u4e4b\u524d\u6709\u7684<code>Cpp</code>\u6587\u4ef6\u5939\u3002\u6253\u5f00\u6587\u4ef6\u5939\uff0c\u5728\u684c\u9762\u65b0\u5efa<code>Cpp</code>\u6587\u4ef6\u5939\u5e76\u6253\u5f00\u3002\uff08\u6216\u8005\u5c06\u6587\u4ef6\u5939\u62d6\u62fd\u5230<code>VS Code</code>\u7684\u7a0b\u5e8f\u575e\u56fe\u6807\u4e0a\uff09</p> <p>\u70b9\u51fb\u6309\u94ae\u65b0\u5efa\u6587\u4ef6<code>hello.cpp</code>\uff0c\u6572\u4ee3\u7801\u4e0a\u53bb\u3002</p> <p>\u63d0\u793a\u5b89\u88c5\u63d2\u4ef6<code>C/C++</code>\uff0c\u5b89\u88c5\uff08\u4e5f\u53ef\u4ee5\u5230\u63d2\u4ef6\u5e02\u573a\u5b89\u88c5\uff09</p> <p></p> <p></p> <p>\u8fd8\u6709\u53e6\u5916\u4e00\u4e2a\u4e0b\u8f7d\u3002\u7b49\u5f85\u4e0b\u8f7d\u5b8c\u6210</p> <p>\uff08\u4ee3\u7801\u6545\u610f\u6572\u7684\u5f88\u4e71\uff09\u5f15\u51fa\u683c\u5f0f\u5316\uff0c\u53ea\u662f\u7528\u5feb\u6377\u952e\u548c\u53f3\u952e\u53bb\u683c\u5f0f\u5316\u800c\u5df2\uff08\u540e\u9762\u518d\u5f15\u5165\u683c\u5f0f\u5316\u98ce\u683c\u548c\u5feb\u6377\u952e\u7ed1\u5b9a\u4fee\u6539\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_6","title":"\u5728\u96c6\u6210\u7ec8\u7aef\u7f16\u8bd1\u3001\u8fd0\u884c","text":"<p>\uff08\u540c\u4e0a\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_7","title":"\u56de\u987e","text":"<p><code>VS Code</code>\u5c31\u662f\u7b80\u5355\u7684\u7f16\u8f91\u5668\u3002\u53ea\u4e0d\u8fc7\u5462\uff0c\u5b83\u5c06\u8bbf\u8fbe\u3001\u7ec8\u7aef\u3001\u6587\u672c\u7f16\u8f91\u653e\u5728\u4e86\u4e00\u8d77\u3002\u540c\u65f6\uff0c\u5b83\u8fd8\u80fd\u663e\u793a\u5f69\u8272\u7684\u4ee3\u7801\u3001\u8fd8\u5e26\u683c\u5f0f\u5316\u4ee3\u7801\u3002\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u7684\u529f\u80fd\uff0c\u6211\u4eec\u4e4b\u540e\u4f1a\u53bb\u63a2\u7d22\u3002</p> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u4f1a\u53bb\u8ba4\u8bc6\u4e00\u4e9b\u63d2\u4ef6\uff0c\u518d\u770b\u770b<code>VS Code</code>\u6709\u54ea\u4e9b\u53ef\u4ee5\u8ba9\u6211\u5199\u4ee3\u7801\u66f4\u8212\u9002\u7684\u4e1c\u897f\u3002\u518d\u4e0b\u6765\u6211\u4eec\u4f1a\u7b80\u5355\u6df1\u5165<code>g++</code>\uff0c\u53bb\u8003\u5bdf\u5b83\u7684\u4e00\u4e9b\u53c2\u6570\uff0c\u8fd9\u662f\u4e3a\u4e86\u4e0b\u8282\u8bfe\u6211\u4eec\u5f15\u5165\u63d2\u4ef6\u2014\u2014<code>Code Runner</code>\u4f5c\u94fa\u57ab\u3002\u5728\u8fd9\u8282\u8bfe\u7684\u6700\u540e\uff0c\u6211\u4f1a\u5e26\u5927\u5bb6\u8ba4\u8bc6\u5728<code>VS Code</code>\u4e2d\u8fdb\u884c\u81ea\u5b9a\u4e49\u8bbe\u7f6e\u548c\u4fee\u6539\u5feb\u6377\u952e\u7684\u65b9\u6cd5\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_8","title":"\u7b80\u5355\u5b89\u88c5\u63d2\u4ef6","text":"<p>\u5728\u8003\u5bdf<code>g++</code>\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u8ba9<code>VS Code</code>\u7684\u989c\u503c\u63d0\u5347\u4e00\u4e9b\uff01</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_9","title":"\u5b89\u88c5\u4e24\u4e2a\u63d2\u4ef6","text":"<p><code>vscode-icons-mac</code>\uff1a\u8c03\u6574\u6587\u4ef6\u7ba1\u7406\u5668\u90a3\u91cc\u7684\u56fe\u6807</p> <p><code>Bracket Pair Colorizer</code>\uff1a\u5c06\u767d\u8272\u7684\u62ec\u53f7\u53d8\u4e3a\u5339\u914d\u7684\u5f69\u8272</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_10","title":"\u4ecb\u7ecd\u989c\u8272\u4e3b\u9898\u548c\u63d2\u4ef6\u5b89\u88c5","text":"<p><code>VS Code</code>\u65e2\u7136\u662f\u7f16\u8f91\u5668\uff0c\u80fd\u4e0d\u80fd\u8c03\u6574\u6574\u4f53\u7684\u754c\u9762\u98ce\u683c\u5462\uff1f\u2318K\u2318T\uff08\u4e2d\u95f4\u677e\u5f00\u2318\uff0c\u518d\u6b21\u6572\u51fb\u2318T\uff1b\u6216\u8005\u4e0d\u677e\u5f00\uff0c\u6309T\uff0c\u76f8\u5f53\u4e8e\u2318KT\uff09\u6216\u8005\u5de6\u4e0a\u89d2\u83dc\u5355</p> <p>\u9ed8\u8ba4\u7684\u4e3b\u9898\u53ea\u6709\u8fd9\u4e48\u70b9\u513f\u5417\uff1f\u90a3\u6709\u6ca1\u6709\u5176\u4ed6\u7684\u5462\uff1f</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u4e3b\u9898\u4e5f\u53ef\u4ee5\u901a\u8fc7\u63d2\u4ef6\u5b89\u88c5\uff08\u4f60\u4e0d\u4e00\u5b9a\u8981\u5b89\u88c5\u54e6/\u5b89\u88c5\u4e86\u4e0d\u559c\u6b22\u5378\u8f7d\u6389\u4e5fok\uff09\uff1a<code>Dracula Official</code>\uff0c\u8fd9\u662f\u542cpython\u8bfe\u7684\u65f6\u5019\u8bb2\u5e08\uff08\u5b66\u957f\uff09\u7528\u7684\u4e3b\u9898\u3002</p> <p>\u8fd9\u91cc\u4e3b\u8981\u662f\u60f3\u6f14\u793a\u4e00\u4e0b\uff08\u6807\u9898\u662f\u7b80\u5355\u5b89\u88c5\u63d2\u4ef6\uff09\uff0c<code>VS Code</code>\u63d2\u4ef6\u80fd\u505a\u7684\u4e8b\u60c5\u5f88\u591a\uff0c\u4f60\u60f3\u8981\u4ec0\u4e48\u6837\u7684\u7f16\u8f91\u5668\u73af\u5883\u57fa\u672c\u90fd\u53ef\u4ee5\u901a\u8fc7\u5b89\u88c5\u63d2\u4ef6\u89e3\u51b3\u3002\u6211\u5728\u8bfe\u7a0b\u7684\u6700\u540e\u4e5f\u4f1a\u63a8\u8350\u4e00\u4e9b\u6211\u5e38\u7528\u7684\u63d2\u4ef6\u7ed9\u5927\u5bb6\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#g_1","title":"g++\u7684\u53c2\u6570\u8bb2\u89e3","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_11","title":"\u8bbe\u7f6e\u8f93\u51fa\u6587\u4ef6\u540d","text":"<p><code>-o</code></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_12","title":"\u94fe\u63a5\u6587\u4ef6","text":"<p><code>main_file.cpp</code>\uff1a</p> <pre><code>#include &lt;cstdio&gt;\n\n#include \"myAdd.hpp\"\n\nint main() { printf(\"Addition = %d\\n\", threeSum(2, 3, 4)); }\n</code></pre> <p><code>myAdd.cpp</code>\uff1a</p> <pre><code>#include \"myAdd.hpp\"\n\n/// Just add three integers.\n/// @param a int1\n/// @param b int2\n/// @param c int3\n/// @return additon of a, b and c\nint threeSum(int a, int b, int c) { return a + b + c; }\n\nint fourSum(int a, int b, int c, int d) { return a + b + c + d; }\n</code></pre> <p>\u5173\u4e8e\u6ce8\u91ca\uff1a\u5982\u679c\u4f60\u8981\u7ed9\u51fd\u6570\u6216\u7c7b\u6dfb\u52a0\u6ce8\u91ca\uff0c\u6bd4\u8f83\u590d\u6742\u7684\u4e00\u79cd\u5c31\u662f\u6211\u521a\u521a\u5199\u7684\u90a3\u4e00\u79cd\u3002\u8c03\u7528\u7684\u65f6\u5019\uff0c\u9f20\u6807\u653e\u5728\u51fd\u6570\u540d\u4e0a\u5c31\u6709\u63d0\u793a\uff0c\u8f93\u5165\u53c2\u6570\u7684\u65f6\u5019\u4e5f\u4f1a\u6709\u76f8\u5e94\u7684\u63d0\u793a\u3002\uff08\u4e0d\u8fc7\u4e00\u822c\u4e00\u4e2a\u51fd\u6570\u4e00\u884c\u53ef\u4ee5\u8bf4\u6e05\uff1b\u5982\u679c\u4f60\u641e\u4e00\u4e2a\u5927\u5de5\u7a0b\u53ef\u4ee5\u8003\u8651\u6dfb\u52a0\u8fd9\u79cd\u6ce8\u91ca\uff09</p> <p><code>myAdd.hpp</code>\uff1a</p> <pre><code>#ifndef myAdd_hpp\n#define myAdd_hpp\n\nint threeSum(int a, int b, int c);\nint fourSum(int a, int b, int c, int d);\n\n#endif /* myAdd_hpp */\n</code></pre> <p>\u94fe\u63a5\uff1a\u5728\u539f\u672c\u7684\u6587\u4ef6\u540e\u9762\u76f4\u63a5\u6dfb\u52a0\u8981\u94fe\u63a5\u7684<code>.cpp</code>\u6587\u4ef6\u5c31\u597d\u4e86\u3002</p> <p>\u6ce8\uff1a\u58f0\u660e\u5199\u5728<code>.hpp</code>\u6587\u4ef6\u4e2d\uff0c\u540c\u65f6\u5728<code>.cpp</code>\u6587\u4ef6\u5f00\u5934include\u8fd9\u4efd\u5bf9\u5e94\u7684<code>.hpp</code>\u6587\u4ef6\uff08\u53ef\u80fdcpp\u6587\u4ef6\u91cc\u9762\u9700\u8981\u7528\u5230\u81ea\u5df1\u5199\u7684\u51fd\u6570\u6216\u7c7b\uff09\u3002\u5728\u5176\u4ed6\u9700\u8981\u4f7f\u7528<code>.cpp</code>\u4e2d\u51fd\u6570\u6216\u7c7b\u7684\u6587\u4ef6\u4e2dinclude<code>.hpp</code>\u6587\u4ef6\u3002</p> <p>\u6ce8\uff1a\u94fe\u63a5\u7684\u51e0\u4efd\u6587\u4ef6\u4e2d\u53ea\u80fd\u6709\u4e00\u4efd<code>.cpp</code>\u6587\u4ef6\u4e2d\u6709<code>int main(){ }</code>\u51fd\u6570\u4f5c\u4e3a\u7a0b\u5e8f\u7684\u6267\u884c\u5165\u53e3\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_13","title":"\u9519\u8bef\u4fe1\u606f\u63d0\u793a","text":"<p>\u6211\u4eec\u4e00\u8d77\u6765\u770b\u4e00\u4e0b\u8fd9\u7bc7\u535a\u5ba2CSDN | gcc\u4e2d\u7684-w -W\u548c-Wall\u9009\u9879\uff0c\u6700\u91cd\u8981\u7684\u662f\u6700\u540e\u4e00\u53e5</p> <p>\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5728\u8c03\u7528<code>g++</code>\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u65f6\u5019\u6dfb\u52a0<code>-W -Wall</code></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#c","title":"\u6dfb\u52a0C++\u6807\u51c6","text":"<p><code>-std=c++17</code></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_14","title":"\u7f16\u8bd1\u4f18\u5316","text":"<p>\u5982\u679c\u4f60\u60f3\u8ba9\u751f\u6210\u7684\u4ee3\u7801\u6587\u4ef6\u5c0f\u4e00\u4e9b\uff0c\u8fd0\u884c\u8d77\u6765\u5feb\u4e00\u4e9b\uff0c\u90a3\u4e48\u9700\u8981\u5f00\u542f\u7f16\u8bd1\u4f18\u5316\u3002</p> <p>\u5bf9\u4f18\u5316\u9009\u9879\u611f\u5174\u8da3\u7684\u8bdd\u53ef\u4ee5\u770b\u770bCSDN\uff5cgcc -O0 -O1 -O2 -O3 \u56db\u7ea7\u4f18\u5316\u9009\u9879\u53ca\u6bcf\u7ea7\u5206\u522b\u505a\u4ec0\u4e48\u4f18\u5316</p> <p>\uff08\u6ce8\uff1a\u5982\u679c\u5927\u5bb6\u94fe\u63a5\u7684\u6587\u4ef6\u4e0d\u591a\uff0c\u90a3\u4e48\u5f00\u4e86\u4f18\u5316\u548c\u6ca1\u5f00\u4f18\u5316\u76f8\u6bd4\u4e0d\u4f1a\u591a\u82b1\u5f88\u591a\u65f6\u95f4\uff1b\u5982\u679c\u5927\u5bb6\u7684\u4ee3\u7801\u6ca1\u6709\u90a3\u4e48\u957f\uff0c\u90a3\u5176\u5b9e\u5f00\u4e0d\u5f00\u4f18\u5316\u6267\u884c\u65f6\u95f4\u4e5f\u4e0d\u4f1a\u76f8\u5dee\u5f88\u591a\u3002\u81ea\u5df1\u53bb\u8fd0\u884c\u7a0b\u5e8f\uff0c\u5f00\u4e0d\u5f00\u4f18\u5316\u90fd\u65e0\u6240\u8c13\uff1b\u4f46\u662f\u5982\u679c\u4f60\u8981\u628a\u53ef\u6267\u884c\u6587\u4ef6\u53d1\u7ed9\u522b\u4eba\u7528\uff0c\u90a3\u8fd8\u662f\u5f00<code>O2</code>\u4f18\u5316\u6bd4\u8f83\u597d\uff1b\u5728\u5927\u5bb6\u4e4b\u540e\u53ef\u80fd\u4f1a\u505a\u7684<code>Online Judge</code>\uff0c\u5c31\u662f\u4e0a\u4f20\u81ea\u5df1\u5199\u7684\u4ee3\u7801\u8ba9\u670d\u52a1\u5668\u5224\u65ad\u8fd0\u884c\u5185\u5b58\u548c\u65f6\u95f4\uff0c\u7684\u65f6\u5019\uff0c\u670d\u52a1\u5668\u7684\u7f16\u8bd1\u9009\u9879\u57fa\u672c\u90fd\u662f\u5f00<code>O2</code>\u4f18\u5316\u3002\u6240\u4ee5\u6211\u4eec\u5c31\u5f00<code>O2</code>\u4f18\u5316\u5c31\u884c\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_15","title":"\u8c03\u8bd5\u9009\u9879","text":"<p>\u7f16\u8bd1\u578b\u8bed\u8a00\u548c\u89e3\u91ca\u578b\u8bed\u8a00\uff1a\u89e3\u91ca\u578b\u8bed\u8a00\u4e00\u884c\u4e00\u884c\u6267\u884c\uff0c\u4f46\u7f16\u8bd1\u578b\u8bed\u8a00\u4e0d\u662f\uff0c\u5728\u771f\u6b63\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6\u4e2d\uff0c\u6267\u884c\u987a\u5e8f\u53ef\u80fd\u4e0e\u4f60\u6240\u5199\u7684\u4ee3\u7801\u76f8\u5dee\u5f88\u591a\u3002\uff08\u7f16\u8bd1\u578b\u8bed\u8a00\u7684\u4f18\u52bf\u662f\uff1a\u6267\u884c\u5927\u6982\u6bd4\u89e3\u91ca\u578b\u8bed\u8a00\u5feb100\u500d\u3002\uff09</p> <p>\u7531\u4e8e<code>C++</code>\u662f\u7f16\u8bd1\u578b\u8bed\u8a00\uff0c\u5982\u679c\u4f60\u76f4\u63a5\u7f16\u8bd1\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u90a3\u5927\u6982\u662f\u6ca1\u6709\u5e0c\u671b\u8ba9\u8c03\u8bd5\u5668\uff08\u5c31\u662f\u7528\u6765<code>debug</code>\u7684\u4e1c\u897f\uff1b<code>debug</code>\u5c31\u662f\u67e5\u9519\uff0c\u770b\u81ea\u5df1\u5199\u7684\u4ee3\u7801\u54ea\u91cc\u5199\u9519\u4e86\uff09\u4e00\u884c\u4e00\u884c\u8fc7\u4f60\u7684\u4ee3\u7801\uff0c\u56e0\u4e3a\u53ef\u6267\u884c\u6587\u4ef6\u5df2\u7ecf\u548c\u4f60\u5199\u7684\u4ee3\u7801\u6709\u7740\u5de8\u5927\u5dee\u8ddd\u4e86\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u6dfb\u52a0\u4e00\u4e2a\u7f16\u8bd1\u9009\u9879\uff0c\u8ba9\u7f16\u8bd1\u5f97\u5230\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5c3d\u91cf\u4e0d\u8981\u88ab\u4f18\u5316\uff0c\u81c3\u80bf\u4e00\u4e9b\u4f46\u9644\u52a0\u4e00\u4e9b\u8c03\u8bd5\u4fe1\u606f\uff0c\u8ba9\u5f97\u5230\u7684\u53ef\u6267\u884c\u6587\u4ef6\u5c3d\u91cf\u63a5\u8fd1\u4f60\u5199\u7684\u4ee3\u7801\u3002\u6dfb\u52a0<code>-g</code>\u53c2\u6570\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u5982\u679c\u4f60\u542c\u8bf4\u8fc7<code>debug\u7248\u672c</code>\u548c<code>release\u7248\u672c</code>\uff0c\u6bd4\u5982\u4f60\u8981\u67e5\u9519\u5c31\u7528<code>debug\u7248\u672c</code>\u7684\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u8981\u628a\u7a0b\u5e8f\u53d1\u4e0d\u51fa\u53bb\u7ed9\u522b\u4eba\u7528\u5c31\u7528<code>release\u7248\u672c</code>\uff08\u4f53\u79ef\u66f4\u5c0f\uff1b\u6267\u884c\u66f4\u9ad8\u6548\uff09\uff1a\u8fd9\u672c\u8d28\u4e0a\u5c31\u662f\u7f16\u8bd1\u65f6\u6709\u6ca1\u6709<code>-g</code>\u8fd9\u4e00\u4e2a\u53c2\u6570\u3002</p> <p>\u611f\u5174\u8da3\u7684\u8bdd\u53ef\u4ee5\u9605\u8bfbCSDN\uff5cgcc\u7684-g\u9009\u9879\u505a\u4e86\u54ea\u4e9b\u64cd\u4f5c</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_16","title":"\u6700\u7ec8\u7ed3\u679c","text":"<p><code>release</code>\uff1a</p> <pre><code>g++ say_hi.cpp -o say_hi.out -W -Wall -O2 -std=c++17\ng++ &lt;filename&gt;.cpp &lt;other_cpp_files&gt; -o &lt;filename&gt;.out -W -Wall -O2 -std=c++17\n</code></pre> <p><code>debug</code>\uff1a</p> <pre><code>g++ say_hi.cpp -o say_hi.out -W -Wall -g -std=c++17\ng++ &lt;filename&gt;.cpp &lt;other_cpp_files&gt; -o &lt;filename&gt;.out -W -Wall -g -std=c++17\n</code></pre>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#vs-code_4","title":"VS Code\u7b80\u5355\u7684\u6587\u672c\u7f16\u8f91\u6280\u5de7","text":"<p>\u6dfb\u52a0\u6ce8\u91ca\uff1a\u2318/  \u2325\u21e7A</p> <p>\u4ee3\u7801\u63d0\u793a\uff1a<code>code snippet</code> \u21e5 \u548c \u2318I\uff08<code>I</code> refers to <code>IntelliSense</code>\uff09</p> <p>\u53cc\u51fb\u9009\u4e2d\u4e00\u4e2a\u8bcd\uff0c\u4e09\u51fb\u9009\u4e2d\u4e00\u884c</p> <p>\u2325\u5de6\u53f3 \u548c \u2318\u4e0a\u4e0b\u5de6\u53f3\uff1b\u21e7\u5149\u6807\u533a\u57df\u9009\u4e2d\uff1b\u21e7\u4e0a\u4e0b\u5de6\u53f3 \u548c \u21e7\u2325\u5de6\u53f3 \u548c \u2318\u21e7\u4e0a\u4e0b\u5de6\u53f3</p> <p>\u2325\u232b\u3001\u2318\u232b\uff1bfn\u232b</p> <p>\u2318C\u548c\u2318X\u53ef\u4ee5\u5bf9\u4e00\u884c\u751f\u6548</p> <p>\u2325\u70b9\u51fb\u591a\u5904\u6dfb\u52a0\u591a\u4e2a\u5149\u6807</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#settingsjson","title":"\u4ee3\u7801\u683c\u5f0f\u5316\u5f15\u5165settings.json","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_17","title":"\u4ee3\u7801\u683c\u5f0f\u5316\u98ce\u683c\u9009\u62e9","text":"<p>\u6253\u5f00\u8bbe\u7f6e\u641c\u7d22<code>format google</code>\uff08\u6ce8\uff1a\u7a7a\u683c\u9694\u5f00\u641c\u7d22\u5173\u952e\u8bcd\uff09\uff0c\u6539\u6210\u6211\u559c\u6b22\u7684<code>Google</code>\u5f00\u6e90<code>C++</code>\u4ee3\u7801\u7684\u683c\u5f0f\u5316\u98ce\u683c\u3002</p> <p></p> <p>\uff08\u6ce8\uff1a\u60f3\u6539\u4ec0\u4e48\u8bbe\u7f6e\u641c\u7d22\u4ec0\u4e48\u5355\u8bcd\u3002eg\uff1a<code>font</code> <code>tab</code> <code>window</code> <code>theme\uff09</code></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_18","title":"\u5168\u5c40\u8bbe\u7f6e\u4e0e\u5de5\u4f5c\u533a\u8bbe\u7f6e","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_19","title":"\u4ec0\u4e48\u662f\u5de5\u4f5c\u533a","text":"<p>\u5728<code>VS Code</code>\u4e2d\u4e00\u4e2a\u6587\u4ef6\u5939\u5c31\u662f\u4e00\u4e2a\u5de5\u4f5c\u533a\uff08\u5f00\u59cb\u521b\u5efa\u7684\u90a3\u4e2a\u684c\u9762\u4e0a\u7684<code>Cpp</code>\u6587\u4ef6\u5939\uff09\uff1b\u5728<code>VS Code</code>\u4e2d\uff0c\u4e00\u4e2a\u6587\u4ef6\u5939\u7ea6\u7b49\u4e8e\u4e00\u4e2a\u9879\u76ee\uff08<code>Cpp</code>\u8fd9\u4e2a\u6587\u4ef6\u5939\u5c31\u662f\u4f9b\u6211\u4eec\u5b66\u4e60<code>Cpp</code>\u4f7f\u7528\u7684\u9879\u76ee\uff09\u3002</p> <p>\u4e4b\u540e\u4f60\u5982\u679c\u8981\u5199<code>python</code>\u90a3\u5c31\u518d\u521b\u5efa\u4e00\u4e2a<code>python</code>\u6587\u4ef6\u5939\u5457\uff0c\u90a3\u4e2a\u6587\u4ef6\u5939\u5c31\u662f<code>python</code>\u7684\u5de5\u4f5c\u533a</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_20","title":"\u5168\u5c40/\u7528\u6237\u8bbe\u7f6e\u548c\u5de5\u4f5c\u533a\u8bbe\u7f6e","text":"<p>\u6253\u5f00\u8bbe\u7f6e\uff0c\u53ef\u4ee5\u770b\u5230\u6709\u4e24\u680f\u57fa\u672c\u4e00\u6837\u7684\u8bbe\u7f6e\u3002\u5148\u8bf4\u5de5\u4f5c\u533a\u8bbe\u7f6e\uff1a\u5de5\u4f5c\u533a\u8bbe\u7f6e\u4fee\u6539\u4e4b\u540e\u53ea\u5bf9\u5f53\u524d\u7684\u6587\u4ef6\u5939\uff08\u9879\u76ee\uff09\u8d77\u4f5c\u7528\uff1b\u800c\u7528\u6237\u8bbe\u7f6e\u6307\u7684\u662f\u65e0\u8bba\u4f60\u7528<code>VS Code</code>\u6253\u5f00\u54ea\u4e2a\u6587\u4ef6\u5939\uff08\u9879\u76ee\uff09\uff0c<code>VS Code</code>\u90fd\u4f1a\u7528\u8fd9\u4e9b\u8bbe\u7f6e\uff1b\u76f8\u5f53\u4e8e\u4f60\u4fee\u6539\u4e86\u7528\u6237\u8bbe\u7f6e\uff0c\u8fd9\u4e2a\u8bbe\u7f6e\u5168\u5c40\u6709\u6548\uff0c\u6539\u4e00\u6b21\u7528\u6237\u8bbe\u7f6e\u76f8\u5f53\u4e8e\u6539\u4e86\u597d\u591a\u4e2a\u5de5\u4f5c\u533a\u7684\u8bbe\u7f6e\uff0c\u6240\u4ee5\u6211\u4e0b\u9762\u4f1a\u5c06\u7528\u6237\u8bbe\u7f6e\u79f0\u4f5c\u5168\u5c40\u8bbe\u7f6e\u3002</p> <p>\u6ce8\uff1a\u5de5\u4f5c\u533a\u8bbe\u7f6e\u548c\u7528\u6237/\u5168\u5c40\u8bbe\u7f6e\u540c\u65f6\u5b58\u5728\u65f6\uff0c\u5de5\u4f5c\u533a\u7684\u8bbe\u7f6e\u8d77\u4f5c\u7528/\u4f18\u5148\u7ea7\u9ad8/\u8986\u76d6\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_21","title":"\u4f7f\u7528\u5de5\u4f5c\u533a\u8bbe\u7f6e\u7684\u4f18\u70b9","text":"<p>\u786e\u4fdd\u4f60\u4ee5\u540e\u5728\u5199\u522b\u7684\u4ee3\u7801\uff08\u5f00\u4e86\u522b\u7684\u6587\u4ef6\u5939/\u63a5\u4e86\u65b0\u7684\u9879\u76ee\uff09\u7684\u65f6\u5019\u4e0d\u4f1a\u53d7\u67d0\u6b21\u8bbe\u7f6e\u7684\u5f71\u54cd</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_22","title":"\u4f7f\u7528\u5de5\u4f5c\u533a\u8bbe\u7f6e\u6587\u4ef6\u53ca\u5176\u4f18\u70b9","text":"<p>\u5c1d\u8bd5\u5728\u7528\u6237\u7684\u8bbe\u7f6e\u4e2d\u7528<code>json</code>\u6587\u4ef6\u4fee\u6539\u4ee3\u7801\u683c\u5f0f\u5316\u98ce\u683c</p> <ol> <li>\u9664\u4e86\u9ed8\u8ba4\u7684\u8bbe\u7f6e\u3001\u88ab\u66f4\u6539\u7684\u8bbe\u7f6e\u90fd\u660e\u660e\u767d\u767d\u7684\u88ab\u5217\u4e3e\u4e86\u51fa\u6765</li> <li>\u591a\u4eba\u534f\u540c\u7684\u65f6\u5019\u5927\u5bb6\u90fd\u53ef\u4ee5\u4f7f\u7528\u4e00\u6837\u7684\u914d\u7f6e</li> </ol>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_23","title":"\u4fee\u6539\u4e4b\u524d\u7684\u5168\u5c40\u8bbe\u7f6e\u4e3a\u5de5\u4f5c\u533a\u8bbe\u7f6e","text":"<p>\u8bbe\u7f6e\u53f3\u4e0a\u89d2\u7684\u4e09\u4e2a\u70b9\uff0c\u67e5\u770b\u5df2\u7ecf\u88ab\u4fee\u6539\u7684\u5168\u5c40\u8bbe\u7f6e\uff08\u6216\u8005\u641c\u7d22\u65f6\u8f93\u5165<code>@modified</code>\uff0c\u76f8\u5f53\u4e8e\u6761\u4ef6\u7b5b\u9009\uff09\uff1b\u53ef\u4ee5\u5206\u522b\u770b\u5230\u88ab\u4fee\u6539\u7684\u5168\u5c40/\u7528\u6237\u8bbe\u7f6e\u548c\u5de5\u4f5c\u533a\u8bbe\u7f6e</p> <p></p> <p>\u5c06\u4ee3\u7801\u683c\u5f0f\u5316\u7684\u9009\u9879\u66f4\u6539\u4e3a\u5de5\u4f5c\u533a\u8bbe\u7f6e\u3002</p> <p>\u5728\u4f60\u4fee\u6539\u5de5\u4f5c\u533a\u8bbe\u7f6e\u7684\u65f6\u5019<code>VS Code</code>\u5c31\u4f1a\u5e2e\u4f60\u81ea\u52a8\u4fee\u6539<code>.vscode/settings.json</code>\u8fd9\u4e2a\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u53ef\u4ee5\u81ea\u5df1\u53bb\u521b\u5efa\u3002</p> <p>\u5c1d\u8bd5\u5c06\u4e00\u4e2a\u9009\u9879\u7684<code>json</code>\u590d\u5236\u5230<code>settings.json</code>\u6587\u4ef6\u5e76\u66f4\u6539\u3002</p> <p>\u6ce8\uff1a\u4e00\u90e8\u5206\u8bbe\u7f6e\u4e0d\u4e00\u5b9a\u9488\u5bf9\u5de5\u4f5c\u533a\uff0c\u6bd4\u5982\u7a97\u53e3\u7f29\u653e\u5b57\u4f53\u5927\u5c0f\uff0c\u867d\u7136\u6211\u5728\u6559\u7a0b\u4e2d\u5c06\u6240\u6709\u7684\u5168\u5c40\u8bbe\u7f6e\u90fd\u6539\u6210\u4e86\u5de5\u4f5c\u533a\u8bbe\u7f6e\uff0c\u4f46\u662f\u4f60\u5728\u81ea\u5df1\u5b9e\u8df5\u4f7f\u7528<code>VS Code</code>\u7684\u65f6\u5019\u5b8c\u5168\u53ef\u4ee5\u4e0d\u8fd9\u4e48\u505a</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#json","title":"\u5168\u5c40\u8bbe\u7f6ejson\u6587\u4ef6","text":"<p>\u770b\u770b\u7528\u6237\u7684/\u5168\u5c40\u7684\u90a3\u4e2a<code>settings.json</code>\u5728\u54ea\u91cc</p> <p></p> <p>\u4f60\u4e5f\u53ef\u4ee5\u901a\u8fc7\u7ec8\u7aef\u67e5\u770b\u5230\u8fd9\u4e2a\u6587\u4ef6\uff1a</p> <pre><code>cd ~\"/Library/Application Support/Code/User\"\nls\ncat settings.json\n</code></pre> <p>\u6ce8\u610f\u4e00\u5b9a\u8981\u8fd9\u4e48\u5199\u3002\u56e0\u4e3a\u8def\u5f84\u4e2d\u542b\u6709\u7a7a\u683c\uff0c\u7a7a\u683c\u9700\u8981\u7528\u5f15\u53f7\u5305\u88f9\u8d77\u6765\uff1b\u540c\u65f6\u8fd8\u542b\u6709\u5bb6\u76ee\u5f55<code>~</code>\u6240\u4ee5\u4e0d\u80fd\u628a<code>~</code>\u653e\u5728\u53cc\u5f15\u53f7\u91cc\u9762\uff0c\u5426\u5219<code>shell</code>\u65e0\u6cd5\u89e3\u6790\uff08\u4e00\u822c\u6211\u4eec\u547d\u4ee4\u6587\u4ef6\u548c\u6587\u4ef6\u5939\u5c31\u4e0d\u8981\u7528\u7a7a\u683c\u4e86\uff09</p> <p></p> <p>\u8fd9\u91cc\u7684<code>settings.json</code>\u5c31\u662f\u4f60\u7684\u7528\u6237\u8bbe\u7f6e/\u5168\u5c40\u914d\u7f6e\u5b58\u50a8\u7684\u5730\u65b9</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_24","title":"\u4fee\u6539\u5feb\u6377\u952e","text":"<p>\uff08\u6309\u7167\u81ea\u5df1\u7684\u559c\u597d\u4fee\u6539\u5c31\u884c\uff0c\u6ca1\u5fc5\u8981\u548c\u6211\u7684\u4e00\u6a21\u4e00\u6837\uff09\u4f46\u6211\u4ecb\u7ecd\u7684\u8fd9\u51e0\u4e2a\u6211\u89c9\u5f97\u8fd8\u662f\u633a\u5e38\u7528\u7684</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_25","title":"\u65b0\u5efa","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_26","title":"\u65b0\u5efa\u6587\u4ef6","text":"<p>\u5728<code>File</code>\u83dc\u5355\u4e0b\uff0c\u7b2c\u4e00\u4e2a\u5c31\u662f\u65b0\u5efa\u6587\u4ef6\uff0c\u5feb\u6377\u952e\u662f\u2318N\u3002\u4f46\u662f\u5c1d\u8bd5\u4e4b\u540e\u53d1\u73b0\u4e0d\u7b26\u5408\u6211\u4eec\u7684\u8ba4\u77e5\u3002\uff08\u65b0\u5efa\u6587\u4ef6\u662f\u7ecf\u5e38\u7528\u5230\u7684\u64cd\u4f5c\uff0c\u6211\u4eec\u5c31\u522b\u603b\u662f\u7528\u9f20\u6807\u70b9\u4e86\uff0c\u5feb\u6377\u952e\u4e00\u952e\u76f4\u8fbe\uff09</p> <p>\u5bf9\u5feb\u6377\u952e\u8fdb\u884c\u4fee\u6539\uff0c\u53d1\u73b0\u65b0\u5efa\u6587\u4ef6\u4e4b\u540e\u53ef\u4ee5\u76f4\u63a5\u5bf9\u540d\u5b57\u8fdb\u884c\u4fee\u6539\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_27","title":"\u65b0\u5efa\u6587\u4ef6\u5939","text":"<p>\uff08\u548c\u8bbf\u8fbe\u7c7b\u4f3c\uff09\u8bbf\u8fbe\u4e2d\u65b0\u5efa\u6587\u4ef6\u5939\u662f\u21e7\u2318N\uff0c\u4f46\u662f\u8fd9\u4e2a\u5feb\u6377\u952e\u5728<code>VS Code</code>\u5374\u662f\u65b0\u5f00\u4e00\u4e2a\u7a97\u53e3\u3002\u6539\uff01</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_28","title":"\u65b0\u5efa\u7a97\u53e3","text":"<p>\u53d1\u73b0\u6709\u4e00\u4e2a\u51b2\u7a81\u4e86\u3002\u90a3\u6211\u4eec\u4e4b\u540e\u65b0\u5efa\u7a97\u53e3\u600e\u4e48\u529e\u554a\uff08\u6bd4\u5982\u6211\u505a\u7f51\u7ad9\u5f00\u53d1\uff0c\u524d\u7aef\u4e00\u4e2a\u7a97\u53e3\uff0c\u540e\u7aef\u4e00\u4e2a\u6216\u8005\u6211\u8981\u201c\u501f\u9274\u201d\u522b\u4eba\u7684\u4ee3\u7801\uff1b\u600e\u4e48\u65b0\u5efa\u7a97\u53e3\u5462\uff1f\uff09\u3002\u9f20\u6807\u70b9\u83dc\u5355\u680f\uff1b\u6216\u8005\u6211\u4eec\u518d\u8bbe\u7f6e\u4e00\u4e2a\u5feb\u6377\u952e\u3002</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_29","title":"\u9644","text":"<p>\u4fee\u6539\u524d\uff1a</p> <p></p> <p>\u4fee\u6539\u540e\uff1a</p> <p></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_30","title":"\u7a97\u53e3\u7ba1\u7406","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_31","title":"\u5c0f\u6280\u5de7","text":"<p>\u2303\u21e5</p> <p>\u21e7\u2318[</p> <p>\u21e7\u2318]</p> <p>\uff08\u4ee5<code>Safari</code>\u4e3a\u53c2\u7167\u8bbe\u8ba1\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_32","title":"\u53d1\u73b0\u95ee\u9898\u5e76\u4fee\u6539","text":"<p>\u53d1\u73b0\u4e2d\u6587\u8f93\u5165\u6cd5\u7684\u72b6\u6001\u4e0b\u65e0\u6cd5\u5207\u6362\u76f8\u90bb\u7684\u7a97\u53e3</p> <p>\u89e3\u51b3\uff1a</p> <p></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_33","title":"\u81ea\u5b9a\u4e49\u8bbf\u95ee\u7b2c\u51e0\u4e2a\u6807\u7b7e\u9875","text":""},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_34","title":"\u5176\u4ed6","text":"<p>\u4e00\u4e9b\u5feb\u6377\u952e\u53ef\u80fd\u548c\u7cfb\u7edf\u5feb\u6377\u952e\u6216\u8005\u4e00\u4e9b\u5e94\u7528\u4e2d\u7684\u5168\u5c40\u5feb\u6377\u952e\u51b2\u7a81\u4e86\u3002\u8fd9\u65f6\u4f60\u53ef\u4ee5\u8003\u8651\u66f4\u6362\u4e00\u4e2a\u5feb\u6377\u952e</p> <p>\uff08\u6bd4\u5982\u6211\u5728\u7535\u8111\u4e2d\u5b89\u88c5\u4e86<code>Manico</code>\uff0c\u2325\u2318F\u8fd9\u4e2a\u952e\u88ab\u5360\u7528\u4e86\u3002\u90a3\u6211\u8981\u60f3\u5728<code>VS Code</code>\u4e2d\u4f7f\u7528\u5feb\u6377\u952e\u6765\u683c\u5f0f\u5316\u6587\u6863\uff0c\u5c31\u5fc5\u987b\u6362\u4e00\u4e2a\u952e\u3002\u6211\u6362\u6210\u4e86<code>\u2325\u21e7;</code>\u8fd9\u6837\u6bcf\u6b21\u53f3\u624b\u79bb\u5f00\u952e\u76d8\u987a\u624b\u683c\u5f0f\u5316\u6587\u6863\u5bf9\u6211\u6765\u8bf4\u633a\u65b9\u4fbf\u7684\uff09</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_35","title":"\u5feb\u6377\u952e\u7684\u914d\u7f6e\u6587\u4ef6","text":"<p>\u8fd9\u4e2a\u6539\u8fd8\u633a\u590d\u6742\u7684\uff0c\u4f60\u8981\u662f\u60f3\u6298\u817e\u5c31\u627e\u627e\u5b98\u65b9\u7684\u6587\u6863\u81ea\u5df1\u770b\u4e0b\uff08\u597d\u50cf\u53ef\u4ee5\u8bbe\u7f6e\u5feb\u6377\u952e\u89e6\u53d1\u7684\u65b9\u5f0f\uff09</p> <p>vscode\u5feb\u6377\u952e\u5b98\u65b9\u6587\u6863</p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#_36","title":"\u770b\u4e00\u770b\u6211\u7684\u5feb\u6377\u952e","text":"<p>\u81ea\u5df1\u5b9a\u4e49\u5feb\u6377\u952e\u7684\u8bdd\uff0c\u4f60\u89c9\u5f97\u54ea\u4e9b\u64cd\u4f5c\u7ecf\u5e38\u7528\uff0c\u7ecf\u5e38\u9700\u8981\u7528\u9f20\u6807\u70b9\u51fb\uff0c\u90a3\u5c31\u8bbe\u7f6e\u4e00\u4e2a\u5feb\u6377\u952e\u5427\u3002</p> <p></p> <p>\u91cc\u9762\u7684\u90a3\u4e2a<code>Run Code</code>\u662f\u4ec0\u4e48\u5462\uff1f\u662f\u4e0d\u662f\u53ef\u4ee5\u7528\u5feb\u6377\u952e\u6267\u884c\u4ee3\u7801\u5462\uff1f\u662f\u4e0d\u662f\u5c31\u4e0d\u9700\u8981\u7ec8\u7aef\u6572\u547d\u4ee4\u5462\uff1f\u662f\u7684\u3002\u8fd9\u5c31\u8981\u5f15\u51fa\u6211\u4eec\u4e0b\u4e00\u8282\u8bfe\u8981\u8bb2\u7684\u63d2\u4ef6\uff1a<code>Code Runner</code>\u3002\u5b83\u80fd\u591f\u8ba9\u4f60\u7701\u53bb\u5728\u7ec8\u7aef\u6572\u547d\u4ee4\u7684\u9ebb\u70e6\u3002</p> <p>\uff08ps \u5176\u5b9e\u8fd8\u6709\u4e00\u79cd\u8bbe\u7f6e\u5feb\u6377\u952e\u7684\u65b9\u6cd5\uff08\u7b80\u5355\u6f14\u793a<code>Keyboard Shortcuts [\u2318K \u2318S]</code>\uff0c\u2303\u2318space\u641c\u7d22<code>interest</code>\uff09\uff0c\u5728\u4e09\u4e2a\u6708\u4e4b\u524d\u6211\u8bd5\u8bb2\u8fd9\u4e00\u8bfe\u7684\u65f6\u5019\uff0c\u786e\u5b9e\u6709\u5fc5\u8981\u8fd9\u6837\u8bbe\u7f6e\u4e00\u6b21\u5feb\u6377\u952e\uff0c\u56e0\u4e3a<code>VS Code</code>\u6ca1\u6709\u7ed9\u8bbe\u7f6e\u7ed1\u5b9a\u5feb\u6377\u952e\u3002\u4f46\u662f\u65b0\u7684\u7248\u672c\u4fee\u4e86\u8fd9\u4e2a<code>bug</code>\uff0c\u6240\u4ee5\u6211\u5c31\u53ea\u662f\u7b80\u5355\u63d0\u4e00\u4e0b\u5927\u5bb6\u77e5\u9053\u8fd9\u6837\u80fd\u7ed9\u5728\u83dc\u5355\u680f\u51fa\u73b0\u7684\u64cd\u4f5c\u6dfb\u52a0\u5feb\u6377\u952e\u5c31ok\u4e86\uff09</p> <p></p> <p></p> <p>\u4f46\u662f\u4e00\u822c\u6765\u8bf4\u6240\u6709\u8bbe\u7f6e\u5728<code>VS Code</code>\u91cc\u9762\u90fd\u6709\uff0c\u6240\u4ee5\u76f4\u63a5\u5728\u641c\u7d22\u5c31\u597d\u4e86</p> <p></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#cc","title":"\u9644\uff1aC/C++\u4ee3\u7801\u7f16\u8bd1\u8fc7\u7a0b","text":"<p>\u6211\u4eec\u8bf4\u7684\u7f16\u8bd1\u662f\u6307\u7f16\u8bd1\u7684\u6574\u4e2a\u8fc7\u7a0b\uff0c\u8fd9\u5176\u4e2d\u5b9e\u9645\u5305\u62ec\u4e86\u56db\u4e2a\u8fc7\u7a0bcnblog\uff5cgcc \u7f16\u8bd1\u8fc7\u7a0b</p> <p></p>"},{"location":"LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/#macos","title":"\u9644\uff1amacOS\u5e73\u53f0\u4e0a\u7684\u7f16\u8bd1\u5668","text":"<p>\u5982\u679c\u5bf9\u7f16\u8bd1\u5668\u4e0d\u611f\u5174\u8da3\uff0c\u4f60\u53ea\u9700\u8981\u77e5\u9053\uff1a<code>g++</code>\u5c06cpp\u4ee3\u7801\u7f16\u8bd1\u4e3a\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6 \u8fd9\u70b9\u5c31\u591f\u4e86\u3002\u5982\u679c\u4f60\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u770b\u4e00\u4e0b\u4e0b\u9762\u7684\u8865\u5145\u8d44\u6599\u3002</p> <p>GCC\uff1aGNU Compiler Collection(GUN \u7f16\u8bd1\u5668\u96c6\u5408)\uff0c\u5b83\u53ef\u4ee5\u7f16\u8bd1C\u3001C++\u3001JAV\u3001Fortran\u3001Pascal\u3001Object-C\u7b49\u8bed\u8a00\u3002g++\u662fGCC\u4e2d\u7684GUN C++ Compiler\uff08C++\u7f16\u8bd1\u5668\uff09\u3002g++\u8c03\u7528\u4e86C++ compiler\u3002</p> <p>\u4f46\u5982\u679c\u4f60\u5728\u7ec8\u7aef\u8f93\u5165<code>g++ --version</code>\uff0c\u5e94\u8be5\u4f1a\u51fa\u6765<code>clang</code>\u7684\u63d0\u793a\uff0c\u800c\u4e0d\u662f<code>GCC</code>\u3002\u4f46\u8fd9\u5e76\u4e0d\u91cd\u8981\u3002\u5927\u6982\u662f<code>macOS</code>\u7528\u4e86<code>Clang</code>\u7f16\u8bd1\u5668\uff0c\u6240\u4ee5\u628a<code>g++</code>\u94fe\u63a5\u5230\u4e86<code>Clang</code>\u3002<code>Clang</code>\u548c<code>GCC</code>\u90fd\u662f\u7f16\u8bd1\u5668\uff0c\u5c06\u4ee3\u7801\u8f6c\u6210\u53ef\u6267\u884c\u6587\u4ef6\u3002<code>g++</code>\u8c03\u7528\u4ed6\u4eec\u4ece\u800c\u7f16\u8bd1\u3002\u5982\u679c\u4f60\u89c9\u5f97cpp\u7f16\u8bd1\u7528<code>g++</code>\u201c\u4e0d\u592a\u597d\u201d\uff0c\u4f60\u628a\u4e4b\u540e\u6559\u7a0b\u4e2d\u6240\u6709\u7684<code>g++</code>\u5168\u90e8\u6362\u6210<code>clang</code>\u6216\u8005<code>clang++</code>\u5c31\u884c\u4e86\u3002</p> <p>\u77e5\u4e4e\uff5cGCC\u4ee5\u53cag++\u3001gcc</p> <p>\u7f16\u8bd1\u5668GCC\u4e0eClang\u7684\u5f02\u540c</p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 6 VSCode\u4ee3\u7801\u8fd0\u884c\u81ea\u52a8\u5316","text":"<p>\u8fd9\u4e00\u8282\u8bfe\u6211\u4eec\u8981\u6765\u8ba9<code>VS Code</code>\u81ea\u52a8\u7f16\u8bd1\u3001\u8fd0\u884c\u6211\u4eec\u7684\u4ee3\u7801\u3002\u8bf4\u662f\u81ea\u52a8\uff0c\u5176\u5b9e\u662f\u7528\u4e00\u4e2a\u5feb\u6377\u952e\u4ee3\u66ff\u6211\u4eec\u5728\u7ec8\u7aef\u91cd\u590d\u6572\u547d\u4ee4\u7684\u8fc7\u7a0b\u3002\u63a5\u4e0b\u6765\u5c31\u8ba9\u6211\u4eec\u5f00\u59cb\uff01</p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#_1","title":"\u5f15\u5165","text":"<p>\u56de\u5fc6\u4e4b\u524d\u6211\u4eec\u7f16\u8bd1\u3001\u8fd0\u884c\u4ee3\u7801\u7684\u8fc7\u7a0b\uff0c\u5927\u6982\u662f\u9700\u8981\u5728\u96c6\u6210\u7ec8\u7aef\u8f93\u5165\uff1a</p> <pre><code>g++ say_hi.cpp -o say_hi.out -W -Wall -O2 -std=c++17\n./say_hi.out\n</code></pre> <p>\u8fd9\u4e2a\uff0c\u8fd8\u633a\u957f\u7684\uff0c\u6572\u8d77\u6765\u633a\u9ebb\u70e6\u7684\u3002\u5982\u4f55\u4e00\u952e\u6267\u884c\u8fd9\u4e24\u4e2a\u4ee3\u7801\u5462\uff1f\u6211\u4eec\u9700\u8981\u4e0b\u8f7d\u4e00\u4e2a\u63d2\u4ef6\uff1a<code>Code Runner</code>\uff08\u7b80\u5355\u67e5\u770b<code>Code Runner</code>\u7684\u8bf4\u660e\uff1b\u6211\u5df2\u7ecf\u5c06\u6211\u4eec\u6267\u884c\u4ee3\u7801\u9700\u8981\u7528\u7684\u9879\u6458\u4e86\u51fa\u6765\uff1b\u5728\u54ea\u91cc\u8bbe\u7f6e\u8fd9\u4e9b\u9009\u9879\u5462\uff1f<code>settings.json</code>\uff09</p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#_2","title":"\u8865\u5145\uff1a\u66f4\u6539\u8bbe\u7f6e\u4f7f\u5f97\u6587\u4ef6\u4e0d\u51fa\u73b0\u5728\u7ba1\u7406\u5668","text":"<pre><code>{\n  // \u6dfb\u52a0\u5e0c\u671b\u88ab\u5ffd\u7565\u7684\u6587\u4ef6,\u8fd9\u6837\u4e00\u4e9b\u6587\u4ef6\u867d\u7136\u5b58\u5728\u4e8e\u5f53\u524d\u5de5\u4f5c\u76ee\u5f55\u4e0b,\u4f46\u662f\u4e0d\u4f1a\u88ab\u663e\u793a\u5728\u5de6\u4fa7\u7684\u6587\u4ef6\u6d4f\u89c8\u5668\u91cc\n  \"files.exclude\": {\n    // dSYM\u6587\u4ef6\u5177\u6709\u8c03\u8bd5\u4fe1\u606f,\u666e\u901a\u4f7f\u7528\u7684\u8bdd\u4e0d\u770b\u5230\u5b83\u5c31\u53ef\u4ee5\u4e86\n    \"**/*.dSYM\": true,\n    \"**/*.out\": true,\n  },\n}\n</code></pre> <p>\u4e3a\u4ec0\u4e48\u662f\u6392\u9664\uff08exclude\uff09\u800c\u4e0d\u662f\u76f4\u63a5\u5220\u9664\u5462\uff1f\u56e0\u4e3a\u4e00\u4e2a\u53ef\u6267\u884c\u6587\u4ef6\u4e5f\u5c31\u51e0\u5341K\uff0c\u800c\u4e14\u5982\u679c\u6709\u65b0\u7684\u6267\u884c\u6587\u4ef6\u751f\u6210\u8fd8\u4f1a\u8986\u76d6\u539f\u6765\u7684\uff0c\u591a\u51fa\u6765\u7684\u90a3\u4e9b\u4e0d\u7ba1\u4e5f\u53ef\u4ee5</p> <p>\u5982\u679c\u4f60\u8981\u5220\u7684\u8bdd\u90a3\u5c31\u6253\u5f00\u8bbf\u8fbe\u6309\u7c7b\u578b\u6392\u5e8f\u3001\u7136\u540e\u21e7\u9009\u4e2d\u5220\u6389\u5c31\u53ef\u4ee5\u4e86</p> <p>\uff08\u4f60\u4e5f\u53ef\u4ee5\u5c1d\u8bd5\u5728\u4e4b\u540e\u7684\u6267\u884c\u8bed\u53e5\u4e2d\u6dfb\u52a0<code>rm</code>\uff09</p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#code-runner","title":"Code Runner","text":"<p>\u5728<code>settings.json</code>\u4e2d\u6dfb\u52a0\uff08\u6ce8\u610f<code>json</code>\u6587\u4ef6\u7684\u683c\u5f0f\uff09\uff1a</p> <pre><code>{\n  // --------------------------------------------------------------------------------------\n  // Code Runner\n  // To run code:\n  //   use shortcut \"Ctrl Opt N\" *\n  //   or press F1 and then select/type Run Code,\n  //   or right click the Text Editor and then click Run Code in editor context menu\n  //   or click Run Code button in editor title menu\n  //   or click Run Code button in context menu of file explorer\n  // To stop the running code:\n  //   use shortcut \"Ctrl Opt M\" *\n  //   or press F1 and then select/type Stop Code Run\n  //   or right click the Output Channel and then click Stop Code Run in context menu\n  \"code-runner.executorMap\": {\n    // Introduction:\n    //   Make sure the executor PATH of each language is set in the environment variable.\n    //   You could also add entry into \"code-runner.executorMap\" to set the executor PATH.\n    // Supported customized parameters:\n    //   $workspaceRoot: The path of the folder opened in VS Code\n    //   $dir: The directory of the code file being run\n    //   $fullFileName: The full name of the code file being run\n    //   $fileName: The base name of the code file being run, that is the file without the directory\n    //   $fileNameWithoutExt: The base name of the code file being run without its extension\n    /* ------ \u7f16\u8bd1\u3001\u8fd0\u884c\u53ea\u6709\u4e00\u4e2a\u6587\u4ef6\u7684cpp\u6587\u4ef6 ------ */\n    // \u6ce8\uff1a\u8def\u5f84\u4e2d\u6709\u7a7a\u683c\u4e0d\u4f1a\u51fa\u73b0\u95ee\u9898\n    \"cpp\": \"g++ $fullFileName -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c++17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // \u5176\u4e2d $fullFileName \u662f\u7edd\u5bf9\u8def\u5f84\uff0c\u662f\u4e3b\u6587\u4ef6\n    // \u81ea\u5df1\u51b3\u5b9a\u662f\u5426\u52a0\u5165 &amp;&amp; rm $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\uff08\u4e5f\u53ef\u4ee5\u6dfb\u52a0\"files.exclude\"\uff09\n    /* ------ \u7f16\u8bd1\u3001\u8fd0\u884c\u591a\u4e2acpp\u6587\u4ef6 ------ */\n    // \"cpp\": \"g++ $fullFileName &lt;file_to_link&gt; -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c++17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // &lt;file_to_link&gt;\u7684\u5199\u6cd5\uff1a\n    //   \u4e00\u822c\u7684\uff0c\u4f60\u4e5f\u53ef\u4ee5\u76f4\u63a5\u5199\u7edd\u5bf9\u8def\u5f84\n    //     \\\"/path/xxxx.cpp\\\"\n    //   \u5982\u679c\u4f60\u94fe\u63a5\u7684cpp\u6587\u4ef6\u548c\u4e3b\u6587\u4ef6\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff1a\n    //     $dir\\\"xxxx.cpp\\\"\n    //   \u66f4\u4e00\u822c\u7684\uff0c\u5982\u679c\u4f60\u94fe\u63a5\u7684cpp\u6587\u4ef6\u4e0d\u548c\u4e3b\u6587\u4ef6\u5728\u4e00\u4e2a\u76ee\u5f55\u4e0b\uff0c\u9700\u8981\u4ece\u5f53\u524dVSCode\u7684\u5de5\u4f5c\u76ee\u5f55\u8865\u5145\u76f8\u5bf9\u8def\u5f84\u4ece\u800c\u5f62\u6210\u7edd\u5bf9\u8def\u5f84\uff1a\n    //     $workspaceRoot\\\"relative/path/xxxx.cpp\\\"\n    /* ------ \u7f16\u8bd1c\u6587\u4ef6 ------ */\n    \"c\": \"gcc $fullFileName -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n    // \"c\": \"gcc $fullFileName &lt;file_to_link&gt; -o $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\" -W -Wall -O2 -std=c17 &amp;&amp; $dir\\\"$fileNameWithoutExt\\\"\\\".out\\\"\",\n  },\n  // Whether to clear previous output before each run (default is false):\n  \"code-runner.clearPreviousOutput\": true,\n  // Whether to save all files before running (default is false):\n  \"code-runner.saveAllFilesBeforeRun\": false,\n  // Whether to save the current file before running (default is false):\n  \"code-runner.saveFileBeforeRun\": true,\n  // Whether to show extra execution message like [Running] ... and [Done] ... (default is true):\n  \"code-runner.showExecutionMessage\": true, // cannot see that message is you set \"code-runner.runInTerminal\" to true\n  // Whether to run code in Integrated Terminal (only support to run whole file in Integrated Terminal, neither untitled file nor code snippet) (default is false):\n  \"code-runner.runInTerminal\": true, // cannot input data when setting to false\n  // Whether to preserve focus on code editor after code run is triggered (default is true, the code editor will keep focus; when it is false, Terminal or Output Channel will take focus):\n  \"code-runner.preserveFocus\": false,\n  // Whether to ignore selection to always run entire file. (Default is false)\n  \"code-runner.ignoreSelection\": true,\n  // --------------------------------------------------------------------------------------\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#_3","title":"\u529f\u80fd\u4ecb\u7ecd","text":"<p>\u67e5\u770b\u6211\u5199\u7684\u6ce8\u91ca</p> <p>\u9f20\u6807\u60ac\u505c\u67e5\u770b\u63d0\u793a</p> <p>\u5149\u6807\u653e\u5728\u9009\u9879\u6216\u9009\u9879\u8bbe\u7f6e\u5904 \u2318I \u4ee5\u6253\u5f00 IntellSense</p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#_4","title":"\u8bbe\u7f6e\u5feb\u6377\u952e","text":"<p>\u539f\u672c\u7684\u5feb\u6377\u952e\u592a\u4e0d\u987a\u624b\u4e86</p> <p></p> <p>\u4fee\u6539\u4e3a\uff1a\u2318R \u21e7\u2318R\uff08\u641c\u7d22code run\uff09</p> <p></p>"},{"location":"LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/#_5","title":"\u6700\u540e\u8bf4\u51e0\u53e5","text":"<p>\u5982\u679c\u4f60\u4e0d\u9700\u8981\u6ce8\u91ca\uff0c\u90a3\u4e48\u5c31\u53ef\u4ee5\u76f4\u63a5\u5220\u9664\u3002\u8fd8\u8bb0\u5f97\u6211\u5728\u7b2c\u4e00\u8282\u8bfe\u8bf4\u7684\uff0c\u7f51\u4e0a\u7684\u6559\u7a0b\u826f\u83a0\u4e0d\u9f50\u5417\uff1f\u4e00\u4e2a\u5f88\u5927\u7684\u539f\u56e0\u5c31\u662f\u7f51\u4e0a\u7684\u6559\u7a0b\u6ca1\u4ec0\u4e48\u6ce8\u91ca\u3002\u4f5c\u4e3a\u4e00\u4e2a\u521d\u5b66\u8005\uff0c\u7b2c\u4e00\u6b21\u7528<code>VS Code</code>\uff0c\u5982\u679c\u770b\u5230\u7684\u914d\u7f6e\u6587\u4ef6\u6ca1\u6709\u6ce8\u91ca\uff0c\u4e0d\u77e5\u9053\u8fd9\u4e9b\u63d2\u4ef6\u4ece\u54ea\u91cc\u6765\uff0c\u4e0d\u77e5\u9053\u600e\u4e48\u770b\u63d2\u4ef6\u7684\u4f7f\u7528\u8bf4\u660e\u4e66\uff0c\u4e5f\u4e0d\u77e5\u9053\u547d\u4ee4\u600e\u4e48\u7f16\u5199\u7ec4\u5408\uff0c\u90a3\u5f53\u7136\u4f1a\u770b\u4e0d\u61c2\u7f51\u4e0a\u7684\u6559\u7a0b\u4e86\u3002</p> <p>\u6211\u505a\u8fd9\u4efd\u6559\u7a0b\u7684\u521d\u5fc3\u5c31\u662f\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u771f\u6b63\u4ece\u96f6\u5f00\u59cb\uff0c\u77e5\u9053\u8fd9\u4e9b\u914d\u7f6e\u7684\u6765\u6e90\uff0c\u80fd\u591f\u81ea\u5df1\u642d\u5efa\u81ea\u5df1\u559c\u6b22\u7684\u7f16\u7a0b\u73af\u5883\u3002\u5230\u4e86\u8fd9\u8282\u8bfe\u5927\u5bb6\u5176\u5b9e\u5df2\u7ecf\u80fd\u611f\u89c9\u5230\uff0c\u7f16\u8bd1\u3001\u8fd0\u884c\u5e76\u4e0d\u662f\u4ec0\u4e48\u590d\u6742\u7684\u4e8b\u60c5\uff0c\u501f\u52a9<code>VS Code</code>\u7684<code>Code Runner</code>\u63d2\u4ef6\uff0c\u7ed3\u5408\u81ea\u5df1\u524d\u51e0\u8282\u8bfe\u6240\u5b66\u7684\u547d\u4ee4\u884c\uff0c\u518d\u52a0\u4e0a<code>VS Code</code>\u7684\u4e2a\u6027\u5316\u914d\u7f6e\uff0c\u4f60\u5df2\u7ecf\u53ef\u4ee5\u505a\u5230\u8fd9\u4ef6\u4e8b\u60c5\u4e86\u3002</p> <p>\u4f46\u5176\u5b9e\u8fd8\u6709\u4e00\u4ef6\u4e8b\u60c5\u9700\u8981\u53bb\u505a\u3002\u6211\u4eec\u53d1\u73b0\uff0c<code>Code Runner</code>\u8fd9\u4e2a\u63d2\u4ef6\u53ea\u80fd\u53bb\u8fd0\u884c\u4ee3\u7801\uff0c\u4f46\u662f\u4e0d\u80fd\u8c03\u8bd5\u4ee3\u7801\u3002\u5982\u679c\u6211\u5728\u4ee3\u7801\u7684\u67d0\u4e00\u884c\u6253\u4e0a\u65ad\u70b9\uff0c\u5e0c\u671b\u7a0b\u5e8f\u8fd0\u884c\u5230\u8fd9\u91cc\u505c\u4e0b\u6765\uff0c\u4f60\u53d1\u73b0<code>Code Runner</code>\u65e0\u6cd5\u505a\u5230\u8fd9\u4ef6\u4e8b\u60c5\u3002\u8fd9\u5c31\u662f\u6211\u4eec\u4e0b\u8282\u8bfe\u8981\u5b66\u4e60\u7684\u4e1c\u897f\uff1a\u7528<code>VS Code</code>\u8c03\u8bd5<code>Cpp</code>\u4ee3\u7801\u3002</p> <p>\u4e0d\u51fa\u610f\u5916\u7684\u8bdd\uff0c\u4e0b\u8282\u8bfe\u5e94\u8be5\u662f\u6700\u540e\u4e00\u8282\u8bfe\u4e86\uff01</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 7 \u7528VSCode\u8c03\u8bd5Cpp\u4ee3\u7801","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#intel-macvs-codebug","title":"Intel Mac\u7531\u4e8eVS Code\u5b98\u65b9\u63d2\u4ef6bug\u65e0\u6cd5\u8c03\u8bd5\u7684\u8bf4\u660e","text":"<p>\u5927\u5bb6\u597d\uff0c\u4eca\u5929(210902)\u6709\u540c\u5b66\u8ddf\u6211\u53cd\u6620\u8bf4\u6559\u7a0b\u4e2d<code>Intel Mac</code>\u65e0\u6cd5\u8c03\u8bd5\uff0c\u5177\u4f53\u8868\u73b0\u4e3a\uff1a\u6309F5\u5f00\u542f\u8c03\u8bd5\u4e4b\u540e\u5f39\u51fa\u7ec8\u7aef\uff0c\u7ec8\u7aef\u4e00\u7247\u7a7a\u767d\uff0c\u6ca1\u6709\u4efb\u4f55\u8f93\u51fa\uff1b\u4e0a\u6ed1\u540e\u53d1\u73b0\u4e00\u4e9b\u4ece\u6765\u6ca1\u89c1\u8fc7\u7684\u547d\u4ee4\u3002\u6211\u5728\u81ea\u5df1\u7684\u7535\u8111\u4e0a\u8bd5\u4e86\u4e00\u4e0b\u4e5f\u51fa\u73b0\u4e86\u8fd9\u6837\u7684\u60c5\u51b5\u3002</p> <p>\u901a\u8fc7\u67e5\u770b<code>GitHub microsoft/vscode-cpptools</code> \u4ed3\u5e93\u7684<code>issues</code>\uff0c\u786e\u8ba4\u8fd9\u662f\u5728\u6269\u5c55\u5546\u5e97\u5b89\u88c5\u7684<code>C++\u6269\u5c55\u63d2\u4ef6</code>\u65b0\u7248\u672c<code>v1.6.0 (August 24, 2021)</code>\u7684bug\uff0c\u5de5\u7a0b\u5e08\u5df2\u7ecf\u53d1\u73b0\u4e86\u8fd9\u4e2a\u95ee\u9898\u5e76\u4e14\u5728\u4ee3\u7801\u4e2d\u4fee\u590d\uff0c\u5728\u4e0b\u4e00\u4e2a\u7248\u672c\u7684\u66f4\u65b0\u4e2d\u5e94\u8be5\u4f1a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002</p> <p>\u6700\u8fd1\u9700\u8981\u8fdb\u884c\u8c03\u8bd5\u7684\u540c\u5b66\u53ef\u4ee5\u5148\u5c06<code>C++\u63d2\u4ef6</code>\u964d\u7ea7\u4e3a<code>1.5.1 (July 9, 2021)</code>\uff0c\u964d\u7ea7\u65b9\u6cd5\u5982\u4e0b\uff1a</p> <ol> <li>\u6253\u5f00<code>VS Code</code>\u8bbe\u7f6e\uff08\u2318,\uff09\u641c\u7d22<code>c_cpp.update</code>\uff0c\u5c06\u9009\u9879\u4ece<code>Insiders</code>\u66f4\u6539\u4e3a<code>Default</code>\uff08\u5173\u95edC++\u63d2\u4ef6\u7684\u81ea\u52a8\u66f4\u65b0\uff09</li> <li>\u9000\u51fa\u91cd\u542f<code>VS Code</code></li> <li>\u6253\u5f00\u63d2\u4ef6\u5546\u5e97\uff0c\u627e\u5230\u5b89\u88c5\u7684\u6269\u5c55<code>C/C++</code>\uff0c\u53f3\u952e\u9009\u62e9<code>Install Another Version</code>\uff0c\u9009\u62e9<code>v1.5.1</code></li> <li>\u9000\u51fa\u91cd\u542f<code>VS Code</code>\uff0c\u7b49\u5f85<code>v1.5.1</code>\u7248\u672c\u7684<code>C/C++\u6269\u5c55</code>\u5b89\u88c5\u5b8c\u6bd5\u5373\u53ef\u3002</li> </ol> <p>\u95ee\u9898\u63cf\u8ff0\uff1a</p> <p>https://github.com/microsoft/vscode-cpptools/issues/5079#issuecomment-903149903</p> <p>https://github.com/microsoft/vscode-cpptools/issues/8008#issue-974146751</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <p>https://github.com/microsoft/vscode-cpptools/issues/8008#issuecomment-902336978</p> <p>\u4ee3\u7801\u4fee\u590d\uff1a</p> <p>https://github.com/microsoft/MIEngine/pull/1201</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_1","title":"\u524d\u8a00","text":"<p>\u8c03\u8bd5\u662f\u4ec0\u4e48\uff0c\u5c31\u662f<code>debug</code>\uff08\u67e5\u770b<code>Run -&gt; Start Debugging</code>\uff09\u3002<code>debug</code>\u662f\u4ec0\u4e48\uff1a\u4f60\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u4f1a\u6709\u4e00\u4e9b\u5730\u65b9\u5199\u7684\u6709\u95ee\u9898\uff0c\u8fd9\u4e9b\u95ee\u9898\u5c31\u88ab\u79f0\u4f5c<code>bug</code>\u3002<code>bug</code>\u539f\u610f\u4e3a\u866b\u5b50\u3002<code>de-</code>\u524d\u7f00\u6709\u53bb\u9664\u7684\u610f\u601d\uff0c<code>debug</code>\u5c31\u662f\u6307\u201c\u53bb\u6389\u866b\u5b50\u201d\uff0c\u4e5f\u5c31\u662f\u627e\u4ee3\u7801\u4e2d\u7684\u9519\u5e76\u6539\u6b63\u3002\u4ed4\u7ec6\u770b<code>VS Code</code>\u8fb9\u680f\u7684\u8fd0\u884c\u56fe\u6807\uff0c\u53d1\u73b0\u5c31\u6709\u4e00\u53ea\u866b\u5b50\u3002</p> <p>\u81f3\u4e8e\u4e3a\u4ec0\u4e48<code>debug</code>\u88ab\u7ffb\u8bd1\u4e3a\u8c03\u8bd5\u5462\uff1f\u5927\u6982\u5c31\u662f\u8bf4\uff0c\u4f60\u8c03\u4e00\u8c03\uff08\u8c03\u6574\uff09\u4ee3\u7801\uff0c\u8bd5\u7740\u6539\u4e00\u6539\u4ee3\u7801\uff0c\u5c31\u628a\u9519\u8bef\u627e\u51fa\u6765\u4e86\u3002</p> <p>\u8fd9\u4e00\u8bfe\u4f1a\u5927\u91cf\u53c2\u8003<code>VS Code</code>\u7684\u5b98\u65b9\u6587\u6863\uff0c\u8fd9\u662f\u56e0\u4e3a\u4e00\u4efd\u914d\u7f6e\u6587\u4ef6\u600e\u4e48\u5199\uff0c\u4e0d\u4f1a\u6709\u4ec0\u4e48\u6559\u7a0b\u6bd4\u5b98\u65b9\u6587\u6863\u5199\u5f97\u66f4\u6e05\u695a\u4e86\u3002\u662f\u7684\uff0c\u5305\u62ec\u6211\u73b0\u5728\u6b63\u5728\u5f55\u5236\u7684\u8fd9\u4e00\u8bfe\u7684\u6559\u7a0b\u3002\u6211\u63a8\u8350\u4f60\u76f4\u63a5\u770b\u5b98\u65b9\u7684\u6587\u6863\uff1b\u4e0d\u8fc7\uff0c\u6211\u8fd8\u662f\u6709\u90a3\u4e48\u4e00\u4e22\u4e22\u81ea\u4fe1\u6bd4\u5b98\u7f51\u6587\u6863\u603b\u7ed3\u7684\u597d\u90a3\u4e48\u4e00\u70b9\u70b9\uff08\u56e0\u4e3a\u81ea\u5df1\u5728\u914d\u7f6e\u7684\u65f6\u5019\u603b\u4f1a\u9047\u5230\u4e00\u4e9b\u5751\uff0c\u6211\u4f1a\u5e2e\u4f60\u8df3\u8fc7\u8fd9\u4e9b\u5751\uff09\u3002\u6240\u4ee5\uff0c\u4f60\u53ef\u4ee5\u5148\u542c\u6211\u8bb2\u7684\uff0c\u5982\u679c\u89c9\u5f97\u6211\u54ea\u91cc\u8bb2\u5f97\u4e0d\u597d\uff0c\u4f60\u53ef\u4ee5\u79fb\u6b65\u5b98\u65b9\u6587\u6863\u67e5\u770b\u5bf9\u5e94\u7684\u90e8\u5206\u3002</p> <p>\u9996\u5148\u5148\u7b80\u5355\u770b\u4e00\u770b\u8fd9\u4e9b\u6587\u6863\u5427\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#important-docs","title":"Important Docs","text":"<p>VS Code\uff5cdocs</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#vs-codeuser-guide","title":"VS Code\uff5cUser Guide","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#user-guidetasks","title":"User Guide\uff5cTasks","text":"<p>Tasks in VS Code can be configured to run scripts and start processes so that many of these existing tools can be used from within VS Code without having to enter a command line or write new code.</p> <p>Workspace or folder specific tasks are configured from the <code>tasks.json</code> file in the <code>.vscode</code> folder for a workspace.</p> <p>VS Code\uff5cUser Guide\uff5cIntegrate with External Tools via Tasks</p> <p>\u5728<code>VS Code</code>\u4e2d\u53ef\u4ee5\u81ea\u5b9a\u4e49\u4e00\u4e9btask\uff08\u4efb\u52a1\uff09\uff0c\u8fd9\u4e9b\u4efb\u52a1\u4f1a\u5e2e\u4f60\u81ea\u52a8\u5316\u6267\u884c\u4e00\u4e9b\u4e1c\u897f\u3002\u4efb\u52a1\u7684\u914d\u7f6e\u6587\u4ef6\u662f<code>tasks.json</code>\u3002\u6211\u4eec\u5e0c\u671b\u5b9a\u4e49\u4e00\u4e2a\u7f16\u8bd1\u7a0b\u5e8f\u7684task\uff0c\u4ee5\u540e\u8c03\u8bd5\uff08<code>debug</code>\uff09\u4e4b\u524d\u90fd\u4f1a\u81ea\u52a8\u6267\u884c\u8fd9\u4e2atask\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#user-guidedebugging","title":"User Guide\uff5cDebugging","text":"<p>One of the key features of Visual Studio Code is its great debugging support. VS Code's built-in debugger helps accelerate your edit, compile and debug loop.</p> <p>VS Code keeps debugging configuration information in a <code>launch.json</code> file located in a <code>.vscode</code> folder in your workspace (project root folder).</p> <p>VS Code\uff5cUser Guide\uff5cDebugging</p> <p>\u5982\u679c\u4f60\u9700\u8981<code>debug</code>\uff0c\u90a3\u4e48<code>VS Code</code>\u63d0\u4f9b\u4e86\u8fd9\u6837\u7684\u5e73\u53f0\u3002<code>debug</code>\u7684\u914d\u7f6e\u6587\u4ef6\u662f<code>launch.json</code>\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_2","title":"\u5b9e\u7528\u6280\u5de7\uff1a\u8f93\u5165\u8f93\u51fa\u91cd\u5b9a\u5411","text":"<p>VS Code\uff5cUser Guide\uff5cDebugging | Redirect input/output to/from the debug target</p> <p>\u8fd9\u4e00\u70b9\u5927\u5bb6\u53ef\u4ee5\u5728\u8fd9\u8282\u8bfe\u540e\u81ea\u884c\u4e86\u89e3\uff0c\u6211\u89c9\u5f97\u8fd8\u662f\u633a\u6709\u7528\u7684\u4e00\u4e2a\u77e5\u8bc6\u70b9\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#vs-codec","title":"VS Code\uff5cC++","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#cclang-on-macos","title":"C++\uff5cClang on macOS","text":"<p>VS Code | C++ | Using Clang in Visual Studio Code</p> <p>\uff08\u867d\u7136\u8fd9\u662f\u4e13\u95e8\u4e3amacOS\u5199\u7684\u6587\u6863\uff0c\u4f46\u6211\u89c9\u5f97\u8fd9\u4e00\u7bc7\u5b9e\u5728\u8bef\u4eba\u5b50\u5f1f\u2026\u2026\u81f3\u5c11\u6211\u89c9\u5f97\u4e24\u5904\u4e0d\u592a\u59a5\u5f53\uff1b\u8fd8\u662f\u770b\u4e0a\u9762\u7684\u90a3\u4e2a<code>User Guide\uff5cTasks</code>\u548c<code>User Guide\uff5cDebugging</code>\u5427\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#cdebug","title":"C++\uff5cDebug","text":"<p>VS Code | C++ | Debug C++ in Visual Studio Code</p> <p>\uff08\u548c<code>User Guide\uff5cDebugging</code>\u76f8\u6bd4\u6ca1\u6709\u4ec0\u4e48\u65b0\u4e1c\u897f\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#claunchjson","title":"C++\uff5claunch.json","text":"<p>The <code>launch.json</code> file is used to configure the debugger in Visual Studio Code.</p> <p>VS Code Official Docs | Configuring C/C++ debugging</p> <p>\uff08\u5f88\u91cd\u8981\u7684\u6587\u6863\uff0c\u51e0\u4e4e\u8bf4\u660e\u4e86<code>C++</code>\u8c03\u8bd5\u914d\u7f6e\u6587\u4ef6<code>launch.json</code>\u6240\u6709\u9009\u9879\u7684\u542b\u4e49\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#tasksjson","title":"tasks.json","text":"<p>\u6ce8\u610f\uff1a\u8bf7\u5c3d\u91cf\u4e0d\u8981\u5728\u4efb\u4f55\u5173\u4e8e\u4ee3\u7801\u548c\u7a0b\u5e8f\u7684\u5730\u65b9\u51fa\u73b0\u7a7a\u683c\u3002\u7a7a\u683c\u4f5c\u4e3a<code>shell</code>\u5206\u9694\u547d\u4ee4\u7684\u7b26\u53f7\uff0c\u5728\u8def\u5f84\u6216\u6587\u4ef6\u540d\u4e2d\u51fa\u73b0\u7a7a\u683c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u610f\u60f3\u4e0d\u5230\u7684\u540e\u679c\u3002\u4f60\u53ef\u4ee5\u5c06\u7a7a\u683c\u66ff\u6362\u4e3a\u4e0b\u5212\u7ebf\uff0c\u6216\u8005\u76f4\u63a5\u5220\u6389\u7a7a\u683c\u3002\u5982\u5c06<code>VS Code</code>\u7684\u6587\u4ef6\u5939\u6539\u540d\u4e3a<code>VS_Code</code>\u6216<code>VSCode</code></p> <p>\u6211\u6240\u5199\u7684\u8bb2\u7a3f\u4e2d<code>Code Runner</code>\u548c<code>\u7f16\u8bd1</code>\u5bf9\u7a7a\u683c\u6709\u5f88\u597d\u7684\u5904\u7406\uff0c\u4f46\u662f<code>\u8c03\u8bd5</code>\u603b\u662f\u5904\u4e8e\u4e24\u96be\u7684\u5883\u5730\uff0c\u6709\u4e86\u7a7a\u683c\u5c31\u4e0d\u80fd\u8c03\u8bd5\u3002\u5f88\u62b1\u6b49\u5230\u73b0\u5728\u624d\u53d1\u73b0\u95ee\u9898(210110)</p> <pre><code>{\n  // Tasks in VS Code can be configured to run scripts and start processes\n  // so that many of these existing tools can be used from within VS Code \n  // without having to enter a command line or write new code.\n  // Workspace or folder specific tasks are configured from the tasks.json file in the .vscode folder for a workspace.\n  \"version\": \"2.0.0\",\n  \"tasks\": [\n    {\n      // The task's label used in the user interface.\n      // Terminal -&gt; Run Task... \u770b\u5230\u7684\u540d\u5b57\n      \"label\": \"g++ compile\",\n      // The task's type. For a custom task, this can either be shell or process.\n      // If shell is specified, the command is interpreted as a shell command (for example: bash, cmd, or PowerShell).\n      // If process is specified, the command is interpreted as a process to execute.\n      \"type\": \"shell\",// shell: \u8f93\u5165\u547d\u4ee4\n      // The actual command to execute.\n      // \u56e0\u4e3ag++\u5df2\u7ecf\u5728\u73af\u5883\u53d8\u91cf\u4e2d\u4e86\uff0c\u6240\u4ee5\u6211\u4eec\u8fd9\u91cc\u5199\u547d\u4ee4\u5c31\u884c\u4e0d\u7528\u5199g++\u7684\u7edd\u5bf9\u8def\u5f84\n      \"command\": \"g++\",\n      \"args\": [\n        \"${file}\", // \u8868\u793a\u5f53\u524d\u6587\u4ef6\uff08\u7edd\u5bf9\u8def\u5f84\uff09\n        // \u5728\u8fd9\u91cc\u6dfb\u52a0\u4f60\u8fd8\u9700\u8981\u94fe\u63a5\u7684.cpp\u6587\u4ef6\n        \"-o\",\n        \"${fileDirname}/${fileBasenameNoExtension}.out\",\n        \"-W\",\n        \"-Wall\",\n        \"-g\",\n        \"-std=c++17\",\n      ],\n      // Defines to which execution group this task belongs to.\n      // It supports \"build\" to add it to the build group and \"test\" to add it to the test group.\n      // Tasks that belong to the build/test group can be executed by running Run Build/Test Task from the Command Palette (sft cmd P).\n      // Valid values:\n      //   \"build\",\n      //   {\"kind\":\"build\",\"isDefault\":true}, \n      //   \"test\",\n      //   {\"kind\":\"test\",\"isDefault\":true}, \n      //   \"none\".\n      \"group\": {\n        \"kind\": \"build\",\n        \"isDefault\": true, // Defines if this task is the default task in the group.\n      },\n      // Configures the panel that is used to present the task's output and reads its input.\n      \"presentation\": {\n        // Controls whether the executed command is echoed to the panel. Default is true.\n        \"echo\": true, // \u6253\u5f00\u53ef\u4ee5\u770b\u5230\u7f16\u8bd1\u7684\u547d\u4ee4\uff0c\u628a\u547d\u4ee4\u672c\u8eab\u8f93\u51fa\u4e00\u6b21\n        // Controls whether the terminal running the task is revealed or not. Default is \"always\".\n        //   always: Always reveals the terminal when this task is executed.\n        //   silent: Only reveals the terminal if the task exits with an error or the problem matcher finds an error.(\u4f1a\u663e\u793a\u9519\u8bef\uff0c\u4f46\u4e0d\u4f1a\u663e\u793a\u8b66\u544a)\n        //   never: Never reveals the terminal when this task is executed.\n        \"reveal\": \"silent\", // \u63a7\u5236\u5728\u96c6\u6210\u7ec8\u7aef\u4e2d\u662f\u5426\u663e\u793a\u3002\u5982\u679c\u6ca1\u95ee\u9898\u90a3\u6211\u4e0d\u5e0c\u671b\u7ec8\u7aef\u88ab\u5207\u6362\u3001\u5982\u679c\u6709\u95ee\u9898\u6211\u5e0c\u671b\u80fd\u770b\u5230\u7f16\u8bd1\u8fc7\u7a0b\u54ea\u91cc\u51fa\u9519\uff0c\u6240\u4ee5\u9009silent(\u53ef\u80fdalways\u4f1a\u597d\u4e00\u4e9b)\n        // Controls whether the panel takes focus. Default is false.\n        \"focus\": false, // \u6211\u7684\u7406\u89e3\u662f\uff1a\u662f\u5426\u5c06\u9f20\u6807\u79fb\u8fc7\u53bb\u3002\u56e0\u4e3a\u8fd9\u4e2a\u662f\u7f16\u8bd1\u4efb\u52a1\uff0c\u6211\u4eec\u4e0d\u9700\u8981\u8f93\u5165\u4ec0\u4e48\u4e1c\u897f\uff0c\u6240\u4ee5\u9009false\n        // Controls if the panel is shared between tasks, dedicated to this task or a new one is created on every run.\n        \"panel\": \"shared\", // shared:\u4e0d\u540c\u4efb\u52a1\u7684\u8f93\u51fa\u4f7f\u7528\u540c\u4e00\u4e2a\u7ec8\u7aefpanel\uff08\u4e3a\u4e86\u5c11\u751f\u6210\u51e0\u4e2apanel\u6211\u4eec\u9009shared\uff09\n        // Controls whether to show the `Terminal will be reused by tasks, press any key to close it` message.\n        \"showReuseMessage\": true, // \u5c31\u4e00\u53e5\u8bdd\uff0c\u4f60\u60f3\u770b\u5c31true\uff0c\u4e0d\u60f3\u770b\u5c31false\n        // Controls whether the terminal is cleared before executing the task.\n        \"clear\": false, // \u8fd8\u662f\u4fdd\u7559\u4e4b\u524d\u7684task\u8f93\u51fa\u4fe1\u606f\u6bd4\u8f83\u597d\u3002\u6240\u4ee5\u4e0d\u6e05\u7406\n      },\n      // Other two choices: options &amp; runOptions (cmd I to use IntelliSense)\n      \"options\": {\n        // The current working directory of the executed program or script. If omitted Code's current workspace root is used.\n        \"cwd\": \"${workspaceFolder}\",// \u9ed8\u8ba4\u5c31\u662f\u8fd9\u4e2a\uff0c\u5220\u6389\u4e5f\u6ca1\u95ee\u9898\n      },\n      // problemMatcher: \u7528\u6b63\u5219\u8868\u8fbe\u5f0f\u63d0\u53d6g++\u7684\u8f93\u51fa\u4e2d\u7684\u9519\u8bef\u4fe1\u606f\u5e76\u5c06\u5176\u663e\u793a\u5230VS Code\u4e0b\u65b9\u7684Problems\u7a97\u53e3\n      // check: https://code.visualstudio.com/docs/editor/tasks#_defining-a-problem-matcher\n      \"problemMatcher\": {\n        \"owner\": \"cpp\",\n        \"fileLocation\": \"absolute\",\n        \"pattern\": {\n          \"regexp\": \"^(.*):(\\\\d+):(\\\\d+):\\\\s+(warning|error):\\\\s+(.*)$\",\n          \"file\": 1,\n          \"line\": 2,\n          \"column\": 3,\n          \"severity\": 4,\n          \"message\": 5,\n        },\n      },\n      // \u5b98\u7f51\u6559\u7a0b https://code.visualstudio.com/docs/cpp/config-clang-mac#_build-helloworldcpp \n      // \u63d0\u5230\u4e86\u53e6\u4e00\u79cdproblemMatcher\uff0c\u4f46\u8bd5\u4e86\u4e4b\u540e\u597d\u50cf\u4e0d\u8d77\u4f5c\u7528\uff0c\u751a\u81f3\u8fd8\u628a\u6211\u539f\u672c\u7684\u7535\u8111\u641e\u51fa\u4e86\u4e00\u4e9b\u95ee\u9898\u2026\u2026\n    },\n    {\n      \"label\": \"Open Terminal.app\",\n      \"type\": \"shell\",\n      \"command\": \"osascript -e 'tell application \\\"Terminal\\\"\\ndo script \\\"echo now VS Code is able to open Terminal.app\\\"\\nend tell'\",\n      \"problemMatcher\": [],\n      \"group\": \"none\",\n    }\n  ]\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_3","title":"\u4ece\u4e0a\u5230\u4e0b\u8bb2\u2026\u2026","text":"<p>\uff08\u6253\u5f00\u7ec8\u7aef\u7684task\u7b80\u5355\u8bb2\u4e00\u4e0b\u7ed3\u6784\uff0c\u8bb2\u5230<code>debug</code>\u7684\u65f6\u5019\u51fa\u95ee\u9898\u518d\u56de\u6765\u770b\u8fd9\u4e2atask\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#other-two-choices","title":"Other two choices","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_4","title":"\u603b\u7ed3","text":"<p>\u6211\u4eec\u5df2\u7ecf\u5728<code>tasks.json</code>\u4e2d\u521b\u5efa\u4e86\u4e00\u4e2a\u7f16\u8bd1<code>Cpp</code>\u4ee3\u7801\u7684<code>task</code>\uff0c\u63a5\u4e0b\u6765\u6211\u4eec\u5c31\u8981\u7528\u7f16\u8bd1\u51fa\u6765\u7684\u9644\u5e26\u7740\u8c03\u8bd5\u4fe1\u606f\u7684\u53ef\u6267\u884c\u6587\u4ef6\u53bb\u8c03\u8bd5\u6211\u4eec\u7684\u4ee3\u7801\u3002</p> <p>\uff08\u4f60\u4f1a\u53d1\u73b0\u4f60\u81ea\u5df1\u4e5f\u80fd\u5728<code>tasks.json</code>\u91cc\u9762\u81ea\u5df1\u5199\u4e00\u4e2a<code>Code Runner</code>\u4e86\u662f\u5427\uff1f\u786e\u5b9e\u662f\u8fd9\u6837\uff08\u4e0d\u8fc7<code>Code Runner</code>\u7684\u529f\u80fd\u8fd8\u662f\u591a\u4e00\u4e9b\uff0c\u4e5f\u652f\u6301\u522b\u7684\u8bed\u8a00\uff0c\u66f4\u65b9\u4fbf\u4e00\u4e9b\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#launchjson","title":"launch.json","text":"<pre><code>{\n  // One of the key features of Visual Studio Code is its great debugging support.\n  // VS Code's built-in debugger helps accelerate your edit, compile and debug loop.\n  // VS Code keeps debugging configuration information in a launch.json file\n  // located in a .vscode folder in your workspace (project root folder).\n  \"version\": \"0.2.0\",\n  \"configurations\": [\n    {\n      /* ------ these three options are mandatory ------ */\n      // The type of debugger to use for this launch configuration.\n      \"type\": \"cppdbg\", // C++ debug\n      // The request type of this launch configuration. Currently, launch and attach are supported.\n      //   If you come from a server or desktop background, \n      //   it's quite normal to have your editor launch your process for you, \n      //   and your editor automatically attaches its debugger to the newly launched process.\n      //   A launch configuration starts your app in debug mode before VS Code attaches to it.\n      // \u5927\u6982\u610f\u601d\u662f\u8bf4\uff0c\u5982\u679c\u4f60\u5f00\u59cbdebug\u7684\u65f6\u5019\u4f60\u7684\u9879\u76ee\u5df2\u7ecf\u542f\u8d77\u6765\u4e86\uff0c\u90a3\u5c31attach\uff08\u628adebug\u7684\u5de5\u5177\u9644\u52a0\u4e0a\u53bb\uff09\n      // \u5982\u679c\u4f60\u5f00\u59cbdebug\u7684\u65f6\u673a\u548c\u4f60\u542f\u52a8\u9879\u76ee\u7684\u65f6\u673a\u662f\u76f8\u540c\u7684\uff0c\u90a3\u5c31launch\n      \"request\": \"launch\", // debug\u7684\u7c7b\u578b\uff0claunch\u8868\u793a\u542f\u52a8\uff0cattach\u8868\u793a\u9644\u52a0\n      // The reader-friendly name to appear in the Debug launch configuration drop-down.\n      \"name\": \"C++ Debug\", // \u5728VSCode\u4fa7\u8fb9\u680fRun\u90a3\u91cc\u770b\u5230\u7684\u540d\u5b57\uff08\u53ef\u4ee5\u968f\u4fbf\u8d77\uff09\n      /* ------ some optional attributes available to all launch configurations ------ */\n      // To launch a task before the start of a debug session, set this attribute to the label of a task specified in tasks.json.\n      \"preLaunchTask\": \"g++ compile\", //\u5728\u8c03\u8bd5\u4e4b\u524d\u8981\u8fdb\u884c\u7684\u5de5\u4f5c compile\u662f\u5728 tasks.json \u7684\u7f16\u8bd1\u4efb\u52a1\u91cc\u9762\u7684label\n      /* ------ Many debuggers support some of the following attributes: ------ */\n      // executable or file to run when launching the debugger\n      // \uff01\uff01\u4e0d\u8981\u5728\u7a0b\u5e8f\u548c\u4ee3\u7801\u7684\u8def\u5f84\u53ca\u6587\u4ef6\u540d\u4e2d\u51fa\u73b0\u7a7a\u683c\uff01\uff01\u5426\u5219\u65e0\u6cd5\u8c03\u8bd5\uff08\u6211\u5c1d\u8bd5\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u771f\u7684\u65e0\u6cd5\u89e3\u51b3\uff09\n      \"program\": \"${fileDirname}/${fileBasenameNoExtension}.out\", // debug\u7684\u5bf9\u8c61(-g\u7f16\u8bd1\u51fa\u6765\u7684\u4e8c\u8fdb\u5236\u6587\u4ef6)\uff0c\u9700\u8981\u548c.vscode/tasks.json\u4e2d\u751f\u6210\u7684\u53ef\u6267\u884c\u6587\u4ef6\u4e00\u81f4\n      // arguments passed to the program to debug\n      \"args\": [], // \u6bd4\u5982\u8fd0\u884c\u4f60\u7684\u7a0b\u5e8f\u6dfb\u52a0\u8f93\u5165\u53c2\u6570\uff08argc/argv\uff09\uff0c\u9700\u8981\u5728\u8fd9\u91cc\u6dfb\u52a0\n      // Environment variables to add to the environment for the program\n      \"environment\": [], // \u653e\u7f6e\u73af\u5883\u53d8\u91cf\n      // current working directory for finding dependencies and other files\n      \"cwd\": \"${workspaceFolder}\",\n      // break immediately when the program launches\n      \"stopAtEntry\": false,\n      // If true, a console is launched for the debuggee.\n      // If false, on Linux and Windows, it will appear in the Integrated Console.\n      \"externalConsole\": true,\n      // \u4e3atrue\u5219\u4f1a\u6253\u5f00\u7cfb\u7edf\u7ec8\u7aef\u5728\u5176\u4e2d\u8fdb\u884c\u4ea4\u4e92\n      // \u5982\u679c\u4e3a true\uff0c\u5219\u4e3a\u8c03\u8bd5\u5bf9\u8c61\u542f\u52a8\u63a7\u5236\u53f0\u3002\u5982\u679c\u4e3a false\uff0c\u5b83\u5728 Linux \u548c Windows \u4e0a\u4f1a\u663e\u793a\u5728\u96c6\u6210\u63a7\u5236\u53f0\u4e2d\n      // macOS\u4e0d\u9002\u7528\uff1ahttps://code.visualstudio.com/docs/cpp/launch-json-reference#_externalconsole\n      /* ------ Customizing GDB or LLDB ------ */\n      // Indicates the debugger that VS Code will connect to. Must be set to gdb or lldb. \n      // \u4f46\u662fmacOS\u53ea\u5b89\u88c5\u4e86llbd\uff08\u6709\u53ef\u80fd\u662f\u5b89\u88c5\u547d\u4ee4\u884c\u5de5\u5177\u7684\u65f6\u5019\u5b89\u88c5\u7684\uff09\uff0c\u90a3\u5c31\u7528lldb\u5427\n      \"MIMode\": \"lldb\",\n    }\n  ]\n}\n</code></pre>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_5","title":"\u4ece\u4e0a\u5230\u4e0b\u8bb2\u2026\u2026","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#hello_worldcpp","title":"hello_world.cpp","text":"<pre><code>#include &lt;cstdio&gt;\n\nint main() { printf(\"\\n\\nHello, world!\\n\\n\"); }\n</code></pre> <p>\u76f4\u63a5<code>F5</code>\u5f00\u59cb\u8c03\u8bd5\uff08\u5982\u679c\u4f60\u8bbe\u7f6e\u4e86\u591a\u4e2alaunch\u53ef\u80fd\u9700\u8981\u5728\u8fb9\u680fRun\u54ea\u91cc\u52fe\u9009\u76f8\u5e94\u7684\uff09</p> <p>\u4f60\u4f1a\u53d1\u73b0\u51fa\u73b0\u95ee\u9898\uff0c\u7ec8\u7aef\u6ca1\u6709<code>Hello, world!</code>\u3002\u8fd9\u662f\u4ec0\u4e48\u539f\u56e0\u5462\uff1f\uff1f\uff1f</p> <p>GitHub issue\uff5cVS Code\u56e0\u6743\u9650\u65e0\u6cd5\u6253\u5f00\u7cfb\u7edf\u7ec8\u7aef\uff08\u5927\u6982<code>1/2</code>\u7684\u5730\u65b9\uff09</p> <p></p> <p>\u56de\u5230<code>tasks.json</code> \u21e7\u2318P\u8c03\u51fa<code>VS Code</code>\u7684\u547d\u4ee4\u7a97\u53e3\uff0c\u641c\u7d22<code>task</code>\uff0c\u70b9\u51fb<code>Tasks: Run Task</code>\uff0c\u9009\u62e9<code>Open Terminal.app</code>\uff1b\u7ed9<code>VS Code</code>\u6253\u5f00\u7ec8\u7aef\u7684\u6743\u9650\uff0c\u89e3\u51b3\u95ee\u9898</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#vs-code","title":"\u8c03\u6574\u7ec8\u7aef\u548cVS Code\u7684\u4f4d\u7f6e","text":"<p>\u957f\u6309\u7eff\u8272\u7684\u6309\u94ae\uff0c\u5c06\u7ec8\u7aef\u653e\u5728\u5c4f\u5e55\u5de6\u8fb9\uff0c<code>VS Code</code>\u653e\u5728\u5c4f\u5e55\u53f3\u8fb9\u3002</p> <p>\u5728\u8c03\u8bd5\u591a\u6b21\u4e4b\u540e\u53ef\u4ee5\u4f7f\u7528\u5feb\u6377\u952e\uff1a\u21e7\u2318W\u5173\u95ed\u5168\u90e8\u3002\u6216\u76f4\u63a5\u2318Q\u9000\u51fa\u7ec8\u7aef</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#vs-code_1","title":"\u4f7f\u7528VS Code\u7684\u96c6\u6210\u7ec8\u7aef\uff1f","text":"<p>\u5982\u4f55\u5728\u8c03\u8bd5\u7684\u65f6\u5019\u4e0d\u4f7f\u7528\u7cfb\u7edf\u7684\u7ec8\u7aef\u800c\u4f7f\u7528<code>VS Code</code>\u7684\u96c6\u6210\u7ec8\u7aef\uff1f</p> <p>\u4f60\u80af\u5b9a\u89c9\u5f97\u8fd9\u4e48\u505a\u5f88\u9ebb\u70e6\uff0c<code>Code Runner</code>\u90fd\u53ef\u4ee5\u8ba9\u63d0\u793a\u4fe1\u606f\u51fa\u73b0\u5728\u96c6\u6210\u7ec8\u7aef\uff0c\u90a3\u6211\u8c03\u8bd5\u4ee3\u7801\u4e5f\u628a\u7a0b\u5e8f\u7684\u8f93\u51fa\u653e\u5230\u96c6\u6210\u7ec8\u7aef\u53ef\u4ee5\u5417\uff1f\u5f88\u9057\u61be\uff0c\u8fd9\u4ef6\u4e8b\u60c5\u5728<code>macOS</code>\u4e0a\u505a\u4e0d\u5230\u3002</p> <p>\u5f53\u65f6<code>GitHub issues</code>\u4e0a\u4e5f\u6709\u4eba\u95ee\u8fc7\u8fd9\u4ef6\u4e8b\u60c5\u3002</p> <p>GitHub\uff5cissue: Open the externalConsole inside the VSCode Terminal in OSX</p> <p>\uff08\u67e5\u770b\u6211\u7684\u56de\u7b54\uff1b\u56fe\u7247\u4f1a\u6302\u662f\u56e0\u4e3a<code>GitHub</code>\u7684\u670d\u52a1\u5668\u5728\u56fd\u5916\u2026\u2026\uff09\u975e\u5e38\u9057\u61be\uff0c\u4e5f\u8bb8\u4e4b\u540e\u80fd\u652f\u6301\uff0c\u4f46\u662f\u73b0\u5728not available\u3002\uff08\u771f\u7684\u5f88\u53ef\u60dc\uff09</p> <p>VS Code\u5b98\u65b9\u6587\u6863\uff5cConfiguring C/C++ debugging\u4e4bexternalConsole</p> <p></p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_6","title":"\u8c03\u8bd5\u4e3e\u4f8b","text":"<p>\u6211\u60f3\u4e86\u597d\u4e45\u4e5f\u6ca1\u627e\u5230\u7b80\u5355\u53c8\u6709\u70b9\u610f\u601d\u7684\u4f8b\u5b50\u2026\u2026\u771f\u6b63\u8981\u7528\u5230<code>debug</code>\u7684\u65f6\u5019\u6211\u89c9\u5f97\u5e94\u8be5\u662f\u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5\u7684\u9898\u76ee\uff0c\u4f46\u6211\u8fd9\u4e2a\u53ea\u662f\u7b80\u5355\u6559\u7a0b\uff0c\u6211\u4e5f\u4e0d\u60f3\u628a\u6570\u7b97\u9898\u626f\u8fdb\u6765\u3002\u6240\u4ee5\u771f\u7684\u5f88\u62b1\u6b49\uff01\u8fd9\u4e00\u5757\u7684\u8c03\u8bd5\u5927\u5bb6\u5728\u81ea\u5df1\u5199\u7684\u7a0b\u5e8f\u9047\u5230<code>bug</code>\u7684\u65f6\u5019\u81ea\u884c\u4f53\u9a8c\u2026\u2026</p> <pre><code>#include &lt;cstdio&gt;\n\nint twoSum(int a, int b) { return a + b; }\nint fourSum(int a, int b, int c, int d) { return twoSum(a, b) + twoSum(c, d); }\n\nint main() { printf(\"Addition = %d\\n\", fourSum(1, 2, 3, 4)); }\n</code></pre>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_7","title":"\u5176\u4ed6\u8c03\u8bd5\u6280\u5de7","text":"<p>\u5927\u5bb6\u81ea\u5df1\u4f53\u9a8c\u4e00\u4e0b\uff0c\u6211\u5c31\u4e0d\u505a\u8fc7\u591a\u7684\u89e3\u91ca\u4e86\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_8","title":"\u8865\u5145","text":""},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_9","title":"\u9700\u8981\u65b0\u5efa\u5de5\u4f5c\u533a\u5417\uff1f","text":"<p>\u6211\u7684\u60f3\u6cd5\u662f\u5e0c\u671b\u4f60\u5728\u4e00\u4e2a\u6587\u4ef6\u5939<code>Cpp</code>\u4e2d\u5199\u6240\u6709\u7684Cpp\u4ee3\u7801\uff0c\u8fd9\u5728\u5b66\u4e60<code>Cpp</code>\u548c\u7f16\u5199\u7b80\u5355<code>Cpp</code>\u4ee3\u7801\u65f6\u662f\u975e\u5e38\u5408\u9002\u7684\uff08\u6211\u8fd9\u4e48\u505a\u53d1\u73b0\u5f88\u65b9\u4fbf\uff09\u3002\u4f46\u662f\u8bf7\u6ce8\u610f\uff1a\u5982\u679c\u4f60\u7528<code>VS Code</code>\u6765\u505a\u4e00\u4e2a<code>C++</code>\u9879\u76ee\uff0c\u90a3\u6700\u597d\u8fd8\u662f\u53e6\u5f00\u4e00\u4e2a\u65b0\u7684\u6587\u4ef6\u5939\uff1b\u6bd5\u7adf\u5728<code>VS Code</code>\u4e2d\uff0c\u4e00\u4e2a\u6587\u4ef6\u5939\u5c31\u662f\u4e00\u4e2a\u9879\u76ee\u3002\uff08\u4f46\u5176\u5b9e\u5728\u6211\u4eec\u73b0\u5728\u7528\u7684\u8fd9\u4e2a<code>Cpp</code>\u6587\u4ef6\u5939\u65b0\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u4e5f\u8db3\u591f\u4e86\uff09</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#c_cpp_propertiesjson","title":"\u6709\u4e9b\u5176\u4ed6\u6559\u7a0b\u91cc\u9762\u7684c_cpp_properties.json\u662f\u5e72\u4ec0\u4e48\u7684\uff1f","text":"<p>(210224\u8865\u5145)</p> <p>\u6211\u4eec\u53ef\u4ee5\u76f4\u63a5\u67e5\u770b<code>VS Code</code>\u5b98\u7f51\u5173\u4e8e\u8fd9\u4efd\u6587\u4ef6\u7684\u6587\u6863\uff1a</p> <p>VS Code Docs | c_cpp_properties.json reference</p> <p>VS Code Docs | Customizing default settings</p> <p>\u4e4b\u524d\u6ca1\u4e86\u89e3\u8fc7\u8fd9\u4e2a\u6587\u4ef6\uff0c\u770b\u4e86\u6587\u6863\u4e4b\u540e\uff0c\u6211\u611f\u89c9<code>c_cpp_properties.json</code>\u4ec5\u4ec5\u662f\u7528\u6765\u66ff\u6362\u6389\u5728<code>\u8bbe\u7f6e</code>\u6216\u8005\u662f<code>settings.json</code>\u4e2d\u51fa\u73b0\u7684 <code>C_Cpp.default.*</code>\u7684\u8fd9\u4e9b\u9009\u9879\uff0c\u628a\u8fd9\u4e9b\u8bbe\u7f6e\u63d0\u4e86\u51fa\u6765\u653e\u5230\u8fd9\u4e2a\u6587\u4ef6\u91cc\u9762\uff0c\u8fd9\u4e2a\u6587\u4ef6\u4e5f\u4f1a\u5bf9\u8fd9\u4e9b\u8bbe\u7f6e\u63d0\u4f9b\u4e00\u4e9b\u597d\u7684\u8bed\u6cd5\uff0c\u8ba9\u4f60\u66f4\u65b9\u4fbf\u7684\u8bbe\u7f6e\u8fd9\u4e9b\u9879\uff1b\u4e5f\u53ef\u4ee5\u5728<code>tasks.json</code>\u548c<code>launch.json</code>\u4e2d\u8c03\u7528\u8fd9\u4e9b\u914d\u7f6e\u3002</p> <p>\u5982\u679c\u4e0d\u9700\u8981\u8bbe\u7f6e<code>C_Cpp.default.*</code>\u91cc\u9762\u7684\u9009\u9879\uff0c\u90a3\u4e48\u5c31\u4e0d\u9700\u8981\u8fd9\u4e2a<code>c_cpp_properties.json</code>\u3002</p> <p>\u6211\u7684\u6559\u7a0b\u76f4\u63a5\u4ece\u547d\u4ee4\u884c\u5165\u624b\u4e86\uff0c\u8fd9\u91cc\u9762\u7684\u8bbe\u7f6e\u6211\u90fd\u76f4\u63a5\u7528<code>g++</code>\u7f16\u8bd1\u5668\u7684\u53c2\u6570\u4ee3\u66ff\u4e86\uff0c\u6240\u4ee5\u4e0d\u9700\u8981\u8bbe\u7f6e\u8fd9\u4e9b\u9009\u9879\u3002</p>"},{"location":"LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/#_10","title":"\u603b\u7ed3","text":"<p>\u8fd9\u8282\u8bfe\u6211\u4eec\u4e3b\u8981\u5b66\u4e60\u4e86\u5982\u4f55\u5199\u4e24\u4efd\u914d\u7f6e\u6587\u4ef6\uff1a<code>tasks.json</code>\u53ef\u4ee5\u7528\u914d\u7f6e\u4efb\u52a1\u5b9e\u73b0\u81ea\u52a8\u5316\uff1b<code>launch.json</code>\u7528\u6765\u914d\u7f6e<code>VS Code</code>\u8c03\u8bd5\u7684\u65b9\u6cd5\u3002\u73b0\u5728\uff0c\u5982\u679c\u4f60\u53ea\u662f\u8981\u6267\u884c\u4f60\u7684\u4ee3\u7801\uff0c\u2318R\u76f4\u63a5\u7528\u63d2\u4ef6<code>Code Runner</code>\u89e3\u51b3\u95ee\u9898\uff0c\u975e\u5e38\u5feb\u3002\u5982\u679c\u4f60\u9700\u8981\u8c03\u8bd5\uff0c\u90a3\u5c31\u6253\u4e0a\u65ad\u70b9\uff0c\u7136\u540e<code>F5</code>\uff08\u6216\u8005\u89e6\u63a7\u680f\u4e0a\u7684\u64ad\u653e\u6309\u94ae\uff09\uff1b\u7531\u4e8e\u53ef\u80fd\u9700\u8981\u591a\u6b21\u6253\u5f00\u8c03\u8bd5\uff0c\u8fd9\u65f6\u4f60\u9700\u8981\u5c06\u7ec8\u7aef\u548c<code>VS Code</code>\u5206\u5c4f\u83b7\u5f97\u597d\u4e00\u4e9b\u7684\u4f53\u9a8c\u3002</p> <p>\u4e0a\u8282\u8bfe\u8bf4\u8fd9\u662f\u6700\u540e\u4e00\u8282\u8bfe\uff0c\u4f46\u6211\u4e4b\u540e\u5e94\u8be5\u8fd8\u4f1a\u5f55\u5236\u4e24\u8282\u8bfe\u3002\u4e00\u8282\u662f\u8bfe\u7a0b\u56de\u987e\uff0c\u4f1a\u8bb2\u8bb2\u8fd9\u95e8\u8bfe\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u540c\u65f6\u4e5f\u4f1a\u5b89\u5229\u4e00\u4e9b\u6211\u81ea\u5df1\u7528\u7684\u63d2\u4ef6\uff0c\u987a\u4fbf\u4e5f\u63a8\u8350\u4e00\u4e9b\u53ef\u4ee5\u6df1\u5165\u5b66\u4e60\u7684\u5730\u65b9\u3002\u53e6\u4e00\u8282\u51c6\u5907\u505a\u4e00\u4e2a\u6781\u901f\u7248\u7684\u6559\u7a0b\uff0c\u56e0\u4e3a\u5bf9\u4e8e\u4e00\u4e9b\u5fc3\u6025\u7684\u4eba\u6765\u8bf4\uff0c\u53ef\u80fd\u603b\u5171\u52a0\u8d77\u6765\u5feb5\u4e2a\u5c0f\u65f6\u7684\u89c6\u9891\u6559\u7a0b\u8fd8\u662f\u6709\u4e00\u4e9b\u957f\uff1b\u53e6\u5916\u5bf9\u4e8e\u8ba4\u771f\u542c\u5b8c\u8bfe\u7a0b\u7684\u540c\u5b66\uff0c\u53ef\u80fd\u4e5f\u9700\u8981\u4e00\u4e2a\u5feb\u901f\u56de\u987e\u5982\u4f55\u914d\u7f6e\u7f16\u7a0b\u73af\u5883\u7684\u603b\u7ed3\u6027\u89c6\u9891\u3002</p> <p>\u5982\u679c\u4f60\u8ddf\u7740\u8fd9\u516d\u8282\u8bfe\uff08\u9664\u53bb\u6700\u5f00\u59cb\u7684\u4e00\u8282\uff09\u8d70\u4e0b\u6765\uff0c\u6211\u76f8\u4fe1\u4f60\u4f1a\u5c11\u8d70\u5f88\u591a\u5f2f\u8def\u3002\u4ee5\u540e\u5199\u4ee3\u7801\u4e5f\u4f1a\u89c9\u5f97\u5f88\u8212\u9002\u3002\u8fd8\u8bb0\u5f97\u6211\u5728\u7b2c\u4e00\u8282\u8bfe\u8bf4\u7684\u8bfe\u7a0b\u76ee\u6807\u5417\uff1f\u6211\u5e0c\u671b\u8fd9\u4efd\u6559\u7a0b\u80fd\u8ba9\u4e00\u5e74\u534a\u524d\u521a\u521a\u62ff\u7740<code>mac</code>\u5165\u95e8<code>Cpp</code>\u7f16\u7a0b\u7684\u6211\u5c11\u4e00\u5e74\u7684\u8ff7\u832b\uff0c\u6211\u60f3\u6211\u5e94\u8be5\u505a\u5230\u4e86\u8fd9\u4e00\u70b9\u3002</p> <p>\u8fd9\u4e00\u8282\u8bfe\u5c31\u5230\u8fd9\u91cc\u4e86\uff01\u611f\u8c22\u5927\u5bb6\u542c\u5230\u73b0\u5728\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u901a\u8fc7\u8fd9\u51e0\u8282\u8bfe\u7684\u6559\u7a0b\u6709\u6240\u6536\u83b7\uff01</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 8 \u8bfe\u7a0b\u56de\u987e","text":""},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_1","title":"\u56de\u987e","text":"<p>\u5230\u8fd9\u91cc\uff0c\u6211\u4eec\u5df2\u7ecf\u4ece\u6700\u57fa\u7840\u6587\u4ef6\u7cfb\u7edf\u3001\u7a0b\u5e8f\u3001\u4e8c\u8fdb\u5236\u53ef\u6267\u884c\u6587\u4ef6\u3001\u7ec8\u7aef\u3001<code>shell</code>\u3001\u547d\u4ee4\u884c\uff0c\u8d70\u5230\u4e86<code>VS Code</code>\uff0c\u8ba4\u8bc6\u4e86<code>VS Code</code>\u7684\u754c\u9762\u3001\u719f\u6089\u4e86\u8fdb\u884c\u8bbe\u7f6e\u3001\u4fee\u6539\u5feb\u6377\u952e\u7684\u65b9\u6cd5\u3001\u5b89\u88c5\u4e86\u4e00\u4e9b\u975e\u5e38\u5fc5\u8981\u7684\u63d2\u4ef6\uff0c\u6211\u4eec\u4f7f\u7528<code>Code Runner</code>\u4e00\u952e\u8fd0\u884c\u4ee3\u7801\uff0c\u4f7f\u7528<code>VS Code</code>\u81ea\u5e26\u7684\u4efb\u52a1\u6784\u5efa\u529f\u80fd\u548c\u8c03\u8bd5\u7a97\u53e3\uff0c\u5b9e\u73b0\u4e86<code>Cpp</code>\u4ee3\u7801\u7684\u8c03\u8bd5\u3002\u4e00\u8def\u8d70\u4e0a\u6765\uff0c\u4f60\u5927\u6982\u53ef\u80fd\u4e5f\u8bb8\u4f1a\u89c9\u5f97\uff0c\u5b66\u4e86\u4e0d\u5c11\u4e1c\u897f\u3002\u662f\u8fd9\u6837\u7684\uff0c\u5982\u679c\u76f4\u63a5\u8ba9\u4f60\u770b<code>tasks.json</code>\u548c<code>launch.json</code>\uff0c\u90a3\u6211\u4f30\u8ba1\u4f60\u5b8c\u5168\u4e0d\u77e5\u9053\u91cc\u9762\u5199\u7684\u662f\u4ec0\u4e48\u3002</p> <p>\u8fd9\u95e8\u8bfe\u7a0b\u7684\u8bbe\u8ba1\u5c31\u662f\u4ece\u5e95\u5c42\u4e00\u70b9\u70b9\u5f00\u59cb\u5f80\u4e0a\u8d70\uff0c\u6ce8\u91cd\u57fa\u7840\uff0c\u4e00\u70b9\u4e00\u70b9\u6dfb\u52a0\u5185\u5bb9\uff0c\u8ba9\u4f60\u4e0d\u4f1a\u4e0d\u77e5\u6240\u63aa\u3002\u5982\u679c\u4f60\u505a\u4e3a\u4e00\u53ea\u7f16\u7a0b\u840c\u65b0\uff0c\u5bf9\u4e8e\u6211\u6559\u7a0b\u91cc\u9762\u7684\u5730\u65b9\u8fd8\u6709\u4e0d\u61c2\u7684\u5730\u65b9\uff0c\u4e5f\u6b22\u8fce\u5728\u8bc4\u8bba\u533a\u3001\u5728<code>GitHub</code>\u7684\u8ba8\u8bba\u533a\u7559\u8a00\u3002</p> <p><code>VS Code</code>\u8fd8\u6709\u5f88\u591a\u597d\u7684\u529f\u80fd\uff0c\u800c\u6211\u4e0d\u53ef\u80fd\u5c06\u8fd9\u4e9b\u529f\u80fd\u5168\u90e8\u4ecb\u7ecd\u5b8c\uff0c\u6709\u4e9b\u529f\u80fd\u6211\u4e5f\u6ca1\u6709\u4f7f\u7528\u8fc7\u3002\u5982\u679c\u4f60\u542c\u8bfe\u542c\u5230\u4e86\u8fd9\u91cc\uff0c\u6211\u60f3\u5173\u4e8e<code>VS Code</code>\u57fa\u672c\u7684\u4e1c\u897f\u4f60\u90fd\u5df2\u7ecf\u6709\u4e86\u5f88\u597d\u7684\u638c\u63e1\u4e86\uff0c\u4f60\u5b8c\u5168\u53ef\u4ee5\u5728\u4f7f\u7528<code>VS Code</code>\u7684\u65f6\u5019\u81ea\u5df1\u53bb\u63a2\u7d22\u4e00\u4e9b\u4e1c\u897f\uff01</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_2","title":"\u8bf4\u8bf4\u8bfe\u7a0b\u8bbe\u8ba1\u601d\u8def","text":"<p>\uff08\u4e3b\u8981\u601d\u8def\u662f\u5012\u53d9\u56de\u987e\u3002\u4ece\u9876\u5c42\u8bf4\u5230\u5e95\u5c42\u8bf4\u8bf4\u6211\u4e3a\u4ec0\u4e48\u8981\u8fd9\u4e48\u8bbe\u8ba1\u6211\u7684\u8bfe\u7a0b\uff09</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_3","title":"\u8bb2\u8bb2\u6211\u7684\u6545\u4e8b","text":"<p>\uff08\u5176\u5b9e\u4e5f\u6ca1\u4ec0\u4e48\u6545\u4e8b\u2026\u2026\uff09</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_4","title":"\u5b89\u5229\u63d2\u4ef6","text":"<p>\uff08\u5207\u6362\u4e3a\u6211\u81ea\u5df1\u7684\u7535\u8111\uff09</p> <p><code>background</code>\uff1a\u5199\u4ee3\u7801\u8981\u6709\u597d\u7684\u5fc3\u60c5</p> <p><code>TODO</code>\uff1a\u6709\u7684\u65f6\u5019\u4ee3\u7801\u591a\u4e86\u5c31\u5fd8\u8bb0\u54ea\u91cc\u8981\u5199\u4ec0\u4e48\u4e86\u3002<code>TODO</code>\u5e2e\u4f60\u8bb0\u7740\u4ee3\u7801\u54ea\u91cc\u8fd8\u8981\u8865\u5145\u3001\u4fee\u6539\u3002</p> <p><code>bookmarks</code>\uff1a\u770b\u522b\u4eba\u4ee3\u7801/\u5de5\u7a0b\u7684\u65f6\u5019\uff0c\u603b\u662f\u89c9\u5f97\uff0c\u5bb3\uff0c\u6709\u4e2a\u4e66\u7b7e\u591a\u65b9\u4fbf\u554a\uff01\u8fd9\u4e2a\u63d2\u4ef6\u5e2e\u4f60\u641e\u5b9a\u8fd9\u4ef6\u4e8b\u60c5\u3002</p> <p><code>markdown all in one</code>\uff1a\u4f5c\u4e3a\u5199\u4ee3\u7801\u7684\u4eba\uff0c\u600e\u4e48\u80fd\u4e0d\u61c2<code>markdown</code>\u5462\uff1f\u5982\u679c\u4f60\u60f3\u7528<code>VS Code</code>\u5199<code>markdown</code>\uff0c\u90a3\u4e48\u8fd9\u4e2a\u63d2\u4ef6\u57fa\u672c\u53ef\u4ee5\u6ee1\u8db3\u4f60\u7684\u6240\u6709\u9700\u6c42\u3002</p> <p><code>git Graph</code>\uff1a\u5b66\u4e86<code>git</code>\u4e4b\u540e\uff0c\u603b\u662f\u89c9\u5f97\u547d\u4ee4\u884c\u4e0d\u987a\u624b\u3002\u90a3\u5c31\u7528\u53ef\u89c6\u5316\u5de5\u5177\u5427\uff1f\u8fd9\u4e00\u6b3e\u63d2\u4ef6\u786e\u5b9e\u7b80\u6d01\u65b9\u4fbf\u3002</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_5","title":"\u63a8\u8350\u7ee7\u7eed\u5b66\u4e60","text":""},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#markdown","title":"markdown","text":"<p>\uff08<code>markdown</code>\u7b80\u4ecb\uff09</p> <p>Markdown\u8bed\u6cd5\u5b66\u4e60\uff5c\u7cbe\u7b80\u7248</p> <p>\u5b66\u4e60<code>markdown</code>\u6700\u5f00\u59cb\u5199\u7684\u4e00\u4efd\u7b14\u8bb0\u3002\u8bf4\u5b9e\u8bdd\u73b0\u5728\u770b\u6765\u89c9\u5f97\u6709\u4e9b\u5730\u65b9\u5199\u7684\u8fd8\u662f\u4e0d\u592a\u597d\u3002\u4f46\u662f\u653e\u5728\u8fd9\u91cc\u5927\u5bb6\u53ef\u4ee5\u53c2\u8003\u3002</p> <p>\u5982\u679c\u5927\u5bb6\u60f3\u8981\u5728<code>markdown</code>\u91cc\u9762\u63d2\u5165\u516c\u5f0f\uff0c\u90a3\u4e48\u53ef\u4ee5\u53c2\u8003\u6211\u5199\u7684\u8fd9\u4e00\u7bc7\u535a\u5ba2\u2014\u2014LaTeX\u6574\u7406 | \u7b80\u6613\u7b26\u53f7 Markdown\u516c\u5f0f\u7f16\u8f91\u3002\u91cc\u9762\u5bf9\u5e38\u7528\u7684\u6570\u5b66\u7b26\u53f7\u7684<code>LaTeX</code>\u4ee3\u7801\u505a\u4e86\u6574\u7406\u3002\u8fd9\u4e2a\u6211\u89c9\u5f97\u6211\u6574\u7406\u5f97\u662f\u975e\u5e38\u4e0d\u9519\u7684\u3002</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#git","title":"Git","text":"<p>\uff08<code>Git</code>\u7b80\u4ecb\uff09</p> <p>\u5ed6\u96ea\u5cf0\uff5c\u53f2\u4e0a\u6700\u6d45\u663e\u6613\u61c2\u7684Git\u6559\u7a0b\uff01</p> <p>\u786e\u5b9e\u662f\u8fd9\u6837\u3002\u6211\u53ef\u80fd\u7528\u8fc7\u56db\u79cd\u65b9\u6cd5\u5b66<code>Git</code>\uff1f\u5ed6\u96ea\u5cf0\u8001\u5e08\u7684<code>Git</code>\u6559\u7a0b\u662f\u6211\u6700\u63a8\u8350\u7684\u3002</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#ccpp","title":"C\u548cCpp\u7684\u590d\u4e60\u7b14\u8bb0","text":"<p>\u53ef\u4ee5\u770b\u770b\u6211\u7684\u7b14\u8bb0\uff0c\u6ce8\u610f\u6211\u7684\u7b14\u8bb0\u662f\u603b\u7ed3\u6027\u7684\u90a3\u79cd\uff0c\u5b66\u8fc7\u4e4b\u540e\u770b\u53ef\u80fd\u89c9\u5f97\u6846\u67b6\u8fd8OK\uff1b\u4f46\u6211\u5b8c\u5168\u4e0d\u63a8\u8350\u8fd8\u6ca1\u6709\u7cfb\u7edf\u5b66\u8fc7<code>C/C++</code>\u7684\u540c\u5b66\u770b\u6211\u7684\u7b14\u8bb0\uff0c\u56e0\u4e3a\u8fd9\u4ec5\u4ec5\u662f\u4e2a\u603b\u7ed3\uff0c\u5e76\u4e0d\u662f\u7cfb\u7edf\u7684\u5b66\u4e60\u65b9\u6cd5\u3002</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#c","title":"C","text":"<p>C \u8bed\u8a00\u77e5\u8bc6\u70b9 | \u590d\u4e60\u7b14\u8bb0</p> <p>C\u8bed\u8a00\u671f\u672b\u5e38\u7528\u51fd\u6570 | \u590d\u4e60</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#cpp","title":"Cpp","text":"<p>C++\u7b14\u8bb0 | \u7b2c1\u8bfe C++\u7684\u51e0\u4e2a\u57fa\u672c\u95ee\u9898</p> <p>C++\u7b14\u8bb0 | \u7b2c2\u8bfe \u51fd\u6570\u91cd\u8f7d</p> <p>C++\u7b14\u8bb0 | \u7b2c3\u8bfe \u7c7b</p> <p>C++\u7b14\u8bb0 | C++\u5b9e\u4f8b: \u6808\u7c7b\u6a21\u7248</p> <p>C++\u7b14\u8bb0 | \u7b2c4\u8bfe \u64cd\u4f5c\u7b26\u91cd\u8f7d</p> <p>C++\u7b14\u8bb0 | \u7b2c5\u8bfe \u7c7b\u7684\u7ee7\u627f\u4e0e\u6d3e\u751f</p> <p>C++\u7b14\u8bb0 | \u7b2c6\u8bfe \u6a21\u7248</p> <p>C++\u7b14\u8bb0 | \u7b2c7\u8bfe \u5f02\u5e38\u5904\u7406</p> <p>C++\u7b14\u8bb0 | \u7b2c8\u8bfe \u6d41\u7c7b\u5e93\u7684\u8f93\u5165\u4e0e\u8f93\u51fa</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_6","title":"\u5176\u4ed6","text":"<p>C++\u7b14\u8bb0 | Google C++\u98ce\u683c\u6307\u5357\u5b66\u4e60 \u547d\u540d\u7ea6\u5b9a</p>"},{"location":"LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/#_7","title":"\u5173\u4e8e\u6211","text":"<p>\u6211\u7684\u5404\u79cd\u8d26\u53f7\uff1a</p> <p>GitHub</p> <p>Bilibili</p> <p>\u7b80\u4e66</p> <p>\u6700\u540e\u5982\u679c\u4f60\u89c9\u5f97\u8fd9\u4efd\u6559\u7a0b\u5bf9\u4f60\u6709\u5e2e\u52a9\uff0c\u975e\u5e38\u6b22\u8fce\u4f60\u5c06\u8fd9\u4efd\u6559\u7a0b\u63a8\u8350\u7ed9\u5176\u4ed6\u5b66\u4e60<code>Cpp</code>\u7f16\u7a0b\u7684\u5c0f\u4f19\u4f34\u3002\u5982\u679c\u4f60\u60f3\u652f\u6301\u6211\uff0c\u53ef\u4ee5\u5728Bilibili\u7ed9\u6211\u5145\u7535\u6216\u8005\u5230Support\u9875\u9762\u901a\u8fc7\u5fae\u4fe1\u652f\u4ed8\u6216\u8005\u652f\u4ed8\u5b9d\u8bf7\u6211\u559d\u4e00\u676f\u5496\u5561\uff5e</p> <p>\u5982\u679c\u4f60\u80fd\u5728Bilibili\u70b9\u4e2a\u5173\u6ce8\uff0c\u6211\u4e5f\u4f1a\u5f88\u5f00\u5fc3\u3002emmm \u4ee5\u540e\u4e5f\u4f1a\u66f4\u65b0\u4e00\u4e9b\u5f88\u6709\u8da3\u7684\u89c6\u9891\uff0c\u656c\u8bf7\u671f\u5f85\uff01</p>"},{"location":"LECTURE/vscode-cpp/9_others/","title":"\u5728macOS\u4e0a\u7528VSCode\u5199C++\u4ee3\u7801 9 \u5176\u4ed6","text":""},{"location":"LECTURE/vscode-cpp/9_others/#_1","title":"\u8bfe\u7a0b\u5236\u4f5c\u76ee\u6807\u548c\u4e2a\u4eba\u6982\u8ff0","text":""},{"location":"LECTURE/vscode-cpp/9_others/#old-version-written-on-201010","title":"\u8bfe\u7a0b\u5236\u4f5c\u76ee\u6807\uff08old version, written on 201010\uff09","text":"<p>\u3007 \u8865\u5145\u6e05\u534e\u7535\u5b50\u7cfb\u5927\u4e00\u7a0b\u5e8f\u8bbe\u8ba1\u8bfe\u7a0b\u6ca1\u6709\u8bb2\u5230\u4f46\u662f\u5bf9\u7f16\u7a0b\u6765\u8bf4\u5f88\u91cd\u8981\u7684\u4e1c\u897f</p> <p>\u7535\u5b50\u7cfb\u5927\u4e00\u7684\u7a0b\u8bbe\u8bfe\u5171\u670932\u4e2a\u5b66\u65f6\uff0c\u5176\u4e2d\u524d\u4e24\u4e2a\u5b66\u65f6\u8bb2\u4e86\u7a0b\u5e8f\u8bbe\u8ba1\u7684\u7eea\u8bba\u3002\u8fd9\u4e2a\u7ae0\u8282\u5f88\u91cd\u8981\uff0c\u8ba9\u540c\u5b66\u4eec\u5bf9\u673a\u5668\u8bed\u8a00\uff0c\u4f4e\u7ea7\u8bed\u8a00\u548c\u9ad8\u7ea7\u8bed\u8a00\u6709\u4e86\u8ba4\u8bc6\uff0c\u8ba9\u540c\u5b66\u4eec\u5bf9\u7f16\u5199\u7a0b\u5e8f\u7684\u6d41\u7a0b\u548c\u6570\u636e\u7684\u7c7b\u578b\u6709\u4e86\u7b80\u5355\u7684\u8ba4\u8bc6\u3002\u540c\u65f6\u8001\u5e08\u8fd8\u63a8\u8350\u4e86\u8bfe\u7a0b\u9700\u8981\u7528\u5230\u7684\u7f16\u8f91\u5668<code>Visual Studio 2008</code>\u3002\u7b2c\u4e8c\u7ae0\u5219\u8fdb\u5165\u4e86<code>C/C++</code>\u8bed\u8a00\u7684\u5177\u4f53\u8bed\u6cd5\u3002</p> <p>\u5c3d\u7ba1\u5b58\u57282\u5b66\u65f6\u7684\u7eea\u8bba\uff0c\u4f46\u662f\u7b14\u8005\u4ecd\u7136\u8ba4\u4e3a\u8fd9\u6837\u7684\u8bfe\u7a0b\u8bbe\u8ba1\u4e0d\u80fd\u6ee1\u8db3\u7535\u5b50\u7cfb\u5b66\u751f\u7684\u9700\u6c42\u3002\u5728\u6ca1\u7ecf\u8fc7\u4ed4\u7ec6\u6570\u636e\u8c03\u67e5\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u53ef\u4ee5\u8bf4\uff0c\u7535\u5b50\u7cfb\u65b0\u751f\u80fd\u591f\u7075\u6d3b\u4f7f\u7528\u7535\u8111\u7684\u4eba\u6570\u5360\u6bd4\u4e0d\u4f1a\u9ad8\u4e8e50%\uff0c\u5373\u4fbf\u8001\u5e08\u544a\u8bc9\u5927\u5bb6\u7528\u7f16\u8f91\u5668\u53ef\u4ee5\u8fd0\u884c\u4ee3\u7801\u5f97\u5230\u53ef\u6267\u884c\u6587\u4ef6\uff0c\u7f16\u8bd1\u5b58\u5728<code>release</code>\u548c<code>debug</code>\u4e24\u79cd\u6a21\u5f0f\uff0c\u4f46\u662f\u6211\u60f3\u5373\u4f7f32\u5b66\u65f6\u7684\u8bfe\u7a0b\u7ed3\u675f\uff0c\u751a\u81f3\u5230\u4e86\u7b2c\u4e8c\u4e2a\u5b66\u671f\u8fd8\u6709\u5f88\u5927\u4e00\u90e8\u5206\u901a\u8bb8\u5e76\u4e0d\u77e5\u9053\u8fd9\u5176\u4e2d\u7684\u672c\u8d28\u3002</p> <p>\u6709\u4f4d\u5b66\u957f\u7ed9\u6211\u63a8\u8350\u8fc7\u4e00\u95e8MIT\u7684\u8bfe\u7a0b\uff0c\u8ba1\u7b97\u673a\u6559\u80b2\u4e2d\u7f3a\u5931\u7684\u4e00\u8bfe The Missing Semester of Your CS Education \u4e2d\u6587\u7248\uff0c\u8fd9\u95e8\u8bfe\u7a0b\u7684\u7eea\u8bba\u8bf4\u7684\u5f88\u597d</p> <p>\u5927\u5b66\u91cc\u7684\u8ba1\u7b97\u673a\u8bfe\u7a0b\u901a\u5e38\u4e13\u6ce8\u4e8e\u8bb2\u6388\u4ece\u64cd\u4f5c\u7cfb\u7edf\u5230\u673a\u5668\u5b66\u4e60\u8fd9\u4e9b\u5b66\u9662\u6d3e\u7684\u8bfe\u7a0b\u6216\u4e3b\u9898\uff0c\u800c\u5bf9\u4e8e\u5982\u4f55\u7cbe\u901a\u5de5\u5177\u8fd9\u4e00\u4e3b\u9898\u5219\u5f80\u5f80\u4f1a\u7559\u7ed9\u5b66\u751f\u81ea\u884c\u63a2\u7d22\u3002 \u5b66\u751f\u5728\u4ed6\u4eec\u53d7\u6559\u80b2\u9636\u6bb5\u4f1a\u548c\u8fd9\u4e9b\u5de5\u5177\u671d\u5915\u76f8\u5904\uff08\u5728\u4ed6\u4eec\u7684\u804c\u4e1a\u751f\u6daf\u4e2d\u66f4\u662f\u8fd9\u6837\uff09\u2026\u2026\u56e0\u6b64\uff0c\u82b1\u65f6\u95f4\u6253\u78e8\u4f7f\u7528\u8fd9\u4e9b\u5de5\u5177\u7684\u80fd\u529b\u5e76\u80fd\u591f\u6700\u7ec8\u719f\u7ec3\u5730\u3001\u6d41\u7545\u5730\u4f7f\u7528\u5b83\u4eec\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002</p> <p>\u6211\u60f3\uff0c\u786e\u5b9e\u5e94\u8be5\u5728\u7a0b\u8bbe\u8bfe\u4e4b\u524d\u6dfb\u52a0\u4e00\u4e9b\u8bfe\u7a0b\u8bbe\u7f6e\uff0c\u5bf9\u521a\u521a\u7ed3\u675f\u9ad8\u8003\u5bf9\u7535\u8111\u8fd8\u4e0d\u662f\u5f88\u4e86\u89e3\u7684\u540c\u5b66\u3001\u5bf9\u4e0a\u4e86\u7a0b\u8bbe\u8bfe\u4f46\u662f\u8fd8\u4e0d\u77e5\u9053\u4ee3\u7801\u7a76\u7adf\u5728\u7f16\u8f91\u5668\u91cc\u9762\u600e\u4e48\u53d8\u6210\u4e86\u53ef\u6267\u884c\u6587\u4ef6\u7684\u540c\u5b66\u8fdb\u884c\u4e00\u4e2a\u5c0f\u7684\u8bb2\u5ea7\u3002</p> <p>\u3007 \u63a8\u5e7f\u8de8\u5e73\u53f0\u7684\u8f7b\u91cf\u7f16\u8f91\u5668VS Code\uff0c\u8ba9\u540c\u5b66\u4eec\u7684\u7f16\u7a0b\u66f4\u52a0\u987a\u624b</p> <p>\u5168\u5e73\u53f0\u610f\u5473\u7740\u5373\u4f7f\u540c\u5b66\u4ee5\u540e\u66f4\u6362\u4e86\u7cfb\u7edf\uff0c\u53ea\u8981\u7ee7\u7eed\u4f7f\u7528<code>VS Code</code>\uff0c\u4e5f\u53ef\u4ee5\u5f88\u5feb\u5165\u624b\u5f00\u53d1\uff0c\u800c\u4e0d\u9700\u8981\u505a\u5f88\u591a\u7684\u73af\u5883\u9002\u914d\u3002\u53e6\u5916\uff0c\u5982\u679c\u4e4b\u540e\u540c\u5b66\u4eec\u8981\u5b66\u4e60\u66f4\u591a\u79cd\u8bed\u8a00\uff0c\u90a3\u4e48\u53ea\u4f7f\u7528\u4e00\u6b3e\u5168\u80fd\u7684\u7f16\u8f91\u5668<code>VS Code</code>\uff0c\u964d\u4f4e\u4e86\u540c\u5b66\u4ee5\u540e\u8fd8\u8981\u5b66\u4e60\u548c\u9002\u5e94\u65b0\u8bed\u8a00\u65b0\u7f16\u8f91\u5668\u7684\u65f6\u95f4\u3002\u53e6\u5916\uff0c<code>VS Code</code>\u4e5f\u6709\u5f88\u591a\u5f88\u6709\u610f\u601d\u63d2\u4ef6\uff0c\u53ef\u4ee5\u8ba9\u540c\u5b66\u4eec\u628a\u6ce8\u610f\u529b\u66f4\u591a\u7684\u653e\u5728\u6572\u4ee3\u7801\u548c\u601d\u8003\u8fd9\u4e24\u4ef6\u4e8b\u60c5\u4e0a\uff0c\u63d0\u9ad8\u540c\u5b66\u4eec\u7684\u7f16\u7a0b\u6548\u7387\uff0c\u540c\u65f6\u6709\u8da3\u7684\u63d2\u4ef6\u4e5f\u8ba9\u7f16\u7a0b\u53d8\u5f97\u6709\u610f\u601d\u800c\u5e76\u4e0d\u6b7b\u677f\u3002</p> <p>\u3007 \u8ba9\u4f7f\u7528Mac\u7684\u540c\u5b66\u53ef\u4ee5\u6109\u5feb\u7684\u5728Mac\u4e0a\u8fdb\u884c\u5f00\u53d1</p> <p>\u4f7f\u7528\u82f9\u679c\u7535\u8111\u7684\u540c\u5b66\u5728\u6e05\u534e\u56ed\u53ea\u662f\u5f88\u5c0f\u7684\u4e00\u4e2a\u7fa4\u4f53\u3002\u7531\u4e8e\u82f9\u679c\u7cfb\u7edf\u53ef\u80fd\u5e76\u4e0d\u662f\u5f88\u597d\u7684\u517c\u5bb9\u6027\uff0c\u5728<code>Mac</code>\u4e0a\u5199C<code>/C++</code>\u4ee3\u7801\u662f\u633a\u56f0\u96be\u7684\u4e00\u4ef6\u4e8b\u60c5\uff0c\u5f80\u5f80\u540c\u5b66\u4eec\u4f1a\u901a\u8fc7\u88c5\u865a\u62df\u673a/\u505a\u53cc\u7cfb\u7edf\u6216\u8005\u7528<code>Xcode</code>\uff08\u82f9\u679c\u7684\u5b98\u65b9\u7f16\u8f91\u5668\uff09\u6765\u7f16\u7a0b\u3002\u7528<code>VS Code</code>\u914d\u7f6e\u73af\u5883\u662f\u4e00\u4e2a\u5927\u95ee\u9898\u3002</p> <p>\u4f46\u662f\u8fd9\u4efd\u6559\u7a0b\u53ef\u4ee5\u8ba9\u4f7f\u7528<code>Mac</code>\u7684\u540c\u5b66\u5f88\u8212\u670d\u7684\u5728<code>Mac</code>\u4e0a\u8fdb\u884c\u7f16\u7a0b\u7684\u5b66\u4e60\uff0c\u5b66\u4e60\u6548\u679c\u4e0e<code>Windows</code>\u4e0a\u65e0\u5dee\u3002\u8ba9\u672c\u6765\u5c31\u5f88\u597d\u7684\u82f9\u679c\u7cfb\u7edf\u4f53\u9a8c\u66f4\u597d\u4e00\u4e9b\u3002</p>"},{"location":"LECTURE/vscode-cpp/9_others/#written-on-201010","title":"\u6211\u7684\u60c5\u51b5\uff08written on 201010\uff09","text":"<p>\u6211\u57282019\u5e74\u79cb\u5b66\u4e60\u4e86\u7535\u5b50\u7cfb\u5927\u4e00\u7684\u7a0b\u8bbe\u8bfe\u7a0b\uff0c\u5f53\u65f6\u8001\u5e08\u5728\u8bfe\u5802\u4e0a\u53ea\u82b1\u4e86\u5341\u591a\u5206\u949f\u63d0\u4e86<code>Visual Studio 2008</code>\u600e\u4e48\u7528\uff0c\u540c\u65f6\u8fd8\u63a8\u8350\u540c\u5b66\u4eec\u7528\u8fd9\u6b3e\u7f16\u8f91\u5668\u8fdb\u884c\u7f16\u8f91\u3002</p> <p>\u7531\u4e8e\u7b14\u8005\u5bf9\u7f16\u7a0b\u7684\u5174\u8da3\u6d53\u539a\uff0c\u4fbf\u5f88\u559c\u6b22\u7814\u7a76\u4e0e\u7f16\u7a0b\u76f8\u5173\u7684\u4e1c\u897f\u3002\u4e0d\u8fc7\uff0c\u6211\u7684\u4e2a\u4eba\u7535\u8111\u662f<code>Mac</code>\uff0c\u642d\u8f7d\u7740\u82f9\u679c\u7684\u7535\u8111\u7cfb\u7edf<code>macOS</code>\uff0c\u5f88\u591a\u4e8b\u60c5\u8001\u5e08\u90fd\u662f\u5728<code>Windows</code>\u4e0a\u6f14\u793a\u7136\u800c\u6211\u5219\u4e00\u8138\u61f5\u903c\u5b8c\u5168\u4e0d\u77e5\u9053\u53d1\u751f\u4e86\u4ec0\u4e48\u3002\u751a\u81f3\uff0c\u6211\u5728\u8fdb\u5165\u5927\u5b66\u4e4b\u524d\u5c31\u6ca1\u6709\u600e\u4e48\u7528\u8fc7\u7535\u8111\uff0c\u914d\u7f6e\u73af\u5883\u3001\u547d\u4ee4\u884c\u3001\u6587\u4ef6\u76ee\u5f55\u3001\u7f16\u8bd1\uff0c\u8fd9\u4e9b\u540d\u8bcd\u5728\u4e0a\u5b8c\u4e86\u4e00\u5b66\u671f\u7684\u7a0b\u8bbe\u8bfe\u540e\u4e5f\u662f\u4e00\u77e5\u534a\u89e3\u3002</p> <p>\u4e3a\u4e86\u514b\u670d\u8fd9\u6837\u7684\u95ee\u9898\uff0c\u6211\u5728<code>Mac</code>\u4e0a\u88c5\u4e86\u53cc\u7cfb\u7edf\uff0c\u7531\u4e8e\u53cc\u7cfb\u7edf\u8981\u91cd\u542f\u624d\u80fd\u5207\u6362\u5f88\u9ebb\u70e6\u6211\u53c8\u5b89\u88c5\u4e86\u865a\u62df\u673a\uff0c\u4f46\u662f\u6211\u7684\u7535\u8111\u78c1\u76d8\u7a7a\u95f4\u5e76\u4e0d\u662f\u5f88\u5927\u865a\u62df\u673a\u5305\u653e\u4e0d\u4e0b\u6211\u53c8\u4e70\u4e86\u5916\u7f6e<code>SSD</code>\u3002\u4e00\u756a\u6298\u817e\uff0c\u6211\u7ec8\u4e8e\u53ef\u4ee5\u5728\u865a\u62df\u673a\u91cc\u8fdb\u884c\u201c\u7a0b\u5e8f\u8bbe\u8ba1\u201d\u4e86\u3002</p> <p>\u53ef\u662f\uff0c\u76f4\u5230\u7a0b\u8bbe\u7b2c\u4e8c\u5b66\u671f\u7ed3\u675f\uff0c\u6211\u8fd8\u662f\u611f\u89c9\u5fc3\u91cc\u5f88\u4e0d\u8e0f\u5b9e\u3002\u6211\u5728<code>VS Code</code>\u91cc\u9762\u70b9<code>F5</code>\u5230\u5e95\u53d1\u751f\u4e86\u4ec0\u4e48\uff1f\u6211\u5728<code>VS Code</code>\u91cc\u9762\u5982\u4f55<code>release</code>\uff1f\u90a3\u4e9b\u914d\u7f6e\u6587\u4ef6\u90fd\u662f\u4ec0\u4e48\u554a\uff1f</p> <p>\u5927\u4e00\u6691\u5047\uff0c\u5f88\u5e78\u8fd0\uff0c\u6211\u52a0\u5165\u4e86\u7535\u5b50\u7cfb\u79d1\u534f\u8f6f\u4ef6\u90e8\u7f51\u7ad9\u7ec4\uff0c\u7f51\u7ad9\u7ec4\u8d1f\u8d23\u7ef4\u62a4\u7535\u5b50\u7cfb\u7f51\u7ad9\uff08\u6bd4\u5982\u6e05\u534e\u5927\u5b66\u7535\u5b50\u5de5\u7a0b\u7cfb\u5b66\u751f\u79d1\u534f\u5b98\u7f51\uff09\uff0c\u4e3e\u529e/\u7ec4\u7ec7\u4e00\u4e9b\u8d5b\u4e8b\uff0c\u53ef\u4ee5\u8bf4\u4e00\u4e2a\u6bd4\u8f83\u786c\u6838\u4f46\u662f\u53c8\u4e0d\u5c11\u793e\u5de5\u7684\u7ec4\u7ec7\u3002\u56e0\u4e3a\u786c\u6838\u6240\u4ee5\u8f6f\u4ef6\u90e8\u5728\u6691\u5047\u6709\u57f9\u8bad\uff0c\u7ecf\u8fc7\u8fd9\u6b21\u57f9\u8bad\uff0c\u6211\u624d\u9010\u6e10\u5bf9\u8ba1\u7b97\u673a\u7684\u8f6f\u4ef6\u5c42\u6709\u4e86\u66f4\u6df1\u7684\u4e00\u4e9b\u8ba4\u8bc6\u3002\u5728\u8fd9\u5176\u4e2d\uff0c\u4e00\u4f4d\u5b66\u957f\u63a8\u8350\u7684\u8bfe\u7a0b\u8ba1\u7b97\u673a\u6559\u80b2\u4e2d\u7f3a\u5931\u7684\u4e00\u8bfe The Missing Semester of Your CS Education \u4e2d\u6587\u7248\u8ba9\u6211\u53d7\u76ca\u532a\u6d45\u3002</p> <p>\u662f\u554a\uff0c\u5728\u5f00\u59cb\u7f16\u7a0b\u4e4b\u524d\uff0c\u6709\u5f88\u591a\u4e8b\u60c5\u8981\u505a\u3002</p> <p>\u5230\u4e869\u6708\u4efd\uff0c\u5728\u5927\u4e8c\u5b66\u671f\u5df2\u7ecf\u5f00\u59cb\u4e4b\u540e\uff0c\u6211\u6709\u4e00\u95e8\u8fd8\u9700\u8981\u7528<code>C/C++</code>\u8fdb\u884c\u7f16\u7a0b\u7684\u8bfe\u7a0b\u2014\u2014\u6570\u636e\u4e0e\u7b97\u6cd5\u3002\u67d0\u4e00\u5929\uff0c\u6211\u7a81\u7136\u89c9\u5f97\u62d6\u7740\u4e2a<code>SSD</code>\u5f00\u7740<code>Windows</code>\u5728<code>Mac</code>\u4e0a\u5199\u4ee3\u7801\u771f\u7684\u4e0d\u662f\u4e00\u4ef6\u5f88\u4f18\u96c5\u7684\u4e8b\u60c5\uff0c\u5c3d\u7ba1<code>SSD</code>\u771f\u7684\u5f88\u8f7b\uff0c\u4f46\u662f\u5f00\u865a\u62df\u673a\u7535\u8111\u5c31\u5f88\u8017\u7535\uff0c\u5f88\u70eb\uff0c\u800c\u4e14\u6211\u60f3\uff0c\u6211\u4eec\u7f51\u7ad9\u7ec4\u7684\u5f00\u53d1\u90fd\u53ef\u4ee5\u5728<code>Windows</code>\u548c<code>macOS</code>\u4e0a\u540c\u6b65\u5f00\u53d1\uff0c\u4e3a\u4ec0\u4e48<code>C/C++</code>\u7f16\u7a0b\u90fd\u4e0d\u80fd\u8de8\u5e73\u53f0\u5462\uff1f\u524d\u9762\u8bf4\u5230\u6211\u5bf9\u7f16\u7a0b\u548c\u7f16\u7a0b\u76f8\u5173\u7684\u4e8b\u60c5\u5f88\u611f\u5174\u8da3\uff0c\u8fd9\u65f6\u6211\u5f00\u59cb\u4e86\u63a2\u7d22\u3002</p> <p>\u4ece<code>Mac</code>\u81ea\u5e26\u7684<code>Xcode</code>\u5f00\u59cb\uff0c\u5230<code>VS Code</code>\uff0c\u5230\u914d\u7f6e\u6587\u4ef6\uff0c\u5230\u547d\u4ee4\u884c\u2026\u2026\u7a81\u7136\u4e00\u4e2a\u4e0b\u5348\uff0c\u6211\u641e\u61c2\u4e86<code>g++</code>\uff0c\u6211\u77e5\u9053\u4e86\u8fd9\u662f\u4e2a\u4ec0\u4e48\u4e1c\u897f\u3002\u7a81\u7136\uff0c\u6240\u6709\u4e4b\u524d\u7684\u56f0\u60d1\u90fd\u70df\u6d88\u4e91\u6563\u3002\u554a\uff0c\u539f\u6765\u662f\u8fd9\u6837\u3002</p> <p>\u4e0a\u9762\u7684\u8fc7\u7a0b\u5927\u6982\u82b1\u4e86\u6211\u4e00\u5468\u65f6\u95f4\uff0c\u7528\u8bfe\u4f59\u65f6\u95f4\u53bb\u63a2\u7d22\u3002</p> <p>\u4e4b\u540e\u6211\u5c31\u60f3\uff0c\u4e3a\u4ec0\u4e48\u4e0d\u51fa\u4e00\u671f\u6559\u7a0b\u5462\uff1f\u8bdd\u8bf4\u771f\u7684\uff0c\u5728\u7535\u5b50\u7cfb\u5199\u7a0b\u8bbe\u7684\u4e00\u5e74\u91cc\u9762\uff0c\u6ca1\u6709\u54ea\u4f4d\u8001\u5e08\u54ea\u4e2a\u52a9\u6559\u54ea\u4e2a\u540c\u5b66\u544a\u8bc9\u6211\u600e\u4e48\u7528<code>VS Code</code>\u914d\u7f6e\u73af\u5883\uff0c\u6ca1\u6709\u4eba\u544a\u8bc9\u6211<code>g++</code>\u662f\u4ec0\u4e48\uff0c\u751a\u81f3\u5934\u6587\u4ef6\u600e\u4e48\u5305\u542b\u81ea\u5df1\u5199\u7684\u51fd\u6570\u600e\u4e48\u5728\u5176\u4ed6\u6587\u4ef6\u91cc\u9762\u8c03\u7528\u90fd\u6ca1\u6709\u4eba\u544a\u8bc9\u6211\u7ec6\u8282\u3002\u6211\u539f\u6765\u4e00\u76f4\u5728\u7528\u7ed3\u8bba\u3002\u8fd9\u6837\u505a\u7684\u5f0a\u7aef\u5c31\u662f\uff0c\u4f60\u5728\u5199\u4ee3\u7801\u7684\u65f6\u5019\u5f88\u4e0d\u8e0f\u5b9e\uff0c\u4f60\u6839\u672c\u4e0d\u77e5\u9053\u5728\u7f16\u8f91\u5668\u4e2d\u3001\u5728\u7cfb\u7edf\u4e2d\u53d1\u751f\u4e86\u4ec0\u4e48\u3002</p> <p>\u5f53\u6211\u505a\u51fa\u8fd9\u4e2a\u51b3\u5b9a\u4e4b\u540e\uff0c\u6211\u5728pyq\u53d1\u4e86\u4e00\u6761\u6d88\u606f\uff08posted on 200930\uff09\uff1a</p> <p>\u6291\u5236\u4e0d\u4f4f\u5fc3\u4e2d\u7684\u6b23\u559c\u3002\u641e\u660e\u767d\u4e86\u6211\u672c\u8be5\u4e00\u5e74\u524d\u641e\u6e05\u695a\u7684<code>C/C++</code>\u7f16\u8bd1\u7684\u77e5\u8bc6\uff0c\u77e5\u9053\u4e86<code>VS Code</code>\u91cc\u9762<code>Code Runner</code>\u548c<code>tasks.json</code>\u91cc\u9762\u5199\u7684\u4ee3\u7801\u5230\u5e95\u662f\u4ec0\u4e48\u610f\u601d\u3002\u8fd9\u4e9b\u4e1c\u897f\u771f\u7684\u4e0d\u96be\uff0c\u4f46\u662f\u5b83\u4eec\u7684\u8054\u7cfb\u5f88\u96be\u641e\u6e05\uff1b\u800c\u8fd9\u53c8\u662f\u5f00\u59cb\u5199\u4ee3\u7801\u4e4b\u524d\u975e\u5e38\u91cd\u8981\u7684\u4e00\u6b65\uff0c\u4e0d\u61c2\u8fd9\u4e00\u6b65\u53bb\u5199\u4ee3\u7801\u771f\u7684\u5f88\u4e0d\u8e0f\u5b9e\u3002\u4e00\u5e74\u524d\uff0c\u56e0\u4e3a\u4e0d\u77e5\u9053\u5982\u4f55\u5199<code>tasks.json</code> <code>launch.json</code>\u6587\u4ef6\u6211\u653e\u5f03\u4e86<code>VS Code on macOS</code>\uff0c\u73b0\u5728\u53c8\u53ef\u4ee5\u91cd\u65b0\u62fe\u8d77\u6765\u4e86\u3002\u5927\u6982\u4ece\u4e0a\u4e2a\u5468\u672b\u5f00\u59cb\u6363\u9f13<code>Xcode</code>\u548c<code>VS Code</code>\uff0c\u67e5\u4e86\u5f88\u591a\u8d44\u6599\uff0c\u8e29\u4e86\u5f88\u591a\u5751\uff0c\u5f88\u591a\u8d44\u6599\u90fd\u662f\u6709\u95ee\u9898\u7684\uff0cnot work for me\uff1b\u4f46\u6211\u60f3\u73b0\u5728\u6211\u53ef\u4ee5\u628a\u8fd9\u4e9b\u8fd9\u4e9b\u8d44\u6599\u4e2d\u6709\u7528\u7684\u90e8\u5206\u878d\u5408\u8d77\u6765\uff0c\u51fa\u4e00\u4efd\u5f88\u597d\u7684\u6559\u7a0b--\u81f3\u5c11\u6211\u4f1a\u8ba9\u4e00\u5e74\u524d\u7684\u6211\u770b\u5230\u8fd9\u4efd\u6559\u7a0b\u53ef\u4ee5\u5c11\u8d70\u5f88\u591a\u5f2f\u8def\u3002\u867d\u7136\u56e0\u4e3a\u641e\u6e05\u695a\u8fd9\u4ef6\u4e8b\u513f\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\uff08\u8fd8\u4f1a\u82b1\u4e0d\u5c11\u65f6\u95f4\uff09\uff0c\u4f46\u662f\u6211\u76f8\u4fe1\u8fd9\u662f\u503c\u5f97\u7684\u3002</p> <p>\u6211\u5e0c\u671b\u6211\u80fd\u62bd\u7a7a\u5728\u8fd9\u5b66\u671f\u5b8c\u6210\u8fd9\u4e00\u4efd\u6559\u7a0b\uff0c\u8ba9\u5b83\u5e26\u7ed9\u66f4\u591a\u540c\u5b66\u5bf9\u4e8e\u7a0b\u5e8f\u6e05\u6670\u7684\u8ba4\u8bc6\u3002\u5982\u679c\u6709\u65f6\u95f4\uff0c\u6211\u60f3\u6211\u4e5f\u4f1a\u5728<code>Windows</code>\u7cfb\u7edf\u4e0a\u91cd\u65b0\u5f55\u5236\u8fd9\u4efd\u6559\u7a0b\uff0c\u8ba9\u8fd9\u4efd\u6559\u7a0b\u80fd\u8ba9\u66f4\u591a\u7684\u540c\u5b66\u770b\u5230\u3002</p> <p>\u81f3\u4e8e\u6211\u80fd\u5426\u5f88\u597d\u7684\u5b8c\u6210\u8fd9\u4efd\u6559\u7a0b\uff0c\u6211\u53ea\u80fd\u8bf4\uff0c\u6211\u89c9\u5f97\u8fd9\u4ef6\u4e8b\u60c5\u5f88\u6709\u610f\u4e49\uff0c\u56e0\u6b64\u6211\u60f3\u8ba4\u771f\u53bb\u505a\u3002\u4f46\u662f\u4e2a\u4eba\u80fd\u529b\u6bd5\u7adf\u6709\u9650\uff0c\u6211\u4f1a\u5728\u51fa\u8fd9\u4efd\u6559\u7a0b\u7684\u8fc7\u7a0b\u4e2d\u4ed4\u7ec6\u8003\u91cf\uff0c\u9047\u5230\u53ef\u80fd\u4f1a\u8bb2\u9519\u7684\u5730\u65b9\u591a\u548c\u8001\u5e08\u3001\u52a9\u6559\u3001\u8eab\u8fb9\u7684\u725b\u4eba\u8fdb\u884c\u4ea4\u6d41\uff0c\u8ba9\u8fd9\u4efd\u6559\u7a0b\u7684\u8d28\u91cf\u8fbe\u5230\u6700\u597d\u3002\u5982\u679c\u5728\u6559\u7a0b\u53d1\u5e03\u540e\uff0c\u6709\u4e9b\u4e1c\u897f\u9700\u8981\u5f97\u5230\u4fee\u8ba2\uff0c\u90a3\u6211\u4e5f\u4f1a\u8fdb\u884c\u4fee\u6539\uff0c\u6216\u4fee\u6539\u8bb2\u7a3f\uff0c\u6216\u91cd\u65b0\u5f55\u5236\u89c6\u9891\u3002</p> <p>\u5e0c\u671b\u5927\u5bb6\u80fd\u652f\u6301\u6211\uff01</p>"},{"location":"LECTURE/vscode-cpp/9_others/#posted-on-201029","title":"\u53d1\u73b0\u5b66\u671f\u5185\u65e0\u6cd5\u505a\u51fa\u6559\u7a0b\u540e\u53d1\u7684\u670b\u53cb\u5708\uff08posted on 201029\uff09","text":"<p>\u4e4b\u524d\u8bf4\u6211\u8981\u51fa\u4e00\u4e2a<code>VS Code</code>\u5199<code>cpp</code>\u7684\u6559\u7a0b\uff0c\u5982\u679c\u670b\u53cb\u5708\u6709\u540c\u5b66\u8fd8\u8bb0\u5f97\u8fd9\u4ef6\u4e8b\u60c5\u5e76\u4e14\u5f88\u5e0c\u671b\u5728\u8fd9\u5b66\u671f\u5185\u770b\u5230\u7684\u8bdd\uff0c\u90a3\u4e48\u5b9e\u5728\u62b1\u6b49\uff01\u5f88\u60f3\u56de\u5e94\u8fd9\u4efd\u671f\u5f85\uff0c\u4f46\u6211\u6253\u7b97\u628a\u8fd9\u4ef6\u4e8b\u513f\u653e\u5230\u5bd2\u5047\u3002</p> <p>\u6211\u662f\u975e\u5e38\u60f3\u628a\u8fd9\u4e2a\u6559\u7a0b\u505a\u597d\u7684\uff0c\u56e0\u4e3a\u5728\u53d7\u5b66\u957f\u63a8\u8350\u770b\u4e86MIT\u7684\u516c\u5f00\u8bfe<code>missing courses in CS</code>\u4e4b\u540e\uff0c\u6211\u89c9\u5f97\u5de5\u5177\u4f7f\u7528\u662f\u5f88\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\uff1b\u4f46\u662f\u8eab\u8fb9\u4e0d\u5c11\u8001\u5e08\uff0c\u540c\u5b66\u5bf9\u5de5\u5177\u662f\u5e76\u4e0d\u91cd\u89c6\u7684\u3002\u6700\u5f00\u59cb\u53ea\u662f\u60f3\u4ecb\u7ecd\u6e05\u695a\u7528\u6765\u8bbe\u7f6e\u7684<code>settings.json</code>\u548c\u7528\u6765\u8c03\u8bd5\u7684<code>tasks.json</code>\u548c<code>launch.json</code>\uff0c\u7ed3\u679c\u53d1\u73b0\u5982\u679c\u53ea\u8bb2\u8fd9\u4e9b\u6839\u672c\u7406\u89e3\u4e0d\u4e86\u91cc\u9762\u6bcf\u884c\u662f\u5728\u5e72\u4ec0\u4e48\uff0c\u90a3\u8fbe\u4e0d\u5230\u770b\u5b8c\u6559\u7a0b\u201c\u80fd\u8e0f\u8e0f\u5b9e\u5b9e\u201d\u7f16\u7a0b\u7684\u5730\u6b65\u3002\u90a3\u5c31\u5f97\u8bb2<code>g++</code>\u4e86\uff0c\u6211\u76f8\u4fe1\u5f88\u591a\u540c\u5b66\u662f\u4e0d\u5f88\u6e05\u695a\u547d\u4ee4\u884c\u7684\uff0c\u90a3\u53c8\u8981\u52a0\u4e0a\u8bb2\u7ec8\u7aef\uff0c<code>shell</code>\uff0c\u547d\u4ee4\uff0c\u7a0b\u5e8f\uff1b\u800c\u8fd9\u4e9b\u8981\u8bb2\u6e05\u5927\u6982\u8fd8\u5f97\u626f\u4e00\u70b9\u6587\u4ef6\u7cfb\u7edf\u548c\u73af\u5883\u53d8\u91cf\u3002\u8fd9\u6837\u5dee\u4e0d\u591a\u5c31\u53ef\u4ee5\u4e86\u3002</p> <p>\u4e0d\u8fc7\u8fd8\u6709\u4e0d\u5c11\u7ec6\u679d\u672b\u8282\u7684\u4e1c\u897f\uff0c<code>VS Code</code>\u7684\u63d2\u4ef6\u4ecb\u7ecd\uff0c\u5feb\u6377\u952e\u8bbe\u7f6e\uff0c\u66f4\u6539\u8bbe\u7f6e\u7b49\u4f7f\u7528\u6280\u5de7\uff1b<code>VS Code</code>\u4f18\u7f3a\u70b9\u4ecb\u7ecd\u7b49\u7b49\u3002\u8fd9\u4e9b\u53ef\u4ee5\u5355\u72ec\u51fa\u6765\u8bb2\u4f46\u662f\u6211\u53c8\u4f1a\u60f3\u8fd9\u4e9b\u52a0\u5728\u6559\u7a0b\u91cc\u9762\u76f4\u63a5\u8bf4\u4f1a\u4e0d\u4f1a\u66f4\u597d\u3002\uff08\u5176\u5b9e\u8fd8\u6709\u5f88\u591a\u5751\u6211\u5df2\u7ecf\u8e29\u8fc7\u53bb\u4e86\uff0c\u8fd9\u4e9b\u7ecf\u5386\u9700\u8981\u9700\u8981\u51fa\u73b0\u5728\u6559\u7a0b\u4e2d\u4e5f\u662f\u9700\u8981\u8003\u8651\u7684\u3002\uff09</p> <p>\u4e8e\u662f\u6700\u540e\u5c31\u53d8\u6210\u4e86\uff0c\u5f88\u591a\u4e1c\u897f\u60f3\u8bb2\uff0c\u4f60\u8981\u4e0d\u65ad\u8c03\u987a\u5e8f\uff08\u7b80\u800c\u8a00\u4e4b\uff0c\u5907\u8bfe\u597d\u56f0\u96be\uff09\u3002\u6709\u7684\u65f6\u5019\u6709\u7a7a\u6211\u5c31\u4f1a\u53bb\u60f3\u60f3\u4ec0\u4e48\u903b\u8f91\u8bb2\u4e0b\u6765\u6700\u987a\uff1b\u5f88\u591a\u60f3\u6cd5\u6211\u90fd\u8bb0\u5728<code>to-dos</code>\u91cc\u9762\uff0c\u7136\u540e\u53d1\u73b0\u90a3\u4e2a<code>to-dos</code>\u8d8a\u6765\u8d8a\u957f\uff08\u7b11\uff09\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6211\u4e5f\u5728\u4e0d\u65ad\u5b66\u4e60\uff0c\u53d1\u73b0\u5f88\u591a\u4e1c\u897f\u6211\u4e86\u89e3\u7684\u4e5f\u4e0d\u662f\u5f88\u6df1\u5165\uff0c\u5f88\u591a\u6587\u6863\u6211\u8fd8\u6ca1\u770b\u8fc7\uff0c\u8fd8\u6ca1\u770b\u61c2\u3002\u4e4b\u524d\u4e5f\u8bd5\u5f55\u8fc7\u4e00\u4e2a\u5feb\u901f\u7248\uff0c\u4f46\u662f\u8fc7\u4e86\u4e24\u5468\u5230\u73b0\u5728\u53d1\u73b0\u53ef\u4ee5\u4fee\u6539\u7684\u5730\u65b9\u592a\u591a\u4e86\u3002</p> <p>\u867d\u7136\u8fd9\u5b66\u671f\u9009\u7684\u5b66\u5206\u4e0d\u591a\uff0c\u81ea\u5df1\u7a7a\u95f2\u65f6\u95f4\u4e5f\u6709\u4e00\u4e9b\uff0c\u4f46\u662f\u8fd8\u662f\u89c9\u5f97\u4e0d\u592a\u53ef\u80fd\u5728\u5b66\u671f\u5185\u505a\u51fa\u6765\u4e00\u4e2a\u5b8c\u6574\uff0c\u903b\u8f91\u81ea\u6d3d\uff0c\u95ee\u9898\u4e0d\u592a\u591a\u7684\u6559\u7a0b\uff0c\u56e0\u6b64\u8fd8\u662f\u6253\u7b97\u5bd2\u5047\u7ee7\u7eed\u505a\u8fd9\u4ef6\u4e8b\u60c5\uff0c\u51fa\u4e00\u4efd\u80fd\u8ba9\u81ea\u5df1\u6ee1\u610f\u7684\u6559\u7a0b\u3002</p>"},{"location":"ME/","title":"\u6211","text":"<p>\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0</p>"},{"location":"ME/ability/","title":"\u4e2a\u4eba\u80fd\u529b","text":""},{"location":"ME/ability/#_2","title":"\u8bed\u8a00","text":"<ul> <li>CET-6\uff1a579</li> <li>Ielts\uff1a7.0</li> </ul>"},{"location":"ME/ability/#_3","title":"\u521b\u4f5c","text":"<ul> <li>Markdown / HTML</li> <li>LaTeX</li> <li>Notability </li> <li>Keynote</li> </ul>"},{"location":"ME/description/","title":"\u4e2a\u4eba\u7279\u70b9","text":"<ul> <li>\u6709\u8f83\u5f3a\u7684\u5b66\u672f\u94bb\u7814\u80fd\u529b  \u57fa\u7840\u624e\u5b9e \u5584\u4e8e\u9879\u76ee\u5f0f\u5b66\u4e60 \u5bf9\u524d\u6cbf\u6280\u672f\u611f\u5174\u8da3</li> <li>\u6709\u826f\u597d\u7684\u7ec4\u7ec7\u7ba1\u7406\u80fd\u529b  \u64c5\u957f\u4fe1\u606f\u6574\u5408\u4e0e\u56e2\u961f\u534f\u4f5c</li> <li>\u70ed\u7231\u751f\u6d3b  \u4e50\u89c2\u5411\u4e0a  \u64c5\u957f\u601d\u8003  \u5584\u4e8e\u5206\u4eab \u81f4\u529b\u4e8e\u4e3a\u5f00\u6e90\u793e\u533a\u4f5c\u51fa\u8d21\u732e</li> </ul>"},{"location":"ME/description/#_2","title":"\u6982\u8ff0","text":""},{"location":"ME/description/#1","title":"\uff081\uff09\u6211\u6709\u8f83\u5f3a\u7684\u5b66\u4e60\u94bb\u7814\u80fd\u529b\uff0c\u5bf9\u524d\u6cbf\u6280\u672f\u5f88\u611f\u5174\u8da3\uff1a","text":"<p>\u9664\u4e86\u5b66\u4e60\u5e38\u89c4\u7684\u6821\u5185\u8bfe\u7a0b\u5916\uff0c\u6211\u8fd8\u81ea\u5b66\u4e86\u5f88\u591a\u56fd\u5916\u5148\u8fdb\u7684\u8ba1\u7b97\u673a\u7f51\u8bfe\uff0c\u4ee5\u53ca\u8ba1\u7b97\u673a\u76f8\u5173\u7684\u8fd0\u7ef4\u77e5\u8bc6\u7b49\uff0c\u6709\u7740\u8f83\u624e\u5b9e\u7684\u8ba1\u7b97\u673a\u79d1\u5b66\u57fa\u7840\uff1b\u6211\u5bf9\u7535\u5b50\u4ea7\u54c1\u3001\u64cd\u4f5c\u7cfb\u7edf\u3001\u4e92\u8054\u7f51\u7b49\u9886\u57df\u7684\u521b\u65b0\u5f88\u611f\u5174\u8da3\u3002\u5728\u6821\u671f\u95f4\u6211\u79ef\u6781\u53c2\u4e0e\u79d1\u7814\u9879\u76ee\uff0c\u76ee\u524d\u6709\u4e09\u6bb5\u79d1\u7814\u7ecf\u5386\uff0c\u9884\u8ba1\u5728\u672a\u6765\u534a\u5e74\u5185\u4f1a\u53d1\u4e00\u7bc7 CCF-A \u5b66\u751f\u4e00\u4f5c\u3002</p>"},{"location":"ME/description/#2","title":"\uff082\uff09\u6211\u6709\u826f\u597d\u7684\u7ec4\u7ec7\u7ba1\u7406\u80fd\u529b\uff0c\u64c5\u957f\u4fe1\u606f\u6574\u5408\uff1a","text":"<p>\u6211\u4f5c\u4e3a\u7f16\u7a0b\u624b\u53c2\u52a0\u5168\u56fd\u5927\u5b66\u751f\u6570\u5b66\u5efa\u6a21\u7ade\u8d5b\uff0c\u83b7\u5f97\u4e86\u7701\u7ea7\u4e00\u7b49\u5956\uff1b\u6211\u5bf9\u6570\u636e\u548c\u4fe1\u606f\u6bd4\u8f83\u654f\u611f\uff0c\u64c5\u957f\u505a\u5f52\u7eb3\u603b\u7ed3\uff0c\u66fe\u72ec\u7acb\u5b8c\u6210\u6570\u636e\u53ef\u89c6\u5316\u76f8\u5173\u9879\u76ee\u3002</p>"},{"location":"ME/description/#3","title":"\uff083\uff09\u6211\u70ed\u7231\u751f\u6d3b\uff0c\u6027\u683c\u4e50\u89c2\uff0c\u5584\u4e8e\u601d\u8003\uff0c\u559c\u6b22\u5206\u4eab\u77e5\u8bc6\uff1a","text":"<ul> <li>\u672c\u79d1\u671f\u95f4\uff0c\u6211\u5efa\u7acb\u591a\u4e2a\u8ba1\u7b97\u673a\u5b66\u4e60\u7f51\u7ad9\u4e0e\u535a\u5ba2\u5206\u4eab\u5e73\u53f0\uff0c\u5e2e\u52a9\u540c\u5b66\u7406\u89e3\u8ba1\u7b97\u673a\u77e5\u8bc6\uff1b </li> <li>\u65e5\u5e38\u7684\u5b66\u4e60\u751f\u6d3b\u4e4b\u5916\uff0c\u6211\u8fd8\u79ef\u6781\u53c2\u4e0e\u515a\u653f\u5efa\u8bbe\uff0c\u76ee\u524d\u662f\u6211\u6821\u9884\u5907\u515a\u5458\uff1b</li> <li>\u5728\u95f2\u6687\u65f6\u95f4\uff0c\u6211\u4f1a\u79ef\u6781\u53c2\u4e0e\u6821\u56ed\u751f\u6d3b\uff0c\u6216\u8005\u5728\u7f51\u7ad9\u4e0a\u5199\u4e00\u4e9b\u6709\u610f\u4e49\u7684\u6587\u7ae0\u3002</li> </ul>"},{"location":"ME/experience/","title":"\u4e2a\u4eba\u7ecf\u5386","text":""},{"location":"ME/experience/#_2","title":"\u81ea\u6211\u4ecb\u7ecd","text":"<p>\u80e1\u535a\u7444\uff0c\u5b89\u5fbd\u5408\u80a5\u4eba\uff0c2004\u5e742\u6708\u751f\u3002\u5e73\u65e5\u91cc\u70ed\u8877\u4e8e\u5199\u4ee3\u7801\uff0c\u5236\u4f5c\u5404\u79cd\u5c0f\u9879\u76ee\uff0c\u6709\u5fd7\u4e8e\u4ece\u4e8b\u8ba1\u7b97\u673a\u79d1\u7814\uff1b\u5174\u8da3\u7231\u597d\u5e7f\u6cdb\uff0c\u559c\u6b22\u7fbd\u6bdb\u7403\u4e0e\u7f51\u7403\uff0c\u70ed\u7231\u65c5\u6e38\u4e0e\u767b\u5c71\uff0c\u5076\u5c14\u4e5f\u4f1a\u53bb\u53c2\u52a0\u9a6c\u62c9\u677e\u6bd4\u8d5b\u3002</p>"},{"location":"ME/experience/#_3","title":"\u5b66\u4e60\u7ecf\u5386","text":"<ul> <li><code>2010.9 - 2016.6</code> \u5b89\u5fbd\u7701\u5408\u80a5\u5e02\u6ec1\u5dde\u8def\u5c0f\u5b66</li> <li><code>2016.9 - 2019.6</code> \u5b89\u5fbd\u7701\u5408\u80a5\u5e02\u7b2c\u4e09\u5341\u516b\u4e2d\u5b66</li> <li><code>2019.9 - 2022.6</code> \u5b89\u5fbd\u7701\u5408\u80a5\u5e02\u7b2c\u4e00\u4e2d\u5b66</li> <li><code>2022.9 - 2026.6</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u8ba1\u7b97\u673a\u79d1\u5b66\u4e0e\u6280\u672f\u4e13\u4e1a\uff08\u94b1\u5b66\u68ee\u8363\u8a89\u73ed\uff0c\u56fd\u5bb6\u62d4\u5c16\u8ba1\u52122.0\uff09<ul> <li>\u77e5\u8bc6\u79ef\u7d2f<ul> <li>\u624e\u5b9e\u7684\u6570\u7406\u57fa\u7840</li> <li>\u8fc7\u786c\u7684\u82f1\u8bed\u6c34\u5e73</li> <li>\u5168\u7ef4\u5ea6\u638c\u63e1\u8ba1\u7b97\u673a\u5b66\u79d1\u7684\u57fa\u7840\u77e5\u8bc6</li> <li>\u638c\u63e1\u8ba1\u7b97\u673a\u5b66\u79d1\u7684\u57fa\u7840\u77e5\u8bc6\u548c\u76f8\u5173\u5de5\u5177<ul> <li>\u719f\u7ec3\u4f7f\u7528 Linux \u548c\u76f8\u5173\u5de5\u5177</li> <li>\u7f16\u7a0b\u80fd\u529b\u5f3a  \u719f\u7ec3\u4f7f\u7528 Python / C++ \u7b49\u7f16\u7a0b\u8bed\u8a00</li> </ul> </li> </ul> </li> <li>\u5b66\u5206\u7ee9<ul> <li>\u5e73\u5747\u5b66\u5206\u7ee9 3.78</li> <li>\u5e73\u5747\u5206\u6570\uff1a89.98/100</li> </ul> </li> <li>\u7814\u7a76\u751f\u63a8\u514d<ul> <li>\u672c\u73ed\u96b6\u5c5e\u4e8e\u94b1\u5b66\u68ee\u5b66\u9662\uff0c\u5168\u5458\u4fdd\u7814\u3002\u672c\u4eba\u73b0\u5df2\u5177\u5907\u63a8\u514d\u8d44\u683c\uff01</li> </ul> </li> </ul> </li> </ul>"},{"location":"ME/experience/#_4","title":"\u672c\u79d1\u8bfe\u7a0b","text":"<ul> <li>\u6570\u7406\u57fa\u7840<ul> <li>\u6570\u5b66\uff08\u7ebf\u6027\u4ee3\u6570\u4e0e\u89e3\u6790\u51e0\u4f55 \u79bb\u6563\u6570\u5b66 \u5de5\u79d1\u6570\u5b66\u5206\u6790 \u6982\u7387\u8bba\u4e0e\u968f\u673a\u8fc7\u7a0b \u6570\u5b66\u7269\u7406\u65b9\u7a0b \u6570\u503c\u5206\u6790\uff09</li> <li>\u7269\u7406\uff08\u5927\u5b66\u7269\u7406\u5b66I/II\uff09</li> </ul> </li> <li>\u7535\u5b50\u4fe1\u606f<ul> <li>\u7535\u8def\uff08\u7535\u8def[\u56fd\u5bb6\u540d\u5e08] \u7535\u5b50\u6280\u672f\u57fa\u7840\uff09</li> </ul> </li> <li>\u8ba1\u7b97\u673a\u79d1\u5b66<ul> <li>\u57fa\u7840\uff08\u8ba1\u7b97\u673a\u7a0b\u5e8f\u8bbe\u8ba1 \u6570\u636e\u7ed3\u6784\u4e0e\u7b97\u6cd5[\u62d4\u5c16\u73ed] \u4f18\u5316\u65b9\u6cd5\u57fa\u7840 \u8ba1\u7b97\u673a\u79d1\u5b66\u6280\u672f\u5bfc\u8bba\uff09</li> <li>\u6838\u5fc3\uff08\u8ba1\u7b97\u673a\u7cfb\u7edf\u5bfc\u8bba \u5f62\u5f0f\u8bed\u8a00\u4e0e\u7f16\u8bd1 \u8ba4\u77e5\u8ba1\u7b97\u4e0e\u673a\u5668\u5b66\u4e60 \u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784 \u8ba1\u7b97\u673a\u7ec4\u6210\u539f\u7406 \u64cd\u4f5c\u7cfb\u7edf \u8ba1\u7b97\u673a\u7f51\u7edc \u6570\u636e\u5e93\u7cfb\u7edf\uff09</li> <li>\u7efc\u5408\uff08\u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc \u6570\u636e\u4ed3\u5e93\u4e0e\u6570\u636e\u6316\u6398 \u8ba1\u7b97\u673a\u56fe\u5f62\u5b66 \u81ea\u7136\u8bed\u8a00\u7406\u89e3\u4e0e\u673a\u5668\u7ffb\u8bd1 \u8ba1\u7b97\u673a\u89c6\u89c9\u4e0e\u6a21\u5f0f\u8bc6\u522b\uff09</li> </ul> </li> <li>\u5b9e\u9a8c\uff08\u7269\u7406\u5b9e\u9a8c \u7efc\u5408\u5de5\u7a0b\u8bad\u7ec3 MATLAB\u6570\u5b66\u5efa\u6a21\u5206\u6790\u4e0e\u5e94\u7528\uff09</li> <li>\u601d\u60f3\u653f\u6cbb\uff08\u601d\u60f3\u9053\u5fb7\u4fee\u517b\u4e0e\u6cd5\u5f8b\u57fa\u7840 \u4e2d\u56fd\u8fd1\u73b0\u4ee3\u53f2\u7eb2\u8981 \u9a6c\u514b\u601d\u4e3b\u4e49\u57fa\u672c\u539f\u7406 \u5f62\u52bf\u4e0e\u653f\u7b56 \u4e60\u8fd1\u5e73\u65b0\u65f6\u4ee3\u4e2d\u56fd\u7279\u8272\u793e\u4f1a\u4e3b\u4e49\u601d\u60f3\u6982\u8bba \u6bdb\u6cfd\u4e1c\u601d\u60f3\u548c\u4e2d\u56fd\u7279\u8272\u793e\u4f1a\u4e3b\u4e49\u7406\u8bba\u4f53\u7cfb\u6982\u8bba \u519b\u4e8b\u7406\u8bba \u519b\u4e8b\u6280\u80fd\uff09</li> <li>\u6587\u5316\u7d20\u8d28\uff08\u8868\u8fbe\u4e0e\u4ea4\u6d41[\u9662\u58eb\u6388\u8bfe] \u82f1\u8bed\u6f14\u8bb2\u4e0e\u827a\u672f \u5b8f\u89c2\u7ecf\u6d4e\u5b66 \u6b27\u6d32\u6d6a\u6f2b\u97f3\u4e50\u6d3e\u9274\u8d4f\uff09</li> <li>\u8bed\u8a00\uff08\u96c5\u601d\u82f1\u8bed \u6258\u798f\u82f1\u8bed \u82f1\u8bed\u5b66\u672f\u5199\u4f5c\uff09</li> </ul>"},{"location":"ME/experience/#_5","title":"\u672c\u79d1\u8bc1\u4e66","text":"<ul> <li>the First provincial-level Prize in Contemporary Undergraduate Mathematical Contest in Modeling(CUMCM), 2023</li> <li>the First provincial-level Prize in The Chinese Mathematics Competitions(CMC), 2023 </li> <li>the Third Prize in National College Student Olympic Mathematics Competition(CSOMC), 2023</li> <li>the Second school-level Prize in International Collegiate Programming Contest(ICPC), 2023</li> </ul>"},{"location":"ME/experience/#_6","title":"\u5956\u5b66\u91d1","text":"<ul> <li><code>2023.9</code> Scholarship for Outstanding Students, Third Prize, Xi'an Jiaotong University</li> </ul>"},{"location":"ME/experience/#_7","title":"\u515a\u653f\u53c2\u4e0e","text":"<ul> <li><code>2022.10 - 2023.10</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u94b1\u5b66\u68ee\u4e66\u9662\u614e\u72ec\u515a\u652f\u90e8-\u5165\u515a\u79ef\u6781\u5206\u5b50 </li> <li><code>2023.10 - 2023.11</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u94b1\u5b66\u68ee\u4e66\u9662\u614e\u72ec\u515a\u652f\u90e8-\u5165\u515a\u53d1\u5c55\u5bf9\u8c61</li> <li><code>2023.11 - 2024.11</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u94b1\u5b66\u68ee\u4e66\u9662\u614e\u72ec\u515a\u652f\u90e8-\u4e2d\u5171\u9884\u5907\u515a\u5458</li> <li> <p><code>2024.11 - \u81f3\u4eca</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u94b1\u5b66\u68ee\u4e66\u9662\u614e\u72ec\u515a\u652f\u90e8-\u4e2d\u5171\u515a\u5458</p> </li> <li> <p>\u4e3b\u6301\u614e\u72ec\u515a\u652f\u90e8\u4e09\u6708\u7ec4\u7ec7\u751f\u6d3b\u4f1a\uff0c\u8d1f\u8d23\u5ba3\u8bb2 \u201c\u65f6\u653f\u70ed\u70b9\u201d \u90e8\u5206\u5185\u5bb9</p> </li> <li>\u4e3b\u6301\u614e\u72ec\u515a\u652f\u90e8\u5341\u6708\u5b66\u4e60\u4f1a\uff0c\u8d1f\u8d23\u5ba3\u8bb2 \u201c\u515a\u53f2\u6545\u4e8b\u201d \u90e8\u5206\u5185\u5bb9</li> <li>\u4e3b\u6301\u614e\u72ec\u515a\u652f\u90e8\u5341\u4e00\u6708\u79ef\u6781\u5206\u5b50\u57f9\u8bad\u4f1a\uff0c\u8d1f\u8d23\u57f9\u8bad\u201c\u515a\u5185\u653f\u6cbb\u6d3b\u52a8\u51c6\u5219\u201d</li> <li>\u53c2\u52a0\u53d1\u5c55\u5bf9\u8c61\u8ba8\u8bba\u73ed\uff0c\u62c5\u4efb\u7814\u8ba8\u7ec4\u957f\uff0c\u8d1f\u8d23\u8bb2\u89e3\u201d\u65b0\u5f62\u52bf\u4e0b\u515a\u5185\u653f\u6cbb\u6d3b\u52a8\u51c6\u5219\u201c</li> </ul>"},{"location":"ME/experience/#_8","title":"\u6821\u56ed\u751f\u6d3b\u4e0e\u793e\u4f1a\u5b9e\u8df5","text":"<ul> <li><code>2023.1</code> \u201c\u6821\u56ed\u5927\u4f7f\u201d\u9ad8\u6821\u8fd4\u6821\u5ba3\u8bb2\u6d3b\u52a8</li> <li><code>2023.5</code> \u201c\u65b0\u65f6\u4ee3\u8ba1\u7b97\u673a\u5b66\u79d1\u521b\u65b0\u53d1\u5c55\u8bba\u575b\u201d\u5fd7\u613f\u6d3b\u52a8</li> <li><code>2023.9</code> \u5f53\u9009\u94b1\u5b66\u68ee\u4e66\u9662\u7b2c\u56db\u6b21\u5b66\u751f\u4ee3\u8868\u5927\u4f1a\u9662\u7ea7\u6b63\u5f0f\u4ee3\u8868</li> </ul>"},{"location":"ME/experience/#_9","title":"\u79d1\u7814","text":"<ul> <li><code>2023.6 - \u81f3\u4eca</code> \u897f\u5b89\u4ea4\u901a\u5927\u5b66\u8ba1\u7b97\u673a\u5b66\u9662ANTS\u5b9e\u9a8c\u5ba4 \u5355\u4e39\u67ab\u6559\u6388<ul> <li>\u4e86\u89e3\u4e86 \u8ba1\u7b97\u673a\u7f51\u7edc\u7684\u57fa\u7840</li> <li>\u5b66\u4e60\u4e86 \u8ba1\u7b97\u673a\u7f51\u7edc\u4e0e\u8ba1\u7b97\u673a\u7cfb\u7edf\u77e5\u8bc6</li> <li>\u4e86\u89e3\u4e86 \u79d1\u7814\u7684\u601d\u8def</li> <li>\u5df2\u5c1d\u8bd5 \u590d\u73b0\u8bba\u6587\u300aRDMA over Commodity Ethernet at Scale\u300b</li> <li>\u6b63\u5728\u8fdb\u884c \u590d\u73b0\u8bba\u6587\u300aICDCS23 Less is More Dynamic and Shared Headroom Allocation in PFC-enabled Datacenter Networks\u300b\u5e76\u8ba1\u5212\u57fa\u4e8e\u6b64\u53d1\u8868\u4e00\u7bc7CCF-A\u671f\u520a</li> </ul> </li> </ul>"},{"location":"ME/experience/#_10","title":"\u9879\u76ee","text":""},{"location":"ME/experience/#nand","title":"\u57fa\u4e8eNAND\u95ea\u5b58\u7684\u82af\u7247\u68c0\u6d4b\u4f18\u5316","text":"<ul> <li><code>2023.10</code> \u53c2\u4e0e\u897f\u5b89\u4ea4\u901a\u5927\u5b66\u8ba1\u7b97\u673a\u5b66\u9662\u9ad8\u6027\u80fd\u8ba1\u7b97\u56e2\u961f <ul> <li>\u8bbe\u8ba1\u82af\u7247\u68c0\u6d4b\u7684\u4f18\u5316\uff08\u57fa\u4e8eNAND\u95ea\u5b58\uff09</li> <li>\u5e08\u4ece\u52a9\u7406\u6559\u6388\u8042\u4e16\u5f3a</li> </ul> </li> </ul>"},{"location":"ME/experience/#_11","title":"\u65b0\u751f\u513f\u8111\u79ef\u6c34\u68c0\u6d4b\u7684\u4f18\u5316\u8bc6\u522b\u4e0e\u81ea\u52a8\u5206\u6790","text":"<ul> <li><code>2023.10</code> \u53c2\u4e0e\u897f\u5b89\u4ea4\u901a\u5927\u5b66\u751f\u7269\u533b\u5b66\u5de5\u7a0b\u56e2\u961f<ul> <li>\u4ece\u4e8b\u4ea4\u53c9\u5b66\u79d1\u9879\u76ee\u7814\u7a76</li> <li>\u8fdb\u884c\u201c\u78c1\u5171\u632f\u5f71\u50cf\u7684\u8111\u5ba4\u8bc6\u522b\u4e0e\u5206\u5272\u201d\u9879\u76ee\u8bad\u7ec3</li> <li>\u5e08\u4ece\u897f\u5b89\u4ea4\u901a\u5927\u5b66\u7b2c\u4e00\u9644\u5c5e\u533b\u9662\u526f\u7814\u7a76\u5458\u91d1\u8d85</li> </ul> </li> </ul>"},{"location":"ME/php/","title":"\u6709\u610f\u4e49\u7684\u7167\u7247","text":""},{"location":"ME/php/#_2","title":"\u897f\u5b89\u4ea4\u901a\u5927\u5b66\u9a6c\u62c9\u677e\u6bd4\u8d5b","text":""},{"location":"ME/php/#_3","title":"\u94b1\u5b66\u68ee\u4e66\u9662\u614e\u72ec\u515a\u652f\u90e8\u8bb2\u8bfe","text":""},{"location":"ME/php/#_4","title":"\u94b1\u5b66\u68ee\u4e66\u9662\u5b66\u751f\u4ee3\u8868\u5927\u4f1a","text":""},{"location":"ME/php/#_5","title":"\u65b0\u65f6\u4ee3\u8ba1\u7b97\u673a\u5b66\u79d1\u521b\u65b0\u53d1\u5c55\u8bba\u575b","text":""},{"location":"ME/php/#_6","title":"\u6211\u548c\u8ba1\u7b97\u673a\u5b66\u9662\u5510\u9662\u957f\u7684\u5408\u5f71","text":""},{"location":"ME/php/#_7","title":"\u6211\u548c\u5bfc\u5e08\u5355\u8001\u5e08\u7684\u5408\u5f71","text":""},{"location":"ME/php/#_8","title":"\u5355\u72ec\u62cd\u4e00\u5f20","text":""},{"location":"ME/php/#_9","title":"\u6559\u80b2\u90e8\u7b2c\u4e09\u5c4a\u201c\u63d0\u95ee\u4e0e\u731c\u60f3\u201d\u7ebf\u4e0b\u8bc4\u5ba1\u5c55\u793a\u4ea4\u6d41\u4f1a\u5f00\u5e55\u5f0f","text":""},{"location":"ME/php/#ascend","title":"\u534e\u4e3aAscend\u8bba\u575b","text":""},{"location":"ME/php/#_10","title":"\u6211\u548c\u6211\u7684\u5f55\u53d6\u8bc1\u4e66","text":""},{"location":"ME/php/#_11","title":"\u6211\u548c\u6211\u7684\u5ba4\u53cb","text":""},{"location":"ME/php/#_12","title":"\u65c5\u6e38","text":""},{"location":"ME/php/#_13","title":"\u53c2\u89c2\u4e2d\u56fd\u897f\u90e8\u521b\u65b0\u6e2f","text":""},{"location":"ME/php/#_14","title":"\u767d\u9e7f\u4ed3\u9732\u8425","text":""},{"location":"ME/php/#_15","title":"\u9ec4\u5c71\u6e38\u8bb0","text":""},{"location":"ME/php/#_16","title":"\u91cd\u5e86\u6e38\u8bb0","text":""},{"location":"ME/php/#_17","title":"\u6e56\u5357\u6e38\u8bb0","text":""},{"location":"ME/php/#_18","title":"\u664b\u4e2d\u6e38\u8bb0","text":""},{"location":"Sci_doc/","title":"\u79d1\u7814\u8f6f\u4ef6\u4f7f\u7528","text":"<p>\u8fd9\u4e00\u90e8\u5206\u4f1a\u4e3b\u8981\u4ecb\u7ecd\u5e38\u89c1\u79d1\u7814\u8f6f\u4ef6\u7684\u914d\u7f6e\u4e0e\u4f7f\u7528\uff0c\u5e0c\u671b\u5927\u5bb6\u80fd\u6709\u6240\u6536\u83b7\uff0c\u5229\u7528\u9ad8\u6548\u7684\u786c\u4ef6/\u8f6f\u4ef6\u63d0\u5347\u79d1\u7814\u6548\u7387</p> <p>\u672c\u673a\u73af\u5883\uff1aMacbook Pro M2 \uff08sonoma 14.0\uff09 \u865a\u62df\u73af\u5883\uff1aUbuntu 22.04LTS</p>"},{"location":"Sci_doc/ns-3/ch0/","title":"ns-3 \u73af\u5883\u914d\u7f6e","text":"<p>made by XJTU  CS2201(H) \u80e1\u535a\u7444</p>"},{"location":"Sci_doc/ns-3/ch0/#0-ns3","title":"0. ns3\u7b80\u4ecb","text":"<p>ns-3\u662f\u4e00\u4e2a\u5f00\u6e90\u7684\u7f51\u7edc\u4eff\u771f\u5668\uff0c\u7528\u4e8e\u7f51\u7edc\u901a\u4fe1\u7cfb\u7edf\u548c\u534f\u8bae\u7684\u5efa\u6a21\u4e0e\u4eff\u771f\u3002\u5982\u679c\u4f60\u51c6\u5907\u53c2\u4e0e\u8ba1\u7b97\u673a\u7f51\u7edc\u548c\u4e91\u8ba1\u7b97\u65b9\u9762\u7684\u79d1\u7814\u9879\u76ee\uff0c\u5b83\u5c06\u662f\u4f60\u5fe0\u8bda\u800c\u53ef\u9760\u7684\u201c\u53e6\u4e00\u534a\u201d\u3002\u5b83\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u7814\u7a76\u3001\u5f00\u53d1\u548c\u6d4b\u8bd5\u5404\u79cd\u7f51\u7edc\u6280\u672f\u548c\u7b97\u6cd5\u3002</p> <p>ns-3\u88ab\u6784\u5efa\u4e3a\u4e00\u7ec4\u76f8\u4e92\u534f\u4f5c\u7684\u8f6f\u4ef6\u5e93\uff0c\u7528\u6237\u53ef\u4ee5\u7f16\u5199C++\u6216Python\u7f16\u7a0b\u8bed\u8a00\u7684\u7a0b\u5e8f\uff0c\u5e76\u4e0e\u8fd9\u4e9b\u5e93\u8fdb\u884c\u94fe\u63a5\u6216\u5bfc\u5165\u3002</p>"},{"location":"Sci_doc/ns-3/ch0/#1","title":"1. \u672c\u6587\u7535\u8111\u914d\u7f6e\u73af\u5883\u4e0e\u76ee\u6807\u7248\u672c\uff1a","text":"<ol> <li>\u7535\u8111\uff1aMacbook Pro\uff08M2\uff09</li> <li>\u914d\u7f6e\u73af\u5883\uff1aLinux\u865a\u62df\u673a\uff08Ubuntu 22.04LTS\uff09</li> <li>\u76ee\u6807\u7248\u672c\uff1ans-3.37</li> </ol>"},{"location":"Sci_doc/ns-3/ch0/#2-ns-3","title":"2. \u4ee5\u4e0b\u5de5\u5177\u662f\u5f00\u59cb\u4f7f\u7528ns-3\u6240\u9700\u7684\uff1a","text":"<p>C++\u7f16\u8bd1\u5668 clang++\u6216\uff08g++\u7248\u672c9\u6216\u66f4\u9ad8\uff09g++ Python python3\u7248\u672c&gt;=3.6 CMake cmake\u7248\u672c&gt;=3.10 \u6784\u5efa\u7cfb\u7edf make ninja\uff08XCode\uff09\u6216xcodebuild Git \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u4eceGitLab.com\u8bbf\u95eens-3\uff09 tar \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u89e3\u538bns-3\u53d1\u5e03\uff09 bunzip2 \u4efb\u4f55\u6700\u65b0\u7248\u672c\uff08\u7528\u4e8e\u89e3\u538b\u7f29ns-3\u53d1\u5e03\uff09</p> <pre><code>sudo apt install g++ python3 cmake ninja-build git\nsudo apt install ccache\nsudo apt install python3-pip\npython3 -m pip install --user cppyy // \u5f85\u5b9a\uff0c\u76ee\u524d\u770b\u6765\u5e76\u4e0d\u662f\u5fc5\u9700\u54c1\uff0c\u56e0\u4e3a\u6211\u6ca1\u914d\u4e0a\u5374\u4e5f\u4e0d\u5f71\u54cd\u4f7f\u7528\ud83e\udd21\nsudo apt install gir1.2-goocanvas-2.0 python3-gi python3-gi-cairo python3-pygraphviz gir1.2-gtk-3.0 ipython3\nsudo apt install python3-setuptools git\nsudo apt install qtbase5-dev qtchooser qt5-qmake qtbase5-dev-tools\nsudo apt install openmpi-bin openmpi-common openmpi-doc libopenmpi-dev\nsudo apt install mercurial unzip\nsudo apt install gdb valgrind\nsudo apt install clang-format\nsudo apt install doxygen graphviz imagemagick\nsudo apt install texlive texlive-extra-utils texlive-latex-extra texlive-font-utils dvipng latexmk\nsudo apt install python3-sphinx dia\nsudo apt install gsl-bin libgsl-dev libgslcblas0\nsudo apt install tcpdump\nsudo apt install sqlite sqlite3 libsqlite3-dev // \u5982\u679c\u51fa\u95ee\u9898\u53ef\u4ee5\u6539\u6210\uff1asudo apt install sqlite3 libsqlite3-dev\nsudo apt install libxml2 libxml2-dev\nsudo apt install libgtk-3-dev\nsudo apt install vtun lxc uml-utilities\nsudo apt install libxml2 libxml2-dev libboost-all-dev\n</code></pre>"},{"location":"Sci_doc/ns-3/ch0/#3-gitns3","title":"3. \u4f7f\u7528Git\u5b89\u88c5ns3\uff1a","text":"<p>ps: \u8981\u662f\u4e0d\u719f\u6089git\uff0c\u8bf4\u660e\u4f60\u7684\u79d1\u7814\u7ecf\u5386\u5b58\u5728\u8df3\u6b65\uff0c\u5efa\u8bae\u590d\u4e60\u57fa\u7840\u8fd0\u7ef4\u77e5\u8bc6</p> <p><pre><code>(1) \u5efa\u7acb\u6587\u4ef6\u5939\uff0c\u5728\u6587\u4ef6\u5939\u4e2d\u653e\u7f6e\u5b89\u88c5\u5305\uff1a\ncd //\u968f\u4fbf\u4f60\u5efa\u7acb\u5728\u54ea\u91cc\uff0c\u6211\u7684\u9009\u62e9\u662f: cd /Desktop/\nmkdir workspace\n\n(2) \u8fdb\u5165\u6587\u4ef6\u5939\uff0c\u8fdb\u884cclone\uff1a\ncd workspace\ngit clone https://gitlab.com/nsnam/ns-3-allinone.git\ncd ns-3-allinone\n</code></pre> </p>"},{"location":"Sci_doc/ns-3/ch0/#4-ns-3-allinone","title":"4. \u8fdb\u5165\u6307\u5b9a\u7684ns-3-allinone\u8fdb\u884c\u540e\u7eed\u914d\u7f6e\uff1a","text":"<p>==\u5728\u6587\u4ef6\u5939ns-3-allinone\u4e0b==\u5bf9\u6307\u5b9a\u7684ns3\u7248\u672c\u8fdb\u884c\u4e0b\u8f7d\uff1a(\u770b\u6587\u4ef6\u914d\u7f6e\u548c\u6211\u7684\u622a\u56fe\u65f6\uff0c\u8bb0\u5f97\u4ed4\u7ec6\u770b\u914d\u7f6e\u7684\u8def\u5f84\uff01) <pre><code>python3 download.py -n ns-3.37\n</code></pre> </p>"},{"location":"Sci_doc/ns-3/ch0/#5-cmake","title":"5. \u7528CMake\u5305\u88c5\u5668\u8fdb\u884c\u6784\u5efa\uff1a","text":"<p>ps\uff1a\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u65b0\u7248\u672c\u7684ns3\uff083.36\u540e\u7eed\u7248\u672c\uff09\u5df2\u7ecf\u4e0d\u518d\u4f7f\u7528waf\u5de5\u5177\u8fdb\u884c\u9879\u76ee\u7684\u6784\u5efa\u4e86</p> <ol> <li>\u7d27\u968f\u4e0a\u9762\u7684\u5185\u5bb9\uff0c\u8fdb\u5165ns-3.37\u6587\u4ef6\u5939\uff1a</li> <li>\u4e3a\u5b9e\u73b0\u7528\u6237\u754c\u9762\uff0c\u8fd9\u91cc\u5305\u542b\u540d\u4e3ans-3\u7684CMake\u5305\u88c5\u5668\u811a\u672c\u3002\uff08\u4f60\u5728\u8fd9\u4e00\u6b65\u5565\u4e5f\u4e0d\u7528\u505a\uff0c\u76f4\u63a5\u770b\u4e0b\u9762\u5c31\u884c\uff09</li> <li>\u4e3a\u4e86\u544a\u8bc9ns-3\u8fdb\u884c\u5305\u542b\u793a\u4f8b\u548c\u6d4b\u8bd5\u7684\u4f18\u5316\u6784\u5efa\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>./ns3 clean\n./ns3 configure --build-profile=optimized --enable-examples --enable-tests\n</code></pre></li> <li>\u73b0\u5728\u4f60\u53ef\u4ee5\u770b\u5230\u5b83\u7684\u53cd\u9988\uff0c\u8bf4\u660e\u6784\u5efa\u6210\u529f\u2705 </li> </ol>"},{"location":"Sci_doc/ns-3/ch0/#6-ns-3","title":"6. \u624b\u52a8\u8fdb\u884cns-3\u6a21\u5757\u6d4b\u8bd5\uff1a","text":"<p>\u8fd9\u4e00\u6b65\u4f9d\u7136\u662f\u5728ns-3.37\u6587\u4ef6\u5939\u4e0b\u8fdb\u884c <pre><code>./test.py\n</code></pre></p> <p>\u8fd9\u4f1a\u7ecf\u5386\u4e00\u4e2a\u6f2b\u957f\u7684\u8fc7\u7a0b\uff0c\u5f62\u5982\uff1a </p> <p>\u6700\u540e\uff0c\u770b\u5230\u8fd9\u6837\u7684\u754c\u9762\uff0c\u8bf4\u660e\u642d\u5efa\u6d4b\u8bd5\u6210\u529f\uff1a</p> <p></p>"},{"location":"Sci_doc/ns-3/ch0/#7","title":"7. \u81ea\u884c\u68c0\u6d4b\u662f\u5426\u5b89\u88c5\u6210\u529f\uff1a","text":"<p>\u901a\u5e38\u6211\u4eec==\u5728 ns3 \u7684\u63a7\u5236\u4e0b\u8fd0\u884c\u811a\u672c==\u3002\u8fd9\u6837\u53ef\u4ee5\u786e\u4fdd\u6784\u5efa\u7cfb\u7edf\u6b63\u786e\u8bbe\u7f6e\u4e86\u5171\u4eab\u5e93\u8def\u5f84\uff0c\u5e76\u4e14\u5728\u8fd0\u884c\u65f6\u5e93\u662f\u53ef\u7528\u7684\u3002</p> <p>\u8981\u8fd0\u884c\u4e00\u4e2a\u7a0b\u5e8f\uff0c\u53ea\u9700\u5728 ns3 \u4e2d\u4f7f\u7528 <code>--run</code> \u9009\u9879\u3002\u6211\u4eec\u6765\u8fd0\u884c ns-3 \u4e2d\u7c7b\u4f3c\u4e8e\u4f20\u7edf\u7684 \"Hello World\" \u7a0b\u5e8f\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a <pre><code>$ ./ns3 run hello-simulator\n</code></pre></p> <p>ns3 \u4f1a\u9996\u5148\u68c0\u67e5\u7a0b\u5e8f\u662f\u5426\u5df2\u6b63\u786e\u6784\u5efa\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\u4f1a\u6267\u884c\u6784\u5efa\u3002\u7136\u540e\uff0cns3 \u6267\u884c\u8be5\u7a0b\u5e8f\uff0c\u4ea7\u751f\u4ee5\u4e0b\u8f93\u51fa\uff1a <pre><code>Hello Simulator\nCongratulations! You are now an ns-3 user!\n</code></pre></p>"},{"location":"Sci_doc/ns-3/ch0/#ps","title":"ps\uff1a\u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230\u8f93\u51fa\u600e\u4e48\u529e\uff1f","text":"<p>\u5982\u679c\u4f60\u770b\u5230 ns3 \u7684\u6d88\u606f\u8868\u660e\u6784\u5efa\u6210\u529f\uff0c\u4f46\u662f\u6ca1\u6709\u770b\u5230 \"Hello Simulator\" \u7684\u8f93\u51fa\uff0c\u5f88\u53ef\u80fd\u662f\u4f60\u5df2\u7ecf\u5728 \"Building with the ns3 CMake wrapper\" \u90e8\u5206\u5c06\u6784\u5efa\u6a21\u5f0f\u5207\u6362\u4e3a\u4e86\u4f18\u5316\u6a21\u5f0f\uff0c\u4f46\u662f\u5fd8\u8bb0\u4e86\u5207\u56de\u8c03\u8bd5\u6a21\u5f0f\u3002\u5728\u672c\u6559\u7a0b\u4e2d\u4f7f\u7528\u4e86\u4e00\u4e2a\u7279\u6b8a\u7684 ns-3 \u65e5\u5fd7\u7ec4\u4ef6\u6765\u6253\u5370\u7528\u6237\u6d88\u606f\u5230\u63a7\u5236\u53f0\u3002\u5728\u7f16\u8bd1\u4f18\u5316\u4ee3\u7801\u65f6\uff0c\u6b64\u7ec4\u4ef6\u7684\u8f93\u51fa\u4f1a\u81ea\u52a8\u7981\u7528\uff0c\u5373\u88ab\u201c\u4f18\u5316\u6389\u201d\u3002\u5982\u679c\u4f60\u6ca1\u6709\u770b\u5230 \"Hello Simulator\" \u8f93\u51fa\uff0c\u8bf7\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ ./ns3 configure --build-profile=debug --enable-examples --enable-tests\n</code></pre> <p>\u8fd9\u544a\u8bc9 ns3 \u6784\u5efa\u8c03\u8bd5\u7248\u672c\u7684 ns-3 \u7a0b\u5e8f\uff0c\u5305\u62ec\u793a\u4f8b\u548c\u6d4b\u8bd5\u3002 </p> <p>\u7136\u540e\uff0c\u4f60\u4ecd\u7136\u9700\u8981\u6784\u5efa\u5b9e\u9645\u7684\u8c03\u8bd5\u7248\u672c\u4ee3\u7801\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ ./ns3\n</code></pre> <p>\u8fd9\u4f1a\u7ecf\u5386\u4e00\u4e2a\u6f2b\u957f\u7684\u8fc7\u7a0b\uff0c\u76f4\u5230\u5168\u90e8\u642d\u5efa\u5b8c\u6210\uff1a</p> <p></p> <p>\u73b0\u5728\uff0c\u5982\u679c\u8fd0\u884c <code>hello-simulator</code> \u7a0b\u5e8f\uff0c\u4f60\u5e94\u8be5\u80fd\u770b\u5230\u9884\u671f\u7684\u8f93\u51fa:</p> <p></p>"},{"location":"Sci_doc/ns-3/ch0/#8","title":"8. \u7ed3\u8bed\uff1a","text":"<ol> <li>\u606d\u559c\u4f60\uff0c\u5230\u4e86\u8fd9\u91cc\u4f60\u5c31\u5df2\u7ecf\u914d\u7f6e\u6210\u529f\u4e86\uff01</li> <li>\u4e0d\u8981\u5fd8\u4e86\u672c\u6587\u7684\u914d\u7f6e\u987a\u5e8f\u662f\u6e10\u8fdb\u7684\uff0c\u5982\u679c\u4f60\u7559\u5fc3\u7684\u8bdd\u4f1a\u53d1\u73b0\uff1a./test.py\u4e4b\u540e\u8df3\u51fa\u7684\u90e8\u5206\u663e\u793a\u4e4b\u524d\u914d\u7f6e\u7684\u662f\u4f18\u5316\u6a21\u5f0f\uff1b\u800c\u540e\u7eed./ns3 configure --build-profile=debug --enable-examples --enable-tests\u5bf9\u5e94\u914d\u7f6e\u7684\u662f\u8c03\u8bd5\u6a21\u5f0f\u3002\u5728\u6211\u4eec\u7684\u65e5\u5e38\u79d1\u7814\u4e2d\u7528\u5230\u7684\u57fa\u672c\u662f\u8c03\u8bd5\u6a21\u5f0f\uff01</li> </ol>"},{"location":"Sci_doc/ns-3/ch1/","title":"ns-3 \u5165\u95e8\u7a0b\u5e8f\u89e3\u6790","text":""},{"location":"Sci_doc/ns-3/ch1/#0a-first-ns-3-script","title":"\uff080\uff09A First ns-3 Script","text":"<p>\u5982\u679c\u60a8\u6309\u7167\u4e0a\u9762\u7684\u5efa\u8bae\u4e0b\u8f7d\u4e86ns-3\u7cfb\u7edf\uff0c\u90a3\u4e48\u60a8\u7684\u4e3b\u76ee\u5f55\u4e0b\u5c06\u6709\u4e00\u4e2a\u540d\u4e3a\"workspace\"\u7684\u76ee\u5f55\uff0c\u91cc\u9762\u5305\u542bns-3\u7684\u4e00\u4e2a\u53d1\u5e03\u7248\u672c\u3002\u5207\u6362\u5230\u8be5\u53d1\u5e03\u76ee\u5f55\uff0c\u60a8\u5e94\u8be5\u4f1a\u627e\u5230\u4ee5\u4e0b\u7c7b\u4f3c\u7684\u76ee\u5f55\u7ed3\u6784\uff1a</p> <pre><code>AUTHORS        CMakeLists.txt   examples   RELEASE_NOTES.md  testpy.supp\nbindings       contrib          LICENSE    scratch           utils\nbuild-support  CONTRIBUTING.md  ns3        src               utils.py\nCHANGES.md     doc              README.md  test.py           VERSION\n</code></pre> <p>\u5207\u6362\u5230<code>examples/tutorial</code>\u76ee\u5f55\u3002\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4e00\u4e2a\u540d\u4e3a<code>first.cc</code>\u7684\u6587\u4ef6\u4f4d\u4e8e\u5176\u4e2d\u3002\u8fd9\u662f\u4e00\u4e2a\u811a\u672c\uff0c\u5c06\u5728\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u521b\u5efa\u4e00\u4e2a\u7b80\u5355\u7684\u70b9\u5bf9\u70b9\u94fe\u63a5\uff0c\u5e76\u5728\u8fd9\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u56de\u663e\u5355\u4e2a\u6570\u636e\u5305\u3002\u8ba9\u6211\u4eec\u9010\u884c\u67e5\u770b\u8fd9\u4e2a\u811a\u672c\uff0c\u6253\u5f00\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u5e76\u7f16\u8f91<code>first.cc</code>\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#1copyright","title":"\uff081\uff09Copyright","text":"<p>ns-3\u6a21\u62df\u5668\u91c7\u7528GNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u8bc1\u7b2c2\u7248\u8fdb\u884c\u8bb8\u53ef\u3002\u5728ns-3\u5206\u53d1\u5305\u7684\u6bcf\u4e2a\u6587\u4ef6\u5f00\u5934\uff0c\u4f60\u90fd\u4f1a\u770b\u5230\u76f8\u5e94\u7684GNU\u6cd5\u5f8b\u672f\u8bed\u3002\u901a\u5e38\uff0c\u4f60\u4f1a\u5728GPL\u6587\u672c\u4e0a\u65b9\u770b\u5230\u6d89\u53cans-3\u9879\u76ee\u7684\u673a\u6784\u4e4b\u4e00\u7684\u7248\u6743\u58f0\u660e\uff0c\u5e76\u5728\u4e0b\u65b9\u5217\u51fa\u4f5c\u8005\u3002</p> <pre><code>/*\n * \u672c\u7a0b\u5e8f\u662f\u81ea\u7531\u8f6f\u4ef6\uff1b\u60a8\u53ef\u4ee5\u6839\u636eGNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u8bc1\u7b2c2\u7248\u7684\u6761\u6b3e\n * \u8fdb\u884c\u518d\u53d1\u5e03\u6216\u4fee\u6539\u3002\n *\n * \u672c\u7a0b\u5e8f\u662f\u57fa\u4e8e\u5e0c\u671b\u5b83\u662f\u6709\u7528\u7684\u51fa\u7248\u7684\uff1b\n * \u4f46\u6ca1\u6709\u4efb\u4f55\u62c5\u4fdd\uff1b\u751a\u81f3\u6ca1\u6709\u5bf9\u9002\u9500\u6027\u6216\u7279\u5b9a\u7528\u9014\u7684\u9690\u542b\u62c5\u4fdd\u3002\n * \u6709\u5173\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605GNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u8bc1\u3002\n *\n * \u60a8\u5e94\u8be5\u5df2\u7ecf\u6536\u5230\u4e86GNU\u901a\u7528\u516c\u5171\u8bb8\u53ef\u8bc1\u7684\u4e00\u4efd\u526f\u672c\uff1b\n * \u5982\u679c\u6ca1\u6709\uff0c\u8bf7\u5199\u4fe1\u7ed9Free Software Foundation\uff0cInc.\uff0c\n * \u5730\u5740\uff1a59 Temple Place\uff0cSuite 330\uff0cBoston\uff0cMA  02111-1307 USA\n */\n</code></pre>"},{"location":"Sci_doc/ns-3/ch1/#2module-includes","title":"\uff082\uff09Module Includes","text":"<p>\u4ee3\u7801\u6b63\u6587\u4ee5\u4e00\u7cfb\u5217\u7684\u5305\u542b\u8bed\u53e5\u5f00\u59cb\uff1a</p> <pre><code>#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n</code></pre> <p>\u4e3a\u4e86\u5e2e\u52a9\u6211\u4eec\u7684\u9ad8\u7ea7\u811a\u672c\u7528\u6237\u5904\u7406\u7cfb\u7edf\u4e2d\u5b58\u5728\u7684\u5927\u91cf\u5305\u542b\u6587\u4ef6\uff0c\u6211\u4eec\u6839\u636e\u76f8\u5bf9\u8f83\u5927\u7684\u6a21\u5757\u5bf9\u5305\u542b\u8fdb\u884c\u5206\u7ec4\u3002\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5355\u4e00\u7684\u5305\u542b\u6587\u4ef6\uff0c\u5b83\u5c06\u9012\u5f52\u52a0\u8f7d\u6bcf\u4e2a\u6a21\u5757\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u5305\u542b\u6587\u4ef6\u3002\u4e0e\u5fc5\u987b==\u67e5\u627e\u786e\u5207\u9700\u8981\u7684\u5934\u6587\u4ef6==\u5e76\u53ef\u80fd\u9700\u8981\u6b63\u786e\u83b7\u53d6\u591a\u4e2a\u4f9d\u8d56\u9879\u7684\u65b9\u5f0f\u4e0d\u540c\uff0c\u6211\u4eec\u4e3a\u60a8\u63d0\u4f9b\u4e86\u4ee5\u8f83\u5927\u7684\u9897\u7c92\u5ea6\u52a0\u8f7d\u4e00\u7ec4\u6587\u4ef6\u7684\u80fd\u529b\u3002\u8fd9\u5e76\u4e0d\u662f\u6700\u9ad8\u6548\u7684\u65b9\u6cd5\uff0c\u4f46\u5b83\u786e\u5b9e\u4f7f\u7f16\u5199\u811a\u672c\u53d8\u5f97\u66f4\u5bb9\u6613\u3002</p> <p>\u5728\u6784\u5efa\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u6bcf\u4e2ans-3\u5305\u542b\u6587\u4ef6\u653e\u7f6e\u5728\u4e00\u4e2a\u540d\u4e3ans3\u7684\u76ee\u5f55\u4e2d\uff08\u5728\u6784\u5efa\u76ee\u5f55\u4e0b\uff09\uff0c\u4ee5\u907f\u514d\u5305\u542b\u6587\u4ef6\u540d\u51b2\u7a81\u3002ns3/core-module.h\u6587\u4ef6\u5bf9\u5e94\u4e8e\u5728\u4e0b\u8f7d\u7684\u53d1\u5e03\u5206\u53d1\u7248\u672c\u7684src/core\u76ee\u5f55\u4e2d\u627e\u5230\u7684ns-3\u6a21\u5757\u3002\u5982\u679c\u5217\u51fa\u6b64\u76ee\u5f55\uff0c\u5c06\u627e\u5230\u5927\u91cf\u7684\u5934\u6587\u4ef6\u3002\u8fdb\u884c\u6784\u5efa\u65f6\uff0cns3\u5c06\u5728\u9002\u5f53\u7684build/debug\u6216build/optimized\u76ee\u5f55\u4e0b\u7684ns3\u76ee\u5f55\u4e2d\u653e\u7f6e\u516c\u5171\u5934\u6587\u4ef6\u3002CMake\u8fd8\u4f1a\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\u6a21\u5757\u5305\u542b\u6587\u4ef6\uff0c\u4ee5\u52a0\u8f7d\u6240\u6709\u516c\u5171\u5934\u6587\u4ef6\u3002</p> <p>\u7531\u4e8e\u4f60\u5f53\u7136\u662f\u5728\u5982\u5b97\u6559\u4e00\u822c\u5730\u9075\u5faa\u672c\u6559\u7a0b\uff0c\u4f60\u5df2\u7ecf\u4ece\u9876\u7ea7\u76ee\u5f55\u8fd0\u884c\u4e86\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ ./ns3 configure -d debug --enable-examples --enable-tests\n</code></pre> <p>\u4ee5\u914d\u7f6e\u9879\u76ee\u4ee5\u6267\u884c\u5305\u542b\u793a\u4f8b\u548c\u6d4b\u8bd5\u7684\u8c03\u8bd5\u6784\u5efa\u3002\u4f60\u8fd8\u5c06\u8c03\u7528</p> <pre><code>$ ./ns3 build\n</code></pre> <p>\u6765\u6784\u5efa\u9879\u76ee\u3002\u73b0\u5728\uff0c\u5982\u679c\u4f60\u67e5\u770b\u76ee\u5f55<code>../../build/include/ns3</code>\uff0c\u4f60\u5c06\u627e\u5230\u4e0a\u8ff0\u56db\u4e2a\u6a21\u5757\u5305\u542b\u6587\u4ef6\uff08\u8fd8\u6709\u8bb8\u591a\u5176\u4ed6\u5934\u6587\u4ef6\uff09\u3002\u4f60\u53ef\u4ee5\u67e5\u770b\u8fd9\u4e9b\u6587\u4ef6\u7684\u5185\u5bb9\uff0c\u5e76\u53d1\u73b0\u5b83\u4eec\u786e\u5b9e\u5305\u542b\u4e86\u5404\u81ea\u6a21\u5757\u4e2d\u7684\u6240\u6709\u516c\u5171\u5305\u542b\u6587\u4ef6\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#3ns3-namespace","title":"\uff083\uff09Ns3 Namespace","text":"<p>\u5728<code>first.cc</code>\u811a\u672c\u4e2d\u7684\u4e0b\u4e00\u884c\u662f\u4e00\u4e2a\u547d\u540d\u7a7a\u95f4\u58f0\u660e\uff1a</p> <pre><code>using namespace ns3;\n</code></pre> <p>ns-3\u9879\u76ee\u662f\u5728\u4e00\u4e2a\u540d\u4e3a<code>ns3</code>\u7684C++\u547d\u540d\u7a7a\u95f4\u4e2d\u5b9e\u73b0\u7684\u3002\u8fd9\u5c06\u6240\u6709\u4e0ens-3\u76f8\u5173\u7684\u58f0\u660e\u7ec4\u5408\u5230\u5168\u5c40\u547d\u540d\u7a7a\u95f4\u4e4b\u5916\u7684\u4e00\u4e2a\u4f5c\u7528\u57df\u4e2d\uff0c\u6211\u4eec\u5e0c\u671b\u8fd9\u6709\u52a9\u4e8e\u4e0e\u5176\u4ed6\u4ee3\u7801\u7684\u96c6\u6210\u3002C++\u7684<code>using</code>\u8bed\u53e5\u5c06ns-3\u547d\u540d\u7a7a\u95f4\u5f15\u5165\u5f53\u524d\uff08\u5168\u5c40\uff09\u58f0\u660e\u533a\u57df\u3002\u8fd9\u662f\u4e00\u79cd\u7b80\u6d01\u7684\u8bf4\u6cd5\uff0c\u5373\u5728\u6b64\u58f0\u660e\u4e4b\u540e\uff0c\u4f60\u5c06\u65e0\u9700\u5728\u4f7f\u7528ns-3\u4ee3\u7801\u4e4b\u524d\u952e\u5165<code>ns3::</code>\u8303\u56f4\u89e3\u6790\u8fd0\u7b97\u7b26\u3002\u5982\u679c\u4f60\u5bf9\u547d\u540d\u7a7a\u95f4\u4e0d\u719f\u6089\uff0c\u8bf7\u53c2\u8003\u51e0\u4e4e\u4efb\u4f55C++\u6559\u7a0b\uff0c\u5e76\u5c06\u8fd9\u91cc\u7684<code>ns3</code>\u547d\u540d\u7a7a\u95f4\u548c\u4f7f\u7528\u4e0e\u8ba8\u8bba<code>cout</code>\u548c\u6d41\u65f6\u7ecf\u5e38\u9047\u5230\u7684<code>std</code>\u547d\u540d\u7a7a\u95f4\u4ee5\u53ca<code>using namespace std;</code>\u8bed\u53e5\u8fdb\u884c\u6bd4\u8f83\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#4logging","title":"\uff084\uff09Logging","text":"<p>\u811a\u672c\u7684\u4e0b\u4e00\u884c\u662f\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>NS_LOG_COMPONENT_DEFINE(\"FirstScriptExample\");\n</code></pre> <p>\u6211\u4eec\u5c06\u4f7f\u7528\u8fd9\u4e2a\u8bed\u53e5\u4f5c\u4e3a\u4e00\u4e2a\u4fbf\u5229\u7684\u5730\u65b9\u6765\u8ba8\u8bba\u6211\u4eec\u7684Doxygen\u6587\u6863\u7cfb\u7edf\u3002\u5982\u679c\u4f60\u67e5\u770b\u9879\u76ee\u7f51\u7ad9\uff0cns-3\u9879\u76ee\uff0c\u4f60\u4f1a\u5728\u5bfc\u822a\u680f\u4e2d\u627e\u5230\u4e00\u4e2a\u540d\u4e3a\u201cDocumentation\u201d\u7684\u94fe\u63a5\u3002\u5982\u679c\u9009\u62e9\u6b64\u94fe\u63a5\uff0c\u5c06\u4f1a\u8df3\u8f6c\u5230\u6211\u4eec\u7684\u6587\u6863\u9875\u9762\u3002\u6709\u4e00\u4e2a\u6307\u5411\u201cLatest Release\u201d\u7684\u94fe\u63a5\uff0c\u8be5\u94fe\u63a5\u5c06\u5e26\u4f60\u5230ns-3\u6700\u65b0\u7a33\u5b9a\u7248\u672c\u7684\u6587\u6863\u3002\u5982\u679c\u9009\u62e9\u201cAPI Documentation\u201d\u94fe\u63a5\uff0c\u5c06\u8df3\u8f6c\u5230ns-3 API\u6587\u6863\u9875\u9762\u3002</p> <p>\u5728\u5de6\u4fa7\uff0c\u4f60\u4f1a\u627e\u5230\u6587\u6863\u7ed3\u6784\u7684\u56fe\u5f62\u8868\u793a\u3002\u4e00\u4e2a\u597d\u7684\u5f00\u59cb\u5730\u65b9\u662fns-3\u5bfc\u822a\u6811\u4e2d\u7684NS-3\u6a21\u5757\u201cbook\u201d\u3002\u5982\u679c\u5c55\u5f00\u201cModules\u201d\uff0c\u4f60\u5c06\u770b\u5230ns-3\u6a21\u5757\u6587\u6863\u7684\u5217\u8868\u3002\u8fd9\u91cc\u7684\u6a21\u5757\u6982\u5ff5\u76f4\u63a5\u4e0e\u4e0a\u9762\u8ba8\u8bba\u7684\u6a21\u5757\u5305\u542b\u6587\u4ef6\u76f8\u5173\u3002ns-3\u65e5\u5fd7\u5b50\u7cfb\u7edf\u5728\u201cUsing the Logging Module\u201d\u90e8\u5206\u8ba8\u8bba\uff0c\u6240\u4ee5\u6211\u4eec\u7a0d\u540e\u5728\u672c\u6559\u7a0b\u4e2d\u4f1a\u6d89\u53ca\u5230\u5b83\uff0c\u4f46\u4f60\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u201cCore module\u201d\uff0c\u7136\u540e\u5c55\u5f00\u201cDebugging tools book\u201d\uff0c\u518d\u9009\u62e9\u201cLogging page\u201d\u6765\u4e86\u89e3\u4e0a\u8ff0\u8bed\u53e5\u3002\u70b9\u51fbLogging\u3002</p> <p>\u4f60\u73b0\u5728\u5e94\u8be5\u770b\u5230Logging\u6a21\u5757\u7684Doxygen\u6587\u6863\u3002\u5728\u9875\u9762\u9876\u90e8\u7684\u5b8f\u5217\u8868\u4e2d\uff0c\u4f60\u5c06\u770b\u5230NS_LOG_COMPONENT_DEFINE\u7684\u6761\u76ee\u3002\u5728\u6df1\u5165\u7814\u7a76\u4e4b\u524d\uff0c\u6700\u597d\u627e\u4e00\u4e0b\u65e5\u5fd7\u6a21\u5757\u7684\u201cDetailed Description\u201d\u4ee5\u4e86\u89e3\u6574\u4f53\u64cd\u4f5c\u611f\u89c9\u3002\u4f60\u53ef\u4ee5\u5411\u4e0b\u6eda\u52a8\uff0c\u6216\u8005\u9009\u62e9\u534f\u4f5c\u56fe\u4e0b\u7684\u201cMore\u2026\u201d\u94fe\u63a5\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002</p> <p>\u4e00\u65e6\u4f60\u5bf9\u6b63\u5728\u53d1\u751f\u7684\u4e8b\u60c5\u6709\u4e00\u4e2a\u5927\u81f4\u7684\u4e86\u89e3\uff0c\u90a3\u4e48\u53ef\u4ee5\u7ee7\u7eed\u67e5\u770b\u5177\u4f53\u7684NS_LOG_COMPONENT_DEFINE\u6587\u6863\u3002\u6211\u4e0d\u4f1a\u5728\u8fd9\u91cc\u91cd\u590d\u6587\u6863\u5185\u5bb9\uff0c\u4f46\u603b\u7ed3\u4e00\u4e0b\uff0c\u8fd9\u884c\u4ee3\u7801\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3aFirstScriptExample\u7684\u65e5\u5fd7\u7ec4\u4ef6\uff0c\u5141\u8bb8\u4f60\u901a\u8fc7\u5f15\u7528\u8be5\u540d\u79f0\u542f\u7528\u548c\u7981\u7528\u63a7\u5236\u53f0\u6d88\u606f\u65e5\u5fd7\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#5main-function","title":"\uff085\uff09Main Function","text":"<p>\u811a\u672c\u7684\u4e0b\u9762\u51e0\u884c\u662f\uff1a</p> <pre><code>int main(int argc, char *argv[])\n{\n</code></pre> <p>\u8fd9\u53ea\u662f\u4f60\u7a0b\u5e8f\uff08\u811a\u672c\uff09\u4e3b\u51fd\u6570\u7684\u58f0\u660e\u3002\u4e0e\u4efb\u4f55C++\u7a0b\u5e8f\u4e00\u6837\uff0c\u4f60\u9700\u8981\u5b9a\u4e49\u4e00\u4e2amain\u51fd\u6570\uff0c\u5b83\u5c06\u662f\u9996\u4e2a\u8fd0\u884c\u7684\u51fd\u6570\u3002\u8fd9\u91cc\u6ca1\u6709\u4efb\u4f55\u7279\u6b8a\u4e4b\u5904\u3002\u4f60\u7684ns-3\u811a\u672c\u53ea\u662f\u4e00\u4e2aC++\u7a0b\u5e8f\u3002</p> <p>\u4e0b\u4e00\u884c\u5c06\u65f6\u95f4\u5206\u8fa8\u7387\u8bbe\u7f6e\u4e3a\u4e00\u7eb3\u79d2\uff0c\u8fd9\u6070\u597d\u662f\u9ed8\u8ba4\u503c\uff1a</p> <pre><code>Time::SetResolution(Time::NS);\n</code></pre> <p>\u5206\u8fa8\u7387\u662f\u53ef\u4ee5\u8868\u793a\u7684\u6700\u5c0f\u65f6\u95f4\u503c\uff08\u4ee5\u53ca\u4e24\u4e2a\u65f6\u95f4\u503c\u4e4b\u95f4\u7684\u6700\u5c0f\u53ef\u8868\u793a\u5dee\u5f02\uff09\u3002\u4f60\u53ea\u80fd\u66f4\u6539\u5206\u8fa8\u7387\u4e00\u6b21\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u7684\u673a\u5236\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u5bf9\u5185\u5b58\u6d88\u8017\u8f83\u5927\uff0c\u56e0\u6b64\u4e00\u65e6\u5206\u8fa8\u7387\u5df2\u7ecf\u88ab\u663e\u5f0f\u8bbe\u7f6e\uff0c\u6211\u4eec\u91ca\u653e\u5185\u5b58\uff0c\u9632\u6b62\u8fdb\u4e00\u6b65\u66f4\u65b0\u3002\uff08\u5982\u679c\u4f60\u4e0d\u663e\u5f0f\u8bbe\u7f6e\u5206\u8fa8\u7387\uff0c\u5b83\u5c06\u9ed8\u8ba4\u4e3a\u4e00\u7eb3\u79d2\uff0c\u5e76\u4e14\u5185\u5b58\u5c06\u5728\u6a21\u62df\u5f00\u59cb\u65f6\u88ab\u91ca\u653e\u3002\uff09</p> <p>\u811a\u672c\u7684\u4e0b\u4e24\u884c\u7528\u4e8e\u542f\u7528\u5185\u7f6e\u4e8eEcho Client\u548cEcho Server\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u4e24\u4e2a\u65e5\u5fd7\u7ec4\u4ef6\uff1a</p> <pre><code>LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\nLogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n</code></pre> <p>\u5982\u679c\u4f60\u9605\u8bfb\u4e86Logging\u7ec4\u4ef6\u6587\u6863\uff0c\u4f60\u5c06\u4e86\u89e3\u5230\u6bcf\u4e2a\u7ec4\u4ef6\u4e0a\u53ef\u4ee5\u542f\u7528\u591a\u4e2a\u65e5\u5fd7\u8be6\u7ec6\u7a0b\u5ea6/\u5197\u4f59\u5ea6\u7ea7\u522b\u3002\u8fd9\u4e24\u884c\u4ee3\u7801\u542f\u7528\u4e86INFO\u7ea7\u522b\u7684\u8c03\u8bd5\u65e5\u5fd7\uff0c\u7528\u4e8eecho\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u3002\u8fd9\u5c06\u5bfc\u81f4\u5e94\u7528\u7a0b\u5e8f\u5728\u6a21\u62df\u8fc7\u7a0b\u4e2d\u6253\u5370\u51fa\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e\u5305\u7684\u6d88\u606f\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5c06\u76f4\u63a5\u7740\u624b\u521b\u5efa\u62d3\u6251\u5e76\u8fd0\u884c\u6a21\u62df\u3002\u6211\u4eec\u4f7f\u7528\u62d3\u6251\u5e2e\u52a9\u5bf9\u8c61\u4f7f\u8fd9\u9879\u5de5\u4f5c\u5c3d\u53ef\u80fd\u7b80\u5355\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#6topology-helpers","title":"\uff086\uff09Topology Helpers","text":""},{"location":"Sci_doc/ns-3/ch1/#1-nodecontainer","title":"1. NodeContainer","text":"<p>\u4ee3\u7801\u811a\u672c\u4e2d\u7684\u4e0b\u4e24\u884c\u5b9e\u9645\u4e0a\u5c06\u521b\u5efa\u5728\u6a21\u62df\u4e2d\u8868\u793a\u8ba1\u7b97\u673a\u7684ns-3 Node\u5bf9\u8c61\u3002</p> <pre><code>NodeContainer nodes; // \u58f0\u660e\u4e00\u4e2aNodeContainer\u7c7b\u7684\u5bf9\u8c61\nnodes.Create(2);     // \u8c03\u7528\u8be5\u5bf9\u8c61\u7684create\u65b9\u6cd5 =&gt; \u4ea7\u751f2\u4e2a\u8282\u70b9\n</code></pre> <p>\u5728\u7ee7\u7eed\u4e4b\u524d\uff0c\u8ba9\u6211\u4eec\u627e\u5230NodeContainer\u7c7b\u7684\u6587\u6863\u3002\u53e6\u4e00\u79cd\u67e5\u770b\u7ed9\u5b9a\u7c7b\u6587\u6863\u7684\u65b9\u6cd5\u662f\u901a\u8fc7Doxygen\u9875\u9762\u4e2d\u7684Classes\u9009\u9879\u5361\u3002\u5982\u679c\u4f60\u4ecd\u7136\u53ef\u4ee5\u8bbf\u95eeDoxygen\uff0c\u8bf7\u5411\u9875\u9762\u9876\u90e8\u6eda\u52a8\u5e76\u9009\u62e9Classes\u9009\u9879\u5361\u3002\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u4e00\u7ec4\u65b0\u7684\u9009\u9879\u5361\u51fa\u73b0\uff0c\u5176\u4e2d\u4e00\u4e2a\u662fClass List\u3002\u5728\u8be5\u9009\u9879\u5361\u4e0b\uff0c\u4f60\u5c06\u770b\u5230\u6240\u6709ns-3\u7c7b\u7684\u5217\u8868\u3002\u5411\u4e0b\u6eda\u52a8\uff0c\u67e5\u627e<code>ns3::NodeContainer</code>\u3002\u5f53\u627e\u5230\u8be5\u7c7b\u65f6\uff0c\u8bf7\u9009\u62e9\u5b83\u4ee5\u67e5\u770b\u8be5\u7c7b\u7684\u6587\u6863\u3002</p> <p>\u4f60\u53ef\u80fd\u8fd8\u8bb0\u5f97\u6211\u4eec\u7684\u4e00\u4e2a\u5173\u952e\u62bd\u8c61\u662fNode\u3002\u8fd9\u4ee3\u8868\u6211\u4eec\u5c06\u8981\u5411\u5176\u6dfb\u52a0\u534f\u8bae\u6808\u3001\u5e94\u7528\u7a0b\u5e8f\u548c\u5916\u56f4\u8bbe\u5907\u5361\u7684\u8ba1\u7b97\u673a\u3002NodeContainer\u62d3\u6251\u52a9\u624b\u63d0\u4f9b\u4e86\u4e00\u79cd\u65b9\u4fbf\u7684\u65b9\u5f0f\u6765\u521b\u5efa\u3001\u7ba1\u7406\u548c\u8bbf\u95ee\u6211\u4eec\u4e3a\u8fd0\u884c\u6a21\u62df\u800c\u521b\u5efa\u7684\u4efb\u4f55Node\u5bf9\u8c61\u3002</p> <p>\u4e0a\u9762\u7684\u7b2c\u4e00\u884c\u53ea\u662f\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3a<code>nodes</code>\u7684NodeContainer\u3002\u7b2c\u4e8c\u884c\u5728<code>nodes</code>\u5bf9\u8c61\u4e0a\u8c03\u7528\u4e86<code>Create</code>\u65b9\u6cd5\uff0c\u5e76\u8981\u6c42\u5bb9\u5668\u521b\u5efa\u4e24\u4e2a\u8282\u70b9\u3002\u5982Doxygen\u4e2d\u6240\u8ff0\uff0c\u8be5\u5bb9\u5668\u5411ns-3\u7cfb\u7edf\u9002\u5f53\u5730\u8c03\u7528\u4ee5\u521b\u5efa\u4e24\u4e2aNode\u5bf9\u8c61\uff0c\u5e76\u5728\u5185\u90e8\u5b58\u50a8\u5bf9\u8fd9\u4e9b\u5bf9\u8c61\u7684\u6307\u9488\u3002</p> <p>\u5728\u811a\u672c\u4e2d\uff0c==\u8fd9\u4e9b\u8282\u70b9\u76ee\u524d\u5e76\u6ca1\u6709\u505a\u4efb\u4f55\u4e8b\u60c5==\u3002\u6784\u5efa\u62d3\u6251\u7684==\u4e0b\u4e00\u6b65\u662f\u5c06\u6211\u4eec\u7684\u8282\u70b9\u8fde\u63a5\u5230\u4e00\u4e2a\u7f51\u7edc\u4e2d==\u3002\u6211\u4eec\u652f\u6301\u7684\u6700\u7b80\u5355\u5f62\u5f0f\u7684\u7f51\u7edc\u662f\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u5355\u70b9\u5bf9\u70b9\u94fe\u63a5\u3002\u6211\u4eec\u5c06\u5728\u8fd9\u91cc\u6784\u5efa\u5176\u4e2d\u4e00\u4e2a\u94fe\u63a5\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#2-pointtopointhelper","title":"2. PointToPointHelper","text":"<p>\u6211\u4eec\u6b63\u5728\u6784\u5efa\u4e00\u6761\u70b9\u5bf9\u70b9\u94fe\u63a5\uff0c\u800c\u6309\u7167\u4f60\u5c06\u4f1a\u53d8\u5f97\u975e\u5e38\u719f\u6089\u7684\u6a21\u5f0f\uff0c\u6211\u4eec\u4f7f\u7528\u62d3\u6251\u52a9\u624b\u5bf9\u8c61\u6765\u6267\u884c\u7ec4\u88c5\u94fe\u63a5\u6240\u9700\u7684\u4f4e\u7ea7\u5de5\u4f5c\u3002\u56de\u987e\u4e00\u4e0b\uff0c\u6211\u4eec\u7684\u4e24\u4e2a\u5173\u952e\u62bd\u8c61\u662fNetDevice\u548cChannel\u3002\u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\uff0c\u8fd9\u4e9b\u672f\u8bed\u5927\u81f4\u5bf9\u5e94\u4e8e\u5916\u56f4\u8bbe\u5907\u5361\u548c\u7f51\u7edc\u7535\u7f06\u3002\u901a\u5e38\u8fd9\u4e24\u8005\u662f\u5bc6\u5207\u76f8\u5173\u7684\uff0c\u4e0d\u80fd\u671f\u671b\u4f8b\u5982\u4ee5\u592a\u7f51\u8bbe\u5907\u548c\u65e0\u7ebf\u4fe1\u9053\u4e4b\u95f4\u53ef\u4ee5\u4e92\u6362\u3002</p> <p>\u6211\u4eec\u7684\u62d3\u6251\u52a9\u624b\u9075\u5faa\u8fd9\u79cd\u5bc6\u5207\u7684\u8026\u5408\uff0c\u56e0\u6b64\u5728\u8fd9\u4e2a\u811a\u672c\u4e2d\uff0c\u4f60\u5c06\u4f7f\u7528\u4e00\u4e2aPointToPointHelper\u6765\u914d\u7f6e\u548c\u8fde\u63a5ns-3\u7684PointToPointNetDevice\u548cPointToPointChannel\u5bf9\u8c61\u3002</p> <p>\u811a\u672c\u4e2d\u7684\u4e0b\u9762\u4e09\u884c\u662f\uff1a</p> <pre><code>PointToPointHelper pointToPoint;\npointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\npointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n</code></pre> <p>\u7b2c\u4e00\u884c\uff0c</p> <pre><code>PointToPointHelper pointToPoint;\n</code></pre> <p>\u5728\u5806\u6808\u4e0a\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2aPointToPointHelper\u5bf9\u8c61\u3002\u4ece\u9ad8\u5c42\u6b21\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4e0b\u4e00\u884c\uff0c</p> <pre><code>pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\n</code></pre> <p>\u544a\u8bc9PointToPointHelper\u5bf9\u8c61\uff0c\u5728\u521b\u5efaPointToPointNetDevice\u5bf9\u8c61\u65f6\uff0c\u4f7f\u7528\u503c\u201c5Mbps\u201d\uff08\u6bcf\u79d2\u4e94\u5146\u4f4d\uff09\u4f5c\u4e3a\u201cDataRate\u201d\u3002</p> <p>\u4ece\u66f4\u8be6\u7ec6\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5b57\u7b26\u4e32\u201cDataRate\u201d\u5bf9\u5e94\u4e8e\u6211\u4eec\u79f0\u4e3aPointToPointNetDevice\u7684\u5c5e\u6027\u3002\u5982\u679c\u67e5\u770b\u7c7bns3::PointToPointNetDevice\u7684Doxygen\u5e76\u627e\u5230GetTypeId\u65b9\u6cd5\u7684\u6587\u6863\uff0c\u4f60\u5c06\u627e\u5230\u4e3a\u8be5\u8bbe\u5907\u5b9a\u4e49\u7684\u5c5e\u6027\u5217\u8868\u3002\u5176\u4e2d\u4e4b\u4e00\u662f\u201cDataRate\u201d\u5c5e\u6027\u3002\u5927\u591a\u6570\u7528\u6237\u53ef\u89c1\u7684ns-3\u5bf9\u8c61\u90fd\u6709\u7c7b\u4f3c\u7684\u5c5e\u6027\u5217\u8868\u3002\u6b63\u5982\u4f60\u5c06\u5728\u63a5\u4e0b\u6765\u7684\u90e8\u5206\u4e2d\u770b\u5230\u7684\u90a3\u6837\uff0c\u6211\u4eec\u4f7f\u7528\u8fd9\u79cd\u673a\u5236\u53ef\u4ee5\u8f7b\u677e\u5730\u914d\u7f6e\u6a21\u62df\u800c\u65e0\u9700\u91cd\u65b0\u7f16\u8bd1\u3002</p> <p>\u4e0ePointToPointNetDevice\u4e0a\u7684\u201cDataRate\u201d\u7c7b\u4f3c\uff0c\u4f60\u5c06\u5728PointToPointChannel\u4e0a\u627e\u5230\u4e0e\u4e4b\u5173\u8054\u7684\u201cDelay\u201d\u5c5e\u6027\u3002\u6700\u540e\u4e00\u884c\uff0c</p> <pre><code>pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n</code></pre> <p>\u544a\u8bc9PointToPointHelper\u5728\u968f\u540e\u521b\u5efa\u7684\u6bcf\u4e2a\u70b9\u5bf9\u70b9\u4fe1\u9053\u4e2d\u4f7f\u7528\u503c\u201c2ms\u201d\uff08\u4e24\u6beb\u79d2\uff09\u4f5c\u4e3a\u4f20\u64ad\u5ef6\u8fdf\u7684\u503c\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#3-netdevicecontainer","title":"3. NetDeviceContainer","text":"<p>\u622a\u81f3\u76ee\u524d\uff1a 1. \u5728\u811a\u672c\u7684\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u6709\u4e00\u4e2a\u5305\u542b\u4e24\u4e2a\u8282\u70b9\u7684NodeContainer\u2705\u3002 2. \u6211\u4eec\u6709\u4e00\u4e2aPointToPointHelper\uff0c\u5b83\u5df2\u7ecf\u51c6\u5907\u597d\u521b\u5efaPointToPointNetDevices\u5e76\u5728\u5b83\u4eec\u4e4b\u95f4\u8fde\u63a5PointToPointChannel\u5bf9\u8c61\u2705\u3002</p> <p>\u5c31\u50cf\u6211\u4eec\u4f7f\u7528NodeContainer\u62d3\u6251\u52a9\u624b\u5bf9\u8c61\u4e3a\u6a21\u62df\u521b\u5efa\u8282\u70b9\u4e00\u6837\uff0c\u6211\u4eec\u5c06==\u8981\u6c42PointToPointHelper\u6267\u884c\u6d89\u53ca\u521b\u5efa\u3001\u914d\u7f6e\u548c\u5b89\u88c5\u8bbe\u5907\u7684\u5de5\u4f5c==\u3002\u6211\u4eec\u9700\u8981\u6709\u4e00\u4e2a\u5305\u542b\u6240\u6709\u521b\u5efa\u7684NetDevice\u5bf9\u8c61\u7684\u5217\u8868\uff0c\u56e0\u6b64\u6211\u4eec\u4f7f\u7528NetDeviceContainer\u6765\u4fdd\u5b58\u5b83\u4eec\uff0c\u5c31\u50cf\u6211\u4eec\u4f7f\u7528NodeContainer\u6765\u4fdd\u5b58\u6211\u4eec\u521b\u5efa\u7684\u8282\u70b9\u4e00\u6837\u3002\u4e0b\u9762\u7684\u4e24\u884c\u4ee3\u7801\uff0c</p> <pre><code>NetDeviceContainer devices;\ndevices = pointToPoint.Install(nodes);\n</code></pre> <p>\u5c06\u5b8c\u6210\u8bbe\u5907\u548c\u4fe1\u9053\u7684\u914d\u7f6e\u3002 \u7b2c\u4e00\u884c\u58f0\u660e\u4e86\u4e0a\u9762\u63d0\u5230\u7684\u8bbe\u5907\u5bb9\u5668\uff0c\u800c\u7b2c\u4e8c\u884c\u5219\u5b8c\u6210\u4e86\u7e41\u91cd\u7684\u5de5\u4f5c\u3002 PointToPointHelper\u7684Install\u65b9\u6cd5\u4ee5NodeContainer\u4f5c\u4e3a\u53c2\u6570\u3002\u5728\u5185\u90e8\uff0c\u5c06\u521b\u5efa\u4e00\u4e2aNetDeviceContainer\u3002\u5bf9\u4e8eNodeContainer\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\uff08\u5bf9\u4e8e\u70b9\u5bf9\u70b9\u94fe\u63a5\uff0c\u5fc5\u987b\u6070\u597d\u6709\u4e24\u4e2a\u8282\u70b9\uff09\uff0c\u5c06\u521b\u5efa\u4e00\u4e2aPointToPointNetDevice\u5e76\u5c06\u5176\u4fdd\u5b58\u5728\u8bbe\u5907\u5bb9\u5668\u4e2d\u3002\u5c06\u521b\u5efa\u4e00\u4e2aPointToPointChannel\uff0c\u5e76\u8fde\u63a5\u4e24\u4e2aPointToPointNetDevice\u3002\u5f53\u7531PointToPointHelper\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u5e2e\u52a9\u5668\u4e2d\u5148\u524d\u8bbe\u7f6e\u7684\u5c5e\u6027\u5c06\u7528\u4e8e\u521d\u59cb\u5316\u6240\u521b\u5efa\u5bf9\u8c61\u4e2d\u7684\u76f8\u5e94\u5c5e\u6027\u3002</p> <p>\u6267\u884cpointToPoint.Install(nodes)\u8c03\u7528\u540e\uff0c\u6211\u4eec\u5c06\u6709\u4e24\u4e2a\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u5b89\u88c5\u6709\u4e00\u4e2a\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u70b9\u5bf9\u70b9\u4fe1\u9053\u3002\u8fd9\u4e24\u4e2a\u8bbe\u5907\u90fd\u5c06\u914d\u7f6e\u4e3a\u5728\u901a\u9053\u4e0a\u4ee5\u6bcf\u79d2\u4e94\u5146\u4f4d\u7684\u901f\u5ea6\u4f20\u8f93\u6570\u636e\uff0c\u8be5\u901a\u9053\u5177\u6709\u4e24\u6beb\u79d2\u7684\u4f20\u8f93\u5ef6\u8fdf\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#4-internetstackhelper","title":"4. InternetStackHelper","text":"<p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u914d\u7f6e\u4e86\u8282\u70b9\u548c\u8bbe\u5907\uff0c\u4f46\u662f\u6211\u4eec\u7684\u8282\u70b9\u4e0a\u8fd8\u6ca1\u6709\u5b89\u88c5\u4efb\u4f55\u534f\u8bae\u6808\u3002\u63a5\u4e0b\u6765\u7684\u4e24\u884c\u4ee3\u7801\u5c06\u5904\u7406\u8fd9\u4e2a\u95ee\u9898\u3002</p> <pre><code>InternetStackHelper stack;\nstack.Install(nodes);\n</code></pre> <p>InternetStackHelper\u662f\u4e00\u4e2a\u62d3\u6251\u52a9\u624b\uff0c\u5bf9\u4e8eInternet\u534f\u8bae\u6808\u800c\u8a00\uff0c\u5b83\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8ePointToPointHelper\u5bf9\u4e8e\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\u3002Install\u65b9\u6cd5\u4ee5NodeContainer\u4f5c\u4e3a\u53c2\u6570\u3002\u5f53\u6267\u884c\u65f6\uff0c\u5b83==\u5c06\u5728\u8282\u70b9\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a==\u5b89\u88c5\u4e00\u4e2aInternet\u534f\u8bae\u6808\uff08TCP\u3001UDP\u3001IP\u7b49\uff09\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#5-ipv4addresshelper","title":"5. Ipv4AddressHelper","text":"<p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u9700\u8981\u5c06\u8282\u70b9\u4e0a\u7684\u8bbe\u5907\u4e0eIP\u5730\u5740\u5173\u8054\u8d77\u6765\u3002\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u62d3\u6251\u52a9\u624b\u6765\u7ba1\u7406IP\u5730\u5740\u7684\u5206\u914d\u3002\u7528\u6237\u53ef\u89c1\u7684\u552f\u4e00API\u662f\u5728\u6267\u884c\u5b9e\u9645\u5730\u5740\u5206\u914d\u65f6\u8bbe\u7f6e\u8981\u4f7f\u7528\u7684\u57fa\u672cIP\u5730\u5740\u548c\u7f51\u7edc\u63a9\u7801\uff08\u8fd9\u662f\u5728\u52a9\u624b\u5185\u90e8\u7684\u8f83\u4f4e\u7ea7\u522b\u4e0a\u5b8c\u6210\u7684\uff09\u3002</p> <p>\u5728\u6211\u4eec\u7684\u793a\u4f8b\u811a\u672cfirst.cc\u4e2d\u7684\u4e0b\u9762\u4e24\u884c\u4ee3\u7801\uff0c</p> <pre><code>Ipv4AddressHelper address;\naddress.SetBase(\"10.1.1.0\", \"255.255.255.0\");\n</code></pre> <p>\u58f0\u660e\u4e00\u4e2a\u5730\u5740\u52a9\u624b\u5bf9\u8c61\uff0c\u5e76\u544a\u8bc9\u5b83\u5e94\u8be5\u4ece\u7f51\u7edc10.1.1.0\u5f00\u59cb\u4f7f\u7528\u63a9\u7801255.255.255.0\u6765\u5b9a\u4e49\u53ef\u5206\u914d\u7684\u4f4d\u3002</p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5206\u914d\u7684\u5730\u5740\u5c06\u4ece1\u5f00\u59cb\u5355\u8c03\u589e\u52a0\uff0c\u56e0\u6b64\u4ece\u6b64\u57fa\u7840\u5206\u914d\u7684\u7b2c\u4e00\u4e2a\u5730\u5740\u5c06\u662f10.1.1.1\uff0c\u7136\u540e\u662f10.1.1.2\u7b49\u3002ns-3\u7684\u5e95\u5c42\u7cfb\u7edf\u5b9e\u9645\u4e0a\u4f1a\u8bb0\u4f4f\u6240\u6709\u5206\u914d\u7684IP\u5730\u5740\uff0c\u5e76\u4e14\u5982\u679c\u4f60\u4e0d\u5c0f\u5fc3\u5bfc\u81f4\u751f\u6210\u76f8\u540c\u7684\u5730\u5740\u4e24\u6b21\uff0c\u5b83\u5c06\u751f\u6210\u81f4\u547d\u9519\u8bef\uff08\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u96be\u4ee5\u8c03\u8bd5\u7684\u9519\u8bef\uff0c\u987a\u4fbf\u8bf4\u4e00\u4e0b\uff09\u3002</p> <p>\u4e0b\u4e00\u884c\u4ee3\u7801\uff0c</p> <pre><code>Ipv4InterfaceContainer interfaces = address.Assign(devices);\n</code></pre> <p>\u6267\u884c\u5b9e\u9645\u7684\u5730\u5740\u5206\u914d\u3002\u5728ns-3\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528Ipv4Interface\u5bf9\u8c61\u5c06IP\u5730\u5740\u4e0e\u8bbe\u5907\u5173\u8054\u8d77\u6765\u3002\u5c31\u50cf\u6211\u4eec\u6709\u65f6\u9700\u8981\u4e00\u4e2a\u7531\u52a9\u624b\u521b\u5efa\u7684\u672a\u6765\u53c2\u8003\u7684\u7f51\u5361\u8bbe\u5907\u5217\u8868\u4e00\u6837\uff0c\u6709\u65f6\u6211\u4eec\u9700\u8981\u4e00\u4e2aIpv4Interface\u5bf9\u8c61\u5217\u8868\u3002Ipv4InterfaceContainer\u63d0\u4f9b\u4e86\u8fd9\u4e2a\u529f\u80fd\u3002</p> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5efa\u7acb\u4e86\u4e00\u4e2a\u70b9\u5bf9\u70b9\u7f51\u7edc\uff0c\u5b89\u88c5\u4e86\u534f\u8bae\u6808\u5e76\u5206\u914d\u4e86IP\u5730\u5740\u3002\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u9700\u8981\u7684\u662f\u4ea7\u751f\u6d41\u91cf\u7684\u5e94\u7528\u7a0b\u5e8f\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#7application","title":"\uff087\uff09Application","text":"<p>ns-3\u7cfb\u7edf\u7684\u53e6\u4e00\u4e2a\u6838\u5fc3\u62bd\u8c61\u662fApplication\u3002\u5728\u8fd9\u4e2a\u811a\u672c\u4e2d\uff0c\u6211\u4eec\u4f7f\u7528\u4e86ns-3\u6838\u5fc3\u7c7bApplication\u7684\u4e24\u4e2a\u4e13\u4e1a\u5316\u7c7b\uff0c\u5206\u522b\u662fUdpEcho==Server==Application\u548cUdpEcho==Client==Application\u3002\u5c31\u50cf\u6211\u4eec\u5728\u4e4b\u524d\u7684\u89e3\u91ca\u4e2d\u6240\u505a\u7684\u90a3\u6837\uff0c\u6211\u4eec\u4f7f\u7528\u8f85\u52a9\u5bf9\u8c61\u6765\u5e2e\u52a9\u914d\u7f6e\u548c\u7ba1\u7406\u5e95\u5c42\u5bf9\u8c61\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u4f7f\u7528UdpEchoServerHelper\u548cUdpEchoClientHelper\u5bf9\u8c61\u6765\u4f7f\u6211\u4eec\u7684\u751f\u6d3b\u66f4\u52a0\u8f7b\u677e\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#1-udpechoserverhelper","title":"1. UdpEchoServerHelper","text":"<p>\u5728\u6211\u4eec\u7684\u793a\u4f8b\u811a\u672cfirst.cc\u4e2d\uff0c\u4ee5\u4e0b\u4ee3\u7801\u7528\u4e8e\u5728\u6211\u4eec\u4e4b\u524d\u521b\u5efa\u7684\u8282\u70b9\u4e4b\u4e00\u4e0a\u8bbe\u7f6eUDP\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u3002</p> <pre><code>UdpEchoServerHelper echoServer(9);\n\nApplicationContainer serverApps = echoServer.Install(nodes.Get(1));\nserverApps.Start(Seconds(1.0));\nserverApps.Stop(Seconds(10.0));\n</code></pre> <p>\u4e0a\u9762\u4ee3\u7801\u7247\u6bb5\u4e2d\u7684\u7b2c\u4e00\u884c\u58f0\u660e\u4e86UdpEchoServerHelper\u3002\u548c\u5f80\u5e38\u4e00\u6837\uff0c\u8fd9\u4e0d\u662f\u5e94\u7528\u7a0b\u5e8f\u672c\u8eab\uff0c\u800c\u662f\u4e00\u4e2a\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u5b9e\u9645\u5e94\u7528\u7a0b\u5e8f\u7684\u5bf9\u8c61\u3002\u6211\u4eec\u7684\u4e00\u4e2a\u60ef\u4f8b\u662f\u5c06\u6240\u9700\u7684\u5c5e\u6027\u653e\u5728\u52a9\u624b\u6784\u9020\u51fd\u6570\u4e2d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c==\u9664\u975e\u63d0\u4f9b\u4e86\u5ba2\u6237\u7aef\u4e5f\u77e5\u9053\u7684\u7aef\u53e3\u53f7\uff0c\u5426\u5219\u52a9\u624b\u65e0\u6cd5\u6267\u884c\u4efb\u4f55\u6709\u7528\u7684\u64cd\u4f5c==\u3002\u6211\u4eec\u8981\u6c42==\u5728\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4e2d\u63d0\u4f9b\u7aef\u53e3\u53f7\uff0c\u800c\u6784\u9020\u51fd\u6570\u5219\u7b80\u5355\u5730\u4f7f\u7528\u4f20\u9012\u7684\u503c\u8fdb\u884cSetAttribute==\u3002\u5982\u679c\u613f\u610f\uff0c\u53ef\u4ee5\u7a0d\u540e\u4f7f\u7528SetAttribute\u5c06\u201cPort\u201d\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u53e6\u4e00\u4e2a\u503c\u3002</p> <p>\u4e0e\u8bb8\u591a\u5176\u4ed6\u5e2e\u52a9\u5bf9\u8c61\u7c7b\u4f3c\uff0cUdpEchoServerHelper\u5bf9\u8c61\u5177\u6709Install\u65b9\u6cd5\u3002\u5b9e\u9645\u4e0a\uff0c\u6b63\u662f\u8fd9\u4e2a\u65b9\u6cd5\u7684\u6267\u884c\u5bfc\u81f4\u5e95\u5c42\u7684\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u88ab\u5b9e\u4f8b\u5316\u5e76\u9644\u52a0\u5230\u4e00\u4e2a\u8282\u70b9\u3002\u6709\u8da3\u7684\u662f\uff0cInstall\u65b9\u6cd5\u63a5\u53d7\u4e00\u4e2aNodeContainer\u4f5c\u4e3a\u53c2\u6570\uff0c\u5c31\u50cf\u6211\u4eec\u770b\u5230\u7684\u5176\u4ed6Install\u65b9\u6cd5\u4e00\u6837\u3002\u5c3d\u7ba1\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u770b\u8d77\u6765\u4e0d\u662f\u8fd9\u6837\uff0c\u4f46\u5b9e\u9645\u4e0a\u662f\u5c06nodes.Get(1)\u7684\u7ed3\u679c\uff08\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8282\u70b9\u5bf9\u8c61\u7684\u667a\u80fd\u6307\u9488-Ptr\\\uff09\u8fdb\u884c\u4e86C++\u7684\u9690\u5f0f\u8f6c\u6362\uff0c\u7136\u540e\u4f7f\u7528\u8be5\u7ed3\u679c\u5728\u4f20\u9012\u7ed9Install\u7684\u65e0\u540dNodeContainer\u7684\u6784\u9020\u51fd\u6570\u4e2d\u3002\u5982\u679c\u4f60\u5728C++\u4ee3\u7801\u4e2d\u627e\u4e0d\u5230\u7279\u5b9a\u65b9\u6cd5\u7b7e\u540d\u800c\u5b83\u5374\u80fd\u591f\u7f16\u8bd1\u548c\u8fd0\u884c\u6b63\u5e38\uff0c\u53ef\u4ee5\u5bfb\u627e\u8fd9\u79cd\u9690\u5f0f\u8f6c\u6362\u3002 <p>\u6211\u4eec\u73b0\u5728\u770b\u5230\uff0cechoServer.Install==\u5c06\u5728\u6211\u4eec\u7528\u4e8e\u7ba1\u7406\u8282\u70b9\u7684NodeContainer\u4e2d\u627e\u5230\u7684\u7d22\u5f15\u53f7\u4e3a1\u7684\u8282\u70b9\u4e0a==\u5b89\u88c5\u4e00\u4e2aUdpEchoServerApplication\u3002Install\u5c06\u8fd4\u56de\u4e00\u4e2a\u5bb9\u5668\uff0c\u5176\u4e2d\u5305\u542b\u7531\u52a9\u624b\u521b\u5efa\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u7684\u6307\u9488\uff08\u5728\u672c\u4f8b\u4e2d\u4e3a\u4e00\u4e2a\uff0c\u56e0\u4e3a\u6211\u4eec\u4f20\u9012\u4e86\u5305\u542b\u4e00\u4e2a\u8282\u70b9\u7684NodeContainer\uff09\u3002</p> <p>==\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4e00\u4e2a\u65f6\u95f4\u6765\u201c\u5f00\u59cb\u201d\u751f\u6210\u6d41\u91cf\uff0c\u5e76\u4e14\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u53ef\u9009\u7684\u65f6\u95f4\u6765\u201c\u505c\u6b62\u201d==\u3002\u6211\u4eec\u90fd\u63d0\u4f9b\u4e86\u3002\u8fd9\u4e9b\u65f6\u95f4\u662f\u4f7f\u7528ApplicationContainer\u7684Start\u548cStop\u65b9\u6cd5\u8bbe\u7f6e\u7684\u3002\u8fd9\u4e9b\u65b9\u6cd5\u91c7\u7528Time\u53c2\u6570\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u4f7f\u7528\u4e00\u4e2a==\u663e\u5f0f\u7684C++\u8f6c\u6362\u5e8f\u5217\uff0c\u5c06C++\u7684double 1.0\u8f6c\u6362\u4e3ans-3\u7684Time\u5bf9\u8c61\uff0c\u4f7f\u7528Seconds\u8f6c\u6362==\u3002\u8bf7\u6ce8\u610f\uff0c\u8f6c\u6362\u89c4\u5219\u53ef\u80fd\u7531\u6a21\u578b\u4f5c\u8005\u63a7\u5236\uff0c\u5e76\u4e14C++\u6709\u81ea\u5df1\u7684\u89c4\u5219\uff0c\u56e0\u6b64\u4f60\u4e0d\u80fd\u603b\u662f\u5047\u8bbe\u53c2\u6570\u4f1a\u6109\u5feb\u5730\u4e3a\u4f60\u8f6c\u6362\u3002\u8fd9\u4e24\u884c\u4ee3\u7801\uff0c</p> <pre><code>serverApps.Start(Seconds(1.0));\nserverApps.Stop(Seconds(10.0));\n</code></pre> <p>\u5c06\u5bfc\u81f4\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u5728\u6a21\u62df\u8fdb\u884c\u5230\u4e00\u79d2\u65f6\u542f\u52a8\uff08\u542f\u7528\u81ea\u8eab\uff09\uff0c\u5e76\u5728\u6a21\u62df\u8fdb\u884c\u5230\u5341\u79d2\u65f6\u505c\u6b62\uff08\u7981\u7528\u81ea\u8eab\uff09\u3002\u7531\u4e8e\u6211\u4eec\u58f0\u660e\u4e86\u4e00\u4e2a\u6a21\u62df\u4e8b\u4ef6\uff08\u5e94\u7528\u7a0b\u5e8f\u505c\u6b62\u4e8b\u4ef6\uff09\u5c06\u5728\u5341\u79d2\u65f6\u6267\u884c\uff0c\u56e0\u6b64\u6a21\u62df\u5c06\u81f3\u5c11\u6301\u7eed\u5341\u79d2\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#2-udpechoclienthelper","title":"2. UdpEchoClientHelper","text":"<p>\u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u8bbe\u7f6e\u65b9\u6cd5\u4e0e\u670d\u52a1\u5668\u7684\u65b9\u6cd5\u57fa\u672c\u76f8\u4f3c\u3002\u6709\u4e00\u4e2a\u7531UdpEchoClientHelper\u7ba1\u7406\u7684\u5e95\u5c42UdpEchoClientApplication\u3002</p> <pre><code>UdpEchoClientHelper echoClient(interfaces.GetAddress(1), 9);\nechoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));\nechoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0)));\nechoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));\n\nApplicationContainer clientApps = echoClient.Install(nodes.Get(0));\nclientApps.Start(Seconds(2.0));\nclientApps.Stop(Seconds(10.0));\n</code></pre> <p>\u7136\u800c\uff0c\u5bf9\u4e8e\u56de\u663e\u5ba2\u6237\u7aef\uff0c\u6211\u4eec\u9700\u8981\u8bbe\u7f6e\u4e94\u4e2a\u4e0d\u540c\u7684\u5c5e\u6027\u3002\u524d\u4e24\u4e2a\u5c5e\u6027\u5728UdpEchoClientHelper\u7684\u6784\u9020\u8fc7\u7a0b\u4e2d\u8bbe\u7f6e\u3002\u6211\u4eec\u4f20\u9012\u53c2\u6570\uff08\u5728\u52a9\u624b\u5185\u90e8\u4f7f\u7528\uff09\u4ee5\u6839\u636e\u6211\u4eec\u7684\u7ea6\u5b9a\u5c06\u6240\u9700\u5c5e\u6027\u8bbe\u7f6e\u4e3a\u52a9\u624b\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u3002</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u4f7f\u7528Ipv4InterfaceContainer\u6765\u8ddf\u8e2a\u6211\u4eec\u5206\u914d\u7ed9\u8bbe\u5907\u7684IP\u5730\u5740\u3002\u63a5\u53e3\u5bb9\u5668\u4e2d\u7684\u96f6\u63a5\u53e3\u5c06\u5bf9\u5e94\u4e8e\u8282\u70b9\u5bb9\u5668\u4e2d\u7684\u96f6\u8282\u70b9\u5206\u914d\u7684IP\u5730\u5740\u3002\u63a5\u53e3\u5bb9\u5668\u4e2d\u7684\u7b2c\u4e00\u4e2a\u63a5\u53e3\u5bf9\u5e94\u4e8e\u8282\u70b9\u5bb9\u5668\u4e2d\u7b2c\u4e00\u4e2a\u8282\u70b9\u7684IP\u5730\u5740\u3002 \u56e0\u6b64\uff0c\u5728\u4e0a\u8ff0==\u4ee3\u7801\u7684\u7b2c\u4e00\u884c==\u4e2d\uff0c\u6211\u4eec\u521b\u5efa\u4e86\u52a9\u624b\uff0c\u5e76==\u544a\u8bc9\u5b83\u5c06\u5ba2\u6237\u7aef\u7684\u8fdc\u7a0b\u5730\u5740\u8bbe\u7f6e\u4e3a\u670d\u52a1\u5668\u6240\u5728\u8282\u70b9\u5206\u914d\u7684IP\u5730\u5740==\u3002\u6211\u4eec==\u8fd8\u544a\u8bc9\u5b83\u5b89\u6392\u53d1\u9001\u5230\u7aef\u53e3\u4e5d\u7684\u6570\u636e\u5305==\u3002 \u201cMaxPackets\u201d\u5c5e\u6027\u544a\u8bc9\u5ba2\u6237\u7aef\u6211\u4eec\u5141\u8bb8\u5b83\u5728\u6a21\u62df\u671f\u95f4\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5305\u6570\u3002 \u201cInterval\u201d\u5c5e\u6027\u544a\u8bc9\u5ba2\u6237\u7aef\u5728\u6570\u636e\u5305\u4e4b\u95f4\u7b49\u5f85\u591a\u957f\u65f6\u95f4\u3002 \u201cPacketSize\u201d\u5c5e\u6027\u544a\u8bc9\u5ba2\u6237\u7aef\u5176\u6570\u636e\u5305\u8d1f\u8f7d\u5e94\u8be5\u6709\u591a\u5927 \u3002 \u901a\u8fc7\u8fd9\u7ec4\u7279\u5b9a\u7684\u5c5e\u6027\u7ec4\u5408\uff0c\u6211\u4eec\u544a\u8bc9\u5ba2\u6237\u7aef\u53d1\u9001\u4e00\u4e2a\u5927\u5c0f\u4e3a1024\u5b57\u8282\u7684\u6570\u636e\u5305\u3002</p> <p>\u5c31\u50cf\u5728\u56de\u663e\u670d\u52a1\u5668\u7684\u60c5\u51b5\u4e0b\u4e00\u6837\uff0c\u6211\u4eec\u544a\u8bc9\u56de\u663e\u5ba2\u6237\u7aef\u542f\u52a8\u548c\u505c\u6b62\uff0c\u4f46\u5728\u8fd9\u91cc\u6211\u4eec\u5728\u670d\u52a1\u5668\u542f\u7528\u540e\u7684\u4e00\u79d2\u949f\u518d\u542f\u52a8\u5ba2\u6237\u7aef\uff08\u5728\u6a21\u62df\u4e2d\u7684\u4e24\u79d2\u65f6\uff09\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#8simulator","title":"\uff088\uff09Simulator","text":"<p>\u5728\u8fd9\u4e00\u70b9\u4e0a\uff0c\u6211\u4eec\u9700\u8981\u5b9e\u9645\u8fd0\u884c\u6a21\u62df\u3002\u8fd9\u662f\u901a\u8fc7\u5168\u5c40\u51fd\u6570<code>Simulator::Run</code>\u5b8c\u6210\u7684\u3002</p> <pre><code>Simulator::Run();\n</code></pre> <p>\u5f53\u6211\u4eec\u4e4b\u524d\u8c03\u7528\u4e86\u65b9\u6cd5\uff1a</p> <pre><code>serverApps.Start(Seconds(1.0));\nserverApps.Stop(Seconds(10.0));\n// ...\nclientApps.Start(Seconds(2.0));\nclientApps.Stop(Seconds(10.0));\n</code></pre> <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u5728\u6a21\u62df\u4e2d\u5b89\u6392\u4e86\u4e8b\u4ef6\uff0c\u5206\u522b\u57281.0\u79d2\u30012.0\u79d2\u548c\u4e24\u4e2a\u4e8b\u4ef6\u572810.0\u79d2\u3002 \u5f53\u8c03\u7528<code>Simulator::Run</code>\u65f6\uff0c\u7cfb\u7edf\u5c06\u5f00\u59cb\u67e5\u770b\u5df2\u5b89\u6392\u4e8b\u4ef6\u7684\u5217\u8868\u5e76\u6267\u884c\u5b83\u4eec\u3002\u9996\u5148\uff0c\u5b83\u5c06\u8fd0\u884c\u57281.0\u79d2\u65f6\u5b89\u6392\u7684\u4e8b\u4ef6\uff0c\u8fd9\u5c06\u542f\u7528\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\uff08\u6b64\u4e8b\u4ef6\u53ef\u80fd\u53cd\u8fc7\u6765\u5b89\u6392\u8bb8\u591a\u5176\u4ed6\u4e8b\u4ef6\uff09\u3002\u7136\u540e\uff0c\u5b83\u5c06\u8fd0\u884c\u5728t=2.0\u79d2\u65f6\u5b89\u6392\u7684\u4e8b\u4ef6\uff0c\u8fd9\u5c06\u542f\u52a8\u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002\u540c\u6837\uff0c\u8fd9\u4e2a\u4e8b\u4ef6\u53ef\u80fd\u5b89\u6392\u4e86\u8bb8\u591a\u66f4\u591a\u7684\u4e8b\u4ef6\u3002\u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u542f\u52a8\u4e8b\u4ef6\u5b9e\u73b0\u5c06\u901a\u8fc7\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5305\u5f00\u59cb\u6a21\u62df\u7684\u6570\u636e\u4f20\u8f93\u9636\u6bb5\u3002</p> <p>\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u670d\u52a1\u5668\u7684\u884c\u4e3a==\u5c06\u89e6\u53d1==\u4e00\u7cfb\u5217\u5e55\u540e\u81ea\u52a8\u5b89\u6392\u7684\u4e8b\u4ef6\uff0c\u8fd9\u4e9b\u4e8b\u4ef6\u5c06\u6839\u636e\u6211\u4eec\u5728\u811a\u672c\u4e2d\u8bbe\u7f6e\u7684\u5404\u79cd\u65f6\u95f4\u53c2\u6570\u6267\u884c\u6570\u636e\u5305\u56de\u663e\u7684\u673a\u5236\u3002</p> <p>\u6700\u7ec8\uff0c\u7531\u4e8e\u6211\u4eec\u53ea\u53d1\u9001\u4e00\u4e2a\u6570\u636e\u5305\uff08\u56de\u60f3\u4e00\u4e0b\uff0cMaxPackets\u5c5e\u6027\u88ab\u8bbe\u7f6e\u4e3a\u4e00\u4e2a\uff09\uff0c\u7531\u5355\u4e2a\u5ba2\u6237\u7aef\u56de\u663e\u8bf7\u6c42\u89e6\u53d1\u7684\u4e8b\u4ef6\u94fe\u5c06\u9010\u6e10\u51cf\u5c11\uff0c\u6a21\u62df\u5c06\u8fdb\u5165\u7a7a\u95f2\u72b6\u6001\u3002\u4e00\u65e6\u8fd9\u53d1\u751f\uff0c\u5269\u4e0b\u7684\u4e8b\u4ef6\u5c06\u662f\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u505c\u6b62\u4e8b\u4ef6\u3002\u5f53\u6267\u884c\u8fd9\u4e9b\u4e8b\u4ef6\u65f6\uff0c\u6ca1\u6709\u8fdb\u4e00\u6b65\u7684\u4e8b\u4ef6\u8981\u5904\u7406\uff0c<code>Simulator::Run</code>\u5c06\u8fd4\u56de\u3002\u7136\u540e\u6a21\u62df\u5c31\u5b8c\u6210\u4e86\u3002</p> <p>\u73b0\u5728\u5269\u4e0b\u7684\u5c31\u662f\u6e05\u7406\u5de5\u4f5c\u3002\u8fd9\u662f\u901a\u8fc7\u8c03\u7528\u5168\u5c40\u51fd\u6570<code>Simulator::Destroy</code>\u5b8c\u6210\u7684\u3002\u4f5c\u4e3a\u8f85\u52a9\u51fd\u6570\uff08\u6216\u5e95\u5c42ns-3\u4ee3\u7801\uff09\u6267\u884c\u65f6\uff0c\u5b83\u4eec\u5b89\u6392\u4e86\u5728\u6a21\u62df\u5668\u4e2d\u63d2\u5165\u6302\u94a9\u4ee5\u9500\u6bc1\u6240\u6709\u521b\u5efa\u7684\u5bf9\u8c61\u3002\u60a8\u4e0d\u5fc5\u81ea\u5df1\u8ddf\u8e2a\u8fd9\u4e9b\u5bf9\u8c61 - \u60a8\u53ea\u9700\u8981\u8c03\u7528<code>Simulator::Destroy</code>\u5e76\u9000\u51fa\u3002ns-3\u7cfb\u7edf\u4e3a\u60a8\u5904\u7406\u4e86\u56f0\u96be\u7684\u90e8\u5206\u3002\u6211\u4eec\u7b2c\u4e00\u4e2ans-3\u811a\u672c<code>first.cc</code>\u7684\u5269\u4f59\u884c\u5c31\u662f\u505a\u8fd9\u4e2a\uff1a</p> <pre><code>  Simulator::Destroy();\n  return 0;\n}\n</code></pre>"},{"location":"Sci_doc/ns-3/ch1/#1-when-the-simulator-will-stop","title":"1. When the simulator will stop?","text":"<p>ns-3\u662f\u4e00\u4e2a==\u79bb\u6563\u4e8b\u4ef6\uff08DE\uff09\u6a21\u62df\u5668==\u3002\u5728\u8fd9\u6837\u7684\u6a21\u62df\u5668\u4e2d\uff0c==\u6bcf\u4e2a\u4e8b\u4ef6\u90fd\u4e0e\u5176\u6267\u884c\u65f6\u95f4\u5173\u8054==\uff0c\u6a21\u62df\u901a\u8fc7\u6309\u7167\u6a21\u62df\u65f6\u95f4\u7684\u65f6\u95f4\u987a\u5e8f\u6267\u884c\u4e8b\u4ef6\u8fdb\u884c\u3002\u4e8b\u4ef6\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5b89\u6392\u5c06\u6765\u7684\u4e8b\u4ef6\uff08\u4f8b\u5982\uff0c\u5b9a\u65f6\u5668\u53ef\u80fd\u4f1a\u91cd\u65b0\u5b89\u6392\u81ea\u5df1\u4ee5\u5728\u4e0b\u4e00\u4e2a\u95f4\u9694\u5230\u671f\uff09\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#rule1-ipv6","title":"rule1: \u521d\u59cb\u4e8b\u4ef6\u901a\u5e38\u7531\u6bcf\u4e2a\u5bf9\u8c61\u89e6\u53d1\uff0c\u4f8b\u5982IPv6\u5c06\u5b89\u6392\u8def\u7531\u5668\u901a\u544a\u3001\u90bb\u5c45\u8bf7\u6c42\u7b49\uff0c\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u5b89\u6392\u7b2c\u4e00\u4e2a\u53d1\u9001\u6570\u636e\u5305\u7684\u4e8b\u4ef6\u7b49\u3002","text":"<p>\u5f53\u5904\u7406\u4e8b\u4ef6\u65f6\uff0c\u5b83\u53ef\u80fd\u751f\u6210\u96f6\u4e2a\u3001\u4e00\u4e2a\u6216\u591a\u4e2a\u4e8b\u4ef6\u3002\u968f\u7740\u6a21\u62df\u7684\u6267\u884c\uff0c\u4e8b\u4ef6\u88ab\u6d88\u8017\uff0c\u4f46\u53ef\u80fd\u968f\u4e4b\uff08\u6216\u53ef\u80fd\u4e0d\uff09\u751f\u6210\u66f4\u591a\u4e8b\u4ef6\u3002\u5f53\u4e8b\u4ef6\u961f\u5217\u4e2d\u6ca1\u6709\u66f4\u591a\u4e8b\u4ef6\u65f6\uff0c\u6216\u8005\u627e\u5230\u7279\u6b8a\u7684Stop\u4e8b\u4ef6\u65f6\uff0c\u6a21\u62df\u5c06\u81ea\u52a8\u505c\u6b62\u3002\u901a\u8fc7Simulator::Stop(stopTime);\u51fd\u6570\u521b\u5efaStop\u4e8b\u4ef6\u3002</p> <p>Simulator::Stop\u5728\u5fc5\u987b\u505c\u6b62\u6a21\u62df\u7684\u60c5\u51b5\u4e0b\u662f\u7edd\u5bf9\u5fc5\u8981\u7684\u4e00\u79cd\u5178\u578b\u60c5\u51b5\uff1a==\u5f53\u5b58\u5728\u81ea\u7ef4\u6301\u4e8b\u4ef6\u65f6\u3002\u81ea\u7ef4\u6301\uff08\u6216\u5468\u671f\u6027\uff09\u4e8b\u4ef6\u662f\u603b\u662f\u91cd\u65b0\u5b89\u6392\u81ea\u5df1\u7684\u4e8b\u4ef6\u3002\u56e0\u6b64\uff0c\u5b83\u4eec\u59cb\u7ec8\u4fdd\u6301\u4e8b\u4ef6\u961f\u5217\u975e\u7a7a\u3002==</p> <p>\u6709\u8bb8\u591a\u5305\u542b\u5468\u671f\u6027\u4e8b\u4ef6\u7684\u534f\u8bae\u548c\u6a21\u5757\uff0c\u4f8b\u5982\uff1a</p> <ul> <li>FlowMonitor - \u5b9a\u671f\u68c0\u67e5\u4e22\u5931\u7684\u6570\u636e\u5305</li> <li>RIPng - \u5b9a\u671f\u5e7f\u64ad\u8def\u7531\u8868\u66f4\u65b0</li> <li>\u7b49\u7b49</li> </ul> <p>\u5728==\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0cSimulator::Stop\u4f18\u96c5\u5730\u505c\u6b62\u6a21\u62df\u662f\u5fc5\u8981\u7684\uff01==</p>"},{"location":"Sci_doc/ns-3/ch1/#rule2-ns-3realtimesimulatorsimulatorstop","title":"rule2: \u6b64\u5916\uff0c\u5f53ns-3\u5904\u4e8e\u4eff\u771f\u6a21\u5f0f\u65f6\uff0cRealtimeSimulator\u7528\u4e8e\u4fdd\u6301\u6a21\u62df\u65f6\u949f\u4e0e\u673a\u5668\u65f6\u949f\u5bf9\u9f50\uff0c\u800cSimulator::Stop\u5bf9\u4e8e\u505c\u6b62\u8fdb\u7a0b\u662f\u5fc5\u8981\u7684\u3002","text":"<p>\u6559\u7a0b\u4e2d\u7684\u8bb8\u591a\u6a21\u62df\u7a0b\u5e8f\u5b9e\u9645\u4e0a\u4e0d\u663e\u5f0f\u8c03\u7528Simulator::Stop\uff0c\u56e0\u4e3a\u4e8b\u4ef6\u961f\u5217\u5c06\u81ea\u52a8\u7528\u5c3d\u3002\u4f46\u662f\uff0c\u8fd9\u4e9b\u7a0b\u5e8f\u4e5f\u5c06\u63a5\u53d7\u5bf9Simulator::Stop\u7684\u8c03\u7528\u3002\u4f8b\u5982\uff0c\u4ee5\u4e0b\u5728\u7b2c\u4e00\u4e2a\u793a\u4f8b\u7a0b\u5e8f\u4e2d\u7684\u5176\u4ed6\u8bed\u53e5\u5c06\u572811\u79d2\u65f6\u5b89\u6392\u4e00\u4e2a\u663e\u5f0f\u7684\u505c\u6b62\uff1a</p> <pre><code>+  Simulator::Stop(Seconds(11.0));\n   Simulator::Run();\n   Simulator::Destroy();\n   return 0;\n}\n</code></pre> <p>\u4ee5\u4e0a\u5b9e\u9645\u4e0a\u4e0d\u4f1a\u6539\u53d8\u6b64\u7a0b\u5e8f\u7684\u884c\u4e3a\uff0c\u56e0\u4e3a\u8fd9\u4e2a\u7279\u5b9a\u7684\u6a21\u62df\u572810\u79d2\u540e\u81ea\u7136\u7ed3\u675f\u3002\u4f46\u662f\uff0c\u5982\u679c\u4f60\u5c06\u4e0a\u8ff0\u8bed\u53e5\u4e2d\u7684\u505c\u6b62\u65f6\u95f4\u4ece11\u79d2\u66f4\u6539\u4e3a1\u79d2\uff0c\u4f60\u4f1a\u6ce8\u610f\u5230\u6a21\u62df\u5728\u5c4f\u5e55\u4e0a\u6253\u5370\u4efb\u4f55\u8f93\u51fa\u4e4b\u524d\u5c31\u505c\u6b62\u4e86\uff08\u56e0\u4e3a\u8f93\u51fa\u53d1\u751f\u5728\u6a21\u62df\u65f6\u95f4\u7684\u7ea62\u79d2\u5904\uff09\u3002</p> <p>\u5728\u8c03\u7528Simulator::Run\u4e4b\u524d\u8c03\u7528Simulator::Stop\u975e\u5e38\u91cd\u8981\uff1b\u5426\u5219\uff0cSimulator::Run\u53ef\u80fd\u6c38\u8fdc\u4e0d\u4f1a\u5c06\u63a7\u5236\u8fd4\u56de\u5230\u4e3b\u7a0b\u5e8f\u4ee5\u6267\u884c\u505c\u6b62\uff01</p>"},{"location":"Sci_doc/ns-3/ch1/#9-building-your-script","title":"\uff089\uff09 Building Your Script","text":"<p>\u6211\u4eec\u5df2\u7ecf\u4f7f\u5f97\u6784\u5efa\u7b80\u5355\u811a\u672c\u53d8\u5f97\u975e\u5e38\u5bb9\u6613\u3002\u60a8\u53ea\u9700\u5c06\u811a\u672c\u653e\u5165scratch\u76ee\u5f55\uff0c\u5982\u679c\u8fd0\u884cns3\uff0c\u5b83\u5c06\u81ea\u52a8\u6784\u5efa\u3002\u8ba9\u6211\u4eec\u8bd5\u4e00\u8bd5\u3002\u5728\u8fd4\u56de\u5230\u9876\u7ea7\u76ee\u5f55\u4e4b\u540e\uff0c\u5c06examples/tutorial/first.cc\u590d\u5236\u5230scratch\u76ee\u5f55\u4e2d\u3002</p> <pre><code>$ cd ../..\n$ cp examples/tutorial/first.cc scratch/myfirst.cc\n</code></pre> <p>\u73b0\u5728\u4f7f\u7528ns3\u6784\u5efa\u60a8\u7684\u7b2c\u4e00\u4e2a\u793a\u4f8b\u811a\u672c\uff1a</p> <pre><code>$ ./ns3 build\n</code></pre> <p>\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u6d88\u606f\u62a5\u544a\u60a8\u7684myfirst\u793a\u4f8b\u5df2\u6210\u529f\u6784\u5efa\u3002</p> <p>\u626b\u63cf scratch_myfirst \u76ee\u6807\u7684\u4f9d\u8d56\u5173\u7cfb [  0%] \u6b63\u5728\u6784\u5efa CXX \u5bf9\u8c61 scratch/CMakeFiles/scratch_myfirst.dir/myfirst.cc.o [  0%] \u6b63\u5728\u94fe\u63a5 CXX \u53ef\u6267\u884c\u6587\u4ef6 ../../build/scratch/ns3.36.1-myfirst-debug \u5df2\u5b8c\u6210\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a cd cmake-cache; cmake --build . -j 7 ; cd ..</p> <p>\u73b0\u5728\u53ef\u4ee5\u8fd0\u884c\u8be5\u793a\u4f8b\uff08\u8bf7\u6ce8\u610f\uff0c==\u5982\u679c\u5728scratch\u4e2d\u6784\u5efa\u7a0b\u5e8f==\uff0c\u5219\u5fc5\u987b\u5728scratch\u76ee\u5f55\u4e2d==\u8fd0\u884c==\u5b83 ==[\u5373\uff1ascratch\u7684\u201c\u5916\u9762\u201d\uff01]==\uff09\uff1a</p> <pre><code>$ ./ns3 run scratch/myfirst\n</code></pre> <p>\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4e00\u4e9b\u8f93\u51fa\uff1a</p> <pre><code>At time +2s client sent 1024 bytes to 10.1.1.2 port 9\nAt time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\n// \u5728\u65f6\u95f4 +2s \u65f6\uff0c\u5ba2\u6237\u7aef\u5c06 1024 \u5b57\u8282\u53d1\u9001\u5230 10.1.1.2 \u7aef\u53e3 9\n// \u5728\u65f6\u95f4 +2.00369s \u65f6\uff0c\u670d\u52a1\u5668\u4ece 10.1.1.1 \u7aef\u53e3 49153 \u63a5\u6536\u5230 1024 \u5b57\u8282\n// \u5728\u65f6\u95f4 +2.00369s \u65f6\uff0c\u670d\u52a1\u5668\u5c06 1024 \u5b57\u8282\u53d1\u9001\u5230 10.1.1.1 \u7aef\u53e3 49153\n// \u5728\u65f6\u95f4 +2.00737s \u65f6\uff0c\u5ba2\u6237\u7aef\u4ece 10.1.1.2 \u7aef\u53e3 9 \u63a5\u6536\u5230 1024 \u5b57\u8282\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u60a8\u770b\u5230\u4e86Echo\u5ba2\u6237\u7aef\u7684\u65e5\u5fd7\u7ec4\u4ef6\u8868\u793a\u5b83\u5df2\u7ecf\u541110.1.1.2\u7684Echo\u670d\u52a1\u5668\u53d1\u9001\u4e86\u4e00\u4e2a1024\u5b57\u8282\u7684\u6570\u636e\u5305\u3002\u60a8\u8fd8\u770b\u5230Echo\u670d\u52a1\u5668\u7684\u65e5\u5fd7\u7ec4\u4ef6\u8bf4\u5b83\u5df2\u7ecf\u4ece10.1.1.1\u63a5\u6536\u5230\u4e861024\u5b57\u8282\u3002Echo\u670d\u52a1\u5668\u9ed8\u9ed8\u5730\u56de\u663e\u6570\u636e\u5305\uff0c\u60a8\u4f1a\u770b\u5230Echo\u5ba2\u6237\u7aef\u8bb0\u5f55\u5b83\u5df2\u7ecf\u4ece\u670d\u52a1\u5668\u6536\u5230\u4e86\u81ea\u5df1\u7684\u6570\u636e\u5305\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#10ns-3-source-code","title":"\uff0810\uff09Ns-3 Source Code","text":"<p>\u73b0\u5728\u60a8\u5df2\u7ecf\u4f7f\u7528\u4e86\u4e00\u4e9bns-3\u52a9\u624b\uff0c\u53ef\u80fd\u60f3\u8981\u67e5\u770b\u4e00\u4e9b\u5b9e\u73b0\u8be5\u529f\u80fd\u7684\u6e90\u4ee3\u7801\u3002</p> <p>\u6211\u4eec\u7684\u793a\u4f8b\u811a\u672c\u4f4d\u4e8eexamples\u76ee\u5f55\u4e2d\u3002\u5982\u679c\u5207\u6362\u5230examples\u76ee\u5f55\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u5b50\u76ee\u5f55\u5217\u8868\u3002tutorial\u5b50\u76ee\u5f55\u4e2d\u7684\u4e00\u4e2a\u6587\u4ef6\u662ffirst.cc\u3002\u5982\u679c\u70b9\u51fbfirst.cc\uff0c\u60a8\u5c06\u627e\u5230\u521a\u521a\u6d4f\u89c8\u7684\u4ee3\u7801\u3002</p> <p>\u6e90\u4ee3\u7801\u4e3b\u8981\u4f4d\u4e8esrc\u76ee\u5f55\u4e2d\u3002\u6a21\u62df\u5668\u7684\u6838\u5fc3\u4f4d\u4e8esrc/core/model\u5b50\u76ee\u5f55\u4e2d\u3002\u5728\u90a3\u91cc\uff0c\u60a8\u4f1a\u627e\u5230\u7b2c\u4e00\u4e2a\u6587\u4ef6\uff08\u622a\u81f3\u64b0\u5199\u672c\u6587\u65f6\uff09\u662fabort.h\u3002\u5982\u679c\u6253\u5f00\u8be5\u6587\u4ef6\uff0c\u53ef\u4ee5\u67e5\u770b\u5728\u68c0\u6d4b\u5230\u5f02\u5e38\u6761\u4ef6\u65f6\u9000\u51fa\u811a\u672c\u7684\u5b8f\u3002</p> <p>\u6211\u4eec\u5728\u672c\u7ae0\u4e2d\u4f7f\u7528\u7684\u52a9\u624b\u7684\u6e90\u4ee3\u7801\u53ef\u4ee5\u5728src/applications/helper\u76ee\u5f55\u4e2d\u627e\u5230\u3002\u8bf7\u968f\u610f\u5728\u76ee\u5f55\u6811\u4e2d\u6d4f\u89c8\uff0c\u4e86\u89e3\u90a3\u91cc\u6709\u4ec0\u4e48\u4ee5\u53cans-3\u7a0b\u5e8f\u7684\u98ce\u683c\u3002</p>"},{"location":"Sci_doc/ns-3/ch1/#11","title":"\uff0811\uff09\u56de\u987e\u6574\u7406","text":""},{"location":"Sci_doc/ns-3/ch1/#_1","title":"\u793a\u4f8b\u6e90\u7801\uff1a","text":"<pre><code>linux&gt; huluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37/scratch$ cat myfirst.cc\n\n/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */ \n //\u8fd9\u4e00\u6bb5\u662f\u5e9f\u8bdd\uff01\n\n#include \"ns3/applications-module.h\"\n#include \"ns3/core-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/point-to-point-module.h\" \n//\u5f15\u5165\u5934\u6587\u4ef6\u800c\u5df2\uff0c\u4e5f\u662f\u5e9f\u8bdd\uff01\n\n// Default Network Topology\n//\n//       10.1.1.0\n// n0 -------------- n1\n//    point-to-point\n//\n//\u5f62\u8c61\u5316\u5c55\u793a\u672c\u6bb5\u4ee3\u7801\u6700\u7ec8\u8fbe\u6210\u7684\u6548\u679c\uff0c\u76f4\u89c2\u5316\uff0c\u770b\u4e2a\u4e50\u5475\u5c31\u884c\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"FirstScriptExample\"); // \u6ca1\u5565\u7528\n\nint\nmain(int argc, char* argv[])\n{\n    CommandLine cmd(__FILE__);\n    cmd.Parse(argc, argv);\n\n    Time::SetResolution(Time::NS);\n    LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n    LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n    // \u4e0a\u8ff0\u8fd9\u4e9b\u662f\u201c\u5f62\u5f0f\u5316\u8bed\u8a00\u201d\uff0c\u8bb0\u4f4f\u683c\u5f0f\u5c31\u884c\uff0c\u76ee\u524d\u4e0d\u9700\u8981\u5728\u610f\uff01\n\n    //\uff081\uff09\u5efa\u7acb\u8282\u70b9\uff1a\n    NodeContainer nodes; // \u5efa\u7acb\u4e00\u4e2a\u8282\u70b9\u5bb9\u5668\uff0ccalled\uff1anodes\n    nodes.Create(2);     // \u5efa\u7acb\u7684\u8fd9\u4e2a\u8282\u70b9\u5bb9\u5668\u5185\u90e8\u653e\u7f6e\u4e24\u4e2a\u8282\u70b9\n\n\n\n    //\uff082\uff09\u5c06\u8282\u70b9\u8fdb\u884c\u8fde\u63a5\uff0c\u8bbe\u7f6e\u201c\u540e\u9762\u4f1a\u7528\u5230\u7684\u201d\u8282\u70b9\u5c5e\u6027\uff1a\n    PointToPointHelper pointToPoint;                                   // \u5efa\u7acb\u4e00\u4e2a\u70b9\u5bf9\u70b9\u7684\u8fde\u63a5\u5668\uff0ccalled\uff1apointToPoint\n    pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\")); // \u4f7f\u7528\u503c\u201c5Mbps\u201d\uff08\u6bcf\u79d2\u4e94\u5146\u4f4d\uff09\u4f5c\u4e3a\u201cDataRate\u201d\n    pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));     // \u4f7f\u7528\u503c\u201c2ms\u201d\u4f5c\u4e3a\u201c\u5ef6\u8fdf\u65f6\u95f4\u201d\n\n\n\n    //\uff083\uff09\u5efa\u7acb\u7f51\u7edc\u8bbe\u5907\uff0c\u8ba9\u8282\u70b9\u5177\u6709\u7f51\u7edc\u610f\u4e49\uff1a\n    NetDeviceContainer devices;            // \u5efa\u7acb\u4e00\u4e2a\u7f51\u7edc\u8bbe\u5907\u5bb9\u5668 called\uff1adevices\n    devices = pointToPoint.Install(nodes); \n/*\n\u7b2c\u4e8c\u884c\u5219\u5b8c\u6210\u4e86\u7e41\u91cd\u7684\u5de5\u4f5c\uff1a\n1. \u3010\u81ea\u52a8\u5b8c\u6210\u3011\u5bf9\u4e8e\u524d\u9762\u8bbe\u7f6e\u5b8c\u7684\u201c\u8282\u70b9\u5bb9\u5668\u201d\u5185\u7684\u6bcf\u4e2a\u8282\u70b9\uff08\u5bf9\u4e8e\u70b9\u5bf9\u70b9\u94fe\u63a5\uff0c\u5fc5\u987b\u6070\u597d\u6709\u4e24\u4e2a\u8282\u70b9\uff09\uff0c\u5c06\u521b\u5efa\u4e00\u4e2aPointToPointNetDevice\u5e76\u5c06\u5176\u4fdd\u5b58\u5728\u7f51\u7edc\u8bbe\u5907\u5bb9\u5668\u4e2d\n2. \u3010\u81ea\u52a8\u5b8c\u6210\u3011\u5c06\u521b\u5efa\u4e00\u4e2aPointToPointChannel\uff0c\u5e76\u8fde\u63a5\u4e24\u4e2aPointToPointNetDevice\n3. \u3010\u81ea\u52a8\u6309\u7167\u524d\u7f6e\u7684\u914d\u7f6e\u3011\u5f53\u7531PointToPointHelper\u521b\u5efa\u5bf9\u8c61\u65f6\uff0c\u5e2e\u52a9\u5668\u201c\u5148\u524d\u8bbe\u7f6e\u7684\u5c5e\u6027\u201d\u5c06\u7528\u4e8e\u521d\u59cb\u5316\u6240\u521b\u5efa\u5bf9\u8c61\u4e2d\u7684\u76f8\u5e94\u5c5e\u6027\n\n\u5373\uff1a\u6267\u884cpointToPoint.Install(nodes)\u8c03\u7528\u540e\uff0c\u6211\u4eec\u5c06\u6709\u4e24\u4e2a\u8282\u70b9\uff0c\u6bcf\u4e2a\u8282\u70b9\u90fd\u5b89\u88c5\u6709\u4e00\u4e2a\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u70b9\u5bf9\u70b9\u4fe1\u9053\u3002\u8fd9\u4e24\u4e2a\u8bbe\u5907\u90fd\u5c06\u914d\u7f6e\u4e3a\u5728\u901a\u9053\u4e0a\u4ee5\u6bcf\u79d2\u4e94\u5146\u4f4d\u7684\u901f\u5ea6\u4f20\u8f93\u6570\u636e\uff0c\u8be5\u901a\u9053\u5177\u6709\u4e24\u6beb\u79d2\u7684\u4f20\u8f93\u5ef6\u8fdf\n*/\n\n\n\n    //\uff084\uff09\u7f51\u7edc\u8bbe\u5907\u57fa\u7840\u5df2\u7ecf\u5b8c\u6bd5\uff0c\u73b0\u5728\u8be5\u8003\u8651\u5427\u4ea4\u4e92\u4e86\uff01\u90a3\u4e48\u9996\u5148\u8981\u5b89\u6392\u534f\u8bae\u6808\uff1a\n    InternetStackHelper stack; // \u5bf9\u4e8eInternet\u534f\u8bae\u6808\u800c\u8a00\uff0c\u5b83\u7684\u4f5c\u7528\u7c7b\u4f3c\u4e8ePointToPointHelper\u5bf9\u4e8e\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\n    stack.Install(nodes);      // \u5c06\u5728\u8282\u70b9\u5bb9\u5668\u5185\u7684\u6bcf\u4e2a\u8282\u70b9\u4e0a\u90fd\u5b89\u88c5\u4e00\u4e2aInternet\u534f\u8bae\u6808\uff08TCP\u3001UDP\u3001IP\u7b49\uff09\n\n\n\n    //\uff085\uff09\u9700\u8981\u5c06\u8282\u70b9\u4e0a\u7684\u8bbe\u5907\u4e0eIP\u5730\u5740\u5173\u8054\uff0c\u901a\u4fe1\u5f53\u7136\u987b\u77e5\u6653IP\u5730\u5740\uff1a\n    Ipv4AddressHelper address;                    // \u58f0\u660e\u4e00\u4e2a\u5730\u5740\u52a9\u624b\n    address.SetBase(\"10.1.1.0\", \"255.255.255.0\"); // \u544a\u8bc9\u5b83\u5e94\u8be5\u4ece\u7f51\u7edc10.1.1.0\u5f00\u59cb\u4f7f\u7528\u63a9\u7801255.255.255.0\u6765\u5b9a\u4e49\u53ef\u5206\u914d\u7684\u4f4d\n\n    Ipv4InterfaceContainer interfaces = address.Assign(devices); // \u4f7f\u7528Ipv4Interface\u5bf9\u8c61\u5c06IP\u5730\u5740\u4e0e\u7f51\u7edc\u8bbe\u5907\u5173\u8054\u8d77\u6765\n\n\n\n    //\uff086\uff09\u73b0\u5728\u4f60\u4f1a\u53d1\u73b0\u6240\u6709\u7684\u786c\u4ef6\u5168\u90e8\u642d\u5efa\u597d\u4e86\uff01\u8fd8\u5dee\u4ea4\u6d41\u901a\u8d27\u2014\u2014\u2014\u2014\u6d41\u91cf\uff1a\u3010\u4f20\u9012\u5728server\u4e0eclient\u4e4b\u95f4\u3011\n\n    //\u30101\u3011\u5148\u914d\u7f6e\u670d\u52a1\u5668\u7684\u4fe1\u606f\uff08server\uff09\n\n    // step1: \u5efa\u7acb\u52a9\u624b\n    UdpEchoServerHelper echoServer(9); // 1\uff09\u5efa\u7acb\u4e00\u4e2a\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f\u7684\u52a9\u624b\uff0c\u8bbe\u8ba1\u5b83\u7684\u7aef\u53e3\u53f7\u4e3a9\n\n    /*\u548c\u4e4b\u524d\u7684\u4e00\u6837\uff0c\u8fd9\u4e0d\u662f\u5e94\u7528\u7a0b\u5e8f\u672c\u8eab\uff0c\u800c\u662f\u4e00\u4e2a\u5e2e\u52a9\u6211\u4eec\u521b\u5efa\u5b9e\u9645\u5e94\u7528\u7a0b\u5e8f\u7684\u5bf9\u8c61\uff01\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u9664\u975e\u63d0\u4f9b\u4e86\u5ba2\u6237\u7aef\u4e5f\u77e5\u9053\u7684\u7aef\u53e3\u53f7\uff0c\u5426\u5219\u52a9\u624b\u65e0\u6cd5\u6267\u884c\u4efb\u4f55\u6709\u7528\u7684\u64cd\u4f5c\u3002\u6211\u4eec\u8981\u6c42\u5728\u6784\u9020\u51fd\u6570\u7684\u53c2\u6570\u4e2d\u63d0\u4f9b\u7aef\u53e3\u53f7\uff0c\u800c\u6784\u9020\u51fd\u6570\u5219\u7b80\u5355\u5730\u4f7f\u7528\u4f20\u9012\u7684\u503c\u8fdb\u884cSetAttribute*/\n\n    // step2: \u914d\u7f6e\u57fa\u672c\u5c5e\u6027\u3010\u8fd9\u91cc\u670d\u52a1\u5668\u6ca1\u6709\u3011\n\n    // step3:\u5b89\u88c5\u5230\u5b9e\u4f53\uff08\u8282\u70b9\u5bb9\u5668\u4e2d\u7684\u5bf9\u5e94\u8282\u70b9\u4e0a\uff09\n    ApplicationContainer serverApps = echoServer.Install(nodes.Get(1)); // 2\uff09\u5c06\u5728\u6211\u4eec\u7528\u4e8e\u201c\u8282\u70b9\u5bb9\u5668\u201d\u4e2d\u627e\u5230\u7d22\u5f15\u53f7\u4e3a1\u7684\u8282\u70b9\uff0c\u5728\u5b83\u8eab\u4e0a\u5b89\u88c5\u4e00\u4e2aUdpEchoServerApplication\n\n    // step4\uff1a\u8bbe\u7f6e\u5f00\u59cb\u4e0e\u7ed3\u675f\n    serverApps.Start(Seconds(1.0)); // 3\uff09\u5e94\u7528\u7a0b\u5e8f\u9700\u8981\u4e00\u4e2a\u65f6\u95f4\u6765\u201c\u5f00\u59cb\u201d\u751f\u6210\u6d41\u91cf\uff0c\u5e76\u4e14\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u53ef\u9009\u7684\u65f6\u95f4\u6765\u201c\u505c\u6b62\u201d\n    serverApps.Stop(Seconds(10.0)); // \u8fd9\u91cc\u7684seconds\u65f6\u95f4\u5c31\u662fApp\u7684\u201c\u5f00/\u5173\u201d\u65f6\u523b\u3010\u5f88\u663e\u7136duration\u662f10-1\u3011\n\n\n\n    //\u30102\u3011\u518d\u914d\u7f6e\u5ba2\u6237\u7aef\u7684\u4fe1\u606f\uff08client\uff09\n\n    // step1: \u5efa\u7acb\u52a9\u624b\n    UdpEchoClientHelper echoClient(interfaces.GetAddress(1), 9); // 1\uff09\u5efa\u7acb\u4e00\u4e2a\u521b\u5efa\u5ba2\u6237\u7aef\u7684\u52a9\u624b\uff0c\u8bbe\u8ba1\u5ba2\u6237\u7aef\u7684\u8fdc\u7a0b\u5730\u5740\u4e3a\u670d\u52a1\u5668\u6240\u5728\u8282\u70b9\u5206\u914d\u7684IP\u5730\u5740\uff08\u5927\u5730\u70b9\u786e\u5b9a\uff09\u3002\u6211\u4eec\u8bbe\u7f6e\u5c06\u5b83\u5b89\u6392\u53d1\u9001\u5230\u7aef\u53e39\u7684\u6570\u636e\u5305\uff08\u7ec6\u5316\u7684\u5c0f\u5730\u70b9\u4e5f\u786e\u5b9a\uff09\u3002\n\n    // step2: \u914d\u7f6e\u57fa\u672c\u5c5e\u6027\u3010\u8fd9\u91cc\u670d\u52a1\u5668\u6ca1\u6709\u3011\n    echoClient.SetAttribute(\"MaxPackets\", UintegerValue(1)); // 2\uff09MaxPackets\u5c5e\u6027\uff1a\u544a\u8bc9\u5ba2\u6237\u7aef\uff0c\u6211\u4eec\u5141\u8bb8\u5b83\u5728\u6a21\u62df\u671f\u95f4\u53d1\u9001\u7684\u6700\u5927\u6570\u636e\u5305\u6570\u662fUintegerValue(1)\n    echoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0))); // 3\uff09Interval\u201d\u5c5e\u6027\uff1a\u544a\u8bc9\u5ba2\u6237\u7aef\u5728\u6570\u636e\u5305\u4e4b\u95f4\u7b49\u5f85\u591a\u957f\u65f6\u95f4\n    echoClient.SetAttribute(\"PacketSize\", UintegerValue(1024)); // 4\uff09PacketSize\u201d\u5c5e\u6027\uff1a\u544a\u8bc9\u5ba2\u6237\u7aef\uff0c\u5176\u6570\u636e\u5305\u8d1f\u8f7d\u5e94\u8be5\u6709\u591a\u5927\n\n    // step3:\u5b89\u88c5\u5230\u5b9e\u4f53\uff08\u8282\u70b9\u5bb9\u5668\u4e2d\u7684\u5bf9\u5e94\u8282\u70b9\u4e0a\uff09\n    ApplicationContainer clientApps = echoClient.Install(nodes.Get(0)); // 5\uff09\u5c06\u5728\u6211\u4eec\u7528\u4e8e\u201c\u8282\u70b9\u5bb9\u5668\u201d\u4e2d\u627e\u5230\u7d22\u5f15\u53f7\u4e3a0\u7684\u8282\u70b9\uff0c\u5728\u5b83\u8eab\u4e0a\u5b89\u88c5\u4e00\u4e2aUdpEchoClientApplication\n\n    // step4\uff1a\u8bbe\u7f6e\u5f00\u59cb\u4e0e\u7ed3\u675f\n    clientApps.Start(Seconds(2.0)); // 6\uff09\u5ba2\u6237\u7aef\u9700\u8981\u4e00\u4e2a\u65f6\u95f4\u6765\u201c\u5f00\u59cb\u201d\u751f\u6210\u6d41\u91cf\uff0c\u5e76\u4e14\u53ef\u80fd\u9700\u8981\u4e00\u4e2a\u53ef\u9009\u7684\u65f6\u95f4\u6765\u201c\u505c\u6b62\u201d\n    clientApps.Stop(Seconds(10.0)); // \u8fd9\u91cc\u7684seconds\u65f6\u95f4\u5c31\u662f\u5ba2\u6237\u7aef\u7684\u201c\u5f00/\u5173\u201d\u65f6\u523b\u3010\u5f88\u663e\u7136duration\u662f10-2\u3011\n\n\n\n    //\uff087\uff09\u6240\u6709\u4e1c\u897f\u5df2\u7ecf\u5168\u65b9\u4f4d\u914d\u7f6e\u5b8c\u6bd5\u4e86\uff01\u73b0\u5728\u53ef\u4ee5\u5f00\u59cb\u6a21\u62df\u7f51\u7edc\u8fd0\u884c\uff01\n    Simulator::Run();     //\u5f00\u59cb\u8fd0\u884c\uff01\n    Simulator::Destroy(); //\u9500\u6bc1\u6240\u6709\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u7c7b\u6bd4c++\u5185\u7684delete / ...[]\n    return 0;\n}\n// \u4ed4\u7ec6\u4f53\u4f1a\uff01\u8fd9\u6bb5\u4ee3\u7801\u4f53\u73b0\u7684\u201c\u7c7b\u601d\u60f3\u201c\u975e\u5e38\u6d53\u539a\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u4e00\u4e2a\u60ef\u4f8b\u662f\uff1a\u5c06\u6240\u9700\u7684\u5c5e\u6027\u653e\u5728\u52a9\u624b\u6784\u9020\u51fd\u6570\u4e2d\uff01\n\nlinux&gt; huluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37/scratch$\n</code></pre> <ul> <li>\u6ce8\u610f\u6211\u4e4b\u524d\u914d\u7f6e\u7684\u73af\u5883\u662f\u5728linux\u865a\u62df\u673a\u4e0a\uff0c\u56e0\u6b64\u8bb0\u5f97\u8fdbzsh\u540e\u5148orb\u4e00\u4e0b\uff0c\u8fdb\u5165linux\u865a\u62df\u673a</li> <li>\u57fa\u672c\u4e0a\uff0c\u6211\u4eec\u64cd\u4f5c\u7684\u201c\u5927\u672c\u8425\u201d\u6587\u4ef6\u90fd\u662f\u5728ns-3.37\u6587\u4ef6\u5939\u5185\uff0c\u5728\u6211\u7684mac\u4e0a\u7edd\u5bf9\u8def\u5f84\u662f\uff1a<code>/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37/</code></li> <li>\u793a\u4f8b\u7a0b\u5e8f\u662f\u5728<code>/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37/examples/tutorial</code>\u4e2d</li> <li>\u8981\u662f\u60f3\u8c03\u7528\uff1a\u5148\u5c06\u4e0a\u8ff0\u53c2\u8003\u7a0b\u5e8fcp\u5230scratch\u6587\u4ef6\u5939\u5185\uff0c\u5373\uff1a<code>/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37/scratch</code></li> </ul>"},{"location":"Sci_doc/ns-3/ch2/","title":"ns-3 \u663e\u793a\u7ed3\u679c\u7684\u4f18\u5316\u8c03\u6574","text":""},{"location":"Sci_doc/ns-3/ch2/#61-using-the-logging-module","title":"6.1 Using the Logging Module\uff08\u65e5\u5fd7\u6a21\u5757\uff09","text":"<p>\u5728\u6211\u4eec\u8ba8\u8bba first.cc \u811a\u672c\u65f6\uff0c\u6211\u4eec\u5df2\u7ecf\u7b80\u8981\u4ecb\u7ecd\u4e86 ns-3 \u65e5\u5fd7\u6a21\u5757\u3002\u73b0\u5728\u6211\u4eec\u5c06\u66f4\u8be6\u7ec6\u5730\u4e86\u89e3\u4e00\u4e0b\uff0c\u770b\u770b\u65e5\u5fd7\u5b50\u7cfb\u7edf\u88ab\u8bbe\u8ba1\u7528\u6765\u8986\u76d6\u54ea\u4e9b\u7528\u4f8b\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#11-logging-overview","title":"1.1. Logging Overview","text":"<p>\u8bb8\u591a\u5927\u578b\u7cfb\u7edf\u90fd\u652f\u6301==\u67d0\u79cd\u5f62\u5f0f\u7684\u6d88\u606f\u8bb0\u5f55==\u529f\u80fd\uff0c\u800c ns-3 \u4e5f\u4e0d\u4f8b\u5916\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u53ea\u6709\u9519\u8bef\u6d88\u606f\u88ab\u8bb0\u5f55\u5230\u201c\u64cd\u4f5c\u5458\u63a7\u5236\u53f0\u201d\uff08\u901a\u5e38\u662f Unix \u7cfb\u7edf\u4e2d\u7684 stderr\uff09\u3002\u5728\u5176\u4ed6\u7cfb\u7edf\u4e2d\uff0c\u9664\u4e86\u66f4\u8be6\u7ec6\u7684\u4fe1\u606f\u6d88\u606f\u5916\uff0c\u8fd8\u53ef\u80fd\u8f93\u51fa\u8b66\u544a\u6d88\u606f\u3002\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u8bb0\u5f55\u8bbe\u65bd\u7528\u4e8e\u8f93\u51fa\u8c03\u8bd5\u6d88\u606f\uff0c\u8fd9\u53ef\u80fd\u8fc5\u901f\u4f7f\u8f93\u51fa\u53d8\u5f97\u6a21\u7cca\u3002</p> <p>ns-3 \u8ba4\u4e3a\u6240\u6709\u8fd9\u4e9b\u8be6\u7ec6\u7ea7\u522b\u90fd\u662f\u6709\u7528\u7684\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u79cd\u53ef\u9009\u62e9\u7684\u3001\u591a\u7ea7\u522b\u7684\u6d88\u606f\u8bb0\u5f55\u65b9\u6cd5\u3002\u8bb0\u5f55\u53ef\u4ee5\u5b8c\u5168\u7981\u7528\uff0c\u5728\u7ec4\u4ef6\u7ea7\u522b\u542f\u7528\uff0c\u6216\u5168\u5c40\u542f\u7528\uff1b\u5e76\u63d0\u4f9b\u53ef\u9009\u62e9\u7684\u8be6\u7ec6\u7ea7\u522b\u3002ns-3 \u65e5\u5fd7\u6a21\u5757\uff08logging module\uff09\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u3001\u76f8\u5bf9\u5bb9\u6613\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u53ef\u4ee5\u4ece\u6a21\u62df\u4e2d\u83b7\u53d6\u6709\u7528\u7684\u4fe1\u606f\u3002</p> <p>\u60a8\u5e94\u8be5\u4e86\u89e3\uff0c\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u901a\u7528\u7684\u673a\u5236 \u2014\u2014 tracing\uff08\u8ddf\u8e2a\uff09 \u2014\u2014 \u7528\u4e8e\u4ece\u60a8\u7684\u6a21\u578b\u4e2d\u83b7\u53d6\u6570\u636e\uff0c\u5e94\u4f18\u5148\u7528\u4e8e\u6a21\u62df\u8f93\u51fa\uff08\u6709\u5173\u6211\u4eec\u7684\u8ddf\u8e2a\u7cfb\u7edf\u7684\u66f4\u591a\u8be6\u7ec6\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605\u6559\u7a0b\u90e8\u5206\u201c\u4f7f\u7528\u8ddf\u8e2a\u7cfb\u7edf\u201d\uff09\u3002==\u65e5\u5fd7\u8bb0\u5f55\u5e94\u8be5\u4f18\u5148\u7528\u4e8e\u8c03\u8bd5\u4fe1\u606f\u3001\u8b66\u544a\u3001\u9519\u8bef\u6d88\u606f==\uff0c\u6216\u8005\u4efb\u4f55\u65f6\u5019\u60a8\u60f3\u8f7b\u677e\u5730\u4ece\u811a\u672c\u6216\u6a21\u578b\u4e2d\u83b7\u53d6\u5feb\u901f\u6d88\u606f\u3002</p> <p>\u5f53\u524d\u7cfb\u7edf\u4e2d\u5b9a\u4e49\u4e86\u4e03\u4e2a\u65e5\u5fd7\u6d88\u606f\u7ea7\u522b\uff0c\u5176\u8be6\u7ec6\u7ea7\u522b\u9010\u6e10\u589e\u52a0\u3002</p> <p>LOG_ERROR \u2014 \u8bb0\u5f55\u9519\u8bef\u6d88\u606f\uff08\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_ERROR\uff09\uff1b LOG_WARN \u2014 \u8bb0\u5f55\u8b66\u544a\u6d88\u606f\uff08\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_WARN\uff09\uff1b LOG_DEBUG \u2014 \u8bb0\u5f55\u76f8\u5bf9\u7f55\u89c1\u7684\u3001\u4e34\u65f6\u7684\u8c03\u8bd5\u6d88\u606f\uff08\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_DEBUG\uff09\uff1b LOG_INFO \u2014 \u8bb0\u5f55\u6709\u5173\u7a0b\u5e8f\u8fdb\u5ea6\u7684\u4fe1\u606f\u6d88\u606f\uff08\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_INFO\uff09\uff1b LOG_FUNCTION \u2014 \u8bb0\u5f55\u63cf\u8ff0\u6bcf\u4e2a\u88ab\u8c03\u7528\u51fd\u6570\u7684\u6d88\u606f\uff08\u6709\u4e24\u4e2a\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_FUNCTION\uff0c\u7528\u4e8e\u6210\u5458\u51fd\u6570\uff0c\u4ee5\u53caNS_LOG_FUNCTION_NOARGS\uff0c\u7528\u4e8e\u9759\u6001\u51fd\u6570\uff09\uff1b LOG_LOGIC \u2014 \u8bb0\u5f55\u63cf\u8ff0\u51fd\u6570\u5185\u903b\u8f91\u6d41\u7684\u6d88\u606f\uff08\u5173\u8054\u7684\u5b8f\uff1aNS_LOG_LOGIC\uff09\uff1b LOG_ALL \u2014 \u8bb0\u5f55\u4e0a\u8ff0\u6240\u6709\u5185\u5bb9\uff08\u6ca1\u6709\u5173\u8054\u7684\u5b8f\uff09\u3002</p> <p>\u5bf9\u4e8e\u6bcf\u4e2a LOG_TYPE\uff0c\u8fd8\u6709 LOG_LEVEL_TYPE\uff0c\u5982\u679c\u4f7f\u7528\uff0c\u5c06\u542f\u7528\u5176\u4e0a\u9762\u6240\u6709\u7ea7\u522b\u7684\u8bb0\u5f55\uff0c\u6b64\u5916\u8fd8\u5305\u62ec\u5b83\u7684\u7ea7\u522b\u3002\uff08\u7531\u6b64\u5e26\u6765\u7684\u7ed3\u679c\u662f\uff0cLOG_ERROR \u548c LOG_LEVEL_ERROR\uff0c\u4ee5\u53ca LOG_ALL \u548c LOG_LEVEL_ALL \u5728\u529f\u80fd\u4e0a\u662f\u7b49\u6548\u7684\u3002\uff09\u4f8b\u5982\uff0c\u542f\u7528 LOG_INFO \u5c06\u53ea\u542f\u7528\u7531 NS_LOG_INFO \u5b8f\u63d0\u4f9b\u7684\u6d88\u606f\uff0c\u800c\u542f\u7528 LOG_LEVEL_INFO \u8fd8\u5c06\u542f\u7528\u7531 NS_LOG_DEBUG\u3001NS_LOG_WARN \u548c NS_LOG_ERROR \u5b8f\u63d0\u4f9b\u7684\u6d88\u606f\u3002</p> <p>\u6211\u4eec\u8fd8\u63d0\u4f9b\u4e00\u4e2a\u65e0\u6761\u4ef6\u8bb0\u5f55\u7684\u5b8f\uff0c\u59cb\u7ec8\u663e\u793a\uff0c\u65e0\u8bba\u8bb0\u5f55\u7ea7\u522b\u6216\u7ec4\u4ef6\u9009\u62e9\u5982\u4f55\u3002</p> <p>NS_LOG_UNCOND \u2014 \u65e0\u6761\u4ef6\u8bb0\u5f55\u5173\u8054\u7684\u6d88\u606f\uff08\u6ca1\u6709\u5173\u8054\u7684\u65e5\u5fd7\u7ea7\u522b\uff09\u3002 \u6bcf\u4e2a\u7ea7\u522b\u53ef\u4ee5\u5355\u72ec\u6216\u7d2f\u79ef\u8bf7\u6c42\uff1b\u8bb0\u5f55\u53ef\u4ee5\u4f7f\u7528 shell \u73af\u5883\u53d8\u91cf\uff08NS_LOG\uff09\u6216\u901a\u8fc7\u65e5\u5fd7\u7cfb\u7edf\u51fd\u6570\u8c03\u7528\u8bbe\u7f6e\u3002\u6b63\u5982\u5728\u6559\u7a0b\u4e2d\u524d\u9762\u770b\u5230\u7684\uff0c\u65e5\u5fd7\u7cfb\u7edf\u5177\u6709 Doxygen \u6587\u6863\uff0c\u5982\u679c\u60a8\u8fd8\u6ca1\u6709\u9605\u8bfb\uff0c\u73b0\u5728\u662f\u7814\u7a76\u65e5\u5fd7\u6a21\u5757\u6587\u6863\u7684\u597d\u65f6\u673a\u3002</p> <p>\u65e2\u7136\u60a8\u5df2\u7ecf\u8be6\u7ec6\u9605\u8bfb\u4e86\u6587\u6863\uff0c\u8ba9\u6211\u4eec\u5229\u7528\u5176\u4e2d\u7684\u4e00\u4e9b\u77e5\u8bc6\uff0c\u4ece\u60a8\u5df2\u7ecf\u6784\u5efa\u7684 scratch/myfirst.cc \u793a\u4f8b\u811a\u672c\u4e2d\u83b7\u53d6\u4e00\u4e9b\u6709\u8da3\u7684\u4fe1\u606f\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#12","title":"1.2. \u542f\u7528\u65e5\u5fd7\u8bb0\u5f55","text":"<p>\u8ba9\u6211\u4eec\u4f7f\u7528 NS_LOG \u73af\u5883\u53d8\u91cf\u6765\u589e\u52a0\u4e00\u4e9b\u65e5\u5fd7\u8bb0\u5f55\uff0c\u4f46\u9996\u5148\uff0c\u4e3a\u4e86\u786e\u4fdd\u6211\u4eec\u7684\u65b9\u5411\u6b63\u786e\uff0c\u7ee7\u7eed\u8fd0\u884c\u4e4b\u524d\u7684\u811a\u672c\uff0c\u5c31\u50cf\u4e4b\u524d\u4e00\u6837\uff1a</p> <pre><code>$ ./ns3 run scratch/myfirst\n</code></pre> <p>\u4f60\u5e94\u8be5\u770b\u5230\u7b2c\u4e00\u4e2a ns-3 \u793a\u4f8b\u7a0b\u5e8f\u7684\u719f\u6089\u8f93\u51fa\uff1a</p> <pre><code>At time +2s client sent 1024 bytes to 10.1.1.2 port 9\nAt time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\n</code></pre> <p>\u539f\u6765\u4f60\u5728\u4e0a\u9762\u770b\u5230\u7684 \"Sent\" \u548c \"Received\" \u6d88\u606f\u5b9e\u9645\u4e0a\u662f\u6765\u81ea UdpEchoClientApplication \u548c UdpEchoServerApplication \u7684\u65e5\u5fd7\u6d88\u606f\u2705\u3002\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e\u5176\u65e5\u5fd7\u7ea7\u522b\u6765\u8981\u6c42\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u6253\u5370\u66f4\u591a\u4fe1\u606f\uff0c\u901a\u8fc7 NS_LOG \u73af\u5883\u53d8\u91cf\u3002</p> <p>\u6211\u5c06\u4ece\u8fd9\u91cc\u5f00\u59cb\u5047\u8bbe\u4f60\u4f7f\u7528\u7684\u662f\u7c7b\u4f3c sh \u7684 shell\uff0c\u4f7f\u7528 \"VARIABLE=value\" \u8bed\u6cd5\u3002\u5982\u679c\u4f60\u4f7f\u7528\u7684\u662f\u7c7b\u4f3c csh \u7684 shell\uff0c\u90a3\u4e48\u4f60\u5c06\u4e0d\u5f97\u4e0d\u5c06\u6211\u7684\u793a\u4f8b\u8f6c\u6362\u4e3a\u8fd9\u4e9b shell \u6240\u9700\u7684 \"setenv VARIABLE value\" \u8bed\u6cd5\u3002</p> <p>\u73b0\u5728\uff0cUDP \u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u6b63\u5728\u54cd\u5e94 scratch/myfirst.cc \u4e2d\u7684\u4ee5\u4e0b\u4ee3\u7801\u884c\uff1a</p> <pre><code>LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n</code></pre> <p>==\u6b64\u4ee3\u7801\u884c\u542f\u7528\u4e86 LOG_LEVEL_INFO \u7ea7\u522b\u7684\u65e5\u5fd7==\u8bb0\u5f55\u3002\u5f53\u6211\u4eec\u4f20\u9012\u4e00\u4e2a\u65e5\u5fd7\u7ea7\u522b\u6807\u5fd7\u65f6\uff0c==\u5b9e\u9645\u4e0a\u662f==\u542f\u7528\u7ed9\u5b9a\u7ea7\u522b\u53ca\u4ee5\u4e0b\u6240\u6709\u7ea7\u522b\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5df2\u7ecf\u542f\u7528\u4e86 NS_LOG_INFO\u3001NS_LOG_DEBUG\u3001NS_LOG_WARN \u548c NS_LOG_ERROR\u3002 ==\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u8bbe\u7f6e NS_LOG \u73af\u5883\u53d8\u91cf\u6765\u589e\u52a0\u65e5\u5fd7\u7ea7\u522b==\uff0c\u4ee5\u4fbf\u5728\u4e0d\u66f4\u6539\u811a\u672c\u548c\u91cd\u65b0\u7f16\u8bd1\u7684\u60c5\u51b5\u4e0b\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>$ export NS_LOG=UdpEchoClientApplication=level_all\n</code></pre> <p>\u8fd9\u5c06\u628a shell \u73af\u5883\u53d8\u91cf NS_LOG \u8bbe\u7f6e\u4e3a\u5b57\u7b26\u4e32\uff1a</p> <pre><code>UdpEchoClientApplication=level_all\n</code></pre> <p>\u8d4b\u503c\u8bed\u53e5\u7684\u5de6\u4fa7\u662f\u6211\u4eec\u8981\u8bbe\u7f6e\u7684\u65e5\u5fd7\u7ec4\u4ef6\u7684\u540d\u79f0\uff0c\u53f3\u4fa7\u662f\u6211\u4eec\u8981\u4f7f\u7528\u7684\u6807\u5fd7\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5c06\u6253\u5f00\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u8c03\u8bd5\u7ea7\u522b\u3002\u5982\u679c\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u8bbe\u7f6e NS_LOG \u8fd0\u884c\u811a\u672c\uff0cns-3 \u65e5\u5fd7\u7cfb\u7edf\u5c06\u68c0\u6d4b\u5230\u66f4\u6539\uff0c\u4f60\u5e94\u8be5\u770b\u5230\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u8f93\u51fa\uff1a</p> <pre><code>UdpEchoClientApplication:UdpEchoClient(0xef90d0)\nUdpEchoClientApplication:SetDataSize(0xef90d0, 1024)\nUdpEchoClientApplication:StartApplication(0xef90d0)\nUdpEchoClientApplication:ScheduleTransmit(0xef90d0, +0ns)\nUdpEchoClientApplication:Send(0xef90d0)\nAt time +2s client sent 1024 bytes to 10.1.1.2 port 9\nAt time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nUdpEchoClientApplication:HandleRead(0xef90d0, 0xee7b20)\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\nUdpEchoClientApplication:StopApplication(0xef90d0)\nUdpEchoClientApplication:DoDispose(0xef90d0)\nUdpEchoClientApplication:~UdpEchoClient(0xef90d0)\n</code></pre> <p>\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u7684\u9644\u52a0\u8c03\u8bd5\u4fe1\u606f\u6765\u81ea NS_LOG_FUNCTION \u7ea7\u522b\u3002\u8fd9\u663e\u793a\u4e86\u5728\u811a\u672c\u6267\u884c\u671f\u95f4\u6bcf\u6b21\u8c03\u7528\u5e94\u7528\u7a0b\u5e8f\u4e2d\u7684\u51fd\u6570\u7684\u65f6\u95f4\u3002\u901a\u5e38\uff0c\u5728\u6210\u5458\u51fd\u6570\u4e2d\u4f7f\u7528\uff08\u81f3\u5c11\uff09NS_LOG_FUNCTION(this)\u662f\u9996\u9009\u7684\u3002\u4ec5\u5728\u9759\u6001\u51fd\u6570\u4e2d\u4f7f\u7528 NS_LOG_FUNCTION_NOARGS()\u3002\u7136\u800c\uff0c\u8bf7\u6ce8\u610f\uff0c\u5728 ns-3 \u7cfb\u7edf\u4e2d\uff0c\u6ca1\u6709\u5fc5\u987b\u652f\u6301\u4efb\u4f55\u7279\u5b9a\u65e5\u5fd7\u529f\u80fd\u7684\u6a21\u578b\u7684\u8981\u6c42\u3002\u6709\u5173\u8bb0\u5f55\u591a\u5c11\u4fe1\u606f\u7684\u51b3\u5b9a\u7559\u7ed9\u4e86\u5404\u4e2a\u6a21\u578b\u5f00\u53d1\u4eba\u5458\u3002\u5728\u56de\u58f0\u5e94\u7528\u7a0b\u5e8f\u7684\u60c5\u51b5\u4e0b\uff0c\u63d0\u4f9b\u4e86\u76f8\u5f53\u591a\u7684\u65e5\u5fd7\u8f93\u51fa\u3002</p> <p>\u73b0\u5728\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u51fd\u6570\u8c03\u7528\u7684\u65e5\u5fd7\u3002==\u5982\u679c\u4f60\u4ed4\u7ec6\u89c2\u5bdf\uff0c\u4f60\u4f1a\u6ce8\u610f\u5230\u5b57\u7b26\u4e32 \"UdpEchoClientApplication\" \u548c\u4f60\u53ef\u80fd\u671f\u671b\u770b\u5230 C++ \u4f5c\u7528\u57df\u8fd0\u7b97\u7b26 (::) \u7684\u65b9\u6cd5\u540d\u4e4b\u95f4\u6709\u4e00\u4e2a\u5192\u53f7\u800c\u4e0d\u662f\u4e24\u4e2a\u5192\u53f7\u3002\u8fd9\u662f\u6709\u610f\u7684\u3002==</p> <p>\u8be5\u540d\u79f0\u5b9e\u9645\u4e0a\u4e0d\u662f\u7c7b\u540d\uff0c\u800c\u662f\u65e5\u5fd7\u7ec4\u4ef6\u540d\u3002\u5f53\u6e90\u6587\u4ef6\u548c\u7c7b\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\u65f6\uff0c\u901a\u5e38\u8fd9\u5c06\u662f\u7c7b\u540d\uff0c\u4f46\u4f60\u5e94\u8be5\u7406\u89e3\u5b83\u5b9e\u9645\u4e0a\u4e0d\u662f\u7c7b\u540d\uff0c\u800c\u4e14\u5728\u8fd9\u91cc\u4f7f\u7528\u5355\u5192\u53f7\u800c\u4e0d\u662f\u53cc\u5192\u53f7\u662f\u4e3a\u4e86\u4ee5\u76f8\u5bf9\u5fae\u5999\u7684\u65b9\u5f0f\u63d0\u9192\u4f60\u5c06\u65e5\u5fd7\u7ec4\u4ef6\u540d\u4ece\u7c7b\u540d\u4e2d\u6982\u5ff5\u4e0a\u5206\u79bb\u5f00\u6765\u3002</p> <p>\u4e8b\u5b9e\u8bc1\u660e\uff0c\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u786e\u5b9a\u54ea\u4e2a\u65b9\u6cd5\u5b9e\u9645\u4e0a\u751f\u6210\u4e86\u65e5\u5fd7\u6d88\u606f\u53ef\u80fd\u5f88\u96be\u3002 \u5982\u679c\u4f60\u67e5\u770b\u4e0a\u9762\u7684\u6587\u672c\uff0c\u4f60\u53ef\u80fd\u4f1a\u60f3\u77e5\u9053\u5b57\u7b26\u4e32 \"Received 1024 bytes from 10.1.1.2\" \u6765\u81ea\u4f55\u5904\u3002 \u4f60\u53ef\u4ee5\u901a\u8fc7\u5c06 prefix_func \u7ea7\u522b OR \u5230 NS_LOG \u73af\u5883\u53d8\u91cf\u4e2d\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u5c1d\u8bd5\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>$ export 'NS_LOG=UdpEchoClientApplication=level_all|prefix_func' // \u663e\u5f0f\u58f0\u660e\u6240\u6709Client\u53d1\u51fa\u7684\u6d88\u606f\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u5f15\u53f7\u662f\u5fc5\u9700\u7684\uff0c\u56e0\u4e3a\u6211\u4eec\u7528\u6765\u8868\u793a OR \u64cd\u4f5c\u7684\u5782\u76f4\u7ebf\u4e5f\u662f Unix \u7ba1\u9053\u8fde\u63a5\u5668\u3002</p> <p>\u73b0\u5728\uff0c\u5982\u679c\u4f60\u8fd0\u884c\u811a\u672c\uff0c\u4f60\u5c06\u770b\u5230\u65e5\u5fd7\u7cfb\u7edf\u786e\u4fdd==\u6765\u81ea\u7ed9\u5b9a\u65e5\u5fd7\u7ec4\u4ef6\u7684\u6bcf\u6761\u6d88\u606f\u90fd\u4ee5\u7ec4\u4ef6\u540d\u4e3a\u524d\u7f00\u3002==</p> <pre><code>UdpEchoClientApplication:UdpEchoClient(0xea8e50)\nUdpEchoClientApplication:SetDataSize(0xea8e50, 1024)\nUdpEchoClientApplication:StartApplication(0xea8e50)\nUdpEchoClientApplication:ScheduleTransmit(0xea8e50, +0ns)\nUdpEchoClientApplication:Send(0xea8e50)\nAt time +2s client sent 1024 bytes to 10.1.1.2 port 9\nAt time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nUdpEchoClientApplication:HandleRead(0xea8e50, 0xea5b20)\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\nUdpEchoClientApplication:StopApplication(0xea8e50)\nUdpEchoClientApplication:DoDispose(0xea8e50)\nUdpEchoClientApplication:~UdpEchoClient(0xea8e50)\n</code></pre> <p>\u73b0\u5728\uff0cUDP \u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u751f\u6210\u7684\u6240\u6709\u6d88\u606f\u90fd\u88ab\u660e\u786e\u6807\u8bc6\u4e3a\u6b64\u7c7b\u6d88\u606f\u3002\u5b57\u7b26\u4e32 \"Received 1024 bytes from 10.1.1.2\" \u73b0\u5728\u6e05\u695a\u5730\u6807\u8bc6\u4e3a\u6765\u81ea\u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u6d88\u606f\u3002</p> <p>\u6b64\u5916\uff0c\u5728\u5927\u591a\u6570\u65e5\u5fd7\u8bed\u53e5\u4e2d\uff0c\u4f60\u5c06\u770b\u5230\u6253\u5370\u51fa\u5341\u516d\u8fdb\u5236\u503c\uff0c\u5982 0xea8e50\uff1b\u8fd9\u662f\u56e0\u4e3a\u5927\u591a\u6570\u8bed\u53e5\u4f1a\u6253\u5370\u51fa C++ this \u6307\u9488\u7684\u503c\uff0c\u4ee5\u4fbf\u53ef\u4ee5\u533a\u5206\u5bf9\u8c61\u3002\u5269\u4e0b\u7684\u6d88\u606f\u5fc5\u987b\u6765\u81ea UDP \u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u5728 NS_LOG \u73af\u5883\u53d8\u91cf\u4e2d\u8f93\u5165\u4e00\u4e2a\u4ee5\u5192\u53f7\u5206\u9694\u7684\u7ec4\u4ef6\u5217\u8868\u6765\u542f\u7528\u8be5\u7ec4\u4ef6\u3002</p> <p><pre><code>$ export 'NS_LOG=UdpEchoClientApplication=level_all|prefix_func:      // \u663e\u5f0f\u58f0\u660e\u6240\u6709Client\u53d1\u51fa\u7684\u6d88\u606f\n               UdpEchoServerApplication=level_all|prefix_func'        // \u663e\u5f0f\u58f0\u660e\u6240\u6709Server\u53d1\u51fa\u7684\u6d88\u606f\n</code></pre> \u8b66\u544a\uff1a\u4f60\u9700\u8981\u5220\u9664\u4e0a\u8ff0\u793a\u4f8b\u6587\u672c\u4e2d\u5192\u53f7\u540e\u7684\u6362\u884c\u7b26\uff0c\u8fd9\u53ea\u662f\u4e3a\u4e86\u6587\u6863\u683c\u5f0f\u800c\u5b58\u5728\u7684\u3002</p> <p>\u73b0\u5728\uff0c\u5982\u679c\u4f60\u8fd0\u884c\u811a\u672c\uff0c\u4f60\u5c06\u770b\u5230\u6765\u81ea\u56de\u58f0\u5ba2\u6237\u7aef\u548c\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u7684\u6240\u6709\u65e5\u5fd7\u6d88\u606f\u3002\u4f60\u53ef\u80fd\u4f1a\u53d1\u73b0\u8fd9\u5728\u8c03\u8bd5\u95ee\u9898\u65f6\u975e\u5e38\u6709\u7528\u3002</p> <pre><code>UdpEchoServerApplication:UdpEchoServer(0x2101590)\nUdpEchoClientApplication:UdpEchoClient(0x2101820)\nUdpEchoClientApplication:SetDataSize(0x2101820, 1024)\nUdpEchoServerApplication:StartApplication(0x2101590)\nUdpEchoClientApplication:StartApplication(0x2101820)\nUdpEchoClientApplication:ScheduleTransmit(0x2101820, +0ns)\nUdpEchoClientApplication:Send(0x2101820)\nUdpEchoClientApplication:Send(): At time +2s client sent 1024 bytes to 10.1.1.2 port 9\nUdpEchoServerApplication:HandleRead(0x2101590, 0x2106240)\nUdpEchoServerApplication:HandleRead(): At time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nUdpEchoServerApplication:HandleRead(): Echoing packet\nUdpEchoServerApplication:HandleRead(): At time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nUdpEchoClientApplication:HandleRead(0x2101820, 0x21134b0)\nUdpEchoClientApplication:HandleRead(): At time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\nUdpEchoClientApplication:StopApplication(0x2101820)\nUdpEchoServerApplication:StopApplication(0x2101590)\nUdpEchoClientApplication:DoDispose(0x2101820)\nUdpEchoServerApplication:DoDispose(0x2101590)\nUdpEchoClientApplication:~UdpEchoClient(0x2101820)\nUdpEchoServerApplication:~UdpEchoServer(0x2101590)\n</code></pre> <p>\u6709\u65f6\u5019\uff0c\u80fd\u591f\u770b\u5230\u751f\u6210\u65e5\u5fd7\u6d88\u606f\u7684\u6a21\u62df\u65f6\u95f4\u4e5f\u662f\u5f88\u6709\u7528\u7684\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7 OR \u8fd0\u7b97\u7b26\u6dfb\u52a0 prefix_time \u4f4d\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002</p> <pre><code>$ export 'NS_LOG=UdpEchoClientApplication=level_all|prefix_func|prefix_time: // \u663e\u5f0f\u58f0\u660e\u6240\u6709Client\u53d1\u51fa\u7684\u6d88\u606fand\u751f\u6210\u6d88\u606f\u7684\u65f6\u95f4\n               UdpEchoServerApplication=level_all|prefix_func|prefix_time'   // \u663e\u5f0f\u58f0\u660e\u6240\u6709Server\u53d1\u51fa\u7684\u6d88\u606fand\u751f\u6210\u6d88\u606f\u7684\u65f6\u95f4\n</code></pre> <p>\u60a8\u73b0\u5728\u9700\u8981\u79fb\u9664\u4e0a\u9762\u7684\u6362\u884c\u7b26\u3002\u5982\u679c\u73b0\u5728\u8fd0\u884c\u811a\u672c\uff0c\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <p><pre><code>+0.000000000s UdpEchoServerApplication:UdpEchoServer(0x8edfc0)\n+0.000000000s UdpEchoClientApplication:UdpEchoClient(0x8ee210)\n+0.000000000s UdpEchoClientApplication:SetDataSize(0x8ee210, 1024)\n+1.000000000s UdpEchoServerApplication:StartApplication(0x8edfc0)\n+2.000000000s UdpEchoClientApplication:StartApplication(0x8ee210)\n+2.000000000s UdpEchoClientApplication:ScheduleTransmit(0x8ee210, +0ns)\n+2.000000000s UdpEchoClientApplication:Send(0x8ee210)\n+2.000000000s UdpEchoClientApplication:Send(): At time +2s client sent 1024 bytes to 10.1.1.2 port 9\n+2.003686400s UdpEchoServerApplication:HandleRead(0x8edfc0, 0x936770)\n+2.003686400s UdpEchoServerApplication:HandleRead(): At time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\n+2.003686400s UdpEchoServerApplication:HandleRead(): Echoing packet\n+2.003686400s UdpEchoServerApplication:HandleRead(): At time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\n+2.007372800s UdpEchoClientApplication:HandleRead(0x8ee210, 0x8f3140)\n+2.007372800s UdpEchoClientApplication:HandleRead(): At time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\n+10.000000000s UdpEchoClientApplication:StopApplication(0x8ee210)\n+10.000000000s UdpEchoServerApplication:StopApplication(0x8edfc0)\nUdpEchoClientApplication:DoDispose(0x8ee210)\nUdpEchoServerApplication:DoDispose(0x8edfc0)\nUdpEchoClientApplication:~UdpEchoClient(0x8ee210)\nUdpEchoServerApplication:~UdpEchoServer(0x8edfc0)\n</code></pre> \uff08\u770b\u884c\u9996\uff01\u53ef\u4ee5\u6e05\u6670\u5730\u5f97\u51fa\u65f6\u95f4\u8f74\uff01\uff09 \u60a8\u53ef\u4ee5\u770b\u5230\uff0cUdpEchoServer \u7684\u6784\u9020\u51fd\u6570\u5728\u6a21\u62df\u65f6\u95f4\u4e3a 0 \u79d2\u65f6\u88ab\u8c03\u7528\u3002\u5b9e\u9645\u4e0a\uff0c\u8fd9\u662f\u5728\u6a21\u62df\u5f00\u59cb\u4e4b\u524d\u53d1\u751f\u7684\uff0c\u4f46\u65f6\u95f4\u663e\u793a\u4e3a\u96f6\u79d2\u3002\u5bf9\u4e8e UdpEchoClient \u6784\u9020\u51fd\u6570\u7684\u6d88\u606f\u4e5f\u662f\u4e00\u6837\u7684\u3002</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0cscratch/myfirst.cc \u811a\u672c\u5728\u6a21\u62df\u5f00\u59cb\u540e\u7684\u4e00\u79d2\u949f\u542f\u52a8\u4e86\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u3002\u73b0\u5728\u60a8\u53ef\u4ee5\u770b\u5230\u670d\u52a1\u5668\u7684 StartApplication \u65b9\u6cd5\u5b9e\u9645\u4e0a\u5728\u4e00\u79d2\u949f\u65f6\u88ab\u8c03\u7528\u3002\u60a8\u8fd8\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u5728\u811a\u672c\u4e2d\u8bf7\u6c42\u7684\u65f6\u523b\uff0c\u5373\u4e24\u79d2\u65f6\u542f\u52a8\u4e86\u56de\u663e\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u3002</p> <p>\u60a8\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\u5728\u5ba2\u6237\u7aef\u7684 ScheduleTransmit \u8c03\u7528\u5230\u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u7684 HandleRead \u56de\u8c03\u4e2d\u8ddf\u8e2a\u6a21\u62df\u7684\u8fdb\u5ea6\u3002\u6ce8\u610f\uff0c\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u70b9\u5bf9\u70b9\u94fe\u8def\u7684\u7ecf\u8fc7\u65f6\u95f4\u4e3a 3.69 \u6beb\u79d2\u3002\u60a8\u4f1a\u770b\u5230\u56de\u663e\u670d\u52a1\u5668\u8bb0\u5f55\u4e00\u6761\u6d88\u606f\uff0c\u544a\u8bc9\u60a8\u5b83\u5df2\u7ecf\u56de\u663e\u4e86\u6570\u636e\u5305\uff0c\u7136\u540e\uff0c\u5728\u53e6\u4e00\u6b21\u4fe1\u9053\u5ef6\u8fdf\u540e\uff0c\u60a8\u4f1a\u770b\u5230\u56de\u663e\u5ba2\u6237\u7aef\u5728\u5176 HandleRead \u65b9\u6cd5\u4e2d\u63a5\u6536\u5230\u4e86\u56de\u663e\u7684\u6570\u636e\u5305\u3002</p> <p>\u5728\u6b64\u6a21\u62df\u4e2d\uff0c\u53d1\u751f\u4e86\u5f88\u591a\u60a8\u770b\u4e0d\u5230\u7684\u4e8b\u60c5\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u5728\u7cfb\u7edf\u4e2d\u6253\u5f00\u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u7ec4\u4ef6\u6765\u8f7b\u677e\u8ddf\u8e2a\u6574\u4e2a\u8fc7\u7a0b\u3002\u5c1d\u8bd5\u5c06 NS_LOG \u53d8\u91cf\u8bbe\u7f6e\u4e3a\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>$ export 'NS_LOG=*=level_all|prefix_func|prefix_time'\n</code></pre> <p>\u4e0a\u9762\u7684\u661f\u53f7\u662f\u65e5\u5fd7\u7ec4\u4ef6\u901a\u914d\u7b26\u3002\u8fd9\u5c06\u5728\u6a21\u62df\u4e2d\u4f7f\u7528\u7684\u6240\u6709\u7ec4\u4ef6\u4e2d\u6253\u5f00\u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u3002\u6211\u4e0d\u4f1a\u5728\u6b64\u5904\u590d\u5236\u8f93\u51fa\uff08\u622a\u81f3\u64b0\u5199\u672c\u6587\u65f6\uff0c\u5bf9\u4e8e\u5355\u4e2a\u6570\u636e\u5305\u7684\u56de\u663e\uff0c\u5b83\u4ea7\u751f\u6570\u5343\u884c\u8f93\u51fa\uff09\uff0c\u4f46\u5982\u679c\u60a8\u613f\u610f\uff0c\u60a8\u53ef\u4ee5\u5c06\u6b64\u4fe1\u606f\u91cd\u5b9a\u5411\u5230\u6587\u4ef6\u4e2d\uff0c\u5e76\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u67e5\u770b\uff0c</p>"},{"location":"Sci_doc/ns-3/ch2/#recommend","title":"==recommend \u8c03\u8bd5\u547d\u4ee4==","text":"<pre><code>$ ./ns3 run scratch/myfirst &gt; log.out 2&gt;&amp;1\n</code></pre> <p>\u5f53\u6211\u9047\u5230\u95ee\u9898\u800c\u53c8\u4e0d\u77e5\u9053\u54ea\u91cc\u51fa\u4e86\u95ee\u9898\u65f6\uff0c\u6211\u4e2a\u4eba\u4f1a\u4f7f\u7528\u8fd9\u79cd\u975e\u5e38\u8be6\u7ec6\u7684\u65e5\u5fd7\u8bb0\u5f55\u3002\u6211\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u8ddf\u8e2a\u4ee3\u7801\u7684\u8fdb\u5c55\uff0c\u800c\u65e0\u9700\u8bbe\u7f6e\u65ad\u70b9\u5e76\u5728\u8c03\u8bd5\u5668\u4e2d\u9010\u6b65\u6267\u884c\u4ee3\u7801\u3002\u6211\u53ea\u9700\u5728\u6211\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u7f16\u8f91\u8f93\u51fa\uff0c\u641c\u7d22\u6211\u671f\u671b\u7684\u4e8b\u7269\uff0c\u5e76\u67e5\u770b\u6211\u4e0d\u671f\u671b\u53d1\u751f\u7684\u4e8b\u7269\u3002\u5f53\u6211\u5bf9\u95ee\u9898\u7684\u53d1\u751f\u6709\u4e00\u4e2a\u5927\u81f4\u7684\u60f3\u6cd5\u65f6\uff0c\u6211\u4f1a\u5207\u6362\u5230\u8c03\u8bd5\u5668\uff0c\u8fdb\u884c\u5bf9\u95ee\u9898\u7684\u7cbe\u7ec6\u68c0\u67e5\u3002\u5f53\u811a\u672c\u6267\u884c\u67d0\u4e9b\u5b8c\u5168\u51fa\u4e4e\u610f\u6599\u7684\u64cd\u4f5c\u65f6\uff0c\u6b64\u7c7b\u8f93\u51fa\u5c24\u5176\u6709\u7528\u3002\u5982\u679c\u60a8\u5728\u8c03\u8bd5\u5668\u4e2d\u9010\u6b65\u6267\u884c\uff0c\u60a8\u53ef\u80fd\u4f1a\u5b8c\u5168\u9519\u8fc7\u610f\u5916\u7684\u6267\u884c\u3002\u8bb0\u5f55\u4e0b\u8fd9\u4e00\u8fc7\u7a0b\u4f7f\u5176\u8fc5\u901f\u53ef\u89c1\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#13","title":"1.3. \u624b\u52a8\u5c06\u65e5\u5fd7\u52a0\u5165\u4ee3\u7801","text":"<p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u51e0\u4e2a\u5b8f\u8c03\u7528\u6765\u5411\u60a8\u7684\u6a21\u62df\u6dfb\u52a0\u65b0\u7684\u65e5\u5fd7\u8bb0\u5f55\u3002\u8ba9\u6211\u4eec\u5728\u6211\u4eec\u5728 scratch \u76ee\u5f55\u4e2d\u7684 myfirst.cc \u811a\u672c\u4e2d\u8fdb\u884c\u6b64\u64cd\u4f5c\u3002</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5728\u8be5\u811a\u672c\u4e2d\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65e5\u5fd7\u7ec4\u4ef6\uff1a</p> <pre><code>NS_LOG_COMPONENT_DEFINE(\"FirstScriptExample\");\n</code></pre> <p>\u60a8\u73b0\u5728\u77e5\u9053\uff0c\u901a\u8fc7\u5c06 NS_LOG \u73af\u5883\u53d8\u91cf\u8bbe\u7f6e\u4e3a\u5404\u4e2a\u7ea7\u522b\uff0c\u53ef\u4ee5\u542f\u7528\u6b64\u7ec4\u4ef6\u7684\u6240\u6709\u65e5\u5fd7\u8bb0\u5f55\u3002\u8ba9\u6211\u4eec\u7ee7\u7eed\u5728\u811a\u672c\u4e2d\u6dfb\u52a0\u4e00\u4e9b\u65e5\u5fd7\u8bb0\u5f55\u3002==\u7528\u4e8e\u6dfb\u52a0\u4fe1\u606f\u7ea7\u522b\u65e5\u5fd7\u6d88\u606f\u7684\u5b8f\u662f <code>NS_LOG_INFO</code>==\u3002\u5728\u521b\u5efa\u8282\u70b9\u4e4b\u524d\u7684\u4ee3\u7801\u6bb5\u4e2d\u6dfb\u52a0\u4e00\u6761\u6d88\u606f\uff0c\u544a\u8bc9\u60a8\u811a\u672c\u6b63\u5728\u201c\u521b\u5efa\u62d3\u6251\u201d\u3002\u4ee3\u7801\u5982\u4e0b\uff1a</p> <p>\u6253\u5f00\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u5e76\u5728 <code>scratch/myfirst.cc</code> \u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1a</p> <pre><code>NS_LOG_INFO(\"Creating Topology\"); // \u4f60\u53ef\u4ee5\u76f4\u63a5\u7c7b\u6bd4\u4e8e\u201ccout\u201d\uff01\n</code></pre> <p>\u6dfb\u52a0\u5728\u4ee5\u4e0b\u884c\u4e4b\u524d\uff0c</p> <pre><code>NodeContainer nodes;\nnodes.Create(2);\n</code></pre> <p>\u73b0\u5728\u4f7f\u7528 ns3 \u6784\u5efa\u811a\u672c\uff0c\u5e76\u6e05\u9664\u4e4b\u524d\u542f\u7528\u7684\u5927\u91cf\u65e5\u5fd7\u8bb0\u5f55\u7684 NS_LOG \u53d8\u91cf\uff1a</p> <pre><code>$ ./ns3\n$ export NS_LOG=\"\"\n</code></pre> <p>\u73b0\u5728\uff0c\u5982\u679c\u8fd0\u884c\u811a\u672c\uff0c</p> <pre><code>$ ./ns3 run scratch/myfirst\n</code></pre> <p>\u60a8\u5c06\u770b\u4e0d\u5230\u65b0\u6d88\u606f\uff0c\u56e0\u4e3a\u5176\u5173\u8054\u7684\u65e5\u5fd7\u7ec4\u4ef6\uff08<code>FirstScriptExample</code>\uff09\u5c1a\u672a\u542f\u7528\u3002</p> <p>\u4e3a\u4e86\u770b\u5230\u6d88\u606f\uff0c\u60a8\u5fc5\u987b\u901a\u8fc7\u8bbe\u7f6e\u7ea7\u522b\u5927\u4e8e\u6216\u7b49\u4e8e <code>NS_LOG_INFO</code> \u7684 <code>FirstScriptExample</code> \u65e5\u5fd7\u7ec4\u4ef6\u3002\u5982\u679c\u60a8\u53ea\u60f3\u770b\u5230\u6b64\u7279\u5b9a\u7ea7\u522b\u7684\u65e5\u5fd7\u8bb0\u5f55\uff0c\u53ef\u4ee5\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u542f\u7528\u5b83\uff1a</p> <pre><code>$ export NS_LOG=FirstScriptExample=info\n</code></pre> <p>\u5982\u679c\u73b0\u5728\u8fd0\u884c\u811a\u672c\uff0c\u60a8\u5c06\u770b\u5230\u60a8\u7684\u65b0\u7684\u201cCreating Topology\u201d\u65e5\u5fd7\u6d88\u606f\uff1a</p> <pre><code>Creating Topology\nAt time +2s client sent 1024 bytes to 10.1.1.2 port 9\nAt time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\n</code></pre>"},{"location":"Sci_doc/ns-3/ch2/#62-using-command-line-arguments","title":"6.2. Using Command Line Arguments","text":""},{"location":"Sci_doc/ns-3/ch2/#621-overriding-default-attributes","title":"6.2.1. Overriding Default Attributes","text":"<p>\u60a8\u53ef\u4ee5==\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u66f4\u6539 ns-3 \u811a\u672c\u7684\u884c\u4e3a==\uff0c\u800c\u65e0\u9700\u7f16\u8f91\u548c\u6784\u5efa\u3002\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u79cd\u89e3\u6790\u547d\u4ee4\u884c\u53c2\u6570\u5e76\u6839\u636e\u8fd9\u4e9b\u53c2\u6570\u81ea\u52a8\u8bbe\u7f6e\u672c\u5730\u548c\u5168\u5c40\u53d8\u91cf\u7684\u673a\u5236\u3002</p> <p>\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u7cfb\u7edf\u7684\u7b2c\u4e00\u6b65\u662f\u58f0\u660e\u547d\u4ee4\u884c\u89e3\u6790\u5668\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728\u4e3b\u7a0b\u5e8f\u4e2d\u6267\u884c\u4ee5\u4e0b\u4ee3\u7801\u6765\u7b80\u5355\u5b9e\u73b0\uff1a</p> <pre><code>int main(int argc, char *argv[])\n{\n  ...\n\n  CommandLine cmd;\n  cmd.Parse(argc, argv);\n\n  ...\n}\n</code></pre> <p>\u8fd9\u7b80\u5355\u7684\u4e24\u884c\u4ee3\u7801\u7247\u6bb5\u672c\u8eab\u5b9e\u9645\u4e0a\u975e\u5e38\u6709\u7528\u3002\u5b83\u4e3a ns-3 \u5168\u5c40\u53d8\u91cf\u548c\u5c5e\u6027\u7cfb\u7edf\u6253\u5f00\u4e86\u5927\u95e8\u3002\u8bf7\u5728 <code>scratch/myfirst.cc</code> \u811a\u672c\u7684 main \u51fd\u6570\u5f00\u59cb\u5904\u6dfb\u52a0\u8fd9\u4e24\u884c\u4ee3\u7801\u3002\u6784\u5efa\u811a\u672c\u5e76\u8fd0\u884c\u5b83\uff0c\u4f46\u901a\u8fc7\u4ee5\u4e0b\u65b9\u5f0f\u5411\u811a\u672c\u8bf7\u6c42\u5e2e\u52a9\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst --PrintHelp\"\n</code></pre> <p>\u8fd9\u5c06\u8981\u6c42 ns3 \u8fd0\u884c <code>scratch/myfirst</code> \u811a\u672c\u5e76\u5c06\u547d\u4ee4\u884c\u53c2\u6570 <code>--PrintHelp</code> \u4f20\u9012\u7ed9\u811a\u672c\u3002\u5f15\u53f7\u662f\u5fc5\u9700\u7684\uff0c\u4ee5\u89e3\u51b3\u54ea\u4e2a\u7a0b\u5e8f\u83b7\u5f97\u54ea\u4e2a\u53c2\u6570\u7684\u95ee\u9898\u3002\u547d\u4ee4\u884c\u89e3\u6790\u5668\u73b0\u5728\u5c06\u770b\u5230 <code>--PrintHelp</code> \u53c2\u6570\u5e76\u56de\u590d\uff1a</p> <pre><code>myfirst [General Arguments]\nGeneral Arguments:\n  --PrintGlobals:              Print the list of globals.\n  --PrintGroups:               Print the list of groups.\n  --PrintGroup=[group]:        Print all TypeIds of group.\n  --PrintTypeIds:              Print all TypeIds.\n  --PrintAttributes=[typeid]:  Print all attributes of typeid.\n  --PrintVersion:              Print the ns-3 version.\n  --PrintHelp:                 Print this help message.\n</code></pre> <p>\u8ba9\u6211\u4eec\u4e13\u6ce8\u4e8e <code>--PrintAttributes</code> \u9009\u9879\u3002\u6211\u4eec\u5728\u904d\u5386 <code>first.cc</code> \u811a\u672c\u65f6\u5df2\u7ecf\u63d0\u5230\u4e86 ns-3 \u5c5e\u6027\u7cfb\u7edf\u3002\u6211\u4eec\u770b\u8fc7\u4ee5\u4e0b\u4ee3\u7801\u884c\uff1a</p> <pre><code>PointToPointHelper pointToPoint;\npointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\npointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n</code></pre> <p>\u5e76\u63d0\u5230 <code>DataRate</code> \u5b9e\u9645\u4e0a\u662f <code>PointToPointNetDevice</code> \u7684\u4e00\u4e2a\u5c5e\u6027\u3002\u8ba9==\u6211\u4eec\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u89e3\u6790\u5668\u67e5\u770b <code>PointToPointNetDevice</code> \u7684\u5c5e\u6027==\u3002\u5e2e\u52a9\u5217\u8868\u8bf4\u6211\u4eec\u5e94\u8be5\u63d0\u4f9b==\u4e00\u4e2a <code>TypeId</code>\u3002\u8fd9\u5bf9\u5e94\u4e8e\u5c5e\u6027\u5c5e\u4e8e\u7684\u7c7b\u7684\u7c7b\u540d==\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5b83\u5c06\u662f <code>ns3::PointToPointNetDevice</code>\u3002\u8ba9\u6211\u4eec\u7ee7\u7eed\u952e\u5165\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst --PrintAttributes=ns3::PointToPointNetDevice\"\n</code></pre> <p>\u7cfb\u7edf\u5c06\u6253\u5370\u51fa\u6b64\u7c7b\u7f51\u7edc\u8bbe\u5907\u7684\u6240\u6709\u5c5e\u6027\u3002\u5728\u5217\u51fa\u7684\u5c5e\u6027\u4e2d\uff0c\u60a8\u5c06\u770b\u5230\uff1a</p> <pre><code>--ns3::PointToPointNetDevice::DataRate=[32768bps]:\n  The default data rate for point to point links\n</code></pre> <p>\u8fd9\u662f\u5728\u7cfb\u7edf\u4e2d\u521b\u5efa <code>PointToPointNetDevice</code> \u65f6\u5c06\u4f7f\u7528\u7684\u9ed8\u8ba4\u503c\u3002\u6211\u4eec\u901a\u8fc7\u4e0a\u9762 <code>PointToPointHelper</code> \u4e2d\u7684\u5c5e\u6027\u8bbe\u7f6e\u8986\u76d6\u4e86\u8fd9\u4e2a\u9ed8\u8ba4\u503c\u3002</p> <p>\u8ba9\u6211\u4eec\u4f7f\u7528\u70b9\u5bf9\u70b9\u8bbe\u5907\u548c\u901a\u9053\u7684\u9ed8\u8ba4\u503c\uff0c\u5220\u9664 <code>myfirst.cc</code> \u4e2d\u7684 <code>SetDeviceAttribute</code> \u8c03\u7528\u548c <code>SetChannelAttribute</code> \u8c03\u7528\u3002</p> <p>\u73b0\u5728\uff0c\u60a8\u7684\u811a\u672c\u5e94\u8be5\u53ea\u58f0\u660e <code>PointToPointHelper</code>\uff0c\u5e76\u50cf\u4ee5\u4e0b\u793a\u4f8b\u4e00\u6837\u4e0d\u6267\u884c\u4efb\u4f55\u8bbe\u7f6e\u64cd\u4f5c\uff1a</p> <pre><code>...\n\nNodeContainer nodes;\nnodes.Create(2);\n\nPointToPointHelper pointToPoint;\n\nNetDeviceContainer devices;\ndevices = pointToPoint.Install(nodes);\n\n...\n</code></pre> <p>\u4f7f\u7528 ns3 \u6784\u5efa\u65b0\u811a\u672c (<code>./ns3</code>)\uff0c\u7136\u540e\u8ba9\u6211\u4eec\u8fd4\u56de\u5e76\u4ece UDP \u56de\u663e\u670d\u52a1\u5668\u5e94\u7528\u7a0b\u5e8f\u542f\u7528\u4e00\u4e9b\u65e5\u5fd7\u8bb0\u5f55\uff0c\u5e76\u6253\u5f00\u65f6\u95f4\u524d\u7f00\u3002</p> <pre><code>$ export 'NS_LOG=UdpEchoServerApplication=level_all|prefix_time'\n</code></pre> <p>\u5982\u679c\u8fd0\u884c\u811a\u672c\uff0c\u60a8\u73b0\u5728\u5e94\u8be5\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>+0.000000000s UdpEchoServerApplication:UdpEchoServer(0x20d0d10)\n+1.000000000s UdpEchoServerApplication:StartApplication(0x20d0d10)\nAt time +2s client sent 1024 bytes to 10.1.1.2 port 9\n+2.257324218s UdpEchoServerApplication:HandleRead(0x20d0d10, 0x20900b0)\n+2.257324218s At time +2.25732s server received 1024 bytes from 10.1.1.1 port 49153\n+2.257324218s Echoing packet\n+2.257324218s At time +2.25732s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.51465s client received 1024 bytes from 10.1.1.2 port 9\n+10.000000000s UdpEchoServerApplication:StopApplication(0x20d0d10)\nUdpEchoServerApplication:DoDispose(0x20d0d10)\nUdpEchoServerApplication:~UdpEchoServer(0x20d0d10)\n</code></pre> <p>\u56de\u987e\u4e00\u4e0b\uff0c\u6211\u4eec\u4e0a\u6b21\u67e5\u770b\u56de\u58f0\u670d\u52a1\u5668\u63a5\u6536\u6570\u636e\u5305\u7684\u6a21\u62df\u65f6\u95f4\u65f6\uff0c\u662f\u5728 2.0073728 \u79d2\u3002</p> <pre><code>+2.007372800s UdpEchoServerApplication:HandleRead(): Received 1024 bytes from 10.1.1.1\n</code></pre> <p>\u73b0\u5728\u5b83\u5728 2.25732 \u79d2\u63a5\u6536\u5230\u6570\u636e\u5305\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u5c06 PointToPointNetDevice \u7684\u6570\u636e\u901f\u7387\u4ece5\u5146\u6bcf\u79d2\u964d\u4f4e\u5230\u5176\u9ed8\u8ba4\u503c 32768 \u6bcf\u79d2\u3002</p> <p>\u5982\u679c\u6211\u4eec\u901a\u8fc7\u547d\u4ee4\u884c\u63d0\u4f9b\u4e00\u4e2a\u65b0\u7684 DataRate\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u6b21\u52a0\u901f\u6a21\u62df\u3002\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u5e2e\u52a9\u9879\u9690\u542b\u7684\u516c\u5f0f\u4ee5\u4e0b\u5217\u65b9\u5f0f\u6267\u884c\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst --ns3::PointToPointNetDevice::DataRate=5Mbps\"\n</code></pre> <p>\u8fd9\u5c06\u5c06 DataRate \u5c5e\u6027\u7684\u9ed8\u8ba4\u503c\u8bbe\u7f6e\u56de\u6bcf\u79d2\u4e94\u5146\u4f4d\u3002\u60a8\u5bf9\u7ed3\u679c\u611f\u5230\u60ca\u8bb6\u5417\uff1f\u4e8b\u5b9e\u8bc1\u660e\uff0c\u4e3a\u4e86\u6062\u590d\u811a\u672c\u7684\u539f\u59cb\u884c\u4e3a\uff0c\u6211\u4eec\u5c06\u4e0d\u5f97\u4e0d\u518d\u6b21\u8bbe\u7f6e\u901a\u9053\u7684\u5149\u901f\u5ef6\u8fdf\u3002\u6211\u4eec\u53ef\u4ee5\u8981\u6c42\u547d\u4ee4\u884c\u7cfb\u7edf\u6253\u5370\u51fa\u901a\u9053\u7684\u5c5e\u6027\uff0c\u5c31\u50cf\u6211\u4eec\u4e3a\u7f51\u7edc\u8bbe\u5907\u505a\u7684\u90a3\u6837\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst --PrintAttributes=ns3::PointToPointChannel\"\n</code></pre> <p>\u6211\u4eec\u53d1\u73b0\u901a\u9053\u7684\u5ef6\u8fdf\u5c5e\u6027\u8bbe\u7f6e\u5982\u4e0b\uff1a</p> <pre><code>--ns3::PointToPointChannel::Delay=[0ns]:\n  Transmission delay through the channel\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u7cfb\u7edf\u8bbe\u7f6e\u8fd9\u4e9b\u9ed8\u8ba4\u503c\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst\n  --ns3::PointToPointNetDevice::DataRate=5Mbps\n  --ns3::PointToPointChannel::Delay=2ms\"\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6062\u590d\u4e86\u5728\u811a\u672c\u4e2d\u663e\u5f0f\u8bbe\u7f6e DataRate \u548c Delay \u65f6\u7684\u65f6\u95f4\uff1a</p> <pre><code>+0.000000000s UdpEchoServerApplication:UdpEchoServer(0x1df20f0)\n+1.000000000s UdpEchoServerApplication:StartApplication(0x1df20f0)\nAt time +2s client sent 1024 bytes to 10.1.1.2 port 9\n+2.003686400s UdpEchoServerApplication:HandleRead(0x1df20f0, 0x1de0250)\n+2.003686400s At time +2.00369s server received 1024 bytes from 10.1.1.1 port 49153\n+2.003686400s Echoing packet\n+2.003686400s At time +2.00369s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.00737s client received 1024 bytes from 10.1.1.2 port 9\n+10.000000000s UdpEchoServerApplication:StopApplication(0x1df20f0)\nUdpEchoServerApplication:DoDispose(0x1df20f0)\nUdpEchoServerApplication:~UdpEchoServer(0x1df20f0)\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u6570\u636e\u5305\u518d\u6b21\u5728 2.00369 \u79d2\u88ab\u670d\u52a1\u5668\u63a5\u6536\u3002</p> <p>\u5b9e\u9645\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u7528\u8fd9\u79cd\u65b9\u5f0f\u8bbe\u7f6e\u811a\u672c\u4e2d\u4f7f\u7528\u7684\u4efb\u4f55\u5c5e\u6027\uff01 \u7279\u522b\u662f\uff0c\u6211\u4eec\u53ef\u4ee5\u8bbe\u7f6e UdpEchoClient \u7684 MaxPackets \u5c5e\u6027\u4e3a\u9664 1 \u4e4b\u5916\u7684\u5176\u4ed6\u503c\u3002</p> <p>\u60a8\u4f1a\u5982\u4f55\u64cd\u4f5c\u5462\uff1f\u8bd5\u4e00\u8bd5\u3002\u8bf7\u8bb0\u4f4f\uff0c\u60a8\u5fc5\u987b\u6ce8\u91ca\u6389\u6211\u4eec\u5728\u811a\u672c\u4e2d\u8986\u76d6\u9ed8\u8ba4\u5c5e\u6027\u5e76\u663e\u5f0f\u8bbe\u7f6e MaxPackets \u7684\u5730\u65b9\u3002\u7136\u540e\uff0c\u60a8\u5fc5\u987b\u91cd\u65b0\u6784\u5efa\u811a\u672c\u3002\u60a8\u8fd8\u5fc5\u987b\u627e\u5230\u4f7f\u7528\u547d\u4ee4\u884c\u5e2e\u52a9\u8bbe\u65bd\u5b9e\u9645\u8bbe\u7f6e\u65b0\u9ed8\u8ba4\u5c5e\u6027\u503c\u7684\u8bed\u6cd5\u3002\u4e00\u65e6\u5f04\u6e05\u695a\u4e86\u8fd9\u4e00\u70b9\uff0c\u60a8\u5c31\u53ef\u4ee5\u4ece\u547d\u4ee4\u884c\u63a7\u5236\u56de\u663e\u7684\u6570\u636e\u5305\u6570\u91cf\u3002\u7531\u4e8e\u6211\u4eec\u662f\u597d\u4eba\uff0c\u6211\u4eec\u4f1a\u544a\u8bc9\u60a8\uff0c\u60a8\u7684\u547d\u4ee4\u884c\u5e94\u6700\u7ec8\u770b\u8d77\u6765\u50cf\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst\n  --ns3::PointToPointNetDevice::DataRate=5Mbps\n  --ns3::PointToPointChannel::Delay=2ms\n  --ns3::UdpEchoClient::MaxPackets=2\"\n</code></pre> <p>\u6b64\u65f6\u4e00\u4e2a\u81ea\u7136\u7684\u95ee\u9898\u662f\u5982\u4f55\u4e86\u89e3\u6240\u6709\u8fd9\u4e9b\u5c5e\u6027\u7684\u5b58\u5728\u3002\u540c\u6837\uff0c\u547d\u4ee4\u884c\u5e2e\u52a9\u8bbe\u65bd\u6709\u4e00\u4e2a\u529f\u80fd\u53ef\u4ee5\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u5982\u679c\u6211\u4eec\u8981\u6c42\u547d\u4ee4\u884c\u5e2e\u52a9\uff0c\u6211\u4eec\u5e94\u8be5\u770b\u5230\uff1a</p> <pre><code>$ ./ns3 run \"scratch/myfirst --PrintHelp\"\nmyfirst [General Arguments]\n\nGeneral Arguments:\n  --PrintGlobals:              Print the list of globals.\n  --PrintGroups:               Print the list of groups.\n  --PrintGroup=[group]:        Print all TypeIds of group.\n  --PrintTypeIds:              Print all TypeIds.\n  --PrintAttributes=[typeid]:  Print all attributes of typeid.\n  --PrintVersion:              Print the ns-3 version.\n  --PrintHelp:                 Print this help message.\n</code></pre> <p>\u5982\u679c\u9009\u62e9 \"PrintGroups\" \u53c2\u6570\uff0c\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u6240\u6709\u6ce8\u518c\u7684 TypeId \u7ec4\u7684\u5217\u8868\u3002\u7ec4\u540d</p> <p>\u4e0e\u6e90\u76ee\u5f55\u4e2d\u7684\u6a21\u5757\u540d\u79f0\u5bf9\u9f50\uff08\u5c3d\u7ba1\u9996\u5b57\u6bcd\u5927\u5199\uff09\u3002\u4e00\u6b21\u6027\u6253\u5370\u6240\u6709\u4fe1\u606f\u4f1a\u592a\u591a\uff0c\u56e0\u6b64\u53ef\u4ee5\u8fdb\u4e00\u6b65\u8fc7\u6ee4\u4ee5\u6309\u7ec4\u6253\u5370\u4fe1\u606f\u3002\u56e0\u6b64\uff0c\u518d\u6b21\u5173\u6ce8\u70b9\u5bf9\u70b9\u6a21\u5757\uff1a</p> <pre><code>./ns3 run \"scratch/myfirst --PrintGroup=PointToPoint\"\n</code></pre> <p>PointToPoint \u7ec4\u4e2d\u7684 TypeId\uff1a <pre><code>TypeIds in group PointToPoint:\n  ns3::PointToPointChannel\n  ns3::PointToPointNetDevice\n  ns3::PppHeader\n</code></pre></p> <p>\u4ece\u8fd9\u91cc\uff0c\u53ef\u4ee5\u627e\u5230\u8981\u641c\u7d22\u5c5e\u6027\u7684\u53ef\u80fd TypeId \u540d\u79f0\uff0c\u4f8b\u5982\u4e0a\u9762\u793a\u4f8b\u4e2d\u7684 <code>--PrintAttributes=ns3::PointToPointChannel</code>\u3002\u4e86\u89e3\u5c5e\u6027\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u8fc7 ns-3 Doxygen\uff1b\u6709\u4e00\u9875\u5217\u51fa\u4e86\u6a21\u62df\u5668\u4e2d\u7684\u6240\u6709\u6ce8\u518c\u5c5e\u6027\u3002</p> <p>\u4e86\u89e3\u5c5e\u6027\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u8fc7 ns-3 Doxygen\uff1b\u6709\u4e00\u4e2a\u9875\u9762\u5217\u51fa\u4e86\u6a21\u62df\u5668\u4e2d\u7684\u6240\u6709\u6ce8\u518c\u5c5e\u6027\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#622-hooking-your-own-values","title":"6.2.2. Hooking Your Own Values","text":"<p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528<code>AddValue</code>\u65b9\u6cd5\u5c06\u81ea\u5df1\u7684hook\uff08\u94a9\u5b50\uff09\u6dfb\u52a0\u5230\u547d\u4ee4\u884c\u7cfb\u7edf\u4e2d\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u89e3\u6790\u5668\u4e2d\u4f7f\u7528<code>AddValue</code>\u65b9\u6cd5\u6765\u5b8c\u6210\u3002</p> <p>\u8ba9\u6211\u4eec\u4f7f\u7528\u8fd9\u4e2a\u529f\u80fd==\u4ee5\u5b8c\u5168\u4e0d\u540c\u7684\u65b9\u5f0f\u6307\u5b9a\u8981\u56de\u663e\u7684\u6570\u636e\u5305\u6570==\u3002\u8ba9\u6211\u4eec\u6dfb\u52a0\u4e00\u4e2a\u540d\u4e3a <code>nPackets</code> \u7684\u5c40\u90e8\u53d8\u91cf\u5230 <code>main</code> \u51fd\u6570\u4e2d\u3002\u6211\u4eec\u5c06\u5176\u521d\u59cb\u5316\u4e3a1\uff0c\u4ee5\u5339\u914d\u5148\u524d\u7684\u9ed8\u8ba4\u884c\u4e3a\u3002==\u4e3a\u4e86\u5141\u8bb8\u547d\u4ee4\u884c\u89e3\u6790\u5668\u66f4\u6539\u6b64\u503c\uff0c\u6211\u4eec\u9700\u8981\u5c06\u8be5\u503c\u8fde\u63a5\u5230\u89e3\u6790\u5668\u4e2d==\u3002\u6211\u4eec==\u901a\u8fc7\u6dfb\u52a0\u5bf9 <code>AddValue</code> \u7684\u8c03\u7528\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9==\u3002\u8bf7\u7ee7\u7eed\u4fee\u6539 <code>scratch/myfirst.cc</code> \u811a\u672c\uff0c\u4ee5\u4fbf\u4ece\u4ee5\u4e0b\u4ee3\u7801\u5f00\u59cb\uff1a</p> <pre><code>int\nmain(int argc, char *argv[])\n{\n  uint32_t nPackets = 1;\n\n  CommandLine cmd;\n  cmd.AddValue(\"nPackets\", \"Number of packets to echo\", nPackets);\n  cmd.Parse(argc, argv);\n\n  ...\n</code></pre> <p>\u5728\u811a\u672c\u4e2d\u627e\u5230\u8bbe\u7f6e <code>MaxPackets</code> \u5c5e\u6027\u7684\u4f4d\u7f6e\uff0c\u5e76\u66f4\u6539\u4e3a\u5c06\u5176\u8bbe\u7f6e\u4e3a\u53d8\u91cf <code>nPackets</code> \u800c\u4e0d\u662f\u5e38\u65701\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>echoClient.SetAttribute(\"MaxPackets\", UintegerValue(nPackets));\n</code></pre> <p>\u73b0\u5728\uff0c\u5982\u679c\u8fd0\u884c\u811a\u672c\u5e76\u63d0\u4f9b <code>--PrintHelp</code> \u53c2\u6570\uff0c\u60a8\u5e94\u8be5\u5728\u5e2e\u52a9\u663e\u793a\u4e2d\u770b\u5230\u65b0\u7684\u7528\u6237\u53c2\u6570\u3002</p> <p>\u5c1d\u8bd5\u4e00\u4e0b\uff1a</p> <pre><code>$ ./ns3 build\n$ ./ns3 run \"scratch/myfirst --PrintHelp\"\n</code></pre> <p>\u5982\u679c\u8981\u6307\u5b9a\u8981\u56de\u663e\u7684\u6570\u636e\u5305\u6570\uff0c\u73b0\u5728\u53ef\u4ee5\u901a\u8fc7\u5728\u547d\u4ee4\u884c\u4e2d\u8bbe\u7f6e <code>--nPackets</code> \u53c2\u6570\u6765\u6267\u884c\u3002</p> <pre><code>$ ./ns3 run \"scratch/myfirst --nPackets=2\"\n</code></pre> <p>\u60a8\u73b0\u5728\u5e94\u8be5\u770b\u5230\u5df2\u7ecf\u56de\u663e\u4e86\u4e24\u4e2a\u6570\u636e\u5305\u3002\u76f8\u5f53\u7b80\u5355\uff0c\u4e0d\u662f\u5417\uff1f</p> <p>\u53ef\u4ee5\u770b\u51fa\uff0c\u5982\u679c\u60a8\u662f ns-3 ==\u7528\u6237==\uff0c\u60a8==\u53ef\u4ee5\u4f7f\u7528\u547d\u4ee4\u884c\u53c2\u6570\u7cfb\u7edf\u6765\u63a7\u5236\u5168\u5c40\u503c\u548c\u5c5e\u6027==\u3002\u5982\u679c\u60a8\u662f==\u6a21\u578b\u4f5c\u8005==\uff0c\u60a8\u53ef\u4ee5==\u5411\u5bf9\u8c61\u6dfb\u52a0\u65b0\u5c5e\u6027==\uff0c\u5b83\u4eec\u5c06==\u81ea\u52a8\u53ef\u901a\u8fc7\u547d\u4ee4\u884c\u7cfb\u7edf\u8bbe\u7f6e\u7ed9\u60a8\u7684\u7528\u6237==\u3002\u5982\u679c\u60a8\u662f\u811a\u672c\u4f5c\u8005\uff0c\u60a8\u53ef\u4ee5\u5411\u811a\u672c\u6dfb\u52a0\u65b0\u53d8\u91cf\u5e76\u5c06\u5176\u8f7b\u677e\u8fde\u63a5\u5230\u547d\u4ee4\u884c\u7cfb\u7edf\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#63-using-the-tracing-system","title":"6.3. Using the Tracing System","text":"<p>\u6a21\u62df\u7684\u6574\u4e2a\u76ee\u7684\u662f\u751f\u6210\u8f93\u51fa\u4ee5\u4f9b\u8fdb\u4e00\u6b65\u7814\u7a76\uff0c\u800c ns-3 \u8ddf\u8e2a\u7cfb\u7edf\u662f\u5b9e\u73b0\u6b64\u76ee\u7684\u7684\u4e3b\u8981\u673a\u5236\u4e4b\u4e00\u3002\u7531\u4e8e ns-3 \u662f\u4e00\u4e2a C++ \u7a0b\u5e8f\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u4ece C++ \u7a0b\u5e8f\u751f\u6210\u8f93\u51fa\u7684\u6807\u51c6\u5de5\u5177\uff1a</p> <pre><code>#include &lt;iostream&gt;\n// ...\nint main()\n{\n  // ...\n  std::cout &lt;&lt; \"The value of x is \" &lt;&lt; x &lt;&lt; std::endl;\n  // ...\n}\n</code></pre> <p>\u60a8\u751a\u81f3\u53ef\u4ee5\u4f7f\u7528\u65e5\u5fd7\u6a21\u5757\u4e3a\u89e3\u51b3\u65b9\u6848\u6dfb\u52a0\u4e00\u4e9b\u7ed3\u6784\u3002\u7531\u4e8e\u8fd9\u79cd\u65b9\u6cd5\u4ea7\u751f\u4e86\u8bb8\u591a\u4f17\u6240\u5468\u77e5\u7684\u95ee\u9898\uff0c\u56e0\u6b64\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u901a\u7528\u7684\u4e8b\u4ef6\u8ddf\u8e2a\u5b50\u7cfb\u7edf\u6765\u89e3\u51b3\u6211\u4eec\u8ba4\u4e3a\u91cd\u8981\u7684\u95ee\u9898\u3002</p> <p>ns-3 \u8ddf\u8e2a\u7cfb\u7edf\u7684\u57fa\u672c\u76ee\u6807\u662f\uff1a</p> <ul> <li>\u5bf9\u4e8e\u57fa\u672c\u4efb\u52a1\uff0c\u8ddf\u8e2a\u7cfb\u7edf\u5e94\u5141\u8bb8\u7528\u6237\u4e3a\u6d41\u884c\u7684\u8ddf\u8e2a\u6e90\u751f\u6210\u6807\u51c6\u8ddf\u8e2a\uff0c\u5e76\u81ea\u5b9a\u4e49\u751f\u6210\u8ddf\u8e2a\u7684\u5bf9\u8c61\uff1b</li> <li>\u4e2d\u7ea7\u7528\u6237\u5fc5\u987b\u80fd\u591f\u6269\u5c55\u8ddf\u8e2a\u7cfb\u7edf\u4ee5\u4fee\u6539\u751f\u6210\u7684\u8f93\u51fa\u683c\u5f0f\uff0c\u6216\u63d2\u5165\u65b0\u7684\u8ddf\u8e2a\u6e90\uff0c\u800c\u65e0\u9700\u4fee\u6539\u6a21\u62df\u5668\u7684\u6838\u5fc3\uff1b</li> <li>\u9ad8\u7ea7\u7528\u6237\u53ef\u4ee5\u4fee\u6539\u6a21\u62df\u5668\u6838\u5fc3\u4ee5\u6dfb\u52a0\u65b0\u7684\u8ddf\u8e2a\u6e90\u548c\u63a5\u6536\u5668\u3002</li> </ul> <p>ns-3 \u8ddf\u8e2a\u7cfb\u7edf\u5efa\u7acb\u5728\u72ec\u7acb\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u63a5\u6536\u5668\u7684\u6982\u5ff5\u4ee5\u53ca\u5c06\u6e90\u8fde\u63a5\u5230\u63a5\u6536\u5668\u7684\u7edf\u4e00\u673a\u5236\u4e0a\u3002\u8ddf\u8e2a\u6e90\u662f\u53ef\u4ee5\u53d1\u51fa\u6a21\u62df\u4e2d\u53d1\u751f\u7684\u4e8b\u4ef6\u5e76\u63d0\u4f9b\u5bf9\u5e95\u5c42\u6570\u636e\u7684\u6709\u8da3\u8bbf\u95ee\u7684\u5b9e\u4f53\u3002\u4f8b\u5982\uff0c\u8ddf\u8e2a\u6e90\u53ef\u4ee5\u6307\u793a\u6570\u636e\u5305\u4f55\u65f6\u88ab\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\uff0c\u5e76\u4e3a\u611f\u5174\u8da3\u7684\u8ddf\u8e2a\u63a5\u6536\u5668\u63d0\u4f9b\u5bf9\u6570\u636e\u5305\u5185\u5bb9\u7684\u8bbf\u95ee\u3002</p> <p>\u8ddf\u8e2a\u6e90\u672c\u8eab\u5e76\u4e0d\u6709\u7528\uff0c\u5b83\u4eec\u5fc5\u987b\u4e0e\u5b9e\u9645\u4f7f\u7528\u7531\u63a5\u6536\u5668\u63d0\u4f9b\u7684\u4fe1\u606f\u7684\u4ee3\u7801\u7684\u5176\u4ed6\u90e8\u5206\u201c\u8fde\u63a5\u201d\u8d77\u6765\u3002\u8ddf\u8e2a\u63a5\u6536\u5668\u662f\u8ddf\u8e2a\u6e90\u63d0\u4f9b\u7684\u4e8b\u4ef6\u548c\u6570\u636e\u7684\u6d88\u8d39\u8005\u3002\u4f8b\u5982\uff0c\u53ef\u4ee5\u521b\u5efa\u4e00\u4e2a\u8ddf\u8e2a\u63a5\u6536\u5668\uff0c\u5f53\u8fde\u63a5\u5230\u524d\u9762\u793a\u4f8b\u7684\u8ddf\u8e2a\u6e90\u65f6\uff0c\u5b83\u4f1a\u6253\u5370\u51fa\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u7684\u6709\u8da3\u90e8\u5206\u3002</p> <p>\u8fd9\u79cd\u660e\u786e\u7684\u5212\u5206\u7684\u7406\u7531\u662f\u5141\u8bb8\u7528\u6237\u5c06\u65b0\u7c7b\u578b\u7684\u63a5\u6536\u5668\u9644\u52a0\u5230\u73b0\u6709\u7684\u8ddf\u8e2a\u6e90\uff0c\u800c\u65e0\u9700\u7f16\u8f91\u548c\u91cd\u65b0\u7f16\u8bd1\u6a21\u62df\u5668\u7684\u6838\u5fc3\u3002\u56e0\u6b64\uff0c\u5728\u4e0a\u8ff0\u793a\u4f8b\u4e2d\uff0c\u7528\u6237\u53ef\u4ee5\u4ec5\u901a\u8fc7\u7f16\u8f91\u7528\u6237\u811a\u672c\u6765\u5b9a\u4e49\u65b0\u7684\u8ddf\u8e2a\u63a5\u6536\u5668\uff0c\u5e76\u5c06\u5176\u8fde\u63a5\u5230\u6a21\u62df\u5668\u4e2d\u5b9a\u4e49\u7684\u73b0\u6709\u8ddf\u8e2a\u6e90\u3002</p> <p>\u5728\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u5c06\u4ecb\u7ecd\u4e00\u4e9b\u9884\u5b9a\u4e49\u7684\u6e90\u548c\u63a5\u6536\u5668\uff0c\u5e76\u5c55\u793a\u5982\u4f55\u901a\u8fc7\u5c11\u91cf\u7528\u6237\u5de5\u4f5c\u81ea\u5b9a\u4e49\u5b83\u4eec\u3002\u6709\u5173\u9ad8\u7ea7\u8ddf\u8e2a\u914d\u7f6e\u7684\u4fe1\u606f\uff0c\u8bf7\u53c2\u9605 ns-3 \u624b\u518c\u6216 how-to \u90e8\u5206\uff0c\u5176\u4e2d\u5305\u62ec\u6269\u5c55\u8ddf\u8e2a\u547d\u540d\u7a7a\u95f4\u548c\u521b\u5efa\u65b0\u8ddf\u8e2a\u6e90\u7684\u5185\u5bb9\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#631-ascii-tracing-ascii","title":"6.3.1. ASCII Tracing\uff08\u89e3\u6790 ASCII \u8ddf\u8e2a\uff09","text":"<p>ns-3\u63d0\u4f9b\u4e86==\u5305\u88c5\u4f4e\u7ea7\u8ddf\u8e2a\u7cfb\u7edf\u7684\u8f85\u52a9\u529f\u80fd==\uff0c\u4ee5\u5e2e\u52a9\u60a8\u5904\u7406\u914d\u7f6e\u4e00\u4e9b\u6613\u4e8e\u7406\u89e3\u7684\u6570\u636e\u5305\u8ddf\u8e2a\u7684\u8be6\u7ec6\u4fe1\u606f\u3002 ==\u5982\u679c\u542f\u7528\u6b64\u529f\u80fd\uff0c\u60a8\u5c06\u5728ASCII\u6587\u4ef6\u4e2d\u770b\u5230\u8f93\u51fa==\uff0c\u56e0\u6b64\u5f97\u540d\u3002\u5bf9\u4e8e\u719f\u6089ns-2\u8f93\u51fa\u7684\u4eba\u6765\u8bf4\uff0c\u8fd9\u79cd\u7c7b\u578b\u7684\u8ddf\u8e2a\u7c7b\u4f3c\u4e8e\u8bb8\u591a\u811a\u672c\u751f\u6210\u7684 out.tr\u3002</p> <p>\u8ba9\u6211\u4eec\u76f4\u63a5\u5f00\u59cb\uff0c\u5411\u6211\u4eec\u7684 scratch/myfirst.cc \u811a\u672c\u7684 Simulator::Run() \u8c03\u7528\u4e4b\u524d\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\uff1a</p> <pre><code>AsciiTraceHelper ascii;\npointToPoint.EnableAsciiAll(ascii.CreateFileStream(\"myfirst.tr\"));\n</code></pre> <ul> <li>\u4e0e\u8bb8\u591a\u5176\u4ed6ns-3\u4e60\u8bed\u4e00\u6837\uff0c\u6b64==\u4ee3\u7801\u4f7f\u7528\u8f85\u52a9\u5bf9\u8c61\u6765\u5e2e\u52a9\u521b\u5efaASCII\u8ddf\u8e2a==\u3002</li> <li>\u7b2c\u4e8c\u884c\u5305\u542b\u4e24\u4e2a\u5d4c\u5957\u7684\u65b9\u6cd5\u8c03\u7528\u3002\"\u5185\u90e8\"\u65b9\u6cd5 CreateFileStream() \u4f7f\u7528\u672a\u547d\u540d\u5bf9\u8c61\u60ef\u7528\u6cd5\u5728\u5806\u6808\u4e0a\u521b\u5efa\u4e00\u4e2a\u6587\u4ef6\u6d41\u5bf9\u8c61\uff08\u6ca1\u6709\u5bf9\u8c61\u540d\u79f0\uff09\u5e76\u5c06\u5176\u4f20\u9012\u7ed9\u88ab\u8c03\u7528\u7684\u65b9\u6cd5\u3002\u6211\u4eec\u5c06\u5728\u5c06\u6765\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e00\u70b9\uff0c\u4f46\u5728\u6b64\u65f6\uff0c\u60a8\u53ea\u9700\u8981\u77e5\u9053==\u60a8\u6b63\u5728\u521b\u5efa\u4e00\u4e2a\u4ee3\u8868\u540d\u4e3a \"myfirst.tr\" \u7684\u6587\u4ef6\u7684\u5bf9\u8c61==\uff0c==\u5e76\u5c06\u5176\u4f20\u9012\u7ed9ns-3==\u3002\u60a8\u6b63\u5728\u544a\u8bc9ns-3\u5904\u7406\u5df2\u521b\u5efa\u5bf9\u8c61\u7684\u751f\u547d\u5468\u671f\u95ee\u9898\uff0c\u5e76\u5904\u7406\u4e0eC++ ofstream\u5bf9\u8c61\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\u76f8\u5173\u7684\u4e00\u4e2a\u5c0f\u4f17\uff08\u6545\u610f\u7684\uff09\u9650\u5236\u5f15\u8d77\u7684\u95ee\u9898\u3002</li> <li>\u5916\u90e8\u8c03\u7528 EnableAsciiAll() ==\u544a\u8bc9\u52a9\u624b\u60a8\u8981\u5728\u6a21\u62df\u4e2d\u7684\u6240\u6709\u70b9\u5bf9\u70b9\u8bbe\u5907\u4e0a\u542f\u7528ASCII\u8ddf\u8e2a==\uff1b\u5e76==\u4e14\u60a8\u5e0c\u671b\uff08\u63d0\u4f9b\u7684\uff09\u8ddf\u8e2a\u63a5\u6536\u5668\u5199\u51fa\u6709\u5173\u6570\u636e\u5305\u79fb\u52a8\u7684\u4fe1\u606f\uff0c\u4ee5ASCII\u683c\u5f0f==\u3002</li> </ul> <p>\u5bf9\u4e8e\u719f\u6089ns-2\u7684\u4eba\uff0c\u88ab\u8ddf\u8e2a\u7684\u4e8b\u4ef6\u7b49\u540c\u4e8e\u8bb0\u5f55\u201c+\u201d\u3001\u201c-\u201d\u3001\u201cd\u201d\u548c\u201cr\u201d\u4e8b\u4ef6\u7684\u6d41\u884c\u8ddf\u8e2a\u70b9\u3002</p> <p>\u73b0\u5728\uff0c\u60a8\u53ef\u4ee5\u6784\u5efa\u811a\u672c\u5e76\u4ece\u547d\u4ee4\u884c\u8fd0\u884c\u5b83\uff1a</p> <pre><code>$ ./ns3 run scratch/myfirst\n</code></pre> <p>\u4e0e\u4e4b\u524d\u770b\u5230\u7684\u8bb8\u591a\u6b21\u4e00\u6837\uff0c\u60a8\u5c06\u770b\u5230\u6765\u81eans3\u7684\u4e00\u4e9b\u6d88\u606f\uff0c\u7136\u540e\u662f\u5e26\u6709\u4e00\u4e9b\u6765\u81ea\u8fd0\u884c\u7a0b\u5e8f\u7684\u6d88\u606f\u7684 \"'build' finished successfully\"\u3002</p> <p>\u5f53==\u8fd0\u884c\u65f6\uff0c\u7a0b\u5e8f\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a myfirst.tr \u7684\u6587\u4ef6==\u3002\u7531\u4e8e==ns3\u7684\u5de5\u4f5c\u65b9\u5f0f\uff0c\u8be5\u6587\u4ef6\u4e0d\u4f1a\u5728\u672c\u5730\u76ee\u5f55\u4e2d\u521b\u5efa==\uff0c\u800c\u662f==\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u5728\u5b58\u50a8\u5e93\u7684\u9876\u5c42\u76ee\u5f55\u4e2d\u521b\u5efa==\u3002\u5982\u679c\u8981\u63a7\u5236\u8ddf\u8e2a\u4fdd\u5b58\u7684\u4f4d\u7f6e\uff0c\u53ef\u4ee5\u4f7f\u7528ns3\u7684 --cwd \u9009\u9879\u6765\u6307\u5b9a\u3002\u6211\u4eec\u6ca1\u6709\u8fd9\u6837\u505a\uff0c\u56e0\u6b64\u6211\u4eec\u9700\u8981\u5207\u6362\u5230\u5b58\u50a8\u5e93\u7684\u9876\u7ea7\u76ee\u5f55\u5e76\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u67e5\u770bASCII\u8ddf\u8e2a\u6587\u4ef6 myfirst.tr\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#6311-parsing-ascii-traces","title":"6.3.1.1. Parsing Ascii Traces","text":"<p>\u8fd9\u4e2a\u6587\u4ef6\u4e2d\u6709\u5f88\u591a\u4ee5\u76f8\u5f53\u5bc6\u96c6\u7684\u5f62\u5f0f\u5448\u73b0\u7684\u4fe1\u606f\uff0c\u4f46\u9996\u5148\u8981\u6ce8\u610f\u7684\u662f\u6587\u4ef6\u4e2d\u6709\u8bb8\u591a\u4e0d\u540c\u7684\u884c\u3002\u9664\u975e\u60a8\u5927\u5e45\u5ea6\u8c03\u6574\u7a97\u53e3\u7684\u5bbd\u5ea6\uff0c\u5426\u5219\u53ef\u80fd\u5f88\u96be\u6e05\u695a\u5730\u770b\u5230\u8fd9\u4e00\u70b9\u3002</p> <p>\u6587\u4ef6\u4e2d\u7684==\u6bcf\u4e00\u884c\u5bf9\u5e94\u4e00\u4e2a\u8ddf\u8e2a\u4e8b\u4ef6==\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u6b63\u5728\u8ddf\u8e2a\u6a21\u62df\u4e2d\u6bcf\u4e2a\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\u4e0a\u7684\u4f20\u8f93\u961f\u5217\u4e0a\u53d1\u751f\u7684\u4e8b\u4ef6\u3002\u4f20\u8f93\u961f\u5217\u662f\u6bcf\u4e2a\u53d1\u5f80\u70b9\u5bf9\u70b9\u901a\u9053\u7684\u6570\u636e\u5305\u90fd\u5fc5\u987b\u7ecf\u8fc7\u7684\u961f\u5217\u3002\u8bf7\u6ce8\u610f\uff0c\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u7684\u6bcf\u4e00\u884c\u90fd\u4ee5\u5355\u4e2a\u5b57\u7b26\uff08\u5176\u540e\u6709\u4e00\u4e2a\u7a7a\u683c\uff09\u5f00\u5934\u3002\u6b64\u5b57\u7b26\u5c06\u5177\u6709\u4ee5\u4e0b\u542b\u4e49\uff1a</p> <ul> <li><code>+</code>\uff1a\u8bbe\u5907\u961f\u5217\u4e0a\u53d1\u751f\u4e86\u5165\u961f\u64cd\u4f5c\uff1b</li> <li><code>-</code>\uff1a\u8bbe\u5907\u961f\u5217\u4e0a\u53d1\u751f\u4e86\u51fa\u961f\u64cd\u4f5c\uff1b</li> <li><code>d</code>\uff1a\u6570\u636e\u5305\u88ab\u4e22\u5f03\uff0c\u901a\u5e38\u662f\u56e0\u4e3a\u961f\u5217\u5df2\u6ee1\uff1b\uff08discard\uff09</li> <li><code>r</code>\uff1a\u6570\u636e\u5305\u88ab\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\u3002\uff08receive\uff09</li> </ul> <p>\u8ba9\u6211\u4eec\u66f4\u8be6\u7ec6\u5730\u67e5\u770b\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e00\u884c\u3002\u6211\u5c06\u5176\u5206\u89e3\u4e3a\u5404\u4e2a\u90e8\u5206\uff08\u4e3a\u6e05\u6670\u8d77\u89c1\u7f29\u8fdb\uff09\uff0c\u5de6\u4fa7\u6709\u4e00\u4e2a\u53c2\u8003\u7f16\u53f7\uff1a</p> <pre><code>+\n2\n/NodeList/0/DeviceList/0/$ns3::PointToPointNetDevice/TxQueue/Enqueue\nns3::PppHeader (\n  Point-to-Point Protocol: IP (0x0021))\n  ns3::Ipv4Header (\n    tos 0x0 ttl 64 id 0 protocol 17 offset 0 flags [none]\n    length: 1052 10.1.1.1 &gt; 10.1.1.2)\n    ns3::UdpHeader (\n      length: 1032 49153 &gt; 9)\n      Payload (size=1024)\n</code></pre> <ol> <li>\u8fd9\u4e2a\u6269\u5c55\u7684\u8ddf\u8e2a\u4e8b\u4ef6\u7684\u7b2c\u4e00\u90e8\u5206\uff08\u53c2\u8003\u7f16\u53f70\uff09\u662f\u64cd\u4f5c\u3002\u6211\u4eec==\u6709\u4e00\u4e2a <code>+</code> \u5b57\u7b26==\uff0c\u56e0\u6b64\u8fd9\u5bf9\u5e94\u4e8e==\u5728\u4f20\u8f93\u961f\u5217\u4e0a\u8fdb\u884c\u7684\u5165\u961f==\u64cd\u4f5c\u3002</li> <li>\u7b2c\u4e8c\u90e8\u5206\uff08\u53c2\u80031\uff09\u662f==\u4ee5\u79d2\u4e3a\u5355\u4f4d\u8868\u793a\u7684\u6a21\u62df\u65f6\u95f4==\u3002\u60a8\u53ef\u80fd\u8fd8\u8bb0\u5f97\u6211\u4eec\u8981\u6c42 UdpEchoClientApplication \u5728\u4e24\u79d2\u65f6\u5f00\u59cb\u53d1\u9001\u6570\u636e\u5305\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u770b\u5230\u786e\u5b9e\u53d1\u751f\u4e86\u8fd9\u79cd\u60c5\u51b5\u3002</li> <li>\u4e0b\u4e00\u90e8\u5206\uff08\u53c2\u80032\uff09\u544a\u8bc9\u6211\u4eec==\u54ea\u4e2a\u8ddf\u8e2a\u6e90\u4ea7\u751f\u4e86\u6b64\u4e8b\u4ef6==\uff08\u4ee5\u8ddf\u8e2a\u547d\u540d\u7a7a\u95f4\u8868\u793a\uff09\u3002\u60a8\u53ef\u4ee5\u5c06\u8ddf\u8e2a\u547d\u540d\u7a7a\u95f4\u770b\u4f5c\u662f\u6587\u4ef6\u7cfb\u7edf\u547d\u540d\u7a7a\u95f4\u3002\u547d\u540d\u7a7a\u95f4\u7684\u6839\u662f ==NodeList\u3002\u8fd9\u5bf9\u5e94\u4e8e\u5728 ns-3 \u6838\u5fc3\u4ee3\u7801\u4e2d\u7ba1\u7406\u7684\u5bb9\u5668==\uff0c\u5176\u4e2d\u5305\u542b\u5728\u811a\u672c\u4e2d\u521b\u5efa\u7684\u6240\u6709\u8282\u70b9\u3002\u5c31\u50cf\u6587\u4ef6\u7cfb\u7edf\u5728\u6839\u4e0b\u6709\u76ee\u5f55\u4e00\u6837\uff0cNodeList \u4e2d\u53ef\u80fd\u6709\u8282\u70b9\u7f16\u53f7\u3002\u56e0\u6b64\uff0c\u5b57\u7b26\u4e32==<code>/NodeList/0</code> \u662f\u6307 NodeList \u4e2d\u7684\u96f6\u8282\u70b9==\uff0c\u6211\u4eec\u901a\u5e38\u8ba4\u4e3a\u662f\u201c\u8282\u70b9 0\u201d\u3002\u5728==\u6bcf\u4e2a\u8282\u70b9\u4e2d\uff0c\u6709\u4e00\u4e2a\u5df2\u5b89\u88c5\u8bbe\u5907\u7684\u5217\u8868==\u3002\u6b64\u5217\u8868==\u968f\u540e\u51fa\u73b0\u5728\u547d\u540d\u7a7a\u95f4\u4e2d==\u3002\u60a8\u53ef\u4ee5\u770b\u5230\u6b64\u8ddf\u8e2a\u4e8b\u4ef6\u6765\u81ea DeviceList/0\uff0c\u8fd9\u662f\u8282\u70b9\u4e2d\u5b89\u88c5\u7684\u7b2c\u96f6\u4e2a\u8bbe\u5907\u3002</li> <li>\u63a5\u4e0b\u6765\u7684==\u5b57\u7b26\u4e32 <code>$ns3::PointToPointNetDevice</code>== \u544a\u8bc9\u60a8==\u8282\u70b9\u96f6\u7684\u8bbe\u5907\u5217\u8868\u4e2d\u7b2c\u96f6\u4f4d\u7f6e\u7684\u8bbe\u5907\u662f\u4ec0\u4e48\u7c7b\u578b\u7684\u8bbe\u5907==\u3002\u56de\u987e\u4e00\u4e0b\uff0c\u53c2\u80030\u5904\u7684 <code>+</code> \u64cd\u4f5c\u610f\u5473\u7740\u5728\u8bbe\u5907\u7684\u4f20\u8f93\u961f\u5217\u4e0a\u53d1\u751f\u4e86\u5165\u961f\u64cd\u4f5c\u3002\u8fd9\u53cd\u6620\u5728\u201c\u8ddf\u8e2a\u8def\u5f84\u201d\u7684\u6700\u7ec8\u90e8\u5206\u4e2d\uff0c\u5373 TxQueue/Enqueue\u3002</li> <li>\u8ddf\u8e2a\u4e2d\u7684\u5176\u4f59\u90e8\u5206\u5e94\u8be5\u76f8\u5f53\u76f4\u89c2\u3002\u53c2\u80033-4\u6307\u793a\u6570\u636e\u5305\u5c01\u88c5\u5728\u70b9\u5bf9\u70b9\u534f\u8bae\u4e2d\u3002</li> <li>\u53c2\u80035-7\u663e\u793a\u6570\u636e\u5305\u5177\u6709 IP \u7248\u672c\u56db (IPv4\u534f\u8bae) \u5934\u90e8\uff0c\u5e76\u6e90\u81ea IP \u5730\u5740 10.1.1.1\uff0c\u76ee\u6807\u662f 10.1.1.2\u3002</li> <li>\u53c2\u80038-9\u663e\u793a\u6b64\u6570\u636e\u5305\u5177\u6709 UDP \u5934\u90e8\uff0c\u6700\u540e\uff0c\u53c2\u800310\u663e\u793a\u6709\u6548\u8f7d\u8377\u4e3a\u9884\u671f\u7684 1024 \u5b57\u8282\u3002</li> </ol> <p>\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u7684\u4e0b\u4e00\u884c\u663e\u793a\u76f8\u540c\u7684\u6570\u636e\u5305\u4ece\u76f8\u540c\u8282\u70b9\u7684\u4f20\u8f93\u961f\u5217\u4e2d\u51fa\u961f\u3002 \u8ddf\u8e2a\u6587\u4ef6\u4e2d\u7684\u7b2c\u4e09\u884c\u663e\u793a\u4e86\u8be5\u6570\u636e\u5305\u88ab\u56de\u663e\u670d\u52a1\u5668\u8282\u70b9\u4e0a\u7684\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\u3002\u6211\u5728\u4e0b\u9762\u91cd\u65b0\u590d\u5236\u4e86\u8be5\u4e8b\u4ef6\u3002</p> <pre><code>r\n2.25732\n/NodeList/1/DeviceList/0/$ns3::PointToPointNetDevice/MacRx\n  ns3::Ipv4Header (\n    tos 0x0 ttl 64 id 0 protocol 17 offset 0 flags [none]\n    length: 1052 10.1.1.1 &gt; 10.1.1.2)\n    ns3::UdpHeader (\n      length: 1032 49153 &gt; 9)\n      Payload (size=1024)\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u8ddf\u8e2a\u64cd\u4f5c\u73b0\u5728\u662f <code>r</code>\uff0c\u6a21\u62df\u65f6\u95f4\u5df2\u589e\u52a0\u5230 2.25732 \u79d2\u3002\u5982\u679c\u60a8\u4e00\u76f4\u5bc6\u5207\u5173\u6ce8\u6559\u7a0b\u6b65\u9aa4\uff0c\u8fd9\u610f\u5473\u7740\u60a8\u5df2\u5c06\u7f51\u7edc\u8bbe\u5907\u548c\u4fe1\u9053\u7684 DataRate \u4fdd\u6301\u4e3a\u5176\u9ed8\u8ba4\u503c\u3002\u8fd9\u4e2a\u65f6\u95f4\u5e94\u8be5\u662f\u719f\u6089\u7684\uff0c\u56e0\u4e3a\u60a8\u5728\u524d\u9762\u7684\u90e8\u5206\u4e2d\u5df2\u7ecf\u770b\u5230\u8fc7\u5b83\u3002</p> <p>\u8ddf\u8e2a\u6e90\u547d\u540d\u7a7a\u95f4\u6761\u76ee\uff08\u53c2\u800302\uff09\u5df2\u66f4\u6539\uff0c\u4ee5\u53cd\u6620\u6b64\u4e8b\u4ef6\u6765\u81ea\u8282\u70b9 1\uff08/NodeList/1\uff09\u548c\u6570\u636e\u5305\u63a5\u6536\u8ddf\u8e2a\u6e90\uff08/MacRx\uff09\u3002\u901a\u8fc7\u67e5\u770b\u6587\u4ef6\u4e2d\u7684\u5176\u4f59\u8ddf\u8e2a\uff0c\u60a8\u5e94\u8be5\u5f88\u5bb9\u6613\u8ffd\u8e2a\u6570\u636e\u5305\u901a\u8fc7\u62d3\u6251\u7684\u8fdb\u5c55\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#632-pcap-tracing","title":"6.3.2 PCAP Tracing","text":""},{"location":"Sci_doc/ns-3/ch2/#pspcap","title":"ps\uff1aPCAP \u7b80\u4ecb","text":"<p>PCAP Tracing\u662f\u6307\u4f7f\u7528==<code>.pcap</code>\uff08packet capture\uff09\u6587\u4ef6\u683c\u5f0f==\u8fdb\u884c\u8ddf\u8e2a\u7684\u4e00\u79cd\u6280\u672f\u3002PCAP\u6587\u4ef6\u662f==\u7f51\u7edc\u6570\u636e\u5305\u6355\u83b7\u6587\u4ef6\u7684\u6807\u51c6\u683c\u5f0f==\uff0c\u901a\u5e38\u7528\u4e8e\u5b58\u50a8\u7f51\u7edc\u901a\u4fe1\u7684\u8be6\u7ec6\u4fe1\u606f\u3002\u8fd9\u79cd\u8ddf\u8e2a\u6280\u672f\u7684\u76ee\u7684\u662f\u8bb0\u5f55\u7f51\u7edc\u4e2d\u53d1\u9001\u548c\u63a5\u6536\u7684\u6bcf\u4e2a\u6570\u636e\u5305\uff0c\u4ee5\u4fbf\u540e\u7eed\u5206\u6790\u548c\u8c03\u8bd5\u3002 \u4e3b\u8981\u7279\u5f81\u548c\u7528\u9014\u5305\u62ec\uff1a - \u6355\u83b7\u7f51\u7edc\u6d41\u91cf\uff1a PCAP Tracing\u901a\u8fc7\u6355\u83b7\u7f51\u7edc\u63a5\u53e3\u4e0a\u7684\u6570\u636e\u5305\u6765\u8bb0\u5f55\u901a\u4fe1\u3002\u8fd9\u5bf9\u4e8e\u4e86\u89e3\u7f51\u7edc\u4e2d\u53d1\u751f\u7684\u4e8b\u52a1\u4ee5\u53ca\u8c03\u67e5\u95ee\u9898\u975e\u5e38\u6709\u7528\u3002 - \u534f\u8bae\u5206\u6790\uff1a PCAP\u6587\u4ef6\u53ef\u4ee5\u901a\u8fc7\u5404\u79cd\u7f51\u7edc\u5206\u6790\u5de5\u5177\u8fdb\u884c\u89e3\u6790\uff0c\u4ee5\u6df1\u5165\u4e86\u89e3\u7f51\u7edc\u901a\u4fe1\u4e2d\u6240\u4f7f\u7528\u7684\u534f\u8bae\u548c\u6570\u636e\u3002 -  \u7f51\u7edc\u6545\u969c\u6392\u9664\uff1a \u5f53\u7f51\u7edc\u53d1\u751f\u95ee\u9898\u65f6\uff0cPCAP Tracing\u5141\u8bb8\u5de5\u7a0b\u5e08\u5728\u6355\u83b7\u7684\u6570\u636e\u5305\u4e2d\u67e5\u627e\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u3002\u901a\u8fc7\u5206\u6790\u901a\u4fe1\u6a21\u5f0f\u548c\u68c0\u67e5\u6570\u636e\u5305\u7684\u5185\u5bb9\uff0c\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u8bca\u65ad\u548c\u89e3\u51b3\u7f51\u7edc\u6545\u969c\u3002 -  \u5b89\u5168\u5ba1\u8ba1\uff1a \u5b89\u5168\u4e13\u4e1a\u4eba\u5458\u53ef\u4ee5\u4f7f\u7528PCAP Tracing\u6765\u76d1\u89c6\u7f51\u7edc\u6d41\u91cf\uff0c\u68c0\u6d4b\u6f5c\u5728\u7684\u5b89\u5168\u5a01\u80c1\u548c\u653b\u51fb\u3002\u8fd9\u5bf9\u4e8e\u8fdb\u884c\u5165\u4fb5\u68c0\u6d4b\u548c\u7f51\u7edc\u5b89\u5168\u5ba1\u8ba1\u975e\u5e38\u91cd\u8981\u3002 -  \u7f51\u7edc\u6027\u80fd\u4f18\u5316\uff1a \u901a\u8fc7\u5206\u6790PCAP\u6587\u4ef6\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u8bc4\u4f30\u7f51\u7edc\u6027\u80fd\u3001\u8bc6\u522b\u74f6\u9888\u5e76\u8fdb\u884c\u4f18\u5316\u3002\u8fd9\u5bf9\u4e8e\u786e\u4fdd\u7f51\u7edc\u9ad8\u6548\u8fd0\u884c\u81f3\u5173\u91cd\u8981\u3002</p> <p>\u5728ns-3\uff08\u7f51\u7edc\u4eff\u771f\u5de5\u5177\uff09\u4e2d\uff0cPCAP Tracing\u901a\u5e38\u7528\u4e8e\u8bb0\u5f55\u4eff\u771f\u4e2d\u7684\u6570\u636e\u5305\u4f20\u8f93\uff0c\u5141\u8bb8\u7528\u6237\u5728\u4eff\u771f\u8fd0\u884c\u540e\u5206\u6790\u6a21\u62df\u7684\u7f51\u7edc\u901a\u4fe1\u3002\u901a\u8fc7\u542f\u7528PCAP Tracing\uff0c\u7528\u6237\u53ef\u4ee5\u751f\u6210\u4ee5<code>.pcap</code>\u683c\u5f0f\u4fdd\u5b58\u7684\u8ddf\u8e2a\u6587\u4ef6\uff0c\u7136\u540e\u4f7f\u7528\u5404\u79cd\u5de5\u5177\u8fdb\u884c\u5206\u6790\u3002</p> <p>ns-3\u8bbe\u5907\u52a9\u624b\u8fd8==\u53ef\u7528\u4e8e\u521b\u5efa.pcap\u683c\u5f0f\u7684\u8ddf\u8e2a\u6587\u4ef6==\u3002 pcap\uff08\u901a\u5e38\u4ee5\u5c0f\u5199\u5b57\u6bcd\u5199\u5165\uff09\u7684\u9996\u5b57\u6bcd\u7f29\u5199\u4ee3\u8868\u6570\u636e\u5305\u6355\u83b7\uff0c\u5b9e\u9645\u4e0a\u662f\u5305\u542b.pcap\u6587\u4ef6\u683c\u5f0f\u5b9a\u4e49\u7684API\u3002\u6700\u6d41\u884c\u7684\u53ef\u4ee5\u8bfb\u53d6\u548c\u663e\u793a\u6b64\u683c\u5f0f\u7684\u7a0b\u5e8f\u662fWireshark\uff08\u4ee5\u524d\u79f0\u4e3aEthereal\uff09\u3002\u7136\u800c\uff0c\u6709\u8bb8\u591a\u4f7f\u7528\u6b64\u6570\u636e\u5305\u683c\u5f0f\u7684\u6d41\u91cf\u8ddf\u8e2a\u5206\u6790\u5668\u3002\u6211\u4eec\u9f13\u52b1\u7528\u6237\u5229\u7528\u8bb8\u591a\u7528\u4e8e\u5206\u6790pcap\u8ddf\u8e2a\u7684\u5de5\u5177\u3002\u5728==\u672c\u6559\u7a0b\u4e2d\uff0c\u6211\u4eec\u96c6\u4e2d\u5728\u4f7f\u7528tcpdump\u67e5\u770bpcap\u8ddf\u8e2a==\u3002</p> <p>\u542f\u7528pcap\u8ddf\u8e2a\u7684\u4ee3\u7801\u53ea\u6709\u4e00\u884c\u3002</p> <pre><code>pointToPoint.EnablePcapAll(\"myfirst\");\n</code></pre> <p>\u5728\u521a\u521a\u6dfb\u52a0\u5230scratch/myfirst.cc\u7684ASCII\u8ddf\u8e2a\u4ee3\u7801\u4e4b\u540e\uff0c\u63d2\u5165\u8fd9\u884c\u4ee3\u7801\u3002\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u53ea\u4f20\u9012\u4e86\u5b57\u7b26\u4e32\u201cmyfirst\u201d\uff0c\u800c\u6ca1\u6709\u4f20\u9012\u7c7b\u4f3c\u4e8e\u201cmyfirst.pcap\u201d\u4e4b\u7c7b\u7684\u4e1c\u897f\u3002\u8fd9\u662f==\u56e0\u4e3a\u8be5\u53c2\u6570\u662f\u4e00\u4e2a\u524d\u7f00\uff0c\u800c\u4e0d\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u6587\u4ef6\u540d==\u3002\u52a9\u624b\u5b9e\u9645\u4e0a\u5c06\u4e3a\u6a21\u62df\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5bf9\u70b9\u8bbe\u5907\u521b\u5efa\u4e00\u4e2a\u8ddf\u8e2a\u6587\u4ef6\u3002\u6587\u4ef6\u540d\u5c06\u4f7f\u7528\u524d\u7f00\uff0c\u8282\u70b9\u7f16\u53f7\uff0c\u8bbe\u5907\u7f16\u53f7\u548c\u201c.pcap\u201d\u540e\u7f00\u6784\u5efa\u3002</p> <p>\u5728\u6211\u4eec\u7684\u793a\u4f8b\u811a\u672c\u4e2d\uff0c\u6211\u4eec\u6700\u7ec8\u5c06\u770b\u5230\u540d\u4e3a\u201cmyfirst-0-0.pcap\u201d\u548c\u201cmyfirst-1-0.pcap\u201d\u7684\u6587\u4ef6\uff0c\u5206\u522b\u662f\u8282\u70b90-\u8bbe\u59070\u548c\u8282\u70b91-\u8bbe\u59070\u7684pcap\u8ddf\u8e2a\u3002</p> <p>\u6dfb\u52a0\u542f\u7528pcap\u8ddf\u8e2a\u7684\u4ee3\u7801\u884c\u540e\uff0c\u60a8\u53ef\u4ee5\u4ee5\u901a\u5e38\u7684\u65b9\u5f0f\u8fd0\u884c\u811a\u672c\uff1a</p> <pre><code>$ ./ns3 run scratch/myfirst\n</code></pre> <p>\u5982\u679c\u67e5\u770b\u5206\u53d1\u76ee\u5f55\u7684\u9876\u5c42\u76ee\u5f55\uff0c\u60a8\u73b0\u5728\u5e94\u8be5\u770b\u5230\u4e09\u4e2a\u65e5\u5fd7\u6587\u4ef6\uff1amyfirst.tr\u662f\u6211\u4eec\u5148\u524d\u68c0\u67e5\u8fc7\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u3002myfirst-0-0.pcap\u548cmyfirst-1-0.pcap\u662f\u6211\u4eec\u521a\u521a\u751f\u6210\u7684\u65b0pcap\u6587\u4ef6\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#6321-tcpdump","title":"6.3.2.1. \u4f7f\u7528tcpdump\u9605\u8bfb\u8f93\u51fa","text":"<p>\u6b64\u65f6\u6700\u5bb9\u6613\u505a\u7684\u4e8b\u60c5\u5c31\u662f==\u4f7f\u7528tcpdump\u67e5\u770bpcap\u6587\u4ef6==\u3002</p>"},{"location":"Sci_doc/ns-3/ch2/#1-myfirst-0-0pcap","title":"1. \u952e\u5165\u4e0b\u5f0f\uff0c\u67e5\u770bmyfirst-0-0.pcap","text":"<pre><code>$ tcpdump -nn -tt -r myfirst-0-0.pcap\n</code></pre> <p>\u4ece\u6587\u4ef6myfirst-0-0.pcap\u8bfb\u53d6\uff0c==\u94fe\u8def\u7c7b\u578b\u4e3aPPP==\uff08PPP\uff09 <pre><code>2.000000 IP 10.1.1.1.49153 &gt; 10.1.1.2.9: UDP, length 1024\n2.514648 IP 10.1.1.2.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre></p> <p>\u6bd4\u5982\uff0c\u5728\u6211\u7684\u7535\u8111\u4e0a\u663e\u793a\uff1a <pre><code>huluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37$ tcpdump -nn -tt -r myfirst-0-0.pcap\nreading from file myfirst-0-0.pcap, link-type PPP (PPP), snapshot length 65535\n2.000000 IP 10.1.1.1.49153 &gt; 10.1.1.2.9: UDP, length 1024\n2.514648 IP 10.1.1.2.9 &gt; 10.1.1.1.49153: UDP, length 1024\nhuluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37$ \n</code></pre></p>"},{"location":"Sci_doc/ns-3/ch2/#2-myfirst-1-0pcap","title":"2. \u952e\u5165\u4e0b\u5f0f\uff0c\u67e5\u770bmyfirst-1-0.pcap","text":"<pre><code>$ tcpdump -nn -tt -r myfirst-1-0.pcap\n</code></pre> <p>\u4ece\u6587\u4ef6myfirst-1-0.pcap\u8bfb\u53d6\uff0c\u94fe\u8def\u7c7b\u578b\u4e3aPPP\uff08PPP\uff09 <pre><code>2.257324 IP 10.1.1.1.49153 &gt; 10.1.1.2.9: UDP, length 1024\n2.257324 IP 10.1.1.2.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre></p> <p>\u6bd4\u5982\uff0c\u5728\u6211\u7684\u7535\u8111\u4e0a\u663e\u793a\uff1a <pre><code>huluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37$ tcpdump -nn -tt -r myfirst-1-0.pcap\nreading from file myfirst-1-0.pcap, link-type PPP (PPP), snapshot length 65535\n2.257324 IP 10.1.1.1.49153 &gt; 10.1.1.2.9: UDP, length 1024\n2.257324 IP 10.1.1.2.9 &gt; 10.1.1.1.49153: UDP, length 1024\nhuluobo@ubuntu:/Users/huluobo/Desktop/workspace/ns-3-allinone/ns-3.37$\n</code></pre></p> <p>Corollary: \u60a8\u53ef\u4ee5\u5728myfirst-0-0.pcap\u7684\u8f6c\u50a8\u4e2d\u770b\u5230\uff08\u5ba2\u6237\u7aef\u8bbe\u5907\uff09\u5728\u6a21\u62df\u4e2d\u76842\u79d2\u65f6\u53d1\u9001\u7684\u56de\u663e\u6570\u636e\u5305\u3002(Client\u5728t=2\u65f6\u53d1\u9001\u6570\u636e\u5305) \u5982\u679c\u67e5\u770b\u7b2c\u4e8c\u4e2a\u8f6c\u50a8\uff08myfirst-1-0.pcap\uff09\uff0c\u60a8\u5c06\u770b\u5230\u8be5\u6570\u636e\u5305\u57282.257324\u79d2\u65f6\u88ab\u63a5\u6536\u3002\uff08Server\u5728t=2.257324\u65f6\u63a5\u6536\u5230\u8be5\u6570\u636e\u5305\uff09 \u60a8\u53ef\u4ee5\u5728\u7b2c\u4e8c\u4e2a\u8f6c\u50a8\u4e2d\u770b\u5230\u57282.257324\u79d2\u65f6\u56de\u663e\u8be5\u6570\u636e\u5305\u3002\uff08Server\u5728t=2.257324\u65f6\u56de\u4f20\u8be5\u6570\u636e\u5305\uff09 \u6700\u540e\uff0c\u5728\u7b2c\u4e00\u4e2a\u8f6c\u50a8\u4e2d\u57282.514648\u79d2\u65f6\u518d\u6b21\u63a5\u6536\u8be5\u6570\u636e\u5305\u3002\uff08Client\u5728t=2.514648\u65f6\u6536\u5230Server\u56de\u4f20\u5230\u6570\u636e\u5305\uff09</p>"},{"location":"Sci_doc/ns-3/ch2/#6322-wireshark","title":"6.3.2.2. \u4f7f\u7528Wireshark\u9605\u8bfb\u8f93\u51fa","text":"<p>\u5982\u679c\u60a8\u4e0d\u719f\u6089Wireshark\uff0c\u53ef\u4ee5\u4ece\u4ee5\u4e0b\u7f51\u7ad9\u4e0b\u8f7d\u7a0b\u5e8f\u548c\u6587\u6863\uff1ahttp://www.wireshark.org/\u3002</p> <p>Wireshark\u662f\u4e00\u4e2a\u56fe\u5f62\u7528\u6237\u754c\u9762\uff0c\u53ef\u7528\u4e8e\u663e\u793a\u8fd9\u4e9b\u8ddf\u8e2a\u6587\u4ef6\u3002\u5982\u679c\u60a8\u6709Wireshark\uff0c\u53ef\u4ee5\u6253\u5f00\u6bcf\u4e2a\u8ddf\u8e2a\u6587\u4ef6\uff0c\u5e76\u50cf\u4f7f\u7528\u6570\u636e\u5305\u55c5\u63a2\u5668\u6355\u83b7\u6570\u636e\u5305\u4e00\u6837\u663e\u793a\u5176\u5185\u5bb9\u3002</p> <p>\u6211\u4e2a\u4eba\u76ee\u524d\u4e0d\u51c6\u5907\u76f4\u63a5\u4e0a\u56fe\u5f62\u5316\u754c\u9762\uff0c\u540e\u9762\u518d\u770b\u5427</p>"},{"location":"Sci_doc/ns-3/ch3/","title":"ns-3 \u6a21\u62df\u5efa\u7acb\u62d3\u6251\u7ed3\u6784","text":""},{"location":"Sci_doc/ns-3/ch3/#71-building-a-bus-network-topology","title":"7.1. Building a Bus Network Topology","text":"<p>\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u5c06\u6269\u5c55\u5bf9ns-3\u7f51\u7edc\u8bbe\u5907\u548c\u901a\u9053\u7684\u4e86\u89e3\uff0c\u4ecb\u7ecd\u4e00\u79cd\u603b\u7ebf\u7f51\u7edc\u7684\u793a\u4f8b\u3002ns-3\u63d0\u4f9b\u4e86\u4e00\u79cd\u6211\u4eec\u79f0\u4e4b\u4e3aCSMA\uff08Carrier Sense Multiple Access\uff09\u7684\u7f51\u7edc\u8bbe\u5907\u548c\u901a\u9053\u3002</p> <p>ns-3 CSMA\u8bbe\u5907\u6a21\u62df\u4e86\u4ee5\u592a\u7f51\u7684\u7b80\u5355\u7f51\u7edc\u3002==\u5b9e\u9645\u7684\u4ee5\u592a\u7f51\u4f7f\u7528CSMA/CD\uff08\u8f7d\u6ce2\u76d1\u542c\u591a\u8def\u8bbf\u95ee\u4e0e\u51b2\u7a81\u68c0\u6d4b\uff09\u65b9\u6848==\uff0c\u901a\u8fc7\u6307\u6570\u589e\u52a0\u7684\u9000\u907f\u6765\u4e89\u593a\u5171\u4eab\u4f20\u8f93\u4ecb\u8d28\u3002\u800c==ns-3 CSMA\u8bbe\u5907\u548c\u901a\u9053\u4ec5\u6a21\u62df\u4e86\u8fd9\u4e2a\u65b9\u6848\u7684\u4e00\u90e8\u5206==\u3002</p> <p>\u5c31\u50cf\u6211\u4eec\u5728\u6784\u5efa\u70b9\u5bf9\u70b9\u62d3\u6251\u65f6\u770b\u5230\u7684\u70b9\u5bf9\u70b9\u62d3\u6251\u5e2e\u52a9\u5bf9\u8c61\u4e00\u6837\uff0c\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u770b\u5230\u7b49\u6548\u7684CSMA\u62d3\u6251\u5e2e\u52a9\u5bf9\u8c61\uff08CSMA\u5efa\u7acb\u52a9\u624b\uff09\u3002\u8fd9\u4e9b\u5e2e\u52a9\u5668\u7684\u5916\u89c2\u548c\u64cd\u4f5c\u5e94\u8be5\u5bf9\u4f60\u6765\u8bf4\u975e\u5e38\u719f\u6089\u3002</p> <p>\u6211\u4eec\u5728examples/tutorial\u76ee\u5f55\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u811a\u672c\u3002\u8fd9\u4e2a\u811a\u672c\u57fa\u4e8efirst.cc\u811a\u672c\uff0c\u5411\u6211\u4eec\u5df2\u7ecf\u8003\u8651\u8fc7\u7684\u70b9\u5bf9\u70b9\u4eff\u771f\u4e2d\u6dfb\u52a0\u4e86CSMA\u7f51\u7edc\u3002\u8bf7\u6253\u5f00\u4f60\u559c\u6b22\u7684\u7f16\u8f91\u5668\u5e76\u67e5\u770bexamples/tutorial/second.cc\u3002\u4f60\u5df2\u7ecf\u770b\u5230\u4e86\u8db3\u591f\u7684ns-3\u4ee3\u7801\uff0c\u4ee5\u7406\u89e3\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u53d1\u751f\u7684\u5927\u90e8\u5206\u4e8b\u60c5\uff0c\u4f46\u6211\u4eec\u5c06\u68c0\u67e5\u6574\u4e2a\u811a\u672c\u5e76\u67e5\u770b\u4e00\u4e9b\u8f93\u51fa\u3002</p> <p>\u5c31\u50cf\u5728first.cc\u793a\u4f8b\u4e2d\uff08\u4ee5\u53ca\u6240\u6709ns-3\u793a\u4f8b\u4e2d\uff09\u4e00\u6837\uff0c\u6587\u4ef6\u4ee5emacs\u6a21\u5f0f\u884c\u548c\u4e00\u4e9bGPL\u6837\u677f\u5f00\u5934\u3002</p> <p>\u5b9e\u9645\u7684\u4ee3\u7801\u901a\u8fc7\u52a0\u8f7d\u6a21\u5757\u5305\u542b\u6587\u4ef6\u5f00\u59cb\uff0c\u5c31\u50cf\u5728first.cc\u793a\u4f8b\u4e2d\u6240\u505a\u7684\u90a3\u6837\u3002</p> <pre><code>#include \"ns3/core-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n</code></pre> <p>\u4ee4\u4eba\u60ca\u8bb6\u4f46\u975e\u5e38\u6709\u7528\u7684\u4e00\u70b9\u662f\uff0c\u6709\u4e00\u5c0f\u6bb5ASCII\u827a\u672f\uff0c\u663e\u793a\u4e86\u5728\u793a\u4f8b\u4e2d\u6784\u5efa\u7684\u7f51\u7edc\u62d3\u6251\u7684\u56fe\u5f62\u5316\u793a\u610f\uff08\u5c0f\u5361\u901acartoon\uff09\u3002\u4f60\u4f1a\u5728\u6211\u4eec\u7684\u5927\u591a\u6570\u793a\u4f8b\u4e2d\u627e\u5230\u7c7b\u4f3c\u7684\u201c\u56fe\u201d\u3002</p> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u5c06\u6269\u5c55\u6211\u4eec\u7684==\u70b9\u5bf9\u70b9\u793a\u4f8b==\uff08\u4e0b\u9762\u7684n0\u548cn1\u4e4b\u95f4\u7684\u94fe\u63a5\uff09\u901a\u8fc7==\u5728\u53f3\u4fa7\u6302\u8f7d\u4e00\u4e2a\u603b\u7ebf\u7f51\u7edc==\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u662f\u9ed8\u8ba4\u7684\u7f51\u7edc\u62d3\u6251\uff0c\u56e0\u4e3a\u4f60\u5b9e\u9645\u4e0a\u53ef\u4ee5\u6539\u53d8\u5728LAN\u4e0a\u521b\u5efa\u7684\u8282\u70b9\u7684\u6570\u91cf\u3002\u5982\u679c\u5c06nCsma\u8bbe\u7f6e\u4e3a1\uff0c\u5219LAN\uff08CSMA\u901a\u9053\uff09\u4e0a\u5c06\u6709\u603b\u5171\u4e24\u4e2a\u8282\u70b9\uff08CSMA\u8bbe\u5907\uff09\u2014\u2014\u4e00\u4e2a\u5fc5\u9700\u7684\u8282\u70b9\u548c\u4e00\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6709\u4e09\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>// \u9ed8\u8ba4\u7f51\u7edc\u62d3\u6251\n//\n//       10.1.1.0\n// n0 -------------- n1   n2   n3   n4\n//    \u70b9\u5bf9\u70b9         |    |    |    |\n//                    ================\n//                      LAN 10.1.2.0\n</code></pre> <p>\u7136\u540e\u4f7f\u7528ns-3\u547d\u540d\u7a7a\u95f4\u5e76\u5b9a\u4e49\u4e00\u4e2a\u65e5\u5fd7\u8bb0\u5f55\u7ec4\u4ef6\u3002\u8fd9\u4e0efirst.cc\u4e2d\u7684\u64cd\u4f5c\u5b8c\u5168\u76f8\u540c\uff0c\u56e0\u6b64\u8fd8\u6ca1\u6709\u65b0\u4e1c\u897f\u3002</p> <pre><code>using namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"SecondScriptExample\");\n</code></pre> <p>\u4e3b\u7a0b\u5e8f\u4ee5\u7a0d\u5fae\u4e0d\u540c\u7684\u65b9\u5f0f\u5f00\u59cb\u3002\u6211\u4eec\u4f7f\u7528==verbose\u6807\u5fd7==\u6765\u786e\u5b9a==\u662f\u5426\u542f\u7528UdpEchoClientApplication\u548cUdpEchoServerApplication\u65e5\u5fd7\u8bb0\u5f55==\u7ec4\u4ef6\u3002\u6b64\u6807\u5fd7\u9ed8\u8ba4\u4e3atrue\uff08\u542f\u7528\u65e5\u5fd7\u8bb0\u5f55\u7ec4\u4ef6\uff09\uff0c\u4f46\u4e5f\u5141\u8bb8\u6211\u4eec\u5728\u5bf9\u8be5\u793a\u4f8b\u8fdb\u884c\u56de\u5f52\u6d4b\u8bd5\u65f6\u5173\u95ed\u65e5\u5fd7\u8bb0\u5f55\u3002</p> <p>\u4f60\u5c06\u770b\u5230\u4e00\u4e9b\u719f\u6089\u7684\u4ee3\u7801\uff0c\u8fd9\u5c06\u5141\u8bb8\u4f60==\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u66f4\u6539CSMA\u7f51\u7edc\u4e0a\u7684\u8bbe\u5907\u6570\u91cf\u3002==\u6211\u4eec\u5728\u5904\u7406\u547d\u4ee4\u884c\u53c2\u6570\u7684\u90e8\u5206\u5141\u8bb8\u66f4\u6539\u53d1\u9001\u7684\u6570\u636e\u5305\u6570\u91cf\u65f6\u5df2\u7ecf\u505a\u8fc7\u7c7b\u4f3c\u7684\u4e8b\u60c5\u3002\u6700\u540e\u4e00\u884c\u786e\u4fdd\u4f60\u81f3\u5c11\u6709\u4e00\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\u3002</p> <pre><code>bool verbose = true; \nuint32_t nCsma = 3;\n\nCommandLine cmd;\ncmd.AddValue(\"nCsma\", \"Number of \\\"extra\\\" CSMA nodes/devices\", nCsma);\ncmd.AddValue(\"verbose\", \"Tell echo applications to log if true\", verbose);\n\ncmd.Parse(argc, argv);\n\nif (verbose)\n{\n  LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n}\n\nnCsma = nCsma == 0 ? 1 : nCsma;\n</code></pre> <p>\u63a5\u4e0b\u6765\u7684\u6b65\u9aa4\u662f\u521b\u5efa\u4e24\u4e2a\u6211\u4eec\u5c06\u901a\u8fc7\u70b9\u5bf9\u70b9\u94fe\u63a5\u8fde\u63a5\u7684\u8282\u70b9\u3002NodeContainer\u7528\u4e8e\u6267\u884c\u8fd9\u4e2a\u64cd\u4f5c\uff0c\u5c31\u50cf\u5728first.cc\u4e2d\u6240\u505a\u7684\u90a3\u6837\u3002</p> <pre><code>NodeContainer p2pNodes;\np2pNodes.Create(2);\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u58f0\u660e\u53e6\u4e00\u4e2aNodeContainer\u6765\u4fdd\u5b58\u5c06\u6210\u4e3a\u603b\u7ebf\uff08CSMA\uff09\u7f51\u7edc\u4e00\u90e8\u5206\u7684\u8282\u70b9\u3002\u9996\u5148\uff0c\u6211\u4eec\u53ea\u662f\u5b9e\u4f8b\u5316\u5bb9\u5668\u5bf9\u8c61\u672c\u8eab\u3002</p> <pre><code>NodeContainer csmaNodes;\ncsmaNodes.Add(p2pNodes.Get(1));\ncsmaNodes.Create(nCsma);\n</code></pre> <p>\u4e0b\u4e00\u884c\u4ee3\u7801\u4ece==\u70b9\u5bf9\u70b9\u8282\u70b9\u5bb9\u5668\u4e2d\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8282\u70b9==\uff08\u7d22\u5f15\u4e3a1\uff09\uff0c\u5e76==\u5c06\u5176\u6dfb\u52a0\u5230\u5c06\u83b7\u53d6CSMA\u8bbe\u5907\u7684\u8282\u70b9\u5bb9\u5668==\u3002\u6211\u4eec\u8981\u8ba8\u8bba\u7684\u8282\u70b9\u6700\u7ec8\u5c06\u5177\u6709\u70b9\u5bf9\u70b9\u8bbe\u5907\u548cCSMA\u8bbe\u5907\u3002\u7136\u540e\uff0c\u6211\u4eec\u521b\u5efa\u7ec4\u6210CSMA\u7f51\u7edc\u5176\u4f59\u90e8\u5206\u7684\u201c\u989d\u5916\u201d\u8282\u70b9\u7684\u6570\u91cf\u3002\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u6709\u4e00\u4e2a\u8282\u70b9\u5728CSMA\u7f51\u7edc\u4e2d\u2014\u2014\u5373\u5c06\u540c\u65f6\u5177\u6709\u70b9\u5bf9\u70b9\u548cCSMA\u7f51\u7edc\u8bbe\u5907\u7684\u8282\u70b9\uff0c==\u6240\u4ee5\u201c\u989d\u5916\u201d\u8282\u70b9\u7684\u6570\u91cf\u8868\u793a\u4f60\u5728CSMA\u90e8\u5206\u4e2d\u9700\u8981\u7684\u8282\u70b9\u6570\u51cf\u53bb1==\u3002</p> <p>\u4e0b\u4e00\u90e8\u5206\u7684\u4ee3\u7801\u5230\u76ee\u524d\u4e3a\u6b62\u5e94\u8be5\u975e\u5e38\u719f\u6089\u3002\u6211\u4eec==\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2aPointToPointHelper==\uff0c\u5e76\u8bbe\u7f6e\u4e86\u5173\u8054\u7684\u9ed8\u8ba4\u5c5e\u6027\uff0c\u4ee5\u4fbf\u4f7f\u7528\u8be5\u52a9\u624b\u521b\u5efa\u7684\u8bbe\u5907\u4e0a\u6709\u4e00\u4e2a==\u6bcf\u79d25\u5146\u6bd4\u7279\u7684\u53d1\u9001\u5668==\uff0c\u5e76\u4e14\u7531\u8be5\u52a9\u624b==\u521b\u5efa\u7684\u901a\u9053\u4e0a\u67092\u6beb\u79d2\u7684\u5ef6\u8fdf==\u3002</p> <pre><code>PointToPointHelper pointToPoint;\npointToPoint.SetDeviceAttribute(\"\n\nDataRate\", StringValue(\"5Mbps\"));\npointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n\nNetDeviceContainer p2pDevices;\np2pDevices = pointToPoint.Install(p2pNodes);\n</code></pre> <p>\u7136\u540e\uff0c\u6211\u4eec==\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2aNetDeviceContainer\u6765\u8ddf\u8e2a\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907==\uff0c\u5e76\u5728==\u70b9\u5bf9\u70b9\u8282\u70b9\u4e0a\u5b89\u88c5\u8bbe\u5907==\u3002</p> <p>\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u4f60\u5c06\u770b\u5230==CSMA\u8bbe\u5907\u548c\u901a\u9053\u7684\u5e2e\u52a9\u5668==\uff0c\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u5f15\u5165\u4e86\u5b83\u4eec\u3002CsmaHelper\u7684\u5de5\u4f5c\u65b9\u5f0f\u4e0ePointToPointHelper\u76f8\u540c\uff0c\u4f46\u5b83\u521b\u5efa\u5e76\u8fde\u63a5CSMA\u8bbe\u5907\u548c\u901a\u9053\u3002\u5728CSMA\u8bbe\u5907\u548c==\u901a\u9053\u5bf9==\u4e2d\uff0c\u6ce8\u610f\u6570\u636e\u901f\u7387\u662f\u901a\u8fc7\u901a\u9053\u5c5e\u6027\u6307\u5b9a\u800c\u4e0d\u662f\u8bbe\u5907\u5c5e\u6027\u3002\u8fd9\u662f\u56e0\u4e3a\u771f\u5b9e\u7684CSMA\u7f51\u7edc\u4e0d\u5141\u8bb8\u5728\u7ed9\u5b9a\u901a\u9053\u4e0a\u6df7\u5408\u4f7f\u7528\u4e0d\u540c\u901f\u7387\u7684\u8bbe\u5907\uff0c\u4f8b\u598210Base-T\u548c100Base-T\u8bbe\u5907\u3002\u6211\u4eec\u9996\u5148\u5c06==\u6570\u636e\u901f\u7387\u8bbe\u7f6e==\u4e3a\u6bcf\u79d2100\u5146\u6bd4\u7279\uff0c\u7136\u540e\u5c06==\u901a\u9053\u7684\u5149\u901f\u5ef6\u8fdf==\u8bbe\u7f6e\u4e3a6560\u7eb3\u79d2\uff08\u4efb\u610f\u9009\u62e9\uff0c\u5047\u8bbe\u6bcf2000\u7c73\u6bb51\u7eb3\u79d2\uff09\uff0c\u8bf7\u6ce8\u610f\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528\u5176\u672c\u673a\u6570\u636e\u7c7b\u578b\u8bbe\u7f6e\u5c5e\u6027\u3002</p> <pre><code>CsmaHelper csma;\ncsma.SetChannelAttribute(\"DataRate\", StringValue(\"100Mbps\"));\ncsma.SetChannelAttribute(\"Delay\", TimeValue(NanoSeconds(6560)));\n\nNetDeviceContainer csmaDevices;\ncsmaDevices = csma.Install(csmaNodes);\n</code></pre> <p>\u5c31\u50cf\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2aNetDeviceContainer\u6765\u4fdd\u5b58\u7531PointToPointHelper\u521b\u5efa\u7684\u8bbe\u5907\u4e00\u6837\uff0c==\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2aNetDeviceContainer\u6765\u4fdd\u5b58\u7531CsmaHelper\u521b\u5efa\u7684\u8bbe\u5907==\u3002\u6211\u4eec\u8c03\u7528CsmaHelper\u7684Install\u65b9\u6cd5\uff0c==\u5c06\u8bbe\u5907\u5b89\u88c5\u5230csmaNodes NodeContainer\u7684\u8282\u70b9\u4e2d\u3002==</p> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u8282\u70b9\u3001\u8bbe\u5907\u548c\u901a\u9053\uff0c\u4f46\u6211\u4eec\u6ca1\u6709\u534f\u8bae\u6808\u3002\u5c31\u50cf\u5728first.cc\u811a\u672c\u4e2d\u4e00\u6837\uff0c\u6211\u4eec\u5c06\u4f7f\u7528InternetStackHelper\u6765\u5b89\u88c5\u8fd9\u4e9b\u6808\u3002</p> <pre><code>InternetStackHelper stack;\nstack.Install(p2pNodes.Get(0));\nstack.Install(csmaNodes);\n</code></pre> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u4ecep2pNodes\u5bb9\u5668\u4e2d\u53d6\u51fa\u4e86\u4e00\u4e2a\u8282\u70b9\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230csmaNodes\u5bb9\u5668\u4e2d\u3002\u56e0\u6b64\uff0c==\u6211\u4eec\u53ea\u9700\u8981\u5728\u5269\u4f59\u7684p2pNodes\u8282\u70b9\u548ccsmaNodes\u5bb9\u5668\u4e2d\u7684\u6240\u6709\u8282\u70b9\u4e0a\u5b89\u88c5\u534f\u8bae\u6808\uff0c\u4ee5\u8986\u76d6\u4eff\u771f\u4e2d\u7684\u6240\u6709\u8282\u70b9==\u3002\u26a0\ufe0f</p> <p>\u5c31\u50cf\u5728first.cc\u793a\u4f8b\u811a\u672c\u4e2d\u4e00\u6837\uff0c\u6211\u4eec\u5c06==\u4f7f\u7528Ipv4AddressHelper\u4e3a\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740==\u3002\u9996\u5148\uff0c\u6211\u4eec\u4f7f\u7528\u7f51\u7edc10.1.1.0\u521b\u5efa\u4e24\u4e2a\u6211\u4eec\u4e24\u4e2a\u70b9\u5bf9\u70b9\u8bbe\u5907\u6240\u9700\u7684\u5730\u5740\u3002</p> <pre><code>Ipv4AddressHelper address;\naddress.SetBase(\"10.1.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer p2pInterfaces;\np2pInterfaces = address.Assign(p2pDevices);\n</code></pre> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u7684\u63a5\u53e3\u4fdd\u5b58\u5728\u5bb9\u5668\u4e2d\uff0c\u4ee5\u4fbf\u7a0d\u540e\u8f7b\u677e\u63d0\u53d6\u7528\u4e8e\u8bbe\u7f6e\u5e94\u7528\u7a0b\u5e8f\u7684\u5bfb\u5740\u4fe1\u606f\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec==\u9700\u8981\u4e3a\u6211\u4eec\u7684CSMA\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740==\u3002\u8be5\u64cd\u4f5c\u7684\u6267\u884c\u65b9\u5f0f\u4e0e\u70b9\u5bf9\u70b9\u60c5\u51b5\u76f8\u540c\uff0c\u53ea\u662f\u73b0\u5728\u6211\u4eec\u5728\u4e00\u4e2a\u5305\u542b\u53ef\u53d8\u6570\u91cfCSMA\u8bbe\u5907\u7684\u5bb9\u5668\u4e0a\u6267\u884c\u8be5\u64cd\u4f5c\u2014\u2014\u8bf7\u8bb0\u4f4f\uff0c\u6211\u4eec\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u4f7fCSMA\u8bbe\u5907\u7684\u6570\u91cf\u53ef\u53d8\u3002==\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cCSMA\u8bbe\u5907\u5c06\u4e0e\u7f51\u7edc\u7f16\u53f7\u4e3a10.1.2.0\u7684IP\u5730\u5740\u76f8\u5173\u8054==\uff0c\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>address.SetBase(\"10.1.2.0\", \"255.255.255.0\");\nIpv4InterfaceContainer csmaInterfaces;\ncsmaInterfaces = address.Assign(csmaDevices);\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5efa\u7acb\u4e86\u4e00\u4e2a\u62d3\u6251\uff0c\u4f46\u6211\u4eec\u9700\u8981\u5e94\u7528\u7a0b\u5e8f\u3002\u672c\u8282\u5c06\u57fa\u672c\u4e0a\u4e0efirst.cc\u7684\u5e94\u7528\u7a0b\u5e8f\u90e8\u5206\u76f8\u4f3c\uff0c\u4f46\u6211\u4eec\u5c06\u5728\u5177\u6709CSMA\u8bbe\u5907\u7684\u8282\u70b9\u4e0a\u5b9e\u4f8b\u5316\u670d\u52a1\u5668\uff0c\u800c\u5728\u4ec5\u5177\u6709\u70b9\u5bf9\u70b9\u8bbe\u5907\u7684\u8282\u70b9\u4e0a\u5b9e\u4f8b\u5316\u5ba2\u6237\u7aef\u3002</p> <p>\u9996\u5148\uff0c\u6211\u4eec\u8bbe\u7f6e\u56de\u663e\u670d\u52a1\u5668\u3002\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2aUdpEchoServerHelper\uff0c\u5e76\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4e3a\u5176\u63d0\u4f9b\u4e86\u4e00\u4e2a\u6240\u9700\u7684\u5c5e\u6027\u503c\uff0c\u5373\u670d\u52a1\u5668\u7aef\u53e3\u53f7\u3002\u8bf7\u8bb0\u4f4f\uff0c\u7a0d\u540e\u53ef\u4ee5\u4f7f\u7528SetAttribute\u65b9\u6cd5\u66f4\u6539\u6b64\u7aef\u53e3\uff08\u5982\u679c\u9700\u8981\uff09\uff0c\u4f46\u6211\u4eec\u8981\u6c42\u5728\u6784\u9020\u51fd\u6570\u4e2d\u63d0\u4f9b\u5b83\u3002</p> <pre><code>UdpEchoServerHelper echoServer(9);\n\nApplicationContainer serverApps = echoServer.Install(csmaNodes.Get(nCsma));\nserverApps.Start(Seconds(1.0));\nserverApps.Stop(Seconds(10.0));\n</code></pre> <p>csmaNodes NodeContainer\u5305\u542b\u4e3a\u70b9\u5bf9\u70b9\u7f51\u7edc\u521b\u5efa\u7684\u4e00\u4e2a\u8282\u70b9\u548cnCsma\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\u3002\u6211\u4eec\u60f3\u8981\u83b7\u53d6\u7684\u662f\u201c\u989d\u5916\u201d\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\u3002csmaNodes\u5bb9\u5668\u7684\u7b2c\u96f6\u4e2a\u6761\u76ee\u5c06\u662f\u70b9\u5bf9\u70b9\u8282\u70b9\u3002\u56e0\u6b64\uff0c==\u7b80\u5355\u7684\u601d\u8003\u65b9\u5f0f\u662f\uff0c\u5982\u679c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u201c\u989d\u5916\u201d\u7684CSMA\u8282\u70b9\uff0c\u90a3\u4e48\u5b83\u5c06\u4f4d\u4e8ecsmaNodes\u5bb9\u5668\u7684\u7d22\u5f151\u5904==\u3002\u5f52\u7eb3\u8d77\u6765\uff0c==\u5982\u679c\u6211\u4eec\u521b\u5efanCsma\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\uff0c\u6700\u540e\u4e00\u4e2a\u5c06\u4f4d\u4e8e\u7d22\u5f15nCsma\u5904==\u3002\u4f60\u53ef\u4ee5\u5728\u4ee3\u7801\u7684\u7b2c\u4e00\u884c\u7684Get\u4e2d\u770b\u5230\u8fd9\u4e00\u70b9\u3002</p> <p>\u5ba2\u6237\u7aef\u5e94\u7528\u7a0b\u5e8f\u7684\u8bbe\u7f6e\u4e0efirst.cc\u793a\u4f8b\u811a\u672c\u4e2d\u6240\u505a\u7684\u5b8c\u5168\u76f8\u540c\u3002\u518d\u6b21\u5728\u6784\u9020\u51fd\u6570\u4e2d\u4e3a==UdpEchoClientHelper\u63d0\u4f9b\u6240\u9700\u7684\u5c5e\u6027\uff08\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662f\u8fdc\u7a0b\u5730\u5740\u548c\u7aef\u53e3\uff09==\u3002\u6211\u4eec==\u544a\u8bc9\u5ba2\u6237\u7aef\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u521a\u521a\u5728\u201c\u989d\u5916\u201d\u7684CSMA\u8282\u70b9\u4e0a\u5b89\u88c5\u7684\u670d\u52a1\u5668==\u3002\u6211\u4eec\u5c06\u5ba2\u6237\u7aef\u5b89\u88c5\u5728\u62d3\u6251\u793a\u610f\u56fe\u4e2d\u6700\u5de6\u4fa7\u7684\u70b9\u5bf9\u70b9\u8282\u70b9\u4e0a\u3002</p> <pre><code>UdpEchoClientHelper echoClient(csmaInterfaces.GetAddress(nCsma), 9);\nechoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));\nechoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0)));\nechoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));\n\nApplicationContainer clientApps = echoClient.Install(p2pNodes.Get(0));\nclientApps.Start(Seconds(2.0));\nclientApps.Stop(Seconds(10.0));\n</code></pre> <p>\u7531\u4e8e\u6211\u4eec\u5b9e\u9645\u4e0a\u5728\u8fd9\u91cc\u5efa\u7acb\u4e86\u4e00\u4e2a\u4e92\u8054\u7f51\uff0c\u6211\u4eec\u9700\u8981\u67d0\u79cd\u5f62\u5f0f\u7684\u4e92\u8054\u7f51\u8def\u7531\u3002ns-3\u63d0\u4f9b\u4e86\u6211\u4eec\u79f0\u4e4b\u4e3a\u5168\u5c40\u8def\u7531\u7684\u5e2e\u52a9\u5668\u3002\u5168\u5c40\u8def\u7531\u5229\u7528\u4eff\u771f\u4e2d\u6574\u4e2a\u4e92\u8054\u7f51\u53ef\u8bbf\u95ee\u7684\u4e8b\u5b9e\uff0c\u5e76\u901a\u8fc7\u4eff\u771f\u4e2d\u521b\u5efa\u7684\u6240\u6709\u8282\u70b9\u8fd0\u884c\u2014\u2014\u5b83\u4e3a\u4f60\u8bbe\u7f6e\u4e86\u8def\u7531\uff0c\u800c\u65e0\u9700\u914d\u7f6e\u8def\u7531\u5668\u3002</p> <p>==\u57fa\u672c\u4e0a\uff0c\u6bcf\u4e2a\u8282\u70b9\u7684\u884c\u4e3a\u90fd\u597d\u50cf\u5b83\u662f\u4e00\u4e2aOSPF\u8def\u7531\u5668\uff0c\u4e0e\u5e55\u540e\u7684\u6240\u6709\u5176\u4ed6\u8def\u7531\u5668\u8fdb\u884c\u5373\u65f6\u548c\u795e\u5947\u7684\u901a\u4fe1==\u3002\u6bcf\u4e2a\u8282\u70b9\u751f\u6210\u94fe\u63a5\u5e7f\u64ad\uff0c\u5e76\u76f4\u63a5\u5c06\u5b83\u4eec\u901a\u4fe1\u5230\u5168\u5c40\u8def\u7531\u7ba1\u7406\u5668\uff0c\u8be5\u7ba1\u7406\u5668\u4f7f\u7528\u6b64\u5168\u5c40\u4fe1\u606f\u6784\u9020\u6bcf\u4e2a\u8282\u70b9\u7684\u8def\u7531\u8868\u3002\u8bbe\u7f6e\u8fd9\u79cd\u5f62\u5f0f\u7684\u8def\u7531\u662f\u4e00\u4e2a\u4e00\u884c\u4ee3\u7801\u7684\u64cd\u4f5c\uff1a</p> <pre><code>Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n</code></pre> <p>\u63a5\u4e0b\u6765\u6211\u4eec\u542f\u7528pcap\u8ddf\u8e2a\u3002\u542f\u7528\u70b9\u5bf9\u70b9\u52a9\u624b\u4e2d\u7684pcap\u8ddf\u8e2a\u7684\u7b2c\u4e00\u884c\u4ee3\u7801\u73b0\u5728\u5bf9\u4f60\u6765\u8bf4\u5e94\u8be5\u5f88\u719f\u6089\u3002\u7b2c\u4e8c\u884c\u542f\u7528CSMA\u52a9\u624b\u4e2d\u7684pcap\u8ddf\u8e2a\uff0c\u5e76\u4e14\u8fd8\u6709\u4e00\u4e2a\u4f60\u8fd8\u6ca1\u6709\u9047\u5230\u7684\u989d\u5916\u53c2\u6570\u3002</p> <pre><code>pointToPoint.EnablePcapAll(\"second\");\ncsma.EnablePcap(\"second\", csmaDevices.Get(1), true);\n</code></pre> <p>CSMA\u7f51\u7edc\u662f\u4e00\u4e2a\u591a\u70b9\u5230\u70b9\u7f51\u7edc\u3002\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\uff08\u5e76\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\u786e\u5b9e\uff09\u5728\u5171\u4eab\u5a92\u4f53\u4e0a\u5b58\u5728\u591a\u4e2a\u7aef\u70b9\u3002\u6bcf\u4e2a\u7aef\u70b9\u90fd\u6709\u4e0e\u5176\u5173\u8054\u7684\u7f51\u7edc\u8bbe\u5907\u3002\u4ece\u8fd9\u79cd\u7f51\u7edc\u4e2d\u83b7\u53d6\u8ddf\u8e2a\u4fe1\u606f\u7684\u57fa\u672c\u66ff\u4ee3\u65b9\u6cd5\u6709\u4e24\u79cd\u3002\u4e00\u79cd\u65b9\u6cd5\u662f\u4e3a\u6bcf\u4e2a\u7f51\u7edc\u8bbe\u5907\u521b\u5efa\u4e00\u4e2a\u8ddf\u8e2a\u6587\u4ef6\uff0c\u5e76\u4ec5\u5b58\u50a8\u8be5\u7f51\u7edc\u8bbe\u5907\u53d1\u51fa\u6216\u6d88\u8017\u7684\u6570\u636e\u5305\u3002\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u9009\u62e9\u5176\u4e2d\u4e00\u4e2a\u8bbe\u5907\u5e76\u5c06\u5176\u7f6e\u4e8e\u6df7\u6742\u6a21\u5f0f\u3002\u7136\u540e\uff0c\u8be5\u5355\u4e2a\u8bbe\u5907\u5c06\u5bf9\u6240\u6709\u6570\u636e\u5305\u8fdb\u884c\u201c\u55c5\u63a2\u201d\u5e76\u5c06\u5b83\u4eec\u5b58\u50a8\u5728\u5355\u4e2apcap\u6587\u4ef6\u4e2d\u3002\u8fd9\u5c31\u662f==\u4f8b\u5982tcpdump\u7684\u5de5\u4f5c\u65b9\u5f0f==\u3002\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u544a\u8bc9CSMA\u52a9\u624b\u662f\u5426\u5b89\u6392\u4ee5\u6df7\u6742\u6a21\u5f0f\u6355\u83b7\u6570\u636e\u5305\u3002</p> <p>\u5728\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c==\u6211\u4eec\u5c06\u9009\u62e9CSMA\u7f51\u7edc\u4e0a\u7684\u4e00\u4e2a\u8bbe\u5907\uff0c\u5e76\u8981\u6c42\u5176\u4ee5\u6df7\u6742\u6a21\u5f0f\u5bf9\u7f51\u7edc\u8fdb\u884c\u55c5\u63a2\uff0c\u4ece\u800c\u6a21\u62dftcpdump\u7684\u64cd\u4f5c==\u3002\u5982\u679c\u4f60\u5728Linux\u673a\u5668\u4e0a\uff0c\u4f60\u53ef\u80fd\u4f1a\u505a\u4e00\u4e9b\u7c7b\u4f3c\u4e8etcpdump -i eth0\u7684\u4e8b\u60c5\u6765\u83b7\u53d6\u8ddf\u8e2a\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c==\u6211\u4eec\u4f7f\u7528csmaDevices.Get(1)\u6307\u5b9a\u8bbe\u5907\uff0c\u9009\u62e9\u5bb9\u5668\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u3002\u5c06\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u8bbe\u7f6e\u4e3atrue\u5c06\u542f\u7528\u6df7\u6742\u6a21\u5f0f\u6355\u83b7==\u3002</p> <p>\u6700\u540e\u4e00\u90e8\u5206\u7684\u4ee3\u7801\u8fd0\u884c\u548c\u6e05\u7406\u4eff\u771f\uff0c\u5c31\u50cffirst.cc\u793a\u4f8b\u4e00\u6837\u3002</p> <pre><code>Simulator::Run();\nSimulator::Destroy();\nreturn 0;\n}\n</code></pre> <p>\u4e3a\u4e86\u8fd0\u884c\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u5c06second.cc\u793a\u4f8b\u811a\u672c\u590d\u5236\u5230scratch\u76ee\u5f55\uff0c\u5e76\u4f7f\u7528ns3\u6784\u5efa\u811a\u672c\u8fdb\u884c\u6784\u5efa\uff0c\u5c31\u50cf\u5728first.cc\u793a\u4f8b\u4e2d\u4e00\u6837\u3002\u5982\u679c\u4f60\u5728\u5b58\u50a8\u5e93\u7684\u9876\u5c42\u76ee\u5f55\uff0c\u53ea\u9700\u952e\u5165\uff1a</p> <pre><code>$ cp examples/tutorial/second.cc scratch/mysecond.cc\n$ ./ns3 build\n</code></pre> <p>\u8b66\u544a\uff1a\u6211\u4eec\u5c06\u6587\u4ef6second.cc\u7528\u4f5c\u56de\u5f52\u6d4b\u8bd5\u4e4b\u4e00\uff0c\u4ee5\u786e\u4fdd\u5b83\u786e\u5207\u5730\u6309\u7167\u6211\u4eec\u7684\u671f\u671b\u5de5\u4f5c\uff0c\u4ee5\u4f7f\u4f60\u7684\u6559\u7a0b\u4f53\u9a8c\u53d8\u5f97\u79ef\u6781\u3002\u8fd9\u610f\u5473\u7740\u9879\u76ee\u4e2d\u5df2\u7ecf\u5b58\u5728\u540d\u4e3asecond\u7684\u53ef\u6267\u884c\u6587\u4ef6\u3002\u4e3a\u4e86\u907f\u514d\u5173\u4e8e\u4f60\u6b63\u5728\u6267\u884c\u7684\u5185\u5bb9\u7684\u4efb\u4f55\u6df7\u6dc6\uff0c\u8bf7\u6267\u884c\u4e0a\u9762\u5efa\u8bae\u7684\u5c06\u5176\u91cd\u547d\u540d\u4e3amysecond.cc\u3002</p> <p>\u5982\u679c\u4f60\u6b63\u5728\u5bc6\u5207\u5173\u6ce8\u6559\u7a0b\uff0c\u4f60\u4ecd\u7136\u53ef\u80fd\u5df2\u7ecf\u8bbe\u7f6e\u4e86NS_LOG\u53d8\u91cf\uff0c\u56e0\u6b64\u8bf7\u6e05\u9664\u8be5\u53d8\u91cf\u5e76\u8fd0\u884c\u7a0b\u5e8f\u3002</p> <pre><code>$ export NS_LOG=\"\"\n$ ./ns3 run scratch/mysecond\n</code></pre> <p>\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u8bbe\u7f6e\u4e86UDP\u56de\u663e\u5e94\u7528\u7a0b\u5e8f\u8bb0\u5f55\uff0c\u5c31\u50cf\u5728first.cc\u4e2d\u4e00\u6837\uff0c\u5f53\u4f60\u8fd0\u884c\u811a\u672c\u65f6\uff0c\u4f60\u5c06\u770b\u5230\u7c7b\u4f3c\u7684\u8f93\u51fa\u3002</p> <pre><code>At time +2s client sent 1024 bytes to 10.1.2.4 port 9\nAt time +2.0078s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.0078s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.01761s client received 1024 bytes from 10.1.2.4 port 9\n</code></pre> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u7b2c\u4e00\u6761\u6d88\u606f\u201cSent 1024 bytes to 10.1.2.4\u201d\u662fUDP\u5ba2\u6237\u7aef\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u670d\u52a1\u5668\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u670d\u52a1\u5668\u4f4d\u4e8e\u53e6\u4e00\u4e2a\u7f51\u7edc\uff0810.1.2.0\uff09\u4e0a\u3002 \u7b2c\u4e8c\u6761\u6d88\u606f\u201cReceived 1024 bytes from 10.1.1.1\u201d\u6765\u81eaUDP\u670d\u52a1\u5668\uff0c\u5728\u63a5\u6536\u5230\u56de\u663e\u6570\u636e\u5305\u65f6\u751f\u6210\u3002 \u6700\u540e\u4e00\u6761\u6d88\u606f\u201cReceived 1024 bytes from 10.1.2.4\u201d\u6765\u81ea\u5ba2\u6237\u7aef\uff0c\u8868\u793a\u5b83\u5df2\u7ecf\u4ece\u670d\u52a1\u5668\u90a3\u91cc\u6536\u5230\u4e86\u56de\u663e\u3002</p> <p>\u5982\u679c\u4f60\u73b0\u5728\u67e5\u770b\u9876\u5c42\u76ee\u5f55\uff0c\u4f60\u5c06\u627e\u5230\u4e09\u4e2a\u8ddf\u8e2a\u6587\u4ef6\uff1a</p> <pre><code>second-0-0.pcap  second-1-0.pcap  second-2-0.pcap\n</code></pre> <p>\u8ba9\u6211\u4eec\u82b1\u4e00\u70b9\u65f6\u95f4\u6765\u770b\u8fd9\u4e9b\u6587\u4ef6\u7684\u547d\u540d\u3002\u5b83\u4eec\u90fd\u5177\u6709\u76f8\u540c\u7684\u5f62\u5f0f\uff0c\\-\\-\\.pcap\u3002 \u4f8b\u5982\uff0c\u5217\u8868\u4e2d\u7684\u7b2c\u4e00\u4e2a\u6587\u4ef6\u662fsecond-0-0.pcap\uff0c\u8fd9\u662f\u6765\u81ea\u8282\u70b9\u96f6\u3001\u8bbe\u5907\u96f6\u7684pcap\u8ddf\u8e2a\u3002\u8fd9\u662f\u8282\u70b9\u96f6\u4e0a\u7684\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\u3002 \u6587\u4ef6second-1-0.pcap\u662f\u8282\u70b9\u4e00\u4e0a\u8bbe\u5907\u96f6\u7684pcap\u8ddf\u8e2a\uff0c\u4e5f\u662f\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\uff1b \u800c\u6587\u4ef6second-2-0.pcap\u662f\u8282\u70b9\u4e8c\u4e0a\u8bbe\u5907\u96f6\u7684pcap\u8ddf\u8e2a\u3002 <pre><code>// Review: Default Network Topology\n//\n//       10.1.1.0\n// n0 -------------- n1   n2   n3   n4\n//    point-to-point  |    |    |    |\n//                    ================\n//                      LAN 10.1.2.0\n</code></pre> <p>\u5982\u679c\u4f60\u56de\u987e\u4e00\u4e0b\u672c\u8282\u5f00\u59cb\u65f6\u7684\u62d3\u6251\u793a\u610f\u56fe\uff0c\u4f60\u5c06\u770b\u5230\u8282\u70b9\u96f6\u662f\u70b9\u5bf9\u70b9\u94fe\u8def\u7684\u6700\u5de6\u8fb9\u7684\u8282\u70b9\uff0c\u8282\u70b9\u4e00\u662f\u65e2\u6709\u70b9\u5bf9\u70b9\u8bbe\u5907\u53c8\u6709CSMA\u8bbe\u5907\u7684\u8282\u70b9\u3002\u4f60\u5c06\u770b\u5230\u8282\u70b9\u4e8c\u662fCSMA\u7f51\u7edc\u4e0a\u7684\u7b2c\u4e00\u4e2a\u201c\u989d\u5916\u201d\u8282\u70b9\uff0c\u8bbe\u5907\u96f6\u88ab\u9009\u4e3a\u4ee5\u6df7\u6742\u6a21\u5f0f\u6355\u83b7\u8ddf\u8e2a\u7684\u8bbe\u5907\u3002</p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u8ddf\u8e2a\u56de\u663e\u6570\u636e\u5305\u7a7f\u8fc7\u4e92\u8054\u7f51\u3002\u9996\u5148\uff0c\u5728\u5de6\u4fa7\u70b9\u5bf9\u70b9\u8282\u70b9\uff08\u8282\u70b9\u96f6\uff09\u7684\u8ddf\u8e2a\u6587\u4ef6\u4e0a\u8fd0\u884ctcpdump\u3002</p> <pre><code>$ tcpdump -nn -tt -r second-0-0.pcap\n</code></pre> <p>\u4f60\u5e94\u8be5\u4f1a\u770b\u5230pcap\u6587\u4ef6\u7684\u5185\u5bb9\uff1a</p> <pre><code>reading from file second-0-0.pcap, link-type PPP (PPP)\n2.000000 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.017607 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u7b2c\u4e00\u884c\u6307\u793a==\u94fe\u63a5\u7c7b\u578b\u4e3aPPP\uff08\u70b9\u5bf9\u70b9\uff09==\uff0c\u8fd9\u662f\u6211\u4eec\u671f\u671b\u7684\u3002\u7136\u540e\uff0c\u4f60\u4f1a\u770b\u5230\u56de\u663e\u6570\u636e\u5305\u901a\u8fc7\u4e0eIP\u5730\u574010.1.1.1\u5173\u8054\u7684\u8bbe\u5907\u79bb\u5f00\u8282\u70b9\u96f6\uff0c\u671d\u7740IP\u5730\u574010.1.2.4\uff08\u6700\u53f3\u8fb9\u7684CSMA\u8282\u70b9\uff09\u524d\u8fdb\u3002\u8fd9\u4e2a\u6570\u636e\u5305\u5c06\u7ecf\u8fc7\u70b9\u5bf9\u70b9\u94fe\u8def\uff0c\u7136\u540e\u7531\u8282\u70b9\u4e00\u4e0a\u7684\u70b9\u5bf9\u70b9\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\u3002\u8ba9\u6211\u4eec\u6765\u770b\u770b\uff1a</p> <pre><code>$ tcpdump -nn -tt -r second-1-0.pcap\n</code></pre> <p>\u73b0\u5728\uff0c\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u70b9\u5bf9\u70b9\u94fe\u8def\u7684\u53e6\u4e00\u7aef\u7684pcap\u8ddf\u8e2a\u8f93\u51fa\uff1a</p> <pre><code>reading from file second-1-0.pcap, link-type PPP (PPP)\n2.003686 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u770b\u5230==\u94fe\u63a5\u7c7b\u578b\u4e5f\u662fPPP==\uff0c\u6b63\u5982\u6211\u4eec\u6240\u671f\u671b\u7684\u3002\u4f60\u4f1a\u770b\u5230\u4eceIP\u5730\u574010.1.1.1\uff08\u57282.000000\u79d2\u65f6\u53d1\u9001\u7684\uff09\u671d\u7740IP\u5730\u574010.1.2.4\u7684\u6570\u636e\u5305\u51fa\u73b0\u5728\u6b64\u63a5\u53e3\u3002\u73b0\u5728\uff0c\u5728\u6b64\u8282\u70b9\u5185\u90e8\uff0c\u6570\u636e\u5305\u5c06\u88ab\u8f6c\u53d1\u5230CSMA\u63a5\u53e3\uff0c\u6211\u4eec\u5e94\u8be5\u770b\u5230\u5b83\u4ece\u8be5\u8bbe\u5907\u5f39\u51fa\uff0c\u671d\u7740\u5176\u6700\u7ec8\u76ee\u7684\u5730\u3002</p> <p>\u8bf7\u8bb0\u4f4f\uff0c\u6211\u4eec\u9009\u62e9\u4e86\u8282\u70b92\u4f5c\u4e3aCSMA\u7f51\u7edc\u7684\u6df7\u6742\u55c5\u63a2\u5668\u8282\u70b9\uff0c</p> <p>\u56e0\u6b64\u8ba9\u6211\u4eec\u770b\u770bsecond-2-0.pcap\uff0c\u770b\u770b\u5b83\u662f\u5426\u5b58\u5728\u3002</p> <pre><code>$ tcpdump -nn -tt -r second-2-0.pcap\n</code></pre> <p>\u73b0\u5728\uff0c\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u8282\u70b9\u4e8c\u3001\u8bbe\u5907\u96f6\u7684\u6df7\u6742\u8f6c\u50a8\uff1a</p> <pre><code>reading from file second-2-0.pcap, link-type EN10MB (Ethernet)\n2.007698 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50\n2.007710 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50\n2.007803 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50\n2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50\n2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u6b63\u5982\u4f60\u6240\u89c1\uff0c==\u94fe\u63a5\u7c7b\u578b\u73b0\u5728\u662f\u201c\u4ee5\u592a\u7f51\u201d==\u3002\u7136\u800c\uff0c\u51fa\u73b0\u4e86\u4e00\u4e9b\u65b0\u7684\u4e1c\u897f: \u603b\u7ebf\u7f51\u7edc\u9700\u8981ARP\uff08\u5730\u5740\u89e3\u6790\u534f\u8bae\uff09\u3002\u8282\u70b9\u4e00\u77e5\u9053\u5b83\u9700\u8981\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230IP\u5730\u574010.1.2.4\uff0c\u4f46\u5b83\u4e0d\u77e5\u9053\u76f8\u5e94\u8282\u70b9\u7684MAC\u5730\u5740\u3002\u5b83\u5728CSMA\u7f51\u7edc\u4e0a\u5e7f\u64ad\uff08ff:ff:ff:ff:ff:ff\uff09\u8bf7\u6c42\u5177\u6709IP\u5730\u574010.1.2.4\u7684\u8bbe\u5907\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6700\u53f3\u8fb9\u7684\u8282\u70b9\u56de\u590d\u8bf4\u5b83\u7684MAC\u5730\u5740\u662f00:00:00:00:00:06\u3002\u8bf7\u6ce8\u610f\uff0c\u8282\u70b9\u4e8c\u5728\u8fd9\u4e2a\u4ea4\u6362\u4e2d\u6ca1\u6709\u76f4\u63a5\u53c2\u4e0e\uff0c\u800c\u662f\u5728\u55c5\u63a2\u7f51\u7edc\u5e76\u62a5\u544a\u5b83\u770b\u5230\u7684\u6240\u6709\u6d41\u91cf\u3002</p> <p>\u8fd9\u4e2a\u4ea4\u6362\u5728\u4ee5\u4e0b\u51e0\u884c\u4e2d\u770b\u5230\uff1a</p> <pre><code>2.007698 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50\n2.007710 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50\n</code></pre> <p>\u7136\u540e\uff0c\u8282\u70b9\u4e00\u3001\u8bbe\u5907\u4e00\u7ee7\u7eed\u5c06\u56de\u663e\u6570\u636e\u5305\u53d1\u9001\u5230IP\u5730\u574010.1.2.4\u3002</p> <pre><code>2.007803 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n</code></pre> <p>\u670d\u52a1\u5668\u63a5\u6536\u56de\u663e\u8bf7\u6c42\uff0c\u5e76\u5c1d\u8bd5\u5c06\u6570\u636e\u5305\u8fd4\u56de\u5230\u6e90\u5730\u5740\u3002\u670d\u52a1\u5668\u77e5\u9053\u8be5\u5730\u5740\u5728\u901a\u8fc7IP\u5730\u574010.1.2.1\u5230\u8fbe\u7684\u53e6\u4e00\u4e2a\u7f51\u7edc\u4e0a\uff0c\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u521d\u59cb\u5316\u4e86\u5168\u5c40\u8def\u7531\uff0c\u5e76\u4e14\u5b83\u5df2\u7ecf\u4e3a\u6211\u4eec\u89e3\u51b3\u4e86\u6240\u6709\u8fd9\u4e9b\u95ee\u9898\u3002\u4f46\u662f\uff0c\u56de\u663e\u670d\u52a1\u5668\u8282\u70b9\u4e0d\u77e5\u9053\u7b2c\u4e00\u4e2aCSMA\u8282\u70b9\u7684MAC\u5730\u5740\uff0c\u56e0\u6b64\u5b83\u5fc5\u987b\u50cf\u7b2c\u4e00\u4e2aCSMA\u8282\u70b9\u4e00\u6837\u8fdb\u884cARP\u3002</p> <pre><code>2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50\n2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50\n</code></pre> <p>\u7136\u540e\uff0c\u670d\u52a1\u5668\u5c06\u56de\u663e\u53d1\u9001\u56de\u8f6c\u53d1\u8282\u70b9\u3002</p> <pre><code>2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u56de\u987e\u4e00\u4e0b\u70b9\u5bf9\u70b9\u94fe\u8def\u7684\u6700\u53f3\u8fb9\u7684\u8282\u70b9\uff0c</p> <pre><code>$ tcpdump -nn -tt -r second-1-0.pcap\n</code></pre> <p>\u4f60\u73b0\u5728\u53ef\u4ee5\u770b\u5230\u56de\u663e\u7684\u6570\u636e\u5305\u901a\u8fc7\u70b9\u5bf9\u70b9\u94fe\u8def\u56de\u5230\u7684\u6700\u540e\u4e00\u884c\u8ddf\u8e2a\u8f6c\u50a8\u3002</p> <pre><code>reading from file second-1-0.pcap, link-type PPP (PPP)\n2.003686 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.013921 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u6700\u540e\uff0c\u4f60\u53ef\u4ee5\u56de\u987e\u53d1\u8d77\u56de\u663e\u7684\u8282\u70b9</p> <pre><code>$ tcpdump -nn -tt -r second-0-0.pcap\n</code></pre> <p>\u5e76\u770b\u5230\u56de\u663e\u7684\u6570\u636e\u5305\u57282.017607\u79d2\u65f6\u5230\u8fbe\u6e90\u5730\u5740\uff0c</p> <pre><code>reading from file second-0-0.pcap, link-type PPP (PPP)\n2.000000 IP 10.1.1.1.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.017607 IP 10.1.2.4.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre> <p>\u6700\u540e\uff0c\u8bf7\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec==\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u6dfb\u52a0\u4e86\u63a7\u5236\u4eff\u771f\u4e2dCSMA\u8bbe\u5907\u6570\u91cf\u7684\u529f\u80fd==\u3002\u4f60\u53ef\u4ee5\u4ee5\u4e0e\u6211\u4eec\u5728first.cc\u793a\u4f8b\u4e2d\u67e5\u770b==\u66f4\u6539\u56de\u663e\u7684\u6570\u636e\u5305\u6570\u91cf\u76f8\u540c\u7684\u65b9\u5f0f\u66f4\u6539\u6b64\u53c2\u6570==\u3002\u5c1d\u8bd5\u4ee5\u201cextra\u201d\u8bbe\u5907\u8bbe\u7f6e\u4e3a\u56db\u4e2a\uff0c\u800c\u4e0d\u662f\u9ed8\u8ba4\u503c\u4e3a\u4e09\u4e2a\uff08extra nodes\uff09\u8fd0\u884c\u7a0b\u5e8f\uff1a</p> <pre><code>$ ./ns3 run \"scratch/mysecond --nCsma=4\"\n</code></pre> <p>\u73b0\u5728\uff0c\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\uff0c</p> <pre><code>At time +2s client sent 1024 bytes to 10.1.2.5 port 9\nAt time +2.0118s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.0118s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.02461s client received 1024 bytes from 10.1.2.5 port 9\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u56de\u663e\u670d\u52a1\u5668\u73b0\u5728\u5df2\u7ecf\u88ab\u91cd\u65b0\u5b9a\u4f4d\u5230CSMA\u8282\u70b9\u7684\u6700\u540e\u4e00\u4e2a\uff0c\u537310.1.2.5\uff0c\u800c\u4e0d\u662f\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u768410.1.2.4\u3002</p> <p>\u5982\u679c\u60a8\u4e0d\u6ee1\u610f\u7531CSMA\u7f51\u7edc\u4e2d\u7684\u65c1\u89c2\u8005\u751f\u6210\u7684\u8ddf\u8e2a\u6587\u4ef6\uff0c==\u800c\u662f\u5e0c\u671b\u4ece\u5355\u4e2a\u8bbe\u5907\u83b7\u53d6\u8ddf\u8e2a\uff0c\u800c\u4e14\u5bf9\u7f51\u7edc\u4e0a\u7684\u5176\u4ed6\u4efb\u4f55\u6d41\u91cf\u90fd\u4e0d\u611f\u5174\u8da3==\uff0c\u60a8\u53ef\u4ee5\u76f8\u5bf9\u5bb9\u6613\u5730\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002</p> <p>\u8ba9\u6211\u4eec\u67e5\u770b<code>scratch/mysecond.cc</code>\u6587\u4ef6\uff0c\u5e76\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\uff0c\u4ee5\u4f7f\u6211\u4eec\u80fd\u591f\u66f4\u52a0\u5177\u4f53\u3002ns-3\u52a9\u624b\u63d0\u4f9b\u4e86\u4e00\u4e9b\u65b9\u6cd5\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u63a5\u53d7\u8282\u70b9\u7f16\u53f7\u548c\u8bbe\u5907\u7f16\u53f7\u4f5c\u4e3a\u53c2\u6570\u3002\u8bf7\u7ee7\u7eed\u66ff\u6362\u4e0b\u9762\u7684EnablePcap\u8c03\u7528\u3002</p> <pre><code>pointToPoint.EnablePcap(\"second\", p2pNodes.Get(0)-&gt;GetId(), 0);\ncsma.EnablePcap(\"second\", csmaNodes.Get(nCsma)-&gt;GetId(), 0, false);\ncsma.EnablePcap(\"second\", csmaNodes.Get(nCsma-1)-&gt;GetId(), 0, false);\n</code></pre> <p>\u6211\u4eec\u77e5\u9053\u6211\u4eec\u8981\u521b\u5efa\u4e00\u4e2a\u4ee5\u201csecond\u201d\u4e3a\u57fa\u672c\u540d\u79f0\u7684pcap\u6587\u4ef6\uff0c\u6211\u4eec\u8fd8\u77e5\u9053\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\u611f\u5174\u8da3\u7684\u8bbe\u5907\u90fd\u5c06\u662f\u96f6\uff0c\u6240\u4ee5\u8fd9\u4e9b\u53c2\u6570\u5b9e\u9645\u4e0a\u5e76\u4e0d\u91cd\u8981\u3002</p> <p>\u4e3a\u4e86\u83b7\u53d6\u8282\u70b9\u7f16\u53f7\uff0c\u60a8\u6709\u4e24\u79cd\u9009\u62e9\uff1a\u9996\u5148\uff0c==\u8282\u70b9\u6309\u7167\u60a8\u521b\u5efa\u5b83\u4eec\u7684\u987a\u5e8f\u4ee5\u4ece\u96f6\u5f00\u59cb\u7684\u5355\u8c03\u9012\u589e\u7684\u65b9\u5f0f\u8fdb\u884c\u7f16\u53f7==\u3002\u83b7\u53d6\u8282\u70b9\u7f16\u53f7\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u901a\u8fc7\u8003\u8651\u8282\u70b9\u521b\u5efa\u7684\u987a\u5e8f\u6765==\u201c\u624b\u52a8\u201d\u786e\u5b9a\u8fd9\u4e2a\u6570\u5b57==\u3002\u5982\u679c\u60a8\u67e5\u770b\u6587\u4ef6\u5f00\u5934\u7684\u7f51\u7edc\u62d3\u6251\u56fe\u793a\uff0c\u6211\u4eec\u5df2\u7ecf\u4e3a\u60a8\u505a\u4e86\u8fd9\u4e2a\u5de5\u4f5c\uff0c\u60a8\u53ef\u4ee5\u770b\u5230\u6700\u540e\u7684CSMA\u8282\u70b9\u5c06\u6210\u4e3a\u8282\u70b9\u7f16\u53f7nCsma + 1\u3002\u5728\u8f83\u5927\u7684\u6a21\u62df\u4e2d\uff0c\u8fd9\u79cd\u65b9\u6cd5\u53ef\u80fd\u53d8\u5f97\u975e\u5e38\u56f0\u96be\u3002</p> <p>\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f==\u4f7f\u7528\u8fd9\u91cc\u4f7f\u7528\u7684\u65b9\u6cd5\uff0c\u5373\u8ba4\u8bc6\u5230<code>NodeContainers</code>\u5305\u542b\u6307\u5411ns-3\u8282\u70b9\u5bf9\u8c61\u7684\u6307\u9488==\u3002<code>Node</code>\u5bf9\u8c61\u6709\u4e00\u4e2a\u79f0\u4e3a==<code>GetId</code>\u7684\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5c06\u8fd4\u56de\u8be5\u8282\u70b9\u7684ID==\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u8981\u67e5\u627e\u7684\u8282\u70b9\u7f16\u53f7\u3002\u8ba9\u6211\u4eec\u53bb\u67e5\u770b<code>Node</code>\u7684Doxygen\uff0c\u5e76\u627e\u5230\u8be5\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5728ns-3\u6838\u5fc3\u4ee3\u7801\u4e2d\u6bd4\u6211\u4eec\u8fc4\u4eca\u4e3a\u6b62\u770b\u5230\u7684\u66f4\u6df1\uff1b\u4f46\u6709\u65f6\u4f60\u5fc5\u987b\u8f9b\u52e4\u641c\u7d22\u6709\u7528\u7684\u4e1c\u897f\u3002</p> <p>\u8f6c\u5230\u60a8\u7684\u7248\u672c\u7684Doxygen\u6587\u6863\uff08\u8bf7\u8bb0\u4f4f\uff0c\u60a8\u53ef\u4ee5\u5728\u9879\u76ee\u7f51\u7ad9\u4e0a\u627e\u5230\u5b83\uff09\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b\u201cClasses\u201d\u9009\u9879\u5361\u5e76\u5728\u201cClass List\u201d\u4e2d\u6eda\u52a8\u67e5\u627ens3::Node\u6765\u8bbf\u95eeNode\u6587\u6863\u3002\u9009\u62e9ns3::Node\uff0c\u7136\u540e\u60a8\u5c06\u8fdb\u5165Node\u7c7b\u7684\u6587\u6863\u3002\u5982\u679c\u73b0\u5728\u6eda\u52a8\u5230<code>GetId</code>\u65b9\u6cd5\u5e76\u9009\u62e9\u5b83\uff0c\u60a8\u5c06\u8fdb\u5165\u8be5\u65b9\u6cd5\u7684\u8be6\u7ec6\u6587\u6863\u3002==\u5728\u590d\u6742\u7684\u62d3\u6251\u4e2d\uff0c\u4f7f\u7528<code>GetId</code>\u65b9\u6cd5\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u786e\u5b9a\u8282\u70b9\u7f16\u53f7==\u3002</p> <p>\u8ba9\u6211\u4eec\u6e05\u9664\u9876\u7ea7\u76ee\u5f55\u4e2d\u7684\u65e7\u8ddf\u8e2a\u6587\u4ef6\uff0c\u4ee5\u907f\u514d\u5bf9\u6b63\u5728\u8fdb\u884c\u7684\u64cd\u4f5c\u4ea7\u751f\u56f0\u60d1\uff1a</p> <pre><code>$ rm *.pcap\n</code></pre> <p>\u5728\u7b2c110\u884c\uff0c\u8bf7\u6ce8\u610f\u4ee5\u4e0b\u547d\u4ee4\uff0c\u4ee5\u5728\u4e00\u4e2a\u8282\u70b9\u4e0a\u542f\u7528\u8ddf\u8e2a\uff08\u7d22\u5f151\u5bf9\u5e94\u4e8e\u5bb9\u5668\u4e2d\u7684\u7b2c\u4e8c\u4e2aCSMA\u8282\u70b9\uff09\uff1a</p> <pre><code>csma.EnablePcap(\"second\", csmaDevices.Get(1), true);\n</code></pre> <p>\u5c06\u7d22\u5f15\u66f4\u6539\u4e3a\u6570\u91cf<code>nCsma</code>\uff0c\u5bf9\u5e94\u4e8e\u62d3\u6251\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u8282\u70b9-\u5305\u542b\u56de\u663e\u670d\u52a1\u5668\u7684\u8282\u70b9\uff1a</p> <pre><code>csma.EnablePcap(\"second\", csmaDevices.Get(nCsma), true);\n</code></pre> <p>\u5982\u679c\u60a8\u6784\u5efa\u65b0\u7684\u811a\u672c\u5e76\u8fd0\u884c\u5c06<code>nCsma</code>\u8bbe\u7f6e\u4e3a100\u7684\u6a21\u62df\uff1a</p> <pre><code>$ ./ns3 build\n$ ./ns3 run \"scratch/mysecond --nCsma=100\"\n</code></pre> <p>\u60a8\u5c06\u770b\u5230\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>At time +2s client sent 1024 bytes to 10.1.2.101 port 9\nAt time +2.0068s server received 1024 bytes from 10.1.1.1 port 49153\nAt time +2.0068s server sent 1024 bytes to 10.1.1.1 port 49153\nAt time +2.01761s client received 1024 bytes from 10.1.2.101 port 9\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u56de\u663e\u670d\u52a1\u5668\u73b0\u5728\u4f4d\u4e8e<code>10.1.2.101</code>\uff0c\u8fd9\u5bf9\u5e94\u4e8e\u62e5\u6709100\u4e2a\u201c\u989d\u5916\u201dCSMA\u8282\u70b9\u7684\u8282\u70b9\u4e0a\u7684\u56de\u663e\u670d\u52a1\u5668\u3002\u5982\u679c\u5217\u51fa\u9876\u7ea7\u76ee\u5f55\u4e2d\u7684pcap\u6587\u4ef6\uff0c\u60a8\u5c06\u770b\u5230\uff1a</p> <pre><code>second-0-0.pcap  second-1-0.pcap  second-101-0.pcap\n</code></pre> <p>trace\u6587\u4ef6<code>second-0-0.pcap</code>\u662f\u201c\u6700\u5de6\u4fa7\u201d\u7684\u70b9\u5bf9\u70b9\u8bbe\u5907\uff0c\u662f\u56de\u663e\u6570\u636e\u5305\u7684\u6e90\u3002\u6587\u4ef6<code>second-101-0.pcap</code>\u5bf9\u5e94\u4e8e\u6700\u53f3\u4fa7\u7684CSMA\u8bbe\u5907\uff0c\u662f\u56de\u663e\u670d\u52a1\u5668\u6240\u5728\u7684\u4f4d\u7f6e\u3002\u60a8\u53ef\u80fd\u5df2\u7ecf\u6ce8\u610f\u5230\uff0c\u5728==\u542f\u7528\u56de\u663e\u670d\u52a1\u5668\u8282\u70b9\u4e0a\u7684pcap\u8ddf\u8e2a\u65f6\uff0c\u8c03\u7528\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662ftrue==\u3002\u8fd9==\u610f\u5473\u7740\u5728\u8be5\u8282\u70b9\u4e0a\u6536\u96c6\u7684\u8ddf\u8e2a\u5904\u4e8e\u6df7\u6742\u6a21\u5f0f==\u3002</p> <p>\u4e3a\u4e86\u8bf4\u660e\u6df7\u6742\u548c\u975e\u6df7\u6742\u8ddf\u8e2a\u4e4b\u95f4\u7684\u5dee\u5f02\uff0c\u8ba9\u6211\u4eec\u4e3a\u5012\u6570\u7b2c\u4e8c\u4e2a\u8282\u70b9\u6dfb\u52a0\u4e00\u4e2a\u975e\u6df7\u6742\u7684\u8ddf\u8e2a\u3002\u5728\u73b0\u6709\u7684PCAP\u8ddf\u8e2a\u884c\u4e4b\u524d\u6216\u4e4b\u540e\u6dfb\u52a0\u4ee5\u4e0b\u884c\uff1bfalse\u7684\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u8868\u793a\u60a8\u5e0c\u671b\u8fdb\u884c\u975e\u6df7\u6742\u8ddf\u8e2a\uff1a</p> <pre><code>csma.EnablePcap(\"second\", csmaDevices.Get(nCsma - 1), false);\n</code></pre> <p>\u7136\u540e\u50cf\u4e4b\u524d\u4e00\u6837\u6784\u5efa\u548c\u8fd0\u884c\uff1a</p> <pre><code>$ rm *.pcap\n$ ./ns3 build\n$ ./ns3 run \"scratch/mysecond --nCsma=100\"\n</code></pre> <p>\u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u65b0\u7684PCAP\u6587\u4ef6\uff0c<code>second-100-0.pcap</code>\u3002\u73b0\u5728\u67e5\u770b<code>second-100-0.pcap</code>\u7684tcpdump\u3002</p> <pre><code>$ tcpdump -nn -tt -r second-100-0.pcap\n</code></pre> <p>==\u73b0\u5728\u60a8\u53ef\u4ee5\u770b\u5230\u8282\u70b9100\u5b9e\u9645\u4e0a\u662f\u56de\u663e\u4ea4\u6362\u4e2d\u7684\u65c1\u89c2\u8005\u3002\u5b83\u63a5\u6536\u5230\u7684\u552f\u4e00\u6570\u636e\u5305\u662fARP\u8bf7\u6c42\uff0c\u8be5\u8bf7\u6c42\u5e7f\u64ad\u5230\u6574\u4e2aCSMA\u7f51\u7edc==\u3002</p> <pre><code>reading from file second-100-0.pcap, link-type EN10MB (Ethernet)\n2.006698 ARP, Request who-has 10.1.2.101 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50\n2.013815 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.101, length 50\n</code></pre> <p>==\u73b0\u5728\u67e5\u770b<code>second-101-0.pcap</code>\u7684tcpdump==\u3002</p> <pre><code>$ tcpdump -nn -tt -r second-101-0.pcap\n</code></pre> <p>==\u8282\u70b9101\u5b9e\u9645\u4e0a\u662f\u56de\u663e\u4ea4\u6362\u7684\u53c2\u4e0e\u8005==\uff1b\u65e0\u8bba\u662f\u5426\u5728\u8be5PCAP\u8bed\u53e5\u4e2d\u8bbe\u7f6e\u6df7\u6742\u6a21\u5f0f\uff0c\u90fd\u5c06\u5b58\u5728\u4ee5\u4e0b\u8ddf\u8e2a\u3002</p> <pre><code>reading from file second-101-0.pcap, link-type EN10MB (Ethernet)\n2.006698 ARP, Request who-has 10.1.2.101 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50\n2.006698 ARP, Reply 10.1.2.101 is-at 00:00:00:00:00:67, length 50\n2.006803 IP 10.1.1.1.49153 &gt; 10.1.2.101.9: UDP, length 1024\n2.013803 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.101, length 50\n2.013828 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50\n2.013828 IP 10.1.2.101.9 &gt; 10.1.1.1.49153: UDP, length 1024\n</code></pre>"},{"location":"Sci_doc/ns-3/ch3/#review","title":"\u6574\u4f53\u521d\u6837\u4ee3\u7801review\uff1a","text":"<pre><code>/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n\n#include \"ns3/applications-module.h\"\n#include \"ns3/core-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/ipv4-global-routing-helper.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/point-to-point-module.h\"\n\n// Default Network Topology\n//\n//       10.1.1.0\n// n0 -------------- n1   n2   n3   n4\n//    point-to-point  |    |    |    |\n//                    ================\n//                      LAN 10.1.2.0\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"SecondScriptExample\");\n\nint\nmain(int argc, char* argv[])\n{\n    bool verbose = true;     // \u786e\u5b9a\u662f\u5426\u542f\u7528UdpEchoClientApplication\u548cUdpEchoServerApplication\u65e5\u5fd7\u8bb0\u5f55\n    uint32_t nCsma = 3;      // \u5141\u8bb8\u52a8\u6001\u901a\u8fc7\u547d\u4ee4\u884c\u53c2\u6570\u66f4\u6539CSMA\u7f51\u7edc\u4e0a\u7684\u8bbe\u5907\u6570\u91cf\n\n    CommandLine cmd(__FILE__);\n    cmd.AddValue(\"nCsma\", \"Number of \\\"extra\\\" CSMA nodes/devices\", nCsma);\n    cmd.AddValue(\"verbose\", \"Tell echo applications to log if true\", verbose);\n\n    cmd.Parse(argc, argv);\n\n    if (verbose)\n    {\n        LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n        LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n    }\n\n    nCsma = nCsma == 0 ? 1 : nCsma; // \u786e\u4fdd\u6211\u4eec\u7684\u62d3\u6251\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\n\n    NodeContainer p2pNodes; // \u5efa\u7acb2\u4e2a\u6211\u4eec\u5c06\u901a\u8fc7\u70b9\u5bf9\u70b9\u94fe\u63a5\u8fde\u63a5\u7684\u8282\u70b9\n    p2pNodes.Create(2);     // \u8282\u70b9\u5bb9\u5668called\uff1ap2pNodes\uff0c\u91cc\u9762\u88c5\u6709\u4e24\u4e2a\u8282\u70b9\n\n    NodeContainer csmaNodes;        // \u5efa\u7acb\u53e6\u4e00\u4e2aNodeContainer\u6765\u4fdd\u5b58\u5c06\u6210\u4e3a\u603b\u7ebf\uff08CSMA\uff09\u7f51\u7edc\u4e00\u90e8\u5206\u7684\u8282\u70b9\n    csmaNodes.Add(p2pNodes.Get(1)); // \u4ece\u70b9\u5bf9\u70b9\u8282\u70b9\u5bb9\u5668\u4e2d\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8282\u70b9\uff08\u7d22\u5f15\u4e3a1\uff09\n                                    // \u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u5c06\u83b7\u53d6CSMA\u8bbe\u5907\u7684\u8282\u70b9\u5bb9\u5668\u4e2d\n    csmaNodes.Create(nCsma);        // \u521b\u5efa\u5408\u7406\u70b9\u6570\u7684\u201cCSMA\u5bb9\u5668\u201d\n\n    PointToPointHelper pointToPoint; // \u5efa\u7acb\u4e00\u4e2a\u201c\u8282\u70b9\u8fde\u63a5\u52a9\u624b\u201d\uff0ccalled\uff1apointTopoint\n    pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\")); // \u8be5\u52a9\u624b\u914d\u7f6e\uff1a\u6bcf\u79d25\u5146\u6bd4\u7279\u7684\u53d1\u9001\u5668\n    pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\")); // \u7531\u8be5\u52a9\u624b\u914d\u7f6e\u7684\u901a\u9053\u4e0a\uff1a\u67092\u6beb\u79d2\u7684\u5ef6\u8fdf\n\n    NetDeviceContainer p2pDevices; // \u5efa\u7acb\u4e00\u4e2a\u201c\u7f51\u7edc\u8bbe\u5907\u521b\u5efa\u52a9\u624b\u201d\n    p2pDevices = pointToPoint.Install(p2pNodes); // \u5728\u201c\u70b9\u5bf9\u70b9\u94fe\u63a5\u7684\u8282\u70b9\u201d\u4e0a\u5b89\u88c5\u8bbe\u5907\n\n    CsmaHelper csma; // \u5efa\u7acb\u4e00\u4e2a\u201cCSMA\u642d\u5efa\u52a9\u624b\u201d\uff0ccalled\uff1acsma\n    csma.SetChannelAttribute(\"DataRate\", StringValue(\"100Mbps\")); // csma\u8bbe\u5907\u4e4b\u95f4\u201c\u901a\u9053\u5bf9\u201d\u7684\u5e26\u5bbd\u662f100Mbps\n    csma.SetChannelAttribute(\"Delay\", TimeValue(NanoSeconds(6560))); // \u901a\u9053\u7684\u5149\u901f\u5ef6\u8fdf\u8bbe\u7f6e\u4e3a6560ns\n\n    NetDeviceContainer csmaDevices;        // \u5efa\u7acb\u4e00\u4e2a\u201c\u7f51\u7edc\u8bbe\u5907\u521b\u5efa\u52a9\u624b\u201d\n    csmaDevices = csma.Install(csmaNodes); // \u5728\u201cCSMA\u8282\u70b9\u201d\u4e0a\u5b89\u88c5\u8bbe\u5907\n\n    InternetStackHelper stack;      // \u5efa\u7acb\u4e00\u4e2a\u201c\u7f51\u7edc\u6808\u642d\u5efa\u52a9\u624b\u201d\n    stack.Install(p2pNodes.Get(0)); // \u5c06\u201c\u70b9\u5bf9\u70b9\u8fde\u63a5\u7684\u8282\u70b9\u5bb9\u5668\u201d\u5185\u6240\u6709\u201c\u5269\u4f59\u201d\u7684\u8282\u70b9\u5b89\u6392\u4e0a\u534f\u8bae\u6808\n    stack.Install(csmaNodes);       // \u5c06\u201cCSMA\u8282\u70b9\u5bb9\u5668\u201d\u5185\u6240\u6709\u7684\u8282\u70b9\u5747\u5b89\u6392\u4e0a\u534f\u8bae\u6808\n\n    Ipv4AddressHelper address;      // \u5efa\u7acb\u4e00\u4e2a\u201cIP\u5730\u5740\u5206\u914d\u52a9\u624b\u201d\uff0c\u65e8\u5728\u4e3a\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740\n    address.SetBase(\"10.1.1.0\", \"255.255.255.0\"); // \u52a9\u624b\u5185\u542b\uff1a\u4f7f\u7528\u7f51\u7edc10.1.1.0\uff0c\u521b\u5efa\u201c\u70b9\u5bf9\u70b9\u8bbe\u5907\u201d\u5730\u5740\n    Ipv4InterfaceContainer p2pInterfaces;         // \u5efa\u7acb\u4e00\u4e2a\u201c\u63a5\u53e3\u5bb9\u5668\u201d\uff0c\u5c06\u521b\u5efa\u7684\u63a5\u53e3\u4fdd\u5b58\u5728\u5bb9\u5668\u4e2d\n    p2pInterfaces = address.Assign(p2pDevices);   // \u5c06\u201c\u70b9\u5bf9\u70b9\u94fe\u63a5\u5bb9\u5668\u5185\u7684\u8282\u70b9\u201d\u63a5\u53e3\u8d4b\u4e0a\u5730\u5740\n\n    address.SetBase(\"10.1.2.0\", \"255.255.255.0\"); // \u9700\u8981\u4e3aCSMA\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740\uff08\u4f7f\u7528\u7f51\u7edc10.1.2.0\uff09\n    Ipv4InterfaceContainer csmaInterfaces;        // \u5efa\u7acb\u4e00\u4e2a\u201c\u63a5\u53e3\u5bb9\u5668\u201d\uff0c\u5c06\u521b\u5efa\u7684\u63a5\u53e3\u4fdd\u5b58\u5728\u5bb9\u5668\u4e2d\n    csmaInterfaces = address.Assign(csmaDevices); // \u5c06\u201cCSMA\u5bb9\u5668\u5185\u8282\u70b9\u201d\u63a5\u53e3\u8d4b\u4e0a\u5730\u5740\n\n    UdpEchoServerHelper echoServer(9); // \u5efa\u7acb\u4e00\u4e2a\u201c\u670d\u52a1\u5668\u7aef\u642d\u5efa\u52a9\u624b\u201d\n\n    ApplicationContainer serverApps = echoServer.Install(csmaNodes.Get(nCsma)); // \u5728CSMA\u5bb9\u5668\u5185\u7684\u6700\u540e\u4e00\n                                                                                // \u4e2a\u8282\u70b9\u4e0a\u914d\u7f6e\u670d\u52a1\u5668\n    serverApps.Start(Seconds(1.0)); // \u670d\u52a1\u5668\u7684\u5f00\u59cb\u65f6\u523b\u662ft=1s\n    serverApps.Stop(Seconds(10.0)); // \u670d\u52a1\u5668\u7684\u5173\u95ed\u65f6\u523b\u662ft=10s\n\n    UdpEchoClientHelper echoClient(csmaInterfaces.GetAddress(nCsma), 9); // \u5ba2\u6237\u7aef\u7684\u8fdc\u7a0b\u5730\u5740\u662f\u201cCSMA\u5bb9\u5668\u201d\n                                                                         // \u914d\u7f6e\u597d\u670d\u52a1\u5668\u7684\u8282\u70b9\uff0c\u5373\uff1a\n                                                                         // \u4e0a\u8ff0index=nCsma\u7684\u90a3\u4e2a\u8282\u70b9\n    echoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));      // \u89c4\u8303\uff1a\u5ba2\u6237\u7aef\u53d1\u9001\u6570\u636e\u5305\u7684\u6700\u5927\u6570\u91cf\n    echoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0))); // \u89c4\u8303\uff1a\u53d1\u9001\u7684\u65f6\u95f4\u95f4\u9694\n    echoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));   // \u89c4\u8303\uff1a\u6240\u53d1\u9001\u6570\u636e\u5305\u7684\u6700\u5927\u5bb9\u91cf\n\n    ApplicationContainer clientApps = echoClient.Install(p2pNodes.Get(0)); // \u5efa\u7acb\u4e00\u4e2a\u201c\u5e94\u7528\u5b89\u88c5\u52a9\u624b\u201d\n    clientApps.Start(Seconds(2.0)); // \u5ba2\u6237\u7aef\u5e94\u7528\u7684\u5f00\u59cb\u65f6\u523b\u662ft=2s\n    clientApps.Stop(Seconds(10.0)); // \u5ba2\u6237\u7aef\u5e94\u7528\u7684\u5173\u95ed\u65f6\u523b\u662ft=10s\n\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables(); // \u5efa\u7acb\u4e00\u4e2a\u201c\u8bbe\u7f6e\u5168\u5c40\u8def\u7531\u8868\u201d\u7684\u52a9\u624b\n                                                      // \u8be5\u7ba1\u7406\u5668\u4f7f\u7528\u6b64\u5168\u5c40\u4fe1\u606f\u6784\u9020\u6bcf\u4e2a\u8282\u70b9\u7684\u8def\u7531\u8868\n    pointToPoint.EnablePcapAll(\"second\");                 // \u542f\u7528\u201c\u70b9\u5bf9\u70b9\u201d\u52a9\u624b\u4e2d\u7684pcap\u8ddf\u8e2a\n    csma.EnablePcap(\"second\", csmaDevices.Get(1), true);  // \u542f\u7528CSMA\u52a9\u624b\u4e2d\u7684pcap\u8ddf\u8e2a\n\n    Simulator::Run();     // \u4ee3\u7801\u8fd0\u884c\n    Simulator::Destroy(); // \u6e05\u7406\u4eff\u771f\n    return 0;\n}\n                                                                                       117,1         Bot\n</code></pre>"},{"location":"Sci_doc/ns-3/ch3/#72-models-attributes-and-reality","title":"7.2. Models, Attributes and Reality","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u65b9\u4fbf\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u8fdb\u884c\u4e00\u4e2a\u5c0f\u5c0f\u7684\u8fdc\u8db3\u5e76\u63d0\u51fa\u4e00\u4e2a\u91cd\u8981\u89c2\u70b9\u3002\u53ef\u80fd\u5bf9\u4f60\u6765\u8bf4\u5f88\u660e\u663e\uff0c\u4e5f\u53ef\u80fd\u4e0d\u662f\uff0c\u4f46\u5728\u4f7f\u7528\u6a21\u62df\u65f6\uff0c\u4e86\u89e3\u6b63\u5728\u5efa\u6a21\u7684\u5185\u5bb9\u4ee5\u53ca\u672a\u5efa\u6a21\u7684\u5185\u5bb9\u662f\u5f88\u91cd\u8981\u7684\u3002\u4f8b\u5982\uff0c\u5f88\u5bb9\u6613\u5c06\u524d\u4e00\u8282\u4e2d\u4f7f\u7528\u7684CSMA\u8bbe\u5907\u548c\u4fe1\u9053\u89c6\u4e3a\u771f\u5b9e\u7684\u4ee5\u592a\u7f51\u8bbe\u5907\uff0c\u5e76\u671f\u671b\u6a21\u62df\u7ed3\u679c\u76f4\u63a5\u53cd\u6620\u5728\u771f\u5b9e\u4ee5\u592a\u7f51\u4e2d\u4f1a\u53d1\u751f\u7684\u60c5\u51b5\u3002\u4f46\u4e8b\u5b9e\u5e76\u975e\u5982\u6b64\u3002</p> <p>\u6a21\u578b\u4ece\u672c\u8d28\u4e0a\u8bb2\u662f\u5bf9\u73b0\u5b9e\u7684\u62bd\u8c61\u3002\u6a21\u62df\u811a\u672c\u4f5c\u8005\u6700\u7ec8\u6709\u8d23\u4efb\u786e\u5b9a\u6a21\u62df\u6574\u4f53\u4ee5\u53ca\u5176\u7ec4\u6210\u90e8\u5206\u7684\u6240\u8c13\u201c\u51c6\u786e\u8303\u56f4\u201d\u548c\u201c\u9002\u7528\u9886\u57df\u201d\uff0c\u56e0\u6b64\u4e5f\u5c31\u662f\u5176\u6784\u6210\u90e8\u5206\u7684\u51c6\u786e\u6027\u548c\u9002\u7528\u6027\u3002</p> <p>\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u6bd4\u5982CSMA\uff0c\u786e\u5b9a\u672a\u5efa\u6a21\u7684\u5185\u5bb9\u53ef\u80fd\u76f8\u5f53\u5bb9\u6613\u3002\u901a\u8fc7\u9605\u8bfb\u6a21\u578b\u63cf\u8ff0\uff08csma.h\uff09\uff0c\u4f60\u53ef\u4ee5\u4e86\u89e3\u5230CSMA\u6a21\u578b\u4e2d\u6ca1\u6709\u51b2\u7a81\u68c0\u6d4b\uff0c\u5e76\u51b3\u5b9a\u5728\u6a21\u62df\u4e2d\u4f7f\u7528\u5b83\u7684\u9002\u7528\u6027\u6216\u8005\u5728\u7ed3\u679c\u4e2d\u5305\u542b\u54ea\u4e9b\u6ce8\u610f\u4e8b\u9879\u3002\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\uff0c\u914d\u7f6e\u53ef\u80fd\u4e0e\u4f60\u65e0\u6cd5\u8d2d\u4e70\u7684\u4efb\u4f55\u73b0\u5b9e\u76f8\u7b26\u7684\u884c\u4e3a\u53ef\u80fd\u4f1a\u76f8\u5f53\u5bb9\u6613\u3002\u82b1\u4e00\u4e9b\u65f6\u95f4\u8c03\u67e5\u4e00\u4e9b\u8fd9\u6837\u7684\u5b9e\u4f8b\u4ee5\u53ca\u4f60\u5728\u6a21\u62df\u4e2d\u5982\u4f55\u8f7b\u677e\u8d8a\u51fa\u73b0\u5b9e\u8fb9\u754c\uff0c\u8fd9\u5c06\u662f\u503c\u5f97\u7684\u3002</p> <p>\u6b63\u5982\u4f60\u6240\u770b\u5230\u7684\uff0cns-3\u63d0\u4f9b\u4e86\u5c5e\u6027\uff0c\u7528\u6237\u53ef\u4ee5\u8f7b\u677e\u8bbe\u7f6e\u4ee5\u66f4\u6539\u6a21\u578b\u884c\u4e3a\u3002\u8003\u8651CsmaNetDevice\u7684\u4e24\u4e2a\u5c5e\u6027\uff1aMtu\u548cEncapsulationMode\u3002Mtu\u5c5e\u6027\u6307\u793a\u8bbe\u5907\u7684\u6700\u5927\u4f20\u8f93\u5355\u5143\u3002\u8fd9\u662f\u8bbe\u5907\u53ef\u4ee5\u53d1\u9001\u7684\u6700\u5927\u534f\u8bae\u6570\u636e\u5355\u5143\uff08PDU\uff09\u7684\u5927\u5c0f\u3002</p> <p>\u5728CsmaNetDevice\u4e2d\uff0cMTU\u9ed8\u8ba4\u4e3a1500\u5b57\u8282\u3002\u6b64\u9ed8\u8ba4\u503c\u5bf9\u5e94\u4e8eRFC 894\u4e2d\u627e\u5230\u7684\u4e00\u4e2a\u6570\u5b57\uff0c\u201c\u5728\u4ee5\u592a\u7f51\u7f51\u7edc\u4e0a\u4f20\u8f93IP\u6570\u636e\u62a5\u7684\u6807\u51c6\u201d\u3002\u8be5\u6570\u5b57\u5b9e\u9645\u4e0a\u662f\u4ece10Base5\uff08\u5168\u89c4\u683c\u4ee5\u592a\u7f51\uff09\u7f51\u7edc\u7684\u6700\u5927\u6570\u636e\u5305\u5927\u5c0f\uff081518\u5b57\u8282\uff09\u6d3e\u751f\u800c\u6765\u7684\u3002\u5982\u679c\u4ece\u4ee5\u592a\u7f51\u6570\u636e\u5305\u7684DIX\u5c01\u88c5\u5f00\u9500\u4e2d\u51cf\u53bb18\u5b57\u8282\uff0c\u5219\u6700\u7ec8\u5f97\u5230\u6700\u5927\u53ef\u80fd\u7684\u6570\u636e\u5927\u5c0f\uff08MTU\uff09\u4e3a1500\u5b57\u8282\u3002\u8fd8\u53ef\u4ee5\u53d1\u73b0IEEE 802.3\u7f51\u7edc\u7684MTU\u4e3a1492\u5b57\u8282\u3002\u8fd9\u662f\u56e0\u4e3aLLC/SNAP\u5c01\u88c5\u5728\u6570\u636e\u5305\u4e2d\u6dfb\u52a0\u4e86\u989d\u5916\u7684\u516b\u5b57\u8282\u5f00\u9500\u3002\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e95\u5c42\u786c\u4ef6\u53ea\u80fd\u53d1\u90011518\u5b57\u8282\uff0c\u4f46\u6570\u636e\u5927\u5c0f\u662f\u4e0d\u540c\u7684\u3002</p> <p>\u4e3a\u4e86\u8bbe\u7f6e\u5c01\u88c5\u6a21\u5f0f\uff0cCsmaNetDevice\u63d0\u4f9b\u4e86\u4e00\u4e2a\u79f0\u4e3aEncapsulationMode\u7684\u5c5e\u6027\uff0c\u53ef\u4ee5\u53d6Dix\u6216Llc\u7684\u503c\uff0c\u5206\u522b\u5bf9\u5e94\u4ee5\u592a\u7f51\u548cLLC/SNAP\u5c01\u88c5\u3002</p> <p>\u5982\u679c\u5c06Mtu\u4fdd\u6301\u57281500\u5b57\u8282\uff0c\u5e76\u5c06\u5c01\u88c5\u6a21\u5f0f\u66f4\u6539\u4e3aLlc\uff0c\u7ed3\u679c\u5c06\u662f\u4e00\u4e2a\u7f51\u7edc\uff0c\u5b83\u4f7f\u7528LLC/SNAP\u5c01\u88c5\u5c061500\u5b57\u8282\u7684PDU\u5c01\u88c5\u4e3a\u5305\u957f\u4e3a1526\u5b57\u8282\u7684\u6570\u636e\u5305\uff0c\u5728\u8bb8\u591a\u7f51\u7edc\u4e2d\u8fd9\u662f\u975e\u6cd5\u7684\uff0c\u56e0\u4e3a\u5b83\u4eec\u6700\u591a\u53ef\u4ee5\u4f20\u8f931518\u5b57\u8282\u6bcf\u4e2a\u6570\u636e\u5305\u3002\u8fd9\u5f88\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6a21\u62df\u7ed3\u679c\u5fae\u5999\u5730\u4e0d\u7b26\u5408\u4f60\u53ef\u80fd\u671f\u671b\u7684\u73b0\u5b9e\u3002</p> <p>\u4e3a\u4e86\u4f7f\u60c5\u51b5\u53d8\u5f97\u66f4\u52a0\u590d\u6742\uff0c\u5b58\u5728\u7740\u5de8\u5e45\u6570\u636e\u5e27\uff081500 &lt; MTU &lt;= 9000\u5b57\u8282\uff09\u548c\u8d85\u5de8\u5e45\u6570\u636e\u5e27\uff08MTU &gt; 9000\u5b57\u8282\uff09\uff0c\u867d\u7136\u5b83\u4eec\u5e76\u6ca1\u6709\u5f97\u5230IEEE\u7684\u6b63\u5f0f\u8ba4\u53ef\uff0c\u4f46\u5728\u4e00\u4e9b\u9ad8\u901f\uff08\u5343\u5146\u4f4d\uff09\u7f51\u7edc\u548c\u7f51\u7edc\u63a5\u53e3\u5361\u4e2d\u662f\u53ef\u7528\u7684\u3002\u53ef\u4ee5\u5c06\u5c01\u88c5\u6a21\u5f0f\u4fdd\u6301\u4e3aDix\uff0c\u5c06CsmaNetDevice\u7684Mtu\u5c5e\u6027\u8bbe\u7f6e\u4e3a64000\u5b57\u8282\uff0c\u5373\u4f7f\u5173\u8054\u7684CsmaChannel DataRate\u8bbe\u7f6e\u4e3a10\u5146\u4f4d\u6bcf\u79d2\u3002\u8fd9\u672c\u8d28\u4e0a\u5c31\u6a21\u62df\u4e86\u4e00\u4e2a\u7531\u5438\u8840\u9b3c\u5f0f1980\u5e74\u4ee3\u98ce\u683c\u768410Base5\u7f51\u7edc\u6784\u5efa\u7684\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\uff0c\u652f\u6301\u8d85\u5de8\u5e45\u6570\u636e\u62a5\u3002\u5c3d\u7ba1\u8fd9\u4ece\u672a\u88ab\u5236\u9020\u8fc7\uff0c\u4e5f\u4e0d\u592a\u53ef\u80fd\u88ab\u5236\u9020\uff0c\u4f46\u4f60\u5f88\u5bb9\u6613\u8fdb\u884c\u914d\u7f6e\u3002</p> <p>\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\uff0c\u4f60\u4f7f\u7528\u547d\u4ee4\u884c\u521b\u5efa\u4e86\u4e00\u4e2a\u5177\u6709100\u4e2aCsma\u8282\u70b9\u7684\u6a21\u62df\u3002\u4f60\u4e5f\u540c\u6837\u8f7b\u677e\u5730\u521b\u5efa\u4e86\u4e00\u4e2a\u5177\u6709500\u4e2a\u8282\u70b9\u7684\u6a21\u62df\u3002\u5982\u679c\u4f60\u5b9e\u9645\u4e0a\u5728\u6a21\u62df\u4e00\u4e2a10Base5\u5438\u8840\u9b3c\u5f0f\u7f51\u7edc\uff0c\u90a3\u4e48\u5b8c\u6574\u89c4\u683c\u4ee5\u592a\u7f51\u7535\u7f06\u7684\u6700\u5927\u957f\u5ea6\u4e3a500\u7c73\uff0c\u6700\u5c0f\u7684\u6302\u63a5\u95f4\u8ddd\u4e3a2.5\u7c73\u3002\u8fd9\u610f\u5473\u7740\u771f\u5b9e\u7f51\u7edc\u4e0a\u53ea\u80fd\u6709200\u4e2a\u6302\u63a5\u70b9\u3002\u4f60\u4e5f\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u6784\u5efa\u4e00\u4e2a\u975e\u6cd5\u7f51\u7edc\u3002\u8fd9\u53ef\u80fd\u6216\u53ef\u80fd\u4e0d\u4f1a\u5bfc\u81f4\u4e00\u4e2a\u6709\u610f\u4e49\u7684\u6a21\u62df\uff0c\u8fd9\u53d6\u51b3\u4e8e\u4f60\u8bd5\u56fe\u6a21\u62df\u4ec0\u4e48\u3002</p> <p>\u5728ns-3\u548c\u4efb\u4f55\u6a21\u62df\u5668\u4e2d\u90fd\u53ef\u80fd\u53d1\u751f\u7c7b\u4f3c\u7684\u60c5\u51b5\u3002\u4f8b\u5982\uff0c\u4f60\u53ef\u80fd\u80fd\u591f\u4ee5\u8282\u70b9\u5728\u76f8\u540c\u7684\u7a7a\u95f4\u5360\u636e\u76f8\u540c\u7684\u4f4d\u7f6e\uff0c\u6216\u8005\u4f60\u53ef\u80fd\u80fd\u591f\u914d\u7f6e\u8fdd\u53cd\u57fa\u672c\u7269\u7406\u5b9a\u5f8b\u7684\u653e\u5927\u5668\u6216\u566a\u58f0\u6c34\u5e73\u3002</p> <p>ns-3\u901a\u5e38\u503e\u5411\u4e8e\u7075\u6d3b\u6027\uff0c\u8bb8\u591a\u6a21\u578b\u5c06\u5141\u8bb8\u81ea\u7531\u8bbe\u7f6e\u5c5e\u6027\uff0c\u800c\u4e0d\u8bd5\u56fe\u5f3a\u5236\u6267\u884c\u4efb\u4f55\u4efb\u610f\u7684\u4e00\u81f4\u6027\u6216\u7279\u5b9a\u7684\u5e95\u5c42\u89c4\u8303\u3002</p> <p>\u4ece\u4e2d\u5f97\u5230\u7684\u8981\u70b9\u662f\uff0cns-3\u5c06\u4e3a\u4f60\u63d0\u4f9b\u4e00\u4e2a\u8d85\u7ea7\u7075\u6d3b\u7684\u57fa\u7840\uff0c\u8ba9\u4f60\u8fdb\u884c\u5b9e\u9a8c\u3002\u4f60\u6709\u8d23\u4efb\u4e86\u89e3\u7cfb\u7edf\u8981\u6c42\u4f60\u505a\u4ec0\u4e48\uff0c\u5e76\u786e\u4fdd\u4f60\u521b\u5efa\u7684\u6a21\u62df\u4e0e\u7531\u4f60\u5b9a\u4e49\u7684\u73b0\u5b9e\u6709\u67d0\u79cd\u8054\u7cfb\u3002</p>"},{"location":"Sci_doc/ns-3/ch3/#73-building-a-wireless-network-topology","title":"7.3. Building a Wireless Network Topology","text":"<p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u8fdb\u4e00\u6b65\u6269\u5c55\u6211\u4eec\u5bf9ns-3\u7f51\u7edc\u8bbe\u5907\u548c\u4fe1\u9053\u7684\u4e86\u89e3\uff0c==\u4ecb\u7ecd\u4e00\u4e2a\u65e0\u7ebf\u7f51\u7edc\u7684\u793a\u4f8b==\u3002ns-3\u63d0\u4f9b\u4e86\u4e00\u7ec4802.11\u6a21\u578b\uff0c\u8bd5\u56fe\u63d0\u4f9b802.11\u89c4\u8303\u7684\u51c6\u786eMAC\u5c42\u5b9e\u73b0\u548c802.11a\u89c4\u8303\u7684\u201c\u4e0d\u90a3\u4e48\u6162\u201d\u7684PHY\u5c42\u6a21\u578b\u3002</p> <p>\u5c31\u50cf\u6211\u4eec\u5728\u6784\u5efa\u70b9\u5bf9\u70b9\u62d3\u6251\u65f6\u770b\u5230\u4e86\u70b9\u5bf9\u70b9\u548cCSMA\u62d3\u6251\u52a9\u624b\u5bf9\u8c61\u4e00\u6837\uff0c\u5728\u672c\u8282\u4e2d\u6211\u4eec==\u5c06\u770b\u5230\u7b49\u6548\u7684Wifi\u62d3\u6251\u52a9\u624b==\u3002\u8fd9\u4e9b\u52a9\u624b\u7684\u5916\u89c2\u548c\u64cd\u4f5c\u5bf9\u4f60\u6765\u8bf4\u5e94\u8be5\u4f1a\u5f88\u719f\u6089\u3002</p> <p>\u6211\u4eec\u5728examples/tutorial\u76ee\u5f55\u4e2d\u63d0\u4f9b\u4e86\u4e00\u4e2a\u793a\u4f8b\u811a\u672c\u3002\u8fd9\u4e2a\u811a\u672c\u57fa\u4e8esecond.cc\u811a\u672c\uff0c\u5e76\u6dfb\u52a0\u4e86\u4e00\u4e2aWi-Fi\u7f51\u7edc\u3002\u6253\u5f00\u4f60\u559c\u6b22\u7684\u7f16\u8f91\u5668\u5e76\u67e5\u770bexamples/tutorial/third.cc\u3002\u4f60\u5df2\u7ecf\u770b\u5230\u4e86\u8db3\u591f\u7684ns-3\u4ee3\u7801\uff0c\u4ee5\u7406\u89e3\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\u53d1\u751f\u7684\u5927\u90e8\u5206\u4e8b\u60c5\uff0c\u4f46\u8fd8\u6709\u4e00\u4e9b\u65b0\u7684\u4e1c\u897f\uff0c\u6240\u4ee5\u6211\u4eec\u5c06\u6d4f\u89c8\u6574\u4e2a\u811a\u672c\u5e76\u68c0\u67e5\u4e00\u4e9b\u8f93\u51fa\u3002</p> <p>\u5c31\u50cf\u5728second.cc\u793a\u4f8b\u4e2d\u4e00\u6837\uff08\u4ee5\u53ca\u6240\u6709ns-3\u793a\u4f8b\u4e2d\u4e00\u6837\uff09\uff0c\u6587\u4ef6\u4ee5emacs\u6a21\u5f0f\u884c\u548c\u4e00\u4e9bGPL\u6a21\u677f\u5f00\u59cb\u3002</p> <p>\u770b\u4e00\u4e0b\u4e0b\u9762\u663e\u793a\u7684ASCII\u827a\u672f\uff0c\u663e\u793a\u4e86\u5728\u793a\u4f8b\u4e2d\u6784\u5efa\u7684\u9ed8\u8ba4\u7f51\u7edc\u62d3\u6251\u3002\u4f60\u53ef\u4ee5\u770b\u5230\u6211\u4eec==\u5c06\u901a\u8fc7\u5de6\u4fa7\u8fde\u63a5\u4e00\u4e2a\u65e0\u7ebf\u7f51\u7edc\u6765\u8fdb\u4e00\u6b65\u6269\u5c55\u6211\u4eec\u7684\u793a\u4f8b==\u3002\u8bf7\u6ce8\u610f\uff0c\u8fd9\u662f\u4e00\u4e2a\u9ed8\u8ba4\u7f51\u7edc\u62d3\u6251\uff0c\u56e0\u4e3a\u4f60\u5b9e\u9645\u4e0a\u53ef\u4ee5\u6539\u53d8\u5728\u6709\u7ebf\u548c\u65e0\u7ebf\u7f51\u7edc\u4e0a\u521b\u5efa\u7684\u8282\u70b9\u6570\u91cf\u3002\u5c31\u50cf\u5728second.cc\u811a\u672c\u4e2d\u4e00\u6837\uff0c\u5982\u679c\u4f60\u66f4\u6539==nCsma\uff0c\u5b83\u5c06\u7ed9\u4f60\u4e00\u4e9b\u201c\u989d\u5916\u201d\u7684CSMA\u8282\u70b9==\u3002\u540c\u6837\uff0c\u4f60\u53ef\u4ee5\u8bbe\u7f6e==nWifi\u6765\u63a7\u5236\u5728\u6a21\u62df\u4e2d\u521b\u5efa\u591a\u5c11STA\uff08\u7ad9\u70b9\uff09\u8282\u70b9==\u3002\u65e0\u7ebf\u7f51\u7edc\u4e0a\u59cb\u7ec8\u4f1a\u6709\u4e00\u4e2aAP\uff08\u63a5\u5165\u70b9\uff09\u8282\u70b9\u3002\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6709\u4e09\u4e2a\u201c\u989d\u5916\u201d\u7684CSMA\u8282\u70b9\u548c\u4e09\u4e2a\u65e0\u7ebfSTA\u8282\u70b9\u3002</p> <p>\u4ee3\u7801\u5f00\u59cb\u65f6\u52a0\u8f7d\u6a21\u5757\u5305\u542b\u6587\u4ef6\uff0c\u5c31\u50cf\u5728second.cc\u793a\u4f8b\u4e2d\u6240\u505a\u7684\u90a3\u6837\u3002\u6709\u4e00\u4e9b\u65b0\u7684\u5305\u542b\uff0c\u5bf9\u5e94\u4e8e\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8ba8\u8bba\u7684wifi\u6a21\u5757\u548cmobility\u6a21\u5757\u3002</p> <pre><code>#include \"ns3/core-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/applications-module.h\"\n#include \"ns3/wifi-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n</code></pre> <p>\u7f51\u7edc\u62d3\u6251\u56fe\u5982\u4e0b\uff1a</p> <pre><code>// \u9ed8\u8ba4\u7f51\u7edc\u62d3\u6251\n//\n//   Wifi 10.1.3.0\n//                 AP\n//  *    *    *    *\n//  |    |    |    |    10.1.1.0\n// n5   n6   n7   n0 -------------- n1   n2   n3   n4\n//                   point-to-point  |    |    |    |\n//                                   ================\n//                                     LAN 10.1.2.0\n</code></pre> <p>\u4f60\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u6b63\u5728\u4e3a(\u6210\u4e3a\u65e0\u7ebf\u7f51\u7edc\u63a5\u5165\u70b9\u7684)(\u5de6\u4fa7\u70b9\u5bf9\u70b9\u94fe\u63a5)\u7684\u8282\u70b9\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u7f51\u7edc\u8bbe\u5907\u3002\u521b\u5efa\u4e86\u4e00\u4e9b\u65e0\u7ebfSTA\u8282\u70b9\uff0c\u4ee5\u586b\u5145\u56fe\u793a\u5de6\u4fa7\u7684\u65b0\u7f51\u7edc10.1.3.0\u3002</p> <p>\u5728\u63d2\u56fe\u4e4b\u540e\uff0c\u4f7f\u7528\u4e86ns-3\u547d\u540d\u7a7a\u95f4\uff0c\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u65e5\u5fd7\u7ec4\u4ef6\u3002\u5230\u76ee\u524d\u4e3a\u6b62\uff0c\u8fd9\u5e94\u8be5\u90fd\u5f88\u719f\u6089\u4e86\u3002</p> <pre><code>using namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"ThirdScriptExample\");\n</code></pre> <p>\u4e3b\u7a0b\u5e8f\u7684\u5f00\u59cb\u65b9\u5f0f\u4e0esecond.cc\u76f8\u4f3c\uff0c\u901a\u8fc7\u6dfb\u52a0\u4e00\u4e9b\u547d\u4ee4\u884c\u53c2\u6570\u6765\u542f\u7528\u6216\u7981\u7528\u65e5\u5fd7\u7ec4\u4ef6\uff0c\u5e76\u66f4\u6539\u521b\u5efa\u7684\u8bbe\u5907\u6570\u91cf\u3002</p> <pre><code>bool verbose = true;\nuint32_t nCsma = 3;\nuint32_t nWifi = 3;\n\nCommandLine cmd;\ncmd.AddValue(\"nCsma\", \"Number of \\\"extra\\\" CSMA nodes/devices\", nCsma);\ncmd.AddValue(\"nWifi\", \"Number of wifi STA devices\", nWifi);\ncmd.AddValue(\"verbose\", \"Tell echo applications to log if true\", verbose);\n\ncmd.Parse(argc,argv);\n\nif (verbose)\n{\n  LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n  LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n}\n</code></pre> <p>\u4e0e\u4e4b\u524d\u7684\u6240\u6709\u793a\u4f8b\u4e00\u6837\uff0c\u4e0b\u4e00\u6b65\u662f\u521b\u5efa\u4e24\u4e2a\u5c06\u901a\u8fc7\u70b9\u5bf9\u70b9\u94fe\u63a5\u8fde\u63a5\u7684\u8282\u70b9\u3002</p> <pre><code>NodeContainer p2pNodes;\np2pNodes.Create(2);\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u770b\u5230\u4e00\u4e2a\u8001\u670b\u53cb\u3002\u6211\u4eec\u5b9e\u4f8b\u5316\u4e00\u4e2aPointToPointHelper\uff0c\u5e76\u8bbe\u7f6e\u5173\u8054\u7684\u9ed8\u8ba4\u5c5e\u6027\uff0c\u4ee5\u4fbf\u6211\u4eec\u4f7f\u7528\u8be5\u52a9\u624b\u521b\u5efa\u7684\u8bbe\u5907\u4e0a\u521b\u5efa\u6bcf\u79d2\u4e94\u5146\u4f4d\u7684\u53d1\u5c04\u673a\u548c\u7531\u52a9\u624b\u521b\u5efa\u7684\u4fe1\u9053\u4e0a\u7684\u4e24\u6beb\u79d2\u7684\u5ef6\u8fdf\u3002\u7136\u540e\u6211\u4eec\u5c06\u8bbe\u5907\u5b89\u88c5\u5728\u8282\u70b9\u548c\u5b83\u4eec\u4e4b\u95f4\u7684\u901a\u9053\u4e0a\u3002</p> <pre><code>PointToPointHelper pointToPoint;\npointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\npointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n\nNetDeviceContainer p2pDevices;\np2pDevices = pointToPoint.Install(p2pNodes);\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u58f0\u660e\u53e6\u4e00\u4e2aNodeContainer\u6765\u5bb9\u7eb3\u5c06\u6210\u4e3a\u603b\u7ebf\uff08CSMA\uff09\u7f51\u7edc\u4e00\u90e8\u5206\u7684\u8282\u70b9\u3002</p> <pre><code>NodeContainer csmaNodes;\ncsmaNodes.Add(p2pNodes.Get(1));\ncsmaNodes.Create(nCsma);\n</code></pre> <p>\u4e0b\u4e00\u884c\u4ee3\u7801\u4ece\u70b9\u5bf9\u70b9\u8282\u70b9\u5bb9\u5668\u4e2d\u83b7\u53d6\u7b2c\u4e00\u4e2a\u8282\u70b9\uff08\u7d22\u5f15\u4e3a1\uff09\uff0c\u5e76\u5c06\u5176\u6dfb\u52a0\u5230\u5c06\u83b7\u53d6CSMA\u8bbe\u5907\u7684\u8282\u70b9\u5bb9\u5668\u4e2d\u3002\u76f8\u5173\u8282\u70b9\u6700\u7ec8\u5c06\u5177\u6709\u70b9\u5bf9\u70b9\u8bbe\u5907\u548cCSMA\u8bbe\u5907\u3002\u7136\u540e\u6211\u4eec\u521b\u5efa\u4e00\u4e9b\u201c\u989d\u5916\u201d\u7684\u8282\u70b9\uff0c\u6784\u6210CSMA\u7f51\u7edc\u7684\u5176\u4f59\u90e8\u5206\u3002</p> <p>\u7136\u540e\uff0c\u6211\u4eec\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2aCsmaHelper\uff0c\u5e76\u50cf\u5728\u524d\u9762\u7684\u4f8b\u5b50\u4e2d\u4e00\u6837\u8bbe\u7f6e\u5176\u5c5e\u6027\u3002\u6211\u4eec\u521b\u5efa\u4e86\u4e00\u4e2aNetDeviceContainer\u6765\u8ddf\u8e2a\u521b\u5efa\u7684CSMA\u7f51\u7edc\u8bbe\u5907\uff0c\u7136\u540e\u5728\u9009\u5b9a\u7684\u8282\u70b9\u4e0a\u5b89\u88c5CSMA\u8bbe\u5907\u3002</p> <pre><code>CsmaHelper csma;\ncsma.SetChannelAttribute(\"DataRate\", StringValue(\"100Mbps\"));\ncsma.SetChannelAttribute(\"Delay\", TimeValue(NanoSeconds(6560)));\n\nNetDeviceContainer csmaDevices;\ncsmaDevices = csma.Install(csmaNodes);\n</code></pre> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u521b\u5efa\u5c06\u6210\u4e3aWi-Fi\u7f51\u7edc\u4e00\u90e8\u5206\u7684\u8282\u70b9\u3002\u6211\u4eec\u5c06\u6309\u7167\u547d\u4ee4\u884c\u53c2\u6570\u521b\u5efa\u4e00\u4e9b\u201c\u7ad9\u70b9\u201d\u8282\u70b9\uff0c\u5e76\u5c06\u70b9\u5bf9\u70b9\u94fe\u63a5\u7684\u201c\u6700\u5de6\u4fa7\u201d\u8282\u70b9\u4f5c\u4e3a\u63a5\u5165\u70b9\u7684\u8282\u70b9\u3002</p> <pre><code>NodeContainer wifiStaNodes;\nwifiStaNodes.Create(nWifi);\nNodeContainer wifiApNode = p2pNodes.Get(0);\n</code></pre> <p>\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u6784\u5efa\u4e86Wi-Fi\u8bbe\u5907\u548c\u8fd9\u4e9bWi-Fi\u8282\u70b9\u4e4b\u95f4\u7684\u4e92\u8fde\u901a\u9053\u3002\u9996\u5148\uff0c\u6211\u4eec\u914d\u7f6ePHY\u548c\u901a\u9053\u52a9\u624b\uff1a</p> <pre><code>YansWifiChannelHelper channel = YansWifiChannelHelper::Default();\nYansWifiPhyHelper phy = YansWifiPhyHelper::Default();\n</code></pre> <p>\u4e3a\u7b80\u5355\u8d77\u89c1\uff0c\u6b64\u4ee3\u7801\u4f7f\u7528==\u9ed8\u8ba4\u7684PHY\u5c42\u914d\u7f6e\u548c\u901a\u9053\u6a21\u578b==\uff0c\u8fd9\u4e9b\u5728YansWifiChannelHelper::Default\u548cYansWifiPhyHelper::Default\u65b9\u6cd5\u7684API Doxygen\u6587\u6863\u4e2d\u6709\u8be6\u7ec6\u8bf4\u660e\u3002\u521b\u5efa\u8fd9\u4e9b\u5bf9\u8c61\u540e\uff0c\u6211\u4eec\u521b\u5efa\u4e00\u4e2a\u901a\u9053\u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4e0e\u6211\u4eec\u7684PHY\u5c42\u5bf9\u8c61\u7ba1\u7406\u5668\u5173\u8054\uff0c\u4ee5\u786e\u4fdd\u7531YansWifiPhyHelper\u521b\u5efa\u7684\u6240\u6709PHY\u5c42\u5bf9\u8c61\u5171\u4eab\u76f8\u540c\u7684\u57fa\u7840\u901a\u9053\uff0c\u5373\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u65e0\u7ebf\u4ecb\u8d28\uff0c\u53ef\u4ee5\u901a\u4fe1\u548c\u5e72\u6270\uff1a</p> <pre><code>phy.SetChannel(channel.Create());\n</code></pre> <p>\u4e00\u65e6PHY\u52a9\u624b\u914d\u7f6e\u5b8c\u6210\uff0c\u6211\u4eec\u53ef\u4ee5\u4e13\u6ce8\u4e8eMAC\u5c42\u3002WifiMacHelper\u5bf9\u8c61\u7528\u4e8e\u8bbe\u7f6eMAC\u53c2\u6570\u3002\u4e0b\u9762\u7684\u7b2c\u4e8c\u4e2a\u8bed\u53e5\u521b\u5efa\u4e00\u4e2a\u5c06\u7528\u4e8e\u8bbe\u7f6eMAC\u5c42\u5b9e\u73b0\u7684\u201cSsid\u201d\u5c5e\u6027\u503c\u7684802.11\u670d\u52a1\u96c6\u6807\u8bc6\u7b26\uff08SSID\uff09\u5bf9\u8c61\u3002</p> <pre><code>WifiMacHelper mac;\nSsid ssid = Ssid(\"ns-3-ssid\");\nWifiHelper wifi;\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec==\u51c6\u5907\u5728\u8282\u70b9\u4e0a\u5b89\u88c5Wi-Fi\u6a21\u578b\uff0c\u4f7f\u7528\u8fd9\u56db\u4e2a\u52a9\u624b\u5bf9\u8c61\uff08YansWifiChannelHelper\u3001YansWifiPhyHelper\u3001WifiMacHelper\u3001WifiHelper\uff09==\u548c==\u4e0a\u9762\u521b\u5efa\u7684Ssid\u5bf9\u8c61==\u3002\u8fd9\u4e9b\u52a9\u624b\u5c01\u88c5\u4e86\u8bb8\u591a\u9ed8\u8ba4\u914d\u7f6e\uff0c\u5e76\u4e14\u5982\u679c\u9700\u8981\uff0c\u53ef\u4ee5\u4f7f\u7528\u989d\u5916\u7684\u5c5e\u6027\u914d\u7f6e\u8fdb\u884c\u8fdb\u4e00\u6b65\u5b9a\u5236\u3002\u6211\u4eec\u8fd8\u5c06\u521b\u5efaNetDevice\u5bb9\u5668\u6765\u5b58\u50a8\u52a9\u624b\u521b\u5efa\u7684WifiNetDevice\u5bf9\u8c61\u7684\u6307\u9488\u3002</p> <pre><code>NetDeviceContainer staDevices;\nmac.SetType(\"ns3::StaWifiMac\",\n            \"Ssid\", SsidValue(ssid),\n            \"ActiveProbing\", BooleanValue(false));\n</code></pre> <p>\u5728\u4e0a\u8ff0\u4ee3\u7801\u4e2d\uff0c==\u901a\u8fc7ns3::StaWifiMac\u7c7b\u578b\u7684TypeId\u503c\u6307\u5b9a\u4e86\u5c06\u7531\u52a9\u624b\u521b\u5efa\u7684\u5177\u4f53\u7c7b\u578b\u7684MAC\u5c42==\u3002\u5f53\u6807\u51c6\u81f3\u5c11\u4e3a802.11n\u6216\u66f4\u65b0\u7248\u672c\u65f6\uff0cWifiMacHelper\u5bf9\u8c61\u7684\u201cQosSupported\u201d\u5c5e\u6027\u9ed8\u8ba4\u8bbe\u7f6e\u4e3atrue\u3002\u8fd9\u4e24\u4e2a\u914d\u7f6e\u7684\u7ec4\u5408\u610f\u5473\u7740\u63a5\u4e0b\u6765\u521b\u5efa\u7684MAC\u5b9e\u4f8b\u5c06\u662f\u4e00\u4e2a\u5177\u6709QoS\u610f\u8bc6\u7684\u975eAP\u7ad9\u70b9\uff08STA\uff09\uff0c\u4f4d\u4e8e\u57fa\u7840\u7ed3\u6784BSS\u4e2d\uff08\u5373\u5177\u6709AP\u7684BSS\uff09\u3002\u6700\u540e\uff0c==\u201cActiveProbing\u201d\u5c5e\u6027\u88ab\u8bbe\u7f6e\u4e3afalse\u3002\u8fd9\u610f\u5473\u7740\u7531\u8be5\u52a9\u624b\u521b\u5efa\u7684MAC\u5c06\u4e0d\u4f1a\u53d1\u9001\u63a2\u6d4b\u8bf7\u6c42\uff0c\u5e76\u4e14\u7ad9\u70b9\u5c06\u76d1\u542cAP\u7684\u4fe1\u6807\u3002==</p> <p>\u4e00\u65e6\u6240\u6709\u4e0e\u7ad9\u70b9\u76f8\u5173\u7684\u53c2\u6570\u5728MAC\u548cPHY\u5c42\u90fd\u914d\u7f6e\u597d\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8c03\u7528\u6211\u4eec\u73b0\u5728\u719f\u6089\u7684Install\u65b9\u6cd5\u6765\u521b\u5efa\u8fd9\u4e9b\u7ad9\u70b9\u7684Wi-Fi\u8bbe\u5907\uff1a</p> <pre><code>NetDeviceContainer staDevices;\nstaDevices = wifi.Install(phy, mac, wifiStaNodes);\n</code></pre> <p>\u6211\u4eec\u5df2\u7ecf\u4e3a\u6240\u6709STA\u8282\u70b9\u914d\u7f6e\u4e86Wi-Fi\uff0c\u73b0\u5728\u6211\u4eec\u9700\u8981\u914d\u7f6eAP\uff08\u63a5\u5165\u70b9\uff09\u8282\u70b9\u3002\u6211\u4eec\u901a\u8fc7\u66f4\u6539WifiMacHelper\u7684\u9ed8\u8ba4\u5c5e\u6027\u6765\u53cd\u6620AP\u7684\u8981\u6c42\u6765\u5f00\u59cb\u8fd9\u4e2a\u8fc7\u7a0b\u3002</p> <pre><code>mac.SetType(\"ns3::ApWifiMac\",\n            \"Ssid\", SsidValue(ssid));\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c==WifiMacHelper\u5c06\u521b\u5efa\u201cns3::ApWifiMac\u201d\u7c7b\u578b\u7684MAC\u5c42\uff0c\u540e\u8005\u6307\u5b9a\u5c06\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u4e3aAP\u7684MAC\u5b9e\u4f8b==\u3002</p> <p>\u63a5\u4e0b\u6765\u7684\u884c==\u521b\u5efa\u5355\u4e2aAP\uff0c\u5b83\u4e0e\u7ad9\u70b9\u5171\u4eab\u76f8\u540c\u7684PHY\u5c42\u5c5e\u6027\uff08\u548c\u4fe1\u9053\uff09\uff1a==</p> <pre><code>NetDeviceContainer apDevices;\napDevices = wifi.Install(phy, mac, wifiApNode);\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5c06\u6dfb\u52a0\u79fb\u52a8\u6a21\u578b\u3002\u6211\u4eec\u5e0c\u671bSTA\u8282\u70b9\u662f\u79fb\u52a8\u7684\uff0c\u5728\u4e00\u4e2a\u8fb9\u754c\u6846\u5185\u56db\u5904\u6f2b\u6e38\uff0c\u800c\u6211\u4eec\u5e0c\u671b\u4f7fAP\u8282\u70b9\u4fdd\u6301\u9759\u6b62\u3002\u6211\u4eec\u4f7f\u7528MobilityHelper\u4f7f\u8fd9\u5bf9\u6211\u4eec\u6765\u8bf4\u53d8\u5f97\u5bb9\u6613\u3002==\u9996\u5148\uff0c\u6211\u4eec\u5b9e\u4f8b\u5316\u4e00\u4e2aMobilityHelper\u5bf9\u8c61\uff0c\u5e76\u8bbe\u7f6e\u4e00\u4e9b\u63a7\u5236\u201c\u4f4d\u7f6e\u5206\u914d\u5668\u201d\u529f\u80fd\u7684\u5c5e\u6027\u3002==</p> <pre><code>MobilityHelper mobility;\n\nmobility.SetPositionAllocator(\"ns3::GridPositionAllocator\",\n                              \"MinX\", DoubleValue(0.0),\n                              \"MinY\", DoubleValue(0.0),\n                              \"DeltaX\", DoubleValue(5.0),\n                              \"DeltaY\", DoubleValue(10.0),\n                              \"GridWidth\", UintegerValue(3),\n                              \"LayoutType\", StringValue(\"RowFirst\"));\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u544a\u8bc9\u79fb\u52a8\u52a9\u624b\u4f7f\u7528\u4e8c\u7ef4\u7f51\u683c\u6765\u6700\u521d\u653e\u7f6eSTA\u8282\u70b9\u3002\u968f\u65f6\u67e5\u770bns3::GridPositionAllocator\u7c7b\u7684Doxygen\uff0c\u4ee5\u4e86\u89e3\u786e\u5207\u5728\u505a\u4ec0\u4e48\u3002</p> <p>\u6211\u4eec\u5df2\u7ecf\u5728\u521d\u59cb\u7f51\u683c\u4e0a\u5b89\u6392\u4e86\u6211\u4eec\u7684\u8282\u70b9\uff0c\u4f46==\u73b0\u5728\u6211\u4eec\u9700\u8981\u544a\u8bc9\u5b83\u4eec\u5982\u4f55\u79fb\u52a8\u3002\u6211\u4eec\u9009\u62e9RandomWalk2dMobilityModel==\uff0c\u8be5\u6a21\u578b\u4f7f\u8282\u70b9\u5728\u4e00\u4e2a\u8fb9\u754c\u6846\u5185\u4ee5\u968f\u673a\u65b9\u5411\u548c\u968f\u673a\u901f\u5ea6\u79fb\u52a8\u3002</p> <pre><code>mobility.SetMobilityModel(\"ns3::RandomWalk2dMobilityModel\",\n                          \"Bounds\", RectangleValue(Rectangle(-50, 50, -50, 50)));\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec==\u544a\u8bc9MobilityHelper\u5728STA\u8282\u70b9\u4e0a\u5b89\u88c5\u79fb\u52a8\u6a21\u578b==\u3002</p> <pre><code>mobility.Install(wifiStaNodes);\n</code></pre> <p>\u6211\u4eec\u5e0c\u671b\u5728\u4eff\u771f\u671f\u95f4\u8ba9\u63a5\u5165\u70b9\u4fdd\u6301\u56fa\u5b9a\u4f4d\u7f6e\u3002\u6211\u4eec==\u901a\u8fc7\u5c06\u6b64\u8282\u70b9\u7684\u79fb\u52a8\u6a21\u578b\u8bbe\u7f6e\u4e3ans3::ConstantPositionMobilityModel\u6765\u5b9e\u73b0==\u8fd9\u4e00\u70b9\uff1a</p> <pre><code>mobility.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");\nmobility.Install(wifiApNode);\n</code></pre> <p>\u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u6211\u4eec\u7684\u8282\u70b9\u3001\u8bbe\u5907\u548c\u4fe1\u9053\uff0c\u5e76\u4e3aWi-Fi\u8282\u70b9\u9009\u62e9\u4e86\u79fb\u52a8\u6a21\u578b\uff0c\u4f46\u6211\u4eec\u8fd8\u6ca1\u6709\u534f\u8bae\u6808\u3002\u5c31\u50cf\u6211\u4eec\u4ee5\u524d\u505a\u8fc7\u5f88\u591a\u6b21\u4e00\u6837\uff0c\u6211\u4eec\u5c06\u4f7f\u7528InternetStackHelper\u6765\u5b89\u88c5\u8fd9\u4e9b\u6808\u3002</p> <pre><code>InternetStackHelper stack;\nstack.Install(csmaNodes);\nstack.Install(wifiApNode);\nstack.Install(wifiStaNodes);\n</code></pre> <p>\u5c31\u50cf\u5728second.cc\u793a\u4f8b\u811a\u672c\u4e2d\u4e00\u6837\uff0c\u6211\u4eec==\u5c06\u4f7f\u7528Ipv4AddressHelper\u4e3a\u6211\u4eec\u7684\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740==\u3002\u9996\u5148\uff0c\u6211\u4eec\u4f7f\u7528\u7f51\u7edc10.1.1.0\u521b\u5efa\u4e24\u4e2a\u70b9\u5bf9\u70b9\u8bbe\u5907\u6240\u9700\u7684\u5730\u5740\u3002\u7136\u540e\uff0c\u6211\u4eec\u4f7f\u7528\u7f51\u7edc10.1.2.0\u4e3aCSMA\u7f51\u7edc\u5206\u914d\u5730\u5740\uff0c\u7136\u540e\u6211\u4eec\u4ece\u7f51\u7edc10.1.3.0\u4e3a\u65e0\u7ebf\u7f51\u7edc\u4e0a\u7684STA\u8bbe\u5907\u548cAP\u5206\u914d\u5730\u5740\u3002</p> <pre><code>Ipv4AddressHelper address;\n\naddress.SetBase(\"10.1.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer p2pInterfaces;\np2pInterfaces = address.Assign(p2pDevices);\n\naddress.SetBase(\"10.1.2.0\", \"255.255.255.0\");\nIpv4InterfaceContainer csmaInterfaces;\ncsmaInterfaces = address.Assign(csmaDevices);\n\naddress.SetBase(\"10.1.3.0\", \"255.255.255.0\");\naddress.Assign(staDevices);\naddress.Assign(apDevices);\n</code></pre> <p>\u6211\u4eec\u5c06\u56de\u58f0\u670d\u52a1\u5668\u653e\u5728\u6587\u4ef6\u5f00\u5934\u63d2\u56fe\u4e2d\u7684\u201c\u6700\u53f3\u4fa7\u201d\u8282\u70b9\u4e0a\u3002\u6211\u4eec\u4ee5\u524d\u505a\u8fc7\u8fd9\u4e2a\u3002</p> <pre><code>UdpEchoServerHelper echoServer(9);\n\nApplicationContainer serverApps = echoServer.Install(csmaNodes.Get(nCsma));\nserverApps.Start(Seconds(1.0));\nserverApps.Stop(Seconds(10.0));\n</code></pre> <p>\u5e76\u5c06\u56de\u58f0\u5ba2\u6237\u7aef\u653e\u5728\u6211\u4eec\u521b\u5efa\u7684\u6700\u540e\u4e00\u4e2aSTA\u8282\u70b9\u4e0a\uff0c\u5c06\u5176\u6307\u5411CSMA\u7f51\u7edc\u4e0a\u7684\u670d\u52a1\u5668\u3002\u6211\u4eec\u4ee5\u524d\u4e5f\u8fdb\u884c\u8fc7\u7c7b\u4f3c\u7684\u64cd\u4f5c\u3002</p> <pre><code>UdpEchoClientHelper echoClient(csmaInterfaces.GetAddress(nCsma), 9);\nechoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));\nechoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0)));\nechoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));\n\nApplicationContainer clientApps =\n    echoClient.Install(wifiStaNodes.Get(nWifi - 1));\nclientApps.Start(Seconds(2.0));\nclientApps.Stop(Seconds(10.0));\n</code></pre> <p>\u7531\u4e8e\u6211\u4eec\u5728\u8fd9\u91cc\u5efa\u7acb\u4e86\u4e00\u4e2a\u4e92\u8054\u7f51\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u4e92\u8054\u7f51\u8def\u7531\uff0c\u5c31\u50cf\u5728second.cc\u793a\u4f8b\u811a\u672c\u4e2d\u6240\u505a\u7684\u90a3\u6837\u3002</p> <pre><code>Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n</code></pre> <p>\u6709\u4e00\u4ef6\u4e8b\u53ef\u80fd\u4f1a\u8ba9\u4e00\u4e9b\u7528\u6237\u611f\u5230\u60ca\u8bb6\uff0c\u5373==\u6211\u4eec\u521a\u521a\u521b\u5efa\u7684\u4eff\u771f\u5c06\u6c38\u8fdc\u4e0d\u4f1a\u201c\u81ea\u7136\u201d\u505c\u6b62\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u8981\u6c42\u65e0\u7ebf\u63a5\u5165\u70b9\u751f\u6210\u4fe1\u6807\u3002\u5b83\u5c06\u6c38\u8fdc\u751f\u6210\u4fe1\u6807\uff0c\u8fd9\u5c06\u5bfc\u81f4\u5c06\u6765\u65e0\u9650\u671f\u5730\u5b89\u6392\u6a21\u62df\u5668\u4e8b\u4ef6==\uff0c\u56e0\u6b64\u6211\u4eec\u5fc5\u987b\u544a\u8bc9\u6a21\u62df\u5668\u505c\u6b62\uff0c\u5373\u4f7f\u5b83\u53ef\u80fd\u5df2\u7ecf\u5b89\u6392\u4e86\u4fe1\u6807\u751f\u6210\u4e8b\u4ef6\u3002\u4ee5\u4e0b\u4ee3\u7801\u884c\u544a\u8bc9\u6a21\u62df\u5668\u505c\u6b62\uff0c\u4ee5\u9632\u6b62\u6211\u4eec\u65e0\u9650\u6a21\u62df\u4fe1\u6807\u5e76\u8fdb\u5165\u672c\u8d28\u4e0a\u662f\u65e0\u9650\u5faa\u73af\u7684\u72b6\u6001\u3002</p> <pre><code>Simulator::Stop(Seconds(10.0));\n</code></pre> <p>\u6211\u4eec==\u521b\u5efa\u4e86\u8db3\u591f\u7684\u8ddf\u8e2a\u6765\u8986\u76d6\u6240\u6709\u4e09\u4e2a\u7f51\u7edc\uff1a==</p> <pre><code>pointToPoint.EnablePcapAll(\"third\");\nphy.EnablePcap(\"third\", apDevices.Get(0));\ncsma.EnablePcap(\"third\", csmaDevices.Get(0), true);\n</code></pre> <p>\u8fd9\u4e09\u884c\u4ee3\u7801\u5c06\u5728\u4f5c\u4e3a\u6211\u4eec\u9aa8\u5e72\u7684\u4e24\u4e2a\u70b9\u5bf9\u70b9\u8282\u70b9\u4e0a\u542f\u52a8pcap\u8ddf\u8e2a\uff0c\u5c06\u5728Wi-Fi\u7f51\u7edc\u4e0a\u542f\u52a8\u6df7\u6742\uff08\u76d1\u89c6\u5668\uff09\u6a21\u5f0f\u8ddf\u8e2a\uff0c\u5e76\u5c06\u5728**CSMA\u7f51\u7edc\u4e0a\u542f\u52a8\u6df7\u6742\u8ddf\u8e2a\u3002\u8fd9\u6837\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u7528\u6700\u5c11\u6570\u91cf\u7684\u8ddf\u8e2a\u6587\u4ef6\u67e5\u770b\u6240\u6709\u7684\u6d41\u91cf\u3002</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u5b9e\u9645\u8fd0\u884c\u4eff\u771f\uff0c\u8fdb\u884c\u6e05\u7406\uff0c\u7136\u540e\u9000\u51fa\u7a0b\u5e8f\u3002</p> <pre><code>Simulator::Run();\nSimulator::Destroy();\nreturn 0;\n}\n</code></pre> <p>\u4e3a\u4e86\u8fd0\u884c\u8fd9\u4e2a\u4f8b\u5b50\uff0c\u4f60\u5fc5\u987b\u5c06third.cc\u793a\u4f8b\u811a\u672c\u590d\u5236\u5230scratch\u76ee\u5f55\u4e2d\uff0c\u5e76\u4f7f\u7528CMake\u8fdb\u884c\u6784\u5efa\uff0c\u5c31\u50cf\u5728second.cc\u793a\u4f8b\u4e2d\u6240\u505a\u7684\u90a3\u6837\u3002\u5982\u679c\u4f60\u5728\u5b58\u50a8\u5e93\u7684\u9876\u5c42\u76ee\u5f55\u4e2d\uff0c\u8f93\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>$ cp examples/tutorial/third.cc scratch/mythird.cc\n$ ./ns3 run 'scratch/mythird --tracing=1'\n</code></pre> <p>\u518d\u6b21\u5f3a\u8c03\uff0c\u7531\u4e8e\u6211\u4eec\u8bbe\u7f6e\u4e86\u4e0esecond.cc\u811a\u672c\u4e2d\u76f8\u4f3c\u7684UDP\u56de\u663e\u5e94\u7528\u7a0b\u5e8f\uff0c\u4f60\u5c06\u770b\u5230\u7c7b\u4f3c\u7684\u8f93\u51fa\u3002</p> <p>\u5728\u65f6\u95f4+2s\u65f6\uff0c\u5ba2\u6237\u7aef\u541110.1.2.4\u7684\u7aef\u53e39\u53d1\u9001\u4e861024\u5b57\u8282 \u5728\u65f6\u95f4+2.01624s\u65f6\uff0c\u670d\u52a1\u5668\u4ece10.1.3.3\u7684\u7aef\u53e349153\u63a5\u6536\u5230\u4e861024\u5b57\u8282 \u5728\u65f6\u95f4+2.01624s\u65f6\uff0c\u670d\u52a1\u5668\u541110.1.3.3\u7684\u7aef\u53e349153\u53d1\u9001\u4e861024\u5b57\u8282 \u5728\u65f6\u95f4+2.02849s\u65f6\uff0c\u5ba2\u6237\u7aef\u4ece10.1.2.4\u7684\u7aef\u53e39\u63a5\u6536\u5230\u4e861024\u5b57\u8282 <pre><code>At time +2s client sent 1024 bytes to 10.1.2.4 port 9\nAt time +2.01828s server received 1024 bytes from 10.1.3.3 port 49153\nAt time +2.01828s server sent 1024 bytes to 10.1.3.3 port 49153\nAt time +2.02652s client received 1024 bytes from 10.1.2.4 port 9\n</code></pre></p> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u7b2c\u4e00\u6761\u6d88\u606f\u201c\u541110.1.2.4\u53d1\u9001\u4e861024\u5b57\u8282\u201d\u662fUDP\u56de\u663e\u5ba2\u6237\u7aef\u5411\u670d\u52a1\u5668\u53d1\u9001\u6570\u636e\u5305\u7684\u6d88\u606f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5ba2\u6237\u7aef\u4f4d\u4e8e\u65e0\u7ebf\u7f51\u7edc\uff0810.1.3.0\uff09\u4e0a\u3002\u7b2c\u4e8c\u6761\u6d88\u606f\u201c\u4ece10.1.3.3\u63a5\u6536\u5230\u4e861024\u5b57\u8282\u201d\u6765\u81eaUDP\u56de\u663e\u670d\u52a1\u5668\uff0c\u8868\u793a\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e86\u56de\u663e\u6570\u636e\u5305\u3002\u6700\u540e\u4e00\u6761\u6d88\u606f\u201c\u4ece10.1.2.4\u63a5\u6536\u5230\u4e861024\u5b57\u8282\u201d\u6765\u81ea\u56de\u663e\u5ba2\u6237\u7aef\uff0c\u8868\u793a\u5b83\u5df2\u4ece\u670d\u52a1\u5668\u63a5\u6536\u5230\u4e86\u56de\u663e\u3002</p> <p>\u5982\u679c\u73b0\u5728\u67e5\u770b\u9876\u7ea7\u76ee\u5f55\uff0c\u5e76\u6309\u7167\u4e0a\u9762\u5efa\u8bae\u7684\u547d\u4ee4\u884c\u542f\u7528\u4e86\u8ddf\u8e2a\uff0c\u4f60\u5c06\u5728\u6b64\u4eff\u771f\u7684\u56db\u4e2a\u8ddf\u8e2a\u6587\u4ef6\u4e2d\u627e\u5230\u56db\u4e2a\u8ddf\u8e2a\u6587\u4ef6\uff0c\u4e24\u4e2a\u6765\u81ea\u8282\u70b9\u96f6\uff0c\u4e24\u4e2a\u6765\u81ea\u8282\u70b9\u4e00\uff1a</p> <pre><code>third-0-0.pcap  third-0-1.pcap  third-1-0.pcap  third-1-1.pcap\n</code></pre> <p>\u6587\u4ef6\u201cthird-0-0.pcap\u201d\u5bf9\u5e94\u4e8e\u8282\u70b9\u96f6\u4e0a\u7684\u70b9\u5bf9\u70b9\u8bbe\u5907 - \u201c\u9aa8\u5e72\u201d\u5de6\u4fa7\u3002 \u6587\u4ef6\u201cthird-1-0.pcap\u201d\u5bf9\u5e94\u4e8e\u8282\u70b9\u4e00\u4e0a\u7684\u70b9\u5bf9\u70b9\u8bbe\u5907 - \u201c\u9aa8\u5e72\u201d\u53f3\u4fa7\u3002 \u6587\u4ef6\u201cthird-0-1.pcap\u201d\u5c06\u662fWi-Fi\u7f51\u7edc\u4e0a\u7684\u6df7\u6742\uff08\u76d1\u89c6\u5668\u6a21\u5f0f\uff09\u8ddf\u8e2a. \u6587\u4ef6\u201cthird-1-1.pcap\u201d\u5c06\u662fCSMA\u7f51\u7edc\u4e0a\u7684\u6df7\u6742\u8ddf\u8e2a\u3002\u4f60\u80fd\u901a\u8fc7\u68c0\u67e5\u4ee3\u7801\u9a8c\u8bc1\u8fd9\u4e00\u70b9\u5417\uff1f</p> <p>\u7531\u4e8e\u56de\u663e\u5ba2\u6237\u7aef\u4f4d\u4e8eWi-Fi\u7f51\u7edc\u4e0a\uff0c\u8ba9\u6211\u4eec\u4ece\u90a3\u91cc\u5f00\u59cb\u3002\u8ba9\u6211\u4eec\u67e5\u770b\u6211\u4eec\u5728\u8be5\u7f51\u7edc\u4e0a\u6355\u83b7\u7684\u6df7\u6742\uff08\u76d1\u89c6\u5668\u6a21\u5f0f\uff09\u8ddf\u8e2a\u3002</p> <pre><code>$ tcpdump -nn -tt -r third-0-1.pcap\n</code></pre> <p>\u4f60\u5e94\u8be5\u4f1a\u770b\u5230\u4e00\u4e9b\u4f60\u4ee5\u524d\u6ca1\u6709\u770b\u5230\u7684Wi-Fi\u5185\u5bb9\uff1a</p> <pre><code>reading from file third-0-1.pcap, link-type IEEE802_11_RADIO (802.11 plus radiotap header)\n\n0.033119 33119us tsft 6.0 Mb/s 5210 MHz 11a Beacon (ns-3-ssid) [6.0* 9.0 12.0* 18.0 24.0* 36.0 48.0 54.0 Mbit] ESS\n0.120504 120504us tsft 6.0 Mb/s 5210 MHz 11a -62dBm signal -94dBm noise Assoc Request (ns-3-ssid) [6.0 9.0 12.0 18.0 24.0 36.0 48.0 54.0 Mbit]\n0.120520 120520us tsft 6.0 Mb/s 5210 MHz 11a Acknowledgment RA:00:00:00:00:00:08\n0.120632 120632us tsft 6.0 Mb/s 5210 MHz 11a -62dBm signal -94dBm noise CF-End RA:ff:ff:ff:ff:ff:ff\n0.120666 120666us tsft 6.0 Mb/s 5210 MHz 11a Assoc Response AID(1) :: Successful\n...\n</code></pre> <p>\u4f60\u53ef\u4ee5\u770b\u5230\u94fe\u63a5\u7c7b\u578b\u73b0\u5728\u662f802.11\uff0c\u8fd9\u662f\u4f60\u6240\u671f\u671b\u7684\u3002\u4f60\u53ef\u80fd\u80fd\u591f\u7406\u89e3\u6b63\u5728\u53d1\u751f\u4ec0\u4e48\uff0c\u5e76\u5728\u8fd9\u4e2a\u8ddf\u8e2a\u4e2d\u627e\u5230IP\u56de\u663e\u8bf7\u6c42\u548c\u54cd\u5e94\u6570\u636e\u5305\u3002\u6211\u4eec\u5c06\u5b83\u4f5c\u4e3a\u4e00\u4e2a\u7ec3\u4e60\u6765\u5b8c\u5168\u89e3\u6790\u8ddf\u8e2a\u8f6c\u50a8\u3002</p> <p>\u73b0\u5728\uff0c\u67e5\u770b==\u70b9\u5bf9\u70b9\u94fe\u63a5\u7684\u5de6\u4fa7\u7684pcap==\u6587\u4ef6\uff0c</p> <pre><code>$ tcpdump -nn -tt -r third-0-0.pcap\n</code></pre> <p>\u540c\u6837\uff0c\u4f60\u5e94\u8be5\u770b\u5230\u4e00\u4e9b\u719f\u6089\u7684\u5185\u5bb9\uff1a</p> <pre><code>reading from file third-0-0.pcap, link-type PPP (PPP)\n2.006440 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.025048 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024\n</code></pre> <p>\u8fd9\u662f\u4ece\u5de6\u5230\u53f3\uff08\u4eceWi-Fi\u5230CSMA\uff09\u7684\u56de\u663e\u6570\u636e\u5305\uff0c\u7136\u540e\u518d\u6b21\u7a7f\u8d8a\u70b9\u5bf9\u70b9\u94fe\u63a5\u8fd4\u56de\u3002</p> <p>\u73b0\u5728\uff0c\u67e5\u770b==\u70b9\u5bf9\u70b9\u94fe\u63a5\u7684\u53f3\u4fa7\u7684pcap==\u6587\u4ef6\uff0c</p> <pre><code>$ tcpdump -nn -tt -r third-1-0.pcap\n</code></pre> <p>\u540c\u6837\uff0c\u4f60\u5e94\u8be5\u770b\u5230\u4e00\u4e9b\u719f\u6089\u7684\u5185\u5bb9\uff1a</p> <pre><code>reading from file third-1-0.pcap, link-type PPP (PPP)\n2.010126 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.021361 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024\n</code></pre> <p>\u8fd9\u4e5f\u662f\u4ece\u5de6\u5230\u53f3\uff08\u4eceWi-Fi\u5230CSMA\uff09\u7684\u56de\u663e\u6570\u636e\u5305\uff0c\u4f46\u7531\u4e8e\u4f60\u53ef\u80fd\u671f\u671b\u7684\u539f\u56e0\uff0c\u65f6\u95f4\u7a0d\u5fae\u6709\u6240\u4e0d\u540c\u3002</p> <p>\u56de\u663e\u670d\u52a1\u5668\u4f4d\u4e8eCSMA\u7f51\u7edc\u4e0a\uff0c\u8ba9\u6211\u4eec\u5728\u90a3\u91cc\u67e5\u770b\u6df7\u6742\u8ddf\u8e2a\uff1a</p> <pre><code>$ tcpdump -nn -tt -r third-1-1.pcap\n</code></pre> <p>\u4f60\u5e94\u8be5\u770b\u5230\u4e00\u4e9b\u719f\u6089\u7684\u5185\u5bb9\uff1a</p> <pre><code>reading from file third-1-1.pcap, link-type EN10MB (Ethernet)\n2.016126 ARP, Request who-has 10.1.2.4 (ff:ff:ff:ff:ff:ff) tell 10.1.2.1, length 50\n2.016151 ARP, Reply 10.1.2.4 is-at 00:00:00:00:00:06, length 50\n2.016151 IP 10.1.3.3.49153 &gt; 10.1.2.4.9: UDP, length 1024\n2.021255 ARP, Request who-has 10.1.2.1 (ff:ff:ff:ff:ff:ff) tell 10.1.2.4, length 50\n2.021255 ARP, Reply 10.1.2.1 is-at 00:00:00:00:00:03, length 50\n2.021361 IP 10.1.2.4.9 &gt; 10.1.3.3.49153: UDP, length 1024\n</code></pre> <p>\u8fd9\u5e94\u8be5\u5f88\u5bb9\u6613\u7406\u89e3\u3002\u5982\u679c\u4f60\u5fd8\u8bb0\u4e86\uff0c\u8bf7\u8fd4\u56de\u5e76\u67e5\u770bsecond.cc\u4e2d\u7684\u8ba8\u8bba\u3002\u8fd9\u662f\u76f8\u540c\u7684\u987a\u5e8f\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u82b1\u8d39\u4e86\u5f88\u591a\u65f6\u95f4\u4e3a\u65e0\u7ebf\u7f51\u7edc\u8bbe\u7f6e\u79fb\u52a8\u6a21\u578b\uff0c\u5982\u679c\u5728\u4e0d\u663e\u793aSTA\u8282\u70b9\u5728\u4eff\u771f\u8fc7\u7a0b\u4e2d\u79fb\u52a8\u7684\u60c5\u51b5\u4e0b\u7ed3\u675f\uff0c\u90a3\u5c06\u662f\u4e00\u79cd\u9057\u61be\u3002</p> <p>\u8ba9\u6211\u4eec\u901a\u8fc7\u8fde\u63a5\u5230MobilityModel\u8bfe\u7a0b(course)\u66f4\u6539\u8ddf\u8e2a\u6e90\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002\u8fd9\u53ea\u662f\u8be6\u7ec6\u8ddf\u8e2a\u90e8\u5206\u7684\u4e00\u4e2a\u5c0f\u7aa5\u63a2\uff0c\u4f46\u8fd9\u4f3c\u4e4e\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u5730\u65b9\u6765\u5c55\u793a\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <p>\u5982\u201c\u8c03\u6574ns-3\u201d\u90e8\u5206\u6240\u8ff0\uff0c==ns-3\u8ddf\u8e2a\u7cfb\u7edf\u5206\u4e3a\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u63a5\u6536\u5668\uff0c\u5e76\u4e14\u6211\u4eec\u63d0\u4f9b\u4e86\u5c06\u4e24\u8005\u8fde\u63a5\u8d77\u6765\u7684\u51fd\u6570==\u3002\u6211\u4eec\u5c06\u4f7f==\u7528MobilityModel\u9884\u5b9a\u4e49\u7684\u8bfe\u7a0b(course)\u66f4\u6539\u8ddf\u8e2a\u6e90\u6765\u53d1\u51fa\u8ddf\u8e2a\u4e8b\u4ef6==\u3002\u6211\u4eec\u5c06\u9700\u8981\u7f16\u5199\u4e00\u4e2a\u8ddf\u8e2a\u63a5\u6536\u5668\u6765\u8fde\u63a5\u5230\u8be5\u6e90\uff0c\u4ee5\u4fbf\u4e3a\u6211\u4eec\u663e\u793a\u4e00\u4e9b\u6f02\u4eae\u7684\u4fe1\u606f\u3002\u5c3d\u7ba1\u5b83\u88ab\u8ba4\u4e3a\u662f\u56f0\u96be\u7684\uff0c\u4f46\u5b83\u5b9e\u9645\u4e0a\u975e\u5e38\u7b80\u5355\u3002\u5728scratch/mythird.cc\u811a\u672c\u7684\u4e3b\u7a0b\u5e8f\u4e4b\u524d\uff08\u5373\u5728NS_LOG_COMPONENT_DEFINE\u8bed\u53e5\u4e4b\u540e\uff09\uff0c\u6dfb\u52a0\u4ee5\u4e0b\u51fd\u6570\uff1a</p> <pre><code>void\nCourseChange(std::string context, Ptr&lt;const MobilityModel&gt; model)\n{\n  Vector position = model-&gt;GetPosition();\n  NS_LOG_UNCOND(context &lt;&lt;\n              \" x = \" &lt;&lt; position.x &lt;&lt; \", y = \" &lt;&lt; position.y);\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801==\u53ea\u662f\u4ece\u79fb\u52a8\u6a21\u578b\u4e2d\u63d0\u53d6\u4f4d\u7f6e\u4fe1\u606f\uff0c\u5e76\u65e0\u6761\u4ef6\u5730\u8bb0\u5f55\u8282\u70b9\u7684x\u548cy\u4f4d\u7f6e==\u3002\u6211\u4eec\u5c06\u5b89\u6392\u8fd9\u4e2a\u51fd\u6570\u5728\u5177\u6709\u56de\u663e\u5ba2\u6237\u7aef\u7684\u65e0\u7ebf\u8282\u70b9\u6539\u53d8\u5176\u4f4d\u7f6e\u65f6\u88ab\u8c03\u7528\u3002\u6211\u4eec\u4f7f\u7528Config::Connect\u51fd\u6570\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002\u5728\u8fd0\u884cSimulator::Run\u8c03\u7528\u4e4b\u524d\uff0c\u5728\u811a\u672c\u4e2d\u6dfb\u52a0\u4ee5\u4e0b\u4ee3\u7801\u884c\u3002</p> <pre><code>std::ostringstream oss;\noss &lt;&lt; \"/NodeList/\" &lt;&lt; wifiStaNodes.Get(nWifi - 1)-&gt;GetId()\n    &lt;&lt; \"/$ns3::MobilityModel/CourseChange\";\n\nConfig::Connect(oss.str(), MakeCallback(&amp;CourseChange));\n</code></pre> <p>\u5728\u8fd9\u91cc\u6211\u4eec\u505a\u7684\u662f==\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u6211\u4eec\u8981\u8fde\u63a5\u7684\u8ddf\u8e2a\u547d\u540d\u7a7a\u95f4\u8def\u5f84\u7684\u5b57\u7b26\u4e32==\u3002\u9996\u5148\uff0c\u6211\u4eec\u5fc5\u987b\u901a\u8fc7GetId\u65b9\u6cd5\u627e\u51fa\u6211\u4eec\u60f3\u8981\u7684\u662f\u54ea\u4e2a\u8282\u70b9\u3002\u5728CSMA\u548c\u65e0\u7ebf\u8282\u70b9\u7684\u9ed8\u8ba4\u6570\u91cf\u7684\u60c5\u51b5\u4e0b\uff0c\u7ed3\u679c\u662f\u8282\u70b9\u4e03\uff0c\u79fb\u52a8\u6a21\u578b\u7684\u8ddf\u8e2a\u547d\u540d\u7a7a\u95f4\u8def\u5f84\u5c06\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>/NodeList/7/$ns3::MobilityModel/CourseChange\n</code></pre> <p>\u57fa\u4e8e\u8ddf\u8e2a\u90e8\u5206\u7684\u8ba8\u8bba\uff0c\u60a8\u53ef\u4ee5\u63a8\u65ad\u6b64\u8ddf\u8e2a\u8def\u5f84\u5f15\u7528\u5168\u5c40NodeList\u4e2d\u7684\u7b2c\u4e03\u4e2a\u8282\u70b9\u3002\u5b83\u6307\u5b9a\u4e86\u7c7b\u578b\u4e3a<code>ns3::MobilityModel</code>\u7684\u805a\u5408\u5bf9\u8c61\u3002\u7f8e\u5143\u7b26\u53f7\u524d\u7f00\u610f\u5473\u7740MobilityModel\u5df2\u805a\u5408\u5230\u8282\u70b9\u4e03\u3002\u8def\u5f84\u7684\u6700\u540e\u4e00\u4e2a\u7ec4\u4ef6\u610f\u5473\u7740\u6211\u4eec\u6b63\u5728\u8fde\u63a5\u5230\u8be5\u6a21\u578b\u7684\u201cCourseChange\u201d\u4e8b\u4ef6\u3002</p> <p>\u6211\u4eec==\u901a\u8fc7\u8c03\u7528<code>Config::Connect</code>\u5e76\u4f20\u9012\u6b64\u547d\u540d\u7a7a\u95f4\u8def\u5f84\uff0c\u5728\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u6c47\u4e4b\u95f4\u5efa\u7acb\u4e86\u8fde\u63a5==\u3002\u4e00\u65e6\u5b8c\u6210\u6b64\u64cd\u4f5c\uff0c\u6bcf\u5f53\u8282\u70b9\u4e03\u53d1\u751f\u8bfe\u7a0b\u66f4\u6539\u4e8b\u4ef6\u65f6\uff0c\u5b83\u90fd\u5c06\u8fde\u63a5\u5230\u6211\u4eec\u7684\u8ddf\u8e2a\u6c47\uff0c\u540e\u8005\u5c06\u4f9d\u6b21\u6253\u5370\u51fa\u65b0\u7684\u4f4d\u7f6e\u3002</p> <p>\u5982\u679c\u60a8\u73b0\u5728\u8fd0\u884c\u6a21\u62df\uff0c\u60a8\u5c06\u770b\u5230\u53d1\u751f\u7684\u8bfe\u7a0b\u66f4\u6539\u3002</p> <p><pre><code>$ ./ns3 build\n$ ./ns3 run scratch/mythird\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10, y = 0\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.36083, y = -0.769065\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.62346, y = 0.195831\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.42533, y = 1.17601\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 8.4854, y = 0.834616\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.79244, y = 1.55559\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.85546, y = 2.55361\nAt time +2s client sent 1024 bytes to 10.1.2.4 port 9\nAt time +2.01624s server received 1024 bytes from 10.1.3.3 port 49153\nAt time +2.01624s server sent 1024 bytes to 10.1.3.3 port 49153\nAt time +2.02849s client received 1024 bytes from 10.1.2.4 port 9\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 8.72774, y = 2.06461\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.52954, y = 2.6622\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.523, y = 2.77665\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.7054, y = 3.75987\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.143, y = 2.93301\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.2355, y = 1.9373\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 11.2152, y = 1.73647\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.2379, y = 1.94864\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 10.4491, y = 0.971199\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.56013, y = 1.42913\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.11607, y = 2.32513\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 8.22047, y = 1.88027\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 8.79149, y = 1.05934\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.41195, y = 0.275103\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.83369, y = -0.631617\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 9.15219, y = 0.100206\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 8.32714, y = 0.665266\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.46368, y = 0.160847\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.40394, y = -0.837367\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 6.96716, y = -1.73693\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.62062, y = -2.49388\n/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.99793, y = -1.56779\n</code></pre> \u8fd9\u4e9b\u8f93\u51fa\u663e\u793a\u4e86\u8282\u70b9\u4e03\u7684\u8bfe\u7a0b\u66f4\u6539\u3002</p>"},{"location":"Sci_doc/ns-3/ch3/#review_1","title":"review\uff1a\u6e90\u7801","text":"<pre><code>/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n\n#include \"ns3/applications-module.h\"\n#include \"ns3/core-module.h\"\n#include \"ns3/csma-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/mobility-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/point-to-point-module.h\"\n#include \"ns3/ssid.h\"\n#include \"ns3/yans-wifi-helper.h\"\n\n// Default Network Topology\n//\n//   Wifi 10.1.3.0\n//                 AP\n//  *    *    *    *\n//  |    |    |    |    10.1.1.0\n// n5   n6   n7   n0 -------------- n1   n2   n3   n4\n//                   point-to-point  |    |    |    |\n//                                   ================\n//                                     LAN 10.1.2.0\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"ThirdScriptExample\");\n\nint\nmain(int argc, char* argv[])\n{\n    bool verbose = true;\n    uint32_t nCsma = 3;\n    uint32_t nWifi = 3;\n    bool tracing = false;\n\n    CommandLine cmd(__FILE__);\n    cmd.AddValue(\"nCsma\", \"Number of \\\"extra\\\" CSMA nodes/devices\", nCsma);\n    cmd.AddValue(\"nWifi\", \"Number of wifi STA devices\", nWifi);\n    cmd.AddValue(\"verbose\", \"Tell echo applications to log if true\", verbose);\n    cmd.AddValue(\"tracing\", \"Enable pcap tracing\", tracing);\n\n    cmd.Parse(argc, argv);\n\n    // The underlying restriction of 18 is due to the grid position\n    // allocator's configuration; the grid layout will exceed the\n    // bounding box if more than 18 nodes are provided.\n    if (nWifi &gt; 18)\n    {\n        std::cout &lt;&lt; \"nWifi should be 18 or less; otherwise grid layout exceeds the bounding box\"\n                  &lt;&lt; std::endl;\n        return 1;\n    }\n\n    if (verbose)\n    {\n        LogComponentEnable(\"UdpEchoClientApplication\", LOG_LEVEL_INFO);\n        LogComponentEnable(\"UdpEchoServerApplication\", LOG_LEVEL_INFO);\n    }\n\n    NodeContainer p2pNodes;\n    p2pNodes.Create(2);\n\n    PointToPointHelper pointToPoint;\n    pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\n    pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n\n    NetDeviceContainer p2pDevices;\n    p2pDevices = pointToPoint.Install(p2pNodes);\n\n    NodeContainer csmaNodes;\n    csmaNodes.Add(p2pNodes.Get(1));\n    csmaNodes.Create(nCsma);\n\n    CsmaHelper csma;\n    csma.SetChannelAttribute(\"DataRate\", StringValue(\"100Mbps\"));\n    csma.SetChannelAttribute(\"Delay\", TimeValue(NanoSeconds(6560)));\n\n    NetDeviceContainer csmaDevices;\n    csmaDevices = csma.Install(csmaNodes);\n\n    NodeContainer wifiStaNodes;\n    wifiStaNodes.Create(nWifi);\n    NodeContainer wifiApNode = p2pNodes.Get(0);\n\n    // \u6784\u5efa\u4e86Wi-Fi\u8bbe\u5907\u548c\u8fd9\u4e9bWi-Fi\u8282\u70b9\u4e4b\u95f4\u7684\u4e92\u8fde\u901a\u9053:\n    YansWifiChannelHelper channel = YansWifiChannelHelper::Default();// \u5efa\u7acb\u4e86\u9ed8\u8ba4\u7684\u901a\u9053\u6a21\u578b\u201c\u642d\u5efa\u52a9\u624b\u201d\n    YansWifiPhyHelper phy;             // \u5efa\u7acb\u4e86\u9ed8\u8ba4\u7684PHY\u6a21\u578b\u201c\u642d\u5efa\u52a9\u624b\u201d\n    phy.SetChannel(channel.Create());\n    // \u5efa\u7acb\u4e00\u4e2a\u201c\u901a\u9053\u5bf9\u8c61\u201d\uff0c\u5e76\u5c06\u5176\u4e0e\u6211\u4eec\u7684PHY\u5c42\u5bf9\u8c61\u7ba1\u7406\u5668\u5173\u8054\uff0c\u4ee5\u786e\u4fdd\u7531YansWifiPhyHelper\u521b\u5efa\u7684\u6240\u6709PHY\u5c42\u5bf9\u8c61\u5171\u4eab\u76f8\u540c\u7684\u57fa\u7840\u901a\u9053\uff0c\u5373\u5b83\u4eec\u5171\u4eab\u76f8\u540c\u7684\u65e0\u7ebf\u4ecb\u8d28\uff0c\u53ef\u4ee5\u901a\u4fe1\u548c\u5e72\u6270\n\n    // PHY\u52a9\u624b\u914d\u7f6e\u5df2\u7ecf\u5b8c\u6210\uff0c\u73b0\u5728\u6211\u4eec\u53ef\u4ee5\u4e13\u6ce8\u4e8eMAC\u5c42\uff1a\n    WifiMacHelper mac;             // \u5efa\u7acb\u4e00\u4e2aWifiMacHelper\u5bf9\u8c61\uff0c\u7528\u4e8e\u8bbe\u7f6eMAC\u53c2\u6570\n    Ssid ssid = Ssid(\"ns-3-ssid\"); // \u5efa\u7acb\u4e00\u4e2a\u5c06\u7528\u4e8e\u8bbe\u7f6eMAC\u5c42\u5b9e\u73b0\u7684\u201cSsid\u201d\u5c5e\u6027\u503c\u7684802.11SSID\u5bf9\u8c61\n\n    // \u73b0\u5728\uff0c\u6211\u4eec\u51c6\u5907\u5728\u8282\u70b9\u4e0a\u5b89\u88c5Wi-Fi\u6a21\u578b\uff1a\uff08\u6211\u4eec\u5c06\u4f9d\u8d56\u4e8e\u56db\u4e2ahelper\uff09\n    WifiHelper wifi;\n\n    NetDeviceContainer staDevices;\n    mac.SetType(\"ns3::StaWifiMac\", \"Ssid\", SsidValue(ssid), \"ActiveProbing\", BooleanValue(false));\n    // \u8fd9\u91cc\u56db\u4e2a\u53c2\u6570\uff0c\u5b9e\u73b0\u6240\u6709\u4e0e\u7ad9\u70b9\u76f8\u5173\u7684\u53c2\u6570\u5728MAC\u548cPHY\u5c42\u90fd\u914d\u7f6e\u597d\n    // \u7b2c\u4e00\u4e2a\u662fTypeId\u503c\uff0c\u6307\u5b9a\u4e86\u5c06\u7531\u52a9\u624b\u521b\u5efa\u7684\u5177\u4f53\u7c7b\u578b\u7684MAC\u5c42\n    // \u6700\u540e\u4e00\u4e2a\u201cActiveProbing\u201d\u5c5e\u6027\u88ab\u8bbe\u7f6e\u4e3afalse\uff0c\u8fd9\u610f\u5473\u7740\u7531\u8be5\u52a9\u624b\u521b\u5efa\u7684MAC\u5c06\u4e0d\u4f1a\u53d1\u9001\u63a2\u6d4b\u8bf7\u6c42\uff0c\u5e76\u4e14\u7ad9\u70b9\u5c06\u76d1\u542cAP\u7684\u4fe1\u6807\u3002\n\n    staDevices = wifi.Install(phy, mac, wifiStaNodes);// \u8c03\u7528\u719f\u6089\u7684Install\u65b9\u6cd5\u6765\u521b\u5efa\u8fd9\u4e9b\u7ad9\u70b9\u7684Wi-Fi\u8bbe\u5907\n\n    // \u6211\u4eec\u5df2\u7ecf\u4e3a\u6240\u6709STA\u8282\u70b9\u914d\u7f6e\u4e86Wi-Fi\uff0c\u73b0\u5728\u6211\u4eec\u9700\u8981\u914d\u7f6eAP\uff08\u63a5\u5165\u70b9\uff09\u8282\u70b9\uff1a\n    NetDeviceContainer apDevices;\n    mac.SetType(\"ns3::ApWifiMac\", \"Ssid\", SsidValue(ssid)); // WifiMacHelper\u5c06\u521b\u5efa\u201cns3::ApWifiMac\u201d\u7c7b\u578b\u7684MAC\u5c42\uff0c\u540e\u8005\u6307\u5b9a\u5c06\u521b\u5efa\u4e00\u4e2a\u914d\u7f6e\u4e3aAP\u7684MAC\u5b9e\u4f8b\n    apDevices = wifi.Install(phy, mac, wifiApNode);// \u521b\u5efa\u5355\u4e2aAP\uff0c\u5b83\u4e0e\u7ad9\u70b9\u5171\u4eab\u76f8\u540c\u7684PHY\u5c42\u5c5e\u6027\uff08\u548c\u4fe1\u9053\uff09\n\n    MobilityHelper mobility;// \u5efa\u7acb\u4e00\u4e2aMobilityHelper\u5bf9\u8c61\uff08\u79fb\u52a8\u642d\u5efa\u52a9\u624b\uff09\n\n    mobility.SetPositionAllocator(\"ns3::GridPositionAllocator\",\n                                  \"MinX\",\n                                  DoubleValue(0.0),\n                                  \"MinY\",\n                                  DoubleValue(0.0),\n                                  \"DeltaX\",\n                                  DoubleValue(5.0),\n                                  \"DeltaY\",\n                                  DoubleValue(10.0),\n                                  \"GridWidth\",\n                                  UintegerValue(3),\n                                  \"LayoutType\",\n                                  StringValue(\"RowFirst\")); // \u4f7f\u7528\u4e8c\u7ef4\u7f51\u683c\u6765\u6700\u521d\u653e\u7f6eSTA\u8282\u70b9\n\n    mobility.SetMobilityModel(\"ns3::RandomWalk2dMobilityModel\",\n                              \"Bounds\",\n                              RectangleValue(Rectangle(-50, 50, -50, 50)));\n    // \u6211\u4eec\u9009\u62e9RandomWalk2dMobilityModel\u544a\u8bc9\u8fd9\u4e9b\u70b9\u5982\u4f55\u79fb\u52a8\n    mobility.Install(wifiStaNodes); // \u544a\u8bc9MobilityHelper\u5728STA\u8282\u70b9\u4e0a\u5b89\u88c5\u79fb\u52a8\u6a21\u578b\n\n    mobility.SetMobilityModel(\"ns3::ConstantPositionMobilityModel\");// \u5e0c\u671b\u4eff\u771f\u671f\u95f4\u8ba9\u63a5\u5165\u70b9AP\u4fdd\u6301\u56fa\u5b9a\u4f4d\u7f6e\n    mobility.Install(wifiApNode); //\u901a\u8fc7\u5c06\u6b64\u8282\u70b9\u7684\u79fb\u52a8\u6a21\u578b\u8bbe\u7f6e\u4e3ans3::ConstantPositionMobilityModel\u6765\u5b9e\u73b0\n\n    // \u73b0\u5728\uff0c\u6211\u4eec\u5df2\u7ecf\u521b\u5efa\u4e86\u6211\u4eec\u7684\u8282\u70b9\u3001\u8bbe\u5907\u548c\u4fe1\u9053\uff0c\u5e76\u4e3aWi-Fi\u8282\u70b9\u9009\u62e9\u4e86\u79fb\u52a8\u6a21\u578b\uff0c\u4f46\u6211\u4eec\u8fd8\u6ca1\u6709\u534f\u8bae\u6808\uff1a\n    InternetStackHelper stack;\n    stack.Install(csmaNodes);\n    stack.Install(wifiApNode);\n    stack.Install(wifiStaNodes);\n\n    Ipv4AddressHelper address; // \u5efa\u7acb\u4e00\u4e2aIPv4\u5730\u5740\u5206\u914d\u52a9\u624b\n\n    // \u4f7f\u7528Ipv4AddressHelper\u4e3a\u6211\u4eec\u7684\u8bbe\u5907\u63a5\u53e3\u5206\u914dIP\u5730\u5740\uff1a\n    address.SetBase(\"10.1.1.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer p2pInterfaces;\n    p2pInterfaces = address.Assign(p2pDevices); // \u4f7f\u7528\u7f51\u7edc10.1.1.0\u521b\u5efa\u4e24\u4e2a\u70b9\u5bf9\u70b9\u8bbe\u5907\u6240\u9700\u7684\u5730\u5740\n\n    address.SetBase(\"10.1.2.0\", \"255.255.255.0\");\n    Ipv4InterfaceContainer csmaInterfaces;\n    csmaInterfaces = address.Assign(csmaDevices); // \u4f7f\u7528\u7f51\u7edc10.1.2.0\u4e3aCSMA\u7f51\u7edc\u5206\u914d\u5730\u5740\n\n    address.SetBase(\"10.1.3.0\", \"255.255.255.0\");\n    address.Assign(staDevices);\n    address.Assign(apDevices);              // \u7136\u540e\u6211\u4eec\u4ece\u7f51\u7edc10.1.3.0\u4e3a\u65e0\u7ebf\u7f51\u7edc\u4e0a\u7684STA\u8bbe\u5907\u548cAP\u5206\u914d\u5730\u5740\n\n    UdpEchoServerHelper echoServer(9); // \u5c06\u56de\u58f0\u670d\u52a1\u5668\u653e\u5728\u6587\u4ef6\u5f00\u5934\u63d2\u56fe\u4e2d\u7684\u201c\u6700\u53f3\u4fa7\u201d\u8282\u70b9\u4e0a\uff1a\n\n    ApplicationContainer serverApps = echoServer.Install(csmaNodes.Get(nCsma));\n    serverApps.Start(Seconds(1.0));\n    serverApps.Stop(Seconds(10.0));\n\n    UdpEchoClientHelper echoClient(csmaInterfaces.GetAddress(nCsma), 9);\n    echoClient.SetAttribute(\"MaxPackets\", UintegerValue(1));\n    echoClient.SetAttribute(\"Interval\", TimeValue(Seconds(1.0)));\n    echoClient.SetAttribute(\"PacketSize\", UintegerValue(1024));\n    // \u5c06\u56de\u58f0\u5ba2\u6237\u7aef\u653e\u5728\u6211\u4eec\u521b\u5efa\u7684\u6700\u540e\u4e00\u4e2aSTA\u8282\u70b9\u4e0a\uff0c\u5c06\u5176\u6307\u5411CSMA\u7f51\u7edc\u4e0a\u7684\u670d\u52a1\u5668\u3002\n    // \u6211\u4eec\u4ee5\u524d\u4e5f\u8fdb\u884c\u8fc7\u7c7b\u4f3c\u7684\u64cd\u4f5c\u3002\n\n    ApplicationContainer clientApps = echoClient.Install(wifiStaNodes.Get(nWifi - 1));\n    clientApps.Start(Seconds(2.0));\n    clientApps.Stop(Seconds(10.0));\n\n    // \u7531\u4e8e\u6211\u4eec\u5728\u8fd9\u91cc\u5efa\u7acb\u4e86\u4e00\u4e2a\u4e92\u8054\u7f51\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u4e92\u8054\u7f51\u8def\u7531\uff1a\n    Ipv4GlobalRoutingHelper::PopulateRoutingTables();\n\n    Simulator::Stop(Seconds(10.0)); //\u544a\u8bc9\u6a21\u62df\u5668\u505c\u6b62\uff0c\u4ee5\u9632\u6b62\u6211\u4eec\u65e0\u9650\u6a21\u62df\u4fe1\u6807\u5e76\u8fdb\u5165\u672c\u8d28\u4e0a\u662f\u65e0\u9650\u5faa\u73af\u7684\u72b6\u6001\n\n    if (tracing)                    // \u521b\u5efa\u8db3\u591f\u7684\u8ddf\u8e2a\u6765\u8986\u76d6\u6240\u6709\uff08\u4e09\u4e2a\uff09\u7f51\u7edc\n    {\n        phy.SetPcapDataLinkType(WifiPhyHelper::DLT_IEEE802_11_RADIO);\n        pointToPoint.EnablePcapAll(\"third\");\n        phy.EnablePcap(\"third\", apDevices.Get(0));\n        csma.EnablePcap(\"third\", csmaDevices.Get(0), true);\n    }\n\n    Simulator::Run();\n    Simulator::Destroy();\n    return 0;\n}\n</code></pre>"},{"location":"Sci_doc/ns-3/ch3/#74-queues-in-ns-3","title":"7.4. Queues in ns-3","text":"<p>\u5728ns-3\u4e2d\uff0c==\u961f\u5217\u8c03\u5ea6\u673a\u5236\u7684\u9009\u62e9\u5bf9\u6027\u80fd\u6709\u5f88\u5927\u5f71\u54cd==\uff0c\u7528\u6237\u4e86\u89e3\u9ed8\u8ba4\u5b89\u88c5\u7684\u5185\u5bb9\u4ee5\u53ca\u5982\u4f55\u66f4\u6539\u9ed8\u8ba4\u8bbe\u7f6e\u5e76\u89c2\u5bdf\u6027\u80fd\u662f\u5f88\u91cd\u8981\u7684\u3002</p> <p>\u4ece\u67b6\u6784\u4e0a\u8bb2\uff0cns-3\u5c06\u8bbe\u5907\u5c42\u4e0e\u4e92\u8054\u7f51\u4e3b\u673a\u7684IP\u5c42\u6216\u6d41\u91cf\u63a7\u5236\u5c42\u5206\u5f00\u3002 \u5728ns-3\u7684\u6700\u65b0\u7248\u672c\u4e2d\uff0c==\u51fa\u7ad9\u6570\u636e\u5305\u5728\u5230\u8fbe\u4fe1\u9053\u5bf9\u8c61\u4e4b\u524d\u7ecf\u8fc7\u4e24\u4e2a\u961f\u5217\u5c42==\u3002 - \u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u961f\u5217\u5c42\u662f\u5728ns-3\u4e2d\u79f0\u4e3a\u201c\u6d41\u91cf\u63a7\u5236\u5c42\u201d\u7684\u5730\u65b9\uff1b\u5728\u8fd9\u91cc\uff0c\u901a\u8fc7\u4f7f\u7528\u961f\u5217\u8c03\u5ea6\u4ee5\u8bbe\u5907\u65e0\u5173\u7684\u65b9\u5f0f\u8fdb\u884c\u4e3b\u52a8\u961f\u5217\u7ba1\u7406\uff08RFC7567\uff09\u548c\u7531\u4e8e\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u800c\u8fdb\u884c\u7684\u4f18\u5148\u7ea7\u8bbe\u7f6e\u3002 - \u7b2c\u4e8c\u4e2a\u961f\u5217\u5c42\u901a\u5e38\u5728NetDevice\u5bf9\u8c61\u4e2d\u627e\u5230\u3002\u4e0d\u540c\u7684\u8bbe\u5907\uff08\u4f8b\u5982LTE\u3001Wi-Fi\uff09\u5bf9\u8fd9\u4e9b\u961f\u5217\u6709\u4e0d\u540c\u7684\u5b9e\u73b0\u3002\u8fd9\u4e24\u5c42\u7684\u65b9\u6cd5\u53cd\u6620\u4e86\u5b9e\u9645\u60c5\u51b5\uff08\u8f6f\u4ef6\u961f\u5217\u63d0\u4f9b\u4f18\u5148\u7ea7\u8bbe\u7f6e\uff0c\u786c\u4ef6\u961f\u5217\u7279\u5b9a\u4e8e\u94fe\u63a5\u7c7b\u578b\uff09\u3002\u5728\u5b9e\u8df5\u4e2d\uff0c\u60c5\u51b5\u53ef\u80fd\u6bd4\u8fd9\u66f4\u590d\u6742\u3002\u4f8b\u5982\uff0c\u5730\u5740\u89e3\u6790\u534f\u8bae\u5177\u6709\u8f83\u5c0f\u7684\u961f\u5217\u3002Linux\u4e2d\u7684Wi-Fi\u5177\u6709\u56db\u4e2a\u961f\u5217\u5c42\uff08https://lwn.net/Articles/705884/\uff09\u3002</p> <p>==\u6d41\u91cf\u63a7\u5236\u5c42==\u4ec5\u5f53NetDevice\u9762\u4e34==\u5728\u8bbe\u5907\u961f\u5217\u5df2\u6ee1\u65f6==\u901a\u77e5\u5b83\u65f6\u624d\u6709\u6548\uff0c\u4ee5\u4fbf\u6d41\u91cf\u63a7\u5236\u5c42\u53ef\u4ee5\u505c\u6b62\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230NetDevice\u3002\u5426\u5219\uff0c\u961f\u5217\u8c03\u5ea6\u7684\u79ef\u538b\u59cb\u7ec8\u4e3a\u96f6\uff0c\u5b83\u4eec\u5c31\u65e0\u6548\u3002</p> <p>\u76ee\u524d\uff0c\u4ee5\u4e0b\u652f\u6301\u4f7f\u7528Queue\u5bf9\u8c61\uff08\u6216Queue\u5b50\u7c7b\u7684\u5bf9\u8c61\uff09\u5b58\u50a8\u5176\u6570\u636e\u5305\u7684NetDevice\u652f\u6301\u6d41\u63a7\u5236\uff08\u5373\uff1a\u901a\u77e5\u6d41\u91cf\u63a7\u5236\u5c42\u7684\u80fd\u529b\uff09\uff1a - Point-To-Point - Csma - Wi-Fi - SimpleNetDevice</p> <p>\u961f\u5217\u8c03\u5ea6\u7684\u6027\u80fd\u53d7\u5230NetDevices\u4f7f\u7528\u7684\u961f\u5217\u5927\u5c0f\u7684\u6781\u5927\u5f71\u54cd\u3002\u76ee\u524d\uff0c\u5728ns-3\u4e2d\uff0c==\u9ed8\u8ba4\u60c5\u51b5\u4e0b\u961f\u5217\u4e0d\u4f1a\u6839\u636e\u914d\u7f6e\u7684\u94fe\u8def\u5c5e\u6027\uff08\u5e26\u5bbd\u3001\u5ef6\u8fdf\uff09\u8fdb\u884c\u81ea\u52a8\u8c03\u6574==\uff0c\u901a\u5e38\u662f\u6700\u7b80\u5355\u7684\u53d8\u4f53\uff08\u4f8b\u5982\uff0c\u5177\u6709\u5148\u8fdb\u5148\u51fa\u8c03\u5ea6\u548c\u4e22\u5f03\u5c3e\u90e8\u884c\u4e3a\u7684FIFO\u8c03\u5ea6\uff09\u3002</p> <p>\u7136\u800c\uff0c\u901a\u8fc7\u542f\u7528BQL\uff08\u5b57\u8282\u961f\u5217\u9650\u5236\uff09\uff0c\u53ef\u4ee5\u52a8\u6001\u8c03\u6574\u961f\u5217\u7684\u5927\u5c0f\u3002\u8fd9\u662fLinux\u5185\u6838\u4e2d\u5b9e\u73b0\u7684\u4e00\u79cd\u7b97\u6cd5\uff0c\u7528\u4e8e\u6839\u636e\u94fe\u8def\u5c5e\u6027\u8c03\u6574\u8bbe\u5907\u961f\u5217\u7684\u5927\u5c0f\uff0c\u4ee5\u9632\u6b62\u7f13\u51b2\u533a\u8fc7\u5927\u800c\u907f\u514d\u9965\u997f\u3002</p> <p>\u76ee\u524d\uff0c\u652f\u6301\u6d41\u63a7\u5236\u7684NetDevice\u652f\u6301BQL\u3002\u901a\u8fc7\u4f7f\u7528ns-3\u6a21\u62df\u548c\u5b9e\u9645\u5b9e\u9a8c\u8fdb\u884c\u7684\u5173\u4e8e\u8bbe\u5907\u961f\u5217\u5927\u5c0f\u5bf9\u961f\u5217\u8c03\u5ea6\u6548\u679c\u7684\u5f71\u54cd\u7684\u5206\u6790\u5728\u4ee5\u4e0b\u6587\u732e\u4e2d\u62a5\u544a\uff1aP. Imputato \u548c S. Avallone. An analysis of the impact of network device buffers on packet schedulers through experiments and simulations. Simulation Modelling Practice and Theory, 80(Supplement C):1\u201318, January 2018. DOI: 10.1016/j.simpat.2017.09.008</p>"},{"location":"Sci_doc/ns-3/ch3/#741-available-queueing-models-in-ns-3","title":"7.4.1. Available queueing models in\u00a0ns-3","text":"<p>\u5728\u6d41\u91cf\u63a7\u5236\u5c42\uff0c\u4ee5\u4e0b\u662f\u4e00\u4e9b\u9009\u9879\uff1a</p> <ul> <li>PFifoFastQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a1000\u4e2a\u6570\u636e\u5305</li> <li>FifoQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a1000\u4e2a\u6570\u636e\u5305</li> <li>RedQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a25\u4e2a\u6570\u636e\u5305</li> <li>CoDelQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a1500\u5343\u5b57\u8282</li> <li>FqCoDelQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a10240\u4e2a\u6570\u636e\u5305</li> <li>PieQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a25\u4e2a\u6570\u636e\u5305</li> <li>MqQueueDisc\uff1a\u6b64\u961f\u5217\u8c03\u5ea6\u6ca1\u6709\u5bb9\u91cf\u9650\u5236</li> <li>TbfQueueDisc\uff1a\u9ed8\u8ba4\u6700\u5927\u5927\u5c0f\u4e3a1000\u4e2a\u6570\u636e\u5305</li> </ul> <p>==\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u5f53IPv4\u6216IPv6\u5730\u5740\u5206\u914d\u7ed9\u4e0eNetDevice\u76f8\u5173\u8054\u7684\u63a5\u53e3\u65f6\uff0c\u5728NetDevice\u4e0a\u5b89\u88c5\u4e86pfifo_fast\u961f\u5217\u8c03\u5ea6==\uff0c\u9664\u975eNetDevice\u4e0a\u5df2\u7ecf\u5b89\u88c5\u4e86\u5176\u4ed6\u961f\u5217\u8c03\u5ea6\u3002</p> <p>\u5728\u8bbe\u5907\u5c42\uff0c\u6709\u7279\u5b9a\u4e8e\u8bbe\u5907\u7684\u961f\u5217\uff1a</p> <ul> <li>PointToPointNetDevice\uff1a\u9ed8\u8ba4\u914d\u7f6e\uff08\u7531helper\u8bbe\u7f6e\uff09\u662f\u5b89\u88c5\u9ed8\u8ba4\u5927\u5c0f\uff08100\u4e2a\u6570\u636e\u5305\uff09\u7684DropTail\u961f\u5217</li> <li>CsmaNetDevice\uff1a\u9ed8\u8ba4\u914d\u7f6e\uff08\u7531helper\u8bbe\u7f6e\uff09\u662f\u5b89\u88c5\u9ed8\u8ba4\u5927\u5c0f\uff08100\u4e2a\u6570\u636e\u5305\uff09\u7684DropTail\u961f\u5217</li> <li>WiFiNetDevice\uff1a\u9ed8\u8ba4\u914d\u7f6e\u662f\u4e3a\u975eQoS\u7ad9\u70b9\u5b89\u88c5\u9ed8\u8ba4\u5927\u5c0f\uff08100\u4e2a\u6570\u636e\u5305\uff09\u7684DropTail\u961f\u5217\uff0c\u5e76\u4e3aQoS\u7ad9\u70b9\u5b89\u88c5\u9ed8\u8ba4\u5927\u5c0f\uff08100\u4e2a\u6570\u636e\u5305\uff09\u7684\u56db\u4e2aDropTail\u961f\u5217</li> <li>SimpleNetDevice\uff1a\u9ed8\u8ba4\u914d\u7f6e\u662f\u5b89\u88c5\u9ed8\u8ba4\u5927\u5c0f\uff08100\u4e2a\u6570\u636e\u5305\uff09\u7684DropTail\u961f\u5217</li> <li>LteNetDevice\uff1a\u961f\u5217\u5904\u7406\u53d1\u751f\u5728RLC\u5c42\uff08RLC UM\u9ed8\u8ba4\u7f13\u51b2\u533a\u4e3a10 * 1024\u5b57\u8282\uff0cRLC AM\u6ca1\u6709\u7f13\u51b2\u533a\u9650\u5236\uff09</li> <li>UanNetDevice\uff1aMAC\u5c42\u6709\u4e00\u4e2a\u9ed8\u8ba4\u768410\u4e2a\u6570\u636e\u5305\u961f\u5217</li> </ul>"},{"location":"Sci_doc/ns-3/ch3/#742-changing-from-the-defaults","title":"7.4.2. Changing from the defaults","text":"<p>\u901a\u8fc7\u8bbe\u5907\u52a9\u624b\uff0c\u53ef\u4ee5\u901a\u5e38\u4fee\u6539NetDevice\u4f7f\u7528\u7684\u961f\u5217\u7c7b\u578b\uff1a</p> <pre><code>NodeContainer nodes;\nnodes.Create(2);\n\nPointToPointHelper p2p;\np2p.SetQueue(\"ns3::DropTailQueue\", \"MaxSize\", StringValue(\"50p\"));\n// \u5c06\u70b9\u5bf9\u70b9\u94fe\u63a5\u7684\u8282\u70b9\u5bb9\u5668\u7684\u961f\u5217\u7ba1\u7406\u8bbe\u7f6e\u4e3ans3::DropTailQueue\n\nNetDeviceContainer devices = p2p.Install(nodes);\n</code></pre> <p>\u901a\u8fc7\u6d41\u91cf\u63a7\u5236\u52a9\u624b\uff0c\u53ef\u4ee5\u4fee\u6539\u5b89\u88c5\u5728NetDevice\u4e0a\u7684\u961f\u5217\u8c03\u5ea6\u5668\u7684\u7c7b\u578b\uff1a</p> <pre><code>InternetStackHelper stack;\nstack.Install(nodes);\n\nTrafficControlHelper tch;\ntch.SetRootQueueDisc(\"ns3::CoDelQueueDisc\", \"MaxSize\", StringValue(\"1000p\"));\n// \u5c06\u7f51\u7edc\u8bbe\u5907\u62e5\u585e\u63a7\u5236\u5668\u7684\u961f\u5217\u7ba1\u7406\u8bbe\u7f6e\u4e3ans3::DropTailQueue\n\ntch.Install(devices);\n</code></pre> <p>\u5982\u679c\u8bbe\u5907\u652f\u6301\uff0c\u53ef\u4ee5\u901a\u8fc7\u6d41\u91cf\u63a7\u5236\u52a9\u624b\u542f\u7528BQL\uff1a</p> <pre><code>InternetStackHelper stack;\nstack.Install(nodes);\n\nTrafficControlHelper tch;\ntch.SetRootQueueDisc(\"ns3::CoDelQueueDisc\", \"MaxSize\", StringValue(\"1000p\"));\ntch.SetQueueLimits(\"ns3::DynamicQueueLimits\", \"HoldTime\", StringValue(\"4ms\"));\ntch.Install(devices);\n</code></pre>"},{"location":"Sci_doc/ns-3/ch4/","title":"ns-3 tracing\u7684\u5168\u90e8\u5b9e\u73b0\u673a\u7406","text":""},{"location":"Sci_doc/ns-3/ch4/#81-background","title":"8.1. Background","text":"<p>\u5982\u4f7f\u7528\u8ddf\u8e2a\u7cfb\u7edf\u4e2d\u6240\u8ff0\uff0c\u8fd0\u884cns-3\u6a21\u62df\u7684\u6574\u4e2a\u76ee\u7684\u662f\u4e3a\u4e86\u751f\u6210\u7528\u4e8e\u7814\u7a76\u7684\u8f93\u51fa\u3002\u83b7\u53d6ns-3\u8f93\u51fa\u6709\u4e24\u79cd\u57fa\u672c\u7b56\u7565\uff1a\u4f7f\u7528\u901a\u7528\u9884\u5b9a\u4e49\u7684\u6279\u91cf\u8f93\u51fa\u673a\u5236\u5e76==\u89e3\u6790\u5176\u5185\u5bb9\u4ee5\u63d0\u53d6\u611f\u5174\u8da3\u7684\u4fe1\u606f==\uff1b\u6216\u8005\u4ee5\u67d0\u79cd\u65b9\u5f0f\u5f00\u53d1\u8f93\u51fa\u673a\u5236\uff0c==\u4f20\u8fbe\u786e\u5207\uff08\u53ef\u80fd\u4ec5\u6709\u7684\uff09\u6240\u9700\u4fe1\u606f==\u3002</p> <p>\u4f7f\u7528\u9884\u5b9a\u4e49\u7684\u6279\u91cf\u8f93\u51fa\u673a\u5236\u7684\u4f18\u70b9\u662f\u4e0d\u9700\u8981\u5bf9ns-3\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\uff0c\u4f46\u53ef\u80fd\u9700\u8981\u7f16\u5199\u811a\u672c\u6765\u89e3\u6790\u548c\u8fc7\u6ee4\u611f\u5174\u8da3\u7684\u6570\u636e\u3002\u901a\u5e38\uff0c\u5728\u6a21\u62df\u8fd0\u884c\u671f\u95f4\u6536\u96c6PCAP\u6216NS_LOG\u8f93\u51fa\u6d88\u606f\uff0c\u5e76\u901a\u8fc7\u4f7f\u7528grep\u3001sed\u6216awk\u7684\u811a\u672c\u5206\u522b\u8fd0\u884c\u8fd9\u4e9b\u6d88\u606f\uff0c\u4ee5\u89e3\u6790\u548c\u51cf\u5c11\u6570\u636e\u5e76\u5c06\u5176\u8f6c\u6362\u4e3a\u53ef\u7ba1\u7406\u7684\u5f62\u5f0f\u3002\u5fc5\u987b\u7f16\u5199\u7a0b\u5e8f\u6765\u8fdb\u884c\u8f6c\u6362\uff0c\u56e0\u6b64\u8fd9\u5e76\u4e0d\u662f\u514d\u8d39\u7684\u3002NS_LOG\u8f93\u51fa\u4e0d\u88ab\u89c6\u4e3ans-3 API\u7684\u4e00\u90e8\u5206\uff0c\u5e76\u4e14\u5728\u53d1\u5e03\u4e4b\u95f4\u53ef\u80fd\u4f1a\u5728\u4e0d\u63d0\u524d\u901a\u77e5\u7684\u60c5\u51b5\u4e0b\u66f4\u6539\u3002\u6b64\u5916\uff0cNS_LOG\u8f93\u51fa\u4ec5\u5728\u8c03\u8bd5\u6784\u5efa\u4e2d\u53ef\u7528\uff0c\u56e0\u6b64\u4f9d\u8d56\u5b83\u4f1a\u5bfc\u81f4\u6027\u80fd\u635f\u5931\u3002\u5f53\u7136\uff0c\u5982\u679c\u611f\u5174\u8da3\u7684\u4fe1\u606f\u5728\u4efb\u4f55\u9884\u5b9a\u4e49\u7684\u8f93\u51fa\u673a\u5236\u4e2d\u90fd\u4e0d\u5b58\u5728\uff0c\u8fd9\u79cd\u65b9\u6cd5\u5c06\u5931\u8d25\u3002</p> <p>\u5982\u679c\u9700\u8981\u5411\u9884\u5b9a\u4e49\u7684\u6279\u91cf\u673a\u5236\u6dfb\u52a0\u4e00\u4e9b\u4fe1\u606f\u7247\u6bb5\uff0c\u8fd9\u5f53\u7136\u662f\u53ef\u4ee5\u505a\u7684\uff1b\u5982\u679c\u4f7f\u7528ns-3\u673a\u5236\u4e4b\u4e00\uff0c\u53ef\u80fd\u4f1a\u5c06\u60a8\u7684\u4ee3\u7801\u4f5c\u4e3a\u8d21\u732e\u6dfb\u52a0\u8fdb\u53bb\u3002</p> <p>ns-3==\u63d0\u4f9b\u4e86\u53e6\u4e00\u79cd\u673a\u5236\uff0c\u79f0\u4e3a\u8ddf\u8e2a\uff08tracing\uff09==\uff0c\u5b83\u907f\u514d\u4e86\u6279\u91cf\u8f93\u51fa\u673a\u5236\u56fa\u6709\u7684\u4e00\u4e9b\u95ee\u9898\u3002\u5b83\u5177\u6709\u51e0\u4e2a\u91cd\u8981\u7684\u4f18\u52bf\u3002 \u9996\u5148\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u4ec5\u8ddf\u8e2a\u60a8\u611f\u5174\u8da3\u7684\u4e8b\u4ef6\u6765\u51cf\u5c11\u60a8\u9700\u8981\u7ba1\u7406\u7684\u6570\u636e\u91cf\uff08\u5bf9\u4e8e\u5927\u578b\u6a21\u62df\uff0c\u5c06\u6240\u6709\u5185\u5bb9\u8f6c\u50a8\u5230\u78c1\u76d8\u8fdb\u884c\u540e\u671f\u5904\u7406\u53ef\u80fd\u4f1a\u521b\u5efaI/O\u74f6\u9888\uff09\u3002 \u5176\u6b21\uff0c\u5982\u679c\u4f7f\u7528\u6b64\u65b9\u6cd5\uff0c\u60a8\u53ef\u4ee5\u76f4\u63a5\u63a7\u5236\u8f93\u51fa\u7684\u683c\u5f0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u907f\u514d\u4f7f\u7528sed\u3001awk\u3001perl\u6216python\u811a\u672c\u7684\u540e\u5904\u7406\u6b65\u9aa4\u3002\u5982\u679c\u9700\u8981\uff0c\u60a8\u7684\u8f93\u51fa\u53ef\u4ee5\u76f4\u63a5\u683c\u5f0f\u5316\u4e3agnuplot\u63a5\u53d7\u7684\u5f62\u5f0f\uff08\u4e5f\u8bf7\u53c2\u9605GnuplotHelper\uff09\u3002\u60a8\u53ef\u4ee5\u5728\u6838\u5fc3\u4e2d\u6dfb\u52a0\u94a9\u5b50\uff0c\u7136\u540e\u5176\u4ed6\u7528\u6237\u53ef\u4ee5\u8bbf\u95ee\u8fd9\u4e9b\u94a9\u5b50\uff0c\u4f46\u9664\u975e\u660e\u786e\u8981\u6c42\uff0c\u5426\u5219\u5b83\u4eec\u5c06\u4e0d\u4f1a\u751f\u6210\u4efb\u4f55\u4fe1\u606f\u3002 \u56e0\u6b64\uff0c\u6211\u4eec\u8ba4\u4e3ans-3\u8ddf\u8e2a\u7cfb\u7edf(tracing system)\u662f\u4ece\u6a21\u62df\u4e2d\u83b7\u53d6\u4fe1\u606f\u7684\u6700\u4f73\u65b9\u5f0f\u4e4b\u4e00\uff0c\u4e5f\u56e0\u6b64\u662f\u7406\u89e3ns-3\u4e2d\u6700\u91cd\u8981\u7684\u673a\u5236\u4e4b\u4e00\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#811-blunt-instruments","title":"8.1.1. Blunt Instruments","text":"<p>\"Blunt Instruments\" \u7684\u4e2d\u6587\u7ffb\u8bd1\u53ef\u4ee5\u662f \"\u949d\u5668\"\u3002\u5728\u8fd9\u4e2a\u4e0a\u4e0b\u6587\u4e2d\uff0c\"Blunt Instruments\" \u53ef\u80fd\u6307\u7684\u662f\u4e00\u79cd==\u4e0d\u591f\u7cbe\u786e\u6216\u76f4\u63a5\u7684\u5de5\u5177\u6216\u65b9\u6cd5\uff0c\u7c7b\u4f3c\u4e8e\u4f7f\u7528\u949d\u5668\u800c\u975e\u7cbe\u7ec6\u5de5\u5177==\u3002\u5728\u6587\u4e2d\uff0c\u8fd9\u53ef\u80fd\u662f\u6307\u4f7f\u7528\u4e0d\u591f\u7cbe\u786e\u6216\u7075\u6d3b\u7684\u65b9\u6cd5\u6765\u83b7\u53d6\u6a21\u62df\u6570\u636e\uff0c\u4f8b\u5982\u901a\u8fc7\u5927\u91cf\u8f93\u51fa\u548c\u540e\u5904\u7406\u811a\u672c\uff0c\u800c\u4e0d\u662f\u4f7f\u7528\u66f4\u76f4\u63a5\u3001\u7cbe\u786e\u7684\u8ddf\u8e2a\u7cfb\u7edf\u3002</p> <p>\u6709\u5f88\u591a\u65b9\u6cd5\u53ef\u4ee5\u4ece\u7a0b\u5e8f\u4e2d\u83b7\u53d6\u4fe1\u606f\u3002\u6700\u76f4\u63a5\u7684\u65b9\u6cd5\u662f\u76f4\u63a5\u5c06\u4fe1\u606f\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>#include &lt;iostream&gt;\n// ...\nvoid SomeFunction()\n{\n  uint32_t x = SOME_INTERESTING_VALUE;\n  // ...\n  std::cout &lt;&lt; \"The value of x is \" &lt;&lt; x &lt;&lt; std::endl;\n  // ...\n}\n</code></pre> <p>\u6ca1\u6709\u4eba\u4f1a\u963b\u6b62\u4f60\u6df1\u5165ns-3\u7684\u6838\u5fc3\u5e76\u6dfb\u52a0\u6253\u5370\u8bed\u53e5\u3002\u8fd9\u505a\u8d77\u6765\u975e\u5e38\u7b80\u5355\uff0c\u6bd5\u7adf\uff0c\u4f60\u5b8c\u5168\u638c\u63a7\u81ea\u5df1\u7684ns-3\u5206\u652f\u3002\u7136\u800c\uff0c\u4ece\u957f\u8fdc\u6765\u770b\uff0c\u8fd9\u53ef\u80fd\u5e76\u4e0d\u662f\u5f88\u4ee4\u4eba\u6ee1\u610f\u7684\u65b9\u6cd5\uff01</p> <p>\u968f\u7740\u7a0b\u5e8f\u4e2d\u6253\u5370\u8bed\u53e5\u7684\u6570\u91cf\u589e\u52a0\uff0c\u5904\u7406\u5927\u91cf\u8f93\u51fa\u7684\u4efb\u52a1\u4f1a\u53d8\u5f97\u8d8a\u6765\u8d8a\u590d\u6742\u3002\u6700\u7ec8\uff0c\u60a8\u53ef\u80fd\u4f1a\u611f\u5230\u6709\u5fc5\u8981\u4ee5\u67d0\u79cd\u65b9\u5f0f\u63a7\u5236\u6b63\u5728\u6253\u5370\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u901a\u8fc7\u6253\u5f00\u548c\u5173\u95ed\u67d0\u4e9b\u7c7b\u522b\u7684\u6253\u5370\uff0c\u6216\u589e\u52a0\u6216\u51cf\u5c11\u6240\u9700\u4fe1\u606f\u7684\u6570\u91cf\u3002\u5982\u679c\u60a8\u7ee7\u7eed\u6cbf\u7740\u8fd9\u6761\u9053\u8def\u8d70\u4e0b\u53bb\uff0c\u53ef\u80fd\u4f1a\u53d1\u73b0\u60a8\u5df2\u7ecf\u91cd\u65b0\u5b9e\u73b0\u4e86NS_LOG\u673a\u5236\uff08\u8bf7\u53c2\u9605\u4f7f\u7528Logging Module\uff09\u3002\u4e3a\u4e86\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u60a8\u53ef\u80fd\u9996\u5148\u8003\u8651\u4f7f\u7528NS_LOG\u672c\u8eab\u3002</p> <p>\u6211\u4eec==\u4e4b\u524d\u63d0\u5230\u4ecens-3\u83b7\u53d6\u4fe1\u606f\u7684\u4e00\u79cd\u65b9\u6cd5\u662f\u89e3\u6790\u73b0\u6709\u7684NS_LOG\u8f93\u51fa\u4ee5\u83b7\u53d6\u6709\u8da3\u7684\u4fe1\u606f==\u3002\u5982\u679c\u60a8\u53d1\u73b0\u60a8\u9700\u8981\u7684\u67d0\u4e9b\u4fe1\u606f\u7247\u6bb5\u5728\u73b0\u6709\u7684\u65e5\u5fd7\u8f93\u51fa\u4e2d\u4e0d\u5b58\u5728\uff0c\u60a8\u53ef\u4ee5\u7f16\u8f91ns-3\u7684\u6838\u5fc3\u5e76\u7b80\u5355\u5730\u5c06\u60a8\u611f\u5174\u8da3\u7684\u4fe1\u606f\u6dfb\u52a0\u5230\u8f93\u51fa\u6d41\u4e2d\u3002\u73b0\u5728\uff0c\u8fd9\u80af\u5b9a\u6bd4\u6dfb\u52a0\u81ea\u5df1\u7684\u6253\u5370\u8bed\u53e5\u66f4\u597d\uff0c\u56e0\u4e3a\u5b83\u9075\u5faans-3\u7684\u7f16\u7801\u7ea6\u5b9a\uff0c\u800c\u4e14\u53ef\u80fd\u5bf9\u5176\u4ed6\u4eba\u4f5c\u4e3a\u73b0\u6709\u6838\u5fc3\u7684\u8865\u4e01\u4e5f\u6709\u7528\u3002</p> <p>\u8ba9\u6211\u4eec\u968f\u673a\u9009\u4e00\u4e2a\u4f8b\u5b50\u3002\u5982\u679c\u60a8\u60f3\u8981\u5728ns-3 TCP\u5957\u63a5\u5b57\uff08tcp-socket-base.cc\uff09\u4e2d\u6dfb\u52a0\u66f4\u591a\u7684\u65e5\u5fd7\u8bb0\u5f55\uff0c\u60a8\u53ef\u4ee5\u5728\u5b9e\u73b0\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684\u6d88\u606f\u3002\u8bf7\u6ce8\u610f\uff0c\u5728TcpSocketBase::ProcessEstablished()\u4e2d\uff0c\u5bf9\u4e8e\u5728\u5df2\u5efa\u7acb\u72b6\u6001\u4e0b\u63a5\u6536\u5230SYN+ACK\u7684\u60c5\u51b5\uff0c\u6ca1\u6709\u65e5\u5fd7\u6d88\u606f\u3002\u60a8\u53ef\u4ee5\u7b80\u5355\u5730\u6dfb\u52a0\u4e00\u4e2a\uff0c\u4fee\u6539\u4ee3\u7801\u3002\u4ee5\u4e0b\u662f\u539f\u59cb\u4ee3\u7801\uff1a</p> <pre><code>/* Received a packet upon ESTABLISHED state. This function is mimicking the\n    role of tcp_rcv_established() in tcp_input.c in Linux kernel. */\nvoid TcpSocketBase::ProcessEstablished(Ptr&lt;Packet&gt; packet, const TcpHeader&amp; tcpHeader)\n{\n  NS_LOG_FUNCTION(this &lt;&lt; tcpHeader);\n  // ...\n\n  else if (tcpflags == (TcpHeader::SYN | TcpHeader::ACK))\n    { // No action for received SYN+ACK, it is probably a duplicated packet\n    }\n  // ...\n}\n</code></pre> <p>\u8981\u8bb0\u5f55SYN+ACK\u60c5\u51b5\uff0c\u53ef\u4ee5\u5728if\u8bed\u53e5\u4f53\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u65b0\u7684NS_LOG_LOGIC\uff1a</p> <pre><code>/* Received a packet upon ESTABLISHED state. This function is mimicking the\n    role of tcp_rcv_established() in tcp_input.c in Linux kernel. */\nvoid TcpSocketBase::ProcessEstablished(Ptr&lt;Packet&gt; packet, const TcpHeader&amp; tcpHeader)\n{\n  NS_LOG_FUNCTION(this &lt;&lt; tcpHeader);\n  // ...\n  else if (tcpflags == (TcpHeader::SYN | TcpHeader::ACK))\n    { // No action for received SYN+ACK, it is probably a duplicated packet\n      NS_LOG_LOGIC(\"TcpSocketBase \" &lt;&lt; this &lt;&lt; \" ignoring SYN+ACK\");\n    }\n  // ...\n}\n</code></pre> <p>\u4e4d\u4e00\u770b\uff0c\u8fd9\u53ef\u80fd\u770b\u8d77\u6765\u76f8\u5f53\u7b80\u5355\u548c\u4ee4\u4eba\u6ee1\u610f\uff0c\u4f46\u9700\u8981\u8003\u8651\u7684\u4e00\u70b9\u662f\uff0c\u60a8\u5c06\u7f16\u5199\u4ee3\u7801\u4ee5\u6dfb\u52a0NS_LOG\u8bed\u53e5\uff0c\u5e76\u4e14\u8fd8\u5fc5\u987b\u7f16\u5199\u4ee3\u7801\uff08\u5c31\u50cfgrep\u3001sed\u6216awk\u811a\u672c\u4e00\u6837\uff09\u4ee5\u89e3\u6790\u65e5\u5fd7\u8f93\u51fa\uff0c\u4ee5\u4fbf\u9694\u79bb\u60a8\u7684\u4fe1\u606f\u3002\u8fd9\u662f\u56e0\u4e3a\u5c3d\u7ba1\u60a8\u5bf9\u65e5\u5fd7\u7cfb\u7edf\u8f93\u51fa\u6709\u4e00\u4e9b\u63a7\u5236\u6743\uff0c\u4f46\u60a8\u53ea\u80fd\u63a7\u5236\u5230\u65e5\u5fd7\u7ec4\u4ef6\u7ea7\u522b\uff0c\u901a\u5e38\u662f\u6574\u4e2a\u6e90\u4ee3\u7801\u6587\u4ef6\u3002</p> <p>\u5982\u679c\u60a8\u6b63\u5728\u5411\u73b0\u6709\u6a21\u5757\u6dfb\u52a0\u4ee3\u7801\uff0c\u60a8\u8fd8\u5fc5\u987b\u63a5\u53d7\u6bcf\u4e2a\u5176\u4ed6\u5f00\u53d1\u4eba\u5458\u90fd\u627e\u5230\u6709\u8da3\u7684\u8f93\u51fa\u3002\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0\uff0c\u4e3a\u4e86\u83b7\u53d6\u6240\u9700\u7684\u5c11\u91cf\u4fe1\u606f\uff0c\u60a8\u53ef\u80fd\u5fc5\u987b\u6d4f\u89c8\u5927\u91cf\u5bf9\u60a8\u65e0\u5173\u7684\u591a\u4f59\u6d88\u606f\u3002\u60a8\u53ef\u80fd\u88ab\u8feb\u5c06\u5de8\u5927\u7684\u65e5\u5fd7\u6587\u4ef6\u4fdd\u5b58\u5230\u78c1\u76d8\u5e76\u5728\u60f3\u8981\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u65f6\u5c06\u5b83\u4eec\u5904\u7406\u4e3a\u51e0\u884c\u3002</p> <p>\u7531\u4e8e==\u5728ns-3\u4e2d\u5173\u4e8eNS_LOG\u8f93\u51fa\u7684\u7a33\u5b9a\u6027\u6ca1\u6709\u4fdd\u8bc1==\uff0c\u60a8\u8fd8\u53ef\u80fd\u53d1\u73b0\u60a8\u4f9d\u8d56\u7684\u65e5\u5fd7\u8f93\u51fa\u7684\u67d0\u4e9b\u90e8\u5206\u5728\u53d1\u5e03\u4e4b\u95f4\u6d88\u5931\u6216\u66f4\u6539\u3002\u5982\u679c\u4f9d\u8d56\u8f93\u51fa\u7684\u7ed3\u6784\uff0c\u60a8\u53ef\u80fd\u4f1a\u53d1\u73b0\u5176\u4ed6\u6d88\u606f\u6b63\u5728\u6dfb\u52a0\u6216\u5220\u9664\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5f71\u54cd\u60a8\u7684\u89e3\u6790\u4ee3\u7801\u3002</p> <p>\u6700\u540e\uff0c==NS_LOG\u8f93\u51fa\u4ec5\u5728\u8c03\u8bd5\u6784\u5efa\u4e2d\u53ef\u7528\uff0c\u60a8\u65e0\u6cd5\u4ece\u4f18\u5316\u6784\u5efa\u4e2d\u83b7\u53d6\u65e5\u5fd7\u8f93\u51fa==\uff0c\u540e\u8005\u8fd0\u884c\u5927\u7ea6\u4e24\u500d\u5feb\u3002\u4f9d\u8d56NS_LOG\u4f1a\u5e26\u6765\u6027\u80fd\u635f\u8017\u3002</p> <p>\u51fa\u4e8e\u8fd9\u4e9b\u539f\u56e0\uff0c==\u6211\u4eec\u8ba4\u4e3a\u5411std::cout\u548cNS_LOG\u6d88\u606f\u6dfb\u52a0\u6253\u5370\u8bed\u53e5\u662f\u4ecens-3\u4e2d\u83b7\u53d6\u66f4\u591a\u4fe1\u606f\u7684\u4e00\u79cd\u5feb\u901f\u800c\u4e0d\u591f\u4e25\u8c28\u7684\u65b9\u6cd5\uff0c\u4e0d\u9002\u7528\u4e8e\u4e25\u8083\u7684\u5de5\u4f5c\u3002==</p> <p>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u5e0c\u671b\u6709\u4e00\u4e2a\u7a33\u5b9a\u7684\u8bbe\u65bd\uff0c\u4f7f\u7528\u7a33\u5b9a\u7684API\uff0c\u5141\u8bb8\u7528\u6237\u8bbf\u95ee\u6838\u5fc3\u7cfb\u7edf\u5e76\u4ec5\u83b7\u53d6\u6240\u9700\u7684\u4fe1\u606f\u3002\u6700\u597d\u7684\u60c5\u51b5\u662f\uff0c\u53ef\u4ee5\u5728\u9879\u76ee\u66f4\u6539\u6216\u53d1\u751f\u6709\u8da3\u4e8b\u4ef6\u65f6\u901a\u77e5\u7528\u6237\u4ee3\u7801\uff0c\u4f7f\u7528\u6237\u65e0\u9700\u4e3b\u52a8\u5728\u7cfb\u7edf\u4e2d\u67e5\u627e\u4e8b\u7269\u3002</p> <p>ns-3\u8ddf\u8e2a\u7cfb\u7edf\u65e8\u5728\u6cbf\u8fd9\u4e9b\u65b9\u5411\u5de5\u4f5c\uff0c\u5e76\u4e0e\u5c5e\u6027\u548c\u914d\u7f6e\u5b50\u7cfb\u7edf\u7d27\u5bc6\u96c6\u6210\uff0c\u5141\u8bb8\u76f8\u5bf9\u7b80\u5355\u7684\u4f7f\u7528\u573a\u666f\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#overview","title":"Overview","text":"<p>ns-3\u7684\u8ffd\u8e2a\u7cfb\u7edf\u5efa\u7acb\u5728\u72ec\u7acb\u8ffd\u8e2a\u6e90\u548c\u8ffd\u8e2a\u63a5\u6536\u5668\u7684\u6982\u5ff5\u4e0a\uff0c\u540c\u65f6\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8fde\u63a5\u6e90\u548c\u63a5\u6536\u5668\u7684\u7edf\u4e00\u673a\u5236\u3002</p> <p>\u8ffd\u8e2a\u6e90\u662f\u80fd\u591f\u53d1\u51fa\u6a21\u62df\u4e2d\u4e8b\u4ef6\u4fe1\u53f7\u5e76\u63d0\u4f9b\u5bf9\u6709\u8da3\u5e95\u5c42\u6570\u636e\u7684\u8bbf\u95ee\u7684\u5b9e\u4f53\u3002\u4f8b\u5982\uff0c\u8ffd\u8e2a\u6e90\u53ef\u4ee5\u6307\u793a\u6570\u636e\u5305\u4f55\u65f6\u88ab\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\uff0c\u5e76\u4e3a\u611f\u5174\u8da3\u7684\u8ffd\u8e2a\u63a5\u6536\u5668\u63d0\u4f9b\u5bf9\u6570\u636e\u5305\u5185\u5bb9\u7684\u8bbf\u95ee\u3002\u8ffd\u8e2a\u6e90\u8fd8\u53ef\u80fd\u6307\u793a\u6a21\u578b\u4e2d\u53d1\u751f\u6709\u8da3\u72b6\u6001\u53d8\u5316\u7684\u65f6\u523b\u3002==\u4f8b\u5982\uff0cTCP\u6a21\u578b\u7684\u62e5\u585e\u7a97\u53e3\u662f\u8ffd\u8e2a\u6e90\u7684\u4e3b\u8981\u5019\u9009\u8005\u3002\u6bcf\u5f53\u62e5\u585e\u7a97\u53e3\u53d1\u751f\u53d8\u5316\u65f6\uff0c\u8fde\u63a5\u7684\u8ffd\u8e2a\u63a5\u6536\u5668\u4f1a\u5f97\u5230\u65e7\u503c\u548c\u65b0\u503c\u7684\u901a\u77e5\u3002==</p> <p>\u8ffd\u8e2a\u6e90\u672c\u8eab\u5e76\u4e0d\u5b9e\u7528\uff1b\u5b83\u4eec\u5fc5\u987b\u8fde\u63a5\u5230\u5176\u4ed6\u5b9e\u9645\u5229\u7528\u6e90\u63d0\u4f9b\u4fe1\u606f\u7684\u4ee3\u7801\u7247\u6bb5\u3002</p> <p>\u6d88\u8017\u8ffd\u8e2a\u4fe1\u606f\u7684\u5b9e\u4f53\u79f0\u4e3a\u8ffd\u8e2a\u63a5\u6536\u5668\u3002==\u8ffd\u8e2a\u6e90\u662f\u6570\u636e\u7684\u751f\u6210\u8005\uff0c\u800c\u8ffd\u8e2a\u63a5\u6536\u5668\u662f\u6570\u636e\u7684\u6d88\u8d39\u8005==\u3002\u8fd9\u79cd\u660e\u786e\u7684\u5212\u5206\u5141\u8bb8\u5927\u91cf\u7684\u8ffd\u8e2a\u6e90\u5206\u5e03\u5728\u7cfb\u7edf\u4e2d\uff0c\u8fd9\u4e9b\u4f4d\u7f6e\u662f\u6a21\u578b\u4f5c\u8005\u8ba4\u4e3a\u53ef\u80fd\u6709\u7528\u7684\u5730\u65b9\u3002\u63d2\u5165\u8ffd\u8e2a\u6e90\u4f1a\u5f15\u5165\u975e\u5e38\u5c0f\u7684\u6267\u884c\u5f00\u9500\u3002</p> <p>\u5bf9\u4e8e\u7531\u8ffd\u8e2a\u6e90\u751f\u6210\u7684\u8ffd\u8e2a\u4e8b\u4ef6\uff0c\u53ef\u4ee5\u6709\u96f6\u4e2a\u6216\u591a\u4e2a\u6d88\u8d39\u8005\u3002\u53ef\u4ee5\u5c06\u8ffd\u8e2a\u6e90\u89c6\u4e3a\u4e00\u79cd\u70b9\u5bf9\u591a\u70b9\u4fe1\u606f\u94fe\u8def\u3002\u5bfb\u627e\u6765\u81ea\u7279\u5b9a\u6838\u5fc3\u4ee3\u7801\u7684\u8ffd\u8e2a\u4e8b\u4ef6\u7684\u4ee3\u7801\u53ef\u4ee5\u4e0e\u6267\u884c\u5b8c\u5168\u4e0d\u540c\u64cd\u4f5c\u7684\u5176\u4ed6\u4ee3\u7801\u548c\u5e73\u5171\u5b58\u3002</p> <p>\u9664\u975e\u7528\u6237\u5c06\u8ffd\u8e2a\u63a5\u6536\u5668\u8fde\u63a5\u5230\u8fd9\u4e9b\u6e90\u4e4b\u4e00\uff0c\u5426\u5219\u5c06\u4e0d\u4f1a\u8f93\u51fa\u4efb\u4f55\u5185\u5bb9\u3002\u901a\u8fc7\u4f7f\u7528\u8ffd\u8e2a\u7cfb\u7edf\uff0c\u60a8\u548c\u5176\u4ed6\u8fde\u63a5\u5230\u76f8\u540c\u8ffd\u8e2a\u6e90\u7684\u4eba\u90fd\u53ef\u4ee5\u4ece\u7cfb\u7edf\u4e2d\u83b7\u53d6\u786e\u5207\u60f3\u8981\u7684\u4fe1\u606f\uff0c\u800c\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7528\u6237\u901a\u8fc7\u66f4\u6539\u7cfb\u7edf\u8f93\u51fa\u7684\u4fe1\u606f\u3002\u5982\u679c\u60a8\u6070\u597d\u6dfb\u52a0\u4e86\u4e00\u4e2a\u8ffd\u8e2a\u6e90\uff0c\u4f5c\u4e3a\u826f\u597d\u7684\u5f00\u6e90\u516c\u6c11\uff0c\u60a8\u7684\u5de5\u4f5c\u53ef\u80fd\u5141\u8bb8\u5176\u4ed6\u7528\u6237\u63d0\u4f9b\u53ef\u80fd\u5728\u6574\u4f53\u4e0a\u975e\u5e38\u6709\u7528\u7684\u65b0\u5b9e\u7528\u7a0b\u5e8f\uff0c\u800c\u65e0\u9700\u5bf9ns-3\u6838\u5fc3\u8fdb\u884c\u4efb\u4f55\u66f4\u6539\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#simple-example","title":"Simple Example","text":"<p>\u8ba9\u6211\u4eec\u82b1\u51e0\u5206\u949f\u6765\u7b80\u5355\u5730\u8ffd\u8e2a\u4e00\u4e2a\u793a\u4f8b\u3002\u4e3a\u4e86\u7406\u89e3\u793a\u4f8b\u4e2d\u53d1\u751f\u7684\u4e8b\u60c5\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u4e00\u4e9b\u5173\u4e8e\u56de\u8c03\uff08Callbacks\uff09\u7684\u80cc\u666f\u77e5\u8bc6\uff0c\u56e0\u6b64\u6211\u4eec\u9996\u5148\u9700\u8981\u7a0d\u5fae\u504f\u79bb\u4e00\u4e0b\u4e3b\u9898\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#callbacks","title":"Callbacks","text":"<p>\u5728ns-3\u4e2d\uff0c\u56de\u8c03\u7cfb\u7edf\u7684\u76ee\u6807\u662f\u5141\u8bb8\u4ee3\u7801\u7684\u4e00\u90e8\u5206\u8c03\u7528\u4e00\u4e2a\u51fd\u6570\uff08\u6216C++\u4e2d\u7684\u65b9\u6cd5\uff09\uff0c\u800c\u65e0\u9700\u5177\u4f53\u7684\u6a21\u5757\u95f4\u4f9d\u8d56\u5173\u7cfb\u3002\u8fd9\u6700\u7ec8\u610f\u5473\u7740\u4f60\u9700\u8981\u4e00\u79cd\u95f4\u63a5\u7684\u65b9\u5f0f - \u4f60\u5c06\u8c03\u7528\u7684\u51fd\u6570\u7684\u5730\u5740\u89c6\u4e3a\u53d8\u91cf\u3002\u8fd9\u4e2a\u53d8\u91cf\u88ab\u79f0\u4e3a\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u53d8\u91cf\u3002\u51fd\u6570\u548c\u6307\u5411\u51fd\u6570\u7684\u6307\u9488\u4e4b\u95f4\u7684\u5173\u7cfb\u5b9e\u9645\u4e0a\u4e0e\u5bf9\u8c61\u548c\u6307\u5411\u5bf9\u8c61\u7684\u6307\u9488\u7684\u5173\u7cfb\u6ca1\u6709\u592a\u5927\u533a\u522b\u3002</p> <p>\u5728C\u4e2d\uff0c\u6307\u5411\u51fd\u6570\u7684\u7ecf\u5178\u793a\u4f8b\u662f\u6307\u5411\u8fd4\u56de\u6574\u6570\u7684\u51fd\u6570\u6307\u9488\uff08PFI\uff09\u3002\u5bf9\u4e8e\u4e00\u4e2a\u5e26\u6709\u4e00\u4e2aint\u53c2\u6570\u7684PFI\uff0c\u53ef\u4ee5\u8fd9\u6837\u58f0\u660e\uff1a</p> <pre><code>int (*pfi)(int arg) = 0;\n</code></pre> <p>\uff08\u4f46\u5728\u7f16\u5199\u8fd9\u6837\u7684\u4ee3\u7801\u4e4b\u524d\uff0c\u8bf7\u9605\u8bfbC++-FAQ\u7b2c33\u8282\uff01\uff09\u4ece\u4e2d\u5f97\u5230\u7684\u662f\u4e00\u4e2a\u540d\u4e3apfi\u7684\u53d8\u91cf\uff0c\u5b83\u88ab\u521d\u59cb\u5316\u4e3a\u503c0\u3002</p> <p>\u5982\u679c\u8981\u5c06\u6b64\u6307\u9488\u521d\u59cb\u5316\u4e3a\u6709\u610f\u4e49\u7684\u5185\u5bb9\uff0c\u9700\u8981\u5177\u6709\u5339\u914d\u7b7e\u540d\u7684\u51fd\u6570\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4f60\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u770b\u8d77\u6765\u50cf\u8fd9\u6837\u7684\u51fd\u6570\uff1a</p> <pre><code>int MyFunction(int arg) {}\n</code></pre> <p>\u5982\u679c\u6709\u4e86\u8fd9\u4e2a\u76ee\u6807\uff0c\u4f60\u53ef\u4ee5\u5c06\u53d8\u91cf\u521d\u59cb\u5316\u4e3a\u6307\u5411\u4f60\u7684\u51fd\u6570\uff1a</p> <pre><code>pfi = MyFunction;\n</code></pre> <p>\u7136\u540e\uff0c\u4f60\u53ef\u4ee5\u95f4\u63a5\u8c03\u7528MyFunction\uff0c\u4f7f\u7528\u66f4\u5177\u63d0\u793a\u6027\u7684\u8c03\u7528\u5f62\u5f0f\uff1a</p> <pre><code>int result = (*pfi)(1234);\n</code></pre> <p>\u8fd9\u662f\u5177\u6709\u63d0\u793a\u6027\u7684\uff0c\u56e0\u4e3a\u5b83\u770b\u8d77\u6765\u50cf\u4f60\u6b63\u5728\u89e3\u5f15\u7528\u51fd\u6570\u6307\u9488\uff0c\u5c31\u50cf\u4f60\u89e3\u5f15\u7528\u4efb\u4f55\u6307\u9488\u4e00\u6837\u3002\u7136\u800c\uff0c\u901a\u5e38\uff0c\u4eba\u4eec\u4f1a\u5229\u7528\u7f16\u8bd1\u5668\u77e5\u9053\u53d1\u751f\u4e86\u4ec0\u4e48\u7684\u4e8b\u5b9e\uff0c\u5c06\u4f7f\u7528\u4e00\u4e2a\u66f4\u77ed\u7684\u5f62\u5f0f\uff1a</p> <pre><code>int result = pfi(1234);\n</code></pre> <p>\u8fd9==\u770b\u8d77\u6765\u50cf\u4f60\u6b63\u5728\u8c03\u7528\u4e00\u4e2a\u540d\u4e3apfi\u7684\u51fd\u6570\uff0c\u4f46\u7f16\u8bd1\u5668\u8db3\u591f\u806a\u660e\uff0c\u77e5\u9053\u901a\u8fc7\u53d8\u91cfpfi\u95f4\u63a5\u8c03\u7528\u51fd\u6570MyFunction==\u3002</p> <p>\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0c\u8fd9\u51e0\u4e4e\u4e0e\u8ddf\u8e2a\u7cfb\u7edf\u7684\u5de5\u4f5c\u65b9\u5f0f\u5b8c\u5168\u76f8\u540c\u3002\u57fa\u672c\u4e0a\uff0c\u8ddf\u8e2a\u6c60\u662f\u4e00\u4e2a\u56de\u8c03\u3002\u5f53\u8ddf\u8e2a\u6c60\u5bf9\u63a5\u6536\u8ddf\u8e2a\u4e8b\u4ef6\u8868\u8fbe\u5174\u8da3\u65f6\uff0c\u5b83\u5c06\u81ea\u5df1\u4f5c\u4e3a\u56de\u8c03\u6dfb\u52a0\u5230\u8ddf\u8e2a\u6e90\u5185\u90e8\u6301\u6709\u7684\u56de\u8c03\u5217\u8868\u4e2d\u3002\u5f53\u53d1\u751f\u6709\u8da3\u7684\u4e8b\u4ef6\u65f6\uff0c\u8ddf\u8e2a\u6e90\u8c03\u7528\u5b83\u7684operator(...)\u5e76\u63d0\u4f9b\u96f6\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\u3002operator(...)\u6700\u7ec8\u6f2b\u6e38\u5230\u7cfb\u7edf\u4e2d\u5e76\u6267\u884c\u4e0e\u521a\u624d\u770b\u5230\u7684\u95f4\u63a5\u8c03\u7528\u975e\u5e38\u76f8\u4f3c\u7684\u64cd\u4f5c\uff0c\u63d0\u4f9b\u96f6\u4e2a\u6216\u591a\u4e2a\u53c2\u6570\uff0c\u5c31\u50cf\u4e0a\u9762\u5bf9\u76ee\u6807\u51fd\u6570MyFunction\u7684\u8c03\u7528\u4f20\u9012\u4e86\u4e00\u4e2a\u53c2\u6570\u4e00\u6837\u3002</p> <p>\u8ddf\u8e2a\u7cfb\u7edf\u589e\u52a0\u7684\u91cd\u8981\u533a\u522b\u662f\u5bf9\u4e8e\u6bcf\u4e2a\u8ddf\u8e2a\u6e90\uff0c\u90fd\u6709\u4e00\u4e2a\u5185\u90e8\u56de\u8c03\u5217\u8868\u3002\u8ddf\u8e2a\u6e90\u53ef\u80fd\u8c03\u7528\u591a\u4e2a\u56de\u8c03\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u8fdb\u884c\u4e00\u6b21\u95f4\u63a5\u8c03\u7528\u3002\u5f53\u8ddf\u8e2a\u6c60\u8868\u8fbe\u5bf9\u6765\u81ea\u8ddf\u8e2a\u6e90\u7684\u901a\u77e5\u7684\u5174\u8da3\u65f6\uff0c\u5b83\u57fa\u672c\u4e0a\u53ea\u662f\u5b89\u6392\u5c06\u5176\u81ea\u5df1\u7684\u51fd\u6570\u6dfb\u52a0\u5230\u56de\u8c03\u5217\u8868\u4e2d\u3002</p> <p>\u5982\u679c\u4f60\u5bf9\u5728ns-3\u4e2d\u5b9e\u9645\u4e0a\u662f\u5982\u4f55\u5b89\u6392\u8fd9\u4e9b\u7684\u66f4\u591a\u7ec6\u8282\u611f\u5174\u8da3\uff0c\u8bf7\u968f\u65f6\u67e5\u9605ns-3\u624b\u518c\u4e2d\u7684\u56de\u8c03\u90e8\u5206\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#walkthrough-fourthcc","title":"Walkthrough:\u00a0<code>fourth.cc</code>","text":"<p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e9b\u4ee3\u7801\uff0c\u5b9e\u73b0\u4e86\u5b9e\u9645\u4e0a\u662f\u8ddf\u8e2a\u7684\u6700\u7b80\u5355\u793a\u4f8b\u3002\u4f60\u53ef\u4ee5\u5728\u6559\u7a0b\u76ee\u5f55\u4e2d\u627e\u5230\u8fd9\u4e2a\u4ee3\u7801\uff0c\u6587\u4ef6\u540d\u4e3afourth.cc\u3002\u8ba9\u6211\u4eec\u9010\u6b65\u89e3\u91ca\u5b83\uff1a</p> <pre><code>/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n\n#include \"ns3/object.h\"\n#include \"ns3/uinteger.h\"\n#include \"ns3/traced-value.h\"\n#include \"ns3/trace-source-accessor.h\"\n\n#include &lt;iostream&gt;\n\nusing namespace ns3;\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5e94\u8be5\u5bf9\u4f60\u6765\u8bf4\u975e\u5e38\u719f\u6089\u3002\u5982\u4e0a\u6240\u8ff0\uff0c==\u8ddf\u8e2a\u7cfb\u7edf\u5927\u91cf\u4f7f\u7528Object\u548cAttribute\u7cfb\u7edf==\uff0c\u56e0\u6b64\u4f60\u9700\u8981\u5305\u542b\u5b83\u4eec\u3002\u4e0a\u9762\u7684\u524d\u4e24\u4e2a\u5305\u542b\u663e\u5f0f\u5730\u5f15\u5165\u4e86\u8fd9\u4e9b\u7cfb\u7edf\u7684\u58f0\u660e\u3002\u867d\u7136\u4f60\u53ef\u4ee5\u4f7f\u7528\u6838\u5fc3\u6a21\u5757\u7684\u5934\u6587\u4ef6\u4e00\u6b21\u6027\u83b7\u53d6\u6240\u6709\u5185\u5bb9\uff0c\u4f46\u6211\u4eec\u5728\u8fd9\u91cc\u663e\u5f0f\u5730\u5305\u542b\u4ee5\u8bf4\u660e\u8fd9\u4e00\u5207\u5b9e\u9645\u4e0a\u662f\u591a\u4e48\u7b80\u5355\u3002</p> <p>\u6587\u4ef6<code>traced-value.h</code>\u5f15\u5165\u4e86==\u9075\u5faa\u503c\u8bed\u4e49\u7684\u6570\u636e\u8ddf\u8e2a\u6240\u9700\u7684\u58f0\u660e==\u3002\u901a\u5e38\uff0c==\u503c\u8bed\u4e49\u53ea\u662f\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f20\u9012\u5bf9\u8c61\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u4f20\u9012\u5bf9\u8c61\u7684\u5730\u5740==\u3002\u8fd9\u5b9e\u9645\u4e0a\u610f\u5473\u7740\u4f60\u5c06\u80fd\u591f\u4ee5\u4e00\u79cd\u975e\u5e38\u7b80\u5355\u7684\u65b9\u5f0f\u8ddf\u8e2a\u5bf9<code>TracedValue</code> \u6240\u505a\u7684\u6240\u6709\u66f4\u6539\u3002</p> <p>\u7531\u4e8e\u8ddf\u8e2a\u7cfb\u7edf\u4e0eAttributes\u96c6\u6210\uff0c\u5e76\u4e14Attributes\u4e0eObjects\u4e00\u8d77\u5de5\u4f5c\uff0c\u5fc5\u987b\u6709\u4e00\u4e2ans-3 Object\u6765\u5bb9\u7eb3\u8ddf\u8e2a\u6e90\u3002\u4e0b\u4e00\u6bb5==\u4ee3\u7801\u7247\u6bb5\u58f0\u660e\u5e76\u5b9a\u4e49\u4e86\u4e00\u4e2a\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u7684\u7b80\u5355Object\uff1a==</p> <pre><code>class MyObject : public Object\n{\npublic:\n  static TypeId GetTypeId()\n  {\n    static TypeId tid = TypeId(\"MyObject\")\n      .SetParent(Object::GetTypeId())\n      .SetGroupName(\"MyGroup\")\n      .AddConstructor&lt;MyObject&gt;()\n      .AddTraceSource(\"MyInteger\",\n                      \"An integer value to trace.\",\n                      MakeTraceSourceAccessor(&amp;MyObject::m_myInt),\n                      \"ns3::TracedValueCallback::Int32\")\n      ;\n    return tid;\n  }\n\n  MyObject() {}\n  TracedValue&lt;int32_t&gt; m_myInt; // \u63d0\u4f9b\u4e86\u9a71\u52a8\u56de\u8c03\u8fc7\u7a0b\u7684\u57fa\u7840\u8bbe\u65bd\n};\n</code></pre> <p>\u5728\u8ddf\u8e2a\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u4e0a\u9762\u7684\u4ee3\u7801\u4e2d\u7684\u4e24\u884c\u6700\u91cd\u8981\u7684\u662f<code>.AddTraceSource</code> \u548c<code>TracedValue</code> \u58f0\u660e <code>m_myInt</code>\u3002</p> <p><code>.AddTraceSource</code> \u63d0\u4f9b\u4e86==\u901a\u8fc7Config\u7cfb\u7edf\u5c06\u8ddf\u8e2a\u6e90\u8fde\u63a5\u5230\u5916\u90e8\u4e16\u754c\u7684\u201c\u6302\u94a9\u201d==\u3002 \u7b2c\u4e00\u4e2a\u53c2\u6570\u662f\u6b64\u8ddf\u8e2a\u6e90\u7684\u540d\u79f0\uff0c\u5728Config\u7cfb\u7edf\u4e2d\u53ef\u89c1\u3002 \u7b2c\u4e8c\u4e2a\u53c2\u6570\u662f\u5e2e\u52a9\u5b57\u7b26\u4e32\u3002 \u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u5b9e\u9645\u4e0a\u805a\u7126\u5728\u7b2c\u4e09\u4e2a\u53c2\u6570\u7684\u53c2\u6570\u4e0a\uff1a<code>&amp;MyObject::m_myInt</code>\u3002\u8fd9\u662f\u8981\u6dfb\u52a0\u5230\u7c7b\u7684<code>TracedValue</code>\uff1b\u5b83\u59cb\u7ec8\u662f\u4e00\u4e2a\u7c7b\u6570\u636e\u6210\u5458\u3002 \uff08\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f <code>TracedValue</code> \u7c7b\u578b\u7684 <code>typedef</code> \u7684\u540d\u79f0\uff0c\u4f5c\u4e3a\u5b57\u7b26\u4e32\u3002\u8fd9\u7528\u4e8e\u751f\u6210\u6b63\u786e\u7684Callback\u51fd\u6570\u7b7e\u540d\u7684\u6587\u6863\uff0c\u5bf9\u4e8e\u66f4\u4e00\u822c\u7c7b\u578b\u7684Callbacks\u5c24\u5176\u6709\u7528\u3002\uff09</p> <p><code>TracedValue&lt;&gt;</code> \u58f0\u660e==\u63d0\u4f9b\u4e86\u9a71\u52a8\u56de\u8c03\u8fc7\u7a0b\u7684\u57fa\u7840\u8bbe\u65bd==\u3002\u6bcf==\u5f53\u5e95\u5c42\u503c\u66f4\u6539\u65f6==\uff0c<code>TracedValue</code> ==\u673a\u5236\u5c06\u63d0\u4f9b\u8be5\u53d8\u91cf\u7684\u65e7\u503c\u548c\u65b0\u503c==\uff0c\u8fd9\u79cd\u60c5\u51b5\u4e0b\u662f <code>int32_t</code> \u503c\u3002\u6b64 <code>TracedValue</code> \u7684trace sink\u51fd\u6570 <code>traceSink</code> \u9700\u8981\u4ee5\u4e0b\u7b7e\u540d\uff1a</p> <pre><code>void (*traceSink)(int32_t oldValue, int32_t newValue);\n</code></pre> <p>\u6240\u6709\u8fde\u63a5\u5230\u6b64\u8ddf\u8e2a\u6e90\u7684trace sink\u90fd\u5fc5\u987b\u5177\u6709\u6b64\u7b7e\u540d\u3002\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u8ba8\u8bba\u5982\u4f55\u786e\u5b9a\u5176\u4ed6\u60c5\u51b5\u4e0b\u6240\u9700\u7684\u56de\u8c03\u7b7e\u540d\u3002</p> <p>\u5f53\u6211\u4eec\u7ee7\u7eed\u9605\u8bfb <code>fourth.cc</code> \u65f6\uff0c\u6211\u4eec\u770b\u5230\uff1a</p> <pre><code>void\nIntTrace(int32_t oldValue, int32_t newValue)\n{\n  std::cout &lt;&lt; \"Traced \" &lt;&lt; oldValue &lt;&lt; \" to \" &lt;&lt; newValue &lt;&lt; std::endl;\n}\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a==\u5339\u914d\u7684\u8ddf\u8e2a\u6c60\uff08trace sink\uff09\u7684\u5b9a\u4e49==\u3002\u5b83\u76f4\u63a5\u5bf9\u5e94\u4e8e\u56de\u8c03\u51fd\u6570\u7684\u7b7e\u540d\u3002\u4e00\u65e6\u8fde\u63a5\uff0c\u6bcf\u5f53 <code>TracedValue</code> \u53d1\u751f\u53d8\u5316\u65f6\uff0c\u6b64\u51fd\u6570\u5c06\u88ab\u8c03\u7528\u3002</p> <p>\u6211\u4eec\u73b0\u5728\u5df2\u7ecf\u770b\u5230\u4e86\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u6c60\u3002\u5269\u4e0b\u7684\u662f\u8fde\u63a5\u6e90\u548c\u6c60\u7684\u4ee3\u7801\uff0c\u8fd9\u53d1\u751f\u5728 <code>main</code> \u51fd\u6570\u4e2d\uff1a</p> <pre><code>int\nmain(int argc, char *argv[])\n{\n  Ptr&lt;MyObject&gt; myObject = CreateObject&lt;MyObject&gt;();\n  myObject-&gt;TraceConnectWithoutContext(\"MyInteger\", MakeCallback(&amp;IntTrace));\n\n  myObject-&gt;m_myInt = 1234;\n}\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u9996\u5148\u521b\u5efa\u4e86\u5305\u542b\u8ddf\u8e2a\u6e90\u7684 <code>MyObject</code> \u5b9e\u4f8b\u3002</p> <p>\u4e0b\u4e00\u6b65\uff0c<code>TraceConnectWithoutContext</code> \u5f62\u6210\u4e86\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u6c60\u4e4b\u95f4\u7684\u8fde\u63a5\u3002 - \u7b2c\u4e00\u4e2a\u53c2\u6570\u53ea\u662f\u6211\u4eec\u4e0a\u9762\u770b\u5230\u7684==\u8ddf\u8e2a\u6e90\u540d\u79f0\u201cMyInteger\u201d==\u3002 - \u6ce8\u610f <code>MakeCallback</code> \u6a21\u677f\u51fd\u6570\u3002\u6b64\u51fd\u6570\u6267\u884c\u6240\u9700\u7684\u9b54\u6cd5\uff0c\u4ee5\u521b\u5efa\u5e95\u5c42\u7684 ns-3 <code>Callback</code> \u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4e0e\u51fd\u6570 <code>IntTrace</code> \u5173\u8054\u3002 - <code>TraceConnect</code> \u5efa\u7acb\u4e86\u4f60\u63d0\u4f9b\u7684\u51fd\u6570\u4e0e\u7531\u201cMyInteger\u201d\u5c5e\u6027\u5f15\u7528\u7684\u8ddf\u8e2a\u53d8\u91cf\u4e2d\u7684 <code>overloaded operator()</code> \u4e4b\u95f4\u7684\u5173\u8054\u3002 - \u5efa\u7acb\u6b64\u5173\u8054\u540e\uff0c\u8ddf\u8e2a\u6e90\u5c06\u201c\u89e6\u53d1\u201d\u4f60\u63d0\u4f9b\u7684\u56de\u8c03\u51fd\u6570\u3002</p> <p>\u5f53\u7136\uff0c\u4f7f\u6240\u6709\u8fd9\u4e9b\u53d1\u751f\u7684\u4ee3\u7801\u662f\u975e\u5e38\u7e41\u7410\u7684\uff0c\u4f46\u5176\u672c\u8d28\u662f\u4f60\u6b63\u5728\u5b89\u6392\u7c7b\u4f3c\u4e8e\u4e0a\u9762\u7684 <code>pfi()</code> \u793a\u4f8b\u7684\u4e1c\u897f\uff0c\u88ab\u8ddf\u8e2a\u6e90\u8c03\u7528\u3002\u5728 <code>Object</code> \u672c\u8eab\u4e2d <code>TracedValue&lt;int32_t&gt; m_myInt;</code> \u7684\u58f0\u660e\u6267\u884c\u4e86\u6240\u9700\u7684\u9b54\u6cd5\uff0c\u63d0\u4f9b\u4e86\u4f7f\u7528 <code>operator()</code> \u8c03\u7528\u56de\u8c03\u7684 <code>overloaded</code> \u8d4b\u503c\u8fd0\u7b97\u7b26\u3002<code>.AddTraceSource</code> \u6267\u884c\u9b54\u6cd5\uff0c\u5c06 <code>Callback</code> \u8fde\u63a5\u5230 <code>Config</code> \u7cfb\u7edf\uff0c\u800c <code>TraceConnectWithoutContext</code> \u6267\u884c\u9b54\u6cd5\uff0c\u5c06\u4f60\u7684\u51fd\u6570\u8fde\u63a5\u5230\u7531\u5c5e\u6027\u540d\u79f0\u6307\u5b9a\u7684\u8ddf\u8e2a\u6e90\u3002</p> <p>\u6682\u65f6\u8ba9\u6211\u4eec\u5ffd\u7565\u6709\u5173\u4e0a\u4e0b\u6587\u7684\u90e8\u5206\u3002</p> <p>\u6700\u540e\uff0c\u8d4b\u503c\u7ed9 <code>m_myInt</code> \u7684\u8fd9\u4e00\u884c\uff1a</p> <pre><code>myObject-&gt;m_myInt = 1234;\n</code></pre> <p>\u5e94\u8be5\u88ab\u89e3\u91ca\u4e3a\u5728\u6210\u5458\u53d8\u91cf <code>m_myInt</code> \u4e0a\u8c03\u7528 <code>operator=</code> \u5e76\u5c06\u6574\u6570 <code>1234</code> \u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u3002</p> <p>\u7531\u4e8e <code>m_myInt</code> \u662f\u4e00\u4e2a <code>TracedValue</code>\uff0c\u6b64\u8fd0\u7b97\u7b26\u88ab\u5b9a\u4e49\u4e3a\u6267\u884c\u4e00\u4e2a\u8fd4\u56de <code>void</code> \u5e76\u63a5\u53d7\u4e24\u4e2a\u6574\u6570\u503c\u4f5c\u4e3a\u53c2\u6570\u7684\u56de\u8c03 - \u6709\u5173\u6240\u8ba8\u8bba\u6574\u6570\u7684\u65e7\u503c\u548c\u65b0\u503c\u3002\u8fd9\u6b63\u662f\u6211\u4eec\u63d0\u4f9b\u7684\u56de\u8c03\u51fd\u6570 <code>IntTrace</code> \u7684\u51fd\u6570\u7b7e\u540d\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b\uff0c==\u8ddf\u8e2a\u6e90\u672c\u8d28\u4e0a\u662f\u4e00\u4e2a\u4fdd\u5b58\u56de\u8c03\u51fd\u6570\u5217\u8868\u7684\u53d8\u91cf==\u3002==\u8ddf\u8e2a\u6c60\u662f\u4f5c\u4e3a\u56de\u8c03\u76ee\u6807\u7684\u51fd\u6570==\u3002Attribute\u548c\u5bf9\u8c61\u7c7b\u578b\u4fe1\u606f\u7cfb\u7edf\u7528\u4e8e\u63d0\u4f9b\u4e00\u79cd\u8fde\u63a5\u8ddf\u8e2a\u6e90\u548c\u8ddf\u8e2a\u6c60\u7684\u65b9\u5f0f\u3002\u201c\u51fb\u4e2d\u201d\u8ddf\u8e2a\u6e90\u7684\u884c\u4e3a\u662f\u5728\u8ddf\u8e2a\u6e90\u4e0a\u6267\u884c\u8fd0\u7b97\u7b26\uff0c\u8fd9\u4f1a\u89e6\u53d1\u56de\u8c03\u51fd\u6570\u3002\u8fd9\u5bfc\u81f4\u5df2\u6ce8\u518c\u5bf9\u6e90\u611f\u5174\u8da3\u7684\u8ddf\u8e2a\u6c60\u56de\u8c03\u88ab\u8c03\u7528\uff0c\u8c03\u7528\u53c2\u6570\u7531\u6e90\u63d0\u4f9b\u3002</p> <p>\u5982\u679c\u4f60\u73b0\u5728\u6784\u5efa\u5e76\u8fd0\u884c\u8fd9\u4e2a\u4f8b\u5b50\uff1a</p> <pre><code>$ ./ns3 run fourth\n</code></pre> <p>\u4f60\u5c06\u770b\u5230\u4ece <code>IntTrace</code> \u51fd\u6570\u7684\u8f93\u51fa\uff0c\u8fd9\u4f1a\u5728\u8ddf\u8e2a\u6e90\u88ab\u89e6\u53d1\u65f6\u6267\u884c\uff1a</p> <pre><code>Traced 0 to 1234\n</code></pre> <p>\u5f53\u6211\u4eec\u6267\u884c\u4ee3\u7801 <code>myObject-&gt;m_myInt = 1234;</code> \u65f6\uff0c\u8ddf\u8e2a\u6e90\u88ab\u89e6\u53d1\uff0c\u5e76\u81ea\u52a8\u5c06\u524d\u540e\u7684\u503c\u63d0\u4f9b\u7ed9\u8ddf\u8e2a\u6c60\u3002\u7136\u540e\uff0c<code>IntTrace</code> \u51fd\u6570\u5c06\u8fd9\u4e9b\u503c\u6253\u5370\u5230\u6807\u51c6\u8f93\u51fa\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#connect-with-config","title":"Connect with Config","text":"<p>\u5728\u7b80\u5355\u793a\u4f8b\u4e2d\u4e0a\u9762\u663e\u793a\u7684 <code>TraceConnectWithoutContext</code> \u8c03\u7528\u5b9e\u9645\u4e0a\u5728\u7cfb\u7edf\u4e2d\u975e\u5e38\u5c11\u89c1\u3002</p> <p>\u66f4\u5178\u578b\u7684\u60c5\u51b5\u662f\u4f7f\u7528 Config \u5b50\u7cfb\u7edf\u4f7f\u7528\u6240\u8c13\u7684 Config \u8def\u5f84\u5728\u7cfb\u7edf\u4e2d\u9009\u62e9\u4e00\u4e2a\u8ddf\u8e2a\u6e90\u3002\u6211\u4eec\u5728\u524d\u4e00\u8282\u4e2d\u770b\u5230\u4e86\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5f53\u6211\u4eec\u5728 <code>third.cc</code> \u4e2d\u8fdb\u884c\u5b9e\u9a8c\u65f6\uff0c\u6211\u4eec\u8fde\u63a5\u4e86\u201cCourseChange\u201d\u4e8b\u4ef6\u3002</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5b9a\u4e49\u4e86\u4e00\u4e2a\u8ddf\u8e2a\u6c60\uff0c\u4ee5\u6253\u5370\u6a21\u62df\u4e2d\u79fb\u52a8\u6a21\u578b\u7684\u822a\u5411\u53d8\u5316\u4fe1\u606f\u3002\u73b0\u5728\uff0c\u5bf9\u4e8e\u4f60\u6765\u8bf4\uff0c\u5e94\u8be5\u66f4\u6e05\u695a\u8fd9\u4e2a\u51fd\u6570\u5728\u505a\u4ec0\u4e48\uff1a</p> <pre><code>void\nCourseChange(std::string context, Ptr&lt;const MobilityModel&gt; model)\n{\n  Vector position = model-&gt;GetPosition();\n  NS_LOG_UNCOND(context &lt;&lt;\n    \" x = \" &lt;&lt; position.x &lt;&lt; \", y = \" &lt;&lt; position.y);\n}\n</code></pre> <p>\u5f53\u6211\u4eec\u5c06\u201cCourseChange\u201d\u8ddf\u8e2a\u6e90\u8fde\u63a5\u5230\u4e0a\u9762\u7684\u8ddf\u8e2a\u6c60\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 Config \u8def\u5f84\u6765\u6307\u5b9a\u6e90\uff0c\u5f53\u6211\u4eec\u5728\u9884\u5b9a\u4e49\u7684\u8ddf\u8e2a\u6e90\u548c\u65b0\u7684\u8ddf\u8e2a\u6c60\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\u65f6\uff1a</p> <pre><code>std::ostringstream oss;\noss &lt;&lt; \"/NodeList/\"\n    &lt;&lt; wifiStaNodes.Get(nWifi - 1)-&gt;GetId()\n    &lt;&lt; \"/$ns3::MobilityModel/CourseChange\";  // \u8fd9\u5c31\u662f \u201cConfig \u8def\u5f84\u201d\n\nConfig::Connect(oss.str(), MakeCallback(&amp;CourseChange)); // \u5728\u9884\u5b9a\u4e49\u7684\u8ddf\u8e2a\u6e90\u548c\u65b0\u7684\u8ddf\u8e2a\u6c60\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\n</code></pre> <p>\u8ba9\u6211\u4eec\u8bd5\u7740\u7406\u89e3\u8fd9\u6bb5\u6709\u65f6\u88ab\u8ba4\u4e3a\u76f8\u5bf9\u795e\u79d8\u7684\u4ee3\u7801\u3002\u4e3a\u4e86\u8ba8\u8bba\uff0c\u5047\u8bbe <code>GetId()</code> \u8fd4\u56de\u7684\u8282\u70b9\u7f16\u53f7\u662f \u201c7\u201d\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0a\u8ff0\u8def\u5f84\u5b9e\u9645\u4e0a\u662f\uff1a</p> <p><code>\"/NodeList/7/$ns3::MobilityModel/CourseChange\"</code></p> <p>\u914d\u7f6e\u8def\u5f84\u7684\u6700\u540e\u4e00\u6bb5\u5fc5\u987b\u662f\u5bf9\u8c61\u7684\u5c5e\u6027\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5982\u679c\u4f60\u624b\u5934\u6709\u5177\u6709\u201cCourseChange\u201d\u5c5e\u6027\u7684\u5bf9\u8c61\u7684\u6307\u9488\uff0c\u4f60\u53ef\u4ee5\u50cf\u5728\u524d\u9762\u7684\u793a\u4f8b\u4e2d\u90a3\u6837\u76f4\u63a5\u7f16\u5199\u5b83\u3002 \u4f60\u73b0\u5728\u5df2\u7ecf\u77e5\u9053\u6211\u4eec\u901a\u5e38\u5c06\u6307\u5411\u8282\u70b9\u7684\u6307\u9488\u5b58\u50a8\u5728 <code>NodeContainer</code> \u4e2d\u3002 \u5728 <code>third.cc</code> \u793a\u4f8b\u4e2d\uff0c\u611f\u5174\u8da3\u7684\u8282\u70b9\u5b58\u50a8\u5728 <code>wifiStaNodes</code> \u7684 <code>NodeContainer</code> \u4e2d\u3002</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u5728\u7ec4\u5408\u8def\u5f84\u65f6\uff0c\u6211\u4eec\u4f7f\u7528\u4e86\u6b64\u5bb9\u5668\u83b7\u53d6\u4e86 <code>Ptr&lt;Node&gt;</code>\uff0c\u5e76\u7528\u5b83\u8c03\u7528\u4e86 <code>GetId()</code>\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u8fd9\u4e2a <code>Ptr&lt;Node&gt;</code> \u76f4\u63a5\u8c03\u7528 <code>Connect</code> \u65b9\u6cd5\uff1a</p> <pre><code>Ptr&lt;Object&gt; theObject = wifiStaNodes.Get(nWifi - 1);\ntheObject-&gt;TraceConnectWithoutContext(\"CourseChange\", MakeCallback(&amp;CourseChange));\n</code></pre> <p>\u5728 <code>third.cc</code> \u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u5b9e\u9645\u4e0a\u5e0c\u671b\u968f\u7740\u56de\u8c03\u53c2\u6570\u4e00\u8d77\u4f20\u9012\u9644\u52a0\u7684 \u201ccontext\u201d\uff0c\u4ee5\u4fbf\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u7b49\u6548\u4ee3\u7801\uff1a</p> <pre><code>Ptr&lt;Object&gt; theObject = wifiStaNodes.Get(nWifi - 1);\ntheObject-&gt;TraceConnect(\"CourseChange\", MakeCallback(&amp;CourseChange));\n</code></pre> <p>\u4e8b\u5b9e\u4e0a\uff0c<code>Config::ConnectWithoutContext</code> \u548c <code>Config::Connect</code> \u7684\u5185\u90e8\u4ee3\u7801\u5b9e\u9645\u4e0a\u627e\u5230\u4e86 <code>Ptr&lt;Object&gt;</code>\uff0c\u5e76\u5728\u6700\u4f4e\u7ea7\u522b\u8c03\u7528\u4e86\u9002\u5f53\u7684 <code>TraceConnect</code> \u65b9\u6cd5\u3002</p> <p>Config \u51fd\u6570\u63a5\u53d7\u4e00\u4e2a\u8868\u793a\u5bf9\u8c61\u6307\u9488\u94fe\u7684\u8def\u5f84\u3002\u8def\u5f84\u7684\u6bcf\u4e2a\u90e8\u5206\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u5bf9\u8c61\u5c5e\u6027\u3002\u6700\u540e\u4e00\u90e8\u5206\u662f\u611f\u5174\u8da3\u7684\u5c5e\u6027\uff0c\u800c\u4e4b\u524d\u7684\u90e8\u5206\u5fc5\u987b\u88ab\u7c7b\u578b\u5316\u4e3a\u5305\u542b\u6216\u67e5\u627e\u5bf9\u8c61\u3002</p> <p>Config \u4ee3\u7801\u89e3\u6790\u5e76\u201c\u904d\u5386\u201d\u6b64\u8def\u5f84\uff0c\u76f4\u5230\u5230\u8fbe\u8def\u5f84\u7684\u6700\u7ec8\u90e8\u5206\u3002\u7136\u540e\uff0c\u5b83\u5c06\u6700\u540e\u4e00\u90e8\u5206\u89e3\u91ca\u4e3a\u5728\u904d\u5386\u8def\u5f84\u65f6\u627e\u5230\u7684\u6700\u540e\u4e00\u4e2a\u5bf9\u8c61\u4e0a\u7684\u5c5e\u6027\u3002\u7136\u540e\uff0cConfig \u51fd\u6570\u8c03\u7528\u6700\u7ec8\u5bf9\u8c61\u4e0a\u7684\u9002\u5f53 TraceConnect \u6216 TraceConnectWithoutContext \u65b9\u6cd5\u3002\u8ba9\u6211\u4eec\u7a0d\u5fae\u8be6\u7ec6\u770b\u4e00\u4e0b\u4e0a\u9762\u8def\u5f84\u5728\u904d\u5386\u65f6\u53d1\u751f\u4e86\u4ec0\u4e48\u3002</p> <p>\u8def\u5f84\u4e2d\u7684\u524d\u5bfc\u201c/\u201d\u5b57\u7b26\u662f\u6240\u8c13\u7684\u547d\u540d\u7a7a\u95f4\u3002\u914d\u7f6e\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a==\u9884\u5b9a\u4e49\u547d\u540d\u7a7a\u95f4\u662f \u201cNodeList\u201d\uff0c\u5b83\u662f\u6a21\u62df\u4e2d\u6240\u6709\u8282\u70b9\u7684\u5217\u8868==\u3002\u5217\u8868\u4e2d\u7684\u9879\u901a\u8fc7\u7d22\u5f15\u5f15\u7528\uff0c\u56e0\u6b64==\u201c/NodeList/7\u201d\u662f\u6307\u6a21\u62df\u671f\u95f4\u521b\u5efa\u7684\u8282\u70b9\u5217\u8868\u4e2d\u7684\u7b2c\u516b\u4e2a\u8282\u70b9==\uff08\u8bf7\u8bb0\u4f4f\u7d22\u5f15\u4ece0\u5f00\u59cb\uff09\u3002\u6b64\u5f15\u7528\u5b9e\u9645\u4e0a\u662f <code>Ptr&lt;Node&gt;</code>\uff0c\u56e0\u6b64\u662f <code>ns3::Object</code> \u7684\u5b50\u7c7b\u3002</p> <p>\u6b63\u5982\u5728 ns-3 \u624b\u518c\u7684\u5bf9\u8c61\u6a21\u578b\u90e8\u5206\u4e2d\u6240\u8ff0\uff0c\u6211\u4eec\u5e7f\u6cdb\u4f7f\u7528\u5bf9\u8c61\u805a\u5408\uff08\u5373\uff1a\u53ef\u53d8\u7ee7\u627f\uff09\u3002\u8fd9\u4f7f\u6211\u4eec\u80fd\u591f\u5728\u4e0d\u6784\u5efa\u590d\u6742\u7684\u7ee7\u627f\u6811\u6216\u9884\u5148\u51b3\u5b9a\u54ea\u4e9b\u5bf9\u8c61\u5c06\u6210\u4e3a\u8282\u70b9\u7684\u4e00\u90e8\u5206\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u4e0d\u540c\u5bf9\u8c61\u4e4b\u95f4\u5efa\u7acb\u5173\u8054\u3002\u805a\u5408\u4e2d\u7684\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u53ef\u4ee5\u4ece\u5176\u4ed6\u5bf9\u8c61\u4e2d\u8bbf\u95ee\u3002</p> <p>\u5728\u6211\u4eec\u7684\u4f8b\u5b50\u4e2d\uff0c\u6b63\u5728\u904d\u5386\u7684\u4e0b\u4e00\u4e2a\u8def\u5f84\u6bb5\u4ee5 \u201c\\(\u201d \u5b57\u7b26\u5f00\u5934\u3002\u8fd9\u544a\u8bc9\u914d\u7f6e\u7cfb\u7edf\uff0c\u8be5\u6bb5\u662f\u5bf9\u8c61\u7c7b\u578b\u7684\u540d\u79f0\uff0c\u56e0\u6b64\u5e94\u8be5\u8fdb\u884c\u4e00\u4e2a GetObject \u8c03\u7528\u6765\u67e5\u627e\u8be5\u7c7b\u578b\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u5728 <code>third.cc</code> \u4e2d\u4f7f\u7528\u7684 <code>MobilityHelper</code> \u5b89\u6392\u4e86\u5c06\u79fb\u52a8\u6a21\u578b\u4e0e\u6bcf\u4e2a\u65e0\u7ebf\u8282\u70b9\u5173\u8054\uff0c\u6216\u805a\u5408\u3002\u5f53\u6dfb\u52a0\u201c\\)\u201d\u65f6\uff0c\u60a8\u6b63\u5728\u8bf7\u6c42\u53e6\u4e00\u4e2a\u5148\u524d\u5df2\u7ecf\u805a\u5408\u7684\u5bf9\u8c61\u3002\u60a8\u53ef\u4ee5\u5c06\u5176\u89c6\u4e3a\u5c06\u6307\u9488\u4ece\u7531\u201c/NodeList/7\u201d\u6307\u5b9a\u7684\u539f\u59cb <code>Ptr&lt;Node&gt;</code> \u5207\u6362\u5230\u5176\u5173\u8054\u7684\u79fb\u52a8\u6a21\u578b\uff0c\u5176\u7c7b\u578b\u4e3a <code>ns3::MobilityModel</code>\u3002\u5982\u679c\u60a8\u719f\u6089 <code>GetObject</code>\uff0c\u6211\u4eec\u8981\u6c42\u7cfb\u7edf\u6267\u884c\u4ee5\u4e0b\u64cd\u4f5c\uff1a</p> <pre><code>Ptr&lt;MobilityModel&gt; mobilityModel = node-&gt;GetObject&lt;MobilityModel&gt;()\n</code></pre> <p>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u5230\u8fbe\u8def\u5f84\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5bf9\u8c61\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u6ce8\u610f\u529b\u8f6c\u5411\u8be5\u5bf9\u8c61\u7684\u5c5e\u6027\u3002<code>MobilityModel</code> \u7c7b\u5b9a\u4e49\u4e86\u4e00\u4e2a\u540d\u4e3a \u201cCourseChange\u201d\u7684\u5c5e\u6027\u3002\u60a8\u53ef\u4ee5\u901a\u8fc7\u67e5\u770b <code>src/mobility/model/mobility-model.cc</code> \u4e2d\u7684\u6e90\u4ee3\u7801\uff0c\u5e76\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u641c\u7d22 \u201cCourseChange\u201d \u6765\u67e5\u770b\u8fd9\u4e00\u70b9\u3002\u60a8\u5e94\u8be5\u4f1a\u627e\u5230\uff1a</p> <pre><code>.AddTraceSource(\"CourseChange\",\n                \"The value of the position and/or velocity vector changed\",\n                MakeTraceSourceAccessor(&amp;MobilityModel::m_courseChangeTrace),\n                \"ns3::MobilityModel::CourseChangeCallback\")\n</code></pre> <p>\u8fd9\u5728\u8fd9\u4e00\u70b9\u4e0a\u770b\u8d77\u6765\u5e94\u8be5\u975e\u5e38\u719f\u6089\u3002</p> <p>\u5982\u679c\u67e5\u627e mobility-model.h \u6587\u4ef6\u4e2d\u5e95\u5c42\u8ddf\u8e2a\u53d8\u91cf\u7684\u76f8\u5e94\u58f0\u660e\uff0c\u60a8\u5c06\u627e\u5230\uff1a</p> <pre><code>TracedCallback&lt;Ptr&lt;const MobilityModel&gt;&gt; m_courseChangeTrace;\n</code></pre> <p>\u7c7b\u578b\u58f0\u660e <code>TracedCallback</code> \u5c06 <code>m_courseChangeTrace</code> \u6807\u8bc6\u4e3a\u4e00\u79cd\u7279\u6b8a\u7684\u56de\u8c03\u5217\u8868\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0a\u8ff0 Config \u51fd\u6570\u8fdb\u884c\u8fde\u63a5\u3002\u56de\u8c03\u51fd\u6570\u7b7e\u540d\u7684 typedef \u4e5f\u5728\u5934\u6587\u4ef6\u4e2d\u5b9a\u4e49\uff1a</p> <pre><code>typedef void (* CourseChangeCallback)(Ptr&lt;const MobilityModel&gt; * model);\n</code></pre> <p><code>MobilityModel</code> \u7c7b\u88ab\u8bbe\u8ba1\u4e3a\u4e00\u4e2a\u57fa\u7c7b\uff0c\u4e3a\u6240\u6709\u5177\u4f53\u5b50\u7c7b\u63d0\u4f9b\u4e00\u4e2a\u5171\u540c\u7684\u63a5\u53e3\u3002\u5982\u679c\u60a8\u5411\u4e0b\u641c\u7d22\u6587\u4ef6\u76f4\u5230\u5e95\u90e8\uff0c\u60a8\u5c06\u770b\u5230\u4e00\u4e2a\u540d\u4e3a <code>NotifyCourseChange()</code> \u7684\u65b9\u6cd5\uff1a</p> <pre><code>void\nMobilityModel::NotifyCourseChange() const\n{\n  m_courseChangeTrace(this);\n}\n</code></pre> <p>\u6d3e\u751f\u7c7b\u5c06\u5728\u6bcf\u6b21\u8fdb\u884c\u822a\u5411\u53d8\u66f4\u4ee5\u652f\u6301\u8ddf\u8e2a\u65f6\u8c03\u7528\u6b64\u65b9\u6cd5\u3002\u6b64\u65b9\u6cd5\u8c03\u7528\u5e95\u5c42\u7684 <code>m_courseChangeTrace</code> \u4e0a\u7684 <code>operator()</code>\uff0c\u8fd9\u5c06\u4f9d\u6b21\u8c03\u7528\u6240\u6709\u6ce8\u518c\u7684\u56de\u8c03\uff0c\u8c03\u7528\u6240\u6709\u901a\u8fc7\u8c03\u7528 Config \u51fd\u6570\u6ce8\u518c\u4e86\u5bf9\u8ddf\u8e2a\u6e90\u611f\u5174\u8da3\u7684\u8ddf\u8e2a\u6c60\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u6211\u4eec\u67e5\u770b\u7684 <code>third.cc</code> \u793a\u4f8b\u4e2d\uff0c\u6bcf\u5f53\u5728\u5b89\u88c5\u7684 <code>RandomWalk2dMobilityModel</code> \u5b9e\u4f8b\u4e2d\u8fdb\u884c\u822a\u5411\u53d8\u66f4\u65f6\uff0c\u5c06\u4f1a\u6709\u4e00\u4e2a <code>NotifyCourseChange()</code> \u8c03\u7528\uff0c\u8be5\u8c03\u7528\u4f1a\u8c03\u7528\u5230 <code>MobilityModel</code> \u57fa\u7c7b\u3002 \u5982\u4e0a\u6240\u793a\uff0c\u8fd9\u4f1a\u8c03\u7528 <code>m_courseChangeTrace</code> \u4e0a\u7684 <code>operator()</code>\uff0c\u8fdb\u800c\u8c03\u7528\u4efb\u4f55\u5df2\u6ce8\u518c\u7684\u8ddf\u8e2a\u6c60\u3002 \u5728\u793a\u4f8b\u4e2d\uff0c\u6ce8\u518c\u5174\u8da3\u7684\u552f\u4e00\u4ee3\u7801\u662f\u63d0\u4f9b Config \u8def\u5f84\u7684\u4ee3\u7801\u3002\u56e0\u6b64\uff0c\u88ab\u8fde\u63a5\u7684\u6765\u81ea\u8282\u70b9\u7f16\u53f7\u4e03\u7684 <code>CourseChange</code> \u51fd\u6570\u5c06\u662f\u552f\u4e00\u8c03\u7528\u7684\u56de\u8c03\u3002</p> <p>\u8c1c\u9898\u7684\u6700\u540e\u4e00\u5757\u662f\u201c\u4e0a\u4e0b\u6587\u201d\u3002\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5728 <code>third.cc</code> \u4e2d\u770b\u5230\u4e86\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u8f93\u51fa\uff1a</p> <pre><code>/NodeList/7/$ns3::MobilityModel/CourseChange x = 7.27897, y =\n2.22677\n</code></pre> <p>\u8f93\u51fa\u7684\u7b2c\u4e00\u90e8\u5206\u662f\u4e0a\u4e0b\u6587\u3002\u5b83\u53ea\u662f\u914d\u7f6e\u4ee3\u7801\u901a\u8fc7\u5b83\u627e\u5230\u8ddf\u8e2a\u6e90\u7684\u8def\u5f84\u3002\u5728\u6211\u4eec\u4e00\u76f4\u5728\u770b\u7684\u8fd9\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u7cfb\u7edf\u4e2d\u53ef\u80fd\u6709\u4efb\u610f\u6570\u91cf\u7684\u8ddf\u8e2a\u6e90\uff0c\u5bf9\u5e94\u4e8e\u4efb\u610f\u6570\u91cf\u7684\u5177\u6709\u79fb\u52a8\u6a21\u578b\u7684\u8282\u70b9\u3002\u9700\u8981\u67d0\u79cd\u65b9\u5f0f\u6765\u6807\u8bc6\u5b9e\u9645\u89e6\u53d1\u56de\u8c03\u7684\u8ddf\u8e2a\u6e90\u3002\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u4f7f\u7528 <code>Config::Connect</code> \u8fde\u63a5\uff0c\u800c\u4e0d\u662f <code>Config::ConnectWithoutContext</code>\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#finding-sources","title":"Finding Sources","text":"<p>\u65b0\u7528\u6237\u4f7f\u7528\u8ddf\u8e2a\u7cfb\u7edf\u65f6\u4e0d\u53ef\u907f\u514d\u5730\u4f1a\u9047\u5230\u7684\u7b2c\u4e00\u4e2a\u95ee\u9898\u662f\uff1a\u201c\u597d\u7684\uff0c\u6211\u77e5\u9053\u6a21\u62df\u6838\u5fc3\u4e2d\u5fc5\u987b\u6709\u8ddf\u8e2a\u6e90\uff0c\u4f46\u6211==\u600e\u6837\u624d\u80fd\u627e\u51fa\u5bf9\u6211\u53ef\u7528\u7684\u8ddf\u8e2a\u6e90\u6709\u54ea\u4e9b\uff1f==\u201d</p> <p>\u7b2c\u4e8c\u4e2a\u95ee\u9898\u662f\uff1a\u201c\u597d\u7684\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u8ddf\u8e2a\u6e90\uff0c\u6211==\u600e\u6837\u624d\u80fd\u5f04\u6e05\u695a\u8fde\u63a5\u5230\u5b83\u65f6\u8981\u4f7f\u7528\u7684 Config \u8def\u5f84\uff1f==\u201d</p> <p>\u7b2c\u4e09\u4e2a\u95ee\u9898\u662f\uff1a\u201c\u597d\u7684\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u8ddf\u8e2a\u6e90\u548c Config \u8def\u5f84\uff0c\u6211\u600e\u6837==\u624d\u80fd\u5f04\u6e05\u695a\u6211\u7684\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u548c\u5f62\u5f0f\u53c2\u6570\u9700\u8981\u662f\u4ec0\u4e48==\uff1f\u201d</p> <p>\u7b2c\u56db\u4e2a\u95ee\u9898\u662f\uff1a\u201c\u597d\u7684\uff0c\u6211\u952e\u5165\u4e86\u6240\u6709\u8fd9\u4e9b\u5e76\u83b7\u5f97\u4e86\u8fd9\u4e2a\u4ee4\u4eba\u96be\u4ee5\u7f6e\u4fe1\u7684\u5947\u602a\u9519\u8bef\u6d88\u606f\uff0c\u8fd9\u7a76\u7adf\u662f\u4ec0\u4e48\u610f\u601d\uff1f\u201d</p> <p>\u6211\u4eec\u5c06\u4f9d\u6b21\u56de\u7b54\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#available-sources","title":"Available Sources","text":"<p>\u597d\u7684\uff0c\u6211\u77e5\u9053\u6a21\u62df\u6838\u5fc3\u4e2d\u5fc5\u987b\u6709\u8ddf\u8e2a\u6e90\uff0c\u4f46\u6211\u600e\u6837\u624d\u80fd\u627e\u51fa\u5bf9\u6211\u53ef\u7528\u7684\u8ddf\u8e2a\u6e90\u6709\u54ea\u4e9b\uff1f</p> <p>\u7b2c\u4e00\u4e2a\u95ee\u9898\u7684\u7b54\u6848\u53ef\u4ee5\u5728 ns-3 \u7684 API \u6587\u6863\u4e2d\u627e\u5230\u3002\u5982\u679c\u60a8\u8f6c\u5230\u9879\u76ee\u7f51\u7ad9 ns-3 project\uff0c\u60a8\u5c06\u5728\u5bfc\u822a\u680f\u4e2d\u627e\u5230\u4e00\u4e2a\u6307\u5411\u201cDocumentation\u201d\u7684\u94fe\u63a5\u3002\u5982\u679c\u9009\u62e9\u6b64\u94fe\u63a5\uff0c\u60a8\u5c06\u88ab\u5e26\u5230\u6211\u4eec\u7684\u6587\u6863\u9875\u9762\u3002\u6709\u4e00\u4e2a\u6307\u5411\u201cLatest Release\u201d\u7684\u94fe\u63a5\uff0c\u5c06\u5e26\u60a8\u5230 ns-3 \u7684\u6700\u65b0\u7a33\u5b9a\u7248\u672c\u7684\u6587\u6863\u3002\u5982\u679c\u9009\u62e9\u201cAPI Documentation\u201d\u94fe\u63a5\uff0c\u60a8\u5c06\u88ab\u5e26\u5230 ns-3 API \u6587\u6863\u9875\u9762\u3002</p> <p>\u5728\u4fa7\u8fb9\u680f\u4e2d\uff0c\u60a8\u5e94\u8be5\u770b\u5230\u4e00\u4e2a\u5c42\u6b21\u7ed3\u6784\uff0c\u4ee5\u4ee5\u4e0b\u5185\u5bb9\u5f00\u5934\uff1a</p> <ul> <li>ns-3</li> <li>ns-3 Documentation<ul> <li>All TraceSources</li> <li>All Attributes</li> <li>All GlobalValues</li> </ul> </li> </ul> <p>\u6211\u4eec\u5728\u8fd9\u91cc\u5173\u5fc3\u7684\u5217\u8868\u662f\u201cAll TraceSources\u201d\uff08\u6240\u6709\u8ddf\u8e2a\u6e90\uff09\u3002\u8bf7\u5355\u51fb\u8be5\u94fe\u63a5\u3002\u60a8\u5c06\u770b\u5230\u53ef\u80fd\u5e76\u4e0d\u4ee4\u4eba\u60ca\u8bb6\u7684\u662f\uff0cns-3 \u4e2d\u6240\u6709\u8ddf\u8e2a\u6e90\u7684\u5217\u8868\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5411\u4e0b\u6eda\u52a8\u5230 ns3::MobilityModel\u3002\u60a8\u5c06\u627e\u5230\u4e00\u4e2a\u6761\u76ee\uff1a</p> <ul> <li>CourseChange: The value of the position and/or velocity vector changed</li> </ul> <p>\u60a8\u5e94\u8be5\u8ba4\u8bc6\u5230\u8fd9\u662f\u6211\u4eec\u5728 <code>third.cc</code> \u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u8ddf\u8e2a\u6e90\u3002\u6d4f\u89c8\u6b64\u5217\u8868\u5c06\u662f\u6709\u5e2e\u52a9\u7684\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#config-paths","title":"Config Paths","text":"<p>\u597d\u7684\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u8ddf\u8e2a\u6e90\uff0c\u4f46\u6211\u600e\u6837\u627e\u51fa\u8fde\u63a5\u5230\u5b83\u65f6\u8981\u4f7f\u7528\u7684 Config \u8def\u5f84\u5462\uff1f</p> <p>\u5982\u679c\u60a8\u77e5\u9053\u60a8\u611f\u5174\u8da3\u7684\u5bf9\u8c61\uff0c\u8be5\u7c7b\u7684\u201cDetailed Description\u201d\uff08\u8be6\u7ec6\u8bf4\u660e\uff09\u90e8\u5206\u5c06\u5217\u51fa\u6240\u6709\u53ef\u7528\u7684\u8ddf\u8e2a\u6e90\u3002\u4f8b\u5982\uff0c\u4ece\u201cAll TraceSources\u201d\u5217\u8868\u5f00\u59cb\uff0c\u70b9\u51fb ns3::MobilityModel \u94fe\u63a5\uff0c\u5c06\u5e26\u60a8\u5230 MobilityModel \u7c7b\u7684\u6587\u6863\u3002\u5728\u9875\u9762\u7684\u9876\u90e8\u51e0\u4e4e\u662f\u4e00\u4e2a\u7c7b\u7684\u7b80\u8981\u63cf\u8ff0\uff0c\u6700\u540e\u4e00\u4e2a\u94fe\u63a5\u662f\u201cMore\u2026\u201d\uff08\u66f4\u591a\u2026\uff09\u3002\u70b9\u51fb\u6b64\u94fe\u63a5\u4ee5\u8df3\u8fc7 API \u6458\u8981\u5e76\u8fdb\u5165\u7c7b\u7684\u201cDetailed Description\u201d\uff08\u8be6\u7ec6\u8bf4\u660e\uff09\u3002\u5728\u63cf\u8ff0\u7684\u672b\u5c3e\uff0c\u5c06\u6709\uff08\u6700\u591a\uff09\u4e09\u4e2a\u5217\u8868\uff1a</p> <ul> <li>Config Paths\uff08\u914d\u7f6e\u8def\u5f84\uff09\uff1a\u6b64\u7c7b\u7684\u5178\u578b\u914d\u7f6e\u8def\u5f84\u5217\u8868\u3002</li> <li>Attributes\uff08\u5c5e\u6027\uff09\uff1a\u6b64\u7c7b\u63d0\u4f9b\u7684\u6240\u6709\u5c5e\u6027\u5217\u8868\u3002</li> <li>TraceSources\uff08\u8ddf\u8e2a\u6e90\uff09\uff1a\u6b64\u7c7b\u63d0\u4f9b\u7684\u6240\u6709\u8ddf\u8e2a\u6e90\u5217\u8868\u3002</li> </ul> <p>\u9996\u5148\u6211\u4eec\u6765\u8ba8\u8bba Config \u8def\u5f84\u3002</p> <p>\u8ba9\u6211\u4eec\u5047\u8bbe\u60a8\u521a\u521a\u5728\u201cAll TraceSources\u201d\u5217\u8868\u4e2d\u627e\u5230\u4e86\u201cCourseChange\u201d\u8ddf\u8e2a\u6e90\uff0c\u800c\u4e14\u60a8\u60f3\u5f04\u6e05\u695a\u5982\u4f55\u8fde\u63a5\u5230\u5b83\u3002\u60a8\u77e5\u9053\u60a8\u6b63\u5728\u4f7f\u7528\uff08\u540c\u6837\u662f\u4ece third.cc \u793a\u4f8b\u4e2d\uff09\u4e00\u4e2a ns3::RandomWalk2dMobilityModel\u3002\u56e0\u6b64\uff0c\u5355\u51fb\u201c\u6240\u6709\u8ddf\u8e2a\u6e90\u201d\u5217\u8868\u4e2d\u7684\u7c7b\u540d\uff0c\u6216\u5728\u201c\u7c7b\u5217\u8868\u201d\u4e2d\u627e\u5230 ns3::RandomWalk2dMobilityModel\u3002\u65e0\u8bba\u54ea\u79cd\u65b9\u5f0f\uff0c\u60a8\u73b0\u5728\u5e94\u8be5\u770b\u5230\u201cns3::RandomWalk2dMobilityModel Class Reference\u201d\u9875\u9762\u3002</p> <p>\u5982\u679c\u60a8\u73b0\u5728\u5411\u4e0b\u6eda\u52a8\u5230\u201cDetailed Description\u201d\u90e8\u5206\uff0c\u5728\u7c7b\u65b9\u6cd5\u548c\u5c5e\u6027\u7684\u6458\u8981\u5217\u8868\u4e4b\u540e\uff08\u6216\u8005\u53ea\u9700\u70b9\u51fb\u9875\u9762\u9876\u90e8\u7684\u7c7b\u7b80\u8981\u63cf\u8ff0\u7ed3\u675f\u5904\u7684\u201cMore\u2026\u201d\u94fe\u63a5\uff09\uff0c\u60a8\u5c06\u770b\u5230\u8be5\u7c7b\u7684\u6574\u4f53\u6587\u6863\u3002\u7ee7\u7eed\u5411\u4e0b\u6eda\u52a8\uff0c\u627e\u5230\u201cConfig Paths\u201d\u5217\u8868\uff1a</p> <pre><code>Config Paths\n\nns3::RandomWalk2dMobilityModel is accessible through the following paths with Config::Set and Config::Connect:\n\n\u201c/NodeList/[i]/$ns3::MobilityModel/$ns3::RandomWalk2dMobilityModel\u201d\n</code></pre> <p>\u6587\u6863\u544a\u8bc9\u60a8\u5982\u4f55\u83b7\u53d6 RandomWalk2dMobilityModel \u5bf9\u8c61\u3002\u5c06\u4e0a\u9762\u7684\u5b57\u7b26\u4e32\u4e0e\u6211\u4eec\u5728\u793a\u4f8b\u4ee3\u7801\u4e2d\u5b9e\u9645\u4f7f\u7528\u7684\u5b57\u7b26\u4e32\u8fdb\u884c\u6bd4\u8f83\uff1a</p> <pre><code>\"/NodeList/7/$ns3::MobilityModel\"\n</code></pre> <p>\u5dee\u5f02\u662f\u7531\u4e8e\u5728\u6587\u6863\u4e2d\u627e\u5230\u7684\u5b57\u7b26\u4e32\u4e2d\u9690\u542b\u4e86\u4e24\u4e2a GetObject \u8c03\u7528\u3002\u7b2c\u4e00\u4e2a\u662f\u5bf9 $ns3::MobilityModel \u7684 GetObject \u8c03\u7528\uff0c\u5c06\u67e5\u8be2\u57fa\u7c7b\u7684\u805a\u5408\u3002\u7b2c\u4e8c\u4e2a\u9690\u542b\u7684 GetObject \u8c03\u7528\u662f\u5bf9 $ns3::RandomWalk2dMobilityModel \u7684\u8c03\u7528\uff0c\u7528\u4e8e\u5c06\u57fa\u7c7b\u8f6c\u6362\u4e3a\u5177\u4f53\u7684\u5b9e\u73b0\u7c7b\u3002\u6587\u6863\u4e3a\u60a8\u5c55\u793a\u4e86\u8fd9\u4e24\u4e2a\u64cd\u4f5c\u3002\u5b9e\u9645\u4e0a\uff0c\u60a8\u6b63\u5728\u5bfb\u627e\u7684\u5b9e\u9645\u8ddf\u8e2a\u6e90\u4f4d\u4e8e\u57fa\u7c7b\u4e2d\u3002</p> <p>\u5728\u201cDetailed Description\u201d\u90e8\u5206\u8fdb\u4e00\u6b65\u67e5\u627e\u8ddf\u8e2a\u6e90\u5217\u8868\u3002\u60a8\u5c06\u627e\u5230\uff1a</p> <pre><code>TraceSources defined in parent class ``ns3::MobilityModel``\n\nCourseChange: The value of the position and/or velocity vector changed.\n\nCallback signature: ns3::MobilityModel::CourseChangeCallback\n</code></pre> <p>\u8fd9\u6b63\u662f\u60a8\u9700\u8981\u77e5\u9053\u7684\u3002\u611f\u5174\u8da3\u7684\u8ddf\u8e2a\u6e90\u4f4d\u4e8e ns3::MobilityModel \u4e2d\uff08\u8fd9\u4e00\u70b9\u60a8\u65e9\u5c31\u77e5\u9053\uff09\u3002API \u6587\u6863\u7684\u6709\u8da3\u4e4b\u5904\u5728\u4e8e\uff0c\u5b83\u544a\u8bc9\u60a8\u5728\u914d\u7f6e\u8def\u5f84\u4e2d\u4e0d\u9700\u8981\u90a3\u4e2a\u989d\u5916\u7684\u8f6c\u6362\uff0c\u4ee5\u83b7\u5f97\u5177\u4f53\u7684\u7c7b\uff0c\u56e0\u4e3a\u8ddf\u8e2a\u6e90\u5b9e\u9645\u4e0a\u5728\u57fa\u7c7b\u4e2d\u3002\u56e0\u6b64\uff0c\u4e0d\u9700\u8981\u989d\u5916\u7684 GetObject\uff0c\u60a8\u53ea\u9700\u4f7f\u7528\u8def\u5f84\uff1a</p> <pre><code>\"/NodeList/[i]/$ns3::MobilityModel\"\n</code></pre> <p>\u8fd9\u4e0e\u793a\u4f8b\u8def\u5f84\u5b8c\u5168\u5339\u914d\uff1a</p> <pre><code>\"/NodeList/7/$ns3::MobilityModel\"\n</code></pre> <p>\u53e6\u5916\uff0c\u627e\u5230\u914d\u7f6e\u8def\u5f84\u7684\u53e6\u4e00\u79cd\u65b9\u6cd5\u662f\u5728 ns-3 \u4ee3\u7801\u5e93\u4e2d\u67e5\u627e\u5df2\u7ecf\u627e\u5230\u5b83\u7684\u4eba\u3002\u5728\u5f00\u59cb\u7f16\u5199\u81ea\u5df1\u7684\u4ee3\u7801\u4e4b\u524d\uff0c\u60a8\u5e94\u8be5\u5c3d\u91cf\u590d\u5236\u4ed6\u4eba\u7684\u5de5\u4f5c\u4ee3\u7801\u3002\u5c1d\u8bd5\u6267\u884c\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a</p> <pre><code>$ find . -name '*.cc' | xargs grep CourseChange | grep Connect\n</code></pre> <p>\u60a8\u53ef\u80fd\u4f1a\u627e\u5230\u60a8\u7684\u7b54\u6848\u4ee5\u53ca\u53ef\u5de5\u4f5c\u7684\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u5728\u6b64\u60c5\u51b5\u4e0b\uff0csrc/mobility/examples/main-random-topology.cc \u4e2d\u6b63\u597d\u6709\u7b49\u5f85\u60a8\u4f7f\u7528\u7684\u4ee3\u7801\uff1a</p> <pre><code>Config::Connect(\"/NodeList/*/$ns3::MobilityModel/CourseChange\",\n                MakeCallback(&amp;CourseChange));\n</code></pre> <p>\u6211\u4eec\u7a0d\u540e\u5c06\u56de\u5230\u8fd9\u4e2a\u793a\u4f8b\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#callback-signatures","title":"Callback Signatures","text":"<p>\u597d\u7684\uff0c\u6211\u627e\u5230\u4e86\u4e00\u4e2a\u8ddf\u8e2a\u6e90\uff0c\u8fd8\u627e\u5230\u4e86 Config \u8def\u5f84\uff0c\u90a3\u4e48\u6211\u5982\u4f55\u786e\u5b9a\u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u548c\u5f62\u5f0f\u53c2\u6570\u5e94\u8be5\u662f\u4ec0\u4e48\u5462\uff1f</p> <p>\u6700\u7b80\u5355\u7684\u65b9\u6cd5\u662f\u67e5\u770b\u8ddf\u8e2a\u6e90\u5728\u7c7b\u7684\u201cDetailed Description\u201d\uff08\u8be6\u7ec6\u8bf4\u660e\uff09\u4e2d\u7ed9\u51fa\u7684\u56de\u8c03\u7b7e\u540d typedef\u3002</p> <p>\u91cd\u590d\u4e00\u4e0b ns3::RandomWalk2dMobilityModel \u4e2d\u7684 \u201cCourseChange\u201d \u8ddf\u8e2a\u6e90\u6761\u76ee\uff1a</p> <pre><code>CourseChange: The value of the position and/or velocity vector changed.\n\nCallback signature: ns3::MobilityModel::CourseChangeCallback\n</code></pre> <p>\u56de\u8c03\u7b7e\u540d\u662f\u4e00\u4e2a\u6307\u5411\u76f8\u5173 typedef \u7684\u94fe\u63a5\uff0c\u5176\u4e2d\u6211\u4eec\u627e\u5230\uff1a</p> <pre><code>typedef void (* CourseChangeCallback)(std::string context, Ptr&lt;const MobilityModel&gt; * model);\n</code></pre> <p>TracedCallback \u8bfe\u7a0b\u66f4\u6539\u901a\u77e5\u7684\u7b7e\u540d\u3002</p> <p>\u5982\u679c\u4f7f\u7528 ConnectWithoutContext \u51fd\u6570\u8fde\u63a5\u56de\u8c03\uff0c\u5219\u4ece\u7b7e\u540d\u4e2d\u7701\u7565\u4e0a\u4e0b\u6587\u53c2\u6570\u3002</p> <p>\u53c2\u6570\uff1a</p> <ul> <li>[in] context\uff1aTrace \u6e90\u63d0\u4f9b\u7684\u4e0a\u4e0b\u6587\u5b57\u7b26\u4e32\u3002</li> <li>[in] model\uff1a\u6b63\u5728\u66f4\u6539\u8bfe\u7a0b\u7684 MobilityModel\u3002 \u4e0e\u4e0a\u8ff0\u76f8\u540c\uff0c\u4e3a\u4e86\u770b\u5230\u8fd9\u4e2a\u5728 ns-3 \u4ee3\u7801\u5e93\u4e2d\u7684\u4f7f\u7528\u793a\u4f8b\uff0c\u4f7f\u7528\u7c7b\u4f3c\u4ee5\u4e0b\u7684\u547d\u4ee4\uff1a</li> </ul> <pre><code>$ find . -name '*.cc' | xargs grep CourseChange | grep Connect\n</code></pre> <p>\u60a8\u53ef\u80fd\u4f1a\u627e\u5230\u60a8\u7684\u7b54\u6848\u4ee5\u53ca\u53ef\u5de5\u4f5c\u7684\u4ee3\u7801\u3002\u4f8b\u5982\uff0c\u5728\u6b64\u60c5\u51b5\u4e0b\uff0csrc/mobility/examples/main-random-topology.cc \u4e2d\u6b63\u597d\u6709\u7b49\u5f85\u60a8\u4f7f\u7528\u7684\u4ee3\u7801\uff1a</p> <pre><code>static void\nCourseChange(std::string context, Ptr&lt;const MobilityModel&gt; model)\n{\n  ...\n}\n</code></pre> <p>\u8bf7\u6ce8\u610f\uff0c\u6b64\u51fd\u6570\uff1a</p> <ul> <li>\u63a5\u53d7\u4e00\u4e2a\u201ccontext\u201d\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u7a0d\u540e\u6211\u4eec\u5c06\u8be6\u7ec6\u63cf\u8ff0\uff08\u5982\u679c\u4f7f\u7528 ConnectWithoutContext \u51fd\u6570\u8fde\u63a5\u56de\u8c03\uff0c\u5219\u4f1a\u7701\u7565\u4e0a\u4e0b\u6587\u53c2\u6570\uff09\u3002</li> <li>\u5c06 MobilityModel \u4f5c\u4e3a\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u63d0\u4f9b\uff08\u5982\u679c\u4f7f\u7528 ConnectWithoutContext\uff0c\u5219\u4f5c\u4e3a\u552f\u4e00\u53c2\u6570\uff09\u3002</li> <li>\u8fd4\u56de void\u3002</li> </ul> <p>\u5982\u679c\u78b0\u5de7\u56de\u8c03\u7b7e\u540d\u6ca1\u6709\u88ab\u8bb0\u5f55\uff0c\u5e76\u4e14\u6ca1\u6709\u53ef\u4f9b\u53c2\u8003\u7684\u793a\u4f8b\uff0c\u4ece\u6e90\u4ee3\u7801\u4e2d\u786e\u5b9a\u6b63\u786e\u7684\u56de\u8c03\u51fd\u6570\u7b7e\u540d\u53ef\u80fd\u4f1a\u6709\u70b9\u5177\u6709\u6311\u6218\u6027\u3002</p> <p>\u5728\u5c55\u5f00\u4ee3\u7801\u6f2b\u6e38\u4e4b\u524d\uff0c\u6211\u5c06\u53cb\u597d\u5730\u544a\u8bc9\u60a8\u4e00\u4e2a\u627e\u5230\u5b83\u7684\u7b80\u5355\u65b9\u6cd5\uff1a\u60a8\u7684\u56de\u8c03\u7684\u8fd4\u56de\u503c\u5c06\u59cb\u7ec8\u4e3a void\u3002</p> <p>\u53ef\u4ee5\u4ece\u58f0\u660e\u4e2d\u7684\u6a21\u677f\u53c2\u6570\u5217\u8868\u4e2d\u627e\u5230 TracedCallback \u7684\u5f62\u5f0f\u53c2\u6570\u5217\u8868\u3002\u56de\u987e\u4e00\u4e0b\u6211\u4eec\u5f53\u524d\u7684\u793a\u4f8b\uff0c\u8fd9\u662f\u5728 mobility-model.h \u4e2d\u627e\u5230\u7684\uff1a</p> <pre><code>TracedCallback&lt;Ptr&lt;const MobilityModel&gt;&gt; m_courseChangeTrace;\n</code></pre> <p>\u5728==\u58f0\u660e\u4e2d\u7684\u6a21\u677f\u53c2\u6570\u5217\u8868==\u548c==\u56de\u8c03\u51fd\u6570\u7684\u5f62\u5f0f\u53c2\u6570==\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u5728\u8fd9\u91cc\uff0c\u6709\u4e00\u4e2a\u6a21\u677f\u53c2\u6570\uff0c\u5373 Ptr\\\u3002\u8fd9\u544a\u8bc9\u60a8\u9700\u8981\u4e00\u4e2a\u8fd4\u56de void \u7684\u51fd\u6570\uff0c\u5e76\u4e14\u5e26\u6709 Ptr\\\u3002\u4f8b\u5982\uff1a <pre><code>void\nCourseChange(Ptr&lt;const MobilityModel&gt; model)\n{\n  ...\n}\n</code></pre> <p>\u5982\u679c\u60a8\u60f3\u8981 Config::ConnectWithoutContext\uff0c\u8fd9\u5c31\u662f\u60a8\u9700\u8981\u7684\u5168\u90e8\u5185\u5bb9\u3002\u5982\u679c\u60a8\u60f3\u8981\u4e00\u4e2a\u4e0a\u4e0b\u6587\uff0c\u60a8\u9700\u8981 Config::Connect \u5e76\u4f7f\u7528\u4e00\u4e2a\u5e26\u6709\u5b57\u7b26\u4e32\u4e0a\u4e0b\u6587\u7684 Callback \u51fd\u6570\uff0c\u7136\u540e\u6a21\u677f\u53c2\u6570\u4e3a\uff1a</p> <pre><code>void\nCourseChange(std::string context, Ptr&lt;const MobilityModel&gt; model)\n{\n  ...\n}\n</code></pre> <p>\u5982\u679c\u60a8\u60f3\u8981\u786e\u4fdd\u60a8\u7684 CourseChangeCallback \u51fd\u6570\u4ec5\u5728\u60a8\u7684\u672c\u5730\u6587\u4ef6\u4e2d\u53ef\u89c1\uff0c\u53ef\u4ee5\u6dfb\u52a0 static \u5173\u952e\u5b57\uff0c\u5e76\u5f97\u5230\uff1a</p> <pre><code>static void\nCourseChange(std::string path, Ptr\\&lt;const MobilityModel&gt; model)\n{\n  ...\n}\n</code></pre> <p>\u8fd9\u6b63\u662f\u6211\u4eec\u5728 third.cc \u793a\u4f8b\u4e2d\u4f7f\u7528\u7684\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#implementation","title":"Implementation","text":"<p>\u8fd9\u4e00\u90e8\u5206\u662f\u5b8c\u5168\u53ef\u9009\u7684\u3002\u5bf9\u4e8e\u90a3\u4e9b\u5bf9\u6a21\u677f\u7ec6\u8282\u4e0d\u719f\u6089\u7684\u4eba\u6765\u8bf4\uff0c\u53ef\u80fd\u4f1a\u6709\u4e9b\u56f0\u96be\u3002\u7136\u800c\uff0c\u5982\u679c\u4f60\u80fd\u7406\u89e3\u8fd9\u4e00\u90e8\u5206\uff0c\u4f60\u5c06\u5bf9\u5f88\u591a ns-3 \u4f4e\u7ea7\u6280\u5de7\u6709\u5f88\u597d\u7684\u638c\u63e1\u3002</p> <p>\u6240\u4ee5\uff0c\u518d\u6b21\uff0c\u8ba9\u6211\u4eec\u5f04\u6e05\u695a\u201cCourseChange\u201d\u8ffd\u8e2a\u6e90\u9700\u8981\u7684\u56de\u8c03\u51fd\u6570\u7b7e\u540d\u662f\u4ec0\u4e48\u3002\u8fd9\u53ef\u80fd\u4f1a\u6709\u4e9b\u75db\u82e6\uff0c\u4f46\u4f60\u53ea\u9700\u8981\u505a\u4e00\u6b21\u3002\u901a\u8fc7\u8fd9\u4e00\u90e8\u5206\u540e\uff0c\u4f60\u5c31\u80fd\u591f\u770b\u4e00\u4e2a TracedCallback \u5e76\u7406\u89e3\u5b83\u4e86\u3002</p> <p>\u6211\u4eec\u9996\u5148\u9700\u8981\u67e5\u770b\u8ffd\u8e2a\u6e90\u7684\u58f0\u660e\u3002\u56de\u60f3\u4e00\u4e0b\uff0c\u8fd9\u662f\u5728 mobility-model.h \u4e2d\uff0c\u6211\u4eec\u5148\u524d\u627e\u5230\u8fc7\uff1a</p> <pre><code>TracedCallback&lt;Ptr&lt;const MobilityModel&gt;&gt; m_courseChangeTrace;\n</code></pre> <p>\u8fd9\u662f\u4e00\u4e2a\u6a21\u677f\u7684\u58f0\u660e\u3002\u6a21\u677f\u53c2\u6570\u5728\u5c16\u62ec\u53f7\u5185\uff0c\u6240\u4ee5\u6211\u4eec\u771f\u6b63\u5173\u5fc3\u7684\u662f TracedCallback&lt;&gt; \u662f\u4ec0\u4e48\u3002\u5982\u679c\u4f60\u7edd\u5bf9\u4e0d\u77e5\u9053\u5b83\u53ef\u80fd\u5728\u54ea\u91cc\uff0cgrep \u662f\u4f60\u7684\u597d\u670b\u53cb\u3002</p> <p>\u6211\u4eec\u53ef\u80fd\u4f1a\u5bf9 ns-3 \u6e90\u4ee3\u7801\u7684\u67d0\u4e9b\u58f0\u660e\u611f\u5174\u8da3\uff0c\u6240\u4ee5\u9996\u5148\u8fdb\u5165 src \u76ee\u5f55\u3002\u7136\u540e\uff0c\u6211\u4eec\u77e5\u9053\u8fd9\u4e2a\u58f0\u660e\u5fc5\u987b\u5728\u67d0\u79cd\u5934\u6587\u4ef6\u4e2d\uff0c\u6240\u4ee5\u53ea\u9700\u4f7f\u7528\u4ee5\u4e0b\u547d\u4ee4\u8fdb\u884c grep\uff1a</p> <pre><code>$ find . -name '*.h' | xargs grep TracedCallback\n</code></pre> <p>\u4f60\u4f1a\u770b\u5230 303 \u884c\u7684\u8f93\u51fa\uff08\u6211\u901a\u8fc7 wc \u7ba1\u9053\u67e5\u770b\u4e86\u4e00\u4e0b\uff09\u3002\u5c3d\u7ba1\u8fd9\u53ef\u80fd\u770b\u8d77\u6765\u5f88\u591a\uff0c\u4f46\u5b9e\u9645\u4e0a\u5e76\u4e0d\u662f\u5f88\u591a\u3002\u53ea\u9700\u5c06\u8f93\u51fa\u901a\u8fc7 more \u7ba1\u9053\uff0c\u5f00\u59cb\u6d4f\u89c8\u3002\u5728\u7b2c\u4e00\u9875\u4e0a\uff0c\u4f60\u5c06\u770b\u5230\u4e00\u4e9b\u975e\u5e38\u53ef\u7591\u7684\u6a21\u677f\u6837\u5f0f\u3002</p> <pre><code>TracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::TracedCallback()\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::ConnectWithoutContext(c ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::Connect(const CallbackB ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::DisconnectWithoutContext ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::Disconnect(const Callba ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()() const ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1) const ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::operator()(T1 a1, T2 a2 ...\n</code></pre> <p>\u4e8b\u5b9e\u8bc1\u660e\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u6765\u81ea\u5934\u6587\u4ef6 traced-callback.h\uff0c\u542c\u8d77\u6765\u5f88\u6709\u5e0c\u671b\u3002\u7136\u540e\u4f60\u53ef\u4ee5\u67e5\u770b mobility-model.h\uff0c\u770b\u5230\u4e00\u884c\u786e\u8ba4\u4e86\u8fd9\u4e2a\u731c\u6d4b\uff1a</p> <pre><code>#include \"ns3/traced-callback.h\"\n</code></pre> <p>\u5f53\u7136\uff0c\u4f60\u4e5f\u53ef\u4ee5\u4ece\u53e6\u4e00\u4e2a\u65b9\u5411\u5f00\u59cb\uff0c\u770b mobility-model.h \u4e2d\u7684 includes\uff0c\u5e76\u6ce8\u610f\u5230 traced-callback.h \u7684 include\uff0c\u63a8\u65ad\u8fd9\u4e00\u5b9a\u662f\u4f60\u60f3\u8981\u7684\u6587\u4ef6\u3002</p> <p>\u5728\u4efb\u4e00\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0b\u4e00\u6b65\u662f\u5728\u4f60\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u67e5\u770b src/core/model/traced-callback.h\uff0c\u770b\u770b\u53d1\u751f\u4e86\u4ec0\u4e48\u3002</p> <p>\u4f60\u4f1a\u5728\u6587\u4ef6\u9876\u90e8\u770b\u5230\u4e00\u4e2a\u6ce8\u91ca\uff0c\u5e94\u8be5\u8ba9\u4f60\u611f\u5230\u6b23\u6170\uff1a</p> <pre><code>// An ns3::TracedCallback has almost exactly the same API as a normal ns3::Callback\n// but instead of forwarding calls to a single function (as an ns3::Callback normally does),\n// it forwards calls to a chain of ns3::Callback.\n</code></pre> <p>\u8fd9\u5e94\u8be5\u542c\u8d77\u6765\u975e\u5e38\u719f\u6089\uff0c\u8ba9\u4f60\u77e5\u9053\u4f60\u5728\u6b63\u786e\u7684\u8f68\u9053\u4e0a\u3002</p> <p>\u5728\u8fd9\u4e2a\u6ce8\u91ca\u540e\u9762\uff0c\u4f60\u4f1a\u627e\u5230\uff1a</p> <pre><code>template&lt;typename T1 = empty, typename T2 = empty,\n         typename T3 = empty, typename T4 = empty,\n         typename T5 = empty, typename T6 = empty,\n         typename T7 = empty, typename T8 = empty&gt;\nclass TracedCallback\n{\n  ...\n</code></pre> <p>\u8fd9\u544a\u8bc9\u4f60 TracedCallback \u662f\u4e00\u4e2a\u6a21\u677f\u7c7b\u3002\u5b83\u6709\u516b\u4e2a\u53ef\u80fd\u7684\u7c7b\u578b\u53c2\u6570\uff0c\u90fd\u6709\u9ed8\u8ba4\u503c\u3002\u56de\u53bb\u6bd4\u8f83\u4e00\u4e0b\u8fd9\u4e2a\u4e0e\u4f60\u8bd5\u56fe\u7406\u89e3\u7684\u58f0\u660e\uff1a</p> <pre><code>TracedCallback&lt;Ptr&lt;const MobilityModel&gt;&gt; m_courseChangeTrace;\n</code></pre> <p>\u5728\u6a21\u677f\u5316\u7684\u7c7b\u58f0\u660e\u4e2d\uff0ctypename T1 \u5bf9\u5e94\u4e8e\u4e0a\u9762\u58f0\u660e\u4e2d\u7684 Ptr\\\u3002\u6240\u6709\u5176\u4ed6\u7c7b\u578b\u53c2\u6570\u90fd\u4fdd\u6301\u9ed8\u8ba4\u503c\u3002\u67e5\u770b\u6784\u9020\u51fd\u6570\u5b9e\u9645\u4e0a\u5e76\u4e0d\u80fd\u544a\u8bc9\u4f60\u592a\u591a\u3002\u552f\u4e00\u4e00\u4e2a\u4f60\u770b\u5230\u8fc7\u8fde\u63a5\u4f60\u7684\u56de\u8c03\u51fd\u6570\u548c\u8ffd\u8e2a\u7cfb\u7edf\u7684\u5730\u65b9\u662f\u5728 Connect \u548c ConnectWithoutContext \u51fd\u6570\u4e2d\u3002\u5982\u679c\u4f60\u5411\u4e0b\u6eda\u52a8\uff0c\u4f60\u4f1a\u5728\u8fd9\u91cc\u627e\u5230\u4e00\u4e2a ConnectWithoutContext \u65b9\u6cd5\uff1a <pre><code>template&lt;typename T1, typename T2,\n         typename T3, typename T4,\n         typename T5, typename T6,\n         typename T7, typename T8&gt;\nvoid\nTracedCallback&lt;T1,T2,T3,T4,T5,T6,T7,T8&gt;::ConnectWithoutContext ...\n{\n  Callback&lt;void,T1,T2,T3,T4,T5,T6,T7,T8&gt; cb;\n  cb.Assign(callback);\n  m_callbackList.push_back(cb);\n}\n</code></pre> <p>\u4f60\u73b0\u5728\u8fdb\u5165\u4e86\u8fd9\u4e2a\u5927\u5751\u3002\u5f53\u4e3a\u4e0a\u9762\u7684\u58f0\u660e\u5b9e\u4f8b\u5316\u6a21\u677f\u65f6\uff0c\u7f16\u8bd1\u5668\u5c06\u4f7f\u7528 Ptr\\ \u66ff\u6362 T1\u3002 <pre><code>void\nTracedCallback&lt;Ptr&lt;const MobilityModel&gt;&gt;::ConnectWithoutContext ... cb\n{\n  Callback&lt;void, Ptr&lt;const MobilityModel&gt;&gt; cb;\n  cb.Assign(callback);\n  m_callbackList.push_back(cb);\n}\n</code></pre> <p>\u4f60\u73b0\u5728\u53ef\u4ee5\u770b\u5230\u6211\u4eec\u4e00\u76f4\u5728\u8ba8\u8bba\u7684\u6240\u6709\u5185\u5bb9\u7684\u5b9e\u73b0\u3002\u8be5\u4ee3\u7801\u521b\u5efa\u4e86\u4e00\u4e2a\u6b63\u786e\u7c7b\u578b\u7684\u56de\u8c03\u5e76\u5c06\u4f60\u7684\u51fd\u6570\u5206\u914d\u7ed9\u5b83\u3002\u8fd9\u76f8\u5f53\u4e8e\u6211\u4eec\u5728\u672c\u8282\u5f00\u5934\u8ba8\u8bba\u7684 <code>pfi = MyFunction</code>\u3002\u7136\u540e\uff0c\u4ee3\u7801\u5c06\u56de\u8c03\u6dfb\u52a0\u5230\u6b64\u6e90\u7684\u56de\u8c03\u5217\u8868\u4e2d\u3002\u552f\u4e00\u5269\u4e0b\u7684\u5c31\u662f\u67e5\u770b Callback \u7684\u5b9a\u4e49\u3002\u4f7f\u7528\u4e0e\u6211\u4eec\u7528\u6765\u67e5\u627e TracedCallback \u7684\u76f8\u540c grep \u6280\u5de7\uff0c\u4f60\u5c06\u80fd\u591f\u627e\u5230\u6587\u4ef6 <code>./core/callback.h</code>\u3002</p> <p>\u5982\u679c\u4f60\u4ed4\u7ec6\u67e5\u770b\u6587\u4ef6\uff0c\u4f60\u4f1a\u770b\u5230\u5f88\u591a\u53ef\u80fd\u51e0\u4e4e\u96be\u4ee5\u7406\u89e3\u7684\u6a21\u677f\u4ee3\u7801\u3002\u7136\u800c\uff0c\u6700\u7ec8\u4f60\u4f1a\u627e\u5230\u4e00\u4e9b Callback \u6a21\u677f\u7c7b\u7684 API \u6587\u6863\u3002\u5e78\u8fd0\u7684\u662f\uff0c\u8fd9\u91cc\u6709\u4e00\u4e9b\u82f1\u8bed\uff1a</p> <pre><code>// Callback template class.\n// This class template implements the Functor Design Pattern. It is used to declare the type of a Callback:\n// the first non-optional template argument represents the return type of the callback.\n// the remaining (optional) template arguments represent the type of the subsequent arguments to the callback.\n// up to nine arguments are supported.\n</code></pre> <p>\u6211\u4eec\u6b63\u5728\u5c1d\u8bd5\u5f04\u6e05\u695a</p> <pre><code>Callback&lt;void, Ptr&lt;const MobilityModel&gt;&gt; cb;\n</code></pre> <p>\u58f0\u660e\u7684\u542b\u4e49\u3002\u73b0\u5728\u6211\u4eec\u6709\u80fd\u529b\u7406\u89e3\uff0c\u7b2c\u4e00\u4e2a\uff08\u975e\u53ef\u9009\uff09\u6a21\u677f\u53c2\u6570 <code>void</code> \u8868\u793a\u56de\u8c03\u7684\u8fd4\u56de\u7c7b\u578b\u3002\u7b2c\u4e8c\u4e2a\uff08\u53ef\u9009\uff09\u6a21\u677f\u53c2\u6570 <code>Ptr&lt;const MobilityModel&gt;</code> \u8868\u793a\u56de\u8c03\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u7c7b\u578b\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#tracedvalues","title":"TracedValues","text":"<p>\u5728\u672c\u8282\u7684\u65e9\u4e9b\u65f6\u5019\uff0c\u6211\u4eec\u5448\u73b0\u4e86\u4e00\u6bb5\u7b80\u5355\u7684\u4ee3\u7801\uff0c\u4f7f\u7528\u4e86 <code>TracedValue&lt;int32_t&gt;</code> \u6765\u6f14\u793a\u8ffd\u8e2a\u4ee3\u7801\u7684\u57fa\u7840\u77e5\u8bc6\u3002\u6211\u4eec\u53ea\u662f\u7b80\u8981\u5730\u4ecb\u7ecd\u4e86 <code>TracedValue</code> \u7a76\u7adf\u662f\u4ec0\u4e48\uff0c\u4ee5\u53ca\u5982\u4f55\u627e\u5230\u56de\u8c03\u7684\u8fd4\u56de\u7c7b\u578b\u548c\u5f62\u5f0f\u53c2\u6570\u3002</p> <p>\u6b63\u5982\u6211\u4eec\u6240\u63d0\u5230\u7684\uff0c==\u6587\u4ef6 <code>traced-value.h</code> \u5f15\u5165\u4e86\u7528\u4e8e\u8ffd\u8e2a\u9075\u5faa\u503c\u8bed\u4e49\u7684\u6570\u636e\u7684\u5fc5\u8981\u58f0\u660e==\u3002\u901a\u5e38\uff0c==\u503c\u8bed\u4e49\u53ea\u662f\u610f\u5473\u7740\u4f60\u53ef\u4ee5\u4f20\u9012\u5bf9\u8c61\u672c\u8eab\uff0c\u800c\u4e0d\u662f\u4f20\u9012\u5bf9\u8c61\u7684\u5730\u5740==\u3002\u6211\u4eec\u5c06\u6b64\u8981\u6c42\u6269\u5c55\u5230\u5305\u62ec\u9884\u5b9a\u4e49\u7684\u666e\u901a\u6570\u636e\uff08POD\uff09\u7c7b\u578b\u7684\u5b8c\u6574\u96c6\u5408\u7684\u8d4b\u503c\u6837\u5f0f\u8fd0\u7b97\u7b26\uff1a</p> <ul> <li><code>operator=</code>\uff08\u8d4b\u503c\uff09</li> <li><code>operator*=</code> <code>operator/=</code> <code>operator+=</code> <code>operator-=</code> <code>operator++</code>\uff08\u524d\u7f00\u548c\u540e\u7f00\uff09 <code>operator--</code>\uff08\u524d\u7f00\u548c\u540e\u7f00\uff09 <code>operator&lt;&lt;=</code> <code>operator&gt;&gt;=</code> <code>operator&amp;=</code> <code>operator|=</code> <code>operator%=</code> <code>operator^=</code></li> </ul> <p>\u8fd9\u5b9e\u9645\u4e0a\u610f\u5473\u7740\u4f60\u5c06\u80fd\u591f\u8ffd\u8e2a\u4f7f\u7528\u4e0a\u8ff0\u8fd0\u7b97\u7b26\u5bf9\u5177\u6709\u503c\u8bed\u4e49\u7684 C++ \u5bf9\u8c61\u8fdb\u884c\u7684\u6240\u6709\u66f4\u6539\u3002</p> <p>\u6211\u4eec\u5728\u4e0a\u9762\u770b\u5230\u7684 <code>TracedValue&lt;&gt;</code> \u58f0\u660e\u63d0\u4f9b\u4e86\u91cd\u8f7d\u4e0a\u8ff0\u8fd0\u7b97\u7b26\u5e76\u9a71\u52a8\u56de\u8c03\u8fc7\u7a0b\u7684\u57fa\u7840\u8bbe\u65bd\u3002\u4f7f\u7528 <code>TracedValue</code> \u4e2d\u7684\u4efb\u4f55\u4e0a\u8ff0\u8fd0\u7b97\u7b26\u65f6\uff0c\u5b83\u90fd\u4f1a\u63d0\u4f9b\u8be5\u53d8\u91cf\u7684\u65e7\u503c\u548c\u65b0\u503c\uff0c\u672c\u4f8b\u4e2d\u4e3a int32_t \u503c\u3002\u901a\u8fc7\u68c0\u67e5 <code>TracedValue</code> \u7684\u58f0\u660e\uff0c\u6211\u4eec\u77e5\u9053\u8ffd\u8e2a\u63a5\u6536\u51fd\u6570\u5c06\u6709\u53c2\u6570 <code>(int32_t oldValue, int32_t newValue)</code>\u3002<code>TracedValue</code> \u56de\u8c03\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b\u59cb\u7ec8\u4e3a <code>void</code>\uff0c\u56e0\u6b64\u63a5\u6536\u51fd\u6570 <code>traceSink</code> \u7684\u9884\u671f\u56de\u8c03\u7b7e\u540d\u5c06\u662f\uff1a</p> <pre><code>void (* traceSink)(int32_t oldValue, int32_t newValue);\n</code></pre> <p>\u5728 <code>GetTypeId</code> \u65b9\u6cd5\u4e2d\u7684 <code>.AddTraceSource</code> \u63d0\u4f9b\u4e86\u901a\u8fc7 Config \u7cfb\u7edf\u5c06\u8ffd\u8e2a\u6e90\u8fde\u63a5\u5230\u5916\u90e8\u4e16\u754c\u7684\u201c\u94a9\u5b50\u201d\u3002\u6211\u4eec\u5df2\u7ecf\u8ba8\u8bba\u4e86 <code>AddTraceSource</code> \u7684\u524d\u4e09\u4e2a\u53c2\u6570\uff1aConfig \u7cfb\u7edf\u7684\u5c5e\u6027\u540d\u79f0\u3001\u5e2e\u52a9\u5b57\u7b26\u4e32\u548c <code>TracedValue</code> \u7c7b\u6570\u636e\u6210\u5458\u7684\u5730\u5740\u3002</p> <p>\u793a\u4f8b\u4e2d\u7684\u6700\u540e\u4e00\u4e2a\u5b57\u7b26\u4e32\u53c2\u6570\uff0c\u4f8b\u5982\u201cns3::TracedValueCallback::Int32\u201d\uff0c\u662f\u56de\u8c03\u51fd\u6570\u7b7e\u540d\u7684 typedef \u540d\u79f0\u3002\u6211\u4eec\u8981\u6c42\u8fd9\u4e9b\u7b7e\u540d\u8981\u88ab\u5b9a\u4e49\uff0c\u5e76\u5411 <code>AddTraceSource</code> \u63d0\u4f9b\u5b8c\u5168\u9650\u5b9a\u7684\u7c7b\u578b\u540d\u79f0\uff0c\u4ee5\u4fbf API \u6587\u6863\u53ef\u4ee5\u5c06\u8ffd\u8e2a\u6e90\u4e0e\u51fd\u6570\u7b7e\u540d\u94fe\u63a5\u8d77\u6765\u3002\u5bf9\u4e8e <code>TracedValue</code>\uff0c\u7b7e\u540d\u5f88\u7b80\u5355\uff1b\u5bf9\u4e8e <code>TracedCallback</code>\uff0c\u6211\u4eec\u5df2\u7ecf\u770b\u5230 API \u6587\u6863\u771f\u7684\u5f88\u6709\u5e2e\u52a9\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#real-example","title":"Real Example","text":"<p>\u8ba9\u6211\u4eec\u4ece\u5176\u4e2d\u4e00\u672c\u5173\u4e8e TCP \u6700\u77e5\u540d\u7684\u4e66\u4e2d\u8fdb\u884c\u4e00\u4e2a\u4f8b\u5b50\u3002\u201cTCP/IP Illustrated, Volume 1: The Protocols\u201d \u7531 W. Richard Stevens \u64b0\u5199\uff0c\u662f\u4e00\u672c\u7ecf\u5178\u4e4b\u4f5c\u3002\u6211\u968f\u610f\u7ffb\u5f00\u4e66\uff0c\u53d1\u73b0\u4e86\u7b2c 366 \u9875\u4e0a\u5173\u4e8e\u62e5\u585e\u7a97\u53e3\u548c\u5e8f\u5217\u53f7\u968f\u65f6\u95f4\u53d8\u5316\u7684\u4e00\u4e2a\u5f88\u597d\u7684\u56fe\u8868\u3002Stevens \u5c06\u5176\u79f0\u4e3a\u201cFigure 21.10. Value of cwnd and send sequence number while data is being transmitted.\u201d \u8ba9\u6211\u4eec\u4f7f\u7528 ns-3 \u7684\u8ffd\u8e2a\u7cfb\u7edf\u548c gnuplot \u6765\u91cd\u65b0\u521b\u5efa\u8be5\u56fe\u4e2d cwnd \u90e8\u5206\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#available-sources_1","title":"Available Sources","text":"<p>\u9996\u5148\u8981\u8003\u8651\u7684\u662f\u6211\u4eec\u5e0c\u671b\u5982\u4f55\u83b7\u53d6\u6570\u636e\u3002\u6211\u4eec\u9700\u8981\u8ffd\u8e2a\u4ec0\u4e48\uff1f\u56e0\u6b64\uff0c\u8ba9\u6211\u4eec\u67e5\u770b\u201c\u6240\u6709\u8ffd\u8e2a\u6e90\u201d\u5217\u8868\uff0c\u770b\u770b\u6211\u4eec\u6709\u4ec0\u4e48\u53ef\u4ee5\u4f7f\u7528\u7684\u3002\u56de\u987e\u4e00\u4e0b\uff0c\u8fd9\u53ef\u4ee5\u5728 ns-3 API \u6587\u6863\u4e2d\u627e\u5230\u3002\u5982\u679c\u60a8\u6d4f\u89c8\u5217\u8868\uff0c\u6700\u7ec8\u4f1a\u627e\u5230\uff1a</p> <p>ns3::TcpSocketBase</p> <ul> <li>CongestionWindow: TCP \u8fde\u63a5\u7684\u62e5\u585e\u7a97\u53e3</li> <li>SlowStartThreshold: TCP \u6162\u542f\u52a8\u9608\u503c\uff08\u5b57\u8282\uff09</li> </ul> <p>\u4e8b\u5b9e\u8bc1\u660e\uff0cns-3 \u7684 TCP \u5b9e\u73b0\u4e3b\u8981\u4f4d\u4e8e\u6587\u4ef6 src/internet/model/tcp-socket-base.cc\uff0c\u800c\u62e5\u585e\u63a7\u5236\u53d8\u4f53\u4f4d\u4e8e\u6587\u4ef6\u5982 src/internet/model/tcp-bic.cc\u3002\u5982\u679c\u60a8\u4e8b\u5148\u4e0d\u77e5\u9053\u8fd9\u4e00\u70b9\uff0c\u60a8\u53ef\u4ee5\u4f7f\u7528\u9012\u5f52 grep \u7684\u6280\u5de7\uff1a</p> <pre><code>$ find . -name '*.cc' | xargs grep -i tcp\n</code></pre> <p>\u60a8\u5c06\u627e\u5230\u4e00\u9875\u53c8\u4e00\u9875\u7684 tcp \u5b9e\u4f8b\uff0c\u6307\u5411\u8fd9\u4e2a\u6587\u4ef6\u3002</p> <p>\u6253\u5f00 TcpSocketBase \u7684\u7c7b\u6587\u6863\uff0c\u8df3\u5230 TraceSources \u5217\u8868\uff0c\u60a8\u4f1a\u53d1\u73b0\uff1a</p> <p>TraceSources</p> <ul> <li>CongestionWindow: TCP \u8fde\u63a5\u7684\u62e5\u585e\u7a97\u53e3</li> <li>Callback signature: ns3::TracedValueCallback::Uint32</li> </ul> <p>\u70b9\u51fb\u56de\u8c03 typedef \u94fe\u63a5\uff0c\u6211\u4eec\u770b\u5230\u60a8\u73b0\u5728\u77e5\u9053\u8981\u671f\u671b\u7684\u7b7e\u540d\uff1a</p> <pre><code>typedef void(* ns3::TracedValueCallback::Int32)(int32_t oldValue, int32_t newValue)\n</code></pre> <p>\u73b0\u5728\uff0c\u60a8\u5e94\u8be5\u5b8c\u5168\u7406\u89e3\u8fd9\u6bb5\u4ee3\u7801\u3002==\u5982\u679c\u6211\u4eec\u6709\u6307\u5411 TcpSocketBase \u5bf9\u8c61\u7684\u6307\u9488\uff0c\u6211\u4eec\u53ef\u4ee5\u8fde\u63a5\u5230\u201cCongestionWindow\u201d\u8ffd\u8e2a\u6e90==\uff0c\u5982\u679c\u63d0\u4f9b\u4e86\u9002\u5f53\u7684\u56de\u8c03\u76ee\u6807\u3002\u8fd9\u4e0e\u6211\u4eec\u5728\u672c\u8282\u5f00\u59cb\u65f6\u5728\u7b80\u5355\u793a\u4f8b\u4e2d\u770b\u5230\u7684\u8ffd\u8e2a\u6e90\u76f8\u540c\uff0c\u53ea\u662f\u8fd9\u6b21\u6211\u4eec\u8ba8\u8bba\u7684\u662f uint32_t \u800c\u4e0d\u662f int32_t\u3002\u800c\u4e14\u6211\u4eec\u77e5\u9053\u5fc5\u987b\u63d0\u4f9b\u5177\u6709\u8be5\u7b7e\u540d\u7684\u56de\u8c03\u51fd\u6570\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#finding-examples","title":"Finding Examples","text":"<p>\u6700\u597d\u603b\u662f\u5c1d\u8bd5\u627e\u5230\u73b0\u6709\u7684\u4ee3\u7801\uff0c\u7136\u540e\u8fdb\u884c\u4fee\u6539\uff0c\u800c\u4e0d\u662f\u4ece\u5934\u5f00\u59cb\u3002\u56e0\u6b64\uff0c\u73b0\u5728\u7684\u9996\u8981\u4efb\u52a1\u662f\u627e\u5230\u5df2\u7ecf\u8fde\u63a5\u5230\u201cCongestionWindow\u201d\u8ffd\u8e2a\u6e90\u7684\u4e00\u4e9b\u4ee3\u7801\uff0c\u5e76\u770b\u770b\u6211\u4eec\u662f\u5426\u53ef\u4ee5\u4fee\u6539\u5b83\u3002\u50cf\u5f80\u5e38\u4e00\u6837\uff0cgrep \u662f\u60a8\u7684\u597d\u670b\u53cb\uff1a</p> <pre><code>$ find . -name '*.cc' | xargs grep CongestionWindow\n</code></pre> <p>\u8fd9\u5c06\u6307\u51fa\u4e00\u4e9b\u6709\u5e0c\u671b\u7684\u5019\u9009\u9879\uff1aexamples/tcp/tcp-large-transfer.cc \u548c src/test/ns3tcp/ns3tcp-cwnd-test-suite.cc\u3002</p> <p>\u6211\u4eec\u8fd8\u6ca1\u6709\u8bbf\u95ee\u4efb\u4f55\u6d4b\u8bd5\u4ee3\u7801\uff0c\u6240\u4ee5\u8ba9\u6211\u4eec\u5148\u770b\u770b\u90a3\u91cc\u3002\u901a\u5e38\u4f1a\u53d1\u73b0\u6d4b\u8bd5\u4ee3\u7801\u76f8\u5f53\u7b80\u6d01\uff0c\u56e0\u6b64\u8fd9\u53ef\u80fd\u662f\u4e00\u4e2a\u975e\u5e38\u597d\u7684\u9009\u62e9\u3002\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00 src/test/ns3tcp/ns3tcp-cwnd-test-suite.cc \u5e76\u641c\u7d22\u201cCongestionWindow\u201d\u3002\u60a8\u4f1a\u627e\u5230\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>ns3TcpSocket-&gt;TraceConnectWithoutContext(\"CongestionWindow\",\n    MakeCallback(&amp;Ns3TcpCwndTestCase1::CwndChange, this));\n</code></pre> <p>\u8fd9\u5e94\u8be5\u8ba9\u60a8\u611f\u5230\u975e\u5e38\u719f\u6089\u3002\u6211\u4eec\u5728\u4e0a\u9762\u63d0\u5230\u8fc7\uff0c\u5982\u679c\u6211\u4eec\u6709\u4e00\u4e2a\u6307\u5411 TcpSocketBase \u7684\u6307\u9488\uff0c\u6211\u4eec\u53ef\u4ee5\u8fde\u63a5\u5230\u201cCongestionWindow\u201d\u8ffd\u8e2a\u6e90\u3002\u8fd9\u6b63\u662f\u6211\u4eec\u5728\u8fd9\u91cc\u6240\u62e5\u6709\u7684\uff1b\u6240\u4ee5\u4e8b\u5b9e\u8bc1\u660e\uff0c\u8fd9\u884c\u4ee3\u7801\u6b63\u662f\u6211\u4eec\u60f3\u8981\u7684\u3002\u8ba9\u6211\u4eec\u7ee7\u7eed\u4ece\u8fd9\u4e2a\u51fd\u6570\uff08Ns3TcpCwndTestCase1::DoRun()\uff09\u4e2d\u63d0\u53d6\u6211\u4eec\u9700\u8981\u7684\u4ee3\u7801\u3002\u5982\u679c\u60a8\u67e5\u770b\u8fd9\u4e2a\u51fd\u6570\uff0c\u4f1a\u53d1\u73b0\u5b83\u770b\u8d77\u6765\u5c31\u50cf\u4e00\u4e2a ns-3 \u811a\u672c\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u5b83\u786e\u5b9e\u5c31\u662f\u3002\u8fd9\u662f\u6d4b\u8bd5\u6846\u67b6\u8fd0\u884c\u7684\u811a\u672c\uff0c\u56e0\u6b64\u6211\u4eec\u53ea\u9700\u5c06\u5176\u63d0\u53d6\u51fa\u6765\uff0c\u7136\u540e\u5728 main \u4e2d\u8fdb\u884c\u5305\u88c5\uff0c\u800c\u4e0d\u662f\u5728 DoRun \u4e2d\u8fdb\u884c\u5305\u88c5\u3002\u4e0e\u5176\u4e00\u6b65\u4e00\u6b65\u5730\u8d70\u8fc7\u8fd9\u4e00\u6b65\uff0c\u4e0d\u5982\u76f4\u63a5\u63d0\u4f9b\u5c06\u6b64\u6d4b\u8bd5\u8fd8\u539f\u4e3a\u672c\u673a ns-3 \u811a\u672c\u7684\u6587\u4ef6 - examples/tutorial/fifth.cc\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#dynamic-trace-sources","title":"Dynamic Trace Sources","text":"<p>\u7b2c\u4e94\u4e2a\u793a\u4f8b fifth.cc \u5c55\u793a\u4e86\u5728\u4f7f\u7528\u4efb\u4f55\u7c7b\u578b\u7684\u8ffd\u8e2a\u6e90\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u7406\u89e3\u7684\u4e00\u6761\u975e\u5e38\u91cd\u8981\u7684\u89c4\u5219\uff1a\u5728\u5c1d\u8bd5\u4f7f\u7528 Config::Connect \u547d\u4ee4\u4e4b\u524d\uff0c\u60a8\u5fc5\u987b\u786e\u4fdd\u8fde\u63a5\u7684\u76ee\u6807\u5b58\u5728\u3002\u8fd9\u4e0e\u8bf4\u5bf9\u8c61\u5fc5\u987b\u5728\u5c1d\u8bd5\u8c03\u7528\u5b83\u4e4b\u524d\u5b9e\u4f8b\u5316\u6ca1\u6709\u4ec0\u4e48\u4e0d\u540c\u3002\u5c3d\u7ba1\u4ee5\u8fd9\u79cd\u65b9\u5f0f\u9648\u8ff0\u65f6\u8fd9\u4f3c\u4e4e\u5f88\u660e\u663e\uff0c\u4f46\u5bf9\u4e8e\u7b2c\u4e00\u6b21\u5c1d\u8bd5\u4f7f\u7528\u8be5\u7cfb\u7edf\u7684\u8bb8\u591a\u4eba\u6765\u8bf4\uff0c\u8fd9\u786e\u5b9e\u662f\u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\u3002</p> <p>\u8ba9\u6211\u4eec\u56de\u5230\u57fa\u7840\u77e5\u8bc6\u3002\u5728\u4efb\u4f55 ns-3 \u811a\u672c\u4e2d\uff0c\u5b58\u5728\u4e09\u4e2a\u57fa\u672c\u7684\u6267\u884c\u9636\u6bb5: \u7b2c\u4e00\u4e2a\u9636\u6bb5\u6709\u65f6\u88ab\u79f0\u4e3a\u201c\u914d\u7f6e\u65f6\u95f4\u201d\u6216\u201c\u8bbe\u7f6e\u65f6\u95f4\u201d\uff0c\u5b58\u5728\u4e8e\u60a8\u7684\u811a\u672c\u7684\u4e3b\u51fd\u6570\u8fd0\u884c\u65f6\uff0c\u4f46\u5728\u8c03\u7528 Simulator::Run \u4e4b\u524d\u3002 \u7b2c\u4e8c\u4e2a\u9636\u6bb5\u6709\u65f6\u88ab\u79f0\u4e3a\u201c\u6a21\u62df\u65f6\u95f4\u201d\uff0c\u5b58\u5728\u4e8e Simulator::Run \u4e3b\u52a8\u6267\u884c\u5176\u4e8b\u4ef6\u7684\u65f6\u95f4\u6bb5\u5185\u3002\u5728\u5b8c\u6210\u6a21\u62df\u6267\u884c\u540e\uff0cSimulator::Run \u5c06\u63a7\u5236\u6743\u8fd4\u56de\u7ed9\u4e3b\u51fd\u6570\u3002 \u5f53\u8fd9\u53d1\u751f\u65f6\uff0c\u811a\u672c\u8fdb\u5165\u53ef\u4ee5\u79f0\u4e3a\u201c\u62c6\u5378\u9636\u6bb5\u201d\u7684\u9636\u6bb5\uff0c\u6b64\u9636\u6bb5\u662f\u5728\u8bbe\u7f6e\u671f\u95f4\u521b\u5efa\u7684\u7ed3\u6784\u548c\u5bf9\u8c61\u88ab\u62c6\u5378\u548c\u91ca\u653e\u7684\u65f6\u95f4\u3002</p> <p>==\u5728\u5c1d\u8bd5\u4f7f\u7528\u8ffd\u8e2a\u7cfb\u7edf\u65f6\u53ef\u80fd\u6700\u5e38\u89c1\u7684\u9519\u8bef\u662f\uff1a\u5047\u8bbe\u5728\u6a21\u62df\u65f6\u95f4\u52a8\u6001\u6784\u5efa\u7684\u5b9e\u4f53\u5728\u914d\u7f6e\u65f6\u95f4\u53ef\u7528\u3002\u7279\u522b\u662f\uff0cns-3 Socket \u662f\u4e00\u4e2a\u901a\u5e38\u7531\u5e94\u7528\u7a0b\u5e8f\u521b\u5efa\u7684\u52a8\u6001\u5bf9\u8c61\uff0c\u7528\u4e8e\u5728\u8282\u70b9\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002ns-3 \u5e94\u7528\u7a0b\u5e8f\u59cb\u7ec8\u4e0e\u5176\u5173\u8054\u7684\u201c\u542f\u52a8\u65f6\u95f4\u201d\u548c\u201c\u505c\u6b62\u65f6\u95f4\u201d\u3002\u5728\u7edd\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u5c06\u4e0d\u4f1a\u5c1d\u8bd5\u5728\u5176\u201c\u542f\u52a8\u65f6\u95f4\u201d\u8c03\u7528\u5176 StartApplication \u65b9\u6cd5\u4e4b\u524d\u521b\u5efa\u52a8\u6001\u5bf9\u8c61\u3002\u8fd9\u662f\u4e3a\u4e86\u786e\u4fdd\u5728\u5e94\u7528\u7a0b\u5e8f\u5c1d\u8bd5\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u4e4b\u524d\uff0c\u6a21\u62df\u5df2\u5b8c\u5168\u914d\u7f6e\uff08\u5728\u914d\u7f6e\u65f6\u95f4\u671f\u95f4\u5c1d\u8bd5\u8fde\u63a5\u5230\u5c1a\u4e0d\u5b58\u5728\u7684\u8282\u70b9\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f\uff09\u3002\u56e0\u6b64\uff0c\u5728\u914d\u7f6e\u9636\u6bb5\uff0c\u5982\u679c\u5b83\u4eec\u4e2d\u7684\u4e00\u4e2a\u5728\u6a21\u62df\u671f\u95f4\u52a8\u6001\u521b\u5efa\uff0c\u5219\u4e0d\u80fd\u5c06\u8ffd\u8e2a\u6e90\u8fde\u63a5\u5230\u8ffd\u8e2a\u63a5\u6536\u5668\u3002==</p> <p>\u89e3\u51b3\u8fd9\u4e2a\u96be\u9898\u7684\u4e24\u79cd\u65b9\u6cd5\u662f\uff1a</p> <ol> <li>\u521b\u5efa\u4e00\u4e2a==\u5728\u52a8\u6001\u5bf9\u8c61\u521b\u5efa\u540e\u8fd0\u884c\u7684\u6a21\u62df\u5668\u4e8b\u4ef6\uff0c\u5e76\u5728\u6267\u884c\u8be5\u4e8b\u4ef6\u65f6\u6302\u94a9\u8ffd\u8e2a==\uff1b</li> <li>\u5728==\u914d\u7f6e\u65f6\u95f4\u521b\u5efa\u52a8\u6001\u5bf9\u8c61\uff0c\u7136\u540e\u5728\u6b64\u65f6\u6302\u94a9\u8ffd\u8e2a\uff0c\u5e76\u5728\u6a21\u62df\u65f6\u95f4\u5c06\u8be5\u5bf9\u8c61\u63d0\u4f9b\u7ed9\u7cfb\u7edf\u4f7f\u7528==\u3002</li> </ol> <p>\u5728 fifth.cc \u793a\u4f8b\u4e2d\uff0c\u6211\u4eec\u91c7\u7528\u4e86\u7b2c\u4e8c\u79cd\u65b9\u6cd5\u3002\u8fd9\u4e2a\u51b3\u7b56\u8981\u6c42\u6211\u4eec\u521b\u5efa TutorialApp \u5e94\u7528\u7a0b\u5e8f\uff0c\u5176\u552f\u4e00\u76ee\u7684\u662f\u5c06 Socket \u4f5c\u4e3a\u53c2\u6570\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#walkthrough-fifthcc","title":"Walkthrough:\u00a0<code>fifth.cc</code>","text":"<p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u6211\u4eec\u901a\u8fc7==\u89e3\u5256\u62e5\u585e\u7a97\u53e3\u6d4b\u8bd5\u6784\u5efa==\u7684\u793a\u4f8b\u7a0b\u5e8f\u3002\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00 examples/tutorial/fifth.cc\u3002\u60a8\u5e94\u8be5\u4f1a\u770b\u5230\u4e00\u4e9b\u770b\u8d77\u6765\u5f88\u719f\u6089\u7684\u4ee3\u7801\uff1a</p> <pre><code>/* -*- Mode:C++; c-file-style:\"gnu\"; indent-tabs-mode:nil; -*- */\n/*\n * This program is free software; you can redistribute it and/or modify\n * it under the terms of the GNU General Public License version 2 as\n * published by the Free Software Foundation;\n *\n * This program is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with this program; if not, write to the Free Software\n * Foundation, Include., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA\n */\n\n#include \"tutorial-app.h\"\n\n#include \"ns3/applications-module.h\"\n#include \"ns3/core-module.h\"\n#include \"ns3/internet-module.h\"\n#include \"ns3/network-module.h\"\n#include \"ns3/point-to-point-module.h\"\n\n#include &lt;fstream&gt;\n\nusing namespace ns3;\n\nNS_LOG_COMPONENT_DEFINE(\"FifthScriptExample\");\n</code></pre> <p>\u63a5\u4e0b\u6765\u7684\u6e90\u4ee3\u7801\u662f\u7f51\u7edc\u793a\u610f\u56fe\u4ee5\u53ca\u4e00\u4e2a\u89e3\u91ca\u4e0a\u8ff0\u5173\u4e8e Socket \u7684\u95ee\u9898\u7684\u6ce8\u91ca\u3002</p> <pre><code>// ===========================================================================\n//\n//         node 0                 node 1\n//   +----------------+    +----------------+\n//   |    ns-3 TCP    |    |    ns-3 TCP    |\n//   +----------------+    +----------------+\n//   |    10.1.1.1    |    |    10.1.1.2    |\n//   +----------------+    +----------------+\n//   | point-to-point |    | point-to-point |\n//   +----------------+    +----------------+\n//           |                     |\n//           +---------------------+\n//                5 Mbps, 2 ms\n//\n//\n// We want to look at changes in the ns-3 TCP congestion window.  We need\n// to crank up a flow and hook the CongestionWindow attribute on the socket\n// of the sender.  Normally one would use an on-off application to generate a\n// flow, but this has a couple of problems.  \n\n// First, the socket of the on-off application is not created until Application Start time, so we wouldn't be\n// able to hook the socket (now) at configuration time.  \n\u56de\u987e\u4e4b\u524d\u63d0\u5230\u7684\u987a\u5e8f\u95ee\u9898\uff1a\u914d\u7f6e\u65f6\u95f4 - \u6a21\u62df\u65f6\u95f4 - \u62c6\u5378\u65f6\u95f4\n\u8fd9\u91cc\u7684\u610f\u601d\u662f\u5e94\u7528\u7a0b\u5e8f\u7684\u4f7f\u7528\u662f\u5728\u6a21\u62df\u65f6\u95f4\uff0c\u5728\u6b64\u4e4b\u524d\u9700\u8981\u5b8c\u6210\u5bf9\u5e94\u7684\u914d\u7f6e\u65f6\u95f4\u5185\u5bb9\n\n// Second, even if we could arrange a call after start time, the socket is not public so we\n// couldn't get at it.\n\u5373\u4f7f\u5f00\u59cb\u540e\u80fd\u53d1\u51fa\u6307\u4ee4\uff0c\u7531\u4e8esocket\u7684\u7279\u5f02\u6027\uff0c\u6211\u4eec\u4e0d\u4e00\u5b9a\u80fd\u5728\u6307\u5b9a\u7aef\u53e3\u6536\u5230calling\n\n// So, we can cook up a simple version of the on-off application that does what\n// we want.  On the plus side we don't need all of the complexity of the on-off\n// application.  On the minus side, we don't have a helper, so we have to get\n// a little more involved in the details, but this is trivial.\n//\n// So first, we create a socket and do the trace connect on it; then we pass\n// this socket into the constructor of our simple application which we then\n// install in the source node.\n// ===========================================================================\n</code></pre> <p>\u8fd9\u4e5f\u5e94\u8be5\u662f\u4e0d\u8a00\u81ea\u660e\u7684\u3002</p> <p>ns-3 \u7684\u65e9\u671f\u7248\u672c\u5728\u6b64\u7a0b\u5e8f\u4e2d==\u4f7f\u7528\u4e86\u540d\u4e3a MyApp \u7684\u81ea\u5b9a\u4e49\u5e94\u7528\u7a0b\u5e8f==\u3002\u5f53\u524d\u7248\u672c\u7684 ns-3 \u5c06\u6b64\u79fb\u52a8\u5230\u4e86\u4e00\u4e2a\u5355\u72ec\u7684\u5934\u6587\u4ef6\uff08<code>tutorial-app.h</code>\uff09\u548c\u5b9e\u73b0\u6587\u4ef6\uff08<code>tutorial-app.cc</code>\uff09\u4e2d\u3002==\u8fd9\u4e2a\u7b80\u5355\u7684\u5e94\u7528\u7a0b\u5e8f\u5141\u8bb8\u5728\u914d\u7f6e\u65f6\u95f4\u521b\u5efa <code>Socket</code>\u3002==</p> <pre><code>/**\n * Tutorial - a simple Application sending packets.\n */\nclass TutorialApp : public Application // \u62e5\u585e\u7a97\u53e3\u7684\u642d\u5efa\n{\n  public:\n    TutorialApp();\n    ~TutorialApp() override;\n    /**\n     * Register this type.\n     * \\return The TypeId.\n     */\n\n    static TypeId GetTypeId();\n\n    /**\n     * Setup the socket\uff08\u8bbe\u7f6e socket_API \u7684\u4fe1\u606f\uff09\n     * \\param socket\uff1a The socket.\n     * \\param address\uff1a The destination address.\n     * \\param packetSize\uff1a The packet size to transmit.\n     * \\param nPackets\uff1a The number of packets to transmit.\n     * \\param dataRate\uff1a the data rate to use.\n     */\n    void Setup(Ptr&lt;Socket&gt; socket,\n               Address address,\n               uint32_t packetSize,\n               uint32_t nPackets,\n               DataRate dataRate);\n\n  private:\n    void StartApplication() override;\n    void StopApplication() override;\n\n    /// Schedule a new transmission.\n    void ScheduleTx();\n    /// Send a packet.\n    void SendPacket();\n\n    Ptr&lt;Socket&gt; m_socket;   //!&lt; The transmission socket.\n    Address m_peer;         //!&lt; The destination address.\n    uint32_t m_packetSize;  //!&lt; The packet size.\n    uint32_t m_nPackets;    //!&lt; The number of packets to send.\n    DataRate m_dataRate;    //!&lt; The data rate to use.\n    EventId m_sendEvent;    //!&lt; Send event.\n    bool m_running;         //!&lt; True if the application is running.\n    uint32_t m_packetsSent; //!&lt; The number of packets sent.\n};\n</code></pre> <p>\u60a8\u53ef\u4ee5\u770b\u5230\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u81ea ns-3 \u7684 Application \u7c7b\u3002\u5982\u679c\u60a8\u5bf9\u7ee7\u627f\u7684\u5185\u5bb9\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u67e5\u770b <code>src/network/model/application.h</code>\u3002TutorialApp \u7c7b\u5fc5\u987b\u91cd\u5199 StartApplication \u548c StopApplication \u65b9\u6cd5\u3002\u8fd9\u4e9b\u65b9\u6cd5\u5728\u6a21\u62df\u671f\u95f4\u9700\u8981 TutorialApp \u5f00\u59cb\u548c\u505c\u6b62\u53d1\u9001\u6570\u636e\u65f6\u81ea\u52a8\u8c03\u7528\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#startingstopping-applications","title":"Starting/Stopping Applications","text":"<p>\u8fd9\u6bb5\u5185\u5bb9\u6d89\u53ca\u4e86 ==ns-3 \u6a21\u62df\u5668\u4e2d\u4e8b\u4ef6\u5982\u4f55\u542f\u52a8\u7684\u4e00\u4e9b\u7ec6\u8282==\u3002</p> <p>\u5982\u679c\u60a8\u4e0d\u6253\u7b97\u6df1\u5165\u4e86\u89e3 ns-3 \u7684\u5185\u90e8\u5de5\u4f5c\u539f\u7406\uff0c\u53ef\u4ee5\u5ffd\u7565\u8fd9\u4e00\u90e8\u5206\u3002\u7136\u800c\uff0c==\u5982\u679c\u60a8\u8ba1\u5212\u6df1\u5165\u5f00\u53d1\u65b0\u7684\u6a21\u578b\uff0c\u4e86\u89e3\u8fd9\u4e00\u90e8\u5206\u53ef\u80fd\u662f\u6709\u76ca\u7684==\u3002</p> <p>\u5728 ns-3 \u811a\u672c\u4e2d\uff0c\u6700\u5e38\u89c1\u7684\u542f\u52a8\u4e8b\u4ef6\u7684\u65b9\u5f0f\u4e4b\u4e00\u662f\u542f\u52a8\u4e00\u4e2a Application\u3002\u8fd9\u662f\u901a\u8fc7\u4ee5\u4e0b\uff08\u5e0c\u671b\u719f\u6089\u7684\uff09ns-3 \u811a\u672c\u4ee3\u7801\u5b9e\u73b0\u7684\uff1a</p> <pre><code>ApplicationContainer apps = ...\napps.Start(Seconds(1.0));\napps.Stop(Seconds(10.0));\n</code></pre> <p>Application \u5bb9\u5668\u4ee3\u7801\uff08\u5982\u679c\u60a8\u611f\u5174\u8da3\uff0c\u53ef\u4ee5\u67e5\u770b <code>src/network/helper/application-container.h</code>\uff09\u904d\u5386\u5176\u5305\u542b\u7684\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u8c03\u7528\uff1a</p> <pre><code>app-&gt;SetStartTime(startTime);\n</code></pre> <p>\u4f5c\u4e3a <code>apps.Start</code> \u8c03\u7528\u7684\u7ed3\u679c\uff0c\u4ee5\u53ca</p> <pre><code>app-&gt;SetStopTime(stopTime);\n</code></pre> <p>\u4f5c\u4e3a <code>apps.Stop</code> \u8c03\u7528\u7684\u7ed3\u679c\u3002</p> <p>\u8fd9\u4e9b\u8c03\u7528\u7684\u6700\u7ec8\u7ed3\u679c\u662f\u6211\u4eec\u5e0c\u671b\u6a21\u62df\u5668\u5728\u9002\u5f53\u7684\u65f6\u95f4\u81ea\u52a8\u8c03\u7528\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\uff0c\u544a\u8bc9\u5b83\u4eec\u4f55\u65f6\u542f\u52a8\u548c\u505c\u6b62\u3002\u5bf9\u4e8e TutorialApp\uff0c\u5b83\u7ee7\u627f\u81ea Application \u7c7b\u5e76\u91cd\u5199\u4e86 <code>StartApplication</code> \u548c <code>StopApplication</code> \u65b9\u6cd5\u3002\u8fd9\u4e9b\u65b9\u6cd5\u662f\u7531\u6a21\u62df\u5668\u5728\u9002\u5f53\u7684\u65f6\u95f4\u81ea\u52a8\u8c03\u7528\u7684\u51fd\u6570\u3002\u5728 TutorialApp \u7684\u60c5\u51b5\u4e0b\uff0c\u60a8\u4f1a\u53d1\u73b0 <code>TutorialApp::StartApplication</code> \u6267\u884c\u4e86\u5bf9\u5957\u63a5\u5b57\u7684\u521d\u59cb\u7ed1\u5b9a\u548c\u8fde\u63a5\uff0c\u7136\u540e\u901a\u8fc7\u8c03\u7528 <code>TutorialApp::SendPacket</code> \u5f00\u59cb\u4e86\u6570\u636e\u6d41\u3002<code>TutorialApp::StopApplication</code> \u901a\u8fc7\u53d6\u6d88\u4efb\u4f55\u5f85\u5904\u7406\u7684\u53d1\u9001\u4e8b\u4ef6\u505c\u6b62\u751f\u6210\u6570\u636e\u5305\uff0c\u7136\u540e\u5173\u95ed\u5957\u63a5\u5b57\u3002</p> <p>ns-3 \u7684\u4e00\u4e2a\u597d\u5904\u662f\u60a8\u53ef\u4ee5\u5b8c\u5168\u5ffd\u7565\u5e94\u7528\u7a0b\u5e8f\u5728\u4f55\u65f6\u201c\u81ea\u52a8\u201d\u7531\u6a21\u62df\u5668\u5728\u6b63\u786e\u65f6\u95f4\u8c03\u7528\u7684\u5b9e\u73b0\u7ec6\u8282\u3002\u4f46\u662f\uff0c\u65e2\u7136\u6211\u4eec\u5df2\u7ecf\u6df1\u5165\u5230 ns-3 \u7684\u5185\u90e8\uff0c\u90a3\u5c31\u7ee7\u7eed\u5427\u3002</p> <p>\u5982\u679c\u60a8\u67e5\u770b <code>src/network/model/application.cc</code>\uff0c\u60a8\u4f1a\u53d1\u73b0 Application \u7684 <code>SetStartTime</code> \u65b9\u6cd5\u53ea\u662f\u8bbe\u7f6e\u4e86\u6210\u5458\u53d8\u91cf <code>m_startTime</code>\uff0c\u800c <code>SetStopTime</code> \u65b9\u6cd5\u53ea\u662f\u8bbe\u7f6e\u4e86 <code>m_stopTime</code>\u3002\u7136\u540e\uff0c\u5982\u679c\u6ca1\u6709\u4e00\u4e9b\u63d0\u793a\uff0c\u8fd9\u91cc\u7684\u8e2a\u8ff9\u53ef\u80fd\u4f1a\u4e2d\u65ad\u3002</p> <p>\u91cd\u65b0\u8ffd\u8e2a\u7684\u5173\u952e\u662f\u77e5\u9053\u6709\u4e00\u4e2a\u5168\u5c40\u5217\u8868\uff0c\u5176\u4e2d\u5305\u542b\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8282\u70b9\u3002\u6bcf\u5f53\u5728\u6a21\u62df\u4e2d\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\u65f6\uff0c\u8be5\u8282\u70b9\u7684\u6307\u9488\u5c31\u4f1a\u6dfb\u52a0\u5230\u5168\u5c40 NodeList\u3002</p> <p>\u67e5\u770b <code>src/network/model/node-list.cc</code>\uff0c\u5e76\u641c\u7d22 NodeList::Add\u3002\u516c\u5171\u9759\u6001\u5b9e\u73b0\u8c03\u7528\u4e86\u4e00\u4e2a\u540d\u4e3a <code>NodeListPriv::Add</code> \u7684\u79c1\u6709\u5b9e\u73b0\u3002\u8fd9\u662f ns-3 \u4e2d\u4e00\u4e2a\u76f8\u5bf9\u5e38\u89c1\u7684\u4e60\u60ef\u7528\u6cd5\u3002\u56e0\u6b64\uff0c\u67e5\u770b <code>NodeListPriv::Add</code>\u3002\u5728\u8fd9\u91cc\uff0c\u60a8\u4f1a\u53d1\u73b0\uff1a</p> <pre><code>Simulator::ScheduleWithContext(index, TimeStep(0), &amp;Node::Initialize, node);\n</code></pre> <p>\u8fd9\u544a\u8bc9\u6211\u4eec\uff0c\u6bcf\u5f53\u5728\u6a21\u62df\u4e2d\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\u65f6\uff0c\u4f5c\u4e3a\u526f\u4f5c\u7528\uff0c\u5c06\u4e3a\u8be5\u8282\u70b9\u8c03\u5ea6\u4e00\u6b21 <code>Initialize</code> \u65b9\u6cd5\u7684\u8c03\u7528\uff0c\u8be5\u8c03\u7528\u5728\u65f6\u95f4\u4e3a\u96f6\u65f6\u53d1\u751f\u3002\u4e0d\u8981\u5bf9\u8fd9\u4e2a\u540d\u5b57\u8bfb\u592a\u591a\uff0c\u5b83\u5e76\u4e0d\u610f\u5473\u7740\u8282\u70b9\u5c06\u8981\u5f00\u59cb\u505a\u4ec0\u4e48\uff0c\u5b83\u53ef\u4ee5\u89e3\u91ca\u4e3a\u5bf9\u8282\u70b9\u7684\u4e00\u79cd\u4fe1\u606f\u6027\u8c03\u7528\uff0c\u544a\u8bc9\u5b83\u6a21\u62df\u5df2\u7ecf\u5f00\u59cb\uff0c\u800c\u4e0d\u662f\u4e00\u79cd\u52a8\u4f5c\u6027\u8c03\u7528\uff0c\u544a\u8bc9\u8282\u70b9\u5f00\u59cb\u6267\u884c\u67d0\u4e9b\u64cd\u4f5c\u3002</p> <p>\u56e0\u6b64\uff0c<code>NodeList::Add</code>\u95f4\u63a5\u5730\u4e3a\u65f6\u95f4\u96f6\u8c03\u5ea6\u4e86\u4e00\u4e2a\u5bf9 <code>Node::Initialize</code> \u7684\u8c03\u7528\uff0c\u4ee5\u5411\u65b0\u6dfb\u52a0\u7684\u8282\u70b9\u544a\u77e5\u6a21\u62df\u5df2\u7ecf\u5f00\u59cb\u3002\u5982\u679c\u60a8\u67e5\u770b <code>src/network/model/node.h</code>\uff0c\u60a8\u5c06\u5728\u5176\u4e2d\u627e\u4e0d\u5230\u540d\u4e3a <code>Node::Initialize</code> \u7684\u65b9\u6cd5\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c<code>Initialize</code> \u65b9\u6cd5\u662f\u4ece <code>Object</code> \u7c7b\u7ee7\u627f\u7684\u3002\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u5bf9\u8c61\u90fd\u53ef\u4ee5\u5728\u6a21\u62df\u5f00\u59cb\u65f6\u5f97\u5230\u901a\u77e5\uff0c\u800c <code>Node</code> \u7c7b\u7684\u5bf9\u8c61\u53ea\u662f\u8fd9\u4e9b\u5bf9\u8c61\u4e2d\u7684\u4e00\u79cd\u3002</p> <p>\u63a5\u4e0b\u6765\uff0c\u67e5\u770b <code>src/core/model/object.cc</code> \u5e76\u641c\u7d22 <code>Object::Initialize</code>\u3002\u7531\u4e8e ns-3 \u5bf9\u8c61\u652f\u6301\u805a\u5408\uff0c\u8be5\u4ee3\u7801\u5e76\u4e0d\u50cf\u60a8\u53ef\u80fd\u671f\u671b\u7684\u90a3\u6837\u76f4\u63a5\u3002<code>Object::Initialize</code> \u4e2d\u7684\u4ee3\u7801\u7136\u540e\u904d\u5386\u4e86\u6240\u6709\u5df2\u805a\u5408\u5728\u4e00\u8d77\u7684\u5bf9\u8c61\uff0c\u5e76\u8c03\u7528\u5b83\u4eec\u7684 <code>DoInitialize</code> \u65b9\u6cd5\u3002\u8fd9\u662f ns-3 \u4e2d\u975e\u5e38\u5e38\u89c1\u7684\u4e00\u79cd\u4e60\u60ef\u7528\u6cd5\uff0c\u6709\u65f6\u88ab\u79f0\u4e3a\u201c\u6a21\u677f\u8bbe\u8ba1\u6a21\u5f0f\u201d\uff1a\u516c\u5171\u975e\u865a\u62df API \u65b9\u6cd5\uff0c\u8de8\u5b9e\u73b0\u4fdd\u6301\u4e0d\u53d8\uff0c\u5e76\u8c03\u7528\u4e00\u4e2a\u79c1\u6709\u865a\u62df\u5b9e\u73b0\u65b9\u6cd5\uff0c\u7531\u5b50\u7c7b\u7ee7\u627f\u548c\u5b9e\u73b0\u3002\u8fd9\u4e9b\u540d\u79f0\u901a\u5e38\u662f\u50cf <code>MethodName</code> \u8fd9\u6837\u7684\u516c\u5171 API\uff0c\u4ee5\u53ca <code>DoMethodName</code> \u8fd9\u6837\u7684\u79c1\u6709 API\u3002</p> <p>\u8fd9\u544a\u8bc9\u6211\u4eec\u5e94\u8be5\u5728 <code>src/network/model/node.cc</code> \u4e2d\u5bfb\u627e <code>Node::DoInitialize</code> \u65b9\u6cd5\uff0c\u4ee5\u7ee7\u7eed\u6211\u4eec\u7684\u8e2a\u8ff9\u3002\u5982\u679c\u60a8\u5b9a\u4f4d\u5230\u4ee3\u7801\uff0c\u60a8\u5c06\u627e\u5230\u4e00\u4e2a\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u5faa\u73af\u904d\u5386\u8282\u70b9\u4e2d\u7684\u6240\u6709\u8bbe\u5907\uff0c\u7136\u540e\u8c03\u7528 <code>device-&gt;Initialize</code> \u548c <code>application-&gt;Initialize</code> \u5206\u522b\u3002</p> <p>\u60a8\u53ef\u80fd\u5df2\u7ecf\u77e5\u9053\uff0c<code>Device</code> \u548c <code>Application</code> \u7c7b\u90fd\u662f\u4ece <code>Object</code> \u7c7b\u7ee7\u627f\u7684\uff0c\u6240\u4ee5\u4e0b\u4e00\u6b65\u5c06\u662f\u67e5\u770b\u5f53\u8c03\u7528 <code>Application::DoInitialize</code> \u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\u3002\u67e5\u770b <code>src/network/model/application.cc</code>\uff0c\u60a8\u5c06\u627e\u5230\uff1a</p> <pre><code>void\nApplication::DoInitialize()\n{\n  NS_LOG_FUNCTION(this);\n  m_startEvent = Simulator::Schedule(m_startTime, &amp;Application::StartApplication, this);\n  if (m_stopTime != TimeStep(0))\n    {\n      m_stopEvent = Simulator::Schedule(m_stopTime, &amp;Application::StopApplication, this);\n    }\n  Object::DoInitialize();\n}\n</code></pre> <p>\u5230\u6b64\u4e3a\u6b62\uff0c\u6211\u4eec\u7ec8\u4e8e\u5230\u8fbe</p> <p>\u4e86\u8e2a\u8ff9\u7684\u5c3d\u5934\u3002\u5982\u679c\u60a8\u4e00\u76f4\u4fdd\u6301\u6e05\u6670\uff0c\u5f53\u60a8\u5b9e\u73b0\u4e00\u4e2a ns-3 Application \u65f6\uff0c\u60a8\u7684\u65b0\u5e94\u7528\u7a0b\u5e8f\u7ee7\u627f\u81ea <code>Application</code> \u7c7b\u3002\u60a8\u91cd\u5199\u4e86 <code>StartApplication</code> \u548c <code>StopApplication</code> \u65b9\u6cd5\uff0c\u5e76\u63d0\u4f9b\u4e86\u542f\u52a8\u548c\u505c\u6b62\u4ece\u60a8\u7684\u65b0\u5e94\u7528\u7a0b\u5e8f\u6d41\u51fa\u6570\u636e\u7684\u673a\u5236\u3002\u5f53\u5728\u6a21\u62df\u4e2d\u521b\u5efa\u4e00\u4e2a\u8282\u70b9\u65f6\uff0c\u5b83\u88ab\u6dfb\u52a0\u5230\u4e00\u4e2a\u5168\u5c40 NodeList\u3002\u5c06\u8282\u70b9\u6dfb\u52a0\u5230\u6b64 NodeList \u7684\u64cd\u4f5c\u5bfc\u81f4\u4e3a\u60a8\u7684\u65b0\u8282\u70b9\u8c03\u5ea6\u4e00\u4e2a\u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u5c06\u5728\u6a21\u62df\u5f00\u59cb\u65f6\u8c03\u7528\u8be5\u8282\u70b9\u7684 <code>Initialize</code> \u65b9\u6cd5\u3002\u7531\u4e8e\u8282\u70b9\u7ee7\u627f\u81ea <code>Object</code>\uff0c\u56e0\u6b64\u5f53\u6a21\u62df\u5f00\u59cb\u65f6\u8c03\u7528\u4e86\u8be5\u8282\u70b9\u7684 <code>Object::Initialize</code> \u65b9\u6cd5\uff0c\u8fdb\u800c\u8c03\u7528\u4e86\u805a\u5408\u5230\u8282\u70b9\u7684\u6240\u6709\u5bf9\u8c61\uff08\u4f8b\u5982\u79fb\u52a8\u6a21\u578b\uff09\u7684 <code>DoInitialize</code> \u65b9\u6cd5\u3002\u7531\u4e8e\u8282\u70b9\u5bf9\u8c61\u5df2\u7ecf\u91cd\u5199\u4e86 <code>DoInitialize</code>\uff0c\u5728\u6a21\u62df\u5f00\u59cb\u65f6\u8c03\u7528\u4e86\u8be5\u65b9\u6cd5\u3002<code>Node::DoInitialize</code> \u65b9\u6cd5\u8c03\u7528\u8282\u70b9\u4e0a\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u7684 <code>Initialize</code> \u65b9\u6cd5\u3002\u7531\u4e8e\u5e94\u7528\u7a0b\u5e8f\u4e5f\u662f\u5bf9\u8c61\uff0c\u56e0\u6b64\u8fd9\u5c06\u5bfc\u81f4\u8c03\u7528 <code>Application::DoInitialize</code>\u3002\u5f53\u8c03\u7528 <code>Application::DoInitialize</code> \u65f6\uff0c\u5b83\u4e3a <code>StartApplication</code> \u548c <code>StopApplication</code> \u8c03\u7528\u5b89\u6392\u4e86\u4e8b\u4ef6\u3002\u8fd9\u4e9b\u8c03\u7528\u65e8\u5728\u5728\u6a21\u62df\u671f\u95f4\u5f00\u59cb\u548c\u505c\u6b62\u6570\u636e\u4ece\u5e94\u7528\u7a0b\u5e8f\u6d41\u51fa\u3002</p> <p>\u8fd9\u662f\u53c8\u4e00\u4e2a\u76f8\u5bf9\u8f83\u957f\u7684\u65c5\u7a0b\uff0c\u4f46\u8fd9\u53ea\u9700\u8981\u4e00\u6b21\uff0c\u60a8\u73b0\u5728\u7406\u89e3\u4e86 ns-3 \u7684\u53e6\u4e00\u4e2a\u975e\u5e38\u6df1\u5c42\u6b21\u7684\u90e8\u5206\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#the-tutorialapp-application","title":"The TutorialApp Application","text":"<p><code>TutorialApp</code> \u5e94\u7528\u7a0b\u5e8f\u5f53\u7136\u9700\u8981\u4e00\u4e2a\u6784\u9020\u51fd\u6570\u548c\u4e00\u4e2a\u6790\u6784\u51fd\u6570\uff1a</p> <pre><code>TutorialApp::TutorialApp()\n    : m_socket(nullptr),\n      m_peer(),\n      m_packetSize(0),\n      m_nPackets(0),\n      m_dataRate(0),\n      m_sendEvent(),\n      m_running(false),\n      m_packetsSent(0)\n{\n}\n\nTutorialApp::~TutorialApp()\n{\n    m_socket = nullptr;\n}\n</code></pre> <p>\u4e0b\u9762\u8fd9\u90e8\u5206\u4ee3\u7801\u7684\u5b58\u5728\u6b63\u662f\u6211\u4eec\u6700\u521d\u7f16\u5199\u8fd9\u4e2a <code>Application</code> \u7684\u6574\u4e2a\u539f\u56e0\u3002</p> <pre><code>void\nTutorialApp::Setup(Ptr&lt;Socket&gt; socket,\n                   Address address,\n                   uint32_t packetSize,\n                   uint32_t nPackets,\n                   DataRate dataRate)\n{\n    m_socket = socket;\n    m_peer = address;\n    m_packetSize = packetSize;\n    m_nPackets = nPackets;\n    m_dataRate = dataRate;\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5e94\u8be5\u76f8\u5f53\u5bb9\u6613\u7406\u89e3\u3002\u6211\u4eec\u53ea\u662f\u5728==\u521d\u59cb\u5316\u6210\u5458\u53d8\u91cf==\u3002\u4ece\u8ddf\u8e2a\u7684\u89d2\u5ea6\u6765\u770b\uff0c\u5176\u4e2d\u4e00\u4e2a\u91cd\u8981\u7684\u53d8\u91cf\u662f <code>Ptr&lt;Socket&gt; socket</code>\uff0c\u5728\u914d\u7f6e\u65f6\u6211\u4eec\u9700\u8981\u5c06\u5176\u63d0\u4f9b\u7ed9\u5e94\u7528\u7a0b\u5e8f\u3002\u56de\u60f3\u4e00\u4e0b\uff0c\u6211\u4eec\u5c06\u521b\u5efa <code>Socket</code> \u4f5c\u4e3a <code>TcpSocket</code>\uff08\u7531 <code>TcpSocketBase</code> \u5b9e\u73b0\uff09\uff0c\u5e76\u5728\u5c06\u5176\u4f20\u9012\u7ed9 <code>Setup</code> \u65b9\u6cd5\u4e4b\u524d\u6302\u63a5\u5176\u201cCongestionWindow\u201d\u8ddf\u8e2a\u6e90\u3002</p> <pre><code>void\nTutorialApp::StartApplication()\n{\n    m_running = true;          // \u5f00\u59cb\u521b\u5efa\u6a21\u62df\u4e8b\u4ef6\n    m_packetsSent = 0;         // \u5f53\u524d\u53d1\u5305\u6570\u662f0\n    m_socket-&gt;Bind();          // \u5728\u8fde\u63a5\u7684\u672c\u5730\u7aef\u6267\u884c\u4e86\u6240\u9700\u7684\u5de5\u4f5c\n    m_socket-&gt;Connect(m_peer); // \u6267\u884c\u4e0e TCP \u5728 `Address m_peer` \u4e0a\u5efa\u7acb\u8fde\u63a5\u6709\u5173\u7684\u64cd\u4f5c\n    SendPacket();\n}\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u662f\u8986\u76d6\u5b9e\u73b0\u7684 <code>Application::StartApplication</code>\uff0c\u5b83\u5c06==\u7531\u6a21\u62df\u5668\u5728\u9002\u5f53\u7684\u65f6\u95f4\u81ea\u52a8\u8c03\u7528\u4ee5\u542f\u52a8\u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u8fd0\u884c==\u3002\u4f60\u53ef\u4ee5\u770b\u5230\u5b83==\u6267\u884c\u4e86 <code>Socket Bind</code> \u64cd\u4f5c==\u3002\u5982\u679c\u4f60\u719f\u6089\u4f2f\u514b\u5229\u5957\u63a5\u5b57\uff0c\u8fd9\u5e94\u8be5\u4e0d\u4f1a\u8ba9\u4f60\u611f\u5230\u60ca\u8bb6\u3002==\u5b83\u5728\u8fde\u63a5\u7684\u672c\u5730\u7aef\u6267\u884c\u4e86\u6240\u9700\u7684\u5de5\u4f5c==\uff0c\u5c31\u50cf\u4f60\u53ef\u80fd\u671f\u671b\u7684\u90a3\u6837\u3002==\u63a5\u4e0b\u6765\u7684 <code>Connect</code> \u5c06\u6267\u884c\u4e0e TCP \u5728 <code>Address m_peer</code> \u4e0a\u5efa\u7acb\u8fde\u63a5\u6240\u9700\u7684\u64cd\u4f5c==\u3002</p> <p>\u73b0\u5728\u5e94\u8be5\u6e05\u695a\u4e3a\u4ec0\u4e48\u6211\u4eec\u9700\u8981\u5c06\u8bb8\u591a\u5de5\u4f5c\u63a8\u8fdf\u5230\u6a21\u62df\u65f6\u95f4\uff0c\u56e0\u4e3a <code>Connect</code> \u9700\u8981\u4e00\u4e2a\u5b8c\u5168\u8fd0\u4f5c\u7684\u7f51\u7edc\u6765\u5b8c\u6210\u3002\u5728 <code>Connect</code> \u4e4b\u540e\uff0c\u5e94\u7528\u7a0b\u5e8f\u901a\u8fc7\u8c03\u7528 <code>SendPacket</code> \u5f00\u59cb\u521b\u5efa\u6a21\u62df\u4e8b\u4ef6\u3002</p> <p>\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u6bb5\u5411 <code>Application</code> \u89e3\u91ca\u4e86\u5982\u4f55\u505c\u6b62\u521b\u5efa\u6a21\u62df\u4e8b\u4ef6\u3002</p> <pre><code>void\nTutorialApp::StopApplication()\n{\n    m_running = false;\n\n    if (m_sendEvent.IsRunning()) // \u8bf4\u660e\u8be5`Event` \u5904\u4e8e\u7b49\u5f85\u6267\u884c\u6216\u6b63\u5728\u6267\u884c\u7684\u72b6\u6001\n    {\n        Simulator::Cancel(m_sendEvent); // \u53d6\u6d88\u8be5\u4e8b\u4ef6\uff0c\u5c06\u5176\u4ece\u6a21\u62df\u5668\u4e8b\u4ef6\u961f\u5217\u4e2d\u79fb\n    }\n\n    if (m_socket)\n    {\n        m_socket-&gt;Close();\n    }\n}\n\n\u5177\u4f53\u89e3\u91ca\u89c1\u4e0b\u6587\uff1a\n</code></pre> <p>\u6bcf\u6b21\u5b89\u6392\u6a21\u62df\u4e8b\u4ef6\u65f6\uff0c\u90fd\u4f1a\u521b\u5efa\u4e00\u4e2a <code>Event</code>\uff1a - \u5982\u679c <code>Event</code> \u5904\u4e8e\u7b49\u5f85\u6267\u884c \u6216\u6b63\u5728\u6267\u884c \u7684\u72b6\u6001\uff0c\u5b83\u7684\u65b9\u6cd5 <code>IsRunning</code> \u5c06\u8fd4\u56de <code>true</code> - \u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\uff0c\u5982\u679c <code>IsRunning()</code> \u8fd4\u56de true\uff0c\u6211\u4eec\u4f1a\u53d6\u6d88\u8be5\u4e8b\u4ef6\uff0c\u5c06\u5176\u4ece\u6a21\u62df\u5668\u4e8b\u4ef6\u961f\u5217\u4e2d\u79fb\u9664\u3002 - \u901a\u8fc7\u8fd9\u6837\u505a\uff0c\u6211\u4eec\u6253\u7834\u4e86 <code>Application</code> \u7528\u4e8e\u6301\u7eed\u53d1\u9001 <code>Packets</code> \u7684\u4e8b\u4ef6\u94fe\uff0c\u4f7f\u5f97 <code>Application</code> \u53d8\u5f97\u9759\u6b62\u3002 - \u5728\u9759\u6b62\u4e86 <code>Application</code> \u4e4b\u540e\uff0c\u6211\u4eec\u5173\u95ed\u5957\u63a5\u5b57\uff0c\u4ece\u800c\u62c6\u9664\u4e86TCP\u8fde\u63a5\u3002</p> <p>\u5957\u63a5\u5b57\u5b9e\u9645\u4e0a\u662f\u5728\u6790\u6784\u51fd\u6570\u4e2d\u5220\u9664\u7684\uff0c\u5f53\u6267\u884c <code>m_socket = 0</code> \u65f6\u3002\u8fd9\u4f1a\u5220\u9664\u5bf9\u5e95\u5c42 <code>Ptr&lt;Socket&gt;</code> \u7684\u6700\u540e\u4e00\u4e2a\u5f15\u7528\uff0c\u4ece\u800c\u8c03\u7528\u8be5\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570\u3002</p> <p>\u56de\u60f3\u4e00\u4e0b\uff0c<code>StartApplication</code> \u8c03\u7528\u4e86 <code>SendPacket</code> \u6765\u542f\u52a8\u63cf\u8ff0 <code>Application</code> \u884c\u4e3a\u7684\u4e8b\u4ef6\u94fe\u3002</p> <pre><code>void\nTutorialApp::SendPacket()\n{\n    Ptr&lt;Packet&gt; packet = Create&lt;Packet&gt;(m_packetSize);\n    m_socket-&gt;Send(packet);\n\n    if (++m_packetsSent &lt; m_nPackets)\n    {\n        ScheduleTx();\n    }\n}\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u4f60\u770b\u5230 <code>SendPacket</code> \u786e\u5b9e\u662f\u8fd9\u6837\u505a\u7684\u3002\u5b83\u521b\u5efa\u4e86\u4e00\u4e2a <code>Packet</code>\uff0c\u7136\u540e\u6267\u884c\u4e86\u4e00\u4e2a <code>Send</code> \u64cd\u4f5c\uff0c\u5982\u679c\u4f60\u4e86\u89e3\u4f2f\u514b\u5229\u5957\u63a5\u5b57\uff0c\u8fd9\u53ef\u80fd\u662f\u4f60\u9884\u671f\u770b\u5230\u7684\u3002</p> <p><code>Application</code> \u7684\u8d23\u4efb\u662f\u7ee7\u7eed\u5b89\u6392\u4e8b\u4ef6\u94fe\uff0c\u56e0\u6b64\u63a5\u4e0b\u6765\u7684\u4ee3\u7801\u8c03\u7528 <code>ScheduleTx</code> \u6765\u5b89\u6392\u53e6\u4e00\u4e2a\u4f20\u8f93\u4e8b\u4ef6\uff08<code>SendPacket</code>\uff09\uff0c\u76f4\u5230 <code>Application</code> \u51b3\u5b9a\u5df2\u7ecf\u53d1\u9001\u8db3\u591f\u7684\u6570\u636e\u3002</p> <pre><code>void\nTutorialApp::ScheduleTx()\n{\n    if (m_running)\n    {\n        Time tNext(Seconds(m_packetSize * 8 / static_cast&lt;double&gt;(m_dataRate.GetBitRate())));\n        m_sendEvent = Simulator::Schedule(tNext, &amp;TutorialApp::SendPacket, this);\n    }\n}\n</code></pre> <p>\u5728\u8fd9\u91cc\uff0c\u4f60\u53ef\u4ee5\u770b\u5230 <code>ScheduleTx</code> \u6b63\u662f\u8fd9\u6837\u505a\u7684\uff1a - \u5982\u679c <code>Application</code> \u6b63\u5728\u8fd0\u884c\uff08\u5982\u679c <code>StopApplication</code> \u6ca1\u6709\u88ab\u8c03\u7528\uff09\uff0c\u5b83\u5c06\u5b89\u6392\u4e00\u4e2a\u65b0\u7684\u4e8b\u4ef6\uff0c\u8be5\u4e8b\u4ef6\u518d\u6b21\u8c03\u7528 <code>SendPacket</code>\u3002 - \u4ed4\u7ec6\u7684\u8bfb\u8005\u53ef\u80fd\u4f1a\u6ce8\u610f\u5230\u4e00\u4e9b\u5e38\u5e38\u8ba9\u65b0\u7528\u6237\u56f0\u6270\u7684\u4e8b\u60c5\u3002<code>Application</code> \u7684\u6570\u636e\u901f\u7387\u5c31\u662f\u90a3\u6837\u3002\u5b83\u4e0e\u5e95\u5c42 <code>Channel</code> \u7684\u6570\u636e\u901f\u7387\u65e0\u5173\u3002\u8fd9\u53ea\u662f <code>Application</code> \u4ea7\u751f\u6bd4\u7279\u7684\u901f\u7387\u3002\u5b83\u4e0d\u8003\u8651\u7528\u4e8e\u4f20\u8f93\u6570\u636e\u7684\u5404\u79cd\u534f\u8bae\u6216\u901a\u9053\u7684\u4efb\u4f55\u5f00\u9500\u3002\u5982\u679c\u5c06 <code>Application</code> \u7684\u6570\u636e\u901f\u7387\u8bbe\u7f6e\u4e3a\u4e0e\u5e95\u5c42 <code>Channel</code> \u76f8\u540c\u7684\u6570\u636e\u901f\u7387\uff0c\u6700\u7ec8\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u6ea2\u51fa\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#trace-sinks","title":"Trace Sinks","text":"<p>\u6574\u4e2a\u7ec3\u4e60\u7684==\u76ee\u7684\u662f\u901a\u8fc7TCP\u53d1\u51fa\u7684\u8ddf\u8e2a\u56de\u8c03\u6765\u6307\u793a\u62e5\u585e\u7a97\u53e3\u5df2\u7ecf\u66f4\u65b0==\u3002\u4e0b\u9762\u7684\u4ee3\u7801\u5b9e\u73b0\u4e86\u76f8\u5e94\u7684\u8ddf\u8e2a\u63a5\u6536\u5668\uff1a</p> <pre><code>// \u7528\u4e8e\u8ffd\u8e2aTCP\u62e5\u585e\u7a97\u53e3\u53d8\u5316\u7684\u56de\u8c03\u51fd\u6570\nstatic void\nCwndChange(uint32_t oldCwnd, uint32_t newCwnd)\n{\n    NS_LOG_UNCOND(Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; newCwnd);\n}\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u73b0\u5728\u5bf9\u4f60\u6765\u8bf4\u5e94\u8be5\u975e\u5e38\u719f\u6089\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u4f1a\u6df1\u5165\u8ba8\u8bba\u7ec6\u8282\u3002==\u8be5\u51fd\u6570\u5728\u62e5\u585e\u7a97\u53e3\u53d1\u751f\u53d8\u5316\u65f6\u4ec5\u8bb0\u5f55\u5f53\u524d\u6a21\u62df\u65f6\u95f4\u548c\u65b0\u7684\u62e5\u585e\u7a97\u53e3\u503c==\u3002\u4f60\u53ef\u4ee5\u60f3\u8c61\uff0c\u4f60==\u53ef\u4ee5\u5c06\u751f\u6210\u7684\u8f93\u51fa\u52a0\u8f7d\u5230\u56fe\u5f62\u7a0b\u5e8f\uff08\u5982gnuplot\u6216Excel\uff09\u4e2d==\uff0c\u7acb\u5373\u770b\u5230==\u968f\u65f6\u95f4\u53d8\u5316\u7684\u62e5\u585e\u7a97\u53e3\u884c\u4e3a==\u7684\u6f02\u4eae\u56fe\u8868\u3002</p> <p>\u6211\u4eec\u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684\u8ddf\u8e2a\u63a5\u6536\u5668\u6765\u663e\u793a\u6570\u636e\u5305\u4e22\u5931\u7684\u4f4d\u7f6e\u3002\u6211\u4eec\u5c06\u5728\u8fd9\u6bb5\u4ee3\u7801\u4e2d\u6dfb\u52a0\u4e00\u4e2a\u9519\u8bef\u6a21\u578b\uff0c\u6240\u4ee5\u6211\u4eec\u5e0c\u671b\u6f14\u793a\u8fd9\u4e00\u8fc7\u7a0b\u7684\u5de5\u4f5c\u539f\u7406\u3002</p> <pre><code>static void\nRxDrop(Ptr&lt;const Packet&gt; p) // \u6dfb\u52a0\u4e86\u4e00\u4e2a\u65b0\u7684\u8ddf\u8e2a\u63a5\u6536\u5668\u6765\u663e\u793a\u6570\u636e\u5305\u4e22\u5931\u7684\u4f4d\u7f6e\n{\n    NS_LOG_UNCOND(\"RxDrop at \" &lt;&lt; Simulator::Now().GetSeconds());\n}\n</code></pre> <p>\u8fd9\u4e2a\u8ddf\u8e2a\u63a5\u6536\u5668\u5c06\u8fde\u63a5\u5230\u70b9\u5bf9\u70b9NetDevice\u7684\u201cPhyRxDrop\u201d\u8ddf\u8e2a\u6e90\u3002\u5f53NetDevice\u7684\u7269\u7406\u5c42\u4e22\u5f03\u4e00\u4e2a\u6570\u636e\u5305\u65f6\uff0c\u8fd9\u4e2a\u8ddf\u8e2a\u6e90\u5c31\u4f1a\u89e6\u53d1\u3002 - \u5982\u679c\u4f60\u7a0d\u5fae\u67e5\u770b\u4e00\u4e0b\u6e90\u4ee3\u7801\uff08src/point-to-point/model/point-to-point-net-device.cc\uff09\uff0c\u4f60\u4f1a\u53d1\u73b0\u8fd9\u4e2a\u8ddf\u8e2a\u6e90\u6307\u7684\u662f<code>PointToPointNetDevice::m_phyRxDropTrace</code>\u3002\u7136\u540e\uff0c\u5982\u679c\u4f60\u5728<code>src/point-to-point/model/point-to-point-net-device.h</code>\u4e2d\u67e5\u627e\u8fd9\u4e2a\u6210\u5458\u53d8\u91cf\uff0c\u4f60\u4f1a\u53d1\u73b0\u5b83\u88ab\u58f0\u660e\u4e3a<code>TracedCallback&lt;Ptr&lt;const Packet&gt;&gt;</code>\u3002\u8fd9\u5e94\u8be5\u544a\u8bc9\u4f60\uff0c\u56de\u8c03\u76ee\u6807\u5e94\u8be5\u662f\u4e00\u4e2a\u8fd4\u56de<code>void</code>\u7684\u51fd\u6570\uff0c\u5e76\u63a5\u53d7\u4e00\u4e2a<code>Ptr&lt;const Packet&gt;</code>\u7684\u5355\u4e00\u53c2\u6570\uff08\u5047\u8bbe\u6211\u4eec\u4f7f\u7528<code>ConnectWithoutContext</code>\uff09\u2014\u2014\u8fd9\u6b63\u662f\u6211\u4eec\u4e0a\u9762\u6240\u62e5\u6709\u7684\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#main-program","title":"Main Program","text":"<p>\u4e3b\u51fd\u6570\u5f00\u59cb\u65f6\u901a\u8fc7\u914d\u7f6eTCP\u7c7b\u578b\u4e3a\u4f7f\u7528\u4f20\u7edf\u7684 NewReno \u62e5\u585e\u63a7\u5236\u53d8\u4f53\uff0c\u4f7f\u7528\u6240\u8c13\u7684\u7ecf\u5178 TCP \u4e22\u5931\u6062\u590d\u673a\u5236\u3002 \u5f53\u8fd9\u4e2a\u6559\u7a0b\u7a0b\u5e8f\u6700\u521d\u7f16\u5199\u65f6\uff0c\u8fd9\u4e9b\u662f\u9ed8\u8ba4\u7684TCP\u914d\u7f6e\uff0c\u4f46\u968f\u7740\u65f6\u95f4\u7684\u63a8\u79fb\uff0cns3 TCP \u5df2\u7ecf\u53d1\u5c55\u5230\u4f7f\u7528\u5f53\u524d\u7684Linux TCP \u9ed8\u8ba4\u503c\uff0c\u5373\u201cCubic\u201d\u548c\u201cPrr\u201d\u7684\u4e22\u5931\u6062\u590d\u3002 \u9996\u5148\u7684\u8bed\u53e5\u8fd8\u914d\u7f6e\u4e86\u547d\u4ee4\u884c\u53c2\u6570\u5904\u7406\uff1a <pre><code>int main(int argc, char* argv[])\n{\n    CommandLine cmd(__FILE__);\n    cmd.Parse(argc, argv);\n\n    // \u4f7f\u7528 TCPNewReno \u4f5c\u4e3a\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\n    Config::SetDefault(\"ns3::TcpL4Protocol::SocketType\", StringValue(\"ns3::TcpNewReno\"));\n    // \u5c06TCP\u8fde\u63a5\u7684 \u521d\u59cb\u62e5\u585e\u7a97\u53e3 \u8bbe\u7f6e\u4e3a\uff1a 1\u4e2a\u6570\u636e\u5305 \uff0c\u5e76\u4f7f\u7528\u7ecf\u5178\u7684 \u5feb\u901f\u6062\u590d\u7b97\u6cd5 \u3002\n    Config::SetDefault(\"ns3::TcpSocket::InitialCwnd\", UintegerValue(1));\n    // \u8bf7\u6ce8\u610f\uff0c\u6b64\u914d\u7f6e\u4ec5\u7528\u4e8e\u6f14\u793a\u5982\u4f55\u5728ns-3\u4e2d\u914d\u7f6eTCP\u53c2\u6570\u3002\u5426\u5219\uff0c\u5efa\u8bae\u4f7f\u7528ns-3\u4e2dTCP\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u3002\n    Config::SetDefault(\"ns3::TcpL4Protocol::RecoveryType\",\n                       TypeIdValue(TypeId::LookupByName(\"ns3::TcpClassicRecovery\")));\n\n    // \u4e0b\u9762\u7684\u4ee3\u7801\u73b0\u5728\u5bf9\u4f60\u6765\u8bf4\u5e94\u8be5\u975e\u5e38\u719f\u6089\uff1a\n    NodeContainer nodes;\n    nodes.Create(2);\n\n    PointToPointHelper pointToPoint;\n    pointToPoint.SetDeviceAttribute(\"DataRate\", StringValue(\"5Mbps\"));\n    pointToPoint.SetChannelAttribute(\"Delay\", StringValue(\"2ms\"));\n\n    NetDeviceContainer devices;\n    devices = pointToPoint.Install(nodes);\n\n    // \u8fd9\u521b\u5efa\u4e86\u4e24\u4e2a\u8282\u70b9\uff0c\u5b83\u4eec\u4e4b\u95f4\u6709\u4e00\u4e2a\u70b9\u5bf9\u70b9\u901a\u9053\uff0c\u5c31\u50cf\u6587\u4ef6\u5f00\u5934\u7684\u63d2\u56fe\u6240\u793a\u3002\n</code></pre> \u8fd9\u662f\u4e3b\u51fd\u6570\u4e2d\u7684\u4e00\u90e8\u5206\u4ee3\u7801\uff0c\u7528\u4e8e\u914d\u7f6eTCP\u53c2\u6570\u548c\u521b\u5efa\u7f51\u7edc\u62d3\u6251\u3002</p> <p>\u8bbe\u8ba1\u601d\u8def\uff1a\u4eba\u4e3a\u8bbe\u7f6e\u9519\u8bef\u4ee5\u89c2\u5bdf</p> <p>\u4ee5\u4e0b\u51e0\u884c\u4ee3\u7801\u5c55\u793a\u4e86\u4e00\u4e9b\u65b0\u7684\u4e1c\u897f\uff1a \u5982\u679c\u6211\u4eec\u8ddf\u8e2a\u4e00\u4e2a\u8868\u73b0\u5b8c\u7f8e\u7684\u8fde\u63a5\uff0c\u6211\u4eec\u6700\u7ec8\u4f1a\u5f97\u5230\u4e00\u4e2a\u5355\u8c03\u589e\u52a0\u7684\u62e5\u585e\u7a97\u53e3\u3002 \u4e3a\u4e86\u770b\u5230\u4efb\u4f55\u6709\u8da3\u7684\u884c\u4e3a\uff0c\u6211\u4eec\u771f\u7684\u5e0c\u671b\u5f15\u5165\u94fe\u8def\u9519\u8bef\uff0c\u8fd9\u5c06\u5bfc\u81f4\u4e22\u5f03\u6570\u636e\u5305\uff0c\u5f15\u53d1\u5197\u4f59\u7684ACK\u5e76\u89e6\u53d1\u62e5\u585e\u7a97\u53e3\u7684\u66f4\u6709\u8da3\u7684\u884c\u4e3a\u3002</p> <p>ns-3\u63d0\u4f9b\u4e86\u53ef\u4ee5\u9644\u52a0\u5230\u901a\u9053\u7684ErrorModel\u5bf9\u8c61\u3002 \u6211\u4eec\u6b63\u5728\u4f7f\u7528RateErrorModel\uff0c\u5b83\u5141\u8bb8\u6211\u4eec\u4ee5\u7ed9\u5b9a\u7684\u901f\u7387\u5411\u901a\u9053\u5f15\u5165\u9519\u8bef\uff1a <pre><code>Ptr&lt;RateErrorModel&gt; em = CreateObject&lt;RateErrorModel&gt;();\nem-&gt;SetAttribute(\"ErrorRate\", DoubleValue(0.00001));\ndevices.Get(1)-&gt;SetAttribute(\"ReceiveErrorModel\", PointerValue(em));\n</code></pre></p> <p>\u4e0a\u8ff0\u4ee3\u7801\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2a <code>RateErrorModel</code> \u5bf9\u8c61\uff0c\u5e76\u5c06 ==\"ErrorRate\" \u5c5e\u6027\u8bbe\u7f6e\u4e3a\u6240\u9700\u7684\u503c==\u3002\u7136\u540e\uff0c\u6211\u4eec\u5c06\u5b9e\u4f8b\u5316\u540e\u7684 <code>RateErrorModel</code> \u8bbe\u7f6e\u4e3a==\u70b9\u5bf9\u70b9 NetDevice \u4f7f\u7528\u7684\u9519\u8bef\u6a21\u578b==\u3002\u8fd9\u5c06\u5bfc\u81f4\u4e00\u4e9b\u91cd\u4f20\uff0c\u4f7f\u6211\u4eec\u7684\u56fe\u8868\u66f4\u52a0\u6709\u8da3\u3002</p> <pre><code>InternetStackHelper stack;\nstack.Install(nodes);\n\nIpv4AddressHelper address;\naddress.SetBase(\"10.1.1.0\", \"255.255.255.252\");\nIpv4InterfaceContainer interfaces = address.Assign(devices);\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u5e94\u8be5\u5f88\u719f\u6089\u3002\u5b83==\u5728\u4e24\u4e2a\u8282\u70b9\u4e0a\u5b89\u88c5\u4e86 Internet \u6808\uff0c\u5e76\u4e3a\u70b9\u5bf9\u70b9\u8bbe\u5907\u521b\u5efa\u63a5\u53e3\u5e76\u5206\u914d IP \u5730\u5740==\u3002</p> <pre><code>uint16_t sinkPort = 8080;\nAddress sinkAddress(InetSocketAddress(interfaces.GetAddress(1), sinkPort));\nPacketSinkHelper packetSinkHelper(\"ns3::TcpSocketFactory\",\n                                  InetSocketAddress(Ipv4Address::GetAny(), sinkPort));\nApplicationContainer sinkApps = packetSinkHelper.Install(nodes.Get(1));\nsinkApps.Start(Seconds(0.));\nsinkApps.Stop(Seconds(20.));\n</code></pre> <p>\u8fd9\u5e94\u8be5\u90fd\u5f88\u719f\u6089\uff0c\u9664\u4e86\uff1a</p> <pre><code>PacketSinkHelper packetSinkHelper(\"ns3::TcpSocketFactory\",\n                                  InetSocketAddress(Ipv4Address::GetAny(), sinkPort));\n</code></pre> <p>\u8fd9\u6bb5\u4ee3\u7801\u5b9e\u4f8b\u5316\u4e86\u4e00\u4e2a <code>PacketSinkHelper</code>\uff0c\u5e76\u544a\u8bc9\u5b83\u4f7f\u7528 <code>ns3::TcpSocketFactory</code> \u7c7b==\u521b\u5efa\u5957\u63a5\u5b57==\u3002 \u8fd9\u4e2a\u7c7b\u5b9e\u73b0\u4e86\u4e00\u79cd\u79f0\u4e3a\u201c\u5bf9\u8c61\u5de5\u5382\u201d\u7684\u8bbe\u8ba1\u6a21\u5f0f\uff0c\u8fd9\u662f\u4e00\u79cd\u5728\u62bd\u8c61\u65b9\u5f0f\u4e2d\u6307\u5b9a\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u7684\u7c7b\u7684\u5e38\u7528\u673a\u5236\u3002 \u5728\u8fd9\u91cc\uff0c\u60a8\u4e0d\u9700\u8981\u81ea\u5df1\u521b\u5efa\u5bf9\u8c61\uff0c\u800c\u662f\u63d0\u4f9b\u7ed9 <code>PacketSinkHelper</code> \u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u8be5\u5b57\u7b26\u4e32\u6307\u5b9a\u7528\u4e8e\u521b\u5efa\u5bf9\u8c61\u7684 TypeId \u5b57\u7b26\u4e32\uff0c\u7136\u540e\u53ef\u4ee5\u7528\u6765\u521b\u5efa\u5de5\u5382\u521b\u5efa\u7684\u5bf9\u8c61\u7684\u5b9e\u4f8b\u3002</p> <p>\u5176\u4f59\u7684\u53c2\u6570==\u544a\u8bc9\u5e94\u7528\u7a0b\u5e8f\u5e94\u8be5\u7ed1\u5b9a\u5230\u54ea\u4e2a\u5730\u5740\u548c\u7aef\u53e3==\u3002</p> <pre><code>Ptr&lt;Socket&gt; ns3TcpSocket = Socket::CreateSocket(nodes.Get(0), TcpSocketFactory::GetTypeId());\nns3TcpSocket-&gt;TraceConnectWithoutContext(\"CongestionWindow\", MakeCallback(&amp;CwndChange));\n</code></pre> <p>\u7b2c\u4e00\u6761\u8bed\u53e5\u8c03\u7528\u9759\u6001\u6210\u5458\u51fd\u6570 <code>Socket::CreateSocket</code>\uff0c\u5e76==\u4e3a\u521b\u5efa\u5957\u63a5\u5b57\u7684\u5bf9\u8c61\u5de5\u5382\u63d0\u4f9b\u4e86\u4e00\u4e2a\u8282\u70b9\u548c\u4e00\u4e2a\u663e\u5f0f\u7684 TypeId==\u3002\u8fd9\u662f\u6bd4\u4e0a\u9762\u7684 <code>PacketSinkHelper</code> \u8c03\u7528\u7a0d\u5fae\u4f4e\u7ea7\u7684\u8c03\u7528\uff0c\u4f7f\u7528\u663e\u5f0f\u7684 C++ \u7c7b\u578b\u800c\u4e0d\u662f\u7531\u5b57\u7b26\u4e32\u5f15\u7528\u7684\u7c7b\u578b\u3002==\u4ece\u6982\u5ff5\u4e0a\u8bb2\uff0c\u5b83\u4e0e\u4e0a\u8ff0\u8c03\u7528\u662f\u76f8\u540c\u7684==\u3002</p> <p>\u4e00\u65e6 <code>TcpSocket</code> \u88ab\u521b\u5efa\u5e76\u9644\u52a0\u5230\u8282\u70b9\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4f7f\u7528 <code>TraceConnectWithoutContext</code> \u5c06 <code>CongestionWindow</code> ==\u8ddf\u8e2a\u6e90\u8fde\u63a5\u5230\u6211\u4eec\u7684\u8ddf\u8e2a\u56de\u8c03\u51fd\u6570==\u3002</p> <p>\u56de\u987e\u4e00\u4e0b\uff0c\u6211\u4eec\u7f16\u5199\u4e86\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u4ee5\u4fbf\u5728\u914d\u7f6e\u65f6\u95f4\u7ed3\u675f\u65f6\uff08<code>Simulator::Run</code> \u88ab\u8c03\u7528\u65f6\uff09\u83b7\u53d6\u6211\u4eec\u521a\u521a\u521b\u5efa\u7684 Socket\uff08\u5728\u914d\u7f6e\u65f6\u95f4\u5185\uff09\uff0c\u5e76\u5728\u6a21\u62df\u65f6\u95f4\u5185\u4f7f\u7528\u5b83\u3002\u6211\u4eec\u73b0\u5728\u5fc5\u987b\u5b9e\u4f8b\u5316\u8be5\u5e94\u7528\u7a0b\u5e8f\u3002\u6211\u4eec\u6ca1\u6709\u8d39\u5fc3==\u521b\u5efa\u4e00\u4e2a\u52a9\u624b\u6765\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f==\uff0c\u6240\u4ee5\u6211\u4eec\u5fc5\u987b\u201c\u624b\u52a8\u201d\u521b\u5efa\u548c\u5b89\u88c5\u5b83\u3002\u8fd9\u5b9e\u9645\u4e0a\u975e\u5e38\u5bb9\u6613\uff1a</p> <p><pre><code>Ptr&lt;TutorialApp&gt; app = CreateObject&lt;TutorialApp&gt;();                   // \u5efa\u7acb\u4e00\u4e2a\u7ba1\u7406\u5e94\u7528\u7a0b\u5e8f\u7684\u52a9\u624b\napp-&gt;Setup(ns3TcpSocket, sinkAddress, 1040, 1000, DataRate(\"1Mbps\"));\nnodes.Get(0)-&gt;AddApplication(app);  // \u624b\u52a8\u5c06 `TutorialApp` \u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u5230\u6e90\u8282\u70b9\napp-&gt;Start(Seconds(1.));\napp-&gt;Stop(Seconds(20.));  // \u544a\u8bc9\u5b83\u4f55\u65f6\u5f00\u59cb\u548c\u505c\u6b62\u6267\u884c\u4efb\u52a1\n</code></pre> - \u7b2c\u4e00\u884c\u521b\u5efa\u4e86\u4e00\u4e2a\u7c7b\u578b\u4e3a <code>TutorialApp</code> \u7684\u5bf9\u8c61 - \u6211\u4eec\u7684\u5e94\u7528\u7a0b\u5e8f\u3002 - \u7b2c\u4e8c\u884c\u544a\u8bc9\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u54ea\u4e2a Socket\uff0c\u8fde\u63a5\u5230\u54ea\u4e2a\u5730\u5740\uff0c\u6bcf\u6b21\u53d1\u9001\u4e8b\u4ef6\u53d1\u9001\u591a\u5c11\u6570\u636e\uff0c\u751f\u6210\u591a\u5c11\u53d1\u9001\u4e8b\u4ef6\u4ee5\u53ca\u4ee5\u591a\u5927\u7684\u901f\u7387\u4ece\u8fd9\u4e9b\u4e8b\u4ef6\u4ea7\u751f\u6570\u636e\u3002 - \u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u624b\u52a8\u5c06 <code>TutorialApp</code> \u5e94\u7528\u7a0b\u5e8f\u6dfb\u52a0\u5230\u6e90\u8282\u70b9\uff0c\u5e76\u663e\u5f0f\u8c03\u7528\u5e94\u7528\u7a0b\u5e8f\u7684 <code>Start</code> \u548c <code>Stop</code> \u65b9\u6cd5\uff0c\u544a\u8bc9\u5b83\u4f55\u65f6\u5f00\u59cb\u548c\u505c\u6b62\u6267\u884c\u5b83\u7684\u4efb\u52a1\u3002</p> <p>\u73b0\u5728\uff0c\u6211\u4eec\u9700\u8981\u5c06\u63a5\u6536\u70b9\u5bf9\u70b9 NetDevice \u4e22\u5305\u4e8b\u4ef6\u8fde\u63a5\u5230\u6211\u4eec\u7684 <code>RxDrop</code> \u56de\u8c03\u3002</p> <pre><code>devices.Get(1)-&gt;TraceConnectWithoutContext(\"PhyRxDrop\", MakeCallback(&amp;RxDrop));\n</code></pre> <p>\u73b0\u5728\u5e94\u8be5\u5f88\u660e\u663e\u4e86\uff0c\u6211\u4eec==\u6b63\u5728\u4ece\u5bb9\u5668\u4e2d\u83b7\u53d6\u63a5\u6536\u8282\u70b9 NetDevice \u7684\u5f15\u7528==\uff0c\u5e76==\u5c06\u8be5\u8bbe\u5907\u4e0a\u7531\u5c5e\u6027 \"PhyRxDrop\" \u5b9a\u4e49\u7684\u8ddf\u8e2a\u6e90\u8fde\u63a5\u5230\u8ddf\u8e2a\u56de\u8c03\u51fd\u6570 <code>RxDrop</code>\u3002==</p> <p>\u6700\u540e\uff0c\u6211\u4eec\u544a\u8bc9\u6a21\u62df\u5668\u8986\u76d6\u4efb\u4f55\u5e94\u7528\u7a0b\u5e8f\uff0c\u5e76\u5728\u6a21\u62df\u7684\u65f6\u95f4\u7ed3\u675f\u65f6\u505c\u6b62\u5904\u7406\u4e8b\u4ef6\u3002</p> <pre><code>Simulator::Stop(Seconds(20));\nSimulator::Run();\nSimulator::Destroy();\n\nreturn 0;\n}\n</code></pre> <p>\u56de\u60f3\u4e00\u4e0b\uff0c==\u4e00\u65e6\u8c03\u7528 <code>Simulator::Run</code>\uff0c\u914d\u7f6e\u65f6\u95f4\u5c31\u7ed3\u675f\u4e86\uff0c\u8fdb\u5165\u4e86\u6a21\u62df\u65f6\u95f4==\u3002\u6211\u4eec\u901a\u8fc7\u521b\u5efa\u5e94\u7528\u7a0b\u5e8f\u548c\u6559\u5b83\u5982\u4f55\u8fde\u63a5\u548c\u53d1\u9001\u6570\u636e\u6765==\u534f\u8c03\u7684\u6240\u6709\u5de5\u4f5c\u5b9e\u9645\u4e0a\u90fd\u53d1\u751f\u5728\u8fd9\u4e2a\u51fd\u6570\u8c03\u7528\u671f\u95f4\u3002==</p> <p>\u4e00\u65e6 <code>Simulator::Run</code> \u8fd4\u56de\uff0c\u6a21\u62df\u5c31\u5b8c\u6210\u4e86\uff0c\u6211\u4eec\u8fdb\u5165\u4e86\u62c6\u5378\u9636\u6bb5\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c<code>Simulator::Destroy</code> \u5904\u7406\u4e86\u6240\u6709\u7e41\u7410\u7684\u7ec6\u8282\uff0c\u6211\u4eec\u5728\u5b83\u5b8c\u6210\u540e\u8fd4\u56de\u4e00\u4e2a\u6210\u529f\u7684\u4ee3\u7801\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#running-fifthcc","title":"Running\u00a0<code>fifth.cc</code>","text":"<p>\u7531\u4e8e\u6211\u4eec\u5df2\u7ecf\u4e3a\u60a8\u63d0\u4f9b\u4e86\u6587\u4ef6 <code>fifth.cc</code>\uff0c\u5982\u679c\u60a8\u6784\u5efa\u4e86\u60a8\u7684\u53d1\u884c\u7248\uff08\u5728\u8c03\u8bd5\u6a21\u5f0f\u6216\u9ed8\u8ba4\u6a21\u5f0f\u4e0b\uff0c\u56e0\u4e3a\u5b83\u4f7f\u7528 <code>NS_LOG</code> - \u8bf7\u8bb0\u4f4f\u4f18\u5316\u6784\u5efa\u4f1a\u4f18\u5316\u6389 <code>NS_LOG</code>\uff09\uff0c\u5b83\u5c06\u7b49\u5f85\u60a8\u8fd0\u884c\u3002</p> <pre><code>$ ./ns3 run fifth\n1.00419 536\n1.0093  1072\n1.01528 1608\n1.02167 2144\n...\n1.11319 8040\n1.12151 8576\n1.12983 9112\nRxDrop at 1.13696\n...\n</code></pre> <p>\u60a8\u53ef\u80fd\u7acb\u5373\u770b\u5230\u5728\u8ddf\u8e2a\u4e2d\u4f7f\u7528\u4efb\u4f55\u79cd\u7c7b\u7684\u6253\u5370\u7684\u4e00\u4e2a==\u7f3a\u70b9==\u3002\u6211\u4eec\u5f97\u5230\u4e86\u90a3\u4e9b\u4e0e\u6211\u4eec\u7684\u6709\u8da3\u4fe1\u606f\u6df7\u5728\u4e00\u8d77\u7684==\u5197\u4f59 ns3 \u6d88\u606f==\uff0c==\u4ee5\u53ca\u90a3\u4e9b RxDrop \u6d88\u606f==\u3002\u6211\u4eec\u5c06\u5f88\u5feb\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u4f46\u6211\u786e\u4fe1\u60a8\u8feb\u4e0d\u53ca\u5f85\u5730\u60f3\u8981\u770b\u5230\u6240\u6709\u8fd9\u9879\u5de5\u4f5c\u7684\u7ed3\u679c\u3002\u8ba9\u6211\u4eec\u5c06\u8f93\u51fa\u91cd\u5b9a\u5411\u5230\u4e00\u4e2a\u540d\u4e3a <code>cwnd.dat</code> \u7684\u6587\u4ef6\uff1a</p> <pre><code>$ ./ns3 run fifth &gt; cwnd.dat 2&gt;&amp;1\n</code></pre> <p>\u73b0\u5728\u5728\u60a8\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u7f16\u8f91 \u201ccwnd.dat\u201d\uff0c\u5220\u9664 ns3 \u6784\u5efa\u72b6\u6001\u548c\u4e22\u5305\u884c\uff0c\u53ea\u7559\u4e0b\u8ddf\u8e2a\u6570\u636e\uff08\u60a8\u8fd8\u53ef\u4ee5\u5728\u811a\u672c\u4e2d\u6ce8\u91ca\u6389 <code>TraceConnectWithoutContext(\"PhyRxDrop\", MakeCallback(&amp;RxDrop));</code> \u6765\u8f7b\u677e\u6446\u8131\u4e22\u5305\u6253\u5370\uff09\u3002</p> <p>\u7136\u540e\uff0c\u60a8\u73b0\u5728\u53ef\u4ee5\u8fd0\u884c gnuplot\uff08\u5982\u679c\u5df2\u5b89\u88c5\uff09\uff0c\u5e76\u544a\u8bc9\u5b83\u751f\u6210\u4e00\u4e9b\u6f02\u4eae\u7684\u56fe\u7247\uff1a</p> <pre><code>$ gnuplot\ngnuplot&gt; set terminal png size 640,480\ngnuplot&gt; set output \"cwnd.png\"\ngnuplot&gt; plot \"cwnd.dat\" using 1:2 title 'Congestion Window' with linespoints\ngnuplot&gt; exit\n</code></pre> <p>\u73b0\u5728\uff0c\u60a8\u5e94\u8be5\u6709\u4e00\u4e2a\u5173\u4e8e\u65f6\u95f4\u7684\u62e5\u585e\u7a97\u53e3\u4e0e\u65f6\u95f4\u7684\u56fe\u5f62\uff0c\u5b58\u50a8\u5728\u540d\u4e3a \u201ccwnd.png\u201d \u7684\u6587\u4ef6\u4e2d\uff0c\u770b\u8d77\u6765\u50cf\uff1a ![[Pasted image 20231202142119.png]]</p>"},{"location":"Sci_doc/ns-3/ch4/#using-mid-level-helpers","title":"Using Mid-Level Helpers","text":"<p>\u5728\u524d\u9762\u7684\u90e8\u5206\u4e2d\uff0c\u6211\u4eec\u5c55\u793a\u4e86\u5982\u4f55\u6302\u63a5\u8ddf\u8e2a\u6e90\u5e76\u4ece\u6a21\u62df\u4e2d\u83b7\u53d6\u5e0c\u671b\u7684\u6709\u8da3\u4fe1\u606f\u3002\u4e5f\u8bb8\u4f60\u8fd8\u8bb0\u5f97\u6211\u4eec\u65e9\u4e9b\u65f6\u5019\u5728\u672c\u7ae0\u4e2d\u5c06\u4f7f\u7528 std::cout \u8f93\u51fa\u65e5\u5fd7\u79f0\u4e3a\u201c\u7c97\u7cd9\u5de5\u5177\u201d\u3002\u6211\u4eec\u8fd8\u5199\u8fc7\u5173\u4e8e\u5fc5\u987b\u89e3\u6790\u65e5\u5fd7\u8f93\u51fa\u4ee5\u5206\u79bb\u51fa\u6709\u8da3\u4fe1\u606f\u7684\u95ee\u9898\u3002\u4f60\u53ef\u80fd\u5df2\u7ecf\u610f\u8bc6\u5230\uff0c\u6211\u4eec\u521a\u521a\u82b1\u4e86\u5f88\u591a\u65f6\u95f4\u5b9e\u73b0\u4e86\u4e00\u4e2a\u793a\u4f8b\uff0c\u5c55\u793a\u4e86\u6211\u4eec\u58f0\u79f0\u8981\u901a\u8fc7ns-3\u8ddf\u8e2a\u7cfb\u7edf\u89e3\u51b3\u7684\u6240\u6709\u95ee\u9898\uff01\u4f60\u662f\u6b63\u786e\u7684\u3002\u4f46\u8bf7\u8010\u5fc3\u7b49\u5f85\uff0c\u6211\u4eec\u8fd8\u6ca1\u6709\u5b8c\u6210\u3002</p> <p>\u6211\u4eec\u60f3\u8981\u505a\u7684\u6700\u91cd\u8981\u7684\u4e00\u4ef6\u4e8b\u60c5\u4e4b\u4e00\u662f\u80fd\u591f\u8f7b\u677e\u5730\u63a7\u5236\u6a21\u62df\u8f93\u51fa\u7684\u6570\u91cf\uff1b\u800c\u4e14\u6211\u4eec\u8fd8\u60f3\u5c06\u8fd9\u4e9b\u6570\u636e\u4fdd\u5b58\u5230\u6587\u4ef6\u4e2d\uff0c\u4ee5\u4fbf\u4ee5\u540e\u53c2\u8003\u3002\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528ns-3\u63d0\u4f9b\u7684==\u4e2d\u7ea7\u8ddf\u8e2a\u8f85\u52a9\u5de5\u5177==\u6765\u505a\u5230\u8fd9\u4e00\u70b9\uff0c\u4ece\u800c\u5b8c\u6210\u6574\u4e2a\u753b\u9762\u3002</p> <p>\u6211\u4eec\u63d0\u4f9b\u4e86\u4e00\u4e2a\u811a\u672c\uff0c\u5c06\u5728\u793a\u4f8b fifth.cc \u4e2d\u5f00\u53d1\u7684 cwnd \u53d8\u5316\u548c\u4e22\u5305\u4e8b\u4ef6\u5199\u5165\u78c1\u76d8\u4e2d\u7684\u5355\u72ec\u6587\u4ef6\u3002cwnd \u53d8\u5316\u88ab\u5b58\u50a8\u4e3a\u5236\u8868\u7b26\u5206\u9694\u7684ASCII\u6587\u4ef6\uff0c\u800c\u4e22\u5305\u4e8b\u4ef6\u5219\u5b58\u50a8\u5728\u4e00\u4e2aPCAP\u6587\u4ef6\u4e2d\u3002\u4f7f\u8fd9\u4e00\u5207\u53d1\u751f\u6240\u9700\u7684\u66f4\u6539\u975e\u5e38\u5c0f\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#walkthrough-sixthcc","title":"Walkthrough:\u00a0<code>sixth.cc</code>","text":"<p>\u8ba9\u6211\u4eec\u770b\u4e00\u4e0b\u4ece fifth.cc \u5230 sixth.cc \u6240\u9700\u7684\u66f4\u6539\u3002\u5728\u4f60\u559c\u6b22\u7684\u7f16\u8f91\u5668\u4e2d\u6253\u5f00 examples/tutorial/sixth.cc\u3002\u4f60\u53ef\u4ee5\u901a\u8fc7\u641c\u7d22 CwndChange \u627e\u5230\u7b2c\u4e00\u4e2a\u66f4\u6539\u3002\u4f60\u4f1a\u53d1\u73b0\u6211\u4eec\u5df2\u7ecf\u66f4\u6539\u4e86\u8ddf\u8e2a\u63a5\u6536\u5668\u7684\u7b7e\u540d\uff0c\u5e76\u5728\u6bcf\u4e2a\u63a5\u6536\u5668\u4e2d\u6dfb\u52a0\u4e86\u4e00\u884c\u4ee3\u7801\uff0c\u5c06\u8ddf\u8e2a\u7684\u4fe1\u606f\u5199\u5165\u8868\u793a\u6587\u4ef6\u7684\u6d41\u4e2d\u3002</p> <pre><code>static void\nCwndChange(Ptr&lt;OutputStreamWrapper&gt; stream, uint32_t oldCwnd, uint32_t newCwnd)\n{\n  NS_LOG_UNCOND(Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; newCwnd);\n  *stream-&gt;GetStream() &lt;&lt; Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; oldCwnd &lt;&lt; \"\\t\" &lt;&lt; newCwnd &lt;&lt; std::endl;\n}\n\nstatic void\nRxDrop(Ptr&lt;PcapFileWrapper&gt; file, Ptr&lt;const Packet&gt; p)\n{\n  NS_LOG_UNCOND(\"RxDrop at \" &lt;&lt; Simulator::Now().GetSeconds());\n  file-&gt;Write(Simulator::Now(), p);\n}\n</code></pre> <p>\u6211\u4eec==\u5728 CwndChange \u8ddf\u8e2a\u63a5\u6536\u5668\u4e2d\u6dfb\u52a0\u4e86\u4e00\u4e2a \"stream\" \u53c2\u6570==\u3002\u8fd9\u662f\u4e00\u4e2a\u4fdd\u5b58\uff08\u4fdd\u6301\u5b89\u5168\uff09C++\u8f93\u51fa\u6d41\u7684\u5bf9\u8c61\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u7684\u5bf9\u8c61\uff0c\u4f46\u5b83\u7ba1\u7406\u4e86\u6d41\u7684\u751f\u547d\u5468\u671f\u95ee\u9898\uff0c\u5e76\u89e3\u51b3\u4e86\u5373\u4f7f\u662f\u7ecf\u9a8c\u4e30\u5bcc\u7684C++\u7528\u6237\u4e5f\u4f1a\u9047\u5230\u7684\u95ee\u9898\u3002\u539f\u6765\uff0cstd::ostream \u7684\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u88ab\u6807\u8bb0\u4e3a\u79c1\u6709\u3002\u8fd9\u610f\u5473\u7740 std::ostream \u4e0d\u9075\u5faa\u503c\u8bed\u4e49\uff0c\u4e0d\u80fd\u5728\u9700\u8981\u590d\u5236\u6d41\u7684\u4efb\u4f55\u673a\u5236\u4e2d\u4f7f\u7528\u3002\u8fd9\u5305\u62ec ns-3 \u56de\u8c03\u7cfb\u7edf\uff0c\u6b63\u5982\u4f60\u53ef\u80fd\u8bb0\u5f97\u7684\uff0c\u5b83\u8981\u6c42\u9075\u5faa\u503c\u8bed\u4e49\u7684\u5bf9\u8c61\u3002\u8bf7\u6ce8\u610f\uff0c\u6211\u4eec\u5728 CwndChange \u8ddf\u8e2a\u63a5\u6536\u5668\u5b9e\u73b0\u4e2d\u6dfb\u52a0\u4e86\u4ee5\u4e0b\u884c\uff1a</p> <pre><code>*stream-&gt;GetStream() &lt;&lt; Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; oldCwnd &lt;&lt; \"\\t\" &lt;&lt; newCwnd &lt;&lt; std::endl;\n</code></pre> <p>\u5982\u679c\u4f60\u7528 std::cout \u66ff\u6362 *stream-&gt;GetStream()\uff0c\u4ee3\u7801\u5c06\u975e\u5e38\u719f\u6089\uff0c\u5982\uff1a</p> <pre><code>std::cout &lt;&lt; Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; oldCwnd &lt;&lt; \"\\t\" &lt;&lt; newCwnd &lt;&lt; std::endl;\n</code></pre> <p>\u8fd9==\u8bf4\u660e Ptr\\ \u5b9e\u9645\u4e0a\u53ea\u662f\u4e3a\u4f60\u643a\u5e26\u4e00\u4e2a std::ofstream\uff0c==\u4f60\u53ef\u4ee5\u5728\u8fd9\u91cc\u50cf\u4f7f\u7528\u4efb\u4f55\u5176\u4ed6\u8f93\u51fa\u6d41\u4e00\u6837\u4f7f\u7528\u5b83\u3002 <p>\u5728 RxDrop \u4e2d\u53d1\u751f\u7684\u60c5\u51b5\u7c7b\u4f3c\uff0c\u53ea\u662f==\u4f20\u9012\u7684\u5bf9\u8c61==\uff08Ptr\\\uff09==\u8868\u793a\u4e00\u4e2a PCAP \u6587\u4ef6==\u3002\u5728\u8ddf\u8e2a\u63a5\u6536\u5668\u4e2d\u6709\u4e00\u4e2a\u4e00\u884c\u4ee3\u7801\uff0c\u7528\u4e8e\u5c06\u65f6\u95f4\u6233\u548c\u88ab\u4e22\u5f03\u7684\u6570\u636e\u5305\u7684\u5185\u5bb9\u5199\u5165 PCAP \u6587\u4ef6\uff1a <pre><code>file-&gt;Write(Simulator::Now(), p);\n</code></pre> <p>\u5f53\u7136\uff0c\u5982\u679c\u6211\u4eec\u6709\u8868\u793a\u4e24\u4e2a\u6587\u4ef6\u7684\u5bf9\u8c61\uff0c\u6211\u4eec\u9700\u8981\u5728\u67d0\u5904\u521b\u5efa\u5b83\u4eec\uff0c\u5e76\u4e14\u8fd8\u9700\u8981\u5bfc\u81f4\u5b83\u4eec\u88ab\u4f20\u9012\u5230\u8ddf\u8e2a\u63a5\u6536\u5668\u3002\u5982\u679c\u4f60\u67e5\u770b main \u51fd\u6570\uff0c\u4f60\u5c06\u627e\u5230\u65b0\u7684\u4ee3\u7801\u6765\u5b8c\u6210\u8fd9\u4e2a\u4efb\u52a1\uff1a</p> <pre><code>AsciiTraceHelper asciiTraceHelper;  // \u521b\u5efa\u4e86 ASCII \u8ddf\u8e2a\u6587\u4ef6\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"sixth.cwnd\");  \n// \ud83d\udc46\u4f7f\u7528\u56de\u8c03\u521b\u5efa\u51fd\u6570\u7684\u53d8\u4f53\u6765\u5b89\u6392\u5bf9\u8c61\u4f20\u9012\u5230\u63a5\u6536\u5668\nns3TcpSocket-&gt;TraceConnectWithoutContext(\"CongestionWindow\", MakeBoundCallback(&amp;CwndChange, stream));\n\n...\n\nPcapHelper pcapHelper; // \u5b9e\u4f8b\u5316\u4e86 PcapHelper \u6765\u5bf9 PCAP \u8ddf\u8e2a\u6587\u4ef6\u6267\u884c\u4e0e AsciiTraceHelper \u76f8\u540c\u7684\u64cd\u4f5c\nPtr&lt;PcapFileWrapper&gt; file = pcapHelper.CreateFile(\"sixth.pcap\", std::ios::out, PcapHelper::DLT_PPP);\ndevices.Get(1)-&gt;TraceConnectWithoutContext(\"PhyRxDrop\", MakeBoundCallback(&amp;RxDrop, file));\n</code></pre> <ol> <li> <p>\u5728\u4e0a\u9762\u7684\u4ee3\u7801\u7247\u6bb5\u7684\u7b2c\u4e00\u90e8\u5206\uff0c\u6211\u4eec==\u521b\u5efa\u4e86 ASCII \u8ddf\u8e2a\u6587\u4ef6==\uff0c\u521b\u5efa\u4e86\u4e00\u4e2a\u8d1f\u8d23\u7ba1\u7406\u5b83\u7684\u5bf9\u8c61\uff0c\u5e76==\u4f7f\u7528\u56de\u8c03\u521b\u5efa\u51fd\u6570\u7684\u53d8\u4f53\u6765\u5b89\u6392\u5bf9\u8c61\u4f20\u9012\u5230\u63a5\u6536\u5668==\u3002\u6211\u4eec\u7684 ASCII \u8ddf\u8e2a\u52a9\u624b\u63d0\u4f9b\u4e86\u4e00\u7ec4\u4e30\u5bcc\u7684\u529f\u80fd\uff0c\u4ee5\u4fbf\u8f7b\u677e\u4f7f\u7528\u6587\u672c\uff08ASCII\uff09\u6587\u4ef6\u3002\u6211\u4eec\u53ea\u662f\u5728\u8fd9\u91cc\u6f14\u793a\u4e86\u6587\u4ef6\u6d41\u521b\u5efa\u51fd\u6570\u7684\u4f7f\u7528\u3002</p> </li> <li> <p>CreateFileStream \u51fd\u6570 \u57fa\u672c\u4e0a\u5c06\u5b9e\u4f8b\u5316\u4e00\u4e2a std::ofstream \u5bf9\u8c61\uff0c\u5e76\u521b\u5efa\u4e00\u4e2a\u65b0\u6587\u4ef6\uff08\u6216\u622a\u65ad\u73b0\u6709\u6587\u4ef6\uff09\u3002\u8fd9\u4e2a std::ofstream \u88ab\u5c01\u88c5\u5728\u4e00\u4e2a ns-3 \u5bf9\u8c61\u4e2d\uff0c\u7528\u4e8e\u751f\u547d\u5468\u671f\u7ba1\u7406\u548c\u62f7\u8d1d\u6784\u9020\u51fd\u6570\u95ee\u9898\u7684\u89e3\u51b3\u3002</p> </li> <li> <p>\u7136\u540e\uff0c\u6211\u4eec==\u53d6\u5f97\u4ee3\u8868\u6587\u4ef6\u7684 ns-3 \u5bf9\u8c61\uff0c\u5e76\u5c06\u5176\u4f20\u9012\u7ed9 MakeBoundCallback()==\u3002\u8fd9\u4e2a\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u56de\u8c03\uff0c\u5c31\u50cf MakeCallback() \u4e00\u6837\uff0c\u4f46\u5b83\u5728\u8c03\u7528\u56de\u8c03\u4e4b\u524d\u201c\u7ed1\u5b9a\u201d\u4e00\u4e2a\u65b0\u503c\u5230\u56de\u8c03\u4e0a\u3002\u8fd9\u4e2a\u503c\u88ab\u6dfb\u52a0\u4e3a\u56de\u8c03\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u7136\u540e\u624d\u8c03\u7528\u3002</p> </li> <li> <p>\u5b9e\u9645\u4e0a\uff0cMakeBoundCallback(&amp;CwndChange, stream) \u5bfc\u81f4\u8ddf\u8e2a\u6e90\u5728\u8c03\u7528\u56de\u8c03\u4e4b\u524d\u5728\u5f62\u5f0f\u53c2\u6570\u5217\u8868\u7684\u524d\u9762\u6dfb\u52a0\u989d\u5916\u7684 \"stream\" \u53c2\u6570\u3002\u8fd9\u6539\u53d8\u4e86 CwndChange \u63a5\u6536\u5668\u7684\u6240\u9700\u7b7e\u540d\uff0c\u4ee5\u5339\u914d\u4e0a\u9762\u663e\u793a\u7684\u7b7e\u540d\uff0c\u5176\u4e2d\u5305\u62ec \"\u989d\u5916\" \u53c2\u6570 Ptr\\ stream\u3002 <p>\u5728\u4e0a\u9762\u4ee3\u7801\u7247\u6bb5\u7684\u7b2c\u4e8c\u90e8\u5206\u4e2d\uff0c\u6211\u4eec==\u5b9e\u4f8b\u5316\u4e86 PcapHelper \u6765==\u5bf9 ==PCAP \u8ddf\u8e2a\u6587\u4ef6==\u6267\u884c\u4e0e AsciiTraceHelper \u76f8\u540c\u7684\u64cd\u4f5c\u3002\u4ee3\u7801\u884c</p> <pre><code>Ptr&lt;PcapFileWrapper&gt; file = pcapHelper.CreateFile(\"sixth.pcap\", \"w\", PcapHelper::DLT_PPP);\n</code></pre> <p>\u521b\u5efa\u4e86\u4e00\u4e2a\u540d\u4e3a \"sixth.pcap\" \u7684 PCAP \u6587\u4ef6\uff0c\u6587\u4ef6\u6a21\u5f0f\u4e3a \"w\"; \u8fd9\u610f\u5473\u7740\u5982\u679c\u627e\u5230\u5177\u6709\u8be5\u540d\u79f0\u7684\u73b0\u6709\u6587\u4ef6\uff0c\u65b0\u6587\u4ef6\u5c06\u88ab\u622a\u65ad\uff08\u5185\u5bb9\u88ab\u5220\u9664\uff09; \u6700\u540e\u4e00\u4e2a\u53c2\u6570\u662f\u65b0 PCAP \u6587\u4ef6\u7684\u201c\u6570\u636e\u94fe\u8def\u7c7b\u578b\u201d\u3002</p> <p>\u5982\u679c\u4f60\u719f\u6089 PCAP\uff0c\u8fd9\u4e9b\u4e0e bpf.h \u4e2d\u5b9a\u4e49\u7684 PCAP \u5e93\u6570\u636e\u94fe\u8def\u7c7b\u578b\u76f8\u540c\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c==DLT_PPP \u8868\u793a PCAP \u6587\u4ef6\u5c06\u5305\u542b\u4ee5\u70b9\u5bf9\u70b9\u6807\u5934\u4e3a\u524d\u7f00\u7684\u6570\u636e\u5305==\u3002\u8fd9\u662f\u56e0\u4e3a\u6570\u636e\u5305\u6765\u81ea\u6211\u4eec\u7684\u70b9\u5bf9\u70b9\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u3002\u5176\u4ed6\u5e38\u89c1\u7684\u6570\u636e\u94fe\u8def\u7c7b\u578b\u662f DLT_EN10MB\uff0810 MB \u4ee5\u592a\u7f51\uff09\u9002\u7528\u4e8e csma \u8bbe\u5907\uff0c\u4ee5\u53ca DLT_IEEE802_11\uff08IEEE 802.11\uff09\u9002\u7528\u4e8e wifi \u8bbe\u5907\u3002\u5982\u679c\u4f60\u6709\u5174\u8da3\uff0c\u53ef\u4ee5\u5728 src/network/helper/trace-helper.h \u4e2d\u770b\u5230\u5b83\u4eec\u7684\u5217\u8868\u3002\u5217\u8868\u4e2d\u7684\u6761\u76ee\u4e0e bpf.h \u4e2d\u7684\u6761\u76ee\u76f8\u5339\u914d\uff0c\u4f46\u6211\u4eec\u590d\u5236\u5b83\u4eec\u4ee5\u907f\u514d\u5bf9 PCAP \u6e90\u7684\u4f9d\u8d56\u3002</p> <p>\u4e00\u4e2a\u4ee3\u8868 PCAP \u6587\u4ef6\u7684 ns-3 \u5bf9\u8c61\u4ece CreateFile \u8fd4\u56de\uff0c\u5e76\u5728\u7ed1\u5b9a\u56de\u8c03\u4e2d\u50cf ASCII \u60c5\u51b5\u4e00\u6837\u4f7f\u7528\u3002</p> <p>\u91cd\u8981\u7684\u4e00\u70b9\u662f\uff0c\u5c3d\u7ba1\u8fd9\u4e24\u4e2a\u5bf9\u8c61\u7684\u58f0\u660e\u65b9\u5f0f\u975e\u5e38\u76f8\u4f3c\uff0c</p> <pre><code>Ptr&lt;PcapFileWrapper&gt; file ...\nPtr&lt;OutputStreamWrapper&gt; stream ...\n</code></pre> <p>\u5e95\u5c42\u5bf9\u8c61\u662f\u5b8c\u5168\u4e0d\u540c\u7684\u3002\u4f8b\u5982\uff0cPtr\\ \u662f\u6307\u5411 ns-3 \u5bf9\u8c61\u7684\u667a\u80fd\u6307\u9488\uff0c\u8fd9\u662f\u4e00\u4e2a\u76f8\u5f53\u5e9e\u5927\u7684\u652f\u6301\u5c5e\u6027\u5e76\u4e14\u96c6\u6210\u5230 Config \u7cfb\u7edf\u4e2d\u7684\u4e1c\u897f\u3002\u53e6\u4e00\u65b9\u9762\uff0cPtr\\ \u662f\u6307\u5411\u652f\u6301\u5f15\u7528\u8ba1\u6570\u7684\u5bf9\u8c61\u7684\u667a\u80fd\u6307\u9488\uff0c\u5b83\u662f\u4e00\u4e2a\u975e\u5e38\u8f7b\u91cf\u7ea7\u7684\u4e1c\u897f\u3002\u5728\u5bf9\u8be5\u5bf9\u8c61\u7684\u201c\u6743\u9650\u201d\u8fdb\u884c\u4efb\u4f55\u5047\u8bbe\u4e4b\u524d\uff0c\u8bf7\u8bb0\u5f97\u67e5\u770b\u4f60\u6b63\u5728\u5f15\u7528\u7684\u5bf9\u8c61\u3002 <p>\u4f8b\u5982\uff0c\u67e5\u770b\u5206\u53d1\u4e2d\u7684 src/network/utils/pcap-file-wrapper.h\uff0c\u5e76\u6ce8\u610f\u5230\uff0c</p> <pre><code>class PcapFileWrapper : public Object\n</code></pre> <p>\u901a\u8fc7\u7ee7\u627f\uff0c\u7c7b PcapFileWrapper \u662f\u4e00\u4e2a ns-3 \u5bf9\u8c61\u3002\u7136\u540e\u67e5\u770b src/network/model/output-stream-wrapper.h \u5e76\u6ce8\u610f\u5230\uff0c</p> <pre><code>class OutputStreamWrapper : public SimpleRefCount&lt;OutputStreamWrapper&gt;\n</code></pre> <p>\u8fd9\u4e2a\u5bf9\u8c61\u6839\u672c\u4e0d\u662f ns-3 \u5bf9\u8c61\uff0c\u5b83\u53ea\u662f\u4e00\u4e2a\u652f\u6301\u4fb5\u5165\u5f0f\u5f15\u7528\u8ba1\u6570\u7684 C++ \u5bf9\u8c61\u3002</p> <p>\u8fd9\u91cc\u7684\u8981\u70b9\u662f\uff0c\u4ec5\u4ec5\u56e0\u4e3a\u4f60\u8bfb\u5230 Ptr\\ \u5e76\u4e0d\u4e00\u5b9a\u610f\u5473\u7740 something \u662f\u4e00\u4e2a\u4f60\u53ef\u4ee5\u6302\u4e0a ns-3 Attributes \u7684 ns-3 \u5bf9\u8c61\u3002 <p>\u73b0\u5728\uff0c\u56de\u5230\u4f8b\u5b50\u3002\u5982\u679c\u4f60\u6784\u5efa\u5e76\u8fd0\u884c\u8fd9\u4e2a\u4f8b\u5b50\uff0c</p> <pre><code>$ ./ns3 run sixth\n</code></pre> <p>\u4f60\u4f1a\u770b\u5230\u4e0e\u8fd0\u884c \"fifth\" \u65f6\u76f8\u540c\u7684\u6d88\u606f\uff0c\u4f46\u662f\u5728\u4f60\u7684 ns-3 \u5206\u53d1\u76ee\u5f55\u7684\u9876\u5c42\u76ee\u5f55\u4e2d\u5c06\u4f1a\u51fa\u73b0\u4e24\u4e2a\u65b0\u6587\u4ef6\u3002</p> <pre><code>sixth.cwnd  sixth.pcap\n</code></pre> <p>\u7531\u4e8e \"sixth.cwnd\" \u662f\u4e00\u4e2a ASCII \u6587\u672c\u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 cat \u6216\u4f60\u559c\u6b22\u7684\u6587\u4ef6\u67e5\u770b\u5668\u67e5\u770b\u5b83\u3002</p> <pre><code>1       0       536\n1.0093  536     1072\n1.01528 1072    1608\n1.02167 1608    2144\n...\n9.69256 5149    5204\n9.89311 5204    5259\n</code></pre> <p>\u4f60\u6709\u4e00\u4e2a\u5236\u8868\u7b26\u5206\u9694\u7684\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u4e2a\u65f6\u95f4\u6233\uff0c\u4e00\u4e2a\u65e7\u7684\u62e5\u585e\u7a97\u53e3\u548c\u4e00\u4e2a\u65b0\u7684\u62e5\u585e\u7a97\u53e3\uff0c\u9002\u5408\u76f4\u63a5\u5bfc\u5165\u5230\u4f60\u7684\u7ed8\u56fe\u7a0b\u5e8f\u4e2d\u3002\u6587\u4ef6\u4e2d\u6ca1\u6709\u591a\u4f59\u7684\u6253\u5370\uff0c\u4e0d\u9700\u8981\u89e3\u6790\u6216\u7f16\u8f91\u3002</p> <p>\u7531\u4e8e \"sixth.pcap\" \u662f\u4e00\u4e2a PCAP \u6587\u4ef6\uff0c\u4f60\u53ef\u4ee5\u4f7f\u7528 tcpdump \u67e5\u770b\u5b83\u3002</p> <pre><code>tcpdump -r sixth.pcap\n</code></pre> <p>\u4f60\u6709\u4e00\u4e2a\u5305\u542b\u6a21\u62df\u4e2d\u4e22\u5f03\u7684\u6570\u636e\u5305\u7684 PCAP \u6587\u4ef6\u3002\u6587\u4ef6\u4e2d\u6ca1\u6709\u5176\u4ed6\u6570\u636e\u5305\uff0c\u4e5f\u6ca1\u6709\u5176\u4ed6\u5185\u5bb9\u4f7f\u4e8b\u60c5\u53d8\u5f97\u590d\u6742\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#cor","title":"Cor :","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u6f2b\u957f\u7684\u65c5\u7a0b\uff0c\u4f46\u73b0\u5728\u6211\u4eec==\u5df2\u7ecf\u5230\u8fbe\u4e86\u80fd\u591f\u6b23\u8d4f ns-3 \u8ddf\u8e2a\u7cfb\u7edf\u7684\u5730\u6b65==\u3002\u6211\u4eec\u4ece TCP \u5b9e\u73b0\u548c\u8bbe\u5907\u9a71\u52a8\u7a0b\u5e8f\u7684\u4e2d\u95f4\u63d0\u53d6\u4e86\u91cd\u8981\u4e8b\u4ef6\u3002\u6211\u4eec\u76f4\u63a5\u5c06\u8fd9\u4e9b\u4e8b\u4ef6\u5b58\u50a8\u5728\u53ef\u4ee5\u4f7f\u7528\u5e38\u89c1\u5de5\u5177\u7684\u6587\u4ef6\u4e2d\u3002\u6211\u4eec\u5728\u4e0d\u4fee\u6539\u4efb\u4f55\u6838\u5fc3\u4ee3\u7801\u7684\u60c5\u51b5\u4e0b\u5b8c\u6210\u4e86\u8fd9\u4e00\u5207\uff0c\u800c\u4e14\u53ea\u7528\u4e86 18 \u884c\u4ee3\u7801\uff1a</p> <pre><code>static void\nCwndChange(Ptr&lt;OutputStreamWrapper&gt; stream, uint32_t oldCwnd, uint32_t newCwnd)\n{\n  NS_LOG_UNCOND(Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; newCwnd);\n  *stream-&gt;GetStream() &lt;&lt; Simulator::Now().GetSeconds() &lt;&lt; \"\\t\" &lt;&lt; oldCwnd &lt;&lt; \"\\t\" &lt;&lt; newCwnd &lt;&lt; std::endl;\n}\n\n...\n\nAsciiTraceHelper asciiTraceHelper;\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"sixth.cwnd\");\nns3TcpSocket-&gt;TraceConnectWithoutContext(\"CongestionWindow\", MakeBoundCallback(&amp;CwndChange, stream));\n\n...\n\nstatic void\nRxDrop(Ptr&lt;PcapFileWrapper&gt; file, Ptr&lt;const Packet&gt; p)\n{\n  NS_LOG_UNCOND(\"RxDrop at \" &lt;&lt; Simulator::Now().GetSeconds());\n  file-&gt;Write(Simulator::Now(), p);\n}\n\n...\n\nPcapHelper pcapHelper;\nPtr&lt;PcapFileWrapper&gt; file = pcapHelper.CreateFile(\"sixth.pcap\", \"w\", PcapHelper::DLT_PPP);\ndevices.Get(1)-&gt;TraceConnectWithoutContext(\"PhyRxDrop\", MakeBoundCallback(&amp;RxDrop, file));\n</code></pre>"},{"location":"Sci_doc/ns-3/ch4/#trace-helpers","title":"Trace Helpers","text":"<p>ns-3\u7684\u8ddf\u8e2a\u52a9\u624b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e30\u5bcc\u7684\u73af\u5883\uff0c\u7528\u4e8e\u914d\u7f6e\u548c\u9009\u62e9\u4e0d\u540c\u7684\u8ddf\u8e2a\u4e8b\u4ef6\u5e76\u5c06\u5b83\u4eec\u5199\u5165\u6587\u4ef6\u3002\u5728\u4e4b\u524d\u7684\u7ae0\u8282\u4e2d\uff0c\u4e3b\u8981\u662f\u5728\u201c\u6784\u5efa\u62d3\u6251\u201d\u4e00\u8282\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u4e86\u8bbe\u8ba1\u7528\u4e8e\u5728\u5176\u4ed6\uff08\u8bbe\u5907\uff09\u52a9\u624b\u4e2d\u4f7f\u7528\u7684\u51e0\u79cd\u8ddf\u8e2a\u52a9\u624b\u65b9\u6cd5\u7684\u5404\u79cd\u53d8\u4f53\u3002</p> <p>\u4e5f\u8bb8\u4f60\u8fd8\u8bb0\u5f97\u770b\u5230\u4e86\u4e00\u4e9b\u8fd9\u6837\u7684\u53d8\u4f53\uff1a</p> <pre><code>pointToPoint.EnablePcapAll(\"second\");\npointToPoint.EnablePcap(\"second\", p2pNodes.Get(0)-&gt;GetId(), 0);\ncsma.EnablePcap(\"third\", csmaDevices.Get(0), true);\npointToPoint.EnableAsciiAll(ascii.CreateFileStream(\"myfirst.tr\"));\n</code></pre> <p>\u7136\u800c\uff0c\u53ef\u80fd\u4e0d\u592a\u660e\u663e\u7684\u662f\uff0c\u7cfb\u7edf\u4e2d\u6240\u6709\u4e0e\u8ddf\u8e2a\u76f8\u5173\u7684\u65b9\u6cd5\u90fd\u6709\u4e00\u4e2a\u4e00\u81f4\u7684\u6a21\u578b\u3002\u73b0\u5728\u6211\u4eec\u5c06\u82b1\u70b9\u65f6\u95f4\u6765\u770b\u4e00\u4e0b\u201c\u5168\u5c40\u89c6\u56fe\u201d\u3002</p> <p>\u76ee\u524d\uff0c\u5728ns-3\u4e2d\u6709\u4e24\u79cd\u4e3b\u8981\u7528\u4f8b\u7528\u4e8e\u8ddf\u8e2a\u52a9\u624b\uff1a\u8bbe\u5907\u52a9\u624b\u548c\u534f\u8bae\u52a9\u624b\u3002\u8bbe\u5907\u52a9\u624b\u89e3\u51b3\u4e86\u901a\u8fc7\uff08\u8282\u70b9\u3001\u8bbe\u5907\uff09\u5bf9\u6765\u6307\u5b9a\u5e94\u542f\u7528\u54ea\u4e9b\u8ddf\u8e2a\u7684\u95ee\u9898\u3002\u4f8b\u5982\uff0c\u60a8\u53ef\u80fd\u60f3\u6307\u5b9a\u5e94\u5728\u7279\u5b9a\u8282\u70b9\u4e0a\u7684\u7279\u5b9a\u8bbe\u5907\u4e0a\u542f\u7528PCAP\u8ddf\u8e2a\u3002\u8fd9\u9075\u5faa\u81eans-3\u8bbe\u5907\u6982\u5ff5\u6a21\u578b\uff0c\u4ee5\u53ca\u5404\u79cd\u8bbe\u5907\u52a9\u624b\u7684\u6982\u5ff5\u6a21\u578b\u3002\u7531\u6b64\u81ea\u7136\u4ea7\u751f\u7684\u6587\u4ef6\u9075\u5faa \\-\\-\\ \u7684\u547d\u540d\u7ea6\u5b9a\u3002 <p>\u534f\u8bae\u52a9\u624b\u89e3\u51b3\u4e86\u901a\u8fc7\u534f\u8bae\u548c\u63a5\u53e3\u5bf9\u6307\u5b9a\u5e94\u542f\u7528\u54ea\u4e9b\u8ddf\u8e2a\u7684\u95ee\u9898\u3002\u8fd9\u9075\u5faa\u81eans-3\u534f\u8bae\u6808\u6982\u5ff5\u6a21\u578b\uff0c\u4ee5\u53caInternet\u6808\u52a9\u624b\u7684\u6982\u5ff5\u6a21\u578b\u3002\u81ea\u7136\u800c\u7136\uff0c\u8ddf\u8e2a\u6587\u4ef6\u5e94\u8be5\u9075\u5faa \\-\\-\\ \u7684\u547d\u540d\u7ea6\u5b9a\u3002 <p>\u56e0\u6b64\uff0c\u8ddf\u8e2a\u52a9\u624b\u81ea\u7136\u5730\u843d\u5165\u4e00\u4e2a\u4e8c\u7ef4\u7684\u5206\u7c7b\u6cd5\u4e2d\u3002\u6709\u4e00\u4e9b\u5fae\u5999\u4e4b\u5904\u963b\u6b62\u4e86\u6240\u6709\u56db\u4e2a\u7c7b\u522b\u7684\u884c\u4e3a\u5b8c\u5168\u76f8\u540c\uff0c\u4f46\u6211\u4eec\u786e\u5b9e\u52aa\u529b\u4f7f\u5b83\u4eec\u5c3d\u53ef\u80fd\u76f8\u4f3c\uff1b\u5e76\u4e14\u5728\u6240\u6709\u7c7b\u522b\u4e2d\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u6709\u7c7b\u4f3c\u7269\u65f6\uff0c\u6211\u4eec\u4f1a\u5c3d\u91cf\u8ba9\u5b83\u4eec\u90fd\u80fd\u591f\u5de5\u4f5c\u3002</p> <pre><code>             PCAP    ASCII\n\u8bbe\u5907\u52a9\u624b   \\checkmark  \\checkmark\n\u534f\u8bae\u52a9\u624b   \\checkmark  \\checkmark\n</code></pre> <p>\u6211\u4eec\u4f7f\u7528\u4e00\u79cd\u79f0\u4e3a\u201cmixin\u201d\u7684\u65b9\u6cd5\u5c06\u8ddf\u8e2a\u529f\u80fd\u6dfb\u52a0\u5230\u6211\u4eec\u7684\u52a9\u624b\u7c7b\u4e2d\u3002Mixin\u662f\u4e00\u4e2a\u5728\u5b50\u7c7b\u7ee7\u627f\u65f6\u63d0\u4f9b\u529f\u80fd\u7684\u7c7b\u3002\u4ecemixin\u7ee7\u627f\u4e0d\u88ab\u8ba4\u4e3a\u662f\u4e00\u79cd\u4e13\u4e1a\u5316\u5f62\u5f0f\uff0c\u800c\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u6536\u96c6\u529f\u80fd\u7684\u65b9\u5f0f\u3002</p> <p>\u8ba9\u6211\u4eec\u5feb\u901f\u770b\u4e00\u4e0b\u8fd9\u56db\u79cd\u60c5\u51b5\u53ca\u5176\u5404\u81ea\u7684mixin\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#device-helpers","title":"Device Helpers","text":""},{"location":"Sci_doc/ns-3/ch4/#pcap","title":"PCAP","text":"<p>\u8fd9\u4e9b\u52a9\u624b\u7684\u76ee\u6807\u662f\u4f7f\u5728ns-3\u8bbe\u5907\u4e2d\u6dfb\u52a0\u4e00\u81f4\u7684PCAP\u8ddf\u8e2a\u529f\u80fd\u53d8\u5f97\u5bb9\u6613\u3002\u6211\u4eec\u5e0c\u671b\u6240\u6709\u5404\u79cdPCAP\u8ddf\u8e2a\u65b9\u5f0f\u5728\u6240\u6709\u8bbe\u5907\u4e0a\u90fd\u80fd\u591f\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c\uff0c\u56e0\u6b64\u8fd9\u4e9b\u52a9\u624b\u7684\u65b9\u6cd5\u4f1a\u88ab\u8bbe\u5907\u52a9\u624b\u7ee7\u627f\u3002\u5982\u679c\u4f60\u60f3\u5728\u67e5\u770b\u5b9e\u9645\u4ee3\u7801\u65f6\u8ddf\u8e2a\u8ba8\u8bba\uff0c\u8bf7\u67e5\u770b src/network/helper/trace-helper.h\u3002</p> <p>\u7c7b PcapHelperForDevice \u662f\u4e00\u4e2a\u6df7\u5408\u7c7b\uff0c==\u63d0\u4f9b\u4e86\u5728ns-3\u8bbe\u5907\u4e2d\u4f7f\u7528PCAP\u8ddf\u8e2a\u7684\u9ad8\u7ea7\u529f\u80fd==\u3002\u6bcf\u4e2a\u8bbe\u5907\u5fc5\u987b\u5b9e\u73b0\u4ece\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u7684\u5355\u4e2a\u865a\u62df\u65b9\u6cd5\u3002</p> <pre><code>virtual void EnablePcapInternal(std::string prefix, Ptr&lt;NetDevice&gt; nd, bool promiscuous, bool explicitFilename) = 0;\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7b7e\u540d\u53cd\u6620\u4e86\u5728\u8fd9\u4e2a\u7ea7\u522b\u4e0a\u7684\u4ee5\u8bbe\u5907\u4e3a\u4e2d\u5fc3\u7684\u89c6\u56fe\u3002\u4ece\u7c7b PcapUserHelperForDevice \u7ee7\u627f\u7684\u6240\u6709\u516c\u5171\u65b9\u6cd5\u6700\u7ec8\u90fd\u4f1a\u8c03\u7528\u8fd9\u4e2a\u5355\u4e00\u7684\u3001\u4f9d\u8d56\u4e8e\u8bbe\u5907\u7684\u5b9e\u73b0\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u6700\u4f4e\u7ea7\u522b\u7684PCAP\u65b9\u6cd5\uff1a</p> <pre><code>void EnablePcap(std::string prefix, Ptr&lt;NetDevice&gt; nd, bool promiscuous = false, bool explicitFilename = false);\n</code></pre> <p>\u5c06\u76f4\u63a5\u8c03\u7528 EnablePcapInternal \u65b9\u6cd5\u7684\u8bbe\u5907\u5b9e\u73b0\u3002\u6240\u6709\u5176\u4ed6\u516c\u5171PCAP\u8ddf\u8e2a\u65b9\u6cd5\u90fd\u5efa\u7acb\u5728\u8fd9\u4e2a\u5b9e\u73b0\u4e0a\uff0c\u4ee5\u63d0\u4f9b\u989d\u5916\u7684\u7528\u6237\u7ea7\u529f\u80fd\u3002\u5bf9\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u610f\u5473\u7740\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8bbe\u5907\u52a9\u624b\u90fd\u5c06\u5177\u6709\u6240\u6709PCAP\u8ddf\u8e2a\u65b9\u6cd5\uff1b\u5e76\u4e14\u5982\u679c\u8bbe\u5907\u6b63\u786e\u5b9e\u73b0\u4e86 EnablePcapInternal\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5728\u6240\u6709\u8bbe\u5907\u4e0a\u90fd\u5c06\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#methods","title":"Methods","text":"<p>\u5728\u4e0a\u9762\u663e\u793a\u7684\u6bcf\u4e2a\u65b9\u6cd5\u4e2d\uff0c\u90fd==\u6709\u4e00\u4e2a\u540d\u4e3a promiscuous \u7684\u9ed8\u8ba4\u53c2\u6570\uff0c\u9ed8\u8ba4\u503c\u4e3a false\u3002\u8be5\u53c2\u6570\u8868\u793a\u8ddf\u8e2a\u4e0d\u5e94\u5728\u6df7\u6742\u6a21\u5f0f\u4e0b\u6536\u96c6==\u3002\u5982\u679c\u786e\u5b9e\u5e0c\u671b\u8ddf\u8e2a\u5305\u62ec\u8bbe\u5907\u770b\u5230\u7684\u6240\u6709\u6d41\u91cf\uff08\u5e76\u4e14\u8bbe\u5907\u652f\u6301\u6df7\u6742\u6a21\u5f0f\uff09\uff0c\u53ea\u9700\u5728\u4e0a\u8ff0\u4efb\u4f55\u8c03\u7528\u4e2d\u6dfb\u52a0\u4e00\u4e2a true \u53c2\u6570\u3002\u4f8b\u5982\uff0c</p> <pre><code>Ptr&lt;NetDevice&gt; nd;\n...\nhelper.EnablePcap(\"prefix\", nd, true);\n</code></pre> <p>\u5c06\u5728\u7531 nd \u6307\u5b9a\u7684 NetDevice \u4e0a\u542f\u7528\u6df7\u6742\u6a21\u5f0f\u6355\u83b7\u3002</p> <p>\u524d\u4e24\u79cd\u65b9\u6cd5\u8fd8\u5305\u62ec\u4e00\u4e2a\u540d\u4e3a explicitFilename \u7684\u9ed8\u8ba4\u53c2\u6570\uff0c\u5c06\u5728\u4e0b\u9762\u8ba8\u8bba\u3002</p> <p>\u9f13\u52b1\u4f60\u67e5\u770b\u7c7b PcapHelperForDevice \u7684 API \u6587\u6863\u4ee5\u627e\u5230\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8be6\u7ec6\u4fe1\u606f\uff1b\u4f46\u603b\u7684\u6765\u8bf4\uff1a</p> <ul> <li>\u901a\u8fc7\u5411 EnablePcap \u65b9\u6cd5\u63d0\u4f9b Ptr\\\uff0c\u53ef\u4ee5==\u5728\u7279\u5b9a\u8282\u70b9/\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u542f\u7528PCAP\u8ddf\u8e2a==\u3002Ptr\\ \u662f\u9690\u5f0f\u7684\uff0c\u56e0\u4e3a\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u6b63\u597d\u4e00\u4e2a\u8282\u70b9\u3002\u4f8b\u5982\uff0c <pre><code>Ptr&lt;NetDevice&gt; nd;\n...\nhelper.EnablePcap(\"prefix\", nd);\n</code></pre> <ul> <li>\u901a\u8fc7\u5411 EnablePcap \u65b9\u6cd5\u63d0\u4f9b\u8868\u793a\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5b57\u7b26\u4e32\u7684 std::string\uff0c\u53ef\u4ee5\u5728\u7279\u5b9a\u8282\u70b9/\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u542f\u7528PCAP\u8ddf\u8e2a\u3002==\u4ece\u540d\u79f0\u5b57\u7b26\u4e32\u67e5\u627e Ptr\\==\u3002\u540c\u6837\uff0c\\ \u662f\u9690\u5f0f\u7684\uff0c\u56e0\u4e3a\u547d\u540d\u7684\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u6b63\u597d\u4e00\u4e2a\u8282\u70b9\u3002\u4f8b\u5982\uff0c <pre><code>Names::Add(\"server\" ...);\nNames::Add(\"server/eth0\" ...);\n...\nhelper.EnablePcap(\"prefix\", \"server/ath0\");\n</code></pre> <ul> <li>\u901a\u8fc7\u63d0\u4f9b NetDeviceContainer\uff0c\u53ef\u4ee5\u5728\u4e00\u7ec4\u8282\u70b9/\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u542f\u7528PCAP\u8ddf\u8e2a\u3002==\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2a NetDevice\uff0c\u68c0\u67e5\u5176\u7c7b\u578b==\u3002==\u5bf9\u4e8e\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u8bbe\u5907\u76f8\u540c\u7c7b\u578b\u7684\u6bcf\u4e2a\u8bbe\u5907\uff0c\u542f\u7528\u8ddf\u8e2a==\u3002\u540c\u6837\uff0c\\ \u662f\u9690\u5f0f\u7684\uff0c\u56e0\u4e3a\u627e\u5230\u7684\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u6b63\u597d\u4e00\u4e2a\u8282\u70b9\u3002\u4f8b\u5982\uff0c <pre><code>NetDeviceContainer d = ...;\n...\nhelper.EnablePcap(\"prefix\", d);\n</code></pre> <ul> <li>\u901a\u8fc7\u63d0\u4f9b NodeContainer\uff0c\u53ef\u4ee5\u5728\u4e00\u7ec4\u8282\u70b9/\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u542f\u7528PCAP\u8ddf\u8e2a\u3002==\u5bf9\u4e8e NodeContainer \u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\uff0c\u8fed\u4ee3\u5176\u9644\u52a0\u7684 NetDevices==\u3002==\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u6bcf\u4e2a\u8282\u70b9\u9644\u52a0\u7684\u6bcf\u4e2a NetDevice==\uff0c\u68c0\u67e5\u8be5\u8bbe\u5907\u7684\u7c7b\u578b\u3002\u5bf9\u4e8e\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u8bbe\u5907\u76f8\u540c\u7c7b\u578b\u7684\u6bcf\u4e2a\u8bbe\u5907\uff0c\u542f\u7528\u8ddf\u8e2a\u3002</li> </ul> <pre><code>NodeContainer n;\n...\nhelper.EnablePcap(\"prefix\", n);\n</code></pre> <ul> <li>\u8fd8\u53ef\u4ee5\u6839\u636e\u8282\u70b9ID\u548c\u8bbe\u5907ID\u4ee5\u53ca\u663e\u5f0f Ptr \u542f\u7528PCAP\u8ddf\u8e2a\u3002\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u6709\u4e00\u4e2a\u6574\u6570\u8282\u70b9ID\uff0c\u8fde\u63a5\u5230\u8282\u70b9\u7684\u6bcf\u4e2a\u8bbe\u5907\u90fd\u6709\u4e00\u4e2a\u6574\u6570\u8bbe\u5907ID\u3002</li> </ul> <pre><code>helper.EnablePcap(\"prefix\", 21, 1);\n</code></pre> <ul> <li>\u6700\u540e\uff0c\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u4e2d\u7531\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u76f8\u540c\u7c7b\u578b\u7684\u6240\u6709\u8bbe\u5907\u542f\u7528PCAP\u8ddf\u8e2a\u3002</li> </ul> <pre><code>helper.EnablePcapAll(\"prefix\");\n</code></pre>"},{"location":"Sci_doc/ns-3/ch4/#filenames","title":"Filenames","text":"<p>\u4e0a\u8ff0\u65b9\u6cd5\u63cf\u8ff0\u4e2d\u9690\u542b\u4e86\u901a\u8fc7\u5b9e\u73b0\u65b9\u6cd5\u6784\u5efa\u5b8c\u6574\u6587\u4ef6\u540d\u7684\u8fc7\u7a0b\u3002\u6309\u7167\u7ea6\u5b9a\uff0cns-3\u7cfb\u7edf\u4e2d\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\u7684\u547d\u540d\u5f62\u5f0f\u4e3a <code>&lt;prefix&gt;-&lt;node id&gt;-&lt;device id&gt;.pcap</code>\u3002</p> <p>\u6b63\u5982\u5148\u524d\u63d0\u5230\u7684\uff0c\u7cfb\u7edf\u4e2d\u7684==\u6bcf\u4e2a\u8282\u70b9\u90fd\u5c06\u6709\u4e00\u4e2a\u7cfb\u7edf\u5206\u914d\u7684\u8282\u70b9ID\uff1b\u800c\u6bcf\u4e2a\u8bbe\u5907\u90fd\u5c06\u6709\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u5176\u8282\u70b9\u7684\u63a5\u53e3\u7d22\u5f15\uff08\u4e5f\u79f0\u4e3a\u8bbe\u5907ID\uff09==\u3002\u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u5728Node 21\u4e0a\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u4e0a\u542f\u7528\u8ddf\u8e2a\uff0c\u5e76\u4f7f\u7528\u524d\u7f00\u201cprefix\u201d\u521b\u5efa\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\u5c06\u662f <code>prefix-21-1.pcap</code>\u3002</p> <p>\u4f60\u59cb\u7ec8\u53ef\u4ee5\u4f7f\u7528ns-3\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u6765\u4f7f\u8fd9\u66f4\u52a0\u6e05\u6670\u3002\u4f8b\u5982\uff0c\u5982\u679c\u4f60\u4f7f\u7528\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5c06\u540d\u79f0\u201cserver\u201d\u5206\u914d\u7ed9Node 21\uff0c\u90a3\u4e48\u7531\u6b64\u4ea7\u751f\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\u540d\u79f0\u5c06\u81ea\u52a8\u53d8\u4e3a <code>prefix-server-1.pcap</code>\uff0c\u5982\u679c\u4f60\u8fd8\u5c06\u540d\u79f0\u201ceth0\u201d\u5206\u914d\u7ed9\u8bbe\u5907\uff0c\u4f60\u7684PCAP\u6587\u4ef6\u540d\u5c06\u81ea\u52a8\u83b7\u53d6\u8fd9\u4e2a\u5e76\u79f0\u4e3a <code>prefix-server-eth0.pcap</code>\u3002</p> <p>\u6700\u540e\uff0c\u4e0a\u9762\u663e\u793a\u7684\u4e24\u4e2a\u65b9\u6cd5\uff0c</p> <pre><code>void EnablePcap(std::string prefix, Ptr&lt;NetDevice&gt; nd, bool promiscuous = false, bool explicitFilename = false);\nvoid EnablePcap(std::string prefix, std::string ndName, bool promiscuous = false, bool explicitFilename = false);\n</code></pre> <p>\u90fd\u6709\u4e00\u4e2a==\u540d\u4e3a explicitFilename \u7684\u9ed8\u8ba4\u53c2\u6570==\u3002\u5f53\u8bbe\u7f6e\u4e3a true \u65f6\uff0c\u6b64\u53c2\u6570\u7981\u7528\u81ea\u52a8\u6587\u4ef6\u540d\u5b8c\u6210\u673a\u5236\uff0c\u5141\u8bb8\u4f60\u521b\u5efa\u663e\u5f0f\u6587\u4ef6\u540d\u3002\u6b64\u9009\u9879\u4ec5\u5728\u542f\u7528PCAP\u8ddf\u8e2a\u7684\u5355\u4e2a\u8bbe\u5907\u7684\u65b9\u6cd5\u4e2d\u53ef\u7528\u3002</p> <p>\u4f8b\u5982\uff0c\u4e3a\u4e86\u8ba9\u8bbe\u5907\u52a9\u624b\u5728\u7ed9\u5b9a\u8bbe\u5907\u4e0a\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a <code>my-pcap-file.pcap</code> \u7684\u5355\u4e2a\u6df7\u6742\u6a21\u5f0fPCAP\u6355\u83b7\u6587\u4ef6\uff0c\u53ef\u4ee5\uff1a</p> <pre><code>Ptr&lt;NetDevice&gt; nd;\n...\nhelper.EnablePcap(\"my-pcap-file.pcap\", nd, true, true);\n</code></pre> <p>\u7b2c\u4e00\u4e2a true \u53c2\u6570\u542f\u7528\u6df7\u6742\u6a21\u5f0f\u8ddf\u8e2a\uff0c\u7b2c\u4e8c\u4e2a\u544a\u8bc9\u52a9\u624b\u5c06\u524d\u7f00\u53c2\u6570\u89e3\u91ca\u4e3a\u5b8c\u6574\u6587\u4ef6\u540d\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#ascii","title":"ASCII","text":"<p>ASCII\u8ddf\u8e2a\u52a9\u624b\u6df7\u5408\u7c7b\u7684\u884c\u4e3a\u4e0ePCAP\u7248\u672c\u57fa\u672c\u76f8\u4f3c\u3002\u5982\u679c\u4f60\u60f3\u5728\u67e5\u770b\u771f\u5b9e\u4ee3\u7801\u65f6\u8ddf\u8e2a\u8ba8\u8bba\uff0c\u8bf7\u67e5\u770b <code>src/network/helper/trace-helper.h</code>\u3002</p> <p>\u7c7b <code>AsciiTraceHelperForDevice</code> \u6dfb\u52a0\u4e86\u5728\u8bbe\u5907\u52a9\u624b\u7c7b\u4e2d\u4f7f\u7528ASCII\u8ddf\u8e2a\u7684\u9ad8\u7ea7\u529f\u80fd\u3002\u4e0ePCAP\u60c5\u51b5\u7c7b\u4f3c\uff0c==\u6bcf\u4e2a\u8bbe\u5907\u5fc5\u987b\u5b9e\u73b0\u4eceASCII\u8ddf\u8e2a\u6df7\u5408\u7c7b\u7ee7\u627f\u7684\u5355\u4e2a\u865a\u62df\u65b9\u6cd5==\u3002</p> <pre><code>virtual void EnableAsciiInternal(Ptr&lt;OutputStreamWrapper&gt; stream,\n                                 std::string prefix,\n                                 Ptr&lt;NetDevice&gt; nd,\n                                 bool explicitFilename) = 0;\n</code></pre> <p>\u8fd9\u4e2a\u65b9\u6cd5\u7684\u7b7e\u540d\u53cd\u6620\u4e86\u5728\u8fd9\u4e2a\u7ea7\u522b\u4e0a\u8bbe\u5907\u4e3a\u4e2d\u5fc3\u7684\u89c6\u56fe\uff1b\u8fd8\u53cd\u6620\u4e86\u52a9\u624b\u53ef\u80fd\u5728\u5199\u5165\u5171\u4eab\u8f93\u51fa\u6d41\u3002\u4ece\u7c7b <code>AsciiTraceHelperForDevice</code> \u7ee7\u627f\u7684\u6240\u6709\u516c\u5171ASCII\u8ddf\u8e2a\u76f8\u5173\u65b9\u6cd5\u6700\u7ec8\u90fd\u5c06\u8c03\u7528\u8fd9\u4e2a\u5355\u4e00\u7684\u3001\u4f9d\u8d56\u4e8e\u8bbe\u5907\u7684\u5b9e\u73b0\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u6700\u4f4e\u7ea7\u522b\u7684ASCII\u8ddf\u8e2a\u65b9\u6cd5\uff1a</p> <pre><code>void EnableAscii(std::string prefix, Ptr&lt;NetDevice&gt; nd, bool explicitFilename = false);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, Ptr&lt;NetDevice&gt; nd);\n</code></pre> <p>\u5c06\u76f4\u63a5\u8c03\u7528 <code>EnableAsciiInternal</code> \u65b9\u6cd5\u7684\u8bbe\u5907\u5b9e\u73b0\uff0c\u63d0\u4f9b\u6709\u6548\u7684\u524d\u7f00\u6216\u6d41\u3002</p> <p>\u6240\u6709\u5176\u4ed6\u516c\u5171ASCII\u8ddf\u8e2a\u65b9\u6cd5\u5c06\u5728\u8fd9\u4e9b\u4f4e\u7ea7\u529f\u80fd\u7684\u57fa\u7840\u4e0a\u6784\u5efa\uff0c\u4ee5\u63d0\u4f9b\u989d\u5916\u7684\u7528\u6237\u7ea7\u529f\u80fd\u3002\u5bf9\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u610f\u5473\u7740\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8bbe\u5907\u52a9\u624b\u90fd\u5c06\u5177\u6709\u6240\u6709ASCII\u8ddf\u8e2a\u65b9\u6cd5\uff1b\u5982\u679c\u8bbe\u5907\u6b63\u786e\u5b9e\u73b0\u4e86 <code>EnableAsciiInternal</code>\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u5728\u6240\u6709\u8bbe\u5907\u4e0a\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#methods_1","title":"Methods","text":"<p><pre><code>void EnableAscii(std::string prefix, Ptr&lt;NetDevice&gt; nd, bool explicitFilename = false);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, Ptr&lt;NetDevice&gt; nd);\n\nvoid EnableAscii(std::string prefix, std::string ndName, bool explicitFilename = false);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, std::string ndName);\n\nvoid EnableAscii(std::string prefix, NetDeviceContainer d);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, NetDeviceContainer d);\n\nvoid EnableAscii(std::string prefix, NodeContainer n);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, NodeContainer n);\n\nvoid EnableAsciiAll(std::string prefix);\nvoid EnableAsciiAll(Ptr&lt;OutputStreamWrapper&gt; stream);\n\nvoid EnableAscii(std::string prefix, uint32_t nodeid, uint32_t deviceid, bool explicitFilename);\nvoid EnableAscii(Ptr&lt;OutputStreamWrapper&gt; stream, uint32_t nodeid, uint32_t deviceid);\n</code></pre> \u9f13\u52b1\u60a8\u4ed4\u7ec6\u9605\u8bfbAsciiTraceHelperForDevice\u7c7b\u7684API\u6587\u6863\u4ee5\u83b7\u53d6\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8be6\u7ec6\u4fe1\u606f\uff1b\u4f46\u603b\u4f53\u4e0a\u6765\u8bf4...</p> <p>ASCII\u8ddf\u8e2a\u63d0\u4f9b\u7684\u65b9\u6cd5\u6570\u91cf\u662fPCAP\u8ddf\u8e2a\u7684\u4e24\u500d\u3002\u8fd9\u662f\u56e0\u4e3a\u9664\u4e86\u652f\u6301PCAP\u98ce\u683c\u7684\u6a21\u578b\uff0c\u5176\u4e2d\u4ece\u6bcf\u4e2a\u552f\u4e00\u7684\u8282\u70b9/\u8bbe\u5907\u5bf9\u7684\u8ddf\u8e2a\u5199\u5165\u4e00\u4e2a\u552f\u4e00\u7684\u6587\u4ef6\uff08\u4e00\u5bf9\u4e00\uff09\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u652f\u6301\u4e00\u79cd\u6a21\u578b\uff1a\u5176\u4e2d\u8bb8\u591a\u8282\u70b9/\u8bbe\u5907\u5bf9\u7684\u8ddf\u8e2a\u4fe1\u606f\u5199\u5165\u4e00\u4e2a\u5171\u540c\u7684\u6587\u4ef6\uff08\u591a\u5bf9\u4e00\uff09\u3002</p> <p>\u8fd9\u610f\u5473\u7740&lt;\u524d\u7f00&gt;-&lt;\u8282\u70b9&gt;-&lt;\u8bbe\u5907&gt;\u6587\u4ef6\u540d\u751f\u6210\u673a\u5236\u88ab\u66ff\u6362\u4e3a\u5f15\u7528\u5171\u540c\u6587\u4ef6\u7684\u673a\u5236\uff1bAPI\u65b9\u6cd5\u7684\u6570\u91cf\u7ffb\u500d\uff0c\u4ee5\u652f\u6301\u6240\u6709\u53ef\u80fd\u7684\u7ec4\u5408\u3002</p> <p>\u5c31\u50cf\u5728PCAP\u8ddf\u8e2a\u4e2d\u4e00\u6837\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411EnableAscii\u65b9\u6cd5\u63d0\u4f9bPtr\\\u6765\u542f\u7528\u5bf9\u7279\u5b9a\uff08\u8282\u70b9\u3001\u7f51\u7edc\u8bbe\u5907\uff09\u5bf9\u7684ASCII\u8ddf\u8e2a\u3002Ptr\\\u662f\u9690\u5f0f\u7684\uff0c\u56e0\u4e3a\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u4e00\u4e2a\u8282\u70b9\u3002\u4f8b\u5982\uff0c <pre><code>Ptr&lt;NetDevice&gt; nd;\n...\nhelper.EnableAscii(\"prefix\", nd);\n</code></pre> <p>\u524d\u56db\u79cd\u65b9\u6cd5\u8fd8\u5305\u62ec\u4e00\u4e2a\u540d\u4e3aexplicitFilename\u7684\u9ed8\u8ba4\u53c2\u6570\uff0c\u5176\u64cd\u4f5c\u7c7b\u4f3c\u4e8ePCAP\u60c5\u51b5\u4e2d\u7684\u7b49\u6548\u53c2\u6570\u3002</p> <p>==\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u5c06\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u5199\u5165ASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u591a\u4f59\u7684==\u3002\u7cfb\u7edf\u5c06==\u4f7f\u7528\u4e0ePCAP\u90e8\u5206\u63cf\u8ff0\u7684\u76f8\u540c\u89c4\u5219\u9009\u62e9\u8981\u521b\u5efa\u7684\u6587\u4ef6\u540d==\uff0c\u552f\u4e00\u7684\u533a\u522b\u662f\u6587\u4ef6\u5c06\u5177\u6709\u540e\u7f00.tr\u800c\u4e0d\u662f.pcap\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u8981\u5728\u591a\u4e2a\u7f51\u7edc\u8bbe\u5907\u4e0a\u542f\u7528ASCII\u8ddf\u8e2a\u5e76\u5c06\u6240\u6709\u8ddf\u8e2a\u53d1\u9001\u5230\u5355\u4e2a\u6587\u4ef6\uff08\u591a\u5bf9\u4e00\uff09\uff0c\u60a8\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u4e00\u4e2a\u5bf9\u8c61\u5f15\u7528\u5355\u4e2a\u6587\u4ef6\u6765\u5b9e\u73b0\u3002\u6211\u4eec\u5728\u4e0a\u9762\u7684\u201ccwnd\u201d\u793a\u4f8b\u4e2d\u5df2\u7ecf\u89c1\u8fc7\u8fd9\u79cd\u60c5\u51b5\uff1a</p> <pre><code>Ptr&lt;NetDevice&gt; nd1;\nPtr&lt;NetDevice&gt; nd2;\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAscii(stream, nd1);\nhelper.EnableAscii(stream, nd2);\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u9700\u8981\u6d88\u9664\u4e24\u4e2a\u8bbe\u5907\u7684\u8ddf\u8e2a\u6b67\u4e49\uff0c\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u5c06\u88ab\u5199\u5165ASCII\u8ddf\u8e2a\u6587\u4ef6\u3002\u8bf7\u6ce8\u610f\uff0c==\u7531\u4e8e\u7528\u6237\u5b8c\u5168\u6307\u5b9a\u4e86\u6587\u4ef6\u540d\uff0c\u5b57\u7b26\u4e32\u5e94\u5305\u542b.tr\u540e\u7f00\u4ee5\u4fdd\u6301\u4e00\u81f4\u6027\u3002==</p> <p>\u60a8\u53ef\u4ee5==\u901a\u8fc7\u5411EnablePcap\u65b9\u6cd5\u63d0\u4f9b\u8868\u793a\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5b57\u7b26\u4e32\u7684std::string\u6765\u542f\u7528\u5bf9\u7279\u5b9a\uff08\u8282\u70b9\u3001\u7f51\u7edc\u8bbe\u5907\uff09\u5bf9\u7684ASCII\u8ddf\u8e2a==\u3002Ptr\\\u4ece\u540d\u79f0\u5b57\u7b26\u4e32\u67e5\u627e\u3002\u540c\u6837\uff0c\u7531\u4e8e\u547d\u540d\u7684\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u4ee5\\\u662f\u9690\u5f0f\u7684\u3002\u4f8b\u5982\uff1a <pre><code>Names::Add(\"client\" ...);\nNames::Add(\"client/eth0\" ...);\nNames::Add(\"server\" ...);\nNames::Add(\"server/eth0\" ...);\n...\nhelper.EnableAscii(\"prefix\", \"client/eth0\");\nhelper.EnableAscii(\"prefix\", \"server/eth0\");\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4==\u751f\u6210\u4e24\u4e2a\u6587\u4ef6\uff0c\u5206\u522b\u547d\u540d\u4e3aprefix-client-eth0.tr\u548cprefix-server-eth0.tr\uff0c\u5176\u4e2d\u5305\u542b\u5404\u4e2a\u8bbe\u5907\u7684\u8ddf\u8e2a\u4fe1\u606f==\u3002\u7531\u4e8e\u6240\u6709\u7684EnableAscii\u51fd\u6570\u90fd\u88ab\u91cd\u8f7d\u4ee5\u63a5\u53d7\u6d41\u5305\u88c5\u5668\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u90a3\u79cd\u5f62\u5f0f\uff1a</p> <pre><code>Names::Add(\"client\" ...);\nNames::Add(\"client/eth0\" ...);\nNames::Add(\"server\" ...);\nNames::Add(\"server/eth0\" ...);\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAscii(stream, \"client/eth0\");\nhelper.EnableAscii(stream, \"server/eth0\");\n</code></pre> <p>\u8fd9\u5c06\u751f\u6210\u4e00\u4e2a\u540d\u4e3atrace-file-name.tr\u7684\u5355\u4e00\u8ddf\u8e2a\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u8bbe\u5907\u7684\u6240\u6709\u8ddf\u8e2a\u4e8b\u4ef6\u3002\u8fd9\u4e9b\u4e8b\u4ef6\u5c06\u901a\u8fc7\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u5b57\u7b26\u4e32\u8fdb\u884c\u6d88\u6b67\u3002</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u4e00\u4e2aNetDeviceContainer\u6765\u4e3a==\u4e00\u7ec4\uff08\u8282\u70b9\u3001\u7f51\u7edc\u8bbe\u5907\uff09\u5bf9\u542f\u7528ASCII\u8ddf\u8e2a==\u3002\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2aNetDevice\uff0c\u90fd\u4f1a\u68c0\u67e5\u5176\u7c7b\u578b\u3002\u5bf9\u4e8e\u5177\u6709\u6b63\u786e\u7c7b\u578b\u7684\u6bcf\u4e2a\u8bbe\u5907\uff08\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u76f8\u540c\u7c7b\u578b\uff09\uff0c\u90fd\u4f1a\u542f\u7528\u8ddf\u8e2a\u3002\u540c\u6837\uff0c\u7531\u4e8e\u627e\u5230\u7684\u7f51\u7edc\u8bbe\u5907\u5fc5\u987b\u5c5e\u4e8e\u4e00\u4e2a\u8282\u70b9\uff0c\u6240\u4ee5\\\u662f\u9690\u5f0f\u7684\u3002\u4f8b\u5982\uff0c <pre><code>NetDeviceContainer d = ...;\n...\nhelper.EnableAscii(\"prefix\", d);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u9075\u5faa\\-\\-\\.tr\u7684\u7ea6\u5b9a\u3002 <p>\u5c06==\u6240\u6709\u8ddf\u8e2a\u7ec4\u5408\u5230\u5355\u4e2a\u6587\u4ef6==\u4e2d\u7684\u65b9\u5f0f\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\uff1a</p> <pre><code>NetDeviceContainer d = ...;\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAscii(stream, d);\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b\u4e00\u4e2aNodeContainer\uff0c\u5728\u6bcf\u4e2aNode\u4e2d\u8fed\u4ee3\u5176\u8fde\u63a5\u7684NetDevices\uff0c\u4e3a\u4e00\u7ec4\uff08\u8282\u70b9\u3001\u7f51\u7edc\u8bbe\u5907\uff09\u5bf9\u542f\u7528ASCII\u8ddf\u8e2a\u3002\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2aNode\uff0c\u90fd\u4f1a\u8fed\u4ee3\u5176\u8fde\u63a5\u7684NetDevices\u3002\u5bf9\u4e8e\u8fde\u63a5\u5230\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2aNode\u7684\u6bcf\u4e2aNetDevice\uff0c\u90fd\u4f1a\u68c0\u67e5\u8be5\u8bbe\u5907\u7684\u7c7b\u578b\u3002\u5bf9\u4e8e\u5177\u6709\u6b63\u786e\u7c7b\u578b\u7684\u6bcf\u4e2a\u8bbe\u5907\uff08\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u76f8\u540c\u7c7b\u578b\uff09\uff0c\u90fd\u4f1a\u542f\u7528\u8ddf\u8e2a\u3002</p> <pre><code>NodeContainer n;\n...\nhelper.EnableAscii(\"prefix\", n);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u9075\u5faa\\-\\-\\.tr\u7684\u7ea6\u5b9a\u3002\u5c06\u6240\u6709\u8ddf\u8e2a\u7ec4\u5408\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u65b9\u5f0f\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\u3002 <p>\u60a8\u8fd8\u53ef\u4ee5\u57fa\u4e8e\u8282\u70b9ID\u548c\u8bbe\u5907ID\u4ee5\u53ca\u663e\u5f0f\u7684Ptr\u6765\u542f\u7528ASCII\u8ddf\u8e2a\u3002\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2aNode\u90fd\u6709\u4e00\u4e2a\u6574\u6570Node ID\uff0c\u8fde\u63a5\u5230Node\u7684\u6bcf\u4e2a\u8bbe\u5907\u90fd\u6709\u4e00\u4e2a\u6574\u6570\u8bbe\u5907ID\u3002</p> <pre><code>helper.EnableAscii(\"prefix\", 21, 1);\n</code></pre> <p>\u5f53\u7136\uff0c\u5982\u4e0a\u9762\u6240\u793a\uff0c\u53ef\u4ee5\u5c06\u8ddf\u8e2a\u7ec4\u5408\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>\u6700\u540e\uff0c\u60a8\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u4e2d\u6240\u6709\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u76f8\u540c\u7c7b\u578b\u7684\u8bbe\u5907\u542f\u7528ASCII\u8ddf\u8e2a\u3002</p> <pre><code>helper.EnableAsciiAll(\"prefix\");\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4==\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u662f\u7cfb\u7edf\u4e2d\u7531\u52a9\u624b\u7ba1\u7406\u7684\u8bbe\u5907\u7c7b\u578b\u7684\u4e00\u4e2a==\u3002\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u90fd\u5c06\u9075\u5faa\\-\\-\\.tr\u7684\u7ea6\u5b9a\u3002\u5c06\u6240\u6709\u8ddf\u8e2a\u7ec4\u5408\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u65b9\u5f0f\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\u3002"},{"location":"Sci_doc/ns-3/ch4/#filenames_1","title":"Filenames","text":"<p>\u4e0a\u8ff0\u57fa\u4e8e\u524d\u7f00\u7684\u65b9\u6cd5\u63cf\u8ff0\u4e2d\u9690\u542b\u7740\u7531\u5b9e\u73b0\u65b9\u6cd5\u6784\u5efa\u5b8c\u6574\u6587\u4ef6\u540d\u7684\u7ea6\u5b9a\u3002\u6309\u7167\u89c4\u5b9a\uff0cns-3\u7cfb\u7edf\u4e2d\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u7684==\u683c\u5f0f\u4e3a\\-\\-\\.tr\u3002== <p>\u5982\u524d\u6240\u8ff0\uff0c\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u5c06\u6709\u4e00\u4e2a\u7531\u7cfb\u7edf\u5206\u914d\u7684\u8282\u70b9ID\uff1b\u6bcf\u4e2a\u8bbe\u5907\u90fd\u5c06\u6709\u4e00\u4e2a\u76f8\u5bf9\u4e8e\u5176\u8282\u70b9\u7684\u63a5\u53e3\u7d22\u5f15\uff08\u4e5f\u79f0\u4e3a\u8bbe\u5907ID\uff09\u3002\u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u5728\u8282\u70b921\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u4e0a\u542f\u7528\u8ddf\u8e2a\uff0c\u4f7f\u7528\u524d\u7f00\u201cprefix\u201d\u521b\u5efa\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u5c06\u662fprefix-21-1.tr\u3002</p> <p>\u60a8\u59cb\u7ec8\u53ef\u4ee5\u4f7f\u7528ns-3\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u6765\u4f7f\u8fd9\u4e00\u70b9\u66f4\u6e05\u6670\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5c06\u540d\u79f0\u201cserver\u201d\u5206\u914d\u7ed9\u8282\u70b921\uff0c\u90a3\u4e48\u751f\u6210\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u540d\u79f0\u5c06\u81ea\u52a8\u53d8\u4e3aprefix-server-1.tr\uff1b\u5982\u679c\u60a8\u8fd8\u5c06\u540d\u79f0\u201ceth0\u201d\u5206\u914d\u7ed9\u8bbe\u5907\uff0c\u60a8\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u540d\u79f0\u5c06\u81ea\u52a8\u83b7\u53d6\u6b64\u540d\u79f0\u5e76\u79f0\u4e3aprefix-server-eth0.tr\u3002</p> <p>\u51e0\u79cd\u65b9\u6cd5\u4e2d\u6709\u4e00\u4e2a\u540d\u4e3aexplicitFilename\u7684\u9ed8\u8ba4\u53c2\u6570\u3002\u5f53\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u6b64\u53c2\u6570\u7981\u7528\u81ea\u52a8\u6587\u4ef6\u540d\u5b8c\u6210\u673a\u5236\uff0c\u5141\u8bb8\u60a8\u521b\u5efa\u663e\u5f0f\u6587\u4ef6\u540d\u3002\u6b64\u9009\u9879\u4ec5\u5728\u90a3\u4e9b\u4ee5\u524d\u7f00\u4e3a\u53c2\u6570\u5e76\u5728\u5355\u4e2a\u8bbe\u5907\u4e0a\u542f\u7528\u8ddf\u8e2a\u7684\u65b9\u6cd5\u4e2d\u53ef\u7528\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#protocol-helpers","title":"Protocol Helpers","text":""},{"location":"Sci_doc/ns-3/ch4/#pcap_1","title":"PCAP","text":"<p>\u8fd9\u4e9b\u6df7\u5408\u7c7b\u7684\u76ee\u6807\u662f\u4f7f\u5411\u534f\u8bae\u6dfb\u52a0\u4e00\u81f4\u7684PCAP\u8ddf\u8e2a\u529f\u80fd\u53d8\u5f97\u7b80\u5355\u3002\u6211\u4eec\u5e0c\u671b\u6240\u6709==\u4e0d\u540c\u7c7b\u578b\u7684PCAP\u8ddf\u8e2a\u5728\u6240\u6709\u534f\u8bae\u4e2d\u90fd\u80fd\u591f\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c==\uff0c\u56e0\u6b64\u8fd9\u4e9b\u8f85\u52a9\u7c7b\u7684\u65b9\u6cd5\u4f1a\u88ab\u534f\u8bae\u6808\u8f85\u52a9\u7c7b\u7ee7\u627f\u3002\u5982\u679c\u60a8\u60f3\u5728\u67e5\u770b\u5b9e\u9645\u4ee3\u7801\u65f6\u8fdb\u884c\u8ba8\u8bba\uff0c\u8bf7\u67e5\u770bsrc/network/helper/trace-helper.h\u3002</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u8bf4\u660e\u8fd9\u4e9b\u65b9\u6cd5\u5982\u4f55\u5e94\u7528\u4e8eIpv4\u534f\u8bae\u3002\u8981\u6307\u5b9a\u7c7b\u4f3c\u534f\u8bae\u4e2d\u7684\u8ddf\u8e2a\uff0c\u53ea\u9700\u66ff\u6362\u9002\u5f53\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4f7f\u7528Ptr\\\u800c\u4e0d\u662fPtr\\\uff0c\u5e76\u8c03\u7528EnablePcapIpv6\u800c\u4e0d\u662fEnablePcapIpv4\u3002 <p>PcapHelperForIpv4\u7c7b\u63d0\u4f9b\u4e86\u5728Ipv4\u534f\u8bae\u4e2d\u4f7f\u7528PCAP\u8ddf\u8e2a\u7684\u9ad8\u7ea7\u529f\u80fd\u3002\u542f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u7684\u6bcf\u4e2a\u534f\u8bae\u52a9\u624b\u90fd\u5fc5\u987b\u5b9e\u73b0\u4ece\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u7684\u4e00\u4e2a\u865a\u62df\u65b9\u6cd5\u3002\u4f8b\u5982\uff0cIpv6\u5c06\u6709\u4e00\u4e2a\u5355\u72ec\u7684\u5b9e\u73b0\uff0c\u4f46\u552f\u4e00\u7684\u533a\u522b\u5c06\u5728\u65b9\u6cd5\u540d\u79f0\u548c\u7b7e\u540d\u4e0a\u3002\u4e0d\u540c\u7684\u65b9\u6cd5\u540d\u79f0\u662f\u4e3a\u4e86\u6d88\u9664\u4ece\u7c7bObject\u6d3e\u751f\u7684Ipv4\u548cIpv6\u4e4b\u95f4\u7684\u6b67\u4e49\uff0c\u8fd9\u4e24\u8005\u90fd\u6709\u76f8\u540c\u7684\u65b9\u6cd5\u7b7e\u540d\u3002</p> <pre><code>virtual void EnablePcapIpv4Internal(std::string prefix,\n                                    Ptr&lt;Ipv4&gt; ipv4,\n                                    uint32_t interface,\n                                    bool explicitFilename) = 0;\n</code></pre> <p>\u8be5\u65b9\u6cd5\u7684\u7b7e\u540d\u53cd\u6620\u4e86\u5728\u8fd9\u4e2a\u7ea7\u522b\u4e0a\u7684\u534f\u8bae\u548c\u63a5\u53e3\u4e2d\u5fc3\u7684\u89c6\u56fe\u3002\u4ecePcapHelperForIpv4\u7c7b\u7ee7\u627f\u7684\u6240\u6709\u516c\u5171\u65b9\u6cd5\u90fd\u5c06\u5f52\u7ed3\u4e3a\u8c03\u7528\u8fd9\u4e2a\u5355\u4e00\u7684\u4f9d\u8d56\u4e8e\u8bbe\u5907\u7684\u5b9e\u73b0\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u6700\u4f4e\u7ea7\u7684PCAP\u65b9\u6cd5\uff1a</p> <pre><code>void EnablePcapIpv4(std::string prefix, Ptr&lt;Ipv4&gt; ipv4, uint32_t interface, bool explicitFilename = false);\n</code></pre> <p>\u5c06\u76f4\u63a5\u8c03\u7528EnablePcapIpv4Internal\u7684\u8bbe\u5907\u5b9e\u73b0\u3002\u6240\u6709\u5176\u4ed6\u516c\u5171\u7684PCAP\u8ddf\u8e2a\u65b9\u6cd5\u90fd\u57fa\u4e8e\u8fd9\u4e2a\u5b9e\u73b0\u6765\u63d0\u4f9b\u989d\u5916\u7684\u7528\u6237\u7ea7\u529f\u80fd\u3002\u5bf9\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u610f\u5473\u7740\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u534f\u8bae\u52a9\u624b\u90fd\u5c06\u5177\u6709\u6240\u6709PCAP\u8ddf\u8e2a\u65b9\u6cd5\uff1b==\u5982\u679c\u52a9\u624b\u6b63\u786e\u5b9e\u73b0\u4e86EnablePcapIpv4Internal\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u5728\u8de8\u534f\u8bae\u65f6\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c==\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#methods_2","title":"Methods","text":"<p>\u8fd9\u4e9b\u65b9\u6cd5\u65e8\u5728\u4e0e\u8bbe\u5907\u7248\u672c\u7684Node-\u548cNetDevice-\u4e2d\u5fc3\u7248\u672c\u4e00\u4e00\u5bf9\u5e94\u3002\u4e0eNode\u548cNetDevice\u5bf9\u7684\u7ea6\u675f\u4e0d\u540c\uff0c\u6211\u4eec\u4f7f\u7528\u534f\u8bae\u548c\u63a5\u53e3\u7684\u7ea6\u675f\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u4e0e\u8bbe\u5907\u7248\u672c\u4e00\u6837\uff0c\u8fd9\u91cc\u6709\u516d\u79cd\u65b9\u6cd5\uff1a</p> <pre><code>void EnablePcapIpv4(std::string prefix, Ptr&lt;Ipv4&gt; ipv4, uint32_t interface, bool explicitFilename = false);\nvoid EnablePcapIpv4(std::string prefix, std::string ipv4Name, uint32_t interface, bool explicitFilename = false);\nvoid EnablePcapIpv4(std::string prefix, Ipv4InterfaceContainer c);\nvoid EnablePcapIpv4(std::string prefix, NodeContainer n);\nvoid EnablePcapIpv4(std::string prefix, uint32_t nodeid, uint32_t interface, bool explicitFilename);\nvoid EnablePcapIpv4All(std::string prefix);\n</code></pre> <p>\u9f13\u52b1\u60a8\u67e5\u9605PcapHelperForIpv4\u7c7b\u7684API\u6587\u6863\u4ee5\u83b7\u53d6\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8be6\u7ec6\u4fe1\u606f\uff1b\u4f46\u603b\u4f53\u4e0a\u6765\u8bf4...</p> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411==EnablePcap\u65b9\u6cd5==\u63d0\u4f9b Ptr\\ \u548c \u63a5\u53e3 \u6765==\u542f\u7528\u7279\u5b9a\u534f\u8bae/\u63a5\u53e3\u5bf9\u7684PCAP\u8ddf\u8e2a==\u3002\u4f8b\u5982\uff0c <pre><code>Ptr&lt;Ipv4&gt; ipv4 = node-&gt;GetObject&lt;Ipv4&gt;();\n...\nhelper.EnablePcapIpv4(\"prefix\", ipv4, 0);\n</code></pre> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u5411EnablePcap\u65b9\u6cd5==\u63d0\u4f9b\u8868\u793a\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5b57\u7b26\u4e32\u7684std::string\uff0c\u4e3a\u7279\u5b9a\u7684\u8282\u70b9/\u7f51\u7edc\u8bbe\u5907\u5bf9\u542f\u7528PCAP\u8ddf\u8e2a==\u3002Ptr\\\u4ece\u540d\u79f0\u5b57\u7b26\u4e32\u67e5\u627e\u3002\u4f8b\u5982\uff0c <pre><code>Names::Add(\"serverIPv4\" ...);\n...\nhelper.EnablePcapIpv4(\"prefix\", \"serverIpv4\", 1);\n</code></pre> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b==Ipv4InterfaceContainer\u6765\u4e3a\u4e00\u7ec4\u534f\u8bae/\u63a5\u53e3\u5bf9\u542f\u7528PCAP\u8ddf\u8e2a==\u3002\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u7684\u6bcf\u4e2aIpv4 / \u63a5\u53e3\u5bf9\uff0c\u5c06\u68c0\u67e5\u534f\u8bae\u7c7b\u578b\u3002\u5bf9\u4e8e==\u5177\u6709\u6b63\u786e\u7c7b\u578b\u7684\u6bcf\u4e2a\u534f\u8bae==\uff08\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u76f8\u540c\u7c7b\u578b\uff09\uff0c==\u5c06\u4e3a\u76f8\u5e94\u7684\u63a5\u53e3\u542f\u7528\u8ddf\u8e2a==\u3002\u4f8b\u5982\uff0c</p> <pre><code>NodeContainer nodes;\n...\nNetDeviceContainer devices = deviceHelper.Install(nodes);\n...\nIpv4AddressHelper ipv4;\nipv4.SetBase(\"10.1.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer interfaces = ipv4.Assign(devices);\n...\nhelper.EnablePcapIpv4(\"prefix\", interfaces);\n</code></pre> <p>\u60a8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b==NodeContainer\u6765\u4e3a\u4e00\u7ec4\u534f\u8bae/\u63a5\u53e3\u5bf9\u542f\u7528PCAP\u8ddf\u8e2a==\u3002\u5bf9\u4e8eNodeContainer\u4e2d\u7684\u6bcf\u4e2aNode\uff0c\u90fd\u4f1a\u627e\u5230\u9002\u5f53\u7684\u534f\u8bae\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u534f\u8bae\uff0c\u4f1a\u679a\u4e3e\u5176\u63a5\u53e3\uff0c\u5e76\u5728\u751f\u6210\u7684\u534f\u8bae\u5bf9\u4e0a\u542f\u7528\u8ddf\u8e2a\u3002\u4f8b\u5982\uff0c</p> <pre><code>NodeContainer n;\n...\nhelper.EnablePcapIpv4(\"prefix\", n);\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5==\u57fa\u4e8e\u8282\u70b9ID\u548c\u63a5\u53e3\u542f\u7528PCAP\u8ddf\u8e2a==\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8282\u70b9ID\u5c06\u88ab\u7ffb\u8bd1\u4e3aPtr\\\uff0c\u5e76\u5728\u8282\u70b9\u4e2d\u67e5\u627e\u9002\u5f53\u7684\u534f\u8bae\u3002\u751f\u6210\u7684\u534f\u8bae\u548c\u63a5\u53e3\u7528\u4e8e\u6307\u5b9a\u751f\u6210\u7684\u8ddf\u8e2a\u6e90\u3002 <pre><code>helper.EnablePcapIpv4(\"prefix\", 21, 1);\n</code></pre> <p>\u6700\u540e\uff0c\u60a8\u53ef\u4ee5==\u4e3a\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u63a5\u53e3\u542f\u7528PCAP\u8ddf\u8e2a==\uff0c\u5173\u8054\u534f\u8bae\u7684\u7c7b\u578b\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u7c7b\u578b\u76f8\u540c\u3002</p> <pre><code>helper.EnablePcapIpv4All(\"prefix\");\n</code></pre>"},{"location":"Sci_doc/ns-3/ch4/#filenames_2","title":"Filenames","text":"<p>\u4e0a\u8ff0\u6240\u6709\u65b9\u6cd5\u63cf\u8ff0\u4e2d\u90fd\u9690\u542b\u4e86\u5b9e\u73b0\u65b9\u6cd5\u6784\u5efa\u5b8c\u6574\u6587\u4ef6\u540d\u7684\u7ea6\u5b9a\u3002\u6309\u7167\u60ef\u4f8b\uff0c==ns-3\u7cfb\u7edf\u4e2d\u4e3a\u8bbe\u5907\u91c7\u96c6\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\u7684\u683c\u5f0f\u4e3a\u201c\\-\\-\\.pcap\u201d\u3002== <p>\u5728\u534f\u8bae\u8ddf\u8e2a\u7684\u60c5\u51b5\u4e0b\uff0c\u534f\u8bae\u548c\u8282\u70b9\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\u3002\u8fd9\u662f\u56e0\u4e3a\u534f\u8bae\u5bf9\u8c61\u88ab\u805a\u5408\u5230\u8282\u70b9\u5bf9\u8c61\u4e2d\u3002\u7531\u4e8e\u7cfb\u7edf\u4e2d\u6ca1\u6709\u5168\u5c40\u534f\u8baeID\uff0c\u6211\u4eec\u4f7f\u7528\u76f8\u5e94\u7684\u8282\u70b9ID\u8fdb\u884c\u6587\u4ef6\u547d\u540d\u3002\u56e0\u6b64\uff0c\u5728\u81ea\u52a8\u9009\u62e9\u8ddf\u8e2a\u6587\u4ef6\u540d\u65f6\u5b58\u5728\u6587\u4ef6\u540d\u51b2\u7a81\u7684\u53ef\u80fd\u6027\u3002\u56e0\u6b64\uff0c\u534f\u8bae\u8ddf\u8e2a\u7684\u6587\u4ef6\u540d\u7ea6\u5b9a\u53d1\u751f\u4e86\u53d8\u5316\u3002</p> <p>\u5982\u524d\u6240\u8ff0\uff0c\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u5c06\u6709\u4e00\u4e2a\u7cfb\u7edf\u5206\u914d\u7684\u8282\u70b9ID\u3002\u7531\u4e8e\u534f\u8bae\u5b9e\u4f8b\u548c\u8282\u70b9\u5b9e\u4f8b\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u6211\u4eec\u4f7f\u7528\u8282\u70b9ID\u3002\u6bcf\u4e2a\u63a5\u53e3\u76f8\u5bf9\u4e8e\u5176\u534f\u8bae\u90fd\u6709\u4e00\u4e2a\u63a5\u53e3ID\u3002\u6211\u4eec\u5728\u534f\u8bae\u52a9\u624b\u4e2d\u4f7f\u7528\u7ea6\u5b9a\u201c\\-n\\-i\\.pcap\u201d\u6765\u547d\u540d\u8ddf\u8e2a\u6587\u4ef6\u3002 <p>\u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u901a\u8fc7\u5728\u8282\u70b921\u4e0a\u542f\u7528\u5bf9Ipv4\u534f\u8bae\u63a5\u53e31\u7684\u8ddf\u8e2a\u6240\u521b\u5efa\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\uff0c\u4f7f\u7528\u524d\u7f00\u201cprefix\u201d\u5c06\u662f\u201cprefix-n21-i1.pcap\u201d\u3002</p> <p>\u60a8\u59cb\u7ec8\u53ef\u4ee5\u4f7f\u7528ns-3\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u6765\u4f7f\u8fd9\u4e00\u70b9\u66f4\u6e05\u6670\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5c06\u540d\u79f0\u201cserverIpv4\u201d\u5206\u914d\u7ed9\u8282\u70b921\u4e0a\u7684Ptr\\\uff0c\u5219\u751f\u6210\u7684PCAP\u8ddf\u8e2a\u6587\u4ef6\u540d\u5c06\u81ea\u52a8\u53d8\u4e3a\u201cprefix-nserverIpv4-i1.pcap\u201d\u3002 <p>\u5176\u4e2d\u51e0\u4e2a\u65b9\u6cd5\u90fd\u6709\u4e00\u4e2a\u540d\u4e3aexplicitFilename\u7684\u9ed8\u8ba4\u53c2\u6570\u3002\u5f53\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u6b64\u53c2\u6570\u5c06\u7981\u7528\u81ea\u52a8\u6587\u4ef6\u540d\u5b8c\u6210\u673a\u5236\uff0c\u5141\u8bb8\u60a8\u521b\u5efa\u663e\u5f0f\u6587\u4ef6\u540d\u3002\u6b64\u9009\u9879\u4ec5\u5728\u90a3\u4e9b\u4ee5\u524d\u7f00\u4e3a\u53c2\u6570\u5e76\u5728\u5355\u4e2a\u8bbe\u5907\u4e0a\u542f\u7528\u8ddf\u8e2a\u7684\u65b9\u6cd5\u4e2d\u53ef\u7528\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#ascii_1","title":"ASCII","text":"<p>ASCII\u8ddf\u8e2a\u52a9\u624b\u7684\u884c\u4e3a\u4e0ePCAP\u60c5\u51b5\u975e\u5e38\u76f8\u4f3c\u3002\u5982\u679c\u60a8\u60f3\u5728\u67e5\u770b\u5b9e\u9645\u4ee3\u7801\u65f6\u8fdb\u884c\u8ba8\u8bba\uff0c\u8bf7\u67e5\u770bsrc/network/helper/trace-helper.h\u3002</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u4ee5==Ipv4\u534f\u8bae==\u4e3a\u4f8b\u6765\u8bf4\u660e\u8fd9\u4e9b\u65b9\u6cd5\u3002\u8981\u6307\u5b9a\u7c7b\u4f3c\u534f\u8bae\u4e2d\u7684\u8ddf\u8e2a\uff0c\u53ea\u9700\u66ff\u6362\u9002\u5f53\u7684\u7c7b\u578b\u3002\u4f8b\u5982\uff0c\u4f7f\u7528Ptr\\\u800c\u4e0d\u662fPtr\\\uff0c\u5e76\u8c03\u7528EnableAsciiIpv6\u800c\u4e0d\u662fEnableAsciiIpv4\u3002 <p>AsciiTraceHelperForIpv4\u7c7b==\u4e3a\u534f\u8bae\u52a9\u624b\u6dfb\u52a0\u4e86\u4f7f\u7528ASCII\u8ddf\u8e2a\u7684\u9ad8\u7ea7\u529f\u80fd==\u3002\u542f\u7528\u8fd9\u4e9b\u65b9\u6cd5\u7684\u6bcf\u4e2a\u534f\u8bae\u90fd\u5fc5\u987b\u5b9e\u73b0\u4ece\u8fd9\u4e2a\u7c7b\u7ee7\u627f\u7684\u4e00\u4e2a\u865a\u62df\u65b9\u6cd5\u3002</p> <pre><code>virtual void EnableAsciiIpv4Internal(Ptr&lt;OutputStreamWrapper&gt; stream,\n                                     std::string prefix,\n                                     Ptr&lt;Ipv4&gt; ipv4,\n                                     uint32_t interface,\n                                     bool explicitFilename) = 0;\n</code></pre> <p>\u8be5\u65b9\u6cd5\u7684\u7b7e\u540d\u53cd\u6620\u4e86\u5728\u8fd9\u4e2a\u7ea7\u522b\u4e0a\u7684\u534f\u8bae\u548c\u63a5\u53e3\u4e2d\u5fc3\u7684\u89c6\u56fe\uff0c\u4ee5\u53ca\u52a9\u624b\u53ef\u80fd\u6b63\u5728\u5199\u5165\u5171\u4eab\u8f93\u51fa\u6d41\u7684\u4e8b\u5b9e\u3002\u4ecePcapAndAsciiTraceHelperForIpv4\u7c7b\u7ee7\u627f\u7684\u6240\u6709\u516c\u5171\u65b9\u6cd5\u90fd\u5c06\u5f52\u7ed3\u4e3a\u8c03\u7528\u8fd9\u4e2a\u5355\u4e00\u7684\u4f9d\u8d56\u4e8e\u8bbe\u5907\u7684\u5b9e\u73b0\u65b9\u6cd5\u3002\u4f8b\u5982\uff0c\u6700\u4f4e\u7ea7\u522b\u7684ASCII\u8ddf\u8e2a\u65b9\u6cd5\uff1a</p> <pre><code>void EnableAsciiIpv4(std::string prefix, Ptr&lt;Ipv4&gt; ipv4, uint32_t interface, bool explicitFilename = false);\nvoid EnableAsciiIpv4(Ptr&lt;OutputStreamWrapper&gt; stream, Ptr&lt;Ipv4&gt; ipv4, uint32_t interface);\n</code></pre> <p>\u5c06\u76f4\u63a5\u8c03\u7528EnableAsciiIpv4Internal\u7684\u8bbe\u5907\u5b9e\u73b0\uff0c\u76f4\u63a5\u63d0\u4f9b\u524d\u7f00\u6216\u6d41\u3002\u6240\u6709\u5176\u4ed6\u516c\u5171ASCII\u8ddf\u8e2a\u65b9\u6cd5\u5c06\u5728\u8fd9\u4e9b\u4f4e\u7ea7\u529f\u80fd\u7684\u57fa\u7840\u4e0a\u6784\u5efa\uff0c\u4ee5\u63d0\u4f9b\u989d\u5916\u7684\u7528\u6237\u7ea7\u529f\u80fd\u3002\u5bf9\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u610f\u5473\u7740\u7cfb\u7edf\u4e2d\u7684\u6240\u6709\u8bbe\u5907\u52a9\u624b\u90fd\u5c06\u5177\u6709\u6240\u6709ASCII\u8ddf\u8e2a\u65b9\u6cd5\uff1b\u5982\u679c\u534f\u8bae\u6b63\u786e\u5b9e\u73b0\u4e86EnableAsciiIpv4Internal\uff0c\u8fd9\u4e9b\u65b9\u6cd5\u5c06\u5728\u8de8\u534f\u8bae\u65f6\u4ee5\u76f8\u540c\u7684\u65b9\u5f0f\u5de5\u4f5c\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#methods_3","title":"Methods","text":"<p>\u60a8\u88ab\u9f13\u52b1\u67e5\u9605PcapAndAsciiHelperForIpv4\u7c7b\u7684API\u6587\u6863\u4ee5\u627e\u5230\u8fd9\u4e9b\u65b9\u6cd5\u7684\u8be6\u7ec6\u4fe1\u606f\uff0c\u4f46\u603b\u4f53\u4e0a\u6765\u8bf4...</p> <p>ASCII\u8ddf\u8e2a\u7684\u65b9\u6cd5\u6570\u91cf\u662fPCAP\u8ddf\u8e2a\u7684\u4e24\u500d\u3002\u8fd9\u662f\u56e0\u4e3a\u9664\u4e86PCAP\u98ce\u683c\u6a21\u578b\uff0c\u5176\u4e2d\u4ece\u6bcf\u4e2a\u552f\u4e00\u7684\u534f\u8bae/\u63a5\u53e3\u5bf9\u5199\u5165\u4e00\u4e2a\u552f\u4e00\u7684\u6587\u4ef6\uff0c\u6211\u4eec\u8fd8\u652f\u6301\u4e00\u4e2a\u6a21\u578b\uff0c\u5176\u4e2d\u8bb8\u591a\u534f\u8bae/\u63a5\u53e3\u5bf9\u7684\u8ddf\u8e2a\u4fe1\u606f\u88ab\u5199\u5165\u4e00\u4e2a\u5171\u540c\u7684\u6587\u4ef6\u3002\u8fd9\u610f\u5473\u7740\"\\-n\\-\\\"\u6587\u4ef6\u540d\u751f\u6210\u673a\u5236\u88ab\u66ff\u6362\u4e3a\u5f15\u7528\u5171\u540c\u6587\u4ef6\u7684\u673a\u5236\uff0c\u5e76\u4e14API\u65b9\u6cd5\u7684\u6570\u91cf\u589e\u52a0\u4e86\u4e00\u500d\u4ee5\u5141\u8bb8\u6240\u6709\u7ec4\u5408\u3002 <p>\u5c31\u50cf\u5728PCAP\u8ddf\u8e2a\u4e2d\u4e00\u6837\uff0c\u60a8\u53ef\u4ee5\u901a\u8fc7==\u5411EnableAscii\u65b9\u6cd5==\u63d0\u4f9b==Ptr\\==\u548c==\u4e00\u4e2a\u63a5\u53e3==\u6765\u542f\u7528\u5bf9\u7279\u5b9a\u534f\u8bae/\u63a5\u53e3\u5bf9\u7684ASCII\u8ddf\u8e2a\u3002\u4f8b\u5982\uff0c <pre><code>Ptr&lt;Ipv4&gt; ipv4;\n...\nhelper.EnableAsciiIpv4(\"prefix\", ipv4, 1);\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u4e0d\u4f1a\u5c06\u4efb\u4f55\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u5199\u5165ASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u5c06\u662f\u591a\u4f59\u7684\u3002\u7cfb\u7edf\u5c06\u9009\u62e9\u4f7f\u7528\u4e0ePCAP\u90e8\u5206\u4e2d\u63cf\u8ff0\u7684\u76f8\u540c\u89c4\u5219\u521b\u5efa\u6587\u4ef6\u540d\uff0c\u53ea\u662f\u6587\u4ef6\u5c06\u5177\u6709\".tr\"\u540e\u7f00\u800c\u4e0d\u662f\".pcap\"\u3002</p> <p>\u5982\u679c\u60a8\u60f3\u8981\u5728==\u591a\u4e2a\u63a5\u53e3\u4e0a\u542f\u7528ASCII\u8ddf\u8e2a\u5e76\u5c06\u6240\u6709\u8ddf\u8e2a\u53d1\u9001\u5230\u5355\u4e2a\u6587\u4ef6==\uff0c\u4e5f\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u5bf9\u8c61\u5f15\u7528\u5355\u4e2a\u6587\u4ef6\u6765\u5b9e\u73b0\u3002\u6211\u4eec\u5728\u4e0a\u9762\u7684\u201ccwnd\u201d\u793a\u4f8b\u4e2d\u5df2\u7ecf\u770b\u5230\u4e86\u7c7b\u4f3c\u7684\u60c5\u51b5\uff1a</p> <pre><code>Ptr&lt;Ipv4&gt; protocol1 = node1-&gt;GetObject&lt;Ipv4&gt;();\nPtr&lt;Ipv4&gt; protocol2 = node2-&gt;GetObject&lt;Ipv4&gt;();\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAsciiIpv4(stream, protocol1, 1);\nhelper.EnableAsciiIpv4(stream, protocol2, 1);\n</code></pre> <p>\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u88ab\u5199\u5165ASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u56e0\u4e3a\u5b83\u4eec\u662f\u5fc5\u9700\u7684\uff0c\u4ee5\u533a\u5206\u4e24\u4e2a\u63a5\u53e3\u7684\u8ddf\u8e2a\u3002\u8bf7\u6ce8\u610f\uff0c\u7531\u4e8e\u7528\u6237\u5b8c\u5168\u6307\u5b9a\u4e86\u6587\u4ef6\u540d\uff0c\u5b57\u7b26\u4e32\u5e94\u5305\u542b\",tr\"\u4ee5\u4fdd\u6301\u4e00\u81f4\u6027\u3002</p> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b==\u8868\u793a\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5b57\u7b26\u4e32\u7684std::string\u6765\u4e3a\u7279\u5b9a\u7684\u534f\u8bae\u542f\u7528ASCII\u8ddf\u8e2a==\u3002\u4ece\u540d\u79f0\u5b57\u7b26\u4e32\u67e5\u627ePtr\\\u3002\u7531\u4e8e\u534f\u8bae\u5b9e\u4f8b\u548c\u8282\u70b9\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u56e0\u6b64\u751f\u6210\u7684\u6587\u4ef6\u540d\u4e2d\u7684\\\u662f\u9690\u5f0f\u7684\u3002\u4f8b\u5982\uff0c <pre><code>Names::Add(\"node1Ipv4\" ...);\nNames::Add(\"node2Ipv4\" ...);\n...\nhelper.EnableAsciiIpv4(\"prefix\", \"node1Ipv4\", 1);\nhelper.EnableAsciiIpv4(\"prefix\", \"node2Ipv4\", 1);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u4e24\u4e2a\u6587\u4ef6\u88ab\u547d\u540d\u4e3a\"prefix-nnode1Ipv4-i1.tr\"\u548c\"prefix-nnode2Ipv4-i1.tr\"\uff0c\u5176\u4e2d\u5206\u522b\u5305\u542b\u5404\u4e2a\u63a5\u53e3\u7684\u8ddf\u8e2a\u6587\u4ef6\u3002\u7531\u4e8e\u6240\u6709\u7684EnableAscii\u51fd\u6570\u90fd\u88ab\u91cd\u8f7d\u4ee5\u63a5\u53d7\u4e00\u4e2a\u6d41\u5305\u88c5\u5668\uff0c\u60a8\u4e5f\u53ef\u4ee5\u4f7f\u7528\u8fd9\u79cd\u5f62\u5f0f\uff1a</p> <pre><code>Names::Add(\"node1Ipv4\" ...);\nNames::Add(\"node2Ipv4\" ...);\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAsciiIpv4(stream, \"node1Ipv4\", 1);\nhelper.EnableAsciiIpv4(stream, \"node2Ipv4\", 1);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u4e00\u4e2a\u540d\u4e3a\"trace-file-name.tr\"\u7684\u5355\u4e00\u8ddf\u8e2a\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e24\u4e2a\u63a5\u53e3\u7684\u6240\u6709\u8ddf\u8e2a\u4e8b\u4ef6\u3002\u8fd9\u4e9b\u4e8b\u4ef6\u5c06\u901a\u8fc7\u8ddf\u8e2a\u4e0a\u4e0b\u6587\u5b57\u7b26\u4e32\u8fdb\u884c\u533a\u5206\u3002</p> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7\u63d0\u4f9b==Ipv4InterfaceContainer==\u4e3a==\u4e00\u7ec4\u534f\u8bae/\u63a5\u53e3\u5bf9\u542f\u7528ASCII\u8ddf\u8e2a==\u3002\u5bf9\u4e8e\u5bb9\u5668\u4e2d\u6bcf\u4e2a\u6b63\u786e\u7c7b\u578b\u7684\u534f\u8bae\uff0c\u90fd\u4f1a\u4e3a\u76f8\u5e94\u7684\u63a5\u53e3\u542f\u7528\u8ddf\u8e2a\u3002\u518d\u6b21\u5f3a\u8c03\uff0c</p> <p>\u7531\u4e8e\u6bcf\u4e2a\u534f\u8bae\u548c\u5176\u8282\u70b9\u4e4b\u95f4\u5b58\u5728\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u6240\u4ee5\\\u662f\u9690\u5f0f\u7684\u3002\u4f8b\u5982\uff0c <pre><code>NodeContainer nodes;\n...\nNetDeviceContainer devices = deviceHelper.Install(nodes);\n...\nIpv4AddressHelper ipv4;\nipv4.SetBase(\"10.1.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer interfaces = ipv4.Assign(devices);\n...\n...\nhelper.EnableAsciiIpv4(\"prefix\", interfaces);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u9075\u5faa\\-n\\-i\\.tr\u7684\u7ea6\u5b9a\u3002\u5c06\u6240\u6709\u8ddf\u8e2a\u5408\u5e76\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\uff1a <pre><code>NodeContainer nodes;\n...\nNetDeviceContainer devices = deviceHelper.Install(nodes);\n...\nIpv4AddressHelper ipv4;\nipv4.SetBase(\"10.1.1.0\", \"255.255.255.0\");\nIpv4InterfaceContainer interfaces = ipv4.Assign(devices);\n...\nPtr&lt;OutputStreamWrapper&gt; stream = asciiTraceHelper.CreateFileStream(\"trace-file-name.tr\");\n...\nhelper.EnableAsciiIpv4(stream, interfaces);\n</code></pre> <p>\u60a8\u8fd8\u53ef\u4ee5\u901a\u8fc7==\u63d0\u4f9bNodeContainer\u4e3a\u4e00\u7ec4\u534f\u8bae/\u63a5\u53e3\u5bf9\u542f\u7528ASCII\u8ddf\u8e2a==\u3002\u5bf9\u4e8eNodeContainer\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\uff0c\u90fd\u4f1a\u627e\u5230\u9002\u5f53\u7684\u534f\u8bae\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u534f\u8bae\uff0c\u5c06\u679a\u4e3e\u5176\u63a5\u53e3\uff0c\u5e76\u5728\u751f\u6210\u7684\u5bf9\u4e0a\u542f\u7528\u8ddf\u8e2a\u3002\u4f8b\u5982\uff0c</p> <pre><code>NodeContainer n;\n...\nhelper.EnableAsciiIpv4(\"prefix\", n);\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u9075\u5faa\\-n\\-i\\.tr\u7684\u7ea6\u5b9a\u3002\u5c06\u6240\u6709\u8ddf\u8e2a\u5408\u5e76\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\u3002 <p>\u6700\u540e\uff0c\u60a8\u8fd8==\u53ef\u4ee5\u57fa\u4e8eNode ID\u548c\u63a5\u53e3ID\u542f\u7528ASCII\u8ddf\u8e2a==\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c06Node ID\u8f6c\u6362\u4e3aPtr\\\uff0c\u5e76\u5728\u8282\u70b9\u4e2d\u67e5\u627e\u9002\u5f53\u7684\u534f\u8bae\u3002\u4f7f\u7528\u751f\u6210\u7684\u534f\u8bae\u548c\u63a5\u53e3\u6765\u6307\u5b9a\u751f\u6210\u7684\u8ddf\u8e2a\u6e90\u3002 <pre><code>helper.EnableAsciiIpv4(\"prefix\", 21, 1);\n</code></pre> <p>\u5f53\u7136\uff0c\u8ddf\u8e2a\u53ef\u4ee5\u50cf\u4e0a\u9762\u5c55\u793a\u7684\u90a3\u6837\u5408\u5e76\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u3002</p> <p>\u6700\u540e\uff0c\u60a8\u8fd8\u53ef\u4ee5\u4e3a\u7cfb\u7edf\u4e2d\u6240\u6709\u4e0e\u8bbe\u5907\u52a9\u624b\u7ba1\u7406\u7684\u534f\u8bae\u7c7b\u578b\u76f8\u540c\u7684\u63a5\u53e3\u542f\u7528ASCII\u8ddf\u8e2a\u3002</p> <pre><code>helper.EnableAsciiIpv4All(\"prefix\");\n</code></pre> <p>\u8fd9\u5c06\u5bfc\u81f4\u521b\u5efa\u591a\u4e2aASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u6bcf\u4e2a\u6587\u4ef6\u90fd\u5bf9\u5e94\u4e8e\u7cfb\u7edf\u4e2d\u4e0e\u52a9\u624b\u7ba1\u7406\u7684\u7c7b\u578b\u76f8\u540c\u7684\u6bcf\u4e2a\u63a5\u53e3\u3002\u6240\u6709\u8fd9\u4e9b\u6587\u4ef6\u90fd\u5c06\u9075\u5faa\\-n\\-i\\.tr\u7684\u7ea6\u5b9a\u3002\u5c06\u6240\u6709\u8ddf\u8e2a\u5408\u5e76\u5230\u5355\u4e2a\u6587\u4ef6\u4e2d\u7684\u65b9\u6cd5\u4e0e\u4e0a\u9762\u7684\u793a\u4f8b\u7c7b\u4f3c\u3002"},{"location":"Sci_doc/ns-3/ch4/#filenames_3","title":"Filenames","text":"<p>\u4e0a\u8ff0\u57fa\u4e8e\u524d\u7f00\u7684\u65b9\u6cd5\u63cf\u8ff0\u4e2d\u9690\u542b\u7684\u662f\u7531\u5b9e\u73b0\u65b9\u6cd5\u6784\u5efa\u5b8c\u6574\u6587\u4ef6\u540d\u7684\u7ea6\u5b9a\u3002\u6309\u7167\u89c4\u5b9a\uff0cns-3\u7cfb\u7edf\u4e2d\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u7684\u683c\u5f0f\u4e3a\u201c\\-\\-\\.tr\u201d <p>\u6b63\u5982\u5148\u524d\u63d0\u5230\u7684\uff0c\u7cfb\u7edf\u4e2d\u7684\u6bcf\u4e2a\u8282\u70b9\u90fd\u5c06\u88ab\u5206\u914d\u4e00\u4e2a\u7cfb\u7edf\u5206\u914d\u7684\u8282\u70b9ID\u3002\u7531\u4e8e\u534f\u8bae\u548c\u8282\u70b9\u4e4b\u95f4\u662f\u4e00\u5bf9\u4e00\u7684\u5bf9\u5e94\u5173\u7cfb\uff0c\u6211\u4eec\u4f7f\u7528\u8282\u70b9ID\u6765\u6807\u8bc6\u534f\u8bae\u7684\u8eab\u4efd\u3002\u7ed9\u5b9a\u534f\u8bae\u4e0a\u7684\u6bcf\u4e2a\u63a5\u53e3\u90fd\u5c06\u76f8\u5bf9\u4e8e\u5176\u534f\u8bae\u5177\u6709\u63a5\u53e3\u7d22\u5f15\uff08\u4e5f\u79f0\u4e3a\u63a5\u53e3\uff09\u3002\u56e0\u6b64\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u542f\u7528\u5bf9Node 21\u7684\u7b2c\u4e00\u4e2a\u8bbe\u5907\u8fdb\u884c\u8ddf\u8e2a\u6240\u521b\u5efa\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\uff0c\u4f7f\u7528\u524d\u7f00\u201cprefix\u201d\uff0c\u5c06\u662f\u201cprefix-n21-i1.tr\u201d\u3002\u4f7f\u7528\u524d\u7f00\u4ee5\u6d88\u9664\u6bcf\u4e2a\u8282\u70b9\u4e0a\u7684\u591a\u4e2a\u534f\u8bae\u7684\u6b67\u4e49\u3002</p> <p>\u60a8\u59cb\u7ec8\u53ef\u4ee5\u4f7f\u7528ns-3\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u4f7f\u8fd9\u66f4\u52a0\u6e05\u6670\u3002\u4f8b\u5982\uff0c\u5982\u679c\u60a8\u4f7f\u7528\u5bf9\u8c61\u540d\u79f0\u670d\u52a1\u5c06\u540d\u79f0\u201cserverIpv4\u201d\u5206\u914d\u7ed9Node 21\u4e0a\u7684\u534f\u8bae\uff0c\u5e76\u4e14\u8fd8\u6307\u5b9a\u4e86\u63a5\u53e31\uff0c\u90a3\u4e48\u751f\u6210\u7684ASCII\u8ddf\u8e2a\u6587\u4ef6\u540d\u5c06\u81ea\u52a8\u53d8\u4e3a\u201cprefix-nserverIpv4-1.tr\u201d\u3002</p> <p>\u5176\u4e2d\u4e00\u4e9b\u65b9\u6cd5\u5177\u6709\u540d\u4e3aexplicitFilename\u7684\u9ed8\u8ba4\u53c2\u6570\u3002\u5f53\u8bbe\u7f6e\u4e3atrue\u65f6\uff0c\u8be5\u53c2\u6570\u4f1a\u7981\u7528\u81ea\u52a8\u6587\u4ef6\u540d\u5b8c\u6210\u673a\u5236\uff0c\u5e76\u5141\u8bb8\u60a8\u521b\u5efa\u663e\u5f0f\u6587\u4ef6\u540d\u3002\u6b64\u9009\u9879\u4ec5\u9002\u7528\u4e8e\u90a3\u4e9b\u91c7\u7528\u524d\u7f00\u5e76\u5728\u5355\u4e2a\u8bbe\u5907\u4e0a\u542f\u7528\u8ddf\u8e2a\u7684\u65b9\u6cd5\u3002</p>"},{"location":"Sci_doc/ns-3/ch4/#summary","title":"Summary","text":"<p>ns-3\u63d0\u4f9b\u4e86\u4e00\u4e2a\u975e\u5e38\u4e30\u5bcc\u7684\u73af\u5883\uff0c\u5141\u8bb8\u7528\u6237\u5728\u591a\u4e2a\u5c42\u6b21\u4e0a\u5b9a\u5236\u4ece\u6a21\u62df\u4e2d\u63d0\u53d6\u7684\u4fe1\u606f\u79cd\u7c7b\u3002</p> <p>\u6709\u9ad8\u7ea7\u522b\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u5141\u8bb8\u7528\u6237\u7b80\u5355\u5730\u63a7\u5236\u5bf9\u9884\u5b9a\u4e49\u8f93\u51fa\u7684\u6536\u96c6\uff0c\u5b9e\u73b0\u4e86\u7cbe\u7ec6\u7684\u7c92\u5ea6\u63a7\u5236\u3002\u6709\u4e2d\u7ea7\u522b\u7684\u8f85\u52a9\u51fd\u6570\uff0c\u5141\u8bb8\u66f4\u6709\u7ecf\u9a8c\u7684\u7528\u6237\u5b9a\u5236\u4fe1\u606f\u7684\u63d0\u53d6\u548c\u4fdd\u5b58\u65b9\u5f0f\uff1b\u8fd8\u6709\u4f4e\u7ea7\u522b\u7684\u6838\u5fc3\u529f\u80fd\uff0c\u5141\u8bb8\u4e13\u4e1a\u7528\u6237\u6539\u53d8\u7cfb\u7edf\u4ee5\u5448\u73b0\u4ee5\u524d\u672a\u5bfc\u51fa\u7684\u65b0\u4fe1\u606f\uff0c\u4f7f\u5176\u80fd\u591f\u7acb\u5373\u88ab\u66f4\u9ad8\u7ea7\u522b\u7684\u7528\u6237\u8bbf\u95ee\u3002</p> <p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u5168\u9762\u7684\u7cfb\u7edf\uff0c\u6211\u4eec\u610f\u8bc6\u5230\u8fd9\u5bf9\u4e8e\u65b0\u7528\u6237\u6216\u4e0d\u719f\u6089C++\u53ca\u5176\u4e60\u60ef\u7528\u6cd5\u7684\u7528\u6237\u6765\u8bf4\u53ef\u80fd\u662f\u5f88\u591a\u5185\u5bb9\u9700\u8981\u7406\u89e3\u7684\u3002\u6211\u4eec\u8ba4\u4e3a\u8ddf\u8e2a\u7cfb\u7edf\u662fns-3\u975e\u5e38\u91cd\u8981\u7684\u4e00\u90e8\u5206\uff0c\u56e0\u6b64\u5efa\u8bae\u5c3d\u53ef\u80fd\u719f\u6089\u5b83\u3002\u53ef\u80fd\u60c5\u51b5\u662f\uff0c\u4e00\u65e6\u60a8\u638c\u63e1\u4e86\u8ddf\u8e2a\u7cfb\u7edf\uff0c\u7406\u89e3ns-3\u7cfb\u7edf\u7684\u5176\u4f59\u90e8\u5206\u5c06\u4f1a\u76f8\u5f53\u7b80\u5355\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/","title":"ns-3 \u7684 Data Collection","text":"<p>\u6211\u4eec\u7684\u6700\u540e\u4e00\u4e2a\u6559\u7a0b\u7ae0\u8282\u4ecb\u7ecd\u4e86\u5728ns-3\u7248\u672c3.18\u4e2d\u6dfb\u52a0\u7684\u4e00\u4e9b\u7ec4\u4ef6\uff0c\u8fd9\u4e9b\u7ec4\u4ef6\u4ecd\u5728\u5f00\u53d1\u4e2d\u3002\u8fd9\u4e2a\u6559\u7a0b\u90e8\u5206\u4e5f\u662f\u4e00\u4e2a\u6b63\u5728\u8fdb\u884c\u4e2d\u7684\u5de5\u4f5c\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#motivation","title":"Motivation","text":"<p>\u8fd0\u884c\u4eff\u771f\u7684\u4e3b\u8981\u76ee\u7684\u4e4b\u4e00\u662f\u751f\u6210\u8f93\u51fa\u6570\u636e\uff0c\u65e0\u8bba\u662f\u7528\u4e8e\u7814\u7a76\u76ee\u7684\u8fd8\u662f\u4ec5\u4ec5\u4e3a\u4e86\u4e86\u89e3\u7cfb\u7edf\u3002 \u5728\u524d\u4e00\u7ae0\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u8ddf\u8e2a\u5b50\u7cfb\u7edf\u548c\u793a\u4f8b\u7a0b\u5e8f <code>sixth.cc</code>\uff0c\u4ece\u4e2d\u751f\u6210\u4e86PCAP\u6216ASCII\u8ddf\u8e2a\u6587\u4ef6\u3002 \u8fd9\u4e9b\u8ddf\u8e2a\u5bf9\u4e8e\u4f7f\u7528\u5404\u79cd\u5916\u90e8\u5de5\u5177\u8fdb\u884c\u6570\u636e\u5206\u6790\u975e\u5e38\u6709\u4ef7\u503c\uff0c\u5bf9\u4e8e\u8bb8\u591a\u7528\u6237\u6765\u8bf4\uff0c\u8fd9\u79cd\u8f93\u51fa\u6570\u636e\u662f\u6536\u96c6\u6570\u636e\u7684\u9996\u9009\u65b9\u5f0f\uff08\u4ee5\u4f9b\u5916\u90e8\u5de5\u5177\u5206\u6790\uff09\u3002</p> <p>\u7136\u800c\uff0c\u9664\u4e86\u751f\u6210\u8ddf\u8e2a\u6587\u4ef6\u4e4b\u5916\uff0c\u8fd8\u6709\u4e00\u4e9b\u7528\u4f8b\uff0c\u5305\u62ec\uff1a 1. \u751f\u6210\u4e0d\u9002\u5408PCAP\u6216ASCII\u8ddf\u8e2a\u7684\u6570\u636e\uff0c\u4f8b\u5982\u975e\u6570\u636e\u5305\u6570\u636e\uff08\u4f8b\u5982\u534f\u8bae\u72b6\u6001\u673a\u8f6c\u6362\uff09\u3002 2. \u5bf9\u4e8e\u751f\u6210\u8ddf\u8e2a\u6587\u4ef6\u7684\u78c1\u76d8I/O\u8981\u6c42 \u5bf9\u4e8e\u5927\u578b\u4eff\u771f\u800c\u8a00\u662f\u7981\u6b62\u7684\u6216\u7e41\u7410\u7684\u3002 3. \u5728\u4eff\u771f\u8fc7\u7a0b\u4e2d\u9700\u8981\u5728\u7ebf\u6570\u636e\u7f29\u51cf\u6216\u8ba1\u7b97\u7684\u9700\u6c42\u3002\u8fd9\u6709\u4e00\u4e2a\u5f88\u597d\u7684\u4f8b\u5b50\u662f\u4e3a\u4eff\u771f\u5b9a\u4e49\u7ec8\u6b62\u6761\u4ef6\uff0c\u544a\u8bc9\u5b83\u4f55\u65f6\u505c\u6b62\uff0c\u5f53\u5b83\u6536\u5230\u8db3\u591f\u7684\u6570\u636e\u4ee5\u5728\u67d0\u4e2a\u53c2\u6570\u7684\u4f30\u8ba1\u5468\u56f4\u5f62\u6210\u8db3\u591f\u7a84\u7684\u7f6e\u4fe1\u533a\u95f4\u65f6\u3002</p> <p>ns-3\u6570\u636e\u6536\u96c6\u6846\u67b6\u65e8\u5728\u63d0\u4f9b\u8d85\u51fa\u57fa\u4e8e\u8ddf\u8e2a\u7684\u8f93\u51fa\u7684\u8fd9\u4e9b\u9644\u52a0\u529f\u80fd\u3002\u6211\u4eec\u5efa\u8bae\u5bf9\u6b64\u4e3b\u9898\u611f\u5174\u8da3\u7684\u8bfb\u8005\u67e5\u9605ns-3\u624b\u518c\uff0c\u4ee5\u83b7\u53d6\u6709\u5173\u6b64\u6846\u67b6\u7684\u66f4\u8be6\u7ec6\u7684\u4ecb\u7ecd\uff1b\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u793a\u4f8b\u7a0b\u5e8f\u603b\u7ed3\u4e00\u4e9b\u6b63\u5728\u5f00\u53d1\u7684\u529f\u80fd\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#example-code","title":"Example Code","text":"<p>\u6559\u7a0b\u793a\u4f8b <code>examples/tutorial/seventh.cc</code> \u4e0e\u6211\u4eec\u4e4b\u524d\u5ba1\u67e5\u8fc7\u7684 <code>sixth.cc</code> \u793a\u4f8b\u76f8\u4f3c\uff0c\u9664\u4e86\u4e00\u4e9b\u66f4\u6539\u3002\u9996\u5148\uff0c\u5b83\u5df2\u7ecf\u901a\u8fc7\u547d\u4ee4\u884c\u9009\u9879\u542f\u7528\u4e86 IPv6 \u652f\u6301\uff1a</p> <pre><code>CommandLine cmd;\ncmd.AddValue (\"useIpv6\", \"Use Ipv6\", useV6);\ncmd.Parse (argc, argv);\n</code></pre> <p>\u5982\u679c\u7528\u6237\u6307\u5b9a\u4e86 <code>useIpv6</code> \u9009\u9879\uff0c\u7a0b\u5e8f\u5c06\u4f7f\u7528 IPv6 \u800c\u4e0d\u662f IPv4 \u8fd0\u884c\u3002\u53ef\u4ee5\u4f7f\u7528\u4ee5\u4e0b\u65b9\u5f0f\u8c03\u7528\u6240\u6709\u652f\u6301 CommandLine \u5bf9\u8c61\u7684 ns-3 \u7a0b\u5e8f\u7684\u5e2e\u52a9\u9009\u9879\uff08\u8bf7\u6ce8\u610f\u4f7f\u7528\u53cc\u5f15\u53f7\uff09\uff1a</p> <pre><code>./ns3 run \"seventh --help\"\n</code></pre> <p>\u8fd9\u5c06\u4ea7\u751f\u4ee5\u4e0b\u8f93\u51fa\uff1a</p> <pre><code>ns3-dev-seventh-debug [Program Arguments] [General Arguments]\n\nProgram Arguments:\n    --useIpv6:  Use Ipv6 [false]\n\nGeneral Arguments:\n    --PrintGlobals:              Print the list of globals.\n    --PrintGroups:               Print the list of groups.\n    --PrintGroup=[group]:        Print all TypeIds of group.\n    --PrintTypeIds:              Print all TypeIds.\n    --PrintAttributes=[typeid]:  Print all attributes of typeid.\n    --PrintHelp:                 Print this help message.\n</code></pre> <p>\u8fd9\u4e2a\u9ed8\u8ba4\u503c\uff08\u610f\u5473\u7740\u6b64\u5904\u4f7f\u7528\u7684\u662f IPv4\uff0c\u56e0\u4e3a <code>useIpv6</code> \u4e3a false\uff09\u53ef\u4ee5\u901a\u8fc7\u5207\u6362\u5e03\u5c14\u503c\u6765\u66f4\u6539\uff1a</p> <pre><code>./ns3 run \"seventh --useIpv6=1\"\n</code></pre> <p>\u5e76\u67e5\u770b\u751f\u6210\u7684 pcap \u6587\u4ef6\uff0c\u6bd4\u5982\u4f7f\u7528 tcpdump\uff1a</p> <pre><code>tcpdump -r seventh.pcap -nn -tt\n</code></pre> <p>\u8fd9\u662f\u5bf9 IPv6 \u652f\u6301\u548c\u547d\u4ee4\u884c\u7684\u7b80\u77ed\u8ba8\u8bba\uff0c\u8fd9\u5728\u672c\u6559\u7a0b\u7684\u524d\u9762\u90e8\u5206\u4e5f\u6709\u4ecb\u7ecd\u3002\u6709\u5173\u547d\u4ee4\u884c\u4f7f\u7528\u7684\u4e13\u7528\u793a\u4f8b\uff0c\u8bf7\u53c2\u9605 <code>src/core/examples/command-line-example.cc</code>\u3002</p> <p>\u73b0\u5728\u56de\u5230\u6570\u636e\u6536\u96c6\u3002\u5728 <code>examples/tutorial/</code> \u76ee\u5f55\u4e2d\uff0c\u952e\u5165\u4ee5\u4e0b\u547d\u4ee4\uff1a<code>diff -u sixth.cc seventh.cc</code>\uff0c\u5e76\u68c0\u67e5\u6b64\u5dee\u5f02\u4e2d\u7684\u4e00\u4e9b\u65b0\u884c\uff1a</p> <pre><code>+  std::string probeType;\n+  std::string tracePath;\n+  if (useV6 == false)\n+    {\n   ...\n+      probeType = \"ns3::Ipv4PacketProbe\";\n+      tracePath = \"/NodeList/*/$ns3::Ipv4L3Protocol/Tx\";\n+    }\n+  else\n+    {\n   ...\n+      probeType = \"ns3::Ipv6PacketProbe\";\n+      tracePath = \"/NodeList/*/$ns3::Ipv6L3Protocol/Tx\";\n+    }\n ...\n+   // Use GnuplotHelper to plot the packet byte count over time\n+   GnuplotHelper plotHelper;\n+\n+   // Configure the plot.  The first argument is the file name prefix\n+   // for the output files generated.  The second, third, and fourth\n+   // arguments are, respectively, the plot title, x-axis, and y-axis labels\n+   plotHelper.ConfigurePlot (\"seventh-packet-byte-count\",\n+                             \"Packet Byte Count vs. Time\",\n+                             \"Time (Seconds)\",\n+                             \"Packet Byte Count\");\n+\n+   // Specify the probe type, trace source path (in configuration namespace), and\n+   // probe output trace source (\"OutputBytes\") to plot.  The fourth argument\n+   // specifies the name of the data series label on the plot.  The last\n+   // argument formats the plot by specifying where the key should be placed.\n+   plotHelper.PlotProbe (probeType,\n+                         tracePath,\n+                         \"OutputBytes\",\n+                         \"Packet Byte Count\",\n+                         GnuplotAggregator::KEY_BELOW);\n+\n+   // Use FileHelper to write out the packet byte count over time\n+   FileHelper fileHelper;\n+\n+   // Configure the file to be written, and the formatting of output data.\n+   fileHelper.ConfigureFile (\"seventh-packet-byte-count\",\n+                             FileAggregator::FORMATTED);\n+\n+   // Set the labels for this formatted output file.\n+   fileHelper.Set2dFormat (\"Time (Seconds) = %.3e\\tPacket Byte Count = %.0f\");\n+\n+   // Specify the probe type, probe path (in configuration namespace), and\n+   // probe output trace source (\"OutputBytes\") to write.\n+   fileHelper.WriteProbe (probeType,\n+                          tracePath,\n+                          \"OutputBytes\");\n+\n    Simulator::Stop (Seconds (20));\n    Simulator::Run ();\n    Simulator::Destroy ();\n</code></pre> <p>\u4ed4\u7ec6\u7684\u8bfb\u8005\u5728\u4e0a\u9762\u6d4b\u8bd5 IPv6 \u547d\u4ee4\u884c\u5c5e\u6027\u65f6\u4f1a\u6ce8\u610f\u5230\uff0c<code>seventh.cc</code> \u521b\u5efa\u4e86\u4e00\u4e9b\u65b0\u7684\u8f93\u51fa\u6587\u4ef6\uff1a</p> <ul> <li><code>seventh-packet-byte-count-0.txt</code></li> <li><code>seventh-packet-byte-count-1.txt</code></li> <li><code>seventh-packet-byte-count.dat</code></li> <li><code>seventh-packet-byte-count.plt</code></li> <li><code>seventh-packet-byte-count.png</code></li> <li><code>seventh-packet-byte-count.sh</code></li> </ul> <p>\u8fd9\u4e9b\u662f\u901a\u8fc7\u5f15\u5165\u7684\u989d\u5916\u8bed\u53e5\u521b\u5efa\u7684\uff1b\u7279\u522b\u662f\u901a\u8fc7 <code>GnuplotHelper</code> \u548c <code>FileHelper</code>\u3002\u6b64\u6570\u636e\u662f\u901a\u8fc7==\u5c06\u6570\u636e\u6536\u96c6\u7ec4\u4ef6\u8fde\u63a5\u5230 ns-3 \u8ddf\u8e2a\u6e90==\uff0c\u5e76==\u5c06\u6570\u636e\u7f16\u7ec4\u5230\u683c\u5f0f\u5316\u7684 gnuplot \u6587\u4ef6\u548c\u683c\u5f0f\u5316\u7684\u6587\u672c\u6587\u4ef6\u4e2d==\u4ea7\u751f\u7684\u3002\u5728\u63a5\u4e0b\u6765\u7684\u51e0\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u9010\u4e00\u5ba1\u67e5\u6bcf\u4e00\u4e2a\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#gnuplothelper","title":"GnuplotHelper","text":"<p><code>GnuplotHelper</code> \u662f\u4e00\u4e2a\u9762\u5411\u751f\u6210 gnuplot \u56fe\u8868\u7684 ns-3 \u52a9\u624b\u5bf9\u8c61\uff0c\u65e8\u5728\u4ee5\u5c3d\u53ef\u80fd\u5c11\u7684\u8bed\u53e5\u5b9e\u73b0\u5e38\u89c1\u60c5\u51b5\u4e0b\u7684\u64cd\u4f5c\u3002\u5b83\u5c06 ns-3 \u8ddf\u8e2a\u6e90\u4e0e\u6570\u636e\u6536\u96c6\u7cfb\u7edf\u652f\u6301\u7684\u6570\u636e\u7c7b\u578b\u8fde\u63a5\u8d77\u6765\u3002\u5e76\u975e\u6240\u6709 ns-3 \u8ddf\u8e2a\u6e90\u7684\u6570\u636e\u7c7b\u578b\u90fd\u5f97\u5230\u652f\u6301\uff0c\u4f46\u8bb8\u591a\u5e38\u89c1\u7684\u8ddf\u8e2a\u7c7b\u578b\u5f97\u5230\u4e86\u652f\u6301\uff0c\u5305\u62ec\u5177\u6709\u666e\u901a\u65e7\u6570\u636e\uff08POD\uff09\u7c7b\u578b\u7684 TracedValues\u3002</p> <p>\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e0b\u8fd9\u4e2a\u52a9\u624b\u751f\u6210\u7684\u8f93\u51fa\uff1a</p> <ul> <li><code>seventh-packet-byte-count.dat</code></li> <li><code>seventh-packet-byte-count.plt</code></li> <li><code>seventh-packet-byte-count.sh</code></li> </ul> <p>\u7b2c\u4e00\u4e2a\u662f\u4e00\u4e2a gnuplot \u6570\u636e\u6587\u4ef6\uff0c\u5176\u4e2d\u5305\u542b\u4e00\u7cfb\u5217\u7528\u7a7a\u683c\u5206\u9694\u7684\u65f6\u95f4\u6233\u548c\u6570\u636e\u5305\u5b57\u8282\u8ba1\u6570\u3002\u6211\u4eec\u5c06\u5728\u4e0b\u9762\u4ecb\u7ecd\u5982\u4f55\u914d\u7f6e\u6b64\u7279\u5b9a\u7684\u6570\u636e\u8f93\u51fa\uff0c\u4f46\u8ba9\u6211\u4eec\u7ee7\u7eed\u67e5\u770b\u8f93\u51fa\u6587\u4ef6\u3002</p> <p>\u6587\u4ef6 <code>seventh-packet-byte-count.plt</code> \u662f\u4e00\u4e2a gnuplot \u7ed8\u56fe\u6587\u4ef6\uff0c\u53ef\u4ee5\u4ece gnuplot \u4e2d\u6253\u5f00\u3002\u4e86\u89e3 gnuplot \u8bed\u6cd5\u7684\u8bfb\u8005\u53ef\u4ee5\u770b\u5230\uff0c\u8fd9\u5c06\u4ea7\u751f\u4e00\u4e2a\u540d\u4e3a <code>seventh-packet-byte-count.png</code> \u7684\u683c\u5f0f\u5316\u8f93\u51fa PNG \u6587\u4ef6\u3002</p> <p>\u6700\u540e\uff0c==\u4e00\u4e2a\u5c0f\u7684 shell \u811a\u672c <code>seventh-packet-byte-count.sh</code> \u901a\u8fc7 gnuplot \u8fd0\u884c\u6b64\u7ed8\u56fe\u6587\u4ef6\u4ee5\u751f\u6210\u6240\u9700\u7684 PNG==\uff08\u53ef\u4ee5\u5728\u56fe\u50cf\u7f16\u8f91\u5668\u4e2d\u67e5\u770b\uff09\uff1b\u4e5f\u5c31\u662f\u8bf4\uff0c\u6267\u884c\u4ee5\u4e0b\u547d\u4ee4\uff1a</p> <pre><code>sh seventh-packet-byte-count.sh\n</code></pre> <p>\u5c06\u751f\u6210 <code>seventh-packet-byte-count.png</code>\u3002\u4e3a\u4ec0\u4e48\u4e00\u5f00\u59cb\u5c31\u6ca1\u6709\u751f\u6210\u8fd9\u4e2a PNG\uff1f\u7b54\u6848\u662f\u901a\u8fc7\u63d0\u4f9b plt \u6587\u4ef6\uff0c\u7528\u6237\u53ef\u4ee5\u5728\u751f\u6210 PNG \u4e4b\u524d\u624b\u52a8\u914d\u7f6e\u7ed3\u679c\uff0c\u5982\u679c\u9700\u8981\u7684\u8bdd\u3002</p> <p>PNG \u56fe\u50cf\u7684\u6807\u9898\u8bf4\u660e\u4e86\u8fd9\u4e2a\u56fe\u8868\u662f\u201cPacket Byte Count vs. Time\u201d\u7684\u56fe\u8868\uff0c\u5b83\u6b63\u5728\u7ed8\u5236\u4e0e\u8ddf\u8e2a\u6e90\u8def\u5f84\u5bf9\u5e94\u7684\u63a2\u6d4b\u6570\u636e\uff1a</p> <pre><code>/NodeList/*/$ns3::Ipv6L3Protocol/Tx\n</code></pre> <p>\u8bf7\u6ce8\u610f==\u8ddf\u8e2a\u8def\u5f84\u4e2d\u7684\u901a\u914d\u7b26==\u3002</p> <p>\u603b\u7ed3\u4e00\u4e0b\uff0c\u8fd9\u4e2a\u56fe\u8868\u6355\u83b7\u7684\u662f\u5728 Ipv6L3Protocol \u5bf9\u8c61\u7684\u4f20\u8f93\u8ddf\u8e2a\u6e90\u5904\u89c2\u5bdf\u5230\u7684\u6570\u636e\u5305\u5b57\u8282\u7684\u56fe\u8868\uff1b\u4e3b\u8981\u662f\u4e00\u4e2a\u65b9\u5411\u4e0a\u7684 596 \u5b57\u8282\u7684 TCP \u6bb5\u548c\u53e6\u4e00\u4e2a\u65b9\u5411\u4e0a\u7684 60 \u5b57\u8282\u7684 TCP \u786e\u8ba4\uff08\u6b64\u8ddf\u8e2a\u6e90\u5339\u914d\u4e86\u4e24\u4e2a\u8282\u70b9\u7684\u8ddf\u8e2a\u6e90\uff09\u3002</p> <p>\u8fd9\u662f\u5982\u4f55\u914d\u7f6e\u7684\u5462\uff1f\u9700\u8981\u63d0\u4f9b\u4e00\u4e9b\u8bed\u53e5\u3002\u9996\u5148\uff0c\u5fc5\u987b\u58f0\u660e\u5e76\u914d\u7f6e <code>GnuplotHelper</code> \u5bf9\u8c61\uff1a</p> <pre><code>// \u4f7f\u7528 GnuplotHelper \u7ed8\u5236\u968f\u65f6\u95f4\u53d8\u5316\u7684\u6570\u636e\u5305\u5b57\u8282\u6570\uff1a\nGnuplotHelper plotHelper;\n\n// \u914d\u7f6e\u56fe\u8868\uff1a\n// \nplotHelper.ConfigurePlot (\"seventh-packet-byte-count\",  // \u7b2c\u4e00\u4e2a\u53c2\u6570\uff1a\u662f\u751f\u6210\u7684\u8f93\u51fa\u6587\u4ef6\u7684\u6587\u4ef6\u540d\u524d\u7f00\n                          \"Packet Byte Count vs. Time\", // \u7b2c\u4e8c\u4e2a\u53c2\u6570\uff1a\u56fe\u8868\u6807\u9898\n                          \"Time (Seconds)\",             // \u7b2c\u4e09\u4e2a\u53c2\u6570\uff1ax \u8f74\u6807\u7b7e\n                          \"Packet Byte Count\");         // \u7b2c\u56db\u4e2a\u53c2\u6570\uff1ay \u8f74\u6807\u7b7e\n</code></pre> <p>\u5230==\u76ee\u524d\u4e3a\u6b62\uff0c\u5df2\u7ecf\u914d\u7f6e\u4e86\u4e00\u4e2a\u7a7a\u7684\u56fe\u8868==\u3002\u6587\u4ef6\u540d\u524d\u7f00\u662f\u7b2c\u4e00\u4e2a\u53c2\u6570\uff0c\u56fe\u8868\u6807\u9898\u662f\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0cx \u8f74\u6807\u7b7e\u662f\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0cy \u8f74\u6807\u7b7e\u662f\u7b2c\u56db\u4e2a\u53c2\u6570\u3002</p> <p>==\u4e0b\u4e00\u6b65\u662f\u914d\u7f6e\u6570\u636e\uff0c\u8fd9\u662f\u8ddf\u8e2a\u6e90\u7684\u8fde\u63a5\u70b9==\u3002</p> <p>\u9996\u5148\uff0c\u5728\u7a0b\u5e8f\u4e2d\u4e0a\u9762\u58f0\u660e\u4e86\u4e00\u4e9b\u4ee5\u540e\u4f1a\u7528\u5230\u7684\u53d8\u91cf\uff1a</p> <pre><code>std::string probeType;\nstd::string tracePath;\nprobeType = \"ns3::Ipv6PacketProbe\";\ntracePath = \"/NodeList/*/$ns3::Ipv6L3Protocol/Tx\";\n</code></pre> <p>\u6211\u4eec\u5728\u8fd9\u91cc\u4f7f\u7528\u5b83\u4eec\uff1a</p> <pre><code>// \u6307\u5b9a\u63a2\u6d4b\u7c7b\u578b\u3001\u8ddf\u8e2a\u6e90\u8def\u5f84\uff08\u5728\u914d\u7f6e\u547d\u540d\u7a7a\u95f4\u4e2d\uff09\uff0c\u4ee5\u53ca\n// \u8981\u7ed8\u5236\u7684\u63a2\u6d4b\u8f93\u51fa\u8ddf\u8e2a\u6e90\uff08\"OutputBytes\"\uff09\u3002\u7b2c\u56db\u4e2a\u53c2\u6570\n// \u6307\u5b9a\u56fe\u8868\u4e0a\u6570\u636e\u7cfb\u5217\u6807\u7b7e\u7684\u540d\u79f0\u3002\u6700\u540e\u4e00\u4e2a\u53c2\u6570\n// \u901a\u8fc7\u6307\u5b9a\u952e\u5e94\u8be5\u653e\u7f6e\u5728\u4f55\u5904\u6765\u683c\u5f0f\u5316\u56fe\u8868\u3002\n\n// \u683c\u5f0f\u5316\u56fe\u8868\u8981\u7d20\uff1a\nplotHelper.PlotProbe (probeType,                     // \u63a2\u6d4b\u7c7b\u578b\n                      tracePath,                     // \u8ddf\u8e2a\u6e90\u8def\u5f84\uff08\u5728\u914d\u7f6e\u547d\u540d\u7a7a\u95f4\u4e2d\uff09\n                      \"OutputBytes\",                 // \u8981\u7ed8\u5236\u7684\u63a2\u6d4b\u8f93\u51fa\u8ddf\u8e2a\u6e90\n                      \"Packet Byte Count\",           // \u56fe\u8868\u4e0a\u6570\u636e\u7cfb\u5217\u6807\u7b7e\u7684\u540d\u79f0\n                      GnuplotAggregator::KEY_BELOW); // \u6307\u5b9a\u952e\u5e94\u8be5\u653e\u7f6e\u5728\u4f55\u5904\n</code></pre> <p>\u524d\u4e24\u4e2a\u53c2\u6570\u662f\u63a2\u6d4b\u7c7b\u578b\u7684\u540d\u79f0\u548c\u8ddf\u8e2a\u6e90\u8def\u5f84\u3002\u5f53\u5c1d\u8bd5\u4f7f\u7528\u6b64\u6846\u67b6\u7ed8\u5236\u5176\u4ed6\u8ddf\u8e2a\u65f6\uff0c\u8fd9\u4e24\u4e2a\u53c2\u6570\u53ef\u80fd\u662f\u6700\u96be\u786e\u5b9a\u7684\u3002\u8fd9\u91cc\u7684\u63a2\u6d4b\u8ddf\u8e2a\u662f Ipv6L3Protocol \u7c7b\u7684 Tx \u8ddf\u8e2a\u6e90\u3002\u5f53\u6211\u4eec\u68c0\u67e5\u8fd9\u4e2a\u7c7b\u7684\u5b9e\u73b0\uff08<code>src/internet/model/ipv6-l3-protocol.cc</code>\uff09\u65f6\uff0c\u6211\u4eec\u53ef\u4ee5\u89c2\u5bdf\u5230\uff1a</p> <pre><code>.AddTraceSource (\"Tx\", \"Send IPv6 packet to outgoing interface.\",\n                 MakeTraceSourceAccessor (&amp;Ipv6L3Protocol::m_txTrace))\n</code></pre> <p>\u8fd9\u8bf4\u660e Tx \u662f\u53d8\u91cf <code>m_txTrace</code> \u7684\u540d\u79f0\uff0c\u5b83\u7684\u58f0\u660e\u5982\u4e0b\uff1a</p> <pre><code>/**\n * \\brief Callback to trace TX (transmission) packets.\n */\nTracedCallback&lt;Ptr&lt;const Packet&gt;, Ptr&lt;Ipv6&gt;, uint32_t&gt; m_txTrace;\n</code></pre> <p>\u4e8b\u5b9e\u8bc1\u660e\uff0c\u8fd9\u4e2a\u7279\u5b9a\u7684\u8ddf\u8e2a\u6e90\u7b7e\u540d\u7531 Ipv6PacketProbe \u7c7b\uff08\u6211\u4eec\u5728\u8fd9\u91cc\u9700\u8981\u7684\u7c7b\uff09\u7684 Probe \u7c7b\u578b\u652f\u6301\u3002\u8bf7\u53c2\u89c1\u6587\u4ef6 <code>src/internet/model/ipv6-packet-probe.{h,cc}</code>\u3002</p> <p>\u56e0\u6b64\uff0c\u5728\u4e0a\u9762\u7684 <code>PlotProbe</code> \u8bed\u53e5\u4e2d\uff0c\u6211\u4eec\u770b\u5230==\u8be5\u8bed\u53e5\u6b63\u5728\u4f7f\u7528\u4e0e\u8def\u5f84\u5b57\u7b26\u4e32\u5339\u914d\u7684\u8ddf\u8e2a\u6e90==\uff08\u8bc6\u522b\u4e3a\u63a2\u6d4b\u7c7b\u578b <code>Ipv6PacketProbe</code> \u7684 ns-3 \u63a2\u6d4b\u7c7b\u578b\uff09\u3002\u5982\u679c\u6211\u4eec\u4e0d\u652f\u6301\u6b64\u63a2\u6d4b\u7c7b\u578b\uff08\u5339\u914d\u8ddf\u8e2a\u6e90\u7b7e\u540d\uff09\uff0c\u6211\u4eec\u5c06\u65e0\u6cd5\u4f7f\u7528\u6b64\u8bed\u53e5\uff08\u5c3d\u7ba1\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u66f4\u590d\u6742\u7684\u5e95\u5c42\u8bed\u53e5\uff0c\u5982\u624b\u518c\u4e2d\u6240\u8ff0\uff09\u3002</p> <p><code>Ipv6PacketProbe</code> \u672c\u8eab\u5bfc\u51fa\u4e86\u4e00\u4e9b\u8ddf\u8e2a\u6e90\uff0c\u7528\u4e8e\u4ece\u88ab\u63a2\u6d4b\u7684 Packet \u5bf9\u8c61\u4e2d\u63d0\u53d6\u6570\u636e\uff1a</p> <pre><code>TypeId\nIpv6PacketProbe::GetTypeId ()\n{\n  static TypeId tid = TypeId (\"ns3::Ipv6PacketProbe\")\n    .SetParent&lt;Probe&gt; ()\n    .SetGroupName (\"Stats\")\n    .AddConstructor&lt;Ipv6PacketProbe&gt; ()\n    .AddTraceSource ( \"Output\",\n                      \"The packet plus its IPv6 object and interface that serve as the output for this probe\",\n                      MakeTraceSourceAccessor (&amp;Ipv6PacketProbe::m_output))\n    .AddTraceSource ( \"OutputBytes\",\n                      \"The number of bytes in the packet\",\n                      MakeTraceSourceAccessor (&amp;Ipv6PacketProbe::m_outputBytes))\n  ;\n  return tid;\n}\n</code></pre> <p><code>PlotProbe</code> \u8bed\u53e5\u7684\u7b2c\u4e09\u4e2a\u53c2\u6570\u6307\u5b9a\u6211\u4eec\u5bf9\u6b64\u6570\u636e\u5305\u4e2d\u7684\u5b57\u8282\u6570\u611f\u5174\u8da3\uff1b\u5177\u4f53\u6765\u8bf4\uff0c\u6211\u4eec\u5bf9 <code>Ipv6PacketProbe</code> \u7684 \u201cOutputBytes\u201d \u8ddf\u8e2a\u6e90\u611f\u5174\u8da3\u3002\u6700\u540e\uff0c\u8be5\u8bed\u53e5\u7684\u6700\u540e\u4e24\u4e2a\u53c2\u6570\u63d0\u4f9b\u4e86\u6b64\u6570\u636e\u7cfb\u5217\u7684\u56fe\u4f8b\uff08\u201cPacket Byte Count\u201d\uff09\uff0c\u4ee5\u53ca\u4e00\u4e2a\u53ef\u9009\u7684 gnuplot \u683c\u5f0f\u8bed\u53e5\uff08<code>GnuplotAggregator::KEY_BELOW</code>\uff09\uff0c\u6211\u4eec\u5e0c\u671b\u56fe\u4f8b\u952e\u63d2\u5165\u5728\u56fe\u8868\u4e0b\u9762\u3002\u5176\u4ed6\u9009\u9879\u5305\u62ec <code>NO_KEY</code>\u3001<code>KEY_INSIDE</code> \u548c <code>KEY_ABOVE</code>\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#supported-trace-types","title":"Supported Trace Types","text":"<p>\u622a\u81f3\u76ee\u524d\u4e3a\u6b62\uff0c\u4ee5\u4e0b\u8ddf\u8e2a\u503c\u5728 Probes \u4e2d\u5f97\u5230\u652f\u6301\uff1a</p> TracedValue \u7c7b\u578b Probe \u7c7b\u578b \u6587\u4ef6 double DoubleProbe <code>stats/model/double-probe.h</code> uint8_t Uinteger8Probe <code>stats/model/uinteger-8-probe.h</code> uint16_t Uinteger16Probe <code>stats/model/uinteger-16-probe.h</code> uint32_t Uinteger32Probe <code>stats/model/uinteger-32-probe.h</code> bool BooleanProbe <code>stats/model/uinteger-16-probe.h</code> ns3::Time TimeProbe <code>stats/model/time-probe.h</code> <p>\u622a\u81f3\u76ee\u524d\u4e3a\u6b62\uff0c\u4ee5\u4e0b TraceSource \u7c7b\u578b\u7531 Probes \u652f\u6301\uff1a</p> TracedSource \u7c7b\u578b Probe \u7c7b\u578b Probe \u8f93\u51fa \u6587\u4ef6 <code>Ptr&lt;const Packet&gt;</code> PacketProbe OutputBytes <code>network/utils/packet-probe.h</code> <code>Ptr&lt;const Packet&gt;, Ptr&lt;Ipv4&gt;, uint32_t</code> Ipv4PacketProbe OutputBytes <code>internet/model/ipv4-packet-probe.h</code> <code>Ptr&lt;const Packet&gt;, Ptr&lt;Ipv6&gt;, uint32_t</code> Ipv6PacketProbe OutputBytes <code>internet/model/ipv6-packet-probe.h</code> <code>Ptr&lt;const Packet&gt;, Ptr&lt;Ipv6&gt;, uint32_t</code> Ipv6PacketProbe OutputBytes <code>internet/model/ipv6-packet-probe.h</code> <code>Ptr&lt;const Packet&gt;, const Address&amp;</code> ApplicationPacketProbe OutputBytes <code>applications/model/application-packet-probe.h</code> <p>\u6b63\u5982\u53ef\u4ee5\u770b\u5230\u7684\u90a3\u6837\uff0c\u53ea\u6709\u5f88\u5c11\u4e00\u90e8\u5206\u8ddf\u8e2a\u6e90\u5f97\u5230\u652f\u6301\uff0c\u800c\u4e14\u5b83\u4eec\u90fd\u662f\u4ee5\u8f93\u51fa Packet \u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u4e3a\u5bfc\u5411\u7684\u3002\u7136\u800c\uff0c\u4f7f\u7528\u8fd9\u4e9b\u8f85\u52a9\u5de5\u5177\u53ef\u4ee5\u652f\u6301\u5927\u591a\u6570\u4f5c\u4e3a TracedValues \u63d0\u4f9b\u7684\u57fa\u672c\u6570\u636e\u7c7b\u578b\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#filehelper","title":"FileHelper","text":"<p>FileHelper \u7c7b\u53ea\u662f\u524d\u9762 GnuplotHelper \u793a\u4f8b\u7684\u53d8\u4f53\u3002\u8be5\u793a\u4f8b\u7a0b\u5e8f\u63d0\u4f9b\u4e86\u76f8\u540c\u65f6\u95f4\u6233\u6570\u636e\u7684\u683c\u5f0f\u5316\u8f93\u51fa\uff0c\u5982\u4e0b\u6240\u793a\uff1a</p> <pre><code>Time (Seconds) = 9.312e+00    Packet Byte Count = 596\nTime (Seconds) = 9.312e+00    Packet Byte Count = 564\n</code></pre> <p>\u63d0\u4f9b\u4e86\u4e24\u4e2a\u6587\u4ef6\uff0c\u4e00\u4e2a\u7528\u4e8e\u8282\u70b9 \"0\"\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u8282\u70b9 \"1\"\uff0c\u6b63\u5982\u6587\u4ef6\u540d\u6240\u793a\u3002\u6211\u4eec\u9010\u6bb5\u6765\u770b\u4ee3\u7801\uff1a</p> <pre><code>// Use FileHelper to write out the packet byte count over time\nFileHelper fileHelper;\n\n// Configure the file to be written, and the formatting of output data.\nfileHelper.ConfigureFile (\"seventh-packet-byte-count\",\n                          FileAggregator::FORMATTED);\n</code></pre> <p>\u6587\u4ef6\u5e2e\u52a9\u5668\u6587\u4ef6\u524d\u7f00\u662f==\u7b2c\u4e00\u4e2a\u53c2\u6570==\uff0c\u63a5\u4e0b\u6765\u662f==\u683c\u5f0f\u8bf4\u660e\u7b26==\u3002</p> <p>\u683c\u5f0f\u5316\u7684\u4e00\u4e9b\u5176\u4ed6\u9009\u9879\u5305\u62ec <code>SPACE_SEPARATED</code>\u3001<code>COMMA_SEPARATED</code> \u548c <code>TAB_SEPARATED</code>\u3002\u7528\u6237\u53ef\u4ee5\u4f7f\u7528\u683c\u5f0f\u5b57\u7b26\u4e32\u66f4\u6539\u683c\u5f0f\uff08\u5982\u679c\u6307\u5b9a\u4e86 <code>FORMATTED</code>\uff09\uff1a</p> <pre><code>// Set the labels for this formatted output file.\nfileHelper.Set2dFormat (\"Time (Seconds) = %.3e\\tPacket Byte Count = %.0f\");\n</code></pre> <p>\u6700\u540e\uff0c\u5fc5\u987b==\u6302\u63a5\u611f\u5174\u8da3\u7684\u8ddf\u8e2a\u6e90==\u3002\u518d\u6b21\u4f7f\u7528\u6b64\u793a\u4f8b\u4e2d\u7684 <code>probeType</code> \u548c <code>tracePath</code> \u53d8\u91cf\uff0c\u5e76==\u94a9\u4f4f\u63a2\u9488\u7684\u8f93\u51fa\u8ddf\u8e2a\u6e90 \"OutputBytes\"==\uff1a</p> <pre><code>// Specify the probe type, trace source path (in configuration namespace), and\n// probe output trace source (\"OutputBytes\") to write.\nfileHelper.WriteProbe (probeType,\n                       tracePath,\n                       \"OutputBytes\");\n</code></pre> <p>\u5728\u6b64\u8ddf\u8e2a\u6e90\u8bf4\u660e\u7b26\u4e2d\u7684\u901a\u914d\u7b26\u5b57\u6bb5\u5339\u914d\u4e24\u4e2a\u8ddf\u8e2a\u6e90\u3002\u4e0e GnuplotHelper \u793a\u4f8b\u4e0d\u540c\u7684\u662f\uff0c\u5728\u8be5\u793a\u4f8b\u4e2d\uff0c\u4e24\u4e2a\u72ec\u7acb\u7684\u6587\u4ef6\u88ab\u5199\u5165\u78c1\u76d8\u3002</p>"},{"location":"Sci_doc/ns-3/ch5/#summary","title":"Summary","text":"<p>Data collection support is new as of ns-3.18, and basic support for providing time series output has been added. The basic pattern described above may be replicated within the scope of support of the existing probes and trace sources. More capabilities including statistics processing will be added in future releases.</p>"},{"location":"curriculum_study/","title":"\u56fd\u5916\u8ba1\u7b97\u673a\u9ad8\u8d28\u91cf\u8bfe\u7a0b\u7684\u6574\u7406","text":""},{"location":"curriculum_study/#_2","title":"\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0","text":"<ul> <li> <p>\u8fd9\u4e00\u90e8\u5206\u7531\u7b14\u8005\u81ea\u884c\u6574\u7406\uff0c\u7531\u4e8e\u6c34\u5e73\u6709\u9650\uff0c\u5b58\u5728\u4e0d\u8db3\u4e4b\u5904\u8fd8\u8bf7\u591a\u591a\u6307\u6b63\uff01</p> </li> <li> <p>\u7531\u4e8e\u65f6\u95f4\u539f\u56e0\uff0c\u8fd9\u91cc\u6ca1\u505a\u56fe\u7247\u7684URL\uff0c\u5bfc\u81f4\u6587\u6863\u4e2d\u7684\u56fe\u7247\u57fa\u672c\u4e0a\u65e0\u6cd5\u67e5\u770b\uff0c\u540e\u671f\u4f1a\u6539\u8fdb(2023.11.15)</p> </li> <li> <p>\u8fd9\u91cc\u7684\u6587\u6863\u5747\u4e3amd\u6587\u672c\uff0c\u5982\u679c\u60f3\u8981\u73b0\u6210\u7684\u6587\u6863(pdf)\uff0c\u6b22\u8fce\u79fb\u6b65\u6211\u7684\u5b66\u4e60\u4ed3\u5e93\uff1agithub_repo</p> </li> <li> <p>\u8fd9\u91cc\u63a8\u8350\u4e00\u4e2a\u7279\u522b\u597d\u7684\u8ba1\u7b97\u673a\u8bfe\u7a0b\u5b66\u4e60\u7f51\u7ad9\uff0c\u6765\u81ea\u5317\u5927\u5f00\u6e90\u793e\u533a\uff1ahttps://csdiy.wiki</p> </li> <li> <p>\u5e0c\u671b\u5927\u5bb6\u80fd\u5b66\u6709\u6240\u83b7\uff01</p> </li> </ul>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/","title":"\u5e38\u8003\u7b97\u6cd5\u6a21\u677f","text":"<p>organized by hbx</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_2","title":"\u5feb\u901f\u6392\u5e8f","text":"<pre><code>#include&lt;bits/stdc++.h&gt;\n#define maxn 100009\nusing namespace std;\nint n;\nint a[maxn];\n\nvoid sort_quick(int a[],int l,int r)\n{\n\u00a0 \u00a0 if(l &gt;= r) return;\n\n\u00a0 \u00a0 int i = l - 1,j = r + 1;//\u5b9a\u4e0b\u8fb9\u754c\uff08\u6ce8\u610f\uff1a\u9700\u8981\u7559\u7a7a\uff01\u4e00\u4e2a-1 \u3001\u4e00\u4e2a+1\uff09\n\n\u00a0 \u00a0 int x = a[(l+r)&gt;&gt;1];//\u9009\u5b9a\u57fa\u6570\n\n\u00a0 \u00a0 while(i &lt; j)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 do(i++);while(a[i] &lt; x);\n\u00a0 \u00a0 \u00a0 \u00a0 do(j--);while(a[j] &gt; x);\n\u00a0 \u00a0 \u00a0 \u00a0 if(i &lt; j) {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 swap(a[i],a[j]);\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 }\n\n\u00a0 \u00a0 sort_quick(a,l,j);    \n\u00a0 \u00a0 sort_quick(a,j+1,r);\n/*\n\u6ce8\u610f\u00b7\u6b64\u5904\u5199\u6cd5\u7684\u5bf9\u79f0\u6027\uff1a\n1) \u5982\u679c\u524d\u9762\u7684\u57fa\u6570\u9009\u5b9a\u7684\u662fx = a[l],\u5219\u5fc5\u987b\u662f(a,l,j)\u4e0e(a,j+1,r),\u4e0d\u53ef\u4ee5\u662f(a,l,i-1)\u4e0e(a,i,r)\n2) \u5982\u679c\u524d\u9762\u7684\u57fa\u6570\u9009\u5b9a\u7684\u662fx = a[r],\u5219\u5fc5\u987b\u662f(a,l,i-1)\u4e0e(a,i,r),\u4e0d\u53ef\u4ee5\u662f(a,l,j)\u4e0e(a,j+1,r)\n3) \u4e00\u822c\u6765\u8bf4\u66f4\u63a8\u8350\u9009\u5b9a\u57fa\u6570\u662fx = a[(l+r)/2]\n*/\n}\n\nint main()\n{\n\u00a0 \u00a0 cin &gt;&gt; n;\n\u00a0 \u00a0 for(int i=1;i&lt;=n;i++) cin &gt;&gt; a[i];\n\u00a0 \u00a0 \n\u00a0 \u00a0 sort_quick(a,1,n);\n\n\u00a0 \u00a0 for(int i=1;i&lt;=n;i++) cout &lt;&lt; a[i] &lt;&lt;\" \";\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 return 0;\n}\n</code></pre> <p>\u6700\u4f73\u65f6\u95f4\u590d\u6742\u5ea6 O(\\(n^2\\)) \u6700\u574f\u65f6\u95f4\u590d\u6742\u5ea6 O(nlogn) \u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6 O(nlogn) \u4e0d\u7a33\u5b9a</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_3","title":"\u5f52\u5e76\u6392\u5e8f","text":"<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#define maxn 1000009\nusing namespace std;\n\nint a[maxn];\nint tmp[maxn];\n\nvoid merge_sort(int a[], int l, int r)\n{\n\u00a0 \u00a0 if(l &gt;= r) return;\n\u00a0 \u00a0 \n\u00a0 \u00a0 int mid = (l+r)/2;\n\u00a0 \u00a0 merge_sort(a,l,mid);\n\u00a0 \u00a0 merge_sort(a,mid+1,r);\n\n\u00a0 \u00a0 int i = l , j = mid + 1;\n\u00a0 \u00a0 int k = 0;\n\n\u00a0 \u00a0 while(i&lt;=mid and j&lt;=r)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 if(a[i] &lt;= a[j]) tmp[k++] = a[i++];\n\u00a0 \u00a0 \u00a0 \u00a0 else tmp[k++] = a[j++];\n\u00a0 \u00a0 }\n\n\u00a0 \u00a0 while(i&lt;=mid) tmp[k++] = a[i++];\n\u00a0 \u00a0 while(j&lt;=r) tmp[k++] = a[j++];\n\n\u00a0 \u00a0 for(int i=l,j=0; i&lt;=r; i++,j++) a[i] = tmp[j];\n}\n\nint main()\n{\n\u00a0 \u00a0 int n;\n\u00a0 \u00a0 cin &gt;&gt; n;\n\u00a0 \u00a0 for(int i=1;i&lt;=n;i++) cin &gt;&gt; a[i];\n\n\u00a0 \u00a0 merge_sort(a,1,n);\n\n\u00a0 \u00a0 for(int i=1;i&lt;=n;i++) cout &lt;&lt; a[i] &lt;&lt; ' ';\n\u00a0 \u00a0 cout&lt;&lt;endl;\n\u00a0 \u00a0 return 0;\n}\n</code></pre> <p>\u5e73\u5747\u65f6\u95f4\u590d\u6742\u5ea6 O(nlogn) \u7a33\u5b9a</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_4","title":"\u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217","text":"<p>![[Pasted image 20231224230420.png]]</p> <pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#define maxn 1009\nusing namespace std;\n\nint n,m;\nchar a[maxn],b[maxn];\nint f[maxn][maxn];\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; m;\n    cin &gt;&gt; a+1 &gt;&gt; b+1;\n\n    for(int i=1; i&lt;=n; i++)\n    {\n        for(int j=1; j&lt;=m; j++)\n        {\n            f[i][j] = max(f[i-1][j],f[i][j-1]);\n\n            if(a[i] == b[j]) {\n                f[i][j] = max(f[i][j],f[i-1][j-1]+1);\n            }\n        }\n    }\n\n    cout &lt;&lt; f[n][m];\n\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#0-1dp","title":"0-1\u80cc\u5305\u95ee\u9898\uff08dp/\u8d2a\u5fc3/\u56de\u6eaf/\u5206\u652f\u9650\u754c\uff09","text":"<pre><code>/* \u52a8\u6001\u89c4\u5212\u65b9\u6cd5\n0-1\u80cc\u5305\uff1a\ndef: \n    f[i][j]: \u53ea\u770b\u524di\u4e2a\u7269\u54c1\uff0c\u603b\u4f53\u79ef\u662fj\u7684\u60c5\u51b5\u4e0b\uff0c\u603b\u4ef7\u503cmax\u662f\u591a\u5c11\uff1f\nans:\n    res = max{f[n][0~v]}\nana:\n    f[i][j] = \u51fa\u53d1\u70b9\u662f\u770b\u7269\u54c1i\u662f\u5426\u88ab\u9009\n    1\uff09\u4e0d\u9009\u7269\u54c1i\uff0cf[i][j] = f[i-1][j]\n    2\uff09\u9009\u7269\u54c1i\uff0cf[i][j] = f[i-1][j-v[i]]\n    \u53d6\u4e8c\u8005max\u5373\u53ef\nori:\n    f[0][0] = 0\nflex:\n    O(nm)\n*/\n\n#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#define maxn 1009\nusing namespace std;\n\nint n,m;\nint f[maxn][maxn];\nint v[maxn],w[maxn];\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; m;\n    for(int i=1;i&lt;=n;i++) cin &gt;&gt; v[i] &gt;&gt; w[i];\n\n    f[0][0] = 0;\n\n    for(int i=1;i&lt;=n;i++)\n    {\n        for(int j=0;j&lt;=m;j++) // \u6ce8\u610f\u8fd9\u91cc\u4f53\u79ef\u679a\u4e3e\u9700\u4ece0\u5f00\u59cb\n        {\n            f[i][j] = f[i-1][j];\n\n            if(j&gt;=v[i]) {\n                f[i][j] = max(f[i-1][j] , f[i-1][j-v[i]] + w[i]);   \n            }\n        }\n    }\n\n    int res = 0;\n    for(int i=0;i&lt;=m;i++) res = max(res,f[n][i]);\n    cout&lt;&lt;res&lt;&lt;endl;\n    return 0;\n}\n</code></pre> <pre><code>/*\n\u8d2a\u5fc3\u65b9\u6cd5\uff1a\n\u8d2a\u5fc3\u7b97\u6cd5\u662f\u4e00\u79cd\u53ea\u8003\u8651\u5f53\u524d\u6700\u4f18\u7684\u7b97\u6cd5\uff0c\u5176\u4e0d\u4ece\u603b\u4f53\u4e0a\u8003\u8651\n\u6240\u4ee5\u8d2a\u5fc3\u7b97\u6cd5\u4e0d\u662f\u5bf9\u6240\u6709\u95ee\u9898\u90fd\u80fd\u6c42\u5f97\u6574\u4f53\u6700\u4f18\u89e3\uff01\u50cf0-1\u80cc\u5305\u95ee\u9898\uff0c\u7528\u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u6c42\u5f97\u7684\u662f\u5c40\u90e8\u6700\u4f18\u89e3\n\n\u7528\u8d2a\u5fc3\u7b97\u6cd5\u89e30-1\u80cc\u5305\u95ee\u9898\u539f\u7406\u5982\u4e0b\uff1a\n\u9996\u5148\u6211\u4eec\u6309\u7167\u7269\u54c1\u7684\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u6765\u8fdb\u884c\u6392\u5e8f\uff0c\u7136\u540e\u6309\u7167\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4ece\u9ad8\u5230\u4f4e\u4f9d\u6b21\u8fdb\u884c\u9009\u62e9\uff0c\u82e5\u5176\u80fd\u88c5\u5165\u80cc\u5305\u5219\u5c06\u5176\u88c5\u5165\uff0c\u4e0d\u80fd\u5219\u7ee7\u7eed\u5224\u65ad\u4e0b\u4e00\u4e2a\u76f4\u81f3\u6240\u6709\u7269\u54c1\u90fd\u5224\u65ad\u5b8c\uff0c\u5c31\u5f97\u5230\u4e86\u95ee\u9898\u7684\u4e00\u4e2a\u89e3\u3002\n\n\u4f46\u662f\u5bf9\u4e8e0-1\u80cc\u5305\u95ee\u9898\uff0c\u7528\u8d2a\u5fc3\u7b97\u6cd5\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u6700\u7ec8\u53ef\u4ee5\u5c06\u80cc\u5305\u88c5\u6ee1\uff0c\u90e8\u5206\u5269\u4f59\u7684\u7a7a\u95f4\u4f7f\u5f97\u5355\u4f4d\u91cd\u91cf\u80cc\u5305\u7a7a\u95f4\u7684\u4ef7\u503c\u964d\u4f4e\u4e86\uff0c\u8fd9\u4e5f\u662f\u7528\u8d2a\u5fc3\u7b97\u6cd5\u4e00\u822c\u65e0\u6cd5\u6c42\u5f970-1\u80cc\u5305\u6700\u4f18\u89e3\u7684\u539f\u56e0\u3002\n*/\n\n#include &lt;iostream&gt;\n#include&lt;algorithm&gt;\nusing namespace std;\n\nint n, c; //n\u4e2a\u7269\u54c1\uff0cc\u7684\u5bb9\u91cf\n\nstruct node\n{\n    double v;//\u4ef7\u503c\n    double w;//\u91cd\u91cf\n} wu[100];\n\nbool cmp1(node a, node b)//\u91cd\u91cf\n{\n    if (a.w == b.w)\n        return a.v &gt; b.v;\n    return a.w &lt; b.w;\n}\n\nbool cmp2(node a, node b)//\u4ef7\u503c\n{\n    if (a.v == b.v)\n        return a.w &lt; b.w;\n    return a.v &gt; b.v;\n}\n\nbool cmp3(node a, node b)// \u5355\u4f4d\u4ef7\u503c\n{\n    if ((a.v / a.w) == (b.v / b.w))\n        return a.w &lt; b.w;\n    return (a.v / a.w) &gt; (b.v / b.w);\n}\n\nint fun1(int n, int c)\n{\n    sort(wu, wu + n, cmp1);\n    int value = 0;\n    for (int i = 0; i &lt; n; i++)\n    {\n        if (c &gt;= wu[i].w)\n        {\n            c -= wu[i].w;\n            value += wu[i].v;\n        }\n    }\n    return value;\n}\n\nint fun2(int n, int c)\n{\n    sort(wu, wu + n, cmp2);\n    int value = 0;\n    for (int i = 0; i &lt; n; i++)\n    {\n        if (c &gt;= wu[i].w)\n        {\n            c -= wu[i].w;\n            value += wu[i].v;\n        }\n    }\n    return value;\n}\n\nint fun3(int n, int c)            // \u8fd9\u624d\u662f\u672c\u9898\u8d2a\u5fc3\u6240\u5bf9\u5e94\u7684\u89e3\u6cd5\uff01\n{\n    sort(wu, wu + n, cmp3);\n    int value = 0;\n    for (int i = 0; i &lt; n; i++)\n    {\n        if (c &gt;= wu[i].w)\n        {\n            c -= wu[i].w;\n            value += wu[i].v;\n        }\n    }\n    return value;\n}\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; c;\n    for (int i = 0; i &lt; n; i++) cin &gt;&gt; wu[i].w;\n    for (int j = 0; j &lt; n; j++) cin &gt;&gt; wu[j].v;\n\n    cout &lt;&lt; \"\u4f18\u5148\u653e\u91cd\u91cf\u6700\u5c0f\u7684\u7b54\u6848\uff1a\";\n    cout &lt;&lt; fun1(n, c) &lt;&lt; endl;\n\n    cout &lt;&lt; \"\u4f18\u5148\u653e\u4ef7\u503c\u6700\u5927\u7684\u7b54\u6848\uff1a\";\n    cout &lt;&lt; fun2(n, c) &lt;&lt; endl;\n\n    cout &lt;&lt; \"\u5148\u653e\u6027\u4ef7\u6bd4\u6700\u5927\u7684\u7b54\u6848\uff1a\";\n    cout &lt;&lt; fun3(n, c) &lt;&lt; endl;\n\n    return 0;\n}\n</code></pre> <pre><code>/* https://blog.csdn.net/qq_67764134/article/details/129903263\n\u56de\u6eaf\u6cd5\uff1a\n1) 01\u80cc\u5305\u5c5e\u4e8e\u627e\u6700\u4f18\u89e3\u95ee\u9898\uff0c\u7528\u56de\u6eaf\u6cd5\u9700\u8981\u6784\u9020\u89e3\u7684\u5b50\u96c6\u6811\u3002\u5bf9\u4e8e\u6bcf\u4e00\u4e2a\u7269\u54c1i\uff0c\u5bf9\u4e8e\u8be5\u7269\u54c1\u53ea\u6709\u9009\u4e0e\u4e0d\u90092\u4e2a\u51b3\u7b56\uff0c\u603b\u5171\u6709n\u4e2a\u7269\u54c1\uff0c\u53ef\u4ee5\u987a\u5e8f\u4f9d\u6b21\u8003\u8651\u6bcf\u4e2a\u7269\u54c1\uff0c\u8fd9\u6837\u5c31\u5f62\u6210\u4e86\u4e00\u68f5\u89e3\u7a7a\u95f4\u6811\uff1a \u57fa\u672c\u601d\u60f3\u5c31\u662f\u904d\u5386\u8fd9\u68f5\u6811\uff0c\u4ee5\u679a\u4e3e\u6240\u6709\u60c5\u51b5\uff0c\u6700\u540e\u8fdb\u884c\u5224\u65ad\uff0c\u5982\u679c\u91cd\u91cf\u4e0d\u8d85\u8fc7\u80cc\u5305\u5bb9\u91cf\uff0c\u4e14\u4ef7\u503c\u6700\u5927\u7684\u8bdd\uff0c\u8be5\u65b9\u6848\u5c31\u662f\u6700\u540e\u7684\u7b54\u6848\u3002\n2) \u5728\u641c\u7d22\u72b6\u6001\u7a7a\u95f4\u6811\u65f6\uff0c\u53ea\u8981\u5de6\u5b50\u8282\u70b9\u662f\u53ef\u4e00\u4e2a\u53ef\u884c\u7ed3\u70b9\uff0c\u641c\u7d22\u5c31\u8fdb\u5165\u5176\u5de6\u5b50\u6811\u3002\u5bf9\u4e8e\u53f3\u5b50\u6811\u65f6\uff0c\u5148\u8ba1\u7b97\u4e0a\u754c\u51fd\u6570\uff0c\u4ee5\u5224\u65ad\u662f\u5426\u5c06\u5176\u51cf\u53bb\uff08\u526a\u679d\uff09\u3002\n\u4e0a\u754c\u51fd\u6570bound():\u5f53\u524d\u4ef7\u503ccw+\u5269\u4f59\u5bb9\u91cf\u53ef\u5bb9\u7eb3\u7684\u6700\u5927\u4ef7\u503c&lt;=\u5f53\u524d\u6700\u4f18\u4ef7\u503cbestp\u3002\u3000\n3) \u4e3a\u4e86\u66f4\u597d\u5730\u8ba1\u7b97\u548c\u8fd0\u7528\u4e0a\u754c\u51fd\u6570\u526a\u679d\uff0c\u9009\u62e9\u5148\u5c06\u7269\u54c1\u6309\u7167\u5176\u5355\u4f4d\u91cd\u91cf\u4ef7\u503c\u4ece\u5927\u5230\u5c0f\u6392\u5e8f\uff0c\u6b64\u540e\u5c31\u6309\u7167\u987a\u5e8f\u8003\u8651\u5404\u4e2a\u7269\u54c1!!!!!!\n4) \u5728\u9012\u5f52\u51fd\u6570Backtrack\u4e2d\uff0c\n\u3000\u3000\u5f53i&gt;n\u65f6\uff0c\u7b97\u6cd5\u641c\u7d22\u81f3\u53f6\u5b50\u7ed3\u70b9\uff0c\u5f97\u5230\u4e00\u4e2a\u65b0\u7684\u7269\u54c1\u88c5\u5305\u65b9\u6848\u3002\u6b64\u65f6\u7b97\u6cd5\u9002\u65f6\u66f4\u65b0\u5f53\u524d\u7684\u6700\u4f18\u4ef7\u503c\n\u3000\u3000\u5f53i&lt;n\u65f6\uff0c\u5f53\u524d\u6269\u5c55\u7ed3\u70b9\u4f4d\u4e8e\u6392\u5217\u6811\u7684\u7b2c\uff08i-1\uff09\u5c42\uff0c\u6b64\u65f6\u7b97\u6cd5\u9009\u62e9\u4e0b\u4e00\u4e2a\u8981\u5b89\u6392\u7684\u7269\u54c1\uff0c\u4ee5\u6df1\u5ea6\u4f18\u5148\u65b9\u5f0f\u9012\u5f52\u7684\u5bf9\u76f8\u5e94\u7684\u5b50\u6811\u8fdb\u884c\u641c\u7d22\uff0c\u5bf9\u4e0d\u6ee1\u8db3\u4e0a\u754c\u7ea6\u675f\u7684\u7ed3\u70b9\uff0c\u5219\u526a\u53bb\u76f8\u5e94\u7684\u5b50\u6811\u3002\n*/\n\ndouble Bound(int k)\n{\n    remain_v = 0;\n    while(k &lt;= n){\n        remain_v += v[k];\n        k++;\n    }\n    return remain_v + now_v;\n}\n\nvoid Backtrack(int t)\n{\n    if(t &gt; n){  //\u662f\u5426\u5230\u8fbe\u53f6\u8282\u70b9\n        for(int i = 1; i &lt;= n; i++){\n            best_x[i] = x[i];   //\u8bb0\u5f55\u56de\u6eaf\u7684\u6700\u4f18\u60c5\u51b5\n        }\n        best_v = now_v; //\u8bb0\u5f55\u56de\u6eaf\u4e2d\u7684\u6700\u4f18\u4ef7\u503c\n        return;\n    }\n\n    if(now_w + w[t] &lt;= W){  //\u7ea6\u675f\u6761\u4ef6\uff0c\u662f\u5426\u653e\u5165\u3002\u653e\u5165\u8003\u8651\u5de6\u5b50\u6811\uff0c\u5426\u5219\u8003\u8651\u53f3\u5b50\u6811\n        x[t] = 1;\n        now_w += w[t];\n        now_v += v[t];\n        Backtrack(t+1); //\u8fdb\u884c\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u5206\u6790\n        now_w -= w[t];  //\u5728\u5230\u8fbe\u53f6\u8282\u70b9\u540e\u8fdb\u884c\u56de\u6eaf\n        now_v -= v[t];\n    }\n\n    /*\u82e5\u5bf9\u5e94\u7684\u7269\u54c1\u4e0d\u80fd\u653e\u5165\u80cc\u5305\uff0c\u7ee7\u7eed\u5206\u6790\u201c\u540e\u9762\u5269\u4f59\u6240\u6709\u7269\u54c1\u201d\u7684\u4ef7\u503c\u52a0\u4e0a\u5f53\u524d\u7684\u4ef7\u503c\u662f\u5426\u4f1a\u5927\u4e8e\u6211\u4eec\u524d\u9762\u6c42\u5f97\u7684\u6700\u4f18\u4ef7\u503c:\n    \u82e5\u201c\u540e\u9762\u5269\u4f59\u6240\u6709\u7269\u54c1\u201d\u7684\u4ef7\u503c\u52a0\u4e0a\u5f53\u524d\u7684\u4ef7\u503c\u5c0f\u4e8e\uff0c\u5219\u6211\u4eec\u5c31\u6ca1\u5fc5\u8981\u5728\u8fdb\u884c\u5f80\u4e0b\u8003\u8651\u3002\uff08\u6700\u6781\u9650\u60c5\u51b5\u90fd\u4e0d\u6ee1\u8db3\uff0c\u90a3\u5c31\u6ca1\u6709\u63a5\u7740\u8003\u8651\u7684\u5fc5\u8981\u4e86\uff01\uff09\n    \u5426\u5219\uff0c\u6211\u4eec\u9700\u8981\u7ee7\u7eed\u5f80\u4e0b\u8003\u8651\uff0c\u5373\u5c06\u5f53\u524d\u7684\u7269\u54c1x[t]=0\u8fdb\u884c\u6807\u8bb0\uff0c\u63a5\u7740\u5bf9\u4e0b\u4e00\u4e2a\u7269\u54c1\u8c03\u7528\u56de\u6eaf\u51fd\u6570*/\n    if(Bound(t+1) &gt; best_v){ \n    //\u9650\u754c\u6761\u4ef6\uff0c\u662f\u5426\u526a\u679d\u3002\u82e5\u653e\u5165t\u540e\u4e0d\u6ee1\u8db3\u7ea6\u675f\u6761\u4ef6\u5219\u8fdb\u884c\u5230\u6b64\u5904\uff0c\u7136\u540e\u5224\u65ad\u82e5\u5f53\u524d\u4ef7\u503c\u52a0\u5269\u4f59\u4ef7\u503c\u90fd\u8fbe\u4e0d\u5230\u6700\u4f18\uff0c\u5219\u6ca1\u5fc5\u8981\u8fdb\u884c\u4e0b\u53bb\n        x[t] = 0;\n        Backtrack(t+1);\n    }\n}\n</code></pre> <pre><code>/* https://blog.csdn.net/qq_67764134/article/details/129903263\n\u5206\u652f\u9650\u754c\u6cd5\uff1a\u8fd9\u91cc\u8ddf\u4e0a\u8ff0\u56de\u6eaf\u533a\u522b\u4e0d\u5927\uff01\n*/\n#include &lt;iostream&gt;\n#define N 1009\nusing namespace std;\nint n;double W; //n\u4e2a\u6570\uff0cW\u5bb9\u91cf\ndouble w[N];double v[N];  //\u7269\u54c1\u91cd\u91cf\u548c\u4ef7\u503c\nbool x[N];\nbool best_x[N]; //\u5b58\u50a8\u6700\u4f18\u65b9\u6848\ndouble now_v;   //\u5f53\u524d\u4ef7\u503c\ndouble remain_v;    //\u5269\u4f59\u4ef7\u503c\ndouble now_w;   //\u5f53\u524d\u5bb9\u91cf\ndouble best_v;  //\u6700\u4f18\u4ef7\u503c\n\ndouble Bound(int k)     //\u8ba1\u7b97\u5206\u679d\u7ed3\u70b9k\u7684\u4e0a\u754c\n{\n    remain_v = 0;\n    while (k &lt;= n) {\n        remain_v += v[k];\n        k++;\n    }\n    return remain_v + now_v;\n}\nvoid Backtrack(int t)\n{\n    if (t &gt; n) {  //\u662f\u5426\u5230\u8fbe\u53f6\u8282\u70b9\n        for (int i = 1; i &lt;= n; i++) {\n            best_x[i] = x[i];   //\u8bb0\u5f55\u56de\u6eaf\u7684\u6700\u4f18\u60c5\u51b5\n        }\n        best_v = now_v; //\u8bb0\u5f55\u56de\u6eaf\u4e2d\u7684\u6700\u4f18\u4ef7\u503c\n        return;\n    }\n    if (now_w + w[t] &lt;= W) {  //\u7ea6\u675f\u6761\u4ef6\uff0c\u662f\u5426\u653e\u5165\u3002\u653e\u5165\u8003\u8651\u5de6\u5b50\u6811\uff0c\u5426\u5219\u8003\u8651\u53f3\u5b50\u6811\n        x[t] = 1;\n        now_w += w[t];\n        now_v += v[t];\n        Backtrack(t + 1); //\u8fdb\u884c\u4e0b\u4e00\u4e2a\u8282\u70b9\u7684\u5206\u6790\n        now_w -= w[t];  //\u5728\u5230\u8fbe\u53f6\u8282\u70b9\u540e\u8fdb\u884c\u56de\u6eaf\n        now_v -= v[t];\n    }\n    if (Bound(t + 1) &gt; best_v) {    //\u9650\u754c\u6761\u4ef6\uff0c\u662f\u5426\u526a\u679d\u3002\u82e5\u653e\u5165t\u540e\u4e0d\u6ee1\u8db3\u7ea6\u675f\u6761\u4ef6\u5219\u8fdb\u884c\u5230\u6b64\u5904\uff0c\u7136\u540e\u5224\u65ad\u82e5\u5f53\u524d\u4ef7\u503c\u52a0\u5269\u4f59\u4ef7\u503c\u90fd\u8fbe\u4e0d\u5230\u6700\u4f18\uff0c\u5219\u6ca1\u5fc5\u8981\u8fdb\u884c\u4e0b\u53bb\n        x[t] = 0;\n        Backtrack(t + 1);\n    }\n}\nvoid Knapsack(double W, int n)\n{\n    double sum_w = 0;\n    double sum_v = 0;\n    best_v = 0;\n    for (int i = 0; i &lt; n; i++) {\n        sum_w += w[i];\n        sum_v += v[i];\n    }\n    Backtrack(1);\n    cout &lt;&lt; \"\u653e\u5165\u8d2d\u7269\u8f66\u7684\u7269\u54c1\u6700\u5927\u4ef7\u503c\u4e3a\uff1a\" &lt;&lt; best_v &lt;&lt; endl;\n}\nint main()\n{\n    cout &lt;&lt; \"\u8f93\u5165\u7269\u54c1\u4e2a\u6570n:\"; cin &gt;&gt; n;\n    cout &lt;&lt; \"\u8f93\u5165\u8d2d\u7269\u8f66\u5bb9\u91cfW:\"; cin &gt;&gt; W;\n    cout &lt;&lt; \"\u4f9d\u6b21\u8f93\u5165\u6bcf\u4e2a\u7269\u54c1\u7684\u91cd\u91cfw\u548c\u4ef7\u503cv\uff0c\u7528\u7a7a\u683c\u5206\u5f00\uff1a\\n\";\n    for (int i = 1; i &lt;= n; i++) {\n        cin &gt;&gt; w[i] &gt;&gt; v[i];\n    }\n    Knapsack(W, n);\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_5","title":"\u9a6c\u7684\u904d\u5386","text":"<p>\u9898\u76ee\u63cf\u8ff0 \u6709\u4e00\u4e2a \\(n \\times m\\) \u7684\u68cb\u76d8\uff0c\u5728\u67d0\u4e2a\u70b9 \\((x, y)\\) \u4e0a\u6709\u4e00\u4e2a\u9a6c\uff0c\u8981\u6c42\u4f60\u8ba1\u7b97\u51fa\u9a6c\u5230\u8fbe\u68cb\u76d8\u4e0a\u4efb\u610f\u4e00\u4e2a\u70b9\u6700\u5c11\u8981\u8d70\u51e0\u6b65\u3002 <pre><code>#include &lt;iostream&gt;\n#include&lt;algorithm&gt;\n#include&lt;queue&gt;\n#include&lt;iomanip&gt;\nusing namespace std;\nstruct pos { //\u4e00\u4e2a\u7ed3\u6784\u4f53\u5b58\u50a8x,y\u4e24\u4e2a\u5750\u6807\n    int x, y;\n    pos(int ax = 0, int ay = 0) \n    {\n        x = ax; \n        y = ay;\n    }\n};\nconst int maxn = 405;\nqueue&lt;pos&gt; Q;//\u961f\u5217\nint ans[maxn][maxn];//\u8bb0\u5f55\u7b54\u6848\uff0c-1\u8868\u793a\u672a\u8bbf\u95ee\nint n, m, sx, sy;\nint walk[8][2] = {{2, 1}, {1, 2}, {-1, 2}, {-2, 1},\n    {-2, -1}, {-1, -2}, {1, -2}, {2, -1}\n};\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; m &gt;&gt; sx &gt;&gt; sy;\n    for(int i = 1; i &lt;= n; i++)\n        for(int j = 1; j &lt;= m; j++)\n            ans[i][j] = -1; // \u7b54\u6848\u90fd\u521d\u59cb\u5316\u4e3a\u672a\u8bbf\u95ee\u8fc7\n    Q.push(pos(sx, sy)); // \u4f7f\u8d77\u70b9\u5165\u961f\u6269\u5c55\n    ans[sx][sy] = 0;//\u8d77\u70b9\u4e00\u5b9a\u4e0d\u80fd\u5fd8\u4e86\u201c\u8bbf\u95ee\u201d\u8fd9\u4e00\u6b65\uff01\uff01\uff01\n\n    while (!Q.empty()) { // \u5faa\u73af\u76f4\u5230\u961f\u5217\u4e3a\u7a7a\n        pos now = Q.front();  // \u62ff\u51fa\u961f\u9996\u4ee5\u6269\u5c55\n        Q.pop();\n        for (int k = 0; k &lt; 8; k++) {\n            int x = now.x + walk[k][0]; \n            int y = now.y + walk[k][1]; // \u8ba1\u7b97\u65b0\u5750\u6807 x \u548c y\n            int d = ans[now.x][now.y]; // d \u662f\u76ee\u524d\u70b9\u7684\u8d70\u51e0\u6b65\u7684\u7ed3\u679c\n            if (x &lt; 1 || x &gt; n || y &lt; 1 || y &gt; m || ans[x][y] != -1)\n                continue;  // \u82e5\u5750\u6807\u8d85\u8fc7\u5730\u56fe\u8303\u56f4\u6216\u8005\u8be5\u70b9\u5df2\u88ab\u8bbf\u95ee\u8fc7\u5219\u65e0\u9700\u5165\u961f\n            ans[x][y] = d+1;  // \u8bb0\u5f55\u4e0b\u4e00\u4e2a\u70b9\u7684\u7b54\u6848\uff0c\u662f\u76ee\u524d\u70b9\u591a\u8d70\u4e00\u6b65\u7684\u7ed3\u679c\u3002\n            Q.push(pos(x, y));\n        }\n    }\n\n    for(int i = 1; i &lt;= n; i++){\n        for(int j = 1; j &lt;= m; j++)\n            cout&lt;&lt;setw(5)&lt;&lt;ans[i][j]; // \u8f93\u51fa\u7b2c i \u884c\u7b2c j \u5217\u7b54\u6848\uff0c\u6574\u6570\u5bbd\u5ea6 5 \u4f4d\n        puts(\"\"); // \u8f93\u51fa\u6362\u884c\n    }\n}\n</code></pre></p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#n","title":"n\u7687\u540e\u95ee\u9898","text":"<p>\u4e00\u4e2a\u5982\u4e0b\u7684\u00a06\u00d766\u00d76\u00a0\u7684\u8df3\u68cb\u68cb\u76d8\uff0c\u6709\u516d\u4e2a\u68cb\u5b50\u88ab\u653e\u7f6e\u5728\u68cb\u76d8\u4e0a\uff0c\u4f7f\u5f97\u6bcf\u884c\u3001\u6bcf\u5217\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0c\u6bcf\u6761\u5bf9\u89d2\u7ebf\uff08\u5305\u62ec\u4e24\u6761\u4e3b\u5bf9\u89d2\u7ebf\u7684\u6240\u6709\u5e73\u884c\u7ebf\uff09\u4e0a\u81f3\u591a\u6709\u4e00\u4e2a\u68cb\u5b50\u3002</p> <p>\u8fd9\u53ea\u662f\u68cb\u5b50\u653e\u7f6e\u7684\u4e00\u4e2a\u89e3\u3002\u8bf7\u7f16\u4e00\u4e2a\u7a0b\u5e8f\u627e\u51fa\u6240\u6709\u68cb\u5b50\u653e\u7f6e\u7684\u89e3\u3002 \u5e76\u628a\u5b83\u4eec\u4ee5\u4e0a\u9762\u7684\u5e8f\u5217\u65b9\u6cd5\u8f93\u51fa\uff0c\u89e3\u6309\u5b57\u5178\u987a\u5e8f\u6392\u5217\u3002 \u8bf7\u8f93\u51fa\u524d\u00a03\u00a0\u4e2a\u89e3\u3002 \u6700\u540e\u4e00\u884c\u662f\u89e3\u7684\u603b\u4e2a\u6570\u3002 <pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\n//\u67d0\u4e00\u70b9\u4e00\u65e6\u843d\u5b9a\uff0c\u5b83\u7684\"\u7c73\"\u56db\u76f8\u5c31\u5df2\u7ecf\u843d\u5b9a!\nint col[100],zd[100]/*\u4e3b\u5bf9\u89d2\u7ebf*/,fd[100]/*\u526f\u5bf9\u89d2\u7ebf*/; \nint sum;//\u89e3\u7684\u603b\u4e2a\u6570\nint ctl_num = 0;//cmd =&gt;\u63a7\u5236\u8f93\u51fa\u524d\u4e09\u4e2a\u7684\u6570\u5b57 \nint ans[100];//\u6bcf\u4e00\u884c\u7684\u60c5\u51b5\uff08\u7b54\u6848\u6570\u7ec4\uff0c\u8bb0\u5f55\u7684\u662f\u53ef\u53d6\u7684col\uff09 \nint n;\n\n//dfs\u7b2cpos\u884c\u7684\u6446\u653e\u65b9\u5f0f\uff08\u53ef\u53d6\u7684col\uff09 \nvoid dfs(int pos)\n{\n    //0\uff09\u8fbe\u5230\u76ee\u7684\u5730\uff0c\u8f93\u51fa\u7ed3\u679c\uff1a \n    if(pos==n+1)\n    {\n        if(ctl_num&lt;3) {\n            for(int i=1;i&lt;=n;i++)\n            {\n                cout&lt;&lt;ans[i]&lt;&lt;\" \";\n            }\n            cout&lt;&lt;endl;\n\n            ctl_num++;\n            sum++;\n        }\n\n        else {\n            sum++;\n        }\n        return;\n    }\n\n    for(int i=1;i&lt;=n;i++) //\u8003\u5bdf\uff1a\u7b2cpos\u884c\u6446\u5728i\u5217\u53ef\u4e0d\u53ef\u4ee5?! \n    {\n        //1\uff09\u5f02\u5e38\u60c5\u51b5\u6392\u9664\uff1a \n        if(col[i] or zd[n + (i-pos)] or fd[i+pos])\n        {\n            //\u7b2c\u4e8c\u4e2a\u4e00\u5b9a\u8981\u6ce8\u610f\u8865\u4e2an\uff0c\u4e0d\u7136\u4e0b\u6807\u4f1a\u8d8a\u754c\uff0c\u6781\u7aef\u60c5\u51b5\u662fa[1-n]\n            //\u7531\u4e8e\u6211\u4eec\u6570\u7ec4\u4e0b\u6807\u4ece1\u5f00\u59cb\uff0c\u56e0\u6b64\u8865 n\u5373\u53ef \n            continue;\n        }\n\n        //2\uff09\u6b63\u5e38\u9012\u5f52\u60c5\u51b5\uff1a \n        col[i] = 1;\n        zd[n + (i-pos)] = 1;\n        fd[i+pos] = 1;\n        ans[pos] = i;\n\n        dfs(pos+1);\n\n        //\u8fd9\u6b21pos+1\u7684\u5bfb\u627e\u662f\u5efa\u7acb\u5728\u5f53\u524di\u7684\u60c5\u51b5\u4e0b\u7684\n        //\u540e\u7eed\u53ef\u4e0d\u662f\uff0c\u56e0\u6b64\u9700\u8981\u64a4\u9500\u6807\u8bb0\uff01\u56de\u6eaf\uff01 \n        col[i] = 0;\n        zd[n + (i-pos)] = 0;\n        fd[i+pos] = 0;\n    }\n} \n\nint main()\n{\n    cin &gt;&gt; n;\n    //\u8003\u5bdf\u6bcf\u4e00\u884c\u53ef\u4ee5\u5728\u54ea\u4e9b\u4f4d\u7f6e\u653e\u68cb\u5b50\n    //\u4ece\u7b2c\u4e00\u884c\u5f00\u59cbdfs\uff1a\"\u7b2c\u4e00\u884c\"\u662f\u672c\u9898\u8bbe\u8ba1\u7684\u8d77\u70b9 \n    dfs(1);\n    cout&lt;&lt;sum&lt;&lt;endl;\n    return 0;\n}\n</code></pre></p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_6","title":"\u5e03\u7ebf\u95ee\u9898","text":"<p>\u5370\u5237\u7535\u8def\u677f\u5c06\u5e03\u7ebf\u533a\u57df\u5212\u5206\u6210m*n\u4e2a\u65b9\u683c\u9635\u5217,\u5982\u56fe(1)\u6240\u793a\u3002 \u7cbe\u786e\u7684\u7535\u8def\u5e03\u7ebf\u95ee\u9898\u8981\u6c42\u786e\u5b9a\u8fde\u63a5\u65b9\u683ca\u7684\u4e2d\u70b9\u5230\u65b9\u683cb\u7684\u4e2d\u70b9\u7684\u6700\u77ed\u5e03\u7ebf\u65b9\u6848\u3002 \u5728\u5e03\u7ebf\u65f6,\u7535\u8def\u53ea\u80fd\u6cbf\u76f4\u7ebf\u6216\u76f4\u89d2\u5e03\u7ebf,\u5982\u56fe(2)\u6240\u793a\u3002 \u4e3a\u4e86\u907f\u514d\u7ebf\u8def\u76f8\u4ea4\uff0c\u5df2\u5e03\u4e86\u7ebf\u7684\u65b9\u683c\u505a\u4e86\u5c01\u9501\u6807\u8bb0,\u5176\u4ed6\u7ebf\u8def\u4e0d\u5141\u8bb8\u7a7f\u8fc7\u88ab\u5c01\u9501\u7684\u65b9\u683c <pre><code>bool IsEnd(node t){//\u5224\u65ad\u5230\u6ca1\u5230\u7ec8\u70b9 \n    if(t.x==end.x&amp;&amp; t.y==end.y) //\u5230\u7ec8\u70b9\u4e86 \n        return true;\n    else return false;\n}\n\nbool FindPath(){//\u5e7f\u641c \n    if(IsEnd(start)) return true;//\u5224\u65ad\u8d77\u70b9\u662f\u4e0d\u662f\u7b49\u4e8e\u7ec8\u70b9\n\n    queue&lt;node&gt;q;\n    int newx,newy; node no;\n    q.push(start);//\u8d77\u70b9\u5165\u961f \n    while(!q.empty() )\n    {\n        no = q.front(); q.pop();//\u53d6\u51fa\u961f\u9996 \n        for(int i=0;i&lt;4;i++) \n        { //\u56db\u4e2a\u65b9\u5411\u4e0a\u4e0b\u5de6\u53f3 \n            newx = no.x + go[i][0];\n            newy = no.y + go[i][1];\n\n            if(grid[no.x][no.y]+1 &lt; grid[newx][newy])\n            {//\u526a\u679d \n                grid[newx][newy] = grid[no.x][no.y]+1;\n                node t;\n                t.x = newx;\n                t.y = newy;\n                if(IsEnd(t)) return true;//\u5230\u7ec8\u70b9\u4e86                     \n                else q.push(t); //\u5426\u5219\u5165\u961f          \n            }       \n        }\n    }\n    return false; \n}\n</code></pre></p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_7","title":"\u7c7b\u4f3c\u9898\u578b\uff1a\u8ff7\u5bab","text":"<p>\u9898\u76ee\u63cf\u8ff0 \u7ed9\u5b9a\u4e00\u4e2a \\(N \\times M\\) \u65b9\u683c\u7684\u8ff7\u5bab\uff0c\u8ff7\u5bab\u91cc\u6709 \\(T\\) \u5904\u969c\u788d\uff0c\u969c\u788d\u5904\u4e0d\u53ef\u901a\u8fc7\u3002 \u5728\u8ff7\u5bab\u4e2d\u79fb\u52a8\u6709\u4e0a\u4e0b\u5de6\u53f3\u56db\u79cd\u65b9\u5f0f\uff0c\u6bcf\u6b21\u53ea\u80fd\u79fb\u52a8\u4e00\u4e2a\u65b9\u683c\u3002\u6570\u636e\u4fdd\u8bc1\u8d77\u70b9\u4e0a\u6ca1\u6709\u969c\u788d\u3002 \u7ed9\u5b9a\u8d77\u70b9\u5750\u6807\u548c\u7ec8\u70b9\u5750\u6807\uff0c\u6bcf\u4e2a\u65b9\u683c\u6700\u591a\u7ecf\u8fc7\u4e00\u6b21\uff0c\u95ee\u6709\u591a\u5c11\u79cd\u4ece\u8d77\u70b9\u5750\u6807\u5230\u7ec8\u70b9\u5750\u6807\u7684\u65b9\u6848\u3002</p> <p>\u8f93\u5165\u683c\u5f0f \u7b2c\u4e00\u884c\u4e3a\u4e09\u4e2a\u6b63\u6574\u6570 \\(N,M,T\\)\uff0c\u5206\u522b\u8868\u793a\u8ff7\u5bab\u7684\u957f\u5bbd\u548c\u969c\u788d\u603b\u6570\u3002 \u7b2c\u4e8c\u884c\u4e3a\u56db\u4e2a\u6b63\u6574\u6570 \\(SX,SY,FX,FY\\)\uff0c\\(SX,SY\\) \u4ee3\u8868\u8d77\u70b9\u5750\u6807\uff0c\\(FX,FY\\) \u4ee3\u8868\u7ec8\u70b9\u5750\u6807\u3002 \u63a5\u4e0b\u6765 \\(T\\) \u884c\uff0c\u6bcf\u884c\u4e24\u4e2a\u6b63\u6574\u6570\uff0c\u8868\u793a\u969c\u788d\u70b9\u7684\u5750\u6807\u3002</p> <p>\u8f93\u51fa\u683c\u5f0f \u8f93\u51fa\u4ece\u8d77\u70b9\u5750\u6807\u5230\u7ec8\u70b9\u5750\u6807\u7684\u65b9\u6848\u603b\u6570\u3002</p> <p>\u6837\u4f8b\u8f93\u5165 #1 <pre><code>2 2 1\n1 1 2 2\n1 2\n</code></pre> \u6837\u4f8b\u8f93\u51fa #1 <pre><code>1\n</code></pre></p> <pre><code>/*bfs\u7248\u672c*/\n#include&lt;cstdio&gt;\n#include&lt;queue&gt;\n#include&lt;cstring&gt;\nusing namespace std;\nint n,m,k,x,y,a,b,ans;\nint dx[4] = {0,0,1,-1},dy[4] = {1,-1,0,0};\nbool vis[6][6];\nstruct oo{\n    int x,y,used[6][6];\n};\noo sa;\nvoid bfs()\n{\n    queue&lt;oo&gt; q;      //\u5b9a\u4e49\u7ed3\u6784\u4f53\u540e\uff0c\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528\u7ed3\u6784\u4f53\u540d\u5b9a\u4e49\u53d8\u91cf\u6216\u8005\u961f\u5217\u3002\n    sa.x = x;\n    sa.y = y;         //\u6a2a\u7eb5\u5750\u6807\u66ff\u6362\uff0c\u8fd9\u6837\u5199\u8d77\u6765\u65b9\u4fbf\u3002\n    sa.used[x][y] = 1;//\u6807\u8bb0\u8d70\u8fc7\u7684\u8def\u5f84\n    q.push(sa);\n    while(!q.empty())\n    {\n        oo now = q.front();     //\u4e00\u8d77\u62ff\u51fa\u6765\n        q.pop();\n        for(int i = 0;i &lt; 4; i++)\n        {\n            int sx = now.x + dx[i];\n            int sy = now.y + dy[i];\n            if( now.used[sx][sy] \n                || vis[sx][sy] \n                || sx == 0 || sy == 0 \n                || sx &gt; n || sy &gt; m)\n                continue;    //\u5982\u679c\u8fd9\u91cc\u8d70\u8fc7\uff0c\u6216\u8005\u8fd9\u91cc\u662f\u969c\u788d\uff0c\u6216\u8005\u8fd9\u91cc\u662f\u5899\u58c1\uff0c\u90a3\u4e48\u8fd9\u91cc\u5c31\u4e0d\u80fd\u8d70\u3002\n            if(sx == a &amp;&amp; sy == b)\n            {\n                ans++;           //\u5982\u679c\u8fd9\u91cc\u662f\u7ec8\u70b9\uff0c\u90a3\u4e48\u7ed3\u679c\u6570\u91cf\u52a0\u4e00\n                continue;\n            }\n            sa.x = sx;\n            sa.y = sy;\n            memcpy(sa.used,now.used,sizeof(now.used));\n            sa.used[sx][sy] = 1;     //\u8fd9\u91cc\u7684\u64cd\u4f5c\u90fd\u662f\u4e3a\u4e86\u6807\u8bb0\u8def\u5f84\n            q.push(sa);\n        }\n    }\n}\n\nint main()\n{\n    scanf(\"%d%d%d\",&amp;n,&amp;m,&amp;k);\n    scanf(\"%d%d%d%d\",&amp;x,&amp;y,&amp;a,&amp;b);         //\u867d\u7136\u8fd9\u91cc\u53ef\u4ee5\u5408\u5e76\u6210\u4e00\u4e2a\u53e5\u5b50\uff0c\u4f46\u662f\u7531\u4e8e\u6211\u662f\u4ecepython\u8f6c\u8fc7\u6765\u7684\uff0c\u5efa\u8bae\u5927\u5bb6\u4ee5\u540e\u5199\u4ee3\u7801\u90fd\u8bbe\u7f6e\u4e00\u4e2a\u754c\u9650\uff0c\u4ee3\u7801\u4e0d\u5b9c\u592a\u957f\n    for(int i = 1,aa,bb;i &lt;= k; i++)     //\u5927\u5bb6\u6ce8\u610f\u4e00\u4e0b\uff0c\u6211\u73b0\u5728\u662f\u76f4\u63a5\u628a\u53d8\u91cf\u5b9a\u4e49\u5728\u5faa\u73af\u91cc\u9762\u3002\n    {\n        scanf(\"%d%d\",&amp;aa,&amp;bb);           //\u73b0\u5728\u6211\u4eec\u4e0d\u80fd\u8d70\u969c\u788d\u4e86\u3002\n        vis[aa][bb] = 1;\n    }\n    bfs();\n    printf(\"%d\",ans);\n    return 0;\n}\n</code></pre> <pre><code>/*dfs\u7248\u672c*/\n#include&lt;iostream&gt;\nusing namespace std;\nint a[6][6];//\u7528\u6765\u50a8\u5b58\u5730\u56fe\u548c\u6807\u8bb0\u4f5c\u7528\nint f1[4] = {0,0,-1,1};\nint f2[4] = {1,-1,0,0};//\u65b9\u5411\u6570\u7ec4\n\nint sx, sy, fx, fy;//\u4ee3\u8868\u4e86\u8d77\u70b9\u548c\u7ec8\u70b9\u7684\u5750\u6807\nint m, n, t;//m\u4ee3\u8868\u884c\uff0cn\u4ee3\u8868\u5217\uff0ct\u4ee3\u8868\u969c\u788d\u6570\nint ans = 0;//\u603b\u7684\u6761\u6570\n\nvoid dfs(int sx, int sy)\n{\n    int nx, ny;\n    if(sx == fx &amp;&amp; sy == fy){//\u7ec8\u70b9\u7684\u5224\u5b9a\u6761\u4ef6\n        ans++;\n        return;\n    }\n\n    a[sx][sy] = 1; //\u8d70\u8fc7\u7684\u8981\u8fdb\u884c\u6807\u8bb0\n\n    for(int i = 0; i &lt; 4; ++i){//\u679a\u4e3e\u4e0a\u4e0b\u5de6\u53f3\u56db\u4e2a\u65b9\u5411\n        nx = sx + f1[i];\n        ny = sy + f2[i];\n        if(nx &lt; 1 || nx &gt; m || ny &lt; 1 || ny &gt; n)//\u8fb9\u754c\u7684\u5224\u5b9a\u6761\u4ef6\n            continue;\n        if(a[nx][ny] == 0){\n            a[nx][ny] = 1;\n            dfs(nx,ny);\n            a[nx][ny] = 0;\n        }\n    }\n}\n\nint main()\n{\n    cin &gt;&gt; m &gt;&gt; n &gt;&gt; t;\n    cin &gt;&gt; sx &gt;&gt; sy &gt;&gt; fx &gt;&gt; fy;\n    int x, y;\n    for(int i = 0; i &lt; t; ++i){\n        cin &gt;&gt; x &gt;&gt; y;\n        a[x][y] = 1;//\u6807\u8bb0\u969c\u788d\u7684\u4f4d\u7f6e\n    }\n\n    dfs(sx,sy);\n    cout &lt;&lt; ans &lt;&lt; endl;\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_8","title":"\u77e9\u9635\u8fde\u4e58","text":""},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_9","title":"\u5206\u6790\u6700\u4f18\u89e3\u7684\u7ed3\u6784\uff1a","text":"<p>\u7528A[i,j]\u8868\u793aAiAi+1\u2026Aj\u4e58\u79ef\u7684\u7ed3\u679c\u77e9\u9635\uff0c\u5728\u5bf9AiAi+1\u2026Aj\u8fdb\u884c\u52a0\u62ec\u53f7\u65f6\u5c31\u76f8\u5f53\u4e8e\u5728\u67d0\u4e2a\u4f4d\u7f6ek\uff08i\u2264k\u2264j\uff09\u5904\u5c06\u77e9\u9635\u94fe\u5212\u5206\u6210\u4e24\u4e2a\u90e8\u5206\u3002\u9996\u5148\u8ba1\u7b97AiAi+1\u2026Ak\uff0c\u5728\u8ba1\u7b97Ak\u2026Aj\uff0c\u518d\u5c06\u4e8c\u8005\u7684\u7ed3\u679c\u5728\u8fdb\u884c\u4e58\u79ef\u8fd0\u7b97\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\u3002\u8ba1\u7b97\u4ee3\u4ef7\u6709\u4e09\u90e8\u5206\u6784\u6210\uff1aA[i,k]\u7684\u8ba1\u7b97\u4ee3\u4ef7\u3001A[k,j]\u7684\u8ba1\u7b97\u4ee3\u4ef7\u3001\u4e8c\u8005\u76f8\u4e58\u7684\u8ba1\u7b97\u4ee3\u4ef7\u3002\u5176\u4e2d\uff0c\u5728\u7b2c\u4e00\u6b21\u5f97\u51fak\u7684\u5212\u5206\u540e\uff0c\u5728\u8ba1\u7b97A[i,k]\u65f6\uff0c\u53ef\u7ee7\u7eed\u8fdb\u884c\u5bfb\u627e\u6700\u4f18\u89e3k\u2018\u7684\u64cd\u4f5c\uff0c\u540e\u534a\u90e8\u5206\u4ea6\u662f\u5982\u6b64\u3002\u6700\u7ec8\u7528\u4e8c\u8005\u7684\u6700\u4f18\u89e3\u65b9\u6848\u5f97\u51fa\u7684\u7ed3\u679c\u76f8\u4e58\u5f97\u5230\u603b\u7684\u6700\u4f18\u89e3\u3002</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#mij","title":"\u5efa\u7acb\u9012\u5f52\u65b9\u6848\uff1a\u7528m[i][j]\u8868\u793a\u6700\u5c11\u4e58\u6b21\u6570","text":"<p>\u2460i=j\u65f6\uff0cm[i][j]=0\uff1b \u2461i&lt;j\u65f6\uff0cm[i][j]=m[I,k]+m[k+1,j]+pi-1pkpj\uff0c\u7531\u4e8e\u5728\u8ba1\u7b97\u662f\u5e76\u4e0d\u77e5\u9053\u65ad\u5f00\u70b9k\u7684\u4f4d\u7f6e\uff0c\u6240\u4ee5k\u8fd8\u672a\u5b9a\u3002\u4e0d\u8fc7k\u7684\u4f4d\u7f6e\u53ea\u6709j-i\u4e2a\u53ef\u80fd\u3002\u56e0\u6b64\uff0ck\u662f\u8fd9j-i\u4e2a\u4f4d\u7f6e\u4f7f\u8ba1\u7b97\u91cf\u8fbe\u5230\u6700\u5c0f\u7684\u90a3\u4e2a\u4f4d\u7f6e\u3002(\u6b64\u5904\u7684k\u662f\u5047\u5b9ak\u5df2\u77e5\uff0c\u5b9e\u9645\u4e0a\u6211\u4eec\u662f\u4e0d\u77e5\u9053\u7684\uff0c\u9700\u8981\u901a\u8fc7\u7a77\u4e3e\u5f97\u5230)</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_10","title":"\u6709\u5982\u4e0b\u9012\u63a8\u5173\u7cfb\uff1a","text":"<p>![[Pasted image 20231225133927.png]] <pre><code>#include&lt;stdio.h&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nint p[100];       // \u5b58\u50a8\u7b2c\u4e00\u4e2a\u77e9\u9635\u7684\u884c\u6570\u4ee5\u53ca\u6240\u6709\u77e9\u9635\u7684\u5217\u6570\nint m[100][100];  // \u5b58\u50a8\u6700\u4f18\u503c\nint s[100][100];  // \u5b58\u50a8\u65ad\u5f00\u4f4d\u7f6e\n\nvoid MatrixChain(int n, int p[], int m[][100], int s[][100])\n{\n    /*\u7528m[i][j]\u8868\u793aa[i]~a[j]\u6700\u5c11\u4e58\u6b21\u6570*/\n    for (int i = 1; i &lt;= n; i++) m[i][i] = 0;\n\n    for (int r = 2; r &lt;= n; r++) {            //r: Ai\u548cAj\u4e4b\u95f4\u7684\u957f\u5ea6\uff0c\u5373A\u7684\u4e2a\u6570\n        for (int i = 1; i &lt;= n - r + 1; i++) {//\u7b2ci\u884c\n            int j = i + r - 1;\n            m[i][j] = m[i + 1][j] + p[i - 1] * p[i] * p[j];//\u5728i\u5904\u53d6\u5f97\u6700\u4f18\u89e3\n            s[i][j] = i;//\u65ad\u5f00\u4f4d\u7f6e\n            for (int k = i + 1; k &lt; j; k++) {//\u5982\u679c\u6709\u66f4\u5c0f\u7684\u5219\u88ab\u66ff\u6362\n                int t = m[i][k] + m[k + 1][j] + p[i - 1] * p[k] * p[j];//\u4ecek\u5904\u65ad\u5f00\n                if (t &lt; m[i][j])\n                {\n                    m[i][j] = t;\n                    s[i][j] = k;//\u65ad\u70b9\n                }\n            }\n        }\n    }\n}\nvoid printConclusions(int s[100][100], int i, int j)//\u8f93\u51fa\u7ed3\u679c\n{\n    if (i == j)\n        cout &lt;&lt; \"A\" &lt;&lt; i;\n    else\n    {\n        cout &lt;&lt; \"(\";\n        printConclusions(s, i, s[i][j]);\n        printConclusions(s, s[i][j] + 1, j);\n        cout &lt;&lt; \")\";\n    }\n\n}\n\nint main()\n{\n    cout &lt;&lt; \"\u8bf7\u8f93\u5165\u77e9\u9635\u7684\u4e2a\u6570\" &lt;&lt; endl;\n    int n;\n    cin &gt;&gt; n;\n\n    cout &lt;&lt; \"\u8bf7\u4f9d\u6b21\u8f93\u5165\u7b2c\u4e00\u4e2a\u77e9\u9635\u7684\u884c\u6570\u4ee5\u53ca\u6240\u6709\u77e9\u9635\u7684\u5217\u6570\" &lt;&lt; endl;\n    for (int i = 0; i &lt;= n; i++) {\n        cin &gt;&gt; p[i];\n    }\n\n    MatrixChain(n, p, m, s);\n    cout &lt;&lt; \"\u6700\u5c11\u7684\u76f8\u4e58\u6b21\u6570\u662f:\" &lt;&lt; m[1][n] &lt;&lt; endl;\n\n    cout &lt;&lt; \"\u7ed3\u679c\u4e3a:\" &lt;&lt; endl;\n    printConclusions(s, 1, n);\n\n    return 0;\n}\n</code></pre></p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_11","title":"\u6d3b\u52a8\u5b89\u6392\u95ee\u9898","text":"<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#define maxn 1000009\nusing namespace std;\nint n;\nstruct node{\n   int st;\n   int ft;\n}a[maxn];\n\nbool cmp(node hbx1,node hbx2)\n{\n    return hbx1.ft &lt; hbx2.ft;\n}\n\nint main()\n{\n    cin &gt;&gt; n;\n    for(int i=1;i&lt;=n;i++) cin &gt;&gt; a[i].st &gt;&gt; a[i].ft;\n    sort(a+1,a+n+1,cmp);\n\n    int wall = 0;\n    int ans = 0;\n    for(int i=1;i&lt;=n;i++)\n    {\n        if(a[i].st &lt; wall) continue;\n        else {\n            wall = a[i].ft;\n            ans++;\n        }\n    }\n    cout &lt;&lt; ans &lt;&lt;endl;\n    return 0;\n}\n\n/*\n#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint n;\nstruct node{\n    int a;//\u5f00\u59cb\u65f6\u95f4\n    int b;//\u7ed3\u675f\u65f6\u95f4\n}tme[1000009];\n\nbool cmp(node A,node B)//\u8bbe\u7f6e\u6bd4\u8f83\u7684\u56de\u8c03\u51fd\u6570\n{\n    return A.b &lt; B.b;\n}\n\nint main()\n{\n    cin &gt;&gt; n;\n    for(int i=1;i&lt;=n;i++){\n        cin &gt;&gt; tme[i].a &gt;&gt; tme[i].b;\n    }\n    sort(tme+1,tme+1+n,cmp);\n    queue&lt;node&gt; que;\n    while(!que.empty()) que.pop();\n    que.push(tme[1]);\n    for(int i=1;i&lt;=n;i++)\n    {\n        if(tme[i].a &gt;= que.back().b)\n        {\n            que.push(tme[i]);\n        }\n    }\n    cout&lt;&lt;que.size()&lt;&lt;endl;\n    return 0;\n}\n*/\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_12","title":"\u88c5\u8f7d\u95ee\u9898","text":"<p>\u5047\u8bbe\u6709\u4e24\u53ea\u8239\uff0c\u5404\u53ef\u4ee5\u8f7d\u91cdc1\uff0cc2\u3002\u540c\u65f6\u6709n\u4e2a\u96c6\u88c5\u7bb1\uff0c\u6bcf\u4e2a\u96c6\u88c5\u7bb1\u91cd\u91cf\u4e3aw[i]\uff0c\u95ee\u80fd\u5426\u5c06\u96c6\u88c5\u7bb1\u653e\u5165\u8239\u5185\uff0c\u80fd\u653e\u5165\u5219\u5c31\u6700\u4f18\u8f7d\u91cd\u3002</p> <p>\u5176\u5b9e\u548c\u80cc\u5305\u95ee\u9898\u5982\u51fa\u4e00\u8f99\u3002\u5982\u679c\u4e00\u4e2a\u7ed9\u5b9a\u7684\u88c5\u8f7d\u95ee\u9898\u6709\u89e3\uff0c\u5219\u6211\u4eec\u91c7\u7528\u7684\u7b56\u7565\u5e94\u8be5\u662f\uff1a\u5148\u5c06\u7b2c\u4e00\u8258\u8f6e\u8239\u5c3d\u53ef\u80fd\u88c5\u6ee1\uff0c\u7136\u540e\u5c06\u5269\u4f59\u7684\u96c6\u88c5\u7bb1\u4e0a\u7b2c\u4e8c\u8258\u8f6e\u8239\uff08\u5982\u679c\u4e0d\u80fd\u628a\u6240\u6709\u7269\u54c1\u88c5\u5165\u7b2c\u4e8c\u8258\u8239\u90a3\u4e48\u95ee\u9898\u65e0\u89e3\uff09\u3002</p> <p>\u5c06\u7b2c\u4e00\u8258\u8f6e\u8239\u5c3d\u53ef\u80fd\u88c5\u6ee1\u7b49\u4ef7\u4e8e\u9009\u53d6\u5168\u4f53\u96c6\u88c5\u7bb1\u7684\u4e00\u4e2a\u5b50\u96c6\uff0c\u4f7f\u8be5\u5b50\u96c6\u4e2d\u96c6\u88c5\u7bb1\u91cd\u91cf\u4e4b\u548c\u6700\u63a5\u8fd1c1\uff08\u5373\u6c42\u51fa\u6700\u89e3\uff09\u3002\u7531\u6b64\u53ef\u77e5\uff0c\u88c5\u8f7d\u95ee\u9898\u7b49\u4ef7\u4e8e\u7279\u6b8a\u76840-1\u80cc\u5305\u95ee\u9898\u3002</p> <p>\u9012\u5f52\u7b97\u6cd5\u89e3\u51b3\uff1a\u6ca1\u6709\u5230\u8fbe\u53f6\u7ed3\u70b9\uff0c\u5148\u8003\u8651\u662f\u5426\u6ee1\u8db3\u7ea6\u675f\u6761\u4ef6\uff0c\u82e5\u6ee1\u8db3\u5c31\u52a0\u4e0a\u8be5\u7269\u54c1\uff08\u8fdb\u5165\u5de6\u5b50\u6811\uff09\uff0c\u5c06\u89e3\u52a0\u5230\u89e3\u6570\u7ec4\u91cc\u9762\uff0c\u66f4\u65b0cw\u5373cw+=w[t]\uff0c\u518d\u5224\u65ad\u4e0b\u4e00\u6b65(t+1)\u662f\u5426\u80fd\u5de6\u8d70\uff0c\u80fd\u5219\u4e00\u76f4\u5411\u5de6\u8d70\uff0c\u76f4\u5230\u9047\u5230\u53f6\u7ed3\u70b9\u6216\u8005cw+w[i]&gt;c1\u5219\u4e0d\u80fd\u5411\u5de6\u8d70\u3002</p> <p>\u9047\u5230\u53f6\u5b50\u7ed3\u70b9\u5219\u66f4\u65b0bestw\uff0cbestx\u3001\u4e0d\u80fd\u5411\u5de6\u8d70\u5c31\u53ea\u80fd\u5224\u65ad\u80fd\u5411\u53f3\u8d70\u3002\u7136\u540e\u5c31\u8981\u8003\u8651\u662f\u5426\u9700\u8981\u8fdb\u5165\u53f3\u5b50\u6811\uff0c\u90a3\u5c31\u8981\u5224\u65ad\u5f53\u524d\u7684\u7ed3\u70b9\u662f\u5426\u6ee1\u8db3\u4e0a\u754c\u51fd\u6570\u5373cw+r&gt;bestw\uff1a\u6ee1\u8db3\u5219\u8fdb\u5165\u53f3\u5b50\u6811\uff0c\u56de\u6eaf\u5230\u53f3\u5b50\u6811\u5fc5\u987b\u5f97\u5148\u56de\u5230\u7236\u8282\u70b9\uff0c\u90a3\u4e48\u4e4b\u524d\u5728\u5de6\u8fb9\u52a0\u4e0a\u7684\u8d28\u91cf\u5c31\u8981\u51cf\u6389\u5373cw-w[t]\uff0c\u7136\u540e\u624d\u53ef\u4ee5\u8fdb\u5165\u53f3\u5b50\u6811\u5373\u6267\u884c\uff08t+1\uff09\u6b65\u3002\u4e0d\u6ee1\u8db3\u7684\u8bdd\u5373\u4fbf\u628a\u6240\u6709\u7684\u5269\u4f59\u8d28\u91cf\u90fd\u52a0\u5230\u8239\u4e0a\u4e5f\u4e0d\u80fd\u8fbe\u5230\u66f4\u5927\u7684bestw\uff0c\u6240\u4ee5\u76f4\u63a5\u820d\u5f03\u5269\u4f59\u53f3\u5b50\u6811\uff0c\u4e0d\u518d\u8fdb\u884c\u641c\u7d22\u3002</p> <pre><code>#include&lt;iostream&gt;\n#define NUM 100\nusing namespace std;\nint n;     //\u96c6\u88c5\u7bb1\u6570\u91cf\nint c1,c2; //\u8f6e\u8239\u8f7d\u91cd\u91cf\nint cw;    //\u5f53\u524d\u8f6e\u8239\u8f7d\u91cd\u91cf\nint r;     //\u5269\u4f59\u96c6\u88c5\u7bb1\u91cd\u91cf\nint w[100],bestw,x[100],bestx[100];  //\u6700\u4f18\u8f7d\u91cd,\u6700\u4f18\u89e3\n\n//t\u4ece1\u5f00\u59cb\nvoid BackTrack(int t)\n{\n    //\u5230\u8fbe\u53f6\u5b50\u8282\u70b9\n    if(t&gt;n)\n    {\n        cout &lt;&lt; cw &lt;&lt; endl;\n        if(cw &gt; bestw) \n        {\n            for(int i = 1; i &lt;= n; i++)\n            {\n                if(x[i])\n                    bestx[i] = i;\n                else\n                    bestx[i]=x[i];\n            }\n\n            bestw = cw;\n            return;\n        }\n    }\n    else {\n        r -= w[t]; //\u66f4\u65b0\u5269\u4f59\u96c6\u88c5\u7bb1\u91cd\u91cf\n        if(cw + w[t] &lt;= c1) { //\u6ca1\u6709\u8d85\u51fa\u8f7d\u91cd\u91cf\uff0c\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u5411\u5de6\n            x[t] = 1;\n            cw += w[t];\n            cout &lt;&lt; \"\u5de6:\" &lt;&lt; t &lt;&lt; \" \" &lt;&lt; bestw &lt;&lt; endl;\n            BackTrack(t+1);\n            cw -= w[t]; //cw\u8981\u8fd8\u539f\u539f\u5148\u7684\u8f7d\u91cd\uff0c\u56e0\u4e3a\u8fd8\u8981\u5224\u65ad\u5176\u4ed6\u8def\u7ebf\u624d\u80fd\u627e\u5230\u6700\u4f18\u89e3\n        }\n\n        if(cw + r &gt; bestw) { //\u5224\u65ad\u662f\u5426\u53ef\u4ee5\u5411\u53f3\n            cout &lt;&lt; \"\u53f3:\" &lt;&lt; t &lt;&lt; \" \" &lt;&lt; bestw &lt;&lt; endl;\n            x[t] = 0;\n            BackTrack(t+1);\n        }\n        r += w[t]; //\u8fd8\u539f\u5269\u4f59\u96c6\u88c5\u7bb1\u91cd\u91cf\u8d70\u5176\u4ed6\u8def\u7ebf\n    }\n}\n\nint main(){\n    //\u8bfb\u5165\u6570\u636e\uff1b\n    cout &lt;&lt; \"\u8bf7\u8f93\u5165AB\u8239\u7684\u5bb9\u91cfc1\u3001c2:\";\n    cin  &gt;&gt; c1 &gt;&gt; c2;\n    cout &lt;&lt; \"\u8f93\u5165\u7269\u54c1\u7684\u6570\u91cf:\";\n    cin &gt;&gt; n;\n    cout &lt;&lt; \"\u4f9d\u6b21\u8f93\u5165\u7269\u54c1\u7684\u8d28\u91cf:\";\n    for(int i = 1; i &lt;= n; i++){//\u521d\u59cb\u5316\uff0cbestw=0\n        cin &gt;&gt; w[i];\n        r += w[i];\n    }\n    //\u9012\u5f52\u56de\u6eaf\n    BackTrack(1);\n    if(r-bestw &gt; c2)//\u65e0\u89e3 \n        cout &lt;&lt; \"\u6ca1\u6709\u88c5\u8f7d\u65b9\u6848\" &lt;&lt; endl;\n    else {//\u6709\u89e3\n        cout &lt;&lt; \"\u6700\u6709\u8f7d\u91cd\u4e3a:\" &lt;&lt; bestw &lt;&lt; endl;\n        cout &lt;&lt; \"\u5206\u522b\u4e3a\u7b2c\" ;\n        for(int i = 1; i &lt;= n; i++)\n            if(bestx[i]) cout &lt;&lt; bestx[i] &lt;&lt; \" \";\n        cout &lt;&lt; \"\u4e2a\u7bb1\u5b50\" &lt;&lt; endl;\n    }\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_13","title":"\u6570\u5b57\u4e09\u89d2\u5f62","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\n#include &lt;iomanip&gt;\n#define maxn 555\n#define INF 100000009\nusing namespace std;\n/*\ndp\u9898\u578b\u4e2d\u4e00\u822c\u4e0b\u6807\u4ece1\u5f00\u59cb\uff0c\u56e0\u4e3a\u5b58\u5728f[i-1][...]\u8fd9\u7c7b\u5751\n*/\nint n;\nint a[maxn][maxn];\nint f[maxn][maxn];\n\nint main()\n{\n    cin &gt;&gt; n;\n    for(int i=1;i&lt;=n;i++)\n    {\n        for(int j=1;j&lt;=i;j++)\n        {\n            cin &gt;&gt; a[i][j];\n        }\n    }\n\n    for(int i=0;i&lt;=n;i++)        // \u6ce8\u610f\u8fd9\u91cc\u5fc5\u987b\u4ece0\u5f00\u59cb\n    {\n        for(int j=0;j&lt;=i+1;j++)  // \u6ce8\u610f\u8fd9\u91cc\u5fc5\u987b\u4ece0\u5f00\u59cb\uff0c\u5230i+1\u7ed3\u675f\uff08\u8981\u5b8c\u6574\u5305\u56f4\uff09\n        {\n            f[i][j] = -INF;\n        }\n    }\n\n    f[1][1] = a[1][1];\n\n    for(int i=2;i&lt;=n;i++)\n    {\n        for(int j=1;j&lt;=i;j++)\n        {\n            f[i][j] = max(f[i-1][j-1]+a[i][j] , f[i-1][j]+a[i][j]);\n        }\n    }\n\n    int ans = -INF;\n    for(int i=1;i&lt;=n;i++) ans = max(ans,f[n][i]);\n    cout &lt;&lt; ans &lt;&lt;endl;\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_14","title":"\u641c\u7d22","text":""},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_15","title":"\u6811\u4e0e\u56fe\u7684\u5b58\u50a8","text":"<pre><code>\u6811\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u56fe\uff0c\u4e0e\u56fe\u7684\u5b58\u50a8\u65b9\u5f0f\u76f8\u540c\u3002\n\u5bf9\u4e8e\u65e0\u5411\u56fe\u4e2d\u7684\u8fb9ab\uff0c\u5b58\u50a8\u4e24\u6761\u6709\u5411\u8fb9a-&gt;b, b-&gt;a\u3002\n\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u53ea\u8003\u8651\u6709\u5411\u56fe\u7684\u5b58\u50a8\u3002\n\n(1) \u90bb\u63a5\u77e9\u9635\uff1ag[a][b] \u5b58\u50a8\u8fb9a-&gt;b\n\n(2) \u90bb\u63a5\u8868\uff1a\n\n// \u5bf9\u4e8e\u6bcf\u4e2a\u70b9k\uff0c\u5f00\u4e00\u4e2a\u5355\u94fe\u8868\uff0c\u5b58\u50a8k\u6240\u6709\u53ef\u4ee5\u8d70\u5230\u7684\u70b9\u3002h[k]\u5b58\u50a8\u8fd9\u4e2a\u5355\u94fe\u8868\u7684\u5934\u7ed3\u70b9\nint h[N], e[N], ne[N], idx;\n\n// \u6dfb\u52a0\u4e00\u6761\u8fb9a-&gt;b\nvoid add(int a, int b)\n{\n    e[idx] = b, ne[idx] = h[a], h[a] = idx ++ ;\n}\n\n// \u521d\u59cb\u5316\nidx = 0;\nmemset(h, -1, sizeof h);\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_16","title":"\u6811\u4e0e\u56fe\u7684\u904d\u5386","text":"<pre><code>\u65f6\u95f4\u590d\u6742\u5ea6 O(n+m), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\n(1) \u6df1\u5ea6\u4f18\u5148\u904d\u5386 \u2014\u2014 \u6a21\u677f\u9898 AcWing 846. \u6811\u7684\u91cd\u5fc3\n\nint dfs(int u)\n{\n    st[u] = true; // st[u] \u8868\u793a\u70b9u\u5df2\u7ecf\u88ab\u904d\u5386\u8fc7\n\n    for (int i = h[u]; i != -1; i = ne[i])\n    {\n        int j = e[i];\n        if (!st[j]) dfs(j);\n    }\n}\n\n(2) \u5bbd\u5ea6\u4f18\u5148\u904d\u5386 \u2014\u2014 \u6a21\u677f\u9898 AcWing 847. \u56fe\u4e2d\u70b9\u7684\u5c42\u6b21\n\nqueue&lt;int&gt; q;\nst[1] = true; // \u8868\u793a1\u53f7\u70b9\u5df2\u7ecf\u88ab\u904d\u5386\u8fc7\nq.push(1);\n\nwhile (q.size())\n{\n    int t = q.front();\n    q.pop();\n\n    for (int i = h[t]; i != -1; i = ne[i])\n    {\n        int j = e[i];\n        if (!st[j])\n        {\n            st[j] = true; // \u8868\u793a\u70b9j\u5df2\u7ecf\u88ab\u904d\u5386\u8fc7\n            q.push(j);\n        }\n    }\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_17","title":"\u62d3\u6251\u6392\u5e8f","text":"<pre><code>\u62d3\u6251\u6392\u5e8f \u2014\u2014 \u6a21\u677f\u9898 AcWing 848. \u6709\u5411\u56fe\u7684\u62d3\u6251\u5e8f\u5217\n\n\u65f6\u95f4\u590d\u6742\u5ea6 O(n+m), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nbool topsort()\n{\n    int hh = 0, tt = -1;\n\n    // d[i] \u5b58\u50a8\u70b9i\u7684\u5165\u5ea6\n    for (int i = 1; i &lt;= n; i ++ )\n        if (!d[i])\n            q[ ++ tt] = i;\n\n    while (hh &lt;= tt)\n    {\n        int t = q[hh ++ ];\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        {\n            int j = e[i];\n            if (-- d[j] == 0)\n                q[ ++ tt] = j;\n        }\n    }\n\n    // \u5982\u679c\u6240\u6709\u70b9\u90fd\u5165\u961f\u4e86\uff0c\u8bf4\u660e\u5b58\u5728\u62d3\u6251\u5e8f\u5217\uff1b\u5426\u5219\u4e0d\u5b58\u5728\u62d3\u6251\u5e8f\u5217\u3002\n    return tt == n - 1;\n}\n</code></pre> <p>![[Pasted image 20231227213512.png]]</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#dijkstra","title":"dijkstra\u7b97\u6cd5","text":"<pre><code>\u6734\u7d20dijkstra\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 849. Dijkstra\u6c42\u6700\u77ed\u8def I\n\n\u65f6\u95f4\u590d\u6742\u662f O(n2+m), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint g[N][N];  // \u5b58\u50a8\u6bcf\u6761\u8fb9\nint dist[N];  // \u5b58\u50a81\u53f7\u70b9\u5230\u6bcf\u4e2a\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\nbool st[N];   // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u6700\u77ed\u8def\u662f\u5426\u5df2\u7ecf\u786e\u5b9a\n\n// \u6c421\u53f7\u70b9\u5230n\u53f7\u70b9\u7684\u6700\u77ed\u8def\uff0c\u5982\u679c\u4e0d\u5b58\u5728\u5219\u8fd4\u56de-1\nint dijkstra()\n{\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n\n    for (int i = 0; i &lt; n - 1; i ++ )\n    {\n        int t = -1;     // \u5728\u8fd8\u672a\u786e\u5b9a\u6700\u77ed\u8def\u7684\u70b9\u4e2d\uff0c\u5bfb\u627e\u8ddd\u79bb\u6700\u5c0f\u7684\u70b9\n        for (int j = 1; j &lt;= n; j ++ )\n            if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j]))\n                t = j;\n\n        // \u7528t\u66f4\u65b0\u5176\u4ed6\u70b9\u7684\u8ddd\u79bb\n        for (int j = 1; j &lt;= n; j ++ )\n            dist[j] = min(dist[j], dist[t] + g[t][j]);\n\n        st[t] = true;\n    }\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n}\n\n\u5806\u4f18\u5316\u7248dijkstra \u2014\u2014 \u6a21\u677f\u9898 AcWing 850. Dijkstra\u6c42\u6700\u77ed\u8def II\n\n\u65f6\u95f4\u590d\u6742\u5ea6 O(mlogn), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\ntypedef pair&lt;int, int&gt; PII;\n\nint n;      // \u70b9\u7684\u6570\u91cf\nint h[N], w[N], e[N], ne[N], idx;       // \u90bb\u63a5\u8868\u5b58\u50a8\u6240\u6709\u8fb9\nint dist[N];        // \u5b58\u50a8\u6240\u6709\u70b9\u52301\u53f7\u70b9\u7684\u8ddd\u79bb\nbool st[N];     // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\u662f\u5426\u5df2\u786e\u5b9a\n\n// \u6c421\u53f7\u70b9\u5230n\u53f7\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\uff0c\u5982\u679c\u4e0d\u5b58\u5728\uff0c\u5219\u8fd4\u56de-1\nint dijkstra()\n{\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n    priority_queue&lt;PII, vector&lt;PII&gt;, greater&lt;PII&gt;&gt; heap;\n    heap.push({0, 1});      // first\u5b58\u50a8\u8ddd\u79bb\uff0csecond\u5b58\u50a8\u8282\u70b9\u7f16\u53f7\n\n    while (heap.size())\n    {\n        auto t = heap.top();\n        heap.pop();\n\n        int ver = t.second, distance = t.first;\n\n        if (st[ver]) continue;\n        st[ver] = true;\n\n        for (int i = h[ver]; i != -1; i = ne[i])\n        {\n            int j = e[i];\n            if (dist[j] &gt; distance + w[i])\n            {\n                dist[j] = distance + w[i];\n                heap.push({dist[j], j});\n            }\n        }\n    }\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#bellman-ford","title":"Bellman-Ford\u7b97\u6cd5","text":"<pre><code>Bellman-Ford\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 853. \u6709\u8fb9\u6570\u9650\u5236\u7684\u6700\u77ed\u8def\n\n\u65f6\u95f4\u590d\u6742\u5ea6 O(nm), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\n\u6ce8\u610f\u5728\u6a21\u677f\u9898\u4e2d\u9700\u8981\u5bf9\u4e0b\u9762\u7684\u6a21\u677f\u7a0d\u4f5c\u4fee\u6539\uff0c\u52a0\u4e0a\u5907\u4efd\u6570\u7ec4\uff0c\u8be6\u60c5\u89c1\u6a21\u677f\u9898\u3002\n\nint n, m;       // n\u8868\u793a\u70b9\u6570\uff0cm\u8868\u793a\u8fb9\u6570\nint dist[N];        // dist[x]\u5b58\u50a81\u5230x\u7684\u6700\u77ed\u8def\u8ddd\u79bb\n\nstruct Edge     // \u8fb9\uff0ca\u8868\u793a\u51fa\u70b9\uff0cb\u8868\u793a\u5165\u70b9\uff0cw\u8868\u793a\u8fb9\u7684\u6743\u91cd\n{\n    int a, b, w;\n}edges[M];\n\n// \u6c421\u5230n\u7684\u6700\u77ed\u8def\u8ddd\u79bb\uff0c\u5982\u679c\u65e0\u6cd5\u4ece1\u8d70\u5230n\uff0c\u5219\u8fd4\u56de-1\u3002\nint bellman_ford()\n{\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n\n    // \u5982\u679c\u7b2cn\u6b21\u8fed\u4ee3\u4ecd\u7136\u4f1a\u677e\u5f1b\u4e09\u89d2\u4e0d\u7b49\u5f0f\uff0c\u5c31\u8bf4\u660e\u5b58\u5728\u4e00\u6761\u957f\u5ea6\u662fn+1\u7684\u6700\u77ed\u8def\u5f84\uff0c\u7531\u62bd\u5c49\u539f\u7406\uff0c\u8def\u5f84\u4e2d\u81f3\u5c11\u5b58\u5728\u4e24\u4e2a\u76f8\u540c\u7684\u70b9\uff0c\u8bf4\u660e\u56fe\u4e2d\u5b58\u5728\u8d1f\u6743\u56de\u8def\u3002\n    for (int i = 0; i &lt; n; i ++ )\n    {\n        for (int j = 0; j &lt; m; j ++ )\n        {\n            int a = edges[j].a, b = edges[j].b, w = edges[j].w;\n            if (dist[b] &gt; dist[a] + w)\n                dist[b] = dist[a] + w;\n        }\n    }\n\n    if (dist[n] &gt; 0x3f3f3f3f / 2) return -1;\n    return dist[n];\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#spfa","title":"spfa \u7b97\u6cd5","text":"<pre><code>spfa \u7b97\u6cd5\uff08\u961f\u5217\u4f18\u5316\u7684Bellman-Ford\u7b97\u6cd5\uff09 \u2014\u2014 \u6a21\u677f\u9898 AcWing 851. spfa\u6c42\u6700\u77ed\u8def\n\n\u65f6\u95f4\u590d\u6742\u5ea6 \u5e73\u5747\u60c5\u51b5\u4e0b O(m)\uff0c\u6700\u574f\u60c5\u51b5\u4e0b O(nm), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n;      // \u603b\u70b9\u6570\nint h[N], w[N], e[N], ne[N], idx;       // \u90bb\u63a5\u8868\u5b58\u50a8\u6240\u6709\u8fb9\nint dist[N];        // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u52301\u53f7\u70b9\u7684\u6700\u77ed\u8ddd\u79bb\nbool st[N];     // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u662f\u5426\u5728\u961f\u5217\u4e2d\n\n// \u6c421\u53f7\u70b9\u5230n\u53f7\u70b9\u7684\u6700\u77ed\u8def\u8ddd\u79bb\uff0c\u5982\u679c\u4ece1\u53f7\u70b9\u65e0\u6cd5\u8d70\u5230n\u53f7\u70b9\u5219\u8fd4\u56de-1\nint spfa()\n{\n    memset(dist, 0x3f, sizeof dist);\n    dist[1] = 0;\n\n    queue&lt;int&gt; q;\n    q.push(1);\n    st[1] = true;\n\n    while (q.size())\n    {\n        auto t = q.front();\n        q.pop();\n\n        st[t] = false;\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        {\n            int j = e[i];\n            if (dist[j] &gt; dist[t] + w[i])\n            {\n                dist[j] = dist[t] + w[i];\n                if (!st[j])     // \u5982\u679c\u961f\u5217\u4e2d\u5df2\u5b58\u5728j\uff0c\u5219\u4e0d\u9700\u8981\u5c06j\u91cd\u590d\u63d2\u5165\n                {\n                    q.push(j);\n                    st[j] = true;\n                }\n            }\n        }\n    }\n\n    if (dist[n] == 0x3f3f3f3f) return -1;\n    return dist[n];\n}\n\nspfa\u5224\u65ad\u56fe\u4e2d\u662f\u5426\u5b58\u5728\u8d1f\u73af \u2014\u2014 \u6a21\u677f\u9898 AcWing 852. spfa\u5224\u65ad\u8d1f\u73af\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(nm), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n;      // \u603b\u70b9\u6570\nint h[N], w[N], e[N], ne[N], idx;       // \u90bb\u63a5\u8868\u5b58\u50a8\u6240\u6709\u8fb9\nint dist[N], cnt[N];        // dist[x]\u5b58\u50a81\u53f7\u70b9\u5230x\u7684\u6700\u77ed\u8ddd\u79bb\uff0ccnt[x]\u5b58\u50a81\u5230x\u7684\u6700\u77ed\u8def\u4e2d\u7ecf\u8fc7\u7684\u70b9\u6570\nbool st[N];     // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u662f\u5426\u5728\u961f\u5217\u4e2d\n\n// \u5982\u679c\u5b58\u5728\u8d1f\u73af\uff0c\u5219\u8fd4\u56detrue\uff0c\u5426\u5219\u8fd4\u56defalse\u3002\nbool spfa()\n{\n    // \u4e0d\u9700\u8981\u521d\u59cb\u5316dist\u6570\u7ec4\n    // \u539f\u7406\uff1a\u5982\u679c\u67d0\u6761\u6700\u77ed\u8def\u5f84\u4e0a\u6709n\u4e2a\u70b9\uff08\u9664\u4e86\u81ea\u5df1\uff09\uff0c\u90a3\u4e48\u52a0\u4e0a\u81ea\u5df1\u4e4b\u540e\u4e00\u5171\u6709n+1\u4e2a\u70b9\uff0c\u7531\u62bd\u5c49\u539f\u7406\u4e00\u5b9a\u6709\u4e24\u4e2a\u70b9\u76f8\u540c\uff0c\u6240\u4ee5\u5b58\u5728\u73af\u3002\n\n    queue&lt;int&gt; q;\n    for (int i = 1; i &lt;= n; i ++ )\n    {\n        q.push(i);\n        st[i] = true;\n    }\n\n    while (q.size())\n    {\n        auto t = q.front();\n        q.pop();\n\n        st[t] = false;\n\n        for (int i = h[t]; i != -1; i = ne[i])\n        {\n            int j = e[i];\n            if (dist[j] &gt; dist[t] + w[i])\n            {\n                dist[j] = dist[t] + w[i];\n                cnt[j] = cnt[t] + 1;\n                if (cnt[j] &gt;= n) return true;       // \u5982\u679c\u4ece1\u53f7\u70b9\u5230x\u7684\u6700\u77ed\u8def\u4e2d\u5305\u542b\u81f3\u5c11n\u4e2a\u70b9\uff08\u4e0d\u5305\u62ec\u81ea\u5df1\uff09\uff0c\u5219\u8bf4\u660e\u5b58\u5728\u73af\n                if (!st[j])\n                {\n                    q.push(j);\n                    st[j] = true;\n                }\n            }\n        }\n    }\n\n    return false;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#floyd","title":"floyd\u7b97\u6cd5","text":"<pre><code>floyd\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 854. Floyd\u6c42\u6700\u77ed\u8def\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(n3), n \u8868\u793a\u70b9\u6570\n\n\u521d\u59cb\u5316\uff1a\n    for (int i = 1; i &lt;= n; i ++ )\n        for (int j = 1; j &lt;= n; j ++ )\n            if (i == j) d[i][j] = 0;\n            else d[i][j] = INF;\n\n// \u7b97\u6cd5\u7ed3\u675f\u540e\uff0cd[a][b]\u8868\u793aa\u5230b\u7684\u6700\u77ed\u8ddd\u79bb\nvoid floyd()\n{\n    for (int k = 1; k &lt;= n; k ++ )\n        for (int i = 1; i &lt;= n; i ++ )\n            for (int j = 1; j &lt;= n; j ++ )\n                d[i][j] = min(d[i][j], d[i][k] + d[k][j]);\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#prim","title":"prim\u7b97\u6cd5","text":"<pre><code>\u6734\u7d20\u7248prim\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 858. Prim\u7b97\u6cd5\u6c42\u6700\u5c0f\u751f\u6210\u6811\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(n2+m), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n;      // n\u8868\u793a\u70b9\u6570\nint g[N][N];        // \u90bb\u63a5\u77e9\u9635\uff0c\u5b58\u50a8\u6240\u6709\u8fb9\nint dist[N];        // \u5b58\u50a8\u5176\u4ed6\u70b9\u5230\u5f53\u524d\u6700\u5c0f\u751f\u6210\u6811\u7684\u8ddd\u79bb\nbool st[N];     // \u5b58\u50a8\u6bcf\u4e2a\u70b9\u662f\u5426\u5df2\u7ecf\u5728\u751f\u6210\u6811\u4e2d\n\n\n// \u5982\u679c\u56fe\u4e0d\u8fde\u901a\uff0c\u5219\u8fd4\u56deINF(\u503c\u662f0x3f3f3f3f), \u5426\u5219\u8fd4\u56de\u6700\u5c0f\u751f\u6210\u6811\u7684\u6811\u8fb9\u6743\u91cd\u4e4b\u548c\nint prim()\n{\n    memset(dist, 0x3f, sizeof dist);\n\n    int res = 0;\n    for (int i = 0; i &lt; n; i ++ )\n    {\n        int t = -1;\n        for (int j = 1; j &lt;= n; j ++ )\n            if (!st[j] &amp;&amp; (t == -1 || dist[t] &gt; dist[j]))\n                t = j;\n\n        if (i &amp;&amp; dist[t] == INF) return INF;\n\n        if (i) res += dist[t];\n        st[t] = true;\n\n        for (int j = 1; j &lt;= n; j ++ ) dist[j] = min(dist[j], g[t][j]);\n    }\n\n    return res;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#kruskal","title":"Kruskal\u7b97\u6cd5","text":"<pre><code>Kruskal\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 859. Kruskal\u7b97\u6cd5\u6c42\u6700\u5c0f\u751f\u6210\u6811\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(mlogm), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n, m;       // n\u662f\u70b9\u6570\uff0cm\u662f\u8fb9\u6570\nint p[N];       // \u5e76\u67e5\u96c6\u7684\u7236\u8282\u70b9\u6570\u7ec4\n\nstruct Edge     // \u5b58\u50a8\u8fb9\n{\n    int a, b, w;\n\n    bool operator&lt; (const Edge &amp;W)const\n    {\n        return w &lt; W.w;\n    }\n}edges[M];\n\nint find(int x)     // \u5e76\u67e5\u96c6\u6838\u5fc3\u64cd\u4f5c\n{\n    if (p[x] != x) p[x] = find(p[x]);\n    return p[x];\n}\n\nint kruskal()\n{\n    sort(edges, edges + m);\n\n    for (int i = 1; i &lt;= n; i ++ ) p[i] = i;    // \u521d\u59cb\u5316\u5e76\u67e5\u96c6\n\n    int res = 0, cnt = 0;\n    for (int i = 0; i &lt; m; i ++ )\n    {\n        int a = edges[i].a, b = edges[i].b, w = edges[i].w;\n\n        a = find(a), b = find(b);\n        if (a != b)     // \u5982\u679c\u4e24\u4e2a\u8fde\u901a\u5757\u4e0d\u8fde\u901a\uff0c\u5219\u5c06\u8fd9\u4e24\u4e2a\u8fde\u901a\u5757\u5408\u5e76\n        {\n            p[a] = b;\n            res += w;\n            cnt ++ ;\n        }\n    }\n\n    if (cnt &lt; n - 1) return INF;\n    return res;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_18","title":"\u67d3\u8272\u6cd5\u5224\u522b\u4e8c\u5206\u56fe","text":"<pre><code>\u67d3\u8272\u6cd5\u5224\u522b\u4e8c\u5206\u56fe \u2014\u2014 \u6a21\u677f\u9898 AcWing 860. \u67d3\u8272\u6cd5\u5224\u5b9a\u4e8c\u5206\u56fe\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(n+m), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n;      // n\u8868\u793a\u70b9\u6570\nint h[N], e[M], ne[M], idx;     // \u90bb\u63a5\u8868\u5b58\u50a8\u56fe\nint color[N];       // \u8868\u793a\u6bcf\u4e2a\u70b9\u7684\u989c\u8272\uff0c-1\u8868\u793a\u672a\u67d3\u8272\uff0c0\u8868\u793a\u767d\u8272\uff0c1\u8868\u793a\u9ed1\u8272\n\n// \u53c2\u6570\uff1au\u8868\u793a\u5f53\u524d\u8282\u70b9\uff0cc\u8868\u793a\u5f53\u524d\u70b9\u7684\u989c\u8272\nbool dfs(int u, int c)\n{\n    color[u] = c;\n    for (int i = h[u]; i != -1; i = ne[i])\n    {\n        int j = e[i];\n        if (color[j] == -1)\n        {\n            if (!dfs(j, !c)) return false;\n        }\n        else if (color[j] == c) return false;\n    }\n\n    return true;\n}\n\nbool check()\n{\n    memset(color, -1, sizeof color);\n    bool flag = true;\n    for (int i = 1; i &lt;= n; i ++ )\n        if (color[i] == -1)\n            if (!dfs(i, 0))\n            {\n                flag = false;\n                break;\n            }\n    return flag;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_big/#_19","title":"\u5308\u7259\u5229\u7b97\u6cd5","text":"<pre><code>\u5308\u7259\u5229\u7b97\u6cd5 \u2014\u2014 \u6a21\u677f\u9898 AcWing 861. \u4e8c\u5206\u56fe\u7684\u6700\u5927\u5339\u914d\n\n\u65f6\u95f4\u590d\u6742\u5ea6\u662f O(nm), n \u8868\u793a\u70b9\u6570\uff0cm \u8868\u793a\u8fb9\u6570\n\nint n1, n2;     // n1\u8868\u793a\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u7684\u70b9\u6570\uff0cn2\u8868\u793a\u7b2c\u4e8c\u4e2a\u96c6\u5408\u4e2d\u7684\u70b9\u6570\nint h[N], e[M], ne[M], idx;     // \u90bb\u63a5\u8868\u5b58\u50a8\u6240\u6709\u8fb9\uff0c\u5308\u7259\u5229\u7b97\u6cd5\u4e2d\u53ea\u4f1a\u7528\u5230\u4ece\u7b2c\u4e00\u4e2a\u96c6\u5408\u6307\u5411\u7b2c\u4e8c\u4e2a\u96c6\u5408\u7684\u8fb9\uff0c\u6240\u4ee5\u8fd9\u91cc\u53ea\u7528\u5b58\u4e00\u4e2a\u65b9\u5411\u7684\u8fb9\nint match[N];       // \u5b58\u50a8\u7b2c\u4e8c\u4e2a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u70b9\u5f53\u524d\u5339\u914d\u7684\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u7684\u70b9\u662f\u54ea\u4e2a\nbool st[N];     // \u8868\u793a\u7b2c\u4e8c\u4e2a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u70b9\u662f\u5426\u5df2\u7ecf\u88ab\u904d\u5386\u8fc7\n\nbool find(int x)\n{\n    for (int i = h[x]; i != -1; i = ne[i])\n    {\n        int j = e[i];\n        if (!st[j])\n        {\n            st[j] = true;\n            if (match[j] == 0 || find(match[j]))\n            {\n                match[j] = x;\n                return true;\n            }\n        }\n    }\n\n    return false;\n}\n\n// \u6c42\u6700\u5927\u5339\u914d\u6570\uff0c\u4f9d\u6b21\u679a\u4e3e\u7b2c\u4e00\u4e2a\u96c6\u5408\u4e2d\u7684\u6bcf\u4e2a\u70b9\u80fd\u5426\u5339\u914d\u7b2c\u4e8c\u4e2a\u96c6\u5408\u4e2d\u7684\u70b9\nint res = 0;\nfor (int i = 1; i &lt;= n1; i ++ )\n{\n    memset(st, false, sizeof st);\n    if (find(i)) res ++ ;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_exe/","title":"\u8003\u524d\u5c0f\u7ec3\u4e60","text":"<p>made by hbx</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_exe/#dp","title":"\u7f16\u8f91\u8ddd\u79bb\uff08dp\uff09","text":"<pre><code>#include &lt;algorithm&gt;\n#include &lt;cstring&gt;\n#include &lt;iostream&gt;\nusing namespace std;\nconst int N = 1e1 + 5, M = 1e3 + 10;\n\nint n, m;\nchar str[M][N];\nint dp[N][N];\n\nint edit_distance(char a[], char b[])\n{\n    int la = strlen(a + 1), lb = strlen(b + 1);\n\n    for (int i = 0; i &lt;= lb; i++) {\n        dp[0][i] = i;\n    }\n    for (int i = 0; i &lt;= la; i++) {\n        dp[i][0] = i;\n    }\n\n    for (int i = 1; i &lt;= la; i++) \n    {\n        for (int j = 1; j &lt;= lb; j++) \n        {\n            dp[i][j] = min(dp[i - 1][j] + 1, dp[i][j - 1] + 1);\n            dp[i][j] = min(dp[i][j], dp[i - 1][j - 1] + (a[i] != b[j]));\n        }\n    }\n    return dp[la][lb];\n}\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; m;\n    for (int i = 0; i &lt; n; i++) {\n        cin &gt;&gt; (str[i] + 1);\n    }\n\n    while (m--) \n    {\n        int res = 0;\n        char s[N];\n        int limit;\n        cin &gt;&gt; (s + 1) &gt;&gt; limit;\n        for (int i = 0; i &lt; n; i++) {\n            if (edit_distance(str[i], s) &lt;= limit) {\n                res++;\n            }\n        }\n        cout &lt;&lt; res &lt;&lt; endl;\n    }\n\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_exe/#dp_1","title":"\u6700\u77ed\u7f16\u8f91\u8ddd\u79bb\uff08dp\uff09","text":"<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\nusing namespace std;\nconst int maxn = 1e3+9;\nint n,m;\nchar a[maxn],b[maxn];\nint f[maxn][maxn];\n/*\n    f[i][j]: \u5c06a[1~i] =&gt; b[1~j] \u64cd\u4f5c\u6b21\u6570\u7684min\n    \u56de\u770b\u4e00\u6b65\uff1af[i][j]\u4ece\u4f55\u800c\u6765\uff1f\n    \u3010\u6839\u636e\u76f8\u5bf9\u6027\uff0c\u8fd9\u91cc\u6211\u4eec\u4ee5a\u5b57\u7b26\u4e32\u4f5c\u4e3a\u8003\u8651\u4e3b\u4f53\u3011\n    1) \u5220\u9664\u4e86\uff0c\u5bfc\u81f4\u5b8c\u5168\u5bf9\u5e94:\u8bf4\u660e\u539f\u72b6\u6001\u662f[i-1] &lt;=&gt; [j]   =&gt; f[i][j] = f[i-1][j] + 1\n    2) \u589e\u52a0\u4e86\uff0c\u5bfc\u81f4\u5b8c\u5168\u5bf9\u5e94:\u8bf4\u660e\u539f\u72b6\u6001\u662f[i] &lt;=&gt; [j-1]   =&gt; f[i][j] = f[i][j-1] + 1\n    3) \u66ff\u6362\u4e86\uff0c\u5bfc\u81f4\u5b8c\u5168\u5bf9\u5e94:\u8bf4\u660e\u539f\u72b6\u6001\u662f[i-1] &lt;=&gt; [j-1] =&gt; f[i][j] = f[i-1][j-1] + 1/0(\u53d6\u51b3\u4e8e: a[i]==b[j]?)\n\n*/\n\nint main()\n{\n    cin &gt;&gt; n &gt;&gt; (a+1);\n    cin &gt;&gt; m &gt;&gt; (b+1);\n    // 1) \u660e\u786e\u5982\u4f55\u8fb9\u754c\u521d\u59cb\u5316\uff01\n    for(int i=1;i&lt;=m;i++) f[0][i] = i; \n    for(int i=1;i&lt;=n;i++) f[i][0] = i;\n\n    // 2) f[i][j]\u52a8\u6001\u89c4\u5212\uff1a\n    for(int i=1;i&lt;=n;i++)\n    {\n        for(int j=1;j&lt;=m;j++)\n        {\n            // f[i][j] = min(f[i-1][j] + 1, f[i][j-1] + 1);\n            // if(a[i] == b[j]) {\n            //     f[i][j] = min(f[i][j], f[i-1][j-1]);\n            // }\n            // else {\n            //     f[i][j] = min(f[i][j], f[i-1][j-1] + 1);\n            // }\n\n            // \u8fd9\u91cc\u4e5f\u53ef\u6362\u4e00\u79cd\u5199\u6cd5\uff1a\n            // \u5728C++\u4e2d\uff0cstd::min \u51fd\u6570\u63a5\u53d7\u4e24\u4e2a\u53c2\u6570\n            f[i][j] = min(f[i-1][j]+1, f[i][j-1]+1);\n            f[i][j] = min(f[i][j] , f[i-1][j-1]+(!(a[i]==b[j])));\n        }\n    }\n\n    cout &lt;&lt; f[n][m] &lt;&lt;endl;\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_exe/#dp_2","title":"\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\uff08dp\u5b9e\u73b0\uff09","text":"<pre><code>#include &lt;iostream&gt;\n#include &lt;algorithm&gt;\nusing namespace std;\nconst int maxn = 1e3+9;\nint n;\nint a[maxn];\nint f[maxn];\n/*\n    f[i]: \u4ee5i\u7ed3\u5c3e\u7684\u201c\u6700\u957f\u4e0a\u5347\u5b50\u5e8f\u5217\u201d\u7684\u957f\u5ea6\n    \u5f88\u663e\u7136\uff1a\u5fc5\u7136\u5305\u542b\u7684\u662fa[i]\n    \u90a3\u4e48\u6211\u4eec\u9700\u8981\u8003\u8651f[i]\u7684\u6765\u6e90\uff1a\n    \u57281~(i-1)\u6240\u5bf9\u5e94\u7684\u57fa\u7840\u4e0a\uff0ca[i]\u53ef\u4ee5\u52a0\u5165\u5176\u4e2d\uff0c\u5f62\u6210\u65b0\u7684max_len\n    \u6545\uff1af[i] = max(f[j]+1)\uff0c\u5176\u4e2d\uff1aj = 0 ~ (i-1)\uff0c\u4e14\u9700\u8981\uff1aa[j] &lt; a[i]\n*/\n\nint main()\n{\n    cin &gt;&gt; n;\n    for(int i=1;i&lt;=n;i++) cin &gt;&gt; a[i];\n\n    for(int i=1;i&lt;=n;i++)\n    {\n        f[i] = 1;\n        for(int j=1;j&lt;=i-1;j++)\n        {\n            if(a[j] &lt; a[i]) {\n                f[i] = max(f[i] , f[j] + 1);\n            }\n        }\n    }\n\n    int res = 1;\n    for(int i=1;i&lt;=n;i++) res = max(res , f[i]);\n    cout&lt;&lt;res&lt;&lt;endl;\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_exe/#_2","title":"\u6ed1\u96ea\uff08\u8bb0\u5fc6\u5316\u641c\u7d22\uff09","text":"<pre><code>#include&lt;iostream&gt;\n#include&lt;algorithm&gt;\n#include&lt;cstring&gt;\nusing namespace std;\nconst int maxn = 305;\n\nint a[maxn][maxn];\nint f[maxn][maxn];\nint r,c;\nint dx[4] = {-1,0,0,1};\nint dy[4] = {0,1,-1,0};\n/*\n    f[i][j]:\n    \u4ece\u70b9(i,j)\u51fa\u53d1\u7684\u8def\u5f84\u957f\u5ea6max\n*/\n\nint dp(int x,int y)\n{\n    if(f[x][y] != -1) return f[x][y];\n\n    f[x][y] = 1;\n\n    for(int i=0;i&lt;4;i++)\n    {\n        int xx = x + dx[i];\n        int yy = y + dy[i];\n        if(xx&gt;=1 and xx&lt;=r and yy&gt;=1 and yy&lt;=c)\n        {\n            if(a[x][y] &gt; a[xx][yy]) {\n                f[x][y] = max(f[x][y] , dp(xx,yy) + 1);\n            }\n        }\n    }\n    return f[x][y];\n}\n\nint main()\n{\n    cin &gt;&gt; r &gt;&gt; c;\n    for(int i=1;i&lt;=r;i++) {\n        for(int j=1;j&lt;=c;j++) {\n            cin &gt;&gt; a[i][j];\n        }\n    }\n\n    memset(f,-1,sizeof f);\n\n    int res = 0;\n    for(int i=1;i&lt;=r;i++)\n    {\n        for(int j=1;j&lt;=c;j++)\n        {\n            res = max(res,dp(i,j));\n        }\n    }\n\n    cout &lt;&lt; res &lt;&lt;endl;\n    return 0;\n}\n</code></pre>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/","title":"\u671f\u672b\u5907\u8003\u6307\u5357","text":"<p>made by hbx</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#2","title":"\u7b2c2\u7ae0 \u9012\u5f52\u4e0e\u5206\u6cbb\u7b56\u7565","text":""},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#algorithm","title":"Algorithm\uff1a\u5206\u6cbb\u4e0e\u9012\u5f52","text":"<p>\u9636\u4e58\u51fd\u6570 Fibonacci\u6570\u5217 Ackerman\u51fd\u6570 \u5168\u6392\u5217\u95ee\u9898 \u6574\u6570\u5212\u5206\u95ee\u9898 Hanoi\u5854\u95ee\u9898 \u4e8c\u5206\u641c\u7d22\u6280\u672f \u641c\u7d22\u6280\u672f\uff1a\u6ee1\u5b57\u5178\u6811\uff08\u53d8\u5f62\u7684k\u53c9\u6811\uff09+ \u524d\u7f00\u6811\uff08\u5b57\u5178\u6811\uff09+ \u540e\u7f00\u6811\u548c\u540e\u7f00\u6570\u7ec4\uff08\u5b9e\u73b0\u4e86\u5168\u90e8\u7684\u8f6e\u56de\u5f0f\u904d\u5386\uff09\u203b \u5927\u6574\u6570\u7684\u4e58\u6cd5\uff1a\u5feb\u901f\u5085\u91cc\u53f6\u53d8\u6362\u203b Strassen\u77e9\u9635\u4e58\u6cd5 \u68cb\u76d8\u8986\u76d6 \u5408\u5e76\u6392\u5e8f \u5feb\u901f\u6392\u5e8f \u7ebf\u6027\u65f6\u95f4\u9009\u62e9 \u6700\u63a5\u8fd1\u70b9\u5bf9\u95ee\u9898\uff081D+2D\uff09 \u5faa\u73af\u8d5b\u65e5\u7a0b\u8868</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#3","title":"\u7b2c3\u7ae0 \u52a8\u6001\u89c4\u5212","text":"<ul> <li>\u52a8\u6001\u89c4\u5212\u7b97\u6cd5\u4e0e\u5206\u6cbb\u6cd5\u7c7b\u4f3c\uff0c\u5176\u57fa\u672c\u601d\u60f3\u4e5f\u662f\u5c06\u5f85\u6c42\u89e3\u95ee\u9898\u5206\u89e3\u6210\u82e5\u5e72\u4e2a\u5b50\u95ee\u9898</li> <li>\u4f46\u662f\u7ecf\u5206\u89e3\u5f97\u5230\u7684\u5b50\u95ee\u9898\u5f80\u5f80\u4e0d\u662f\u4e92\u76f8\u72ec\u7acb\u7684\u3002\u4e0d\u540c\u5b50\u95ee\u9898\u7684\u6570\u76ee\u5e38\u5e38\u53ea\u6709\u591a\u9879\u5f0f\u91cf\u7ea7\u3002\u5728\u7528\u5206\u6cbb\u6cd5\u6c42\u89e3\u65f6\uff0c\u6709\u4e9b\u5b50\u95ee\u9898\u88ab\u91cd\u590d\u8ba1\u7b97\u4e86\u8bb8\u591a\u6b21</li> <li>\u5982\u679c\u80fd\u591f\u4fdd\u5b58\u5df2\u89e3\u51b3\u7684\u5b50\u95ee\u9898\u7684\u7b54\u6848\uff0c\u800c\u5728\u9700\u8981\u65f6\u518d\u627e\u51fa\u5df2\u6c42\u5f97\u7684\u7b54\u6848\uff0c\u5c31\u53ef\u4ee5\u907f\u514d\u5927\u91cf\u91cd\u590d\u8ba1\u7b97\uff0c\u4ece\u800c\u5f97\u5230\u591a\u9879\u5f0f\u65f6\u95f4\u7b97\u6cd5</li> </ul>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#algorithm_1","title":"Algorithm\uff1a\u52a8\u6001\u89c4\u5212","text":"<p>\u4e00\u3001\u6700\u4f18\u5b50\u7ed3\u6784 \u4e8c\u3001\u91cd\u53e0\u5b50\u95ee\u9898 \u4e09\u3001\u5907\u5fd8\u5f55\u65b9\u6cd5\uff08\u8bb0\u5fc6\u5316\uff09</p> <p>\u77e9\u9635\u8fde\u4e58\u95ee\u9898 \u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217 \u51f8\u591a\u8fb9\u5f62\u6700\u4f18\u4e09\u89d2\u5256\u5206 \u4e09\u89d2\u5256\u5206\u7684\u7ed3\u6784\u53ca\u5176\u76f8\u5173\u95ee\u9898\uff1a\u4e00\u4e2a\u8868\u8fbe\u5f0f\u7684\u5b8c\u5168\u52a0\u62ec\u53f7\u65b9\u5f0f\u76f8\u5e94\u4e8e\u4e00\u68f5\u5b8c\u5168\u4e8c\u53c9\u6811\uff0c\u79f0\u4e3a\u8868\u8fbe\u5f0f\u7684\u8bed\u6cd5\u6811</p> <p>\u591a\u8fb9\u5f62\u6e38\u620f \u56fe\u50cf\u538b\u7f29 \u7535\u8def\u5e03\u7ebf\uff1a\u52a8\u6001\u89c4\u5212\u6848\u4f8b-\u7535\u8def\u5e03\u7ebf(\u542b\u8868\u683c\u586b\u5199\u7b49\u8d85\u8be6\u7ec6\uff0c\u7eaf\u4eba\u8bdd\u8bb2\u89e3)_\u7535\u8def\u5e03\u7ebf\u52a8\u6001\u89c4\u5212-CSDN\u535a\u5ba2</p> <p>\u6d41\u6c34\u4f5c\u4e1a\u8c03\u5ea6 \u6d41\u6c34\u4f5c\u4e1a\u8c03\u5ea6\u7684Johnson\u6cd5\u5219 \u80cc\u5305\u95ee\u9898\uff0801\uff09\u203b \u6700\u4f18\u4e8c\u53c9\u641c\u7d22\u6811\u203b \u6700\u5c0f\u7f16\u8f91\u8ddd\u79bb</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#4","title":"\u7b2c4\u7ae0 \u8d2a\u5fc3\u7b97\u6cd5","text":"<p>\u6d3b\u52a8\u5b89\u6392\u95ee\u9898\u221a \u8d2a\u5fc3\u7b97\u6cd5\u7684\u57fa\u672c\u8981\u7d20\u221a \u6700\u4f18\u88c5\u8f7d\u221a \u54c8\u592b\u66fc\u7f16\u7801\u203b \u5355\u6e90\u6700\u77ed\u8def\u5f84\u203b \u2014\u2014 dijstra \u6700\u77ed\u8def\u5f84\u7b97\u6cd5-\u8fea\u6770\u65af\u7279\u62c9(Dijkstra)\u7b97\u6cd5 - \u77e5\u4e4e (zhihu.com) \u6700\u5c0f\u751f\u6210\u6811\u203b \u2014\u2014 Prim + Kruscral https://blog.csdn.net/weixin_44333151/article/details/110584056 \u591a\u673a\u8c03\u5ea6\u95ee\u9898\u2014\u2014NP\u5b8c\u5168\u95ee\u9898 \u5206\u6cbb\u3001\u52a8\u6001\u89c4\u5212\u548c\u8d2a\u5fc3\u5bf9\u6bd4</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#56","title":"\u7b2c5+6\u7ae0 \u641c\u7d22","text":"<p>\u5355\u6e90\u6700\u77ed\u8def\u5f84\u95ee\u9898 \u88c5\u8f7d\u95ee\u9898 \u5e03\u7ebf\u95ee\u9898 0\uff0d1\u80cc\u5305\u95ee\u9898 \u6700\u5927\u56e2\u95ee\u9898 \u65c5\u884c\u552e\u8d27\u5458\u95ee\u9898 \u7535\u8def\u677f\u6392\u5217\u95ee\u9898 \u6279\u5904\u7406\u4f5c\u4e1a\u8c03\u5ea6</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#78910","title":"\u7b2c7+8+9+10\u7ae0","text":"<p>\u7eaf\u6982\u5ff5</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#_2","title":"\u91cd\u70b9\u9898\u578b","text":""},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#1-httpsblogcsdnnetsdau_adaarticledetails121294912","title":"1. \u8003\u8bd5\u7b97\u6cd5\u5b9e\u73b0\u5927\u9898\uff1ahttps://blog.csdn.net/SDAU_Ada/article/details/121294912","text":"<p>\u5f52\u5e76\u6392\u5e8f==over== AcWing 787. \u5f52\u5e76\u6392\u5e8f - AcWing \u5feb\u901f\u6392\u5e8f==over== AcWing 785. \u5feb\u901f\u6392\u5e8f - AcWing \u77e9\u9635\u8fde\u4e58\u95ee\u9898\u2014\u2014dp ==over== \u6700\u957f\u516c\u5171\u5b50\u5e8f\u5217==over== https://www.acwing.com/activity/content/problem/content/1005/ \u80cc\u5305\u95ee\u9898\uff0801\uff09\u2014\u2014 \u8d2a\u5fc3\u3001\u52a8\u6001\u89c4\u5212\u3001\u56de\u6eaf  ==over== \u5e03\u7ebf\u95ee\u9898\u2014\u2014\u641c\u7d22 ==over== https://www.luogu.com.cn/problem/P1605 \u6d3b\u52a8\u5b89\u6392\u95ee\u9898\u2014\u2014\u8d2a\u5fc3 ==over==  https://www.luogu.com.cn/problem/P1803 \u88c5\u8f7d\u95ee\u9898\u2014\u2014dp ==over== \u6570\u5854\u95ee\u9898\u2014\u2014dp ==over== https://www.acwing.com/activity/content/11/ n\u7687\u540e\u2014\u2014\u641c\u7d22==over== https://www.acwing.com/activity/content/11/ \u9a6c\u7684\u904d\u5386\u2014\u2014\u641c\u7d22 ==over== https://www.luogu.com.cn/problem/P1443</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#2_1","title":"2. \u7b97\u6cd5\u7b80\u4ecb\u4e0e\u9610\u91ca\uff1a","text":"<p>\u54c8\u5bc6\u5c14\u987f\u73af \u6700\u5c0f\u751f\u6210\u6811 \u5355\u6e90\u6700\u77ed\u8def\u5f84\u2014\u2014 dijstra ==over== \u7740\u8272\u95ee\u9898\u7684\u56de\u6eaf\u7b97\u6cd5 \u5faa\u73af\u8d5b\u65e5\u7a0b\u8868 Dijkstra\u7b97\u6cd5\u548cFloyd\u7b97\u6cd5\u5f02\u540c ==over== \u3010\u73b0\u9636\u6bb5\u4efb\u52a1\uff1a\u5c06acwing\u4e0a\u641c\u7d22\u90a3\u4e00\u8282\u5168\u90e8\u542c\u5b8c\u5373\u53ef\u3011</p>"},{"location":"curriculum_study/Algorithm_XJTU/qimo_review/#3_1","title":"3. \u6587\u79d1\u95ee\u7b54\u9898/\u5224\u65ad\u9898\uff1a","text":"<ol> <li>\u6e10\u8fdb\u7b26\u53f7\u7684\u5b9a\u4e49\u4e0e\u5206\u6790\uff1aO + \u03a9 + \u0398</li> <li>\u9700\u8981\u4e86\u89e3\u5e38\u89c1\u7b97\u6cd5\u7684\u590d\u6742\u5ea6\uff01\uff01\uff01</li> <li>\u56fe\u7075\u673a</li> <li>P\u3001NP\u3001NP_hard\u3001NPC\uff1a\u89c1\u540e\u7eed</li> <li>\u8fd1\u4f3c\u7b97\u6cd5\uff08chapter9\uff09</li> <li>\u4e09\u4e2a\u57fa\u672c\u8ba1\u7b97\u6a21\u578b\uff1a\u968f\u673a\u5b58\u53d6\u673a\u3001\u968f\u673a\u5b58\u53d6\u5b58\u50a8\u7a0b\u5e8f\u673a\u3001\u56fe\u7075\u673a</li> <li>\u8d2a\u5fc3\u7b97\u6cd5\u8981\u6c42\uff1a\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28 + \u8d2a\u5fc3\u9009\u62e9\u6027\u8d28</li> <li>\u52a8\u6001\u89c4\u5212\u8981\u6c42\uff1a\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28 + \u91cd\u53e0\u5b50\u95ee\u9898\u6027\u8d28</li> <li>\u52a8\u6001\u89c4\u5212\u4e0e\u5206\u6cbb\u6cd5\u5728\u5206\u89e3\u5b50\u95ee\u9898\u65b9\u9762\u7684\u4e0d\u540c\u70b9\uff1adp\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u662f\u201c\u6709\u91cd\u53e0\u7684\u201d\uff1b\u5206\u6cbb\u6cd5\u5206\u89e3\u540e\u7684\u5b50\u95ee\u9898\u662f\u201c\u72ec\u7acb\u7684\u201d</li> <li>\u5206\u6cbb\u6cd5\u7684\u57fa\u672c\u601d\u60f3\uff1a\u5c06\u89c4\u6a21\u4e3an\u7684\u95ee\u9898\u5206\u89e3\u6210k\u4e2a\u89c4\u6a21\u8f83\u5c0f\u7684\u5b50\u95ee\u9898\uff0c\u8fd9\u4e9b\u5b50\u95ee\u9898\u76f8\u4e92\u72ec\u7acb\u4e14\u4e0e\u539f\u95ee\u9898\u76f8\u540c\uff1b\u5982\u6b64\u9012\u5f52\uff0c\u76f4\u81f3\u95ee\u9898\u89c4\u6a21\u8db3\u591f\u5c0f\uff0c\u5f88\u5bb9\u6613\u6c42\u51fa\u89e3\u4e3a\u6b62\uff1b\u518d\u5c06\u6c42\u51fa\u7684\u5c0f\u89c4\u6a21\u95ee\u9898\u7684\u89e3\u5408\u5e76\u6210\u4e3a\u4e00\u4e2a\u66f4\u5927\u89c4\u6a21\u7684\u95ee\u9898\u7684\u89e3\uff0c\u81ea\u5e95\u5411\u4e0a\u8fd8\u539f\u6c42\u51fa\u539f\u95ee\u9898\u7684\u89e3</li> <li>\u6700\u4f18\u5316\u539f\u7406\uff1a\u5047\u8bbe\u9700\u8981\u89e3\u51b3\u67d0\u4e00\u4f18\u5316\u95ee\u9898\uff0c\u9700\u8981\u4f9d\u6b21\u505a\u51fan\u4e2a\u51b3\u7b56: \\(D_1,D_2,...\\)\uff0c\u5982\u679c\u8fd9\u4e2a\u51b3\u7b56\u5e8f\u5217\u662f\u6700\u4f18\u7684\uff0c\u90a3\u4e48\u5bf9\u4e8e\u4efb\u610f\u6574\u6570k\uff0c\u4e0d\u7ba1\u524d\u9762k\u4e2a\u51b3\u7b56\u5982\u4f55\uff0c\u4ee5\u540e\u7684\u6700\u4f18\u51b3\u7b56\u53ea\u53d6\u51b3\u4e8e\u524d\u9762\u51b3\u7b56\u6240\u786e\u5b9a\u7684\u5f53\u524d\u72b6\u6001\uff0c\u5373\uff1a\u4ee5\u540e\u7684\u51b3\u7b56\\(D_(k+1),D_(k+2),...\\)</li> <li>\u6700\u4f18\u5b50\u7ed3\u6784\u6027\u8d28\uff1a\u67d0\u4e2a\u95ee\u9898\u7684\u6700\u4f18\u89e3\u5305\u542b\u5176\u5b50\u95ee\u9898\u7684\u6700\u4f18\u89e3</li> <li>\u56de\u6eaf\u6cd5\u57fa\u672c\u601d\u60f3\uff1a\u5728\u4e00\u68f5\u542b\u6709\u95ee\u9898\u5168\u90e8\u53ef\u80fd\u89e3\u7684\u72b6\u6001\u7a7a\u95f4\u6811\u4e0a\u8fdb\u884cdfs\uff0c\u89e3\u4e3a\u53f6\u5b50\u7ed3\u70b9\uff1b\u641c\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u6bcf\u5230\u8fbe\u4e00\u4e2a\u8282\u70b9\u65f6\uff0c\u5219\u5224\u65ad\u8be5\u8282\u70b9\u4e3a\u6839\u7684\u5b50\u6811\u662f\u5426\u542b\u6709\u95ee\u9898\u7684\u89e3\uff0c\u5982\u679c\u53ef\u4ee5\u786e\u5b9a\u8be5\u5b50\u6811\u4e0d\u542b\u6709\u95ee\u9898\u7684\u89e3\uff0c\u5219\u76f4\u63a5\u653e\u5f03\u5bf9\u8fd9\u68f5\u5b50\u6811\u7684\u641c\u7d22\uff0c\u56de\u9000\u5230\u4e0a\u5c42\u7236\u8282\u70b9\uff0c\u7ee7\u7eed\u4e0b\u4e00\u6b65dfs</li> <li>\u5728\u56de\u6eaf\u6cd5\u4e2d\uff1a\u5e76\u4e0d\u662f\u5148\u6784\u9020\u51fa\u6574\u9897\u72b6\u6001\u7a7a\u95f4\u6811\uff0c\u518d\u8fdb\u884c\u641c\u7d22\u7684\uff1b\u800c\u662f\u5728\u641c\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u9010\u6b65\u6784\u5efa\u51fa\u72b6\u6001\u7a7a\u95f4\u6811\uff0c\u5373\uff1a\u8fb9\u641c\u7d22\uff0c\u8fb9\u6784\u9020\uff01</li> <li>\u6ce8\u610f\u533a\u5206\uff1a\u8fd9\u95e8\u8bfe\u91cc\u9762\u662f\u533a\u5206\u201c\u56de\u6eaf\u6cd5\u201d\uff08towards DFS\uff09\u548c\u201c\u5206\u652f\u9650\u754c\u6cd5\u201d\uff08towards BFS\uff09\u7684\uff01\u3001</li> <li>\u56de\u6eaf\u6cd5\u5728\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u6811\u4e2d\uff0c\u6309\u7167\u201c\u6df1\u5ea6\u4f18\u5148\u201d\u7b56\u7565</li> <li>\u5206\u652f\u9650\u754c\u6cd5\u5728\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u6811\u4e2d\uff0c\u6309\u7167\u201c\u5e7f\u5ea6\u4f18\u5148\u201d\u7b56\u7565</li> <li>\u56de\u6eaf\u6cd5\u7684\u6548\u7387\u4e0d\u4f9d\u8d56\u4e8e\uff1a\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u5f62\u5f0f</li> <li>\u4e24\u79cd\u5206\u652f\u9650\u754c\u6cd5\u662f\uff1a\uff081\uff09\u961f\u5217\u5f0f\u5206\u652f\u9650\u754c\u6cd5\uff1b\uff082\uff09\u4f18\u5148\u961f\u5217\u5f0f\u5206\u652f\u9650\u754c\u6cd5</li> <li>\u56de\u6eaf\u6cd5\u7684\u7b97\u6cd5\u6846\u67b6\u6309\u7167\u95ee\u9898\u7684\u89e3\u7a7a\u95f4\u4e00\u822c\u5206\u4e3a\uff1a\uff081\uff09\u5b50\u96c6\u6811\uff1b\uff082\uff09\u6392\u5217\u6811</li> <li>\u5b50\u96c6\u6811\uff1a\u6240\u7ed9\u7684\u95ee\u9898\u662f\u4ecen\u4e2a\u5143\u7d20\u7684\u96c6\u5408S\u4e2d\u627e\u51fa\u6ee1\u8db3\u67d0\u79cd\u6027\u8d28\u7684\u5b50\u96c6\u65f6\uff0ceg\uff1a01\u80cc\u5305\uff1b\u904d\u5386\u5b50\u96c6\u6811\u7684\u4efb\u4f55\u7b97\u6cd5\u5747\u9700 \u03a9(2n) \u7684\u8ba1\u7b97\u65f6\u95f4\u3002</li> <li>\u6392\u5217\u6811\uff1a\u6240\u7ed9\u7684\u95ee\u9898\u662f\u786e\u5b9an\u4e2a\u5143\u7d20\u6ee1\u8db3\u67d0\u79cd\u6027\u8d28\u7684\u6392\u5217\u65f6\uff0ceg\uff1a\u6279\u5904\u7406\u4f5c\u4e1a\u8c03\u5ea6\uff0c\u65c5\u884c\u8005\u552e\u8d27\u95ee\u9898\uff1b\u6392\u5217\u6811\u901a\u5e38\u6709n\uff01\u4e2a\u7ed3\u70b9\uff0c\u904d\u5386\u6392\u5217\u6811\u9700\u8981 \u03a9(n!) \u7684\u8ba1\u7b97\u65f6\u95f4</li> <li>NP\u5b8c\u5168\u6027\u7406\u8bba\u8003\u8bd5\u4e13\u533a\uff1a</li> <li>P\u662f\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u4f7f\u7528==\u786e\u5b9a\u6027\u7b97\u6cd5==\u53ef\u89e3\u5f97\u6240\u6709\u5224\u5b9a\u95ee\u9898\u7684\u96c6\u5408\uff0cNP\u662f\u5728\u591a\u9879\u5f0f\u65f6\u95f4\u5185\u4f7f\u7528==\u975e\u786e\u5b9a\u6027\u7b97\u6cd5==\u53ef\u89e3\u7684\u6240\u6709\u5224\u5b9a\u95ee\u9898\u7684\u96c6\u5408</li> <li>\u8bbe\u4e00\u4e2a==\u975e\u786e\u5b9a\u6027\u7b97\u6cd5==\u5728\u65f6\u95f4T(n)\u5185\u53ef\u4ee5\u89e3\u51b3\u5224\u5b9a\u95ee\u9898P0\u3002\u5219\u5b58\u5728\u4e00\u4e2a\u5bf9\u5e94\u7684==\u786e\u5b9a\u6027\u7b97\u6cd5==\uff0c\u5b83\u53ef\u5728\u65f6\u95f4O(\\(c^Tn\\))\u5185\u89e3\u51b3P0\uff0c\u5176\u4e2dc\u662f\u4e00\u4e2a\u5e38\u6570</li> <li>P \u2286 NP</li> <li>\u95ee\u9898L\u662fNP\u5b8c\u5168\u7684 \u5f53\u4e14\u4ec5\u5f53\uff1a(1) L\u2208NP\uff1b(2) \u5bf9\u4e8e\u6240\u6709L\u2019\u2208NP\u6709\uff1aL\u2019 \u221d p L</li> <li>\u5982\u679c\u6709\u4e00\u4e2a\u95ee\u9898L\u6ee1\u8db3\u4e0a\u8ff0\u6027\u8d28(2)\uff0c\u4f46\u4e0d\u4e00\u5b9a\u6ee1\u8db3\u6027\u8d28(1)\uff0c\u5219\u79f0\u8be5\u95ee\u9898\u662fNP\u96be\u7684</li> <li>\u6240\u6709NP\u5b8c\u5168\u95ee\u9898\u6784\u6210\u7684\u95ee\u9898\u7c7b\u79f0\u4e3aNP\u5b8c\u5168\u95ee\u9898\u7c7b\uff0c\u8bb0\u4e3aNPC</li> <li></li> <li>\u8bbeL\u662fNP\u5b8c\u5168\u7684\uff0c\u5219\uff1a(1) L\u2208P\u5f53\u4e14\u4ec5\u5f53P\uff1dNP\uff1b(2) \u82e5L\u221dp L1\uff0c\u4e14L1\u2208NP\uff0c\u5219L1\u662fNP\u5b8c\u5168\u7684</li> <li>\u6982\u7387\u7b97\u6cd5\u8003\u8bd5\u4e13\u533a\uff1a</li> <li>\u7279\u5f81\uff1a\u5bf9 \u6240\u6c42\u95ee\u9898\u7684\u540c\u4e00\u5b9e\u4f8b \u7528 \u540c\u4e00\u6982\u7387\u7b97\u6cd5\u6c42\u89e3\u4e24\u6b21 \u53ef\u80fd\u5f97\u5230\u5b8c\u5168\u4e0d\u540c\u7684\u6548\u679c ==\u6240\u9700\u7684\u65f6\u95f4\u548c\u7ed3\u679c\u53ef\u80fd\u90fd\u6709\u5f88\u5927\u7684\u5dee\u522b==</li> <li>\u6570\u503c\u6982\u7387\u7b97\u6cd5\uff1a\u5e38\u7528\u4e8e\u6c42\u89e3\u6570\u503c\u95ee\u9898\uff0c\u4e00\u822c\u5f97\u5230\u4e00\u4e2a\u8fd1\u4f3c\u89e3\uff08\u57fa\u672c\u7528\u4e0d\u7740\uff09</li> <li>\u8499\u7279\u5361\u7f57\u7b97\u6cd5\uff1a\u7528\u4e8e\u6c42\u89e3\u95ee\u9898\u7684\u51c6\u786e\u89e3\u3002\u6c42\u5f97\u6b63\u786e\u89e3\u7684\u6982\u7387\u4f9d\u8d56\u4e8e\u7b97\u6cd5\u6240\u7528\u7684\u65f6\u95f4\uff08\u5728\u4e00\u822c\u60c5\u51b5\u4e0b\u53ef\u4ee5\u4fdd\u8bc1\u5bf9\u95ee\u9898\u7684\u6240\u6709\u5b9e\u4f8b\u90fd\u4ee5\u9ad8\u6982\u7387\u7ed9\u51fa\u6b63\u786e\u89e3\uff0c\u4f46\u662f\u901a\u5e38\u65e0\u6cd5\u5224\u5b9a\u4e00\u4e2a\u5177\u4f53\u89e3\u662f\u5426\u6b63\u786e\uff09</li> <li>\u62c9\u65af\u7ef4\u52a0\u65af\u7b97\u6cd5\uff1a\u627e\u5230\u7684\u89e3\u4e00\u5b9a\u662f\u4e00\u4e2a\u6b63\u786e\u89e3\uff0c\u4f46\u4e0d\u4fdd\u8bc1\u4e00\u5b9a\u80fd\u627e\u5230\u89e3\uff1b\u5b83\u6240\u4f5c\u7684\u968f\u673a\u6027\u51b3\u7b56\u6709\u53ef\u80fd\u5bfc\u81f4\u7b97\u6cd5\u627e\u4e0d\u5230\u6240\u9700\u7684\u89e3\\(t(x) = p(x)s(x) + (1 - p(x))(e(x) + t(x))\\)</li> <li>\u820d\u4f0d\u5fb7\u7b97\u6cd5\uff1a\u603b\u80fd\u6c42\u5f97\u4e00\u4e2a\u89e3\uff0c\u4e14\u6240\u6c42\u89e3\u603b\u662f\u6b63\u786e\u7684\uff08\u601d\u60f3\uff1a\u5229\u7528\u7279\u6b8a\u6280\u672f\uff0c\u6bd4\u5982\uff1a\u63d0\u524d\u968f\u673a\u6d17\u724c\uff0c\u63d0\u524d\u968f\u673a\u8bbe\u5b9a\u8df3\u51e0\u6b65......\u4ee5\u5b9e\u73b0\u6027\u80fd\u5e73\u5747\uff09</li> </ol>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/","title":"Chapter10\u5bf9\u8c61\u548c\u7c7b","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#1","title":"1\uff09\u7c7b\u89c4\u8303","text":"<p>\u30101\u3011\u7c7b\u58f0\u660e\uff1a\u6570\u636e\u6210\u5458\uff08\u63cf\u8ff0\u6570\u636e\u90e8\u5206\uff09+ \u6210\u5458\u51fd\u6570\uff08\u63cf\u8ff0\u516c\u6709\u63a5\u53e3\uff09 \u30102\u3011\u7c7b\u65b9\u6cd5\u5b9a\u4e49\uff1a\u63cf\u8ff0\u5982\u4f55\u5b9e\u73b0\u7c7b\u6210\u5458\u51fd\u6570</p> <p>ps\uff1a \u4f55\u4e3a \u201d\u63a5\u53e3\u201c\uff1f ![[Pasted image 20230730094108.png]] ![[Pasted image 20230730094124.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#2","title":"2\uff09\u7c7b\u7684\u57fa\u672c\u6210\u5206","text":"<p>[1]\u57fa\u672c\u793a\u4f8b\uff1a <pre><code>// stock00.h -- Stock class interface\n// version 00\n\n#ifndef STOCK00_H_\n#define STOCK00_H_\n#include &lt;string&gt; \u00a0\nclass Stock \u00a0// class declaration\n{\nprivate:\n\u00a0 \u00a0 std::string company;\n\u00a0 \u00a0 long shares;\n\u00a0 \u00a0 double share_val;\n\u00a0 \u00a0 double total_val;\n\u00a0 \u00a0 void set_tot() { total_val = shares * share_val; }\npublic:\n\u00a0 \u00a0 void acquire(const std::string &amp; co, long n, double pr);\n\u00a0 \u00a0 void buy(long num, double price);\n\u00a0 \u00a0 void sell(long num, double price);\n\u00a0 \u00a0 void update(double price);\n\u00a0 \u00a0 void show();\n}; \u00a0 \u00a0// note semicolon at the end\n#endif\n</code></pre> [2]\u8be6\u7ec6\u4ecb\u7ecd\uff1a \uff081\uff09class \u6307\u51fa\u8fd9\u4e9b\u4ee3\u7801\u7ed9\u51fa\u4e86\u4e00\u4e2a\u7c7b\u8bbe\u8ba1 \uff082\uff09\u8981\u5b58\u50a8\u7684\u6570\u636e\u4ee5\u7c7b\u6570\u636e\u6210\u5458 (\u5982\u53d8\u91cfcompany...) \u7684\u5f62\u5f0f\u51fa\u73b0 \uff083\uff09\u8981\u6267\u884c\u7684\u64cd\u4f5c\u4ee5\u7c7b\u51fd\u6570\u6210\u5458 (\u65b9\u6cd5\uff0c\u5982 sell( ) \u548c update( )   ) \uff084\uff09\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u5c31\u5730\u5b9a\u4e49\uff08 set_tot( ) \uff09\uff0c\u4e5f\u53ef\u4ee5\u539f\u578b\u8868\u793a\uff08 buy(...)\uff1bsell(...) \uff09</p> <p>[3]\u8bbf\u95ee\u63a7\u5236\uff1a \uff081\uff09\u4f7f\u7528\u7c7b\u5bf9\u8c61\u7684\u7a0b\u5e8f\u90fd\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u516c\u6709\u90e8\u5206 \uff082\uff09\u4f46\u53ea\u80fd\u901a\u8fc7\u516c\u6709\u6210\u5458\u51fd\u6570( \u6216 \u53cb\u5143\u51fd\u6570 )\u6765\u8bbf\u95ee\u5bf9\u8c61\u7684\u79c1\u6709\u6210\u5458</p> <p>ps\uff1a\u7c7b\u4e0e\u7ed3\u6784 \u7ed3\u6784\u7684\u9ed8\u8ba4\u8bbf\u95ee\u7c7b\u578b\u662fpublic\uff0c\u800c\u7c7b\u4e3aprivate</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#3","title":"3\uff09\u5b9e\u73b0\u7c7b\u7684\u6210\u5458\u51fd\u6570","text":"<p>\uff081\uff09\u5b9a\u4e49\u6210\u5458\u51fd\u6570\uff08\u4e5f\u53eb\u4f5c\uff1a\u65b9\u6cd5\uff09\u662f\u7528\uff1a\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26( : : ) \u5b9e\u73b0\u7684 <pre><code>void Stock::update(double price)\n[1] \u610f\u5473\u7740 update() \u51fd\u6570\u662f Stock\u7c7b \u7684\u6210\u5458\n[2] Stock\u7c7b\u4e2d\u7684\u5176\u4ed6\u6210\u5458\u51fd\u6570\u4e0d\u5fc5\u8981\u4f7f\u7528 :: \u5c31\u53ef\u4ee5\u4f7f\u7528 update() \u65b9\u6cd5\u3010\u8fd9\u662f\u56e0\u4e3a\u5b83\u4eec\u5c5e\u4e8e\u540c\u4e00\u4e2a\u7c7b\uff0c\u56e0\u6b64 update() \u53ef\u89c1\u3011\n</code></pre></p> <p>\uff082\uff09\u65b9\u6cd5 \u53ef\u4ee5\u8bbf\u95ee\u7c7b\u7684\u79c1\u6709\u6210\u5458\uff0c\u4f46\u662f\u975e\u6210\u5458\u51fd\u6570\u4e0d\u53ef\u4ee5\uff08\u53cb\u5143\u51fd\u6570\u9664\u5916\uff01\uff09 <pre><code>void show() //\u662f\u7c7b\u7684\u6210\u5458\u51fd\u6570\n{\n    cout &lt;&lt; company &lt;&lt; shares &lt;&lt; share_val &lt;&lt; total_val &lt;&lt;endl;\n}\n</code></pre></p> <p>\uff083\uff09\u5185\u8054\u65b9\u6cd5 \u5b9a\u4e49\u4f4d\u4e8e\u7c7b\u58f0\u660e\u7684\u51fd\u6570 \u90fd\u5c06\u81ea\u52a8\u6210\u4e3a \u5185\u8054\u51fd\u6570 eg\uff1a\u4e0a\u8ff0\u7c7bStock\u4e2d\u7684 Stock : : set_tot( )\u662f\u4e00\u4e2a\u5185\u8054\u51fd\u6570</p> <p>ps : \u5982\u679c\u613f\u610f\u4e5f\u53ef\u4ee5\u5728\u7c7b\u58f0\u660e\u4e4b\u5916\u5b9a\u4e49\u6210\u5458\u51fd\u6570\uff0c\u5e76\u4f7f\u5176\u6210\u4e3a\u5185\u8054\u51fd\u6570 \u65b9\u5f0f\uff1a\u5728\u7c7b\u5b9e\u73b0\u90e8\u5206\u5b9a\u4e49\u51fd\u6570\u65f6\u4f7f\u7528inline\u9650\u5b9a\u7b26\u5373\u53ef <pre><code>class Stock { \nprivate:\n    ...\n    void set_tot() // declaration\npublic:\n    ...\n};\n\ninline void Stock::set_tot() // use inline in definition\n{\n    total_val = shares*share_val;\n}\n</code></pre></p> <p>\uff084\uff09\u521b\u5efa and \u4f7f\u7528\u5bf9\u8c61 \u30101\u3011\u6240\u521b\u5efa\u7684\u6bcf\u4e2a\u65b0\u5bf9\u8c61\u90fd\u6709\u81ea\u5df1\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u7528\u4e8e\u5b58\u50a8\u5176\u5185\u90e8\u53d8\u91cf\u548c\u7c7b\u6210\u5458 \u30102\u3011\u540c\u4e00\u4e2a\u7c7b\u7684\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u540c\u4e00\u7ec4\u7c7b\u65b9\u6cd5\uff0c\u5373\uff1a\u6bcf\u79cd\u65b9\u6cd5\u53ea\u6709\u4e00\u4e2a\u526f\u672c eg\uff1akate \u548c joe \u90fd\u662fStock\u5bf9\u8c61\uff0c\u5219 kate.shares \u5360\u4e00\u4e2a\u5185\u5b58\u5757\uff0c joe.shares \u5360\u53e6\u4e00\u4e2a\u5185\u5b58\u5feb\u3002\u4f46\u662f kate.show( ) \u548c joe.show( ) \u90fd\u8c03\u7528\u540c\u4e00\u4e2a\u65b9\u6cd5\uff0c\u4e5f\u5c31\u662f\u8bf4\uff1a kate.show( ) \u548c joe.show( ) \u90fd\u6267\u884c\u540c\u4e00\u4e2a\u4ee3\u7801\u5757\uff0c\u53ea\u662f\u5c06\u8fd9\u4e9b\u4ee3\u7801\u65b9\u6cd5\u7528\u4e8e\u4e0d\u540c\u7684\u6570\u636e ![[Pasted image 20230730104821.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#4","title":"4\uff09\u7c7b\u7684\u6784\u9020\u51fd\u6570\u548c\u6790\u6784\u51fd\u6570","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#1_1","title":"\u30101\u3011\u95ee\u9898\u5f15\u5165","text":"<p><pre><code>class Stock {\n    ......\n};\n\nstruct node {\n    char *pn;\n    int m;\n};\n\nnode amaoob = {\"hhh\",23};  // valid\nStock hbx = {\"jjj\",6};     // invalid\n</code></pre> \u4e0d\u80fd\u50cf\u4e0a\u9762\u8fd9\u6837\u521d\u59cb\u5316Stock\u5bf9\u8c61\uff0c\u539f\u56e0\u5728\u4e8e\uff1a\u7c7b\u7684\u6570\u636e\u90e8\u5206\u8bbf\u95ee\u72b6\u6001\u662f\u79c1\u6709\u7684\uff0c\u8fd9\u610f\u5473\u7740\u7a0b\u5e8f\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u6570\u636e\u6210\u5458 \u56e0\u6b64\u9700\u8981\u8bbe\u8ba1\u5408\u9002\u7684\u6210\u5458\u51fd\u6570\u2014\u2014\u6784\u9020\u51fd\u6570</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#2_1","title":"\u30102\u3011\u6784\u9020\u51fd\u6570\u683c\u5f0f","text":"<p><pre><code>Stock::Stock(const string &amp;co , long n = 0 , double pr = 0.0)\n{\n    company = co;\n    ......\n}\n// \u7a0b\u5e8f\u58f0\u660e\u5bf9\u8c61\u65f6\uff0c\u5c31\u5c06\u81ea\u52a8\u8c03\u7528\u6784\u9020\u51fd\u6570\uff01\n</code></pre> ![[Pasted image 20230730110623.png]] ![[Pasted image 20230730110635.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#3_1","title":"\u30103\u3011\u4f7f\u7528\u6784\u9020\u51fd\u6570\u521d\u59cb\u5316\u5bf9\u8c61","text":"<p>\uff081\uff09\u663e\u5f0f\u5730\u8c03\u7528\u6784\u9020\u51fd\u6570\uff1a <pre><code>Stock food = Stock(\"world\", 250, 1.1);\n</code></pre> \u539f\u7406\uff1a\u5141\u8bb8\u8c03\u7528\u6784\u9020\u51fd\u6570\u6765\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u8be5\u4e34\u65f6\u5bf9\u8c61\u590d\u5236\u5230stock2\u4e2d\uff0c\u5e76\u4e22\u5f03\u5b83\u3010\u4f1a\u4e3a\u4e34\u65f6\u5bf9\u8c61\u8c03\u7528\u6790\u6784\u51fd\u6570\u3011</p> <p>\uff082\uff09\u9690\u5f0f\u5730\u8c03\u7528\u6784\u9020\u51fd\u6570\uff1a <pre><code>Stock food (\"world\", 250, 1.1);\n</code></pre> \u76f4\u63a5\u521d\u59cb\u5316</p> <p>\uff08poi\uff09\u521b\u5efa\u7c7b\u5bf9\u8c61 + new\u52a8\u6001\u5185\u5b58\u5206\u914d\uff1a <pre><code>Stock *food = new Stock(\"world\", 250, 1.1);\n\n\u8fc7\u7a0b\uff1a\n1\uff09\u521b\u5efa\u4e00\u4e2aStock\u5bf9\u8c61\uff0c\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u53c2\u6570\u63d0\u4f9b\u7684\u503c\n2\uff09\u5e76\u5c06\u8be5\u5bf9\u8c61\u5730\u5740\u8d4b\u7ed9food\u6307\u9488\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#4_1","title":"\u30104\u3011\u9ed8\u8ba4\u6784\u9020\u51fd\u6570","text":"<p>\u65b9\u6cd51\uff1a\u7ed9\u5df2\u6709\u7684\u6784\u9020\u51fd\u6570\u7684\u6240\u6709\u53c2\u6570\u63d0\u4f9b\u9ed8\u8ba4\u503c <pre><code>Stock(const string&amp; co = \"error\" , int n = 0, double pr = 0.0);\n</code></pre></p> <p>\u65b9\u6cd52\uff1a\u51fd\u6570\u91cd\u8f7d\u5b9a\u4e49\u53e6\u4e00\u4e2a\u6784\u9020\u51fd\u6570 <pre><code>Stock();\n\nStock::Stock()    // default constructor\n{\n    company = \"no name\";\n    shares = 0;\n    share_val = 0.0;\n    total_val = 0.0;\n}\n</code></pre></p> <p>eg: <pre><code>Stock first;                 // implicitly(\u9690\u5f0f\u5177\u4f53\u5316)\nStock first = Stock();       // explicitly(\u663e\u5f0f\u5177\u4f53\u5316)\nStock *prelief = new Stock;  // implicitly\n\nStock first(\"bcgsadkhcfa\");  // calls constructor\nStock second;                // default constructor(\u9ed8\u8ba4\u6784\u9020\u51fd\u6570)\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#5","title":"\u30105\u3011\u6790\u6784\u51fd\u6570","text":"<p>\uff081\uff09\u5f15\u5165\uff1a\u6790\u6784\u51fd\u6570\u8d1f\u8d23\u5b8c\u6210\u6e05\u7406\u5de5\u4f5c eg\uff1a\u5982\u679c\u6784\u9020\u51fd\u6570\u4f7f\u7528new\u6765\u5206\u914d\u5185\u5b58\uff0c\u5219\u6790\u6784\u51fd\u6570\u5c06\u4f7f\u7528delete\u6765\u91ca\u653e\u8fd9\u4e9b\u5185\u5b58</p> <p>\uff082\uff09\u683c\u5f0f\uff1a\u7c7b\u540d\u524d\u52a0\u4e0a~\u3010\u8ddf\u6784\u9020\u51fd\u6570\u4e00\u6837\uff0c\u6ca1\u6709\u8fd4\u56de\u503c\u548c\u58f0\u660e\u7c7b\u578b\u3011</p> <p>poi\uff1a==\u6790\u6784\u51fd\u6570\u6ca1\u6709\u53c2\u6570== eg\uff1aStock\u7c7b\u7684\u6790\u6784\u51fd\u6570\u539f\u578b\uff0c\u5fc5\u987b\u662f\uff1a  ~Stock()</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#6","title":"\u30106\u3011\u7efc\u5408\u793a\u4f8b\u5206\u6790","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#stock1cpp-stock-class-implementation-with-constructors-destructor-added-include-iostream-include-stock10h-constructors-verbose-versions-stockstock-default-constructor-stdcout-default-constructor-calledn-company-no-name-shares-0-share_val-00-total_val-00-stockstockconst-stdstring-co-long-n-double-pr-stdcout-constructor-using-co-calledn-company-co-if-n-0-stdcout-number-of-shares-cant-be-negative-company-shares-set-to-0n-shares-0-else-shares-n-share_val-pr-set_tot-class-destructor-stockstock-verbose-class-destructor-stdcout-bye-company-n-other-methods-void-stockbuylong-num-double-price-if-num-0-stdcout-number-of-shares-purchased-cant-be-negative-transaction-is-abortedn-else-shares-num-share_val-price-set_tot-void-stockselllong-num-double-price-using-stdcout-if-num-0-cout-number-of-shares-sold-cant-be-negative-transaction-is-abortedn-else-if-num-shares-cout-you-cant-sell-more-than-you-have-transaction-is-abortedn-else-shares-num-share_val-price-set_tot-void-stockupdatedouble-price-share_val-price-set_tot-void-stockshow-using-stdcout-using-stdios_base-set-format-to-ios_basefmtflags-orig-coutsetfios_basefixed-ios_basefloatfield-stdstreamsize-prec-coutprecision3-cout-company-company-shares-shares-n-cout-share-price-share_val-set-format-to-coutprecision2-cout-total-worth-total_val-n-restore-original-format-coutsetforig-ios_basefloatfield-coutprecisionprec","title":"<pre><code>// stock1.cpp \ufffd Stock class implementation with constructors, destructor added\n#include &lt;iostream&gt;\n#include \"stock10.h\"\n// constructors (verbose versions)\nStock::Stock() \u00a0 \u00a0 \u00a0 \u00a0// default constructor\n{\n\u00a0 \u00a0 std::cout &lt;&lt; \"Default constructor called\\n\";\n\u00a0 \u00a0 company = \"no name\";\n\u00a0 \u00a0 shares = 0;\n\u00a0 \u00a0 share_val = 0.0;\n\u00a0 \u00a0 total_val = 0.0;\n}\n\nStock::Stock(const std::string &amp; co, long n, double pr)\n{\n\u00a0 \u00a0 std::cout &lt;&lt; \"Constructor using \" &lt;&lt; co &lt;&lt; \" called\\n\";\n\u00a0 \u00a0 company = co;\n\u00a0 \u00a0 if (n &lt; 0)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Number of shares can't be negative; \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; company &lt;&lt; \" shares set to 0.\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 shares = 0;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 shares = n;\n\u00a0 \u00a0 share_val = pr;\n\u00a0 \u00a0 set_tot();\n}\n\n// class destructor\nStock::~Stock() \u00a0 \u00a0 \u00a0 \u00a0// verbose class destructor\n{\n\u00a0 \u00a0 std::cout &lt;&lt; \"Bye, \" &lt;&lt; company &lt;&lt; \"!\\n\";\n}\n\n// other methods\nvoid Stock::buy(long num, double price)\n{\n\u00a0 \u00a0 \u00a0if (num &lt; 0)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Number of shares purchased can't be negative. \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"Transaction is aborted.\\n\";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 shares += num;\n\u00a0 \u00a0 \u00a0 \u00a0 share_val = price;\n\u00a0 \u00a0 \u00a0 \u00a0 set_tot();\n\u00a0 \u00a0 }\n}\n\nvoid Stock::sell(long num, double price)\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 if (num &lt; 0)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Number of shares sold can't be negative. \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"Transaction is aborted.\\n\";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else if (num &gt; shares)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"You can't sell more than you have! \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"Transaction is aborted.\\n\";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 shares -= num;\n\u00a0 \u00a0 \u00a0 \u00a0 share_val = price;\n\u00a0 \u00a0 \u00a0 \u00a0 set_tot();\n\u00a0 \u00a0 }\n}\n\nvoid Stock::update(double price)\n{\n\u00a0 \u00a0 share_val = price;\n\u00a0 \u00a0 set_tot();\n}\n\nvoid Stock::show()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::ios_base;\n\u00a0 \u00a0 // set format to #.###\n\u00a0 \u00a0 ios_base::fmtflags orig =\n\u00a0 \u00a0 \u00a0 \u00a0 cout.setf(ios_base::fixed, ios_base::floatfield);\n\u00a0 \u00a0 std::streamsize prec = cout.precision(3);\n\u00a0 \u00a0 cout &lt;&lt; \"Company: \" &lt;&lt; company\n\u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" \u00a0Shares: \" &lt;&lt; shares &lt;&lt; '\\n';\n\u00a0 \u00a0 cout &lt;&lt; \" \u00a0Share Price: $\" &lt;&lt; share_val;\n\u00a0 \u00a0 // set format to #.##\n\u00a0 \u00a0 cout.precision(2);\n\u00a0 \u00a0 cout &lt;&lt; \" \u00a0Total Worth: $\" &lt;&lt; total_val &lt;&lt; '\\n';\n\u00a0 \u00a0 // restore original format\n\u00a0 \u00a0 cout.setf(orig, ios_base::floatfield);\n\u00a0 \u00a0 cout.precision(prec);\n}\n</code></pre>","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#usestok1cpp-using-the-stock-class-compile-with-stock10cpp-include-iostream-include-stock10h-int-main-using-stdcout-cout-using-constructors-to-create-new-objectsn-stock-stock1nanosmart-12-200-syntax-1-stock1show-stock-stock2-stock-boffo-objects-2-20-syntax-2-stock2show-cout-assigning-stock1-to-stock2n-stock2-stock1-cout-listing-stock1-and-stock2n-stock1show-stock2show-cout-using-a-constructor-to-reset-an-objectn-stock1-stocknifty-foods-10-500-temp-object-cout-revised-stock1n-stock1show-cout-donen-stdcinget-return-0","title":"<pre><code>// usestok1.cpp -- using the Stock class\n// compile with stock10.cpp\n#include &lt;iostream&gt;\n#include \"stock10.h\"\nint main()\n{\n\u00a0 {\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 cout &lt;&lt; \"Using constructors to create new objects\\n\";\n\u00a0 \u00a0 Stock stock1(\"NanoSmart\", 12, 20.0); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// syntax 1\n\u00a0 \u00a0 stock1.show();\n\u00a0 \u00a0 Stock stock2 = Stock (\"Boffo Objects\", 2, 2.0); // syntax 2\n\u00a0 \u00a0 stock2.show();\n\n\u00a0 \u00a0 cout &lt;&lt; \"Assigning stock1 to stock2:\\n\";\n\u00a0 \u00a0 stock2 = stock1;\n\u00a0 \u00a0 cout &lt;&lt; \"Listing stock1 and stock2:\\n\";\n\u00a0 \u00a0 stock1.show();\n\u00a0 \u00a0 stock2.show();\n\n\u00a0 \u00a0 cout &lt;&lt; \"Using a constructor to reset an object\\n\";\n\u00a0 \u00a0 stock1 = Stock(\"Nifty Foods\", 10, 50.0); \u00a0 \u00a0// temp object\n\u00a0 \u00a0 cout &lt;&lt; \"Revised stock1:\\n\";\n\u00a0 \u00a0 stock1.show();\n\u00a0 \u00a0 cout &lt;&lt; \"Done\\n\";\n\u00a0 }\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre>","text":"<p>\u8bf4\u660e\uff1a 1\uff09\u53ef\u4ee5\u5c06\u4e00\u4e2a\u5bf9\u8c61\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\uff1a <pre><code>stock2 = stock1;\n</code></pre></p> <p>\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u7ed9\u7c7b\u5bf9\u8c61\u8d4b\u503c\u65f6\uff0c\u5c06\u628a\u4e00\u4e2a\u5bf9\u8c61\u590d\u5236\u7ed9\u53e6\u4e00\u4e2a</p> <p>\u5728\u4e0a\u9762\u8fd9\u4e2a\u4f8b\u5b50\u5f53\u4e2d\uff0cstock2\u7684\u539f\u5185\u5bb9\u5c06\u88ab\u8986\u76d6\uff01</p> <p>2\uff09\u6784\u9020\u51fd\u6570\u4e0d\u4ec5\u53ef\u7528\u4e8e\u65b0\u5bf9\u8c61\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8e\u65e7\u5bf9\u8c61\u7684\u65b0\u503c\u8d4b\u4e88 <pre><code>stock1 = Stock(\"hhh\", 10, 50.0);\n\nstock1\u5df2\u5b58\u5728\uff0c\u8fd9\u53e5\u8bed\u53e5\u4e0d\u662f\u5bf9stock1\u521d\u59cb\u5316\uff0c\u800c\u662f\u5c06\u65b0\u503c\u8d4b\u7ed9\u5b83\n\u539f\u7406\uff1a\u8ba9\u6784\u9020\u51fd\u6570\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u3001\u4e34\u65f6\u7684\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u5185\u5bb9 \u590d\u5236 \u7ed9stock1\u6765\u5b9e\u73b0\uff0c\u968f\u540e\u7a0b\u5e8f\u8c03\u7528\u6790\u6784\u51fd\u6570\uff0c\u4ee5\u5220\u9664\u8be5\u4e34\u65f6\u5bf9\u8c61\n</code></pre></p> <p>3\uff09\u7531\u51fd\u6570\u6808\u539f\u7406\uff1a\u5c40\u90e8\u53d8\u91cf\u6d88\u5931\u7684\u987a\u5e8f\u662f\uff1aLIFO\uff08\u81ea\u52a8\u53d8\u91cf\u88ab\u653e\u5728\u6808\u4e2d\uff0c\u6700\u540e\u521b\u5efa\u7684\u5bf9\u8c61\u6700\u5148\u88ab\u5220\u9664\uff09</p> <p>4\uff09==\u533a\u5206\u521d\u59cb\u5316 \u4e0e \u8d4b\u503c\uff1a== <pre><code>Stock hbx2 = Stock(\"jjj\", 2, 2.0);  // \u521d\u59cb\u5316\uff0c\u5b83\u521b\u5efa\u6709\u6307\u5b9a\u503c\u7684\u5bf9\u8c61  \u6709\u53ef\u80fd\u4f1a\u4ea7\u751f\u4e34\u65f6\u53d8\u91cf\n\nhbx1 = Stock(\"jjj\",3,5.0);          // \u8d4b\u503c\uff0c\u5728\u8d4b\u503c\u8bed\u53e5\u4e2d\u4f7f\u7528\u6784\u9020\u51fd\u6570\uff0c\u5fc5\u7136\u4f1a\u4ea7\u751f\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\n</code></pre></p> <p>5\uff09\u5bf9\u7c7b\u5bf9\u8c61\u4f7f\u7528 \u521d\u59cb\u5316\u5217\u8868 \u4e3e\u4f8b\u8bf4\u660e\u5373\u53ef <pre><code>\u5bf9\u4e8e\u6784\u9020\u51fd\u6570\uff1a\nStock::Stock(const std::string &amp;co , long n = 0 , double pr = 0.0);\n\n\u521d\u59cb\u5316\uff1a\nStock hop = {\"cbhgkjajdgbs\" , 2 , 2.0};   =&gt;   hop(\"cbhgkjajdgbs\" , 2 , 2.0);\nStock jum {\"dshakuhas\" , 5};              =&gt;   jum(\"dshakuhas\" , 5 , 0.0);\nStock lll {\"dshakuhas\"};                  =&gt;   jum(\"dshakuhas\", 0 , 0.0);\nStock jjj{};                              =&gt;   \u5c06\u4e0e\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u5339\u914d\uff01\n</code></pre></p> <p>6\uff09const\u6210\u5458\u51fd\u6570 ![[Pasted image 20230730120542.png]] ![[Pasted image 20230730120553.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#5this","title":"5\uff09this\u6307\u9488","text":"<p>\u30101\u3011\u95ee\u9898\u5f15\u5165\uff1a</p> <p>\u5b9a\u4e49\u4e00\u4e2a\u6210\u5458\u51fd\u6570\uff0c\u5b83\u67e5\u770b\u4e24\u4e2aStock\u5bf9\u8c61\uff0c\u5e76\u8fd4\u56de\u80a1\u4ef7\u8f83\u9ad8\u7684\u90a3\u4e2a\u5bf9\u8c61\u7684\u5f15\u7528 \u5047\u8bbe\u5c06\u8be5\u65b9\u6cd5\u547d\u540d\u4e3a topval() \u5219\u51fd\u6570\u8c03\u7528stock1.topval( ) \u5c06\u8bbf\u95eestock1\u5bf9\u8c61\u7684\u6570\u636e \u5982\u679c\u5e0c\u671b\u8be5\u65b9\u6cd5\u80fd\u5bf9\u4e24\u8005\u8fdb\u884c\u6bd4\u8f83\uff0c\u5219\u5e94\u8be5\u5c06\u7b2c\u4e8c\u4e2a\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u5b83 \u51fa\u4e8e\u6548\u7387\uff0c\u6309\u7167\u5f15\u7528\u4f20\u9012\u53c2\u6570\uff01\u56e0\u6b64\uff1atopval( ) \u65b9\u6cd5\u5c06\u4f7f\u7528\u4e00\u4e2a\u7c7b\u578b\u4e3a const Stock&amp; \u7684\u53c2\u6570 <pre><code>\u5199\u6cd5\uff1aconst Stock&amp; topval (const Stock&amp; s) const;\n\n(1)\u62ec\u53f7\u5185\u7684const\uff1a\u8be5\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u88ab\u663e\u5f0f\u8bbf\u95ee\u7684\u5bf9\u8c61\n(2)\u62ec\u53f7\u540e\u7684const\uff1a\u8be5\u51fd\u6570\u4e0d\u4f1a\u4fee\u6539\u88ab\u9690\u5f0f\u8bbf\u95ee\u7684\u5bf9\u8c61\n(3)\u8fd4\u56de\u503c\u7c7b\u578b\u7684const\uff1a\u7531\u4e8e\u8be5\u51fd\u6570\u8fd4\u56de\u4e862\u4e2aconst\u5bf9\u8c61\u4e4b\u4e00\u7684\u5f15\u7528\uff0c\u56e0\u6b64\u8fd4\u56de\u7c7b\u578b\u4e5f\u5e94\u8be5\u662fconst\u5f15\u7528\n</code></pre> \u5047\u8bbe\u8981\u5bf9stock1\u4e0estock2\u8fdb\u884c\u6bd4\u8f83\uff0c\u53ef\u4ee5\u91c7\u7528\uff1a <pre><code>(\u65b9\u6cd51) top = stock1.topval(stock2); // \u663e\u5f0f\u8bbf\u95eestock2\uff0c\u9690\u5f0f\u8bbf\u95eestock1\n(\u65b9\u6cd52) top = stock2.topval(stock1); // \u663e\u5f0f\u8bbf\u95eestock1\uff0c\u9690\u5f0f\u8bbf\u95eestock2\n</code></pre></p> <p>\u73b0\u5728\u95ee\u9898\u53c8\u6765\u4e86\uff0c\u6ce8\u610ftopval()\u7684\u5b9e\u73b0\uff1a <pre><code>const Stock&amp; Stock::topval(const Stock&amp; s) const\n{\n    if(s.total_val &gt; total_val) return s;\n    else return ?????;\n}\n\n[1] s.total_val\u662f \u4f5c\u4e3a\u53c2\u6570\u7684\u4f20\u9012\u5bf9\u8c61 \u7684\u603b\u503c\uff1btotal_val\u662f \u7528\u6765\u8c03\u7528\u8be5\u65b9\u6cd5\u7684\u5bf9\u8c61 \u7684\u603b\u503c\n[2] \u95ee\u9898\u5728\u4e8e\u5982\u4f55\u79f0\u547c ?????\n</code></pre></p> <p>\u30102\u3011\u89e3\u51b3\u65b9\u6cd5 \u53ca \u77e5\u8bc6\u5f15\u5165\uff1a</p> <p>this\u6307\u9488\uff1a\u6307\u5411\u7528\u6765\u8c03\u7528\u6210\u5458\u51fd\u6570\u7684\u5bf9\u8c61 \u6240\u6709\u7684\u7c7b\u65b9\u6cd5\u90fd\u5c06this\u6307\u9488\u8bbe\u7f6e\u4e3a \u8c03\u7528\u5b83\u7684\u5bf9\u8c61 \u7684\u5730\u5740</p> <p>eg\uff1a \u8fd9\u6837\u7684\u8bdd\uff0cstock1.topval ( stock2 ); \u4e2d\uff0c\u5c06this\u8bbe\u7f6e\u4e3astock1\u5bf9\u8c61\u7684\u5730\u5740\uff0c\u4f7f\u5f97\u8fd9\u4e2a\u6307\u9488\u53ef\u7528\u4e8e topval() \u65b9\u6cd5 \u51fd\u6570\u4e2d\u7684 total_val \u4e5f\u53ea\u662f this-&gt;total_val \u7684\u7b80\u5199</p> <p>\u6bcf\u4e2a\u6210\u5458\u51fd\u6570\uff08\u5305\u62ec\u6784\u9020\u51fd\u6570\u4e0e\u6790\u6784\u51fd\u6570\uff09\u90fd\u6709\u4e00\u4e2athis\u6307\u9488\uff0c\u6307\u5411\u8c03\u7528\u5bf9\u8c61 \uff081\uff09\u8981\u5f15\u7528\u6574\u4e2a\u8c03\u7528\u5bf9\u8c61\uff1a\u4f7f\u7528\u8868\u8fbe\u5f0f *this \uff082\uff09\u51fd\u6570\u540e\u9762\u7684const\u5c06this\u9650\u5b9a\u6210const\uff0c\u8fd9\u6837\u7684\u8bdd\u5c31\u4e0d\u80fd\u4f7f\u7528this\u6765\u4fee\u6539\u5bf9\u8c61\u7684\u503c <pre><code>const Stock&amp; Stock::topval(const Stock&amp; s) const\n{\n    if(s.total_val &gt; total_val) return s;\n    else return *this*;\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#6_1","title":"6\uff09\u5bf9\u8c61\u6570\u7ec4","text":"<p>\u65b9\u6848\uff1a \uff081\uff09\u4f7f\u7528\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u521b\u5efa\u6570\u7ec4\u5143\u7d20 \uff082\uff09\u82b1\u62ec\u53f7\u5185\u7684\u6784\u9020\u51fd\u6570\u5c06\u521b\u5efa\u4e34\u65f6\u5bf9\u8c61\u3010\u6570\u7ec4\u5bf9\u8c61\u7684\u6784\u9020\u51fd\u6570\u5c06\u5305\u62ec\u5bf9\u6bcf\u4e2a\u5143\u7d20\u5355\u72ec\u8c03\u7528\u7684\u6784\u9020\u51fd\u6570\u3011 \uff083\uff09\u5c06\u4e34\u65f6\u5bf9\u8c61\u4e2d\u7684\u5185\u5bb9\u590d\u5236\u5230\u76f8\u5e94\u7684\u5143\u7d20\u4e2d \u56e0\u6b64\u60f3\u8981\u521b\u5efa \u7c7b\u5bf9\u8c61\u6570\u7ec4 \uff0c\u5219\u8fd9\u4e2a\u7c7b\u5fc5\u987b\u8981\u6709\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <pre><code>Stock hbx[4];-\n-------------------------------------------------\nhbx[0].update();\nhbx[3].show();\nconst Stock&amp; tops = hbx[2].topval( hbx[1] );\n-------------------------------------------------\nconst int STKS = 4;\nStock stocks[STKS] = {\n    Stock(\"jhdsjds\",12.5,20),\n    Stock(\"asdnlj\",200,2.0),\n    Stock(\"adafs\",130,1.25),\n    Stock(\"jhfgjfncg\",60,6.5)\n};\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#7","title":"7\uff09\u7c7b\u4f5c\u7528\u57df","text":"<p>\u30101\u3011\u5728\u7c7b\u4e2d\u5b9a\u4e49\u7684\u540d\u79f0\uff08\u7c7b\u6570\u636e\u6210\u5458\u540d and \u7c7b\u6210\u5458\u51fd\u6570\u540d\uff09\u7684\u4f5c\u7528\u57df\u4e3a\u6574\u4e2a\u7c7b\uff0c\u5b83\u4eec\u53ea\u5728\u8be5\u7c7b\u4e2d\u662f\u5df2\u77e5\u7684\uff0c\u5728\u7c7b\u5916\u662f\u4e0d\u53ef\u77e5\u7684</p> <p>\u30102\u3011\u7c7b\u4f5c\u7528\u57df\u610f\u5473\u7740\u4e0d\u80fd\u4ece\u5916\u90e8\u76f4\u63a5\u8bbf\u95ee\u7c7b\u7684\u6210\u5458\u3002\u8981\u60f3\u8c03\u7528\u516c\u6709\u6210\u5458\u51fd\u6570\uff0c\u5fc5\u987b\u901a\u8fc7\u5bf9\u8c61 <pre><code>Stock sleeper(\"assad\",100,0.25);  // create object\nsleeper.show();  // use object to invoke a member_function\nshow();  // invalid !  ---cannot call method directly\n</code></pre></p> <p>\u30103\u3011\u5b9a\u4e49\u6210\u5458\u51fd\u6570\u65f6\uff0c\u5fc5\u987b\u4f7f\u7528\u7c7b\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26 <pre><code>void Stock::update(double price)\n{\n    ...\n}\n</code></pre></p> <p>\u30104\u3011\u5728\u7c7b\u58f0\u660eor\u6210\u5458\u51fd\u6570\u5b9a\u4e49\u4e2d\uff0c\u53ef\u4ee5\u4f7f\u7528\u672a\u4fee\u9970\u7684\u6210\u5458\u540d\u79f0 [ \u56e0\u4e3a\u540d\u79f0\u7684\u4f5c\u7528\u57df\u5728\u7c7b\u5185\uff0c\u8fd9\u51e0\u4e2a\u4e00\u5bb6\u4eb2 ]  <pre><code>class IK \n{\nprivate:\n    int fuss;\npublic:\n    IK(int f = 9) {fuss = f;}  //\u7c7b\u5185\u76f4\u63a5\u5b9a\u4e49\u6210\u5458\u51fd\u6570\n    void ViewIK() const;       //\u7c7b\u5916\u5b9a\u4e49\u6210\u5458\u51fd\u6570\u3010\u5728\u7c7b\u5185\u53ea\u58f0\u660e\uff01\u3011\n};\n\nvoid IK::ViewIK() const        //\u7c7b\u5916\u5b9a\u4e49\u6210\u5458\u51fd\u6570\u3010\u8981\u52a0\u7c7b\u4f5c\u7528\u57df\u89e3\u6790\u7b26\u3011\n{\n    cout &lt;&lt; fuss &lt;&lt;endl;\n}\n......\n\nint main()\n{\n    ......\n}\n</code></pre></p> <p>\u30105\u3011\u5982\u4f55\u5728\u7c7b\u4e2d\u521b\u5efa\u4e00\u4e2a\u7531\u6240\u6709\u5bf9\u8c61\u5171\u4eab\u7684\u5e38\u91cf\uff1f \uff081\uff09\u95ee\u9898\u5f15\u5165\uff1a <pre><code>class Bakery\n{\nprivate:\n    const int M = 12;\n    double costs[M];\n......\n}\n</code></pre> \u8fd9\u6837\u4e0d\u884c\uff01\u56e0\u4e3a\u58f0\u660e\u7c7b\u53ea\u662f\u63cf\u8ff0\u4e86\u5bf9\u8c61\u7684\u5f62\u5f0f\uff0c\u5e76\u6ca1\u6709\u521b\u5efa\u5bf9\u8c61\u3002\u56e0\u6b64\u5728\u521b\u5efa\u5bf9\u8c61\u4e4b\u524d\uff0c\u5c06\u6ca1\u6709\u7528\u4e8e\u5b58\u50a8\u503c\u7684\u7a7a\u95f4\uff01</p> <p>\uff082\uff09\u95ee\u9898\u89e3\u51b3\uff1a <pre><code>class Bakery\n{\nprivate:\n    static const int M = 12;\n    double costs[M];\n......\n}\n\n\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u540d\u4e3a M \u7684\u53d8\u91cf\uff0c\u8be5\u53d8\u91cf\u5c06\u4e0e\u5176\u4ed6\u9759\u6001\u53d8\u91cf\u5b58\u50a8\u5728\u4e00\u8d77\uff0c\u800c\u4e0d\u662f\u5b58\u50a8\u5728\u5bf9\u8c61\u4e2d\n\u56e0\u6b64\u8fd9\u4e2a M \u5e38\u91cf \u5c06\u88ab\u6240\u6709Bakery\u5bf9\u8c61\u5171\u4eab\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#8adt","title":"8\uff09\u62bd\u8c61\u6570\u636e\u7c7b\u578b\uff08ADT\uff09","text":"<p>\u4ee5stack\u4f5c\u4f8b\u5b50\uff1a <pre><code>// stack.h -- class definition for the stack ADT\n#ifndef STACK_H_\n#define STACK_H_\ntypedef unsigned long Item;\nclass Stack\n{\nprivate:\n\u00a0 \u00a0 enum {MAX = 10}; \u00a0 \u00a0// constant specific to class\n\u00a0 \u00a0 Item items[MAX]; \u00a0 \u00a0// holds stack items\n\u00a0 \u00a0 int top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// index for top stack item\npublic:\n\u00a0 \u00a0 Stack();\n\u00a0 \u00a0 bool isempty() const;\n\u00a0 \u00a0 bool isfull() const;\n\u00a0 \u00a0 // push() returns false if stack already is full, true otherwise\n\u00a0 \u00a0 bool push(const Item &amp; item); \u00a0 // add item to stack\n\u00a0 \u00a0 // pop() returns false if stack already is empty, true otherwise\n\u00a0 \u00a0 bool pop(Item &amp; item); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// pop top into item\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/#stackcpp-stack-member-functions-include-stackh-stackstack-create-an-empty-stack-top-0-bool-stackisempty-const-return-top-0-bool-stackisfull-const-return-top-max-bool-stackpushconst-item-item-if-top-max-itemstop-item-return-true-else-return-false-bool-stackpopitem-item-if-top-0-item-items-top-return-true-else-return-false","title":"<pre><code>// stack.cpp -- Stack member functions\n#include \"stack.h\"\nStack::Stack() \u00a0 \u00a0// create an empty stack\n{\n\u00a0 \u00a0 top = 0;\n}\n\nbool Stack::isempty() const\n{\n\u00a0 \u00a0 return top == 0;\n}\n\nbool Stack::isfull() const\n{\n\u00a0 \u00a0 return top == MAX;\n}\n\nbool Stack::push(const Item &amp; item)\n{\n\u00a0 \u00a0 if (top &lt; MAX)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 items[top++] = item;\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n\nbool Stack::pop(Item &amp; item)\n{\n\u00a0 \u00a0 if (top &gt; 0)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 item = items[--top];\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n</code></pre>","text":"<pre><code>// stacker.cpp -- testing the Stack class\n#include &lt;iostream&gt;\n#include &lt;cctype&gt; \u00a0// or ctype.h\n#include \"stack.h\"\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 Stack st; // create an empty stack\n\u00a0 \u00a0 char ch;\n\u00a0 \u00a0 unsigned long po;\n\u00a0 \u00a0 cout &lt;&lt; \"Please enter A to add a purchase order,\\n\"\n\u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"P to process a PO, or Q to quit.\\n\";\n\u00a0 \u00a0 while (cin &gt;&gt; ch &amp;&amp; toupper(ch) != 'Q')\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 while (cin.get() != '\\n') \u00a0\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0 \u00a0 \u00a0 if (!isalpha(ch))\n\u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; '\\a';\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 switch(ch)\n\u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0case 'A':\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0case 'a': cout &lt;&lt; \"Enter a PO number to add: \";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; po;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0if (st.isfull())\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"stack already full\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0else\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0   \u00a0 \u00a0 \u00a0 \u00a0 \u00a0st.push(po);\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0break;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0case 'P':\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0case 'p': if (st.isempty())\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"stack already empty\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0else {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0st.pop(po);\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"PO #\" &lt;&lt; po &lt;&lt; \" popped\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0}\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0break;\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Please enter A to add a purchase order,\\n\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"P to process a PO, or Q to quit.\\n\";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; \"Bye\\n\";\n\u00a0 \u00a0 return 0;\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/","title":"Chapter11\u4f7f\u7528\u7c7b","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#1","title":"1\uff09\u8fd0\u7b97\u7b26\u91cd\u8f7d","text":"<p>[1] \u683c\u5f0f\uff1aoperator op ( argument-list ) <pre><code>operator+ ()\noperator* ()\noperator[] ()   \n\nps: op \u5fc5\u987b\u662f\u6709\u610f\u4e49\u7684c++\u8fd0\u7b97\u7b26\uff0c\u6bd4\u5982 @ \u5c31\u65e0\u6548\n</code></pre></p> <p>[2] \u672c\u8d28\uff1a\u7c7b\u5bf9\u8c61\u76f8\u52a0\u7684\u51fd\u6570\u8868\u793a\u6cd5 <pre><code>eg\uff1aSalesperson\u7c7b\u91cd\u8f7d\u4e86\u4e00\u4e2a+\u8fd0\u7b97\u7b26\nd2 = sid + sara;\n&lt;=&gt;\nd2 = sid.operator+ (sara);\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#1_1","title":"\u30101\u3011\u5b9e\u6218\u5c55\u793a\u8bf4\u660e\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#1-sum","title":"\uff081\uff09\u5e38\u89c4\u64cd\u4f5c\uff1a\u3010\u6ce8\u610f\u51fd\u6570 sum( ) \u3011","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#mytime0h-time-class-before-operator-overloading-ifndef-mytime0_h_-define-mytime0_h_-class-time-private-int-hours-int-minutes-public-time-timeint-h-int-m-0-void-addminint-m-void-addhrint-h-void-resetint-h-0-int-m-0-const-time-sumconst-time-t-const-void-show-const-endif","title":"<pre><code>// mytime0.h -- Time class before operator overloading\n#ifndef MYTIME0_H_\n#define MYTIME0_H_\nclass Time\n{\nprivate:\n\u00a0 \u00a0 int hours;\n\u00a0 \u00a0 int minutes;\npublic:\n\u00a0 \u00a0 Time();                           // \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n\u00a0 \u00a0 Time(int h, int m = 0);           // \u6784\u9020\u51fd\u6570\n\u00a0 \u00a0 void AddMin(int m);               \n\u00a0 \u00a0 void AddHr(int h);\n\u00a0 \u00a0 void Reset(int h = 0, int m = 0);\n\u00a0 \u00a0 const Time Sum(const Time &amp; t) const;\n\u00a0 \u00a0 void Show() const;\n};\n#endif\n</code></pre>","text":"<p><pre><code>// mytime0.cpp \u00a0-- implementing Time methods\n#include &lt;iostream&gt;\n#include \"mytime0.h\"\nTime::Time()                   \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 hours = minutes = 0;\n}\n\nTime::Time(int h, int m )      \u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 hours = h;\n\u00a0 \u00a0 minutes = m;\n}\n\nvoid Time::AddMin(int m)       min\u76f8\u52a0\u51fd\u6570\n{\n\u00a0 \u00a0 minutes += m;\n\u00a0 \u00a0 hours += minutes / 60;     poi\uff01\n\u00a0 \u00a0 minutes %= 60;             poi\uff01\n}\n\nvoid Time::AddHr(int h)        hour\u76f8\u52a0\u51fd\u6570\n{\n\u00a0 \u00a0 hours += h;\n}\n\nvoid Time::Reset(int h, int m) \u91cd\u65b0\u8bbe\u7f6e\u51fd\u6570\n{\n\u00a0 \u00a0 hours = h;\n\u00a0 \u00a0 minutes = m;\n}\n\nconst Time Time::Sum(const Time &amp; t) const     \u6c42\u65f6\u95f4\u603b\u91cf(hours,minutes)\u51fd\u6570\n{\n\u00a0 \u00a0 Time sum;\n\u00a0 \u00a0 sum.minutes = minutes + t.minutes;\n\u00a0 \u00a0 sum.hours = hours + t.hours + sum.minutes / 60;\n\u00a0 \u00a0 sum.minutes %= 60;\n\u00a0 \u00a0 return sum;\n}\n\nvoid Time::Show() const                       \u5c55\u793a\u51fd\u6570\n{\n\u00a0 \u00a0 std::cout &lt;&lt; hours &lt;&lt; \" hours, \" &lt;&lt; minutes &lt;&lt; \" minutes\";\n}\n</code></pre> analysis\uff1a\u770b\u4e00\u4e0bSum()\u51fd\u6570\u7684\u4ee3\u7801\uff1a 1\uff09\u6ce8\u610f\u8fd9\u91cc\u53c2\u6570\u662f\u5f15\u7528\uff1a \u76ee\u7684\u662f\u63d0\u9ad8\u6548\u7387\uff0c\u5982\u679c\u6309\u503c\u4f20\u9012Time\u5bf9\u8c61\u4e5f\u53ef\u4ee5\uff0c\u4f46\u662f\u4f20\u9012\u5f15\u7528\u7684\u901f\u5ea6\u4f1a\u66f4\u5feb\uff0c\u4f7f\u7528\u7684\u5185\u5b58\u4f1a\u66f4\u5c11</p> <p>2\uff09\u8fd4\u56de\u503c\u4e0d\u80fd\u662f\u5f15\u7528\uff1a \u56e0\u4e3a\u51fd\u6570\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684Time\u7c7b\u5bf9\u8c61(sum)\u6765\u8868\u793a\u53e6\u5916\u4e24\u4e2aTime\u7c7b\u5bf9\u8c61\u4e4b\u548c\uff0c\u8fd4\u56de\u5bf9\u8c61(\u6b63\u5982\u4e0a\u8ff0\u4ee3\u7801\u4e2d)\u5c06\u521b\u5efa\u5bf9\u8c61\u7684\u526f\u672c\uff0c\u800c\u8c03\u7528\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528\u5b83\u3002\u7136\u800c\uff0c\u5982\u679c\u8fd4\u56de\u7c7b\u578b\u662fTime&amp;\uff0c\u5219\u5f15\u7528\u7684\u662fsum\u5bf9\u8c61\u672c\u4f53\uff01\u4f46\u662fsum\u5bf9\u8c61\u672c\u8eab\u662f\u5c40\u90e8\u53d8\u91cf\uff0c\u5728\u51fd\u6570\u7ed3\u675f\u65f6\u5c31\u88ab\u5220\u9664\uff0c\u56e0\u6b64\u5f15\u7528\u5c06\u6307\u5411\u4e00\u4e2a\u4e0d\u5b58\u5728\u7684\u5bf9\u8c61\u3002\u4f7f\u7528\u8fd4\u56de\u7c7b\u578bTime\u610f\u5473\u7740\u7a0b\u5e8f\u5728\u5220\u9664sum\u4e4b\u524d\u6784\u9020\u5b83\u7684\u62f7\u8d1d\uff0c\u8c03\u7528\u51fd\u6570\u5c06\u5f97\u5230\u8be5\u62f7\u8d1d\u3002</p> <p>3\uff09const Time Time::Sum(const Time &amp; t) const \u8bf4\u660e\uff1a <pre><code>  const Time   Time::Sum(const Time &amp; t)      const\n ------------  ---------------------------   ------\n   \u8fd4\u56de\u503c\u7c7b\u578b   \u51fd\u6570\u5934\uff08\u53c2\u6570\uff09               \u4e0d\u6539\u53d8\u88ab\u5f15\u7528\u5bf9\u8c61\n               \u8981\u52a0\u4f5c\u7528\u57df\u7b26\u8bf4\u660e\u5c5e\u4e8e\u7c7b\n</code></pre></p> <pre><code>// usetime0.cpp -- using the first draft of the Time class\n// compile usetime0.cpp and mytime0.cpp together\n#include &lt;iostream&gt;\n#include \"mytime0.h\"\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 Time planning;\n\u00a0 \u00a0 Time coding(2, 40);\n\u00a0 \u00a0 Time fixing(5, 55);\n\u00a0 \u00a0 Time total;\n\n\u00a0 \u00a0 cout &lt;&lt; \"planning time = \";\n\u00a0 \u00a0 planning.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"coding time = \";\n\u00a0 \u00a0 coding.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"fixing time = \";\n\u00a0 \u00a0 fixing.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 total = coding.Sum(fixing);\n\u00a0 \u00a0 cout &lt;&lt; \"coding.Sum(fixing) = \";\n\u00a0 \u00a0 total.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#2sum","title":"\uff082\uff09\u57fa\u4e8e\u4e0a\u8ff0sum()\u51fd\u6570\u8bf4\u660e\u4f55\u4e3a\u201c+\u91cd\u8f7d\u201c\uff1a","text":"<p>\u53ea\u9700\u8981\u5c06sum()\u6539\u6210operator+ (...)\u5373\u53ef <pre><code>// mytime1.h -- Time class before operator overloading\n#ifndef MYTIME1_H_\n#define MYTIME1_H_\nclass Time\n{\nprivate:\n\u00a0 \u00a0 int hours;\n\u00a0 \u00a0 int minutes;\npublic:\n\u00a0 \u00a0 ......\n\u00a0 \u00a0 Time operator+(const Time &amp; t) const;\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#time-timeoperatorconst-time-t-const-time-sum-summinutes-minutes-tminutes-sumhours-hours-thours-summinutes-60-summinutes-60-return-sum","title":"<pre><code>......\nTime Time::operator+(const Time &amp; t) const\n{\n\u00a0 \u00a0 Time sum;\n\u00a0 \u00a0 sum.minutes = minutes + t.minutes;\n\u00a0 \u00a0 sum.hours = hours + t.hours + sum.minutes / 60;\n\u00a0 \u00a0 sum.minutes %= 60;\n\u00a0 \u00a0 return sum;\n}\n</code></pre>","text":"<p><pre><code>// usetime1.cpp -- using the second draft of the Time class\n// compile usetime1.cpp and mytime1.cpp together\n#include &lt;iostream&gt;\n#include \"mytime1.h\"\n\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 Time planning;\n\u00a0 \u00a0 Time coding(2, 40);\n\u00a0 \u00a0 Time fixing(5, 55);\n\u00a0 \u00a0 Time total;\n\n\u00a0 \u00a0 cout &lt;&lt; \"planning time = \";\n\u00a0 \u00a0 planning.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"coding time = \";\n\u00a0 \u00a0 coding.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"fixing time = \";\n\u00a0 \u00a0 fixing.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 total = coding + fixing;               \u91cd\u8f7d+ \u7684\u76f4\u63a5\u4f7f\u7528\n\u00a0 \u00a0 // operator notation\n\u00a0 \u00a0 cout &lt;&lt; \"coding + fixing = \";\n\u00a0 \u00a0 total.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 Time morefixing(3, 28);\n\u00a0 \u00a0 cout &lt;&lt; \"more fixing time = \";\n\u00a0 \u00a0 morefixing.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 total = morefixing.operator+(total);   \u91cd\u8f7d+ \u7684\u539f\u7406\u4f7f\u7528\n\u00a0 \u00a0 // function notation\n\u00a0 \u00a0 cout &lt;&lt; \"morefixing.operator+(total) = \";\n\u00a0 \u00a0 total.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre> analysis\uff1a \u548csum()\u4e00\u6837\uff0coperator+()\u4e5f\u662f\u7531Time\u7c7b\u5bf9\u8c61\u8c03\u7528\u7684\uff1a <pre><code>total = coding.operator+ (fixing);\n&lt;=&gt;\ntotal = coding + fixing;\n</code></pre></p> <p>ps: \u5728\u8fd0\u7b97\u7b26\u8868\u793a\u6cd5\u4e2d\uff0c\u8fd0\u7b97\u7b26\u5de6\u4fa7\u7684\u5bf9\u8c61\u662f\u8c03\u7528\u5bf9\u8c61[\u9690\u5f0f]\uff0c\u53f3\u4fa7\u7684\u5bf9\u8c61\u662f\u4f5c\u4e3a\u53c2\u6570\u88ab\u4f20\u9012\u7684\u5bf9\u8c61[\u663e\u5f0f]\uff0c\u6ce8\u610f\u987a\u5e8f\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#3","title":"\uff083\uff09\u591a\u5bf9\u8c61\u76f8\u52a0\u7684\u672c\u8d28\uff1a","text":"<p>![[Pasted image 20230801095912.png]] ![[Pasted image 20230801095923.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#4sum-","title":"\uff084\uff09\u7c7b\u6bd4\u4e0a\u8ff0sum()\u51fd\u6570\u8003\u5bdf\u5176\u4ed6\u201c\u91cd\u8f7d\u201c\uff1a - \u4e0e *","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#mytime2h-time-class-after-operator-overloading-ifndef-mytime2_h_-define-mytime2_h_-class-time-private-int-hours-int-minutes-public-time-operator-const-time-t-const-time-operatordouble-n-const-endif","title":"<pre><code>// mytime2.h -- Time class after operator overloading\n#ifndef MYTIME2_H_\n#define MYTIME2_H_\nclass Time\n{\nprivate:\n\u00a0 \u00a0 int hours;\n\u00a0 \u00a0 int minutes;\npublic:\n\u00a0 \u00a0 ...\n\u00a0 \u00a0 Time operator-(const Time &amp; t) const;\n\u00a0 \u00a0 Time operator*(double n) const;\n    ...\n};\n#endif\n</code></pre>","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#time-timeoperator-const-time-t-const-time-diff-int-tot1-tot2-tot1-tminutes-60-thours-tot2-minutes-60-hours-diffminutes-tot2-tot1-60-diffhours-tot2-tot1-60-return-diff-time-timeoperatordouble-mult-const-time-result-long-totalminutes-hours-mult-60-minutes-mult-resulthours-totalminutes-60-resultminutes-totalminutes-60-return-result","title":"<pre><code>Time Time::operator-(const Time &amp; t) const\n{\n\u00a0 \u00a0 Time diff;\n\u00a0 \u00a0 int tot1, tot2;\n\u00a0 \u00a0 tot1 = t.minutes + 60 * t.hours;\n\u00a0 \u00a0 tot2 = minutes + 60 * hours;\n\u00a0 \u00a0 diff.minutes = (tot2 - tot1) % 60;\n\u00a0 \u00a0 diff.hours = (tot2 - tot1) / 60;\n\u00a0 \u00a0 return diff;\n}\n\nTime Time::operator*(double mult) const\n{\n\u00a0 \u00a0 Time result;\n\u00a0 \u00a0 long totalminutes = hours * mult * 60 + minutes * mult;\n\u00a0 \u00a0 result.hours = totalminutes / 60;\n\u00a0 \u00a0 result.minutes = totalminutes % 60;\n\u00a0 \u00a0 return result;\n}\n</code></pre>","text":"<pre><code>// usetime2.cpp -- using the third draft of the Time class\n// compile usetime2.cpp and mytime2.cpp together\n#include &lt;iostream&gt;\n#include \"mytime2.h\"\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 Time weeding(4, 35);\n\u00a0 \u00a0 Time waxing(2, 47);\n\u00a0 \u00a0 Time total;\n\u00a0 \u00a0 Time diff;\n\u00a0 \u00a0 Time adjusted;\n\n\u00a0 \u00a0 cout &lt;&lt; \"weeding time = \";\n\u00a0 \u00a0 weeding.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"waxing time = \";\n\u00a0 \u00a0 waxing.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"total work time = \";\n\u00a0 \u00a0 total = weeding + waxing; \u00a0 // use operator+()\n\u00a0 \u00a0 total.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 diff = weeding - waxing; \u00a0 \u00a0// use operator-()\n\u00a0 \u00a0 cout &lt;&lt; \"weeding time - waxing time = \";\n\u00a0 \u00a0 diff.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\n\u00a0 \u00a0 adjusted = total * 1.5; \u00a0 \u00a0 \u00a0// use operator+()\n\u00a0 \u00a0 cout &lt;&lt; \"adjusted work time = \";\n\u00a0 \u00a0 adjusted.Show();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 // std::cin.get(); \u00a0 \u00a0\n\u00a0 \u00a0 return 0;\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#2","title":"\u30102\u3011\u91cd\u8f7d\u7684\u9650\u5236\uff1a","text":"<p>![[Pasted image 20230801100409.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#2_1","title":"2\uff09\u53cb\u5143","text":"<p>\u30101\u3011\u7b80\u4ecb\uff1a c++\u63a7\u5236\u5bf9\u7c7b\u5bf9\u8c61\u79c1\u6709\u90e8\u5206\u7684\u8bbf\u95ee\uff0c\u901a\u8fc7\u8ba9\u51fd\u6570\u6210\u4e3a\u7c7b\u7684\u53cb\u5143\uff0c\u53ef\u4ee5\u8d4b\u4e88\u8be5\u51fd\u6570\u4e0e\u7c7b\u6210\u5458\u51fd\u6570\u76f8\u540c\u7684\u8bbf\u95ee\u6743\u9650</p> <p>\u30102\u3011\u95ee\u9898\u5f15\u5165\uff1a ![[Pasted image 20230801102210.png]]</p> <p>\u30103\u3011\u521b\u5efa\u53cb\u5143\uff1a \uff081\uff09\u5c06\u5176\u539f\u578b\u653e\u5728\u7c7b\u58f0\u660e\u4e2d\u7684\uff0c\u5e76\u5728\u539f\u578b\u58f0\u660e\u4e4b\u524d\u52a0\u4e0a \u5173\u952e\u5b57friend <pre><code>class Time\n{\nprivate:\n    ...\npublic:\n    ......\n    friend Time operator* (double m,const Time&amp; t)\n};\n\n\u542b\u4e49\uff1a\n\uff081\uff09\u867d\u7136 operator* \u51fd\u6570\u662f\u5728\u7c7b\u4e2d\u58f0\u660e\u7684\uff0c\u4f46\u5b83\u4e0d\u662f\u6210\u5458\u51fd\u6570\uff0c\u56e0\u6b64\u4e0d\u80fd\u4f7f\u7528\u6210\u5458\u8fd0\u7b97\u7b26\u6765\u4f7f\u7528\n\uff082\uff09\u867d\u7136 operator* \u4e0d\u662f\u6210\u5458\u51fd\u6570\uff0c\u4f46\u5b83\u4e0e\u6210\u5458\u51fd\u6570\u7684\u8bbf\u95ee\u6743\u9650\u76f8\u540c\n</code></pre></p> <p>\uff082\uff09\u7f16\u5199\u51fd\u6570\u5b9a\u4e49 ==\u3010\u7c7b\u5185\u58f0\u660e+\u7c7b\u5916\u5b9a\u4e49\u3011== [1] \u56e0\u4e3a\u5b83\u4e0d\u662f\u6210\u5458\u51fd\u6570\uff0c\u6240\u4ee5\u4e0d\u8981\u7528 Time: : \u9650\u5b9a\u7b26\uff08\u9650\u5b9a\u7b26\u610f\u601d\u662f \u7c7b\u81ea\u5bb6\u4eba \u5c5e\u6027\uff0c\u53cb\u5143\u51fd\u6570\u672c\u8d28\u4e0a\u8fd8\u662f\u5916\u6765\u4eba\u53e3\uff09 [2] \u5b9a\u4e49\u4e2d\u4e0d\u7528\u5199friend <pre><code>Time operator* (double m,const Time&amp; t)\n{\n    Time result;\n    long total_min = t.hours*m*60 + t.minutes*m;\n    result.hours = total_min / 60; \n    result.minutes = total_min % 60; \n    return result;\n}\n</code></pre></p> <p>==\u3010\u7c7b\u5185\u58f0\u660e+\u7c7b\u5185\u5b9a\u4e49\u3011== [1] \u6b64\u65f6\uff1a\u58f0\u660e ( \u4e5f\u53eb\u4f5c\uff1a\u539f\u578b ) \u4e0e\u5b9a\u4e49\u540c\u6b65\uff0c\u7c7b\u5185\u201c\u58f0\u660e+\u5b9a\u4e49\u201d\u65f6\u8981friend <pre><code>class Time\n{\nprivate:\n    ...\npublic:\n    friend Time operator* (double m,const Time&amp; t)\n    {\n        return t*m;\n    }\n    ......\n};\n</code></pre></p> <p>\u30104\u3011\u5e38\u7528\u53cb\u5143\uff1a\u91cd\u8f7d&lt;&lt;\u8fd0\u7b97\u7b26 \uff081\uff09\u95ee\u9898\u5f15\u5165\uff1a ![[Pasted image 20230801105722.png]] ![[Pasted image 20230801105736.png]]</p> <p>\uff082\uff09\u91cd\u8f7d&lt;&lt;\u7684\u7248\u672c\u4e00\uff1a</p> <p>\u8981\u8ba9Time\u7c7b\u77e5\u6653\u4f7f\u7528cout\uff0c\u5fc5\u987b\u4f7f\u7528\u53cb\u5143\u51fd\u6570\uff1a</p> <p>\u5e38\u89c4\u8c03\u7528\u662f\uff1acout &lt;&lt; trip ; \u5982\u679c\u4f7f\u7528\u4e00\u4e2aTime\u7c7b\u6210\u5458\u51fd\u6570\u6765\u91cd\u8f7d&lt;&lt;\uff0cTime\u5bf9\u8c61\u4f1a\u662f\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\uff0c\u8fd9\u610f\u5473\u7740\u5fc5\u987b\u5199\u6210\u8fd9\u79cd\u5f62\u5f0f\uff1atrip &lt;&lt; cout; that's rediculous! \u4f46\u662f\u901a\u8fc7\u53cb\u5143\u51fd\u6570\u5c31\u53ef\u4ee5\u5199\u51fa\u5408\u7406\u5f62\u5f0f\uff1a <pre><code>void operator&lt;&lt; (ostream&amp; os , const Time&amp; t)\n{\n    os &lt;&lt; t.hours &lt;&lt; \"asjdhksadgh\" &lt;&lt; t.minutes &lt;&lt; \"sahk\";\n    //\u6ce8\u610f\uff1a\u8fd4\u56de\u503c\u662fvoid\uff0c\u56e0\u6b64\u6ca1\u6709return!\n}\n</code></pre> \u5982\u6b64\u53ef\u4ee5\u5199\u51fa: cout &lt;&lt; trip;</p> <p>ps\uff1a \u30101\u3011\u8fd9\u662fTime\u7c7b\u7684\u53cb\u5143\u51fd\u6570\uff0c\u4f46\u4e0d\u4e00\u5b9a\u662fostream\u7c7b\u7684\u53cb\u5143\uff08\u539f\u5219\u4e0a\u4e0d\u5141\u8bb8\u4fee\u6539ostream\u7c7b\uff01\uff09 ![[Pasted image 20230801110701.png]]</p> <p>\u30102\u3011\u63a8\u8350\u5199\u6cd5\uff1a\u4f20\u9012\u5f15\u7528\uff01 ![[Pasted image 20230801110833.png]]</p> <p>\uff083\uff09\u91cd\u8f7d&lt;&lt;\u7684\u7248\u672c\u4e8c\uff1a ![[Pasted image 20230801111220.png]] ![[Pasted image 20230801111240.png]]</p> <p>\u683c\u5f0f\uff1a <pre><code>ostream&amp; operator&lt;&lt; (ostream&amp; os , const Time&amp; t)\n{\n    os &lt;&lt; t.hours &lt;&lt; \"asjdhksadgh\" &lt;&lt; t.minutes &lt;&lt; \"sahk\";\n    return os; //\u6ce8\u610f\uff1a\u8fd4\u56de\u503c\u662fostream&amp;\uff0c\u56e0\u6b64\u8981return\uff08cout\u5bf9\u8c61\uff09!\n}\n</code></pre></p> <p>\uff084\uff09\u5b9e\u6218\u5206\u6790\uff1a <pre><code>// mytime3.h -- Time class with friends\n#ifndef MYTIME3_H_\n#define MYTIME3_H_\n#include &lt;iostream\nclass Time\n{\nprivate:\n\u00a0 \u00a0 int hours;\n\u00a0 \u00a0 int minutes;\npublic:\n\u00a0 \u00a0 Time();\n\u00a0 \u00a0 Time(int h, int m = 0);\n\u00a0 \u00a0 void AddMin(int m);\n\u00a0 \u00a0 void AddHr(int h);\n\u00a0 \u00a0 void Reset(int h = 0, int m = 0);\n\u00a0 \u00a0 Time operator+(const Time &amp; t) const;\n\u00a0 \u00a0 Time operator-(const Time &amp; t) const;\n\u00a0 \u00a0 Time operator*(double n) const;\n\u00a0 \u00a0 friend Time operator*(double m, const Time &amp; t)       // \u4f5c\u4e3a\u5185\u8054\u51fd\u6570\n\u00a0 \u00a0 \u00a0 \u00a0 { return t * m; } \u00a0 // inline definition\n\u00a0 \u00a0 friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t);\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#mytime3cpp-implementing-time-methods-include-mytime3h-timetime-hours-minutes-0-timetimeint-h-int-m-hours-h-minutes-m-void-timeaddminint-m-minutes-m-hours-minutes-60-minutes-60-void-timeaddhrint-h-hours-h-void-timeresetint-h-int-m-hours-h-minutes-m-time-timeoperatorconst-time-t-const-time-sum-summinutes-minutes-tminutes-sumhours-hours-thours-summinutes-60-summinutes-60-return-sum-time-timeoperator-const-time-t-const-time-diff-int-tot1-tot2-tot1-tminutes-60-thours-tot2-minutes-60-hours-diffminutes-tot2-tot1-60-diffhours-tot2-tot1-60-return-diff-time-timeoperatordouble-mult-const-time-result-long-totalminutes-hours-mult-60-minutes-mult-resulthours-totalminutes-60-resultminutes-totalminutes-60-return-result-stdostream-operatorstdostream-os-const-time-t-os-thours-hours-tminutes-minutes-return-os","title":"<pre><code>// mytime3.cpp \u00a0-- implementing Time methods\n#include \"mytime3.h\"\nTime::Time()\n{\n\u00a0 \u00a0 hours = minutes = 0;\n}\n\nTime::Time(int h, int m )\n{\n\u00a0 \u00a0 hours = h;\n\u00a0 \u00a0 minutes = m;\n}\n\nvoid Time::AddMin(int m)\n{\n\u00a0 \u00a0 minutes += m;\n\u00a0 \u00a0 hours += minutes / 60;\n\u00a0 \u00a0 minutes %= 60;\n}\n\nvoid Time::AddHr(int h)\n{\n\u00a0 \u00a0 hours += h;\n}\n\nvoid Time::Reset(int h, int m)\n{\n\u00a0 \u00a0 hours = h;\n\u00a0 \u00a0 minutes = m;\n}\n\nTime Time::operator+(const Time &amp; t) const\n{\n\u00a0 \u00a0 Time sum;\n\u00a0 \u00a0 sum.minutes = minutes + t.minutes;\n\u00a0 \u00a0 sum.hours = hours + t.hours + sum.minutes / 60;\n\u00a0 \u00a0 sum.minutes %= 60;\n\u00a0 \u00a0 return sum;\n}\n\nTime Time::operator-(const Time &amp; t) const\n{\n\u00a0 \u00a0 Time diff;\n\u00a0 \u00a0 int tot1, tot2;\n\u00a0 \u00a0 tot1 = t.minutes + 60 * t.hours;\n\u00a0 \u00a0 tot2 = minutes + 60 * hours;\n\u00a0 \u00a0 diff.minutes = (tot2 - tot1) % 60;\n\u00a0 \u00a0 diff.hours = (tot2 - tot1) / 60;\n\u00a0 \u00a0 return diff;\n}\n\nTime Time::operator*(double mult) const      // \u53cb\u5143\u51fd\u6570\u4f5c\u4e3a\u5185\u8054\u51fd\u6570\n{\n\u00a0 \u00a0 Time result;\n\u00a0 \u00a0 long totalminutes = hours * mult * 60 + minutes * mult;\n\u00a0 \u00a0 result.hours = totalminutes / 60;\n\u00a0 \u00a0 result.minutes = totalminutes % 60;\n\u00a0 \u00a0 return result;\n}\n\nstd::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const Time &amp; t)\n{\n\u00a0 \u00a0 os &lt;&lt; t.hours &lt;&lt; \" hours, \" &lt;&lt; t.minutes &lt;&lt; \" minutes\";\n\u00a0 \u00a0 return os;\n}\n</code></pre>","text":"<pre><code>//usetime3.cpp -- using the fourth draft of the Time class\n// compile usetime3.cpp and mytime3.cpp together\n#include &lt;iostream&gt;\n#include \"mytime3.h\"\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 Time aida(3, 35);\n\u00a0 \u00a0 Time tosca(2, 48);\n\u00a0 \u00a0 Time temp;\n\n\u00a0 \u00a0 cout &lt;&lt; \"Aida and Tosca:\\n\";\n\u00a0 \u00a0 cout &lt;&lt; aida&lt;&lt;\"; \" &lt;&lt; tosca &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 temp = aida + tosca; \u00a0 \u00a0 // operator+()\n\u00a0 \u00a0 cout &lt;&lt; \"Aida + Tosca: \" &lt;&lt; temp &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 temp = aida* 1.17; \u00a0// member operator*()\n\u00a0 \u00a0 cout &lt;&lt; \"Aida * 1.17: \" &lt;&lt; temp &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"10.0 * Tosca: \" &lt;&lt; 10.0 * tosca &lt;&lt; endl;\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#3_1","title":"3\uff09\u7c7b\u7684\u81ea\u52a8\u8f6c\u6362\u548c\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#1c","title":"\uff081\uff09c++\u81ea\u8eab\u7279\u6027\uff1a","text":"<p>[1]   \u5982\u679c\u8fd9\u4e24\u79cd\u7c7b\u578b\u517c\u5bb9\uff0c\u5219c++\u5c06\u81ea\u52a8\u5c06\u8fd9\u4e2a\u503c\u8f6c\u6362\u6210 \u63a5\u6536\u53d8\u91cf \u7684\u7c7b\u578b <pre><code>long count = 8;    // 8 convert to type long\ndouble time = 11;  // 11 convert to type double\nint side = 3.33;   // 3.33 convert to type int 3\n</code></pre> [2]   c++\u8bed\u8a00\u4e0d\u80fd\u81ea\u52a8\u8f6c\u6362\u4e0d\u517c\u5bb9\u7684\u7c7b\u578b <pre><code>int* p = 10;  // invalid\uff01\n\nint* p = (int*) 10; // valid! \u5c0610\u5f3a\u5236\u8f6c\u6362\u6210int\u6307\u9488\u7c7b\u578b( int* )\uff0c\u5c06\u6307\u9488\u8bbe\u7f6e\u4e3a10\uff0c\u81f3\u4e8e\u662f\u5426\u6709\u610f\u4e49\u8fd9\u91cc\u4e0d\u5173\u5fc3\uff01\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#2_2","title":"\uff082\uff09\u7c7b\u4e2d\u7684\u8f6c\u6362\uff1a","text":"<p>\u30101\u3011\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u5c06\u7c7b\u578b\u4e0e \u8be5\u53c2\u6570\u76f8\u540c\u7684\u503c \u8f6c\u6362\u6210\u7c7b\u63d0\u4f9b\u4e86\u84dd\u56fe <pre><code>Stonewt(double lbs); // double-object convert to Stonewt-object\n------------------------------------------------------------------\nStonewt myCat; // create a Stonewt object\nmyCat = 19.6;  // use Stonewt(double) to convert 19.6 to Stonewt\n\n\u4f7f\u7528\u6784\u9020\u51fd\u6570 Stonewt(double) \u6765\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u7684Stonewt\u5bf9\u8c61\uff0c\u5e76\u5c06 19.6 \u4f5c\u4e3a\u521d\u59cb\u5316\u503c\u3002\u968f\u540e\uff0c\u91c7\u7528\u9010\u6210\u5458\u8d4b\u503c\u7684\u65b9\u5f0f\u5c06\u8be5\u4e34\u65f6\u5bf9\u8c61\u7684\u5185\u5bb9\u590d\u5236\u5230 myCat \u4e2d\u3002\u8fd9\u4e00\u8fc7\u7a0b\u53eb\u505a\u9690\u5f0f\u8f6c\u6362\uff08\u81ea\u52a8\u8fdb\u884c\uff09\n</code></pre></p> <p>\u30102\u3011\u53ea\u6709\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u624d\u80fd\u4f5c\u4e3a\u8f6c\u6362\u51fd\u6570 <pre><code>Stonewt(int s,double lbs); // not a conversion func!\n</code></pre></p> <p>\u30103\u3011c++\u589e\u6dfb\u4e86 \u5173\u952e\u5b57explicit \u7528\u4e8e\u5173\u95ed \u201c\u6784\u9020\u51fd\u6570\u7528\u4f5c\u81ea\u52a8\u7c7b\u578b\u8f6c\u6362\u51fd\u6570\u201d\u8fd9\u4e00\u7279\u6027 <pre><code>explicit Stonewt(double hbx);\n</code></pre></p> <p>\u8fd9\u5c06\u5173\u95ed\u4e0a\u8ff0\u7684\u9690\u5f0f\u8f6c\u6362\uff0c\u4f46\u662f\u4ecd\u7136\u5141\u8bb8\u663e\u5f0f\u8f6c\u6362\uff0c\u5373\uff1a\u663e\u5f0f\u5f3a\u5236\u8f6c\u6362 <pre><code>Stonewt myCat;\nmyCat = 19.6;  // invalid\uff01\nmyCat = Stonewt(19.6);  // OK! an explicit conversion [new form]\nmyCat = (Stonewt) 19.6; // OK! an explicit conversion [old form]\n</code></pre></p> <p>\u30104\u3011\u6ce8\u610f\u201d\u4e8c\u4e49\u6027\u201c\uff1a ![[Pasted image 20230801154525.png]] ![[Pasted image 20230801154541.png]]</p> <p>\u30105\u3011\u5f53\u6784\u9020\u51fd\u6570\u53ea\u63a5\u53d7\u4e00\u4e2a\u53c2\u6570\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528\u4e0b\u9762\u7684\u683c\u5f0f\u6765\u521d\u59cb\u5316\u7c7b\u5bf9\u8c61\uff1a <pre><code>Stonewt hbx = 290;\n</code></pre> \u8fd9\u4e0e\u4e4b\u524d\u8bf4\u660e\u7684\u4e24\u7c7b\u6784\u9020\u51fd\u6570\u542b\u4e49\u76f8\u540c\uff01 <pre><code>\u6cd51)   Stonewt hbx(290);\n\u6cd52)   Stonewt hbx = Stonewt(290);\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#3_2","title":"\uff083\uff09\u8f6c\u6362\u51fd\u6570\uff1a","text":"<p>\u30101\u3011\u95ee\u9898\u5f15\u5165\uff1a ![[Pasted image 20230801161858.png]]</p> <p>\u30102\u3011\u521b\u5efa\u5f62\u5f0f\uff1a <pre><code>operator typeName();\n</code></pre> \u6ce8\u610f\uff1a 1\uff09\u8f6c\u6362\u51fd\u6570\u5fc5\u987b\u662f\u7c7b\u65b9\u6cd5\uff0c\u9700\u8981\u901a\u8fc7\u7c7b\u5bf9\u8c61\u8c03\u7528 2\uff09\u8f6c\u6362\u51fd\u6570\u4e0d\u9700\u8981\u6307\u5b9a\u8fd4\u56de\u7c7b\u578b\uff0c\u56e0\u4e3atypeName()\u5199\u7684\u5c31\u662f\u5f85\u8f6c\u6362\u7c7b\u578b 3\uff09\u8f6c\u6362\u51fd\u6570\u4e0d\u80fd\u6709\u53c2\u6570</p> <p>eg: <pre><code>operator double();\noperator int();\n......\n</code></pre></p> <p>\u7a0b\u5e8f\u5206\u6790\uff1a <pre><code>// stonewt1.h -- revised definition for the Stonewt class\n#ifndef STONEWT1_H_\n#define STONEWT1_H_\nclass Stonewt\n{\nprivate:\n\u00a0 \u00a0 enum {Lbs_per_stn = 14}; \u00a0 \u00a0 \u00a0// pounds per stone\n\u00a0 \u00a0 int stone; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// whole stones\n\u00a0 \u00a0 double pds_left; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// fractional pounds\n\u00a0 \u00a0 double pounds; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// entire weight in pounds\npublic:\n\u00a0 \u00a0 Stonewt(double lbs); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// construct from double pounds\n\u00a0 \u00a0 Stonewt(int stn, double lbs); // construct from stone, lbs\n\u00a0 \u00a0 Stonewt(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// default constructor\n\u00a0 \u00a0 ~Stonewt();\n\u00a0 \u00a0 void show_lbs() const; \u00a0 \u00a0 \u00a0 \u00a0// show weight in pounds format\n\u00a0 \u00a0 void show_stn() const; \u00a0 \u00a0 \u00a0 \u00a0// show weight in stone format\n\n// conversion functions           (\u53cd\u8f6c\u51fd\u6570\uff01\uff01\uff01)\n\u00a0 \u00a0 operator int() const;         \u6b64\u51fd\u6570\u76ee\u7684\uff1a\u5b9e\u73b0\u56db\u820d\u4e94\u5165\u529f\u80fd\n\u00a0 \u00a0 operator double() const;      \u6b64\u51fd\u6570\u76ee\u7684\uff1a\u76f4\u63a5\u8fd4\u56de\u8be5\u6d6e\u70b9\u6570\u503c\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/#stonewt1cpp-stonewt-class-methods-conversion-functions-include-iostream-using-stdcout-include-stonewt1h-construct-stonewt-object-from-double-value-stonewtstonewtdouble-lbs-stone-int-lbs-lbs_per_stn-integer-division-pds_left-int-lbs-lbs_per_stn-lbs-intlbs-pounds-lbs-construct-stonewt-object-from-stone-double-values-stonewtstonewtint-stn-double-lbs-stone-stn-pds_left-lbs-pounds-stn-lbs_per_stn-lbs-stonewtstonewt-default-constructor-wt-0-stone-pounds-pds_left-0-stonewtstonewt-destructor-show-weight-in-stones-void-stonewtshow_stn-const-cout-stone-stone-pds_left-poundsn-show-weight-in-pounds-void-stonewtshow_lbs-const-cout-pounds-poundsn-conversion-functions-stonewtoperator-int-const-return-int-pounds-05-stonewtoperator-doubleconst-return-pounds","title":"<pre><code>// stonewt1.cpp -- Stonewt class methods + conversion functions\n#include &lt;iostream&gt;\nusing std::cout;\n#include \"stonewt1.h\"\n// construct Stonewt object from double value\nStonewt::Stonewt(double lbs)\n{\n\u00a0 \u00a0 stone = int (lbs) / Lbs_per_stn; \u00a0 \u00a0// integer division\n\u00a0 \u00a0 pds_left = int (lbs) % Lbs_per_stn + lbs - int(lbs);\n\u00a0 \u00a0 pounds = lbs;\n}\n\n// construct Stonewt object from stone, double values\nStonewt::Stonewt(int stn, double lbs)\n{\n\u00a0 \u00a0 stone = stn;\n\u00a0 \u00a0 pds_left = lbs;\n\u00a0 \u00a0 pounds = \u00a0stn * Lbs_per_stn +lbs;\n}\n\nStonewt::Stonewt() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// default constructor, wt = 0\n{\n\u00a0 \u00a0 stone = pounds = pds_left = 0;\n}\n\nStonewt::~Stonewt() \u00a0 \u00a0 \u00a0 \u00a0 // destructor\n{\n\n}\n\n// show weight in stones\nvoid Stonewt::show_stn() const\n{\n\u00a0 \u00a0 cout &lt;&lt; stone &lt;&lt; \" stone, \" &lt;&lt; pds_left &lt;&lt; \" pounds\\n\";\n}\n\n// show weight in pounds\nvoid Stonewt::show_lbs() const\n{\n\u00a0 \u00a0 cout &lt;&lt; pounds &lt;&lt; \" pounds\\n\";\n}\n\n// conversion functions\nStonewt::operator int() const      ------\u5b9e\u73b0\u56db\u820d\u4e94\u5165\u529f\u80fd\n{\n\u00a0 \u00a0 return int (pounds + 0.5);\n}\n\nStonewt::operator double()const    ------\u76f4\u63a5\u8fd4\u56de\u8be5\u6d6e\u70b9\u6570\u503c\n{\n\u00a0 \u00a0 return pounds;\n}\n</code></pre>","text":"<p>\u56de\u5934\u770b\u770b\u51fd\u6570\uff1a <pre><code>Stonewt::operator int() const      \n{\n\u00a0 \u00a0 return int (pounds + 0.5);\n}\n\n(1) Stonewt:: \u8bf4\u660e\u662f\u7c7b\u65b9\u6cd5\uff0c\u56e0\u6b64\u4f7f\u7528\u4f5c\u7528\u57df\u89e3\u6790\u7b26\n(2) const \u8bf4\u660e\u4e0d\u6539\u53d8\u88ab\u8c03\u7528\u5bf9\u8c61\uff01\n</code></pre></p> <p>\u30103\u3011\u5f53\u7c7b\u5b9a\u4e49\u4e86\u4e24\u79cd\u53ca\u4ee5\u4e0a\u7684\u8f6c\u6362\u65f6\uff0c\u4ecd\u53ef\u4ee5\u7528\u663e\u5f0f\u5f3a\u5236\u7c7b\u578b\u8f6c\u6362\u6765\u6307\u51fa\u8981\u4f7f\u7528\u54ea\u4e2a\u8f6c\u6362\u51fd\u6570\uff01 <pre><code>long gone = (double) poppins;// \u5c06poppins\u8f6c\u6362\u4e3a\u4e00\u4e2adouble\u503c\uff1b\u7136\u540e\u8d4b\u503c\u64cd\u4f5c\uff1a\u5c06\u8be5double\u503c\u8f6c\u6362\u6210long\u7c7b\u578b\nlong gone = int(poppins);    //                     int                       int        long\n</code></pre> ![[Pasted image 20230801163821.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/","title":"Chapter12\u7c7b\u548c\u52a8\u6001\u5185\u5b58\u5206\u914d","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#1","title":"1\uff09\u52a8\u6001\u5185\u5b58\u5206\u914d\u548c\u7c7b\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#1_1","title":"\uff081\uff09\u9519\u8bef\u6848\u4f8b\u5f15\u5165\uff1a","text":"<p>![[Pasted image 20230801231739.png]] ![[Pasted image 20230801231755.png]] ![[Pasted image 20230801231907.png]] <pre><code>// strngbad.cpp -- StringBad class methods\n#include &lt;cstring&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// string.h for some\n#include \"strngbad.h\"\nusing std::cout;\n\n// initializing static class member\nint StringBad::num_strings = 0;\n\n// class methods\n// construct StringBad from C string\nStringBad::StringBad(const char * s)\n{\n\u00a0 \u00a0 len = std::strlen(s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // set size\n\u00a0 \u00a0 str = new char[len + 1]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// allot storage\n\u00a0 \u00a0 std::strcpy(str, s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// initialize pointer\n\u00a0 \u00a0 \n\u00a0 \u00a0 num_strings++; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// set object count\n\u00a0 \u00a0 cout &lt;&lt; num_strings &lt;&lt; \": \\\"\" &lt;&lt; str\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"\\\" object created\\n\"; \u00a0 \u00a0// For Your Information\n}\n\nStringBad::StringBad() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// default constructor\n{\n\u00a0 \u00a0 len = 4;\n\u00a0 \u00a0 str = new char[4];\n\u00a0 \u00a0 std::strcpy(str, \"C++\"); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// default string\n\n\u00a0 \u00a0 num_strings++;\n\u00a0 \u00a0 cout &lt;&lt; num_strings &lt;&lt; \": \\\"\" &lt;&lt; str\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"\\\" default object created\\n\"; \u00a0// FYI\n}\n\nStringBad::~StringBad() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // necessary destructor\n{\n\u00a0 \u00a0 cout &lt;&lt; \"\\\"\" &lt;&lt; str &lt;&lt; \"\\\" object deleted, \"; \u00a0 \u00a0// FYI\n\u00a0 \u00a0 --num_strings; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// required\n\u00a0 \u00a0 cout &lt;&lt; num_strings &lt;&lt; \" left\\n\"; // FYI\n\u00a0 \u00a0 delete [] str; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// required\n}\n\nstd::ostream &amp; operator&lt;&lt;(std::ostream &amp; os, const StringBad &amp; st)\n{\n\u00a0 \u00a0 os &lt;&lt; st.str;\n\u00a0 \u00a0 return os;\n}\n</code></pre> ![[Pasted image 20230801232420.png]] ![[Pasted image 20230801232436.png]]</p> <p>==\u5708\u753b\u5904\u662f\u7a0b\u5e8f\u4e2d\u7684\u4eae\u70b9\uff0c\u503c\u5f97\u5b66\u4e60\u501f\u9274\uff01\u4f46\u662f\u7a0b\u5e8f\u672c\u8eab\u5b58\u5728\u4e25\u91cd\u7684\u9519\u8bef\uff01==</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#2","title":"\uff082\uff09\u6848\u4f8b\u9519\u8bef\u539f\u56e0\u7b80\u6790\uff1a","text":"<p>![[Pasted image 20230801232812.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#3","title":"\uff083\uff09\u7279\u6b8a\u6210\u5458\u51fd\u6570\uff1a","text":"<p>\u30101\u3011\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a 1\uff09\u5982\u679c\u6ca1\u6709\u63d0\u4f9b\u4efb\u4f55\u6784\u9020\u51fd\u6570\uff0cc++\u5c06\u521b\u5efa\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <pre><code>\u5047\u5982\u5b9a\u4e49\u4e86\u4e00\u4e2aK\u7c7b\uff0c\u4f46\u662f\u6ca1\u6709\u63d0\u4f9b\u4efb\u4f55\u6784\u9020\u51fd\u6570\uff0c\u5219\u7f16\u8bd1\u5668\u5c06\u63d0\u4f9b\u4e0b\u8ff0\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff1a\nK::K() { }\n\u8fd9\u63d0\u4f9b\u4e86\u4e00\u4e2a\u4e0d\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\uff0c\u4e5f\u4e0d\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u7684\u6784\u9020\u51fd\u6570\nK hbx;\n\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\u4f7f\u5f97 hbx \u7c7b\u4f3c\u4e8e\u4e00\u4e2a\u5e38\u89c4\u7684\u81ea\u52a8\u53d8\u91cf\uff0c\u4e5f\u5c31\u662f\u8bf4\uff1a\u5b83\u7684\u503c\u5728\u521d\u59cb\u5316\u65f6\u672a\u77e5\uff01\n</code></pre> 2\uff09\u5982\u679c\u5b9a\u4e49\u4e86\u6784\u9020\u51fd\u6570\uff0cc++\u5c06\u4e0d\u4f1a\u5b9a\u4e49\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <pre><code>\u5982\u679c\u5e0c\u671b\u5728\u521b\u5efa\u5bf9\u8c61\u65f6\u4e0d\u663e\u5f0f\u5730\u5bf9\u5b83\u8fdb\u884c\u521d\u59cb\u5316\uff0c\u5219\u5fc5\u987b\u663e\u5f0f\u5730\u5b9a\u4e49\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\nK::K()\n{\n    ct = 0;\n    ......\n}\n</code></pre> 3\uff09\u5e26\u53c2\u6570\u7684\u6784\u9020\u51fd\u6570\u4e5f\u53ef\u4ee5\u662f\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\uff0c\u53ea\u8981\u6240\u6709\u51fd\u6570\u90fd\u6709\u9ed8\u8ba4\u503c 4\uff09\u53ea\u80fd\u6709\u4e00\u4e2a\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <pre><code>\u30101\u3011Kunk() {ct = 0;}\n\u30102\u3011Kunk(int n = 0) {ct = n;}\n\u4e0a\u8ff0\u5199\u6cd5\u4e0d\u5408\u6cd5\uff01\n\u6bd4\u5982\uff1a Kunk ikun;  // \u53ef\u4ee5\u4e0e\u58f0\u660e1\u4e0e2\u90fd\u5339\u914d\uff01\n</code></pre></p> <p>\u30102\u3011\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a \uff081\uff09\u7406\u8bba\u4e0a\u7684\u51fa\u73b0\u65f6\u673a\uff1a</p> <p>\u7528\u4e8e\u5c06\u4e00\u4e2a\u5bf9\u8c61\u590d\u5236\u5230\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\u4e2d\u3002\u4e5f\u5c31\u662f\u8bf4\uff1a\u5b83\u7528\u4e8e\u521d\u59cb\u5316\u8fc7\u7a0b\u4e2d(\u5305\u62ec\u6309\u503c\u4f20\u9012\u53c2\u6570)\uff0c\u800c==\u4e0d\u662f\u5e38\u89c4\u7684\u8d4b\u503c==\u8fc7\u7a0b\u4e2d</p> <p>\uff082\uff09\u7c7b\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a <pre><code>Class_name (const Class_name &amp;) // \u5b83\u63a5\u53d7\u4e00\u4e2a\u6307\u5411\u7c7b\u5bf9\u8c61\u7684\u5e38\u91cf\u5f15\u7528\u4f5c\u4e3a\u53c2\u6570\n</code></pre> \u6bd4\u5982\uff1aStringBad\u7c7b\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\u7684\u539f\u578b\u662f\uff1aStringBad (const StringBad &amp;);</p> <p>\uff083\uff09\u4f55\u65f6\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a</p> <p>[1] \u65b0\u5efa\u4e00\u4e2a\u5bf9\u8c61\u5e76\u5c06\u5176\u521d\u59cb\u5316\u4e3a\u540c\u7c7b\u73b0\u6709\u5bf9\u8c61\u65f6\uff0c\u590d\u5236\u6784\u9020\u51fd\u6570\u5c06\u88ab\u8c03\u7528 \u8fd9\u5176\u4e2d\u6700\u5e38\u89c1\u7684\u60c5\u51b5\u662f\uff1a\u65b0\u5bf9\u8c61\u663e\u5f0f\u5730\u521d\u59cb\u5316\u4e3a\u73b0\u6709\u7684\u5bf9\u8c61 <pre><code>\u5047\u8bbemotto\u662f\u4e00\u4e2aStringBad\u5bf9\u8c61\uff0c\u5219\u4e0b\u9762\u56db\u79cd\u58f0\u660e\u90fd\u5c06\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a\nStringBad ditto(motto);           //\u76f4\u63a5\u521d\u59cb\u5316\nStringBad metto = motto;          //\u53ef\u80fd\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u76f4\u63a5\u521b\u5efametto\uff1b\u4e5f\u53ef\u80fd\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u751f\u6210\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u4e34\u65f6\u5bf9\u8c61\u7684\u5185\u5bb9\u8d4b\u7ed9metto\nStringBad also = StringBad(motto);//\u53ef\u80fd\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u76f4\u63a5\u521b\u5efaalso\uff1b\u4e5f\u53ef\u80fd\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\u751f\u6210\u4e00\u4e2a\u4e34\u65f6\u5bf9\u8c61\uff0c\u7136\u540e\u5c06\u4e34\u65f6\u5bf9\u8c61\u7684\u5185\u5bb9\u8d4b\u7ed9also\nStringBad *p = new StringBad(motto); //\u4f7f\u7528motto\u521d\u59cb\u5316\u4e00\u4e2a\u533f\u540d\u5bf9\u8c61\uff0c\u5e76\u5c06\u65b0\u5bf9\u8c61\u7684\u5730\u5740\u8d4b\u7ed9 p\u6307\u9488\n</code></pre></p> <p>[2] \u6bcf\u5f53\u7a0b\u5e8f\u751f\u6210\u4e86\u5bf9\u8c61\u526f\u672c\u65f6\uff0c\u7f16\u8bd1\u5668\u90fd\u5c06\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570 \u5177\u4f53\u800c\u8a00\uff1a\u5f53\u51fd\u6570\u6309\u503c\u4f20\u9012\u5bf9\u8c61or\u51fd\u6570\u8fd4\u56de\u5bf9\u8c61\u65f6\uff0c\u90fd\u5c06\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\uff08\u6309\u503c\u4f20\u9012\u610f\u5473\u7740\u521b\u5efa\u539f\u59cb\u53d8\u91cf\u7684\u4e00\u4e2a\u526f\u672c\uff0c\u7f16\u8bd1\u5668\u751f\u6210\u4e34\u65f6\u5bf9\u8c61\u65f6\u4e5f\u5c06\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\uff09 ps\uff1a\u7531\u4e8e\u6309\u503c\u4f20\u9012\u5bf9\u8c61\u5c06\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\uff0c\u56e0\u6b64\u5e94\u5f53\u6309\u5f15\u7528\u4f20\u9012\u5bf9\u8c61\uff0c\u8fd9\u6837\u63d0\u9ad8\u6548\u7387\uff01</p> <p>\uff084\uff09\u9ed8\u8ba4\u590d\u5236\u6784\u9020\u51fd\u6570\u7684\u529f\u80fd\uff1a</p> <p>\u9010\u4e2a\u590d\u5236\u975e\u9759\u6001\u6210\u5458\uff08\u6210\u5458\u590d\u5236\u4e5f\u53eb\u4f5c\uff1a\u6d45\u590d\u5236\uff09\uff0c\u590d\u5236\u7684\u662f\u6210\u5458\u7684\u503c ps\uff1a\u9759\u6001\u6210\u5458\u4e0d\u53d7\u5f71\u54cd\uff0c\u56e0\u4e3a\u5b83\u4eec\u5c5e\u4e8e\u6574\u4e2a\u7c7b\uff01 ![[Pasted image 20230802101856.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#4","title":"4\uff09\u56de\u671b\uff1a\u4e4b\u524d\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\u7a76\u7adf\u9519\u5728\u54ea\u91cc\uff1f","text":"<p>![[Pasted image 20230802102158.png]] ![[Pasted image 20230802102211.png]]</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a \u8fdb\u884c==\u6df1\u5ea6\u590d\u5236\uff08deep copy\uff09==\uff1a\u590d\u5236\u6784\u9020\u51fd\u6570\u5e94\u5f53\u590d\u5236\u5b57\u7b26\u4e32\u5e76\u5c06\u4e00\u4e2a==\u526f\u672c\u7684\u5730\u5740==\u8d4b\u7ed9str\u6210\u5458\uff0c\u800c\u4e0d\u662f\u590d\u5236\u5b57\u7b26\u4e32\u7684\u5730\u5740\u3002\u8fd9\u6837\u6bcf\u4e2a\u5bf9\u8c61\u90fd\u6709\u81ea\u5df1\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u662f\u5f15\u7528\u53e6\u4e00\u4e2a\u5bf9\u8c61\u7684\u5b57\u7b26\u4e32\u3002\u8c03\u7528\u6790\u6784\u51fd\u6570\u65f6\u90fd\u5c06\u4f1a\u91ca\u653e\u4e0d\u540c\u7684\u5b57\u7b26\u4e32\uff0c\u800c\u4e0d\u4f1a\u8bd5\u56fe\u53bb\u91ca\u653e\u5df2\u7ecf\u88ab\u91ca\u653e\u7684\u5b57\u7b26\u4e32\uff01 <pre><code>StringBad::StringBad(const StringBad &amp; st)\n{\n    num_string++;\n    len = st.len;\n    str = new char [len + 1];\n    std::strcpy(str , st.str);\n}\n</code></pre></p> <p>tips\uff1a\u5982\u679c\u7c7b\u4e2d\u5305\u542b\u4e86\u4f7f\u7528new\u521d\u59cb\u5316\u7684\u6307\u9488\u6210\u5458\uff0c\u5e94\u5f53\u5b9a\u4e49\u4e00\u4e2a\u590d\u5236\u6784\u9020\u51fd\u6570\uff0c\u4ee5\u590d\u5236\u6307\u5411\u7684\u6570\u636e\uff0c\u800c\u4e0d\u662f\u6307\u9488\uff0c\u8fd9\u53eb\u6df1\u5ea6\u590d\u5236\uff1b</p> <p>\u56fe\u89e3\uff1a ![[Pasted image 20230802103305.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#5","title":"5\uff09\u56de\u987e\u4e4b\u524d\u7684\u51fd\u6570\u8fd8\u6709\u5176\u5b83\u95ee\u9898\uff1a\u8d4b\u503c\u8fd0\u7b97\u7b26","text":"<p>\uff081\uff09\u539f\u578b\uff1a <pre><code>Class_name&amp; Class_name::operator= (const Class_name &amp;)  // \u5b83\u63a5\u53d7\u5e76\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u7c7b\u5bf9\u8c61\u7684\u5f15\u7528\n</code></pre> \uff082\uff09\u529f\u80fd\uff1a [1] \u5c06\u5df2\u6709\u7684\u5bf9\u8c61\u8d4b\u7ed9\u53e6\u4e00\u4e2a\u5bf9\u8c61\u65f6\uff0c\u4f7f\u7528\u91cd\u8f7d\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26 <pre><code>StringBad headline1(\"nasdjaksl\");\n...\nStringBad knot;\nknot = headline1;\n</code></pre> [2] \u521d\u59cb\u5316\u5bf9\u8c61\u65f6\uff0c\u5e76\u4e0d\u4e00\u5b9a\u4f1a\u4f7f\u7528\u8d4b\u503c\u8fd0\u7b97\u7b26 <pre><code>\u6bd4\u5982\uff1a\nStringBad metto = knot;\nmetto\u662f\u4e00\u4e2a\u65b0\u521b\u5efa\u7684\u5bf9\u8c61\uff0c\u88ab\u521d\u59cb\u5316\u4e3aknot\u7684\u503c\uff0c\u56e0\u6b64\u4f7f\u7528\u590d\u5236\u6784\u9020\u51fd\u6570\n</code></pre> [3] \u4e0e\u590d\u5236\u6784\u9020\u51fd\u6570\u7c7b\u4f3c\uff0c\u8d4b\u503c\u8fd0\u7b97\u7b26\u7684\u9690\u5f0f\u5b9e\u73b0\u4e5f\u4f1a\u5bf9\u6210\u5458\u9010\u4e2a\u590d\u5236\uff01</p> <p>\uff083\uff09\u89e3\u51b3\u8d4b\u503c\u8fd0\u7b97\u7b26\u7684\u65b9\u6848\uff1a</p> <p>\u6df1\u5ea6\u590d\u5236\uff01</p> <p>\u5177\u4f53\u8981\u6c42\uff1a \u30101\u3011\u7531\u4e8e\u76ee\u6807\u5bf9\u8c61\u53ef\u80fd\u5f15\u7528\u4e86\u4ee5\u524d\u5206\u914d\u7684\u6570\u636e\uff0c\u6240\u4ee5\u51fd\u6570\u5e94\u4f7f\u7528 delete[ ] \u6765\u91ca\u653e\u8fd9\u4e9b\u6570\u636e \u30102\u3011\u51fd\u6570\u5e94\u5f53\u907f\u514d\u5c06\u5bf9\u8c61\u8d4b\u7ed9\u81ea\u8eab\uff1b\u5426\u5219\u7ed9\u5bf9\u8c61\u91cd\u65b0\u590d\u5236\u524d\uff0c\u91ca\u653e\u5185\u5b58\u53ef\u80fd\u4f1a\u8bef\u5220\u5bf9\u8c61\u7684\u6570\u636e \u30103\u3011\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8c03\u7528\u5bf9\u8c61\u7684\u5f15\u7528 ![[Pasted image 20230802104526.png]]</p> <pre><code>StringBad&amp; StringBad::operator=(const StringBad&amp; st)\n{\n    if(this == &amp;st) return *this;  // \u30102\u3011\n    delete [] str;                 // \u30101\u3011free old string\n    len = st.len;                 \n    str = new char[len+1];         // get space for new string\n    std::strcpy(str,st.str);       // copy the string\n    return *this;                  // return reference to invoking object\n}\n\n//1) code\u9996\u5148\u8fdb\u884c\u81ea\u6211\u68c0\u67e5\uff0c\u770b\u76ee\u6807\u5730\u5740\u4e0e\u63a5\u53d7\u5bf9\u8c61\u5730\u5740(this)\u662f\u5426\u76f8\u540c\n//2) \u5982\u679c\u5730\u5740\u4e0d\u540c\uff0c\u51fd\u6570\u5c06\u91ca\u653estr\u6307\u5411\u7684\u5185\u5b58\uff1a\u8fd9\u662f\u56e0\u4e3a\u7a0d\u540e\u5c06\u628a\u4e00\u4e2a\u65b0\u5b57\u7b26\u4e32\u7684\u5730\u5740\u8d4b\u7ed9str\uff0c\u5982\u679c\u4e0d\u5148\u4f7f\u7528delete,\u5219\u4e0a\u8ff0\u5b57\u7b26\u4e32\u5c06\u9057\u7559\u5728\u5185\u5b58\u4e2d\n//3) \u4e3a\u65b0\u5b57\u7b26\u4e32\u5206\u914d\u8db3\u591f\u7684\u5185\u5b58\u7a7a\u95f4 + \u5b57\u7b26\u4e32\u590d\u5236\u8fdb\u65b0\u7684\u5185\u5b58\u5355\u5143\n//4\uff09return *this;\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#2string","title":"2\uff09\u6539\u8fdb\u540e\u7684\u65b0String\u7c7b\uff1a","text":"<p>\u30101\u3011\u7a0b\u5e8f\u6574\u4f53\uff1a <pre><code>// string1.h -- fixed and augmented string class definition\n#ifndef STRING1_H_\n#define STRING1_H_\n#include &lt;iostream&gt;\nusing std::ostream;\nusing std::istream;\nclass String\n{\nprivate:\n\u00a0 \u00a0 char * str; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // pointer to string\n\u00a0 \u00a0 int len; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// length of string\n\u00a0 \u00a0 static int num_strings; // number of objects\n\u00a0 \u00a0 static const int CINLIM = 80; \u00a0// cin input limit\npublic:\n// constructors and other methods                                 \u6784\u9020\u51fd\u6570              \n\u00a0 \u00a0 String(const char * s); // constructor                        \u975e\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n\u00a0 \u00a0 String(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // default constructor                \u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n\u00a0 \u00a0 String(const String &amp;); // copy constructor                   \u590d\u5236\u6784\u9020\u51fd\u6570\n\u00a0 \u00a0 ~String(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// destructor\n\u00a0 \u00a0 int length () const { return len; }\n// overloaded operator methods \u00a0 \u00a0\n\u00a0 \u00a0 String &amp; operator=(const String &amp;);                           //\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08\u5bf9\u8c61\u98ce\u683c\uff09\n\u00a0 \u00a0 String &amp; operator=(const char *);                             //\u91cd\u8f7d\u8d4b\u503c\u8fd0\u7b97\u7b26\uff08C\u98ce\u683c\uff09\n\u00a0 \u00a0 char &amp; operator[](int i);                                     //\u4e2d\u62ec\u53f7\u7b26\uff08\u53ef\u6539\u6b63\uff09\n\u00a0 \u00a0 const char &amp; operator[](int i) const;                         //\u4e2d\u62ec\u53f7\u7b26\uff08\u4ec5\u67e5\u770b\uff09\n// overloaded operator friends\n\u00a0 \u00a0 friend bool operator&lt;(const String &amp;st, const String &amp;st2);    //\u91cd\u8f7d\u6bd4\u8f83\u7b26\u53f7\n\u00a0 \u00a0 friend bool operator&gt;(const String &amp;st1, const String &amp;st2);   //\u91cd\u8f7d\u6bd4\u8f83\u7b26\u53f7\n\u00a0 \u00a0 friend bool operator==(const String &amp;st, const String &amp;st2);   //\u91cd\u8f7d\u6bd4\u8f83\u7b26\u53f7\n\u00a0 \u00a0 friend ostream &amp; operator&lt;&lt;(ostream &amp; os, const String &amp; st);  //\u91cd\u8f7d\u8f93\u5165\u8f93\u51fa\u6d41\n\u00a0 \u00a0 friend istream &amp; operator&gt;&gt;(istream &amp; is, String &amp; st);        //\u91cd\u8f7d\u8f93\u5165\u8f93\u51fa\u6d41\n// static function\n\u00a0 \u00a0 static int HowMany();\n};\n#endif\n</code></pre></p> <pre><code>// string1.cpp -- String class methods\n#include &lt;cstring&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // string.h for some\n#include \"string1.h\" \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // includes &lt;iostream&gt;\nusing std::cin;\nusing std::cout;\n// initializing static class member\nint String::num_strings = 0;\n// static method\nint String::HowMany()\n{\n\u00a0 \u00a0 return num_strings;\n}\n\n// class methods\nString::String(const char * s) \u00a0 \u00a0 // construct String from C string         \u521d\u59cb\u5316\u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 len = std::strlen(s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// set size\n\u00a0 \u00a0 str = new char[len + 1]; \u00a0 \u00a0 \u00a0 // allot storage\n\u00a0 \u00a0 std::strcpy(str, s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // initialize pointer\n\u00a0 \u00a0 num_strings++; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // set object count\n}\n\nString::String() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // default constructor\n{\n\u00a0 \u00a0 len = 4;\n\u00a0 \u00a0 str = new char[1];\n\u00a0 \u00a0 str[0] = '\\0'; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // default string\n\u00a0 \u00a0 num_strings++;\n}\n\nString::String(const String &amp; st)                                         // \u590d\u5236\u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 num_strings++; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // handle static member update\n\u00a0 \u00a0 len = st.len; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// same length\n\u00a0 \u00a0 str = new char [len + 1]; \u00a0// allot space\n\u00a0 \u00a0 std::strcpy(str, st.str); \u00a0// copy string to new location\n}\n\nString::~String() \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // necessary destructor\n{\n\u00a0 \u00a0 --num_strings; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// required\n\u00a0 \u00a0 delete [] str; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// required\n}\n\n// overloaded operator methods \u00a0\n\n\u00a0 \u00a0 // assign a String to a String\nString &amp; String::operator=(const String &amp; st)\n{\n\u00a0 \u00a0 if (this == &amp;st)\n\u00a0 \u00a0 \u00a0 \u00a0 return *this;\n\u00a0 \u00a0 delete [] str;\n\u00a0 \u00a0 len = st.len;\n\u00a0 \u00a0 str = new char[len + 1];\n\u00a0 \u00a0 std::strcpy(str, st.str);\n\u00a0 \u00a0 return *this;\n}\n\u00a0 \u00a0 // assign a C string to a String\nString &amp; String::operator=(const char * s)\n{\n\u00a0 \u00a0 delete [] str;\n\u00a0 \u00a0 len = std::strlen(s);\n\u00a0 \u00a0 str = new char[len + 1];\n\u00a0 \u00a0 std::strcpy(str, s);\n\u00a0 \u00a0 return *this;\n}\n\u00a0 \u00a0 // read-write char access for non-const String\nchar &amp; String::operator[](int i)\n{\n\u00a0 \u00a0 return str[i];\n}\n\u00a0 \u00a0 // read-only char access for const String\nconst char &amp; String::operator[](int i) const\n{\n\u00a0 \u00a0 return str[i];\n}\n\n// overloaded operator friends\nbool operator&lt;(const String &amp;st1, const String &amp;st2)\n{\n\u00a0 \u00a0 return (std::strcmp(st1.str, st2.str) &lt; 0);\n}\n\nbool operator&gt;(const String &amp;st1, const String &amp;st2)\n{\n\u00a0 \u00a0 return st2 &lt; st1;\n}\n\nbool operator==(const String &amp;st1, const String &amp;st2)\n{\n\u00a0 \u00a0 return (std::strcmp(st1.str, st2.str) == 0);\n}\n\u00a0 \u00a0 // simple String output\nostream &amp; operator&lt;&lt;(ostream &amp; os, const String &amp; st)\n{\n\u00a0 \u00a0 os &lt;&lt; st.str;\n\u00a0 \u00a0 return os;\n}\n\u00a0 \u00a0 // quick and dirty String input\nistream &amp; operator&gt;&gt;(istream &amp; is, String &amp; st)\n{\n\u00a0 \u00a0 char temp[String::CINLIM];\n\u00a0 \u00a0 is.get(temp, String::CINLIM);\n\u00a0 \u00a0 if (is)\n\u00a0 \u00a0 \u00a0 \u00a0 st = temp;\n\u00a0 \u00a0 while (is &amp;&amp; is.get() != '\\n')\n\u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0 return is;\n}\n</code></pre> <p>\u30102\u3011\u7a0b\u5e8f\u5206\u6790\uff1a ![[Pasted image 20230802110522.png]] ![[Pasted image 20230802110646.png]] ![[Pasted image 20230802111015.png]] ![[Pasted image 20230802111034.png]] ![[Pasted image 20230802111144.png]]</p> <p>\u30103\u3011\u91cd\u96be\u70b9\u8d4f\u6790\uff1a \uff081\uff09\u521d\u59cb\u5316\u6784\u9020\u51fd\u6570 and \u590d\u5236\u6784\u9020\u51fd\u6570\uff1a <pre><code>\u521d\u59cb\u5316\u6784\u9020\u51fd\u6570\uff1a\nString::String(const char * s) \u00a0 \u00a0 // construct String from C string         \u521d\u59cb\u5316\u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 len = std::strlen(s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// set size\n\u00a0 \u00a0 str = new char[len + 1]; \u00a0 \u00a0 \u00a0 // allot storage\n\u00a0 \u00a0 std::strcpy(str, s); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // initialize pointer\n\u00a0 \u00a0 num_strings++; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // set object count\n}\n\n----------------------------------------------------------------------------------------------------\n\n\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a\nString::String(const String &amp; st)                                         // \u590d\u5236\u6784\u9020\u51fd\u6570\n{\n\u00a0 \u00a0 num_strings++; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // handle static member update\n\u00a0 \u00a0 len = st.len; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// same length\n\u00a0 \u00a0 str = new char [len + 1]; \u00a0// allot space\n\u00a0 \u00a0 std::strcpy(str, st.str); \u00a0// copy string to new location\n}\n</code></pre> \u4ece\u4ee3\u7801\u89d2\u5ea6\u5206\u6790\uff1a\u4e3a\u4ec0\u4e48\u521d\u59cb\u5316\u521b\u9020\u7684\u662f\u201c\u5730\u5740\u4f20\u9012\u201d\uff0c\u800c\u590d\u5236\u6784\u9020\u51fd\u6570\u521b\u9020\u7684\u662f\u201c\u526f\u672c\u5730\u5740\u4f20\u9012\u201d <pre><code>\u521d\u59cb\u5316\u6784\u9020\u51fd\u6570\uff1a\n\nString::String(const char * s)   \uff081\uff09\n\u4e0e\nstd::strcpy(str, s); \u00a0 \u00a0 \u00a0       \uff082\uff09\n\n\u5c06\u5b57\u7b26\u4e32\u7684\u5730\u5740\u6307\u9488(s) \u76f4\u63a5copy\u7ed9str\uff1bstr\u7684\u6307\u9488\u6307\u5411\u7684\u5c31\u662f\u5b57\u7b26\u4e32\u7684\u5730\u5740\n\u56e0\u6b64\u4e8c\u8005\u6307\u5411\u7684\u662f\u540c\u4e00\u4e2a\u5730\u5740\u3010\u4f1a\u5bfc\u81f4double free\u3011\n</code></pre></p> <pre><code>\u590d\u5236\u6784\u9020\u51fd\u6570\uff1a\nString::String(const String &amp; st)  \uff081\uff09         \n\u4e0e\nstd::strcpy(str, st.str);          \uff082\uff09\n\n\uff081\uff09 \u5c06\u8be5\u7c7b\u5bf9\u8c61\u5148\u4ea7\u751f\u526f\u672c\n\uff082\uff09\u526f\u672c\u5c06\u5730\u5740\u6307\u9488copy\u7ed9str\uff1bstr\u7684\u6307\u9488\u6307\u5411\u7684\u5c31\u662f\u5b57\u7b26\u4e32\u7684\u526f\u672c\u7684\u5730\u5740\n\u56e0\u6b64\u4e8c\u8005\u6307\u5411\u7684\u662f\u5206\u522b\u7684\u5730\u5740\u3010\u4e0d\u4f1a\u5bfc\u81f4double free\u3011\n</code></pre> <p>\uff082\uff09\u201c\u5bf9\u8c61\u98ce\u683c\u201d\u548c\u201cC\u98ce\u683c\u201d\u7684\u8d4b\u503c\u7b26\u91cd\u8f7d\uff1a <pre><code>\u00a0 \u00a0 // assign a String to a String\nString &amp; String::operator=(const String &amp; st)\n{\n\u00a0 \u00a0 if (this == &amp;st)\n\u00a0 \u00a0 \u00a0 \u00a0 return *this;\n\u00a0 \u00a0 delete [] str;\n\u00a0 \u00a0 len = st.len;\n\u00a0 \u00a0 str = new char[len + 1];\n\u00a0 \u00a0 std::strcpy(str, st.str);\n\u00a0 \u00a0 return *this;\n}\n---------------------------------------------------------\n\u00a0 \u00a0 // assign a C string to a String\nString &amp; String::operator=(const char * s)\n{\n\u00a0 \u00a0 delete [] str;\n\u00a0 \u00a0 len = std::strlen(s);\n\u00a0 \u00a0 str = new char[len + 1];\n\u00a0 \u00a0 std::strcpy(str, s);\n\u00a0 \u00a0 return *this;\n}\n</code></pre> \u672c\u8d28\u4e0a\u8fd9\u4e24\u79cd\u5199\u6cd5\u6ca1\u6709\u4efb\u4f55\u533a\u522b\uff0c\u53ea\u662fC\u98ce\u683c\u5199\u6cd5\u7684\u6548\u7387\u9ad8\u4e00\u70b9</p> <p>\uff083\uff09\u4e2d\u62ec\u53f7\u5b57\u7b26\u7ec4\u7684\u201c\u53ef\u4fee\u6539\u201d\u4e0e\u201c\u4ec5\u67e5\u770b\u201d\u5199\u6cd5\u5bf9\u6bd4\uff1a <pre><code>char&amp; String::operator[] (int i)                                    \u53ef\u4fee\u6539\n{\n    return str[i];\n}\n\nconst char&amp; String::operator[] (int i) const                        \u4ec5\u67e5\u770b\n{\n    return str[i];\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#3new","title":"3\uff09\u6784\u9020\u51fd\u6570\u4e2d\u4f7f\u7528new\u65f6\u5e94\u6ce8\u610f\u7684\u95ee\u9898\uff1a","text":"<p>\uff081\uff09\u57fa\u7840\u6ce8\u610f\u4e8b\u9879\uff1a ![[Pasted image 20230802113716.png]] ![[Pasted image 20230802113731.png]]</p> <p>\uff082\uff09\u9ad8\u7ea7\u6ce8\u610f\u4e8b\u9879\uff1a \u30101\u3011\u6df1\u5ea6\u590d\u5236\uff1a\u590d\u5236\u6784\u9020\u51fd\u6570 <pre><code>String::String(const String &amp; st)\n{\n    num_string++;\n    len = st.len;\n    str = new char [len + 1];\n    std::strcpy(str , st.str);\n}\n</code></pre></p> <p>\u30102\u3011\u6df1\u5ea6\u590d\u5236\uff1a\u8d4b\u503c\u8fd0\u7b97\u7b26 <pre><code>String&amp; String::operator= (const String &amp; st)\n{\n    if(this == &amp;st) return *this;\n    delete str;\n    len = st.len;\n    str = new char [len+1]\uff1b\n    std::strcpy(str , st.str);\n    return *this;\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#4_1","title":"4\uff09\u6709\u5173\u8fd4\u56de\u5bf9\u8c61\u7684\u8bf4\u660e\uff1a","text":"<p>![[Pasted image 20230802115048.png]] ![[Pasted image 20230802115108.png]] ![[Pasted image 20230802115124.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/#5_1","title":"5\uff09\u4f7f\u7528\u6307\u5411\u5bf9\u8c61\u7684\u6307\u9488\uff1a","text":"<p><pre><code>String* fab = new String( sayings[choice] );\n</code></pre> \u30101\u3011\u8fd9\u91cc\u6307\u9488fab\u6307\u5411new\u521b\u5efa\u7684\u672a\u88ab\u547d\u540d\u5bf9\u8c61 \u30102\u3011\u4f7f\u7528\u5bf9\u8c61 sayings[choice] \u6765\u521d\u59cb\u5316\u65b0\u7684String\u5bf9\u8c61\uff0c\u8fd9\u5c06\u8c03\u7528\u590d\u5236\u6784\u9020\u51fd\u6570 </p> <p>ps\uff1a\u5728\u4e0b\u5217\u60c5\u51b5\u4e0b\u5c06\u8c03\u7528\u6790\u6784\u51fd\u6570 1\uff09\u5982\u679c\u5bf9\u8c61\u662f\u52a8\u6001\u53d8\u91cf\uff0c\u5219\u5f53\u6267\u884c\u5b8c\u5b9a\u4e49\u8be5\u5bf9\u8c61\u7684\u7a0b\u5e8f\u5757\u65f6\uff0c\u5c06\u8c03\u7528\u8be5\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570 2\uff09\u5982\u679c\u5bf9\u8c61\u662f\u9759\u6001\u53d8\u91cf\uff0c\u5219\u5728\u7a0b\u5e8f\u7ed3\u675f\u65f6\u8c03\u7528\u8be5\u5bf9\u8c61\u7684\u6790\u6784\u51fd\u6570</p> <p>\u5c0f\u7ed3\uff1a\u6307\u9488\u548c\u5bf9\u8c61 \uff081\uff09\u5e38\u89c4\u8868\u793a\u6cd5\uff1a <pre><code>String* gla;\n</code></pre> \uff082\uff09\u53ef\u4ee5\u5c06\u6307\u9488\u521d\u59cb\u5316\u4e3a\u6307\u5411\u5df2\u77e5\u7684\u5bf9\u8c61 <pre><code>String* fir = &amp;sayings[10];\n</code></pre> \uff083\uff09\u53ef\u4ee5\u4f7f\u7528new\u6765\u521d\u59cb\u5316\u6307\u9488\uff0c\u8fd9\u5c06\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u5bf9\u8c61 <pre><code>String* fab = new String( sayings[choice] ); \n</code></pre> \uff084\uff09\u5bf9\u7c7b\u4f7f\u7528new\u5c06\u8c03\u7528\u76f8\u5e94\u7684\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u6765\u521d\u59cb\u5316\u65b0\u521b\u5efa\u7684\u5bf9\u8c61 <pre><code>String* glp = new String;\nString* op = new String(\"my my my\");\nString* rp = new String( sayings[choice] );\n</code></pre> \uff085\uff09\u53ef\u4ee5\u4f7f\u7528 -&gt; \u6765\u901a\u8fc7\u6307\u9488\u8bbf\u95ee\u7c7b\u65b9\u6cd5 <pre><code>if(sayings[i].length() &gt; shortest-&gt;length()) \n{\n    ...\n}\n</code></pre> \uff086\uff09\u89e3\u5f15\u7528\u53ef\u4ee5\u4f7f\u7528</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/","title":"Chapter13\u7c7b\u7ee7\u627f","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#1","title":"1\uff09\u4e00\u4e2a\u7b80\u5355\u7684\u57fa\u7c7b","text":"<p>\u30101\u3011\u57fa\u7c7b\u539f\u578b\uff1a <pre><code>// tabtenn0.h -- a table-tennis base class\n#ifndef TABTENN0_H_\n#define TABTENN0_H_\n#include &lt;string&gt;\nusing std::string;\n// simple base class\nclass TableTennisPlayer\n{\nprivate:\n\u00a0 \u00a0 string firstname;\n\u00a0 \u00a0 string lastname;\n\u00a0 \u00a0 bool hasTable;\npublic:\n\u00a0 \u00a0 TableTennisPlayer (const string &amp; fn = \"none\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0const string &amp; ln = \"none\", bool ht = false);\n\u00a0 \u00a0 void Name() const;\n\u00a0 \u00a0 bool HasTable() const { return hasTable; };\n\u00a0 \u00a0 void ResetTable(bool v) { hasTable = v; };\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#tabtenn0cpp-simple-base-class-methods-include-tabtenn0h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname","title":"<pre><code>//tabtenn0.cpp -- simple base-class methods\n#include \"tabtenn0.h\"\n#include &lt;iostream&gt;\nTableTennisPlayer::TableTennisPlayer (const string &amp; fn,\n\u00a0 \u00a0 const string &amp; ln, bool ht) : firstname(fn),\n\u00a0 \u00a0 \u00a0 \u00a0 lastname(ln), hasTable(ht) {}\nvoid TableTennisPlayer::Name() const\n{\n\u00a0 \u00a0 std::cout &lt;&lt; lastname &lt;&lt; \", \" &lt;&lt; firstname;\n}\n</code></pre>","text":"<p><pre><code>// usett0.cpp -- using a base class\n#include &lt;iostream&gt;\n#include \"tabtenn0.h\"\nint main ( void )\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 TableTennisPlayer player1(\"Chuck\", \"Blizzard\", true);\n\u00a0 \u00a0 TableTennisPlayer player2(\"Tara\", \"Boomdea\", false);\n\u00a0 \u00a0 player1.Name();\n\u00a0 \u00a0 if (player1.HasTable())\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": has a table.\\n\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": hasn't a table.\\n\";\n\n\u00a0 \u00a0 player2.Name();\n\u00a0 \u00a0 if (player2.HasTable())\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": has a table\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": hasn't a table.\\n\";\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre> \u8bf4\u660e\uff1a (1) \u6784\u9020\u51fd\u6570\u4f7f\u7528\u4e86\u521d\u59cb\u5316\u5217\u8868\u7684\u65b9\u6cd5\uff0c\u8fd9\u5728\u540e\u7eed\u975e\u5e38\u5e38\u89c1\uff01 <pre><code>\u539f\u578b\u4e2d\uff1a\nTableTennisPlayer (const string&amp; fn=\"none\", const string&amp; ln=\"none\", bool ht=false);\n\n\u7c7b\u5916\u5b9a\u4e49\u65f6\uff1a\nTableTennisPlayer::TableTennisPlayer (const string&amp; fn, const string&amp; ln, bool ht) : firstname(fn),lastname(ln),hasTable(ht) {}\n</code></pre> (2) \u521d\u59cb\u5316\u5217\u8868\u7684\u5199\u6cd5\u4e0e\u5e38\u89c4\u6784\u9020\u51fd\u6570\u5199\u6cd5\u7b49\u4ef7\uff01 <pre><code>\u6bd4\u5982\u4e0a\u8ff0\u521d\u59cb\u5316\u5217\u8868\u7b49\u540c\u4e8e\uff1a\nTableTennisPlayer::TableTennisPlayer (const string&amp; fn, const string&amp; ln, bool ht)\n{\n    firstname = fn;\n    lastname = ln;\n    hasTable = ht;\n}\n</code></pre> (3) string \u4e0e char* \u7b49\u4ef7\uff1b</p> <p>\u30102\u3011\u6d3e\u751f\u4e00\u4e2a\u7c7b\uff1a <pre><code>// tabtenn1.h -- a table-tennis base class\n#ifndef TABTENN1_H_\n#define TABTENN1_H_\n#include &lt;string&gt;\nusing std::string;\n// simple base class\nclass TableTennisPlayer\n{\nprivate:\n\u00a0 \u00a0 string firstname;\n\u00a0 \u00a0 string lastname;\n\u00a0 \u00a0 bool hasTable;\npublic:\n\u00a0 \u00a0 TableTennisPlayer (const string &amp; fn = \"none\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0const string &amp; ln = \"none\", bool ht = false);\n\u00a0 \u00a0 void Name() const;\n\u00a0 \u00a0 bool HasTable() const { return hasTable; };\n\u00a0 \u00a0 void ResetTable(bool v) { hasTable = v; };\n};\n-----------------------------------------------------------------------------------------------------------------------------------\n// simple derived class\nclass RatedPlayer : public TableTennisPlayer\n{\nprivate:\n\u00a0 \u00a0 unsigned int rating;\npublic:\n\u00a0 \u00a0 RatedPlayer (unsigned int r = 0, const string &amp; fn = \"none\",\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0const string &amp; ln = \"none\", bool ht = false);\n\u00a0 \u00a0 RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp);\n\u00a0 \u00a0 unsigned int Rating() const { return rating; }\n\u00a0 \u00a0 void ResetRating (unsigned int r) {rating = r;}\n};\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#tabtenn1cpp-simple-base-class-methods-include-tabtenn1h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname-ratedplayer-methods-ratedplayerratedplayerunsigned-int-r-const-string-fn-const-string-ln-bool-ht-tabletennisplayerfn-ln-ht-rating-r-ratedplayerratedplayerunsigned-int-r-const-tabletennisplayer-tp-tabletennisplayertp-ratingr","title":"<pre><code>//tabtenn1.cpp -- simple base-class methods\n#include \"tabtenn1.h\"\n#include &lt;iostream&gt;\nTableTennisPlayer::TableTennisPlayer (const string &amp; fn,\n\u00a0 \u00a0 const string &amp; ln, bool ht) : firstname(fn),\n\u00a0 \u00a0 \u00a0 \u00a0 lastname(ln), hasTable(ht) {}\n\nvoid TableTennisPlayer::Name() const\n{\n\u00a0 \u00a0 std::cout &lt;&lt; lastname &lt;&lt; \", \" &lt;&lt; firstname;\n}\n\n// RatedPlayer methods\nRatedPlayer::RatedPlayer(unsigned int r, const string &amp; fn,\n\u00a0 \u00a0 \u00a0const string &amp; ln, bool ht) : TableTennisPlayer(fn, ln, ht)\n{\n\u00a0 \u00a0 rating = r;\n}\n\nRatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp)\n\u00a0 \u00a0 : TableTennisPlayer(tp), rating(r)\n{\n}\n</code></pre>","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#usett1cpp-using-base-class-and-derived-class-include-iostream-include-tabtenn1h-int-main-void-using-stdcout-using-stdendl-tabletennisplayer-player1tara-boomdea-false-ratedplayer-rplayer11140-mallory-duck-true-rplayer1name-derived-object-uses-base-method-if-rplayer1hastable-cout-has-a-tablen-else-cout-hasnt-a-tablen-player1name-base-object-uses-base-method-if-player1hastable-cout-has-a-table-else-cout-hasnt-a-tablen-cout-name-rplayer1name-cout-rating-rplayer1rating-endl-initialize-ratedplayer-using-tabletennisplayer-object-ratedplayer-rplayer21212-player1-cout-name-rplayer2name-cout-rating-rplayer2rating-endl-stdcinget-return-0","title":"<pre><code>// usett1.cpp -- using base class and derived class\n#include &lt;iostream&gt;\n#include \"tabtenn1.h\"\nint main ( void )\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\n\u00a0 \u00a0 TableTennisPlayer player1(\"Tara\", \"Boomdea\", false);\n\u00a0 \u00a0 RatedPlayer rplayer1(1140, \"Mallory\", \"Duck\", true);\n\u00a0 \u00a0\n    rplayer1.Name(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// derived object uses base method\n\u00a0 \u00a0 if (rplayer1.HasTable())\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": has a table.\\n\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": hasn't a table.\\n\";\n\u00a0 \u00a0 \n\u00a0 \u00a0 player1.Name(); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // base object uses base method\n\u00a0 \u00a0 if (player1.HasTable())\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": has a table\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \": hasn't a table.\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Name: \";\n\n\u00a0 \u00a0 rplayer1.Name();\n\u00a0 \u00a0 cout &lt;&lt; \"; Rating: \" &lt;&lt; rplayer1.Rating() &lt;&lt; endl;\n\u00a0 \u00a0 \n// initialize RatedPlayer using TableTennisPlayer object\n\u00a0 \u00a0 RatedPlayer rplayer2(1212, player1);\n\u00a0 \u00a0 cout &lt;&lt; \"Name: \";\n\u00a0 \u00a0 rplayer2.Name();\n\u00a0 \u00a0 cout &lt;&lt; \"; Rating: \" &lt;&lt; rplayer2.Rating() &lt;&lt; endl;\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre>","text":"<p>\uff081\uff09\u6d3e\u751f\u7c7b\u5199\u6cd5\uff1a <pre><code>class RatedPlayer : public TableTennisPlayer\n{\n    ...\n}\n\n1) \u6307\u51faRatedPlayer\u7c7b\u7684\u57fa\u7c7b\u662fTableTennis\u7c7b\n2) public\u8bf4\u660e\u662f\u516c\u6709\u6d3e\u751f\uff1a\u57fa\u7c7b\u7684\u516c\u6709\u6210\u5458 \u5c06\u6210\u4e3a \u6d3e\u751f\u7c7b\u7684\u516c\u6709\u6210\u5458\uff1b\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458\u4e5f\u5c06\u6210\u4e3a\u6d3e\u751f\u7c7b\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u662f\u53ea\u80fd\u901a\u8fc7\u57fa\u7c7b\u7684\u516c\u6709\u548c\u4fdd\u62a4\u65b9\u6cd5\u8bbf\u95ee\uff01\n</code></pre></p> <p>\uff082\uff09\u6d3e\u751f\u7c7b\u9700\u8981\u5728\u7ee7\u627f\u7279\u6027\u4e2d\u6dfb\u52a0\u8bf4\u660e\uff1a</p> <p>[1]  \u6d3e\u751f\u7c7b\u9700\u8981\u81ea\u5df1\u7684\u6784\u9020\u51fd\u6570</p> <p>[2]  \u6d3e\u751f\u7c7b\u53ef\u4ee5\u6839\u636e\u9700\u8981\u6dfb\u52a0\u989d\u5916\u7684 \u6570\u636e\u6210\u5458 and \u6210\u5458\u51fd\u6570</p> <p>\uff083\uff09\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u7684\u8bbf\u95ee\u6743\u9650\uff1a</p> <p>[1] ==\u6d3e\u751f\u7c7b\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458\uff0c\u5fc5\u987b\u901a\u8fc7\u57fa\u7c7b\u7684\u65b9\u6cd5\u8fdb\u884c\u8bbf\u95ee==</p> <p>[2] \u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u5fc5\u987b\u4f7f\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570</p> <p>[3] \u521b\u5efa\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u7a0b\u5e8f\u5fc5\u987b\u9996\u5148\u521b\u5efa\u57fa\u7c7b\u5bf9\u8c61\uff08\u57fa\u7c7b\u5bf9\u8c61\u5e94\u5f53\u5728\u7a0b\u5e8f\u8fdb\u5165\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u4e4b\u524d\u5c31\u88ab\u521b\u5efa\uff09 <pre><code>RatedPlayer::RatedPlayer (unsigned int r, const string&amp; fn, const string&amp; ln, bool ht) : TableTennisPlayer(fn,ln,ht)\n{\n    rating = r;\n}\n\n:TableTennisPlayer(fn,ln,ht) \u662f\u6210\u5458\u521d\u59cb\u5316\u5217\u8868\u3010\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u3011\n\u8be5\u6784\u9020\u51fd\u6570\u7684\u6267\u884c\u987a\u5e8f\uff1a\n\uff081\uff09RatedPlayer\u6784\u9020\u51fd\u6570\u5c06\u628a\u5b9e\u53c2 \"hbx\",\"dusk\",\"hhh\" \u8d4b\u7ed9\u5f62\u53c2 fn,ln,ht\n\uff082\uff09\u5c06\u8fd9\u4e9b\u53c2\u6570\u4f5c\u4e3a\u5b9e\u53c2\u4f20\u9012\u7ed9TableTennisPlayer\u6784\u9020\u51fd\u6570\n\uff083\uff09\u5c06\u521b\u5efa\u4e00\u4e2aTableTennisPlayer\u5bf9\u8c61\uff0c\u5e76\u5c06\u6570\u636e \"hbx\" , \"dusk\" , \"hhh\" \u5b58\u50a8\u5728\u8be5\u5bf9\u8c61\u4e2d\n\uff084\uff09\u7a0b\u5e8f\u8fdb\u5165\u6784\u9020\u51fd\u6570\u4f53\uff0c\u5b8c\u6210RealPlayer\u5bf9\u8c61\u7684\u521b\u5efa\uff0c\u5e76\u5c06\u53c2\u6570r\u7684\u503c\u8d4b\u7ed9rating\u6210\u5458\n</code></pre></p> <p>[4] \u5982\u679c\u5ffd\u7565\u6210\u5458\u521d\u59cb\u5316\u5217\u8868\uff0c\u7a0b\u5e8f\u5c06\u4f7f\u7528\u57fa\u7c7b\u7684\u9ed8\u8ba4\u6784\u9020\u51fd\u6570 <pre><code>\u5ffd\u7565\u521d\u59cb\u5316\u5217\u8868\uff1a\nRatedPlayer::RatedPlayer(unsigned int r, const string&amp; fn, const string&amp; ln, bool ht)\n{\n    rating = r;\n}\n-------------------------------------------------------------------------------------------\n\u7b49\u4ef7\u4e8e\uff1a\nRatedPlayer::RatedPlayer(unsigned int r, const string&amp; fn, const string&amp; ln, bool ht) : TableTennisPlayer() \n{\n    rating = r;\n}\n</code></pre></p> <p>[5] \u521d\u59cb\u5316\u5217\u8868\u7684\u53c2\u6570\u6539\u4e3a\u7c7b\u6210\u5458\u65f6 <pre><code>RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer&amp; tp) : TableTennisPlayer(tp)\n{\n    rating = r;\n}\n\n\u7531\u4e8etp\u7c7b\u578b\u4e3aTableTennisPlayer&amp;\uff0c\u56e0\u6b64\u5c06\u8c03\u7528\u57fa\u7c7b\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\n\u57fa\u7c7b\u6ca1\u6709\u5b9a\u4e49\u590d\u5236\u6784\u9020\u51fd\u6570\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u5c06\u81ea\u52a8\u751f\u6210\u4e00\u4e2a\n\u8fd9\u79cd\u60c5\u51b5\u4e0b \u9690\u5f0f\u590d\u5236\u6784\u9020\u51fd\u6570 \u662f\u5408\u9002\u7684\n\u56e0\u4e3a\u8fd9\u4e2a\u7c7b\u6ca1\u6709\u4f7f\u7528 \u52a8\u6001\u5185\u5b58\u5206\u914d\uff01\n</code></pre></p> <p>[6] \u4e3a\u7b80\u5316\u4e5f\u53ef\u4ee5\u5bf9\u6d3e\u751f\u7c7b\u6210\u5458\u4f7f\u7528 \u6210\u5458\u521d\u59cb\u5316\u5217\u8868 \u8bed\u6cd5 1\uff09\u5bf9\u4e8e\u7ee7\u627f\u7684\u57fa\u7c7b\uff0c\u521d\u59cb\u5316\u5217\u8868\u7528\u7684\u662f\u7c7b\u540d: TableTennisPlayer(tp) 2\uff09\u5bf9\u4e8e\u6d3e\u751f\u7c7b\u5f85\u521d\u59cb\u5316\u7684\u6210\u5458\uff0c\u521d\u59cb\u5316\u5217\u8868\u7528\u7684\u662f\u6210\u5458\u540d\uff1arating(r) <pre><code>RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer&amp; tp) : TableTennisPlayer(tp),rating(r) {}\n</code></pre></p> <p>\u30103\u3011\u7ee7\u627f\u7684\u57fa\u672c\u603b\u7ed3\uff1a 1\uff09\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u7684\u8981\u70b9\uff1a</p> <p>[1] \u9996\u5148\u521b\u5efa\u57fa\u7c7b\u5bf9\u8c61 [2] \u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u901a\u8fc7 \u6210\u5458\u521d\u59cb\u5316\u5217\u8868 \u5c06\u57fa\u7c7b\u4fe1\u606f\u4f20\u9012\u7ed9\u57fa\u7c7b\u6784\u9020\u51fd\u6570 [3] \u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u5e94\u521d\u59cb\u5316\u6d3e\u751f\u7c7b\u65b0\u589e\u7684\u6570\u636e\u6210\u5458</p> <p>2\uff09\u987a\u5e8f\uff1a</p> <p>[1] \u91ca\u653e\u5bf9\u8c61\u7684\u987a\u5e8f\u4e0e\u521b\u5efa\u5bf9\u8c61\u7684\u987a\u5e8f\u76f8\u53cd\uff01\u5373\uff1a\u5148\u6267\u884c\u6d3e\u751f\u7c7b\u7684\u6790\u6784\u51fd\u6570\uff0c\u518d\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570 [2] ==\u521b\u5efa\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u7a0b\u5e8f\u9996\u5148\u8c03\u7528\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff0c\u7136\u540e\u518d\u8c03\u7528\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\uff08\u57fa\u7c7b\u6784\u9020\u51fd\u6570\u8d1f\u8d23\u521d\u59cb\u5316\u7ee7\u627f\u7684\u6570\u636e\u6210\u5458\uff1b\u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u4e3b\u8981\u7528\u4e8e\u521d\u59cb\u5316\u65b0\u589e\u7684\u6570\u636e\u6210\u5458\uff09==</p> <p>3\uff09\u6d3e\u751f\u7c7b\u548c\u57fa\u7c7b\u7684\u7279\u6b8a\u5173\u7cfb\uff1a</p> <p>[1] \u6d3e\u751f\u7c7b\u5bf9\u8c61\u53ef\u4ee5\u4f7f\u7528\u57fa\u7c7b\u7684\u65b9\u6cd5\uff0c\u6761\u4ef6\u662f\uff1a\u65b9\u6cd5\u4e0d\u662f\u79c1\u6709\u7684 [2] \u57fa\u7c7b\u6307\u9488\u53ef\u4ee5\u5728\u4e0d\u8fdb\u884c\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u7684\u60c5\u51b5\u4e0b\u6307\u5411\u6d3e\u751f\u7c7b\u6210\u5458\u3002\u53cd\u4e4b\u4e0d\u7136\uff01 [3] \u57fa\u7c7b\u5f15\u7528\u53ef\u4ee5\u5728\u4e0d\u8fdb\u884c\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\u7684\u60c5\u51b5\u4e0b\u5f15\u7528\u6d3e\u751f\u7c7b\u6210\u5458\u3002\u53cd\u4e4b\u4e0d\u7136\uff01 ps\uff1a==\u57fa\u7c7b\u6307\u9488/\u5f15\u7528 \u53ea\u80fd\u7528\u4e8e\u8c03\u7528 \u57fa\u7c7b\u65b9\u6cd5 \uff0c\u4e0d\u80fd\u8c03\u7528\u6d3e\u751f\u7c7b\u65b9\u6cd5==</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#2","title":"2\uff09\u591a\u6001\u516c\u6709\u7ee7\u627f","text":"<p>\uff081\uff09\u95ee\u9898\u5f15\u5165\uff1a <pre><code>// brass.h \u00a0-- bank account classes\n#ifndef BRASS_H_\n#define BRASS_H_\n#include &lt;string&gt;\n// Brass Account Class\nclass Brass\n{\nprivate:\n\u00a0 \u00a0 std::string fullName;\n\u00a0 \u00a0 long acctNum;\n\u00a0 \u00a0 double balance;\npublic:\n\u00a0 \u00a0 Brass(const std::string &amp; s = \"Nullbody\", long an = -1,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double bal = 0.0);\n\u00a0 \u00a0 void Deposit(double amt);\n\u00a0 \u00a0 virtual void Withdraw(double amt);\n\u00a0 \u00a0 double Balance() const;\n\u00a0 \u00a0 virtual void ViewAcct() const;\n\u00a0 \u00a0 virtual ~Brass() {}\n};\n\n//Brass Plus Account Class\nclass BrassPlus : public Brass\n{\nprivate:\n\u00a0 \u00a0 double maxLoan;\n\u00a0 \u00a0 double rate;\n\u00a0 \u00a0 double owesBank;\npublic:\n\u00a0 \u00a0 BrassPlus(const std::string &amp; s = \"Nullbody\", long an = -1,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double bal = 0.0, double ml = 500,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double r = 0.11125);\n\u00a0 \u00a0 BrassPlus(const Brass &amp; ba, double ml = 500,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double r = 0.11125);\n\u00a0 \u00a0 virtual void ViewAcct()const;\n\u00a0 \u00a0 virtual void Withdraw(double amt);\n\u00a0 \u00a0 void ResetMax(double m) { maxLoan = m; }\n\u00a0 \u00a0 void ResetRate(double r) { rate = r; };\n\u00a0 \u00a0 void ResetOwes() { owesBank = 0; }\n};\n#endif\n</code></pre></p> <p>\u5206\u6790\uff1a \u30101\u3011\u4e24\u4e2a\u7c7b\u90fd\u58f0\u660e\u4e86 ViewAcct() \u548c Withdraw() \u65b9\u6cd5\uff0c\u4f46\u662fBrassPlus\u5bf9\u8c61\u4e0eBrass\u5bf9\u8c61\u7684\u65b9\u6cd5\u884c\u4e3a\u662f\u4e0d\u540c\u7684\uff01</p> <p>\u30102\u3011\u5bf9\u4e8e\u5728\u4e24\u4e2a\u7c7b\u4e2d\u884c\u4e3a\u76f8\u540c\u7684\u65b9\u6cd5\uff0c\u5982\uff1aDeposit() \u548c Balance() \uff0c\u5219\u53ea\u5728\u57fa\u7c7b\u4e2d\u58f0\u660e\uff01</p> <p>\u30103\u3011\u4f7f\u7528 \u5173\u952e\u5b57virtual \u7684\u539f\u56e0\uff1a</p> <p>[1] \u5982\u679c\u6ca1\u6709virtual\uff0c\u7a0b\u5e8f\u5c06\u6839\u636e \u5f15\u7528\u7c7b\u578b or \u6307\u9488\u7c7b\u578b \u9009\u62e9\u65b9\u6cd5 [2] \u5982\u679c\u4f7f\u7528virtual\uff0c\u7a0b\u5e8f\u5c06\u6839\u636e \u5f15\u7528\u5bf9\u8c61 or \u6307\u9488\u6307\u5411\u7684\u5bf9\u8c61 \u7684\u7c7b\u578b \u6765\u9009\u62e9\u65b9\u6cd5 <pre><code>(1) \u5982\u679c ViewAcct() \u4e0d\u662f\u865a\u7684\uff0c\u5219\u7a0b\u5e8f\u7684\u884c\u4e3a\u5982\u4e0b\uff1a\n\nBrass dom(\"Dominic Banker\",11224,4183.45);\nBrassPlus dot(\"Dorthy Banker\",12118,2592.00);\nBrass&amp; b1 = dom;\nBrass&amp; b2 = dot;\nb1.ViewAcct(); // use Brass::ViewAcct()\nb2.ViewAcct(); // use Brass::ViewAcct()\n\n//\u5f15\u7528\u53d8\u91cf\u7684\u7c7b\u578b\u4e3aBrass\uff0c\u6240\u4ee5\u9009\u62e9\u4e86Brass::ViewAcct()\n---------------------------------------------------------------------------\n(2) \u5982\u679c ViewAcct() \u662f\u865a\u7684\uff0c\u5219\u7a0b\u5e8f\u7684\u884c\u4e3a\u5982\u4e0b\uff1a\n\nBrass dom(\"Dominic Banker\",11224,4183.45);\nBrassPlus dot(\"Dorthy Banker\",12118,2592.00);\nBrass&amp; b1 = dom;\nBrass&amp; b2 = dot;\nb1.ViewAcct(); // use Brass::ViewAcct()\nb2.ViewAcct(); // use BrassPlus::ViewAcct()\n\n//\u4e24\u4e2a\u5f15\u7528\u7684\u7c7b\u578b\u90fd\u662fBrass\uff0c\u4f46\u662fb2\u5f15\u7528\u7684\u662f\u4e00\u4e2aBrassPlus\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b83\u662fBrassPlus::ViewAcct()\n</code></pre></p> <p>\u30104\u3011\u7ecf\u5e38\u5728\u57fa\u7c7b\u4e2d\u5c06 \u6d3e\u751f\u7c7b\u4f1a\u91cd\u65b0\u5b9a\u4e49\u7684 \u65b9\u6cd5\u58f0\u660e\u4e3a\u865a\u65b9\u6cd5</p> <p>\u30105\u3011\u4e3a\u57fa\u7c7b\u58f0\u660e\u4e00\u4e2a\u865a\u6790\u6784\u51fd\u6570\u662f\u60ef\u4f8b\uff0c\u539f\u56e0\u89c1\u540e\u9762</p> <p>\uff082\uff09\u4e3b\u7a0b\u5e8f\u5206\u6790\uff1a <pre><code>// brass.cpp -- bank account class methods\n#include &lt;iostream&gt;\n#include \"brass.h\"\nusing std::cout;\nusing std::endl;\nusing std::string;\n\n// formatting stuff\ntypedef std::ios_base::fmtflags format;\ntypedef std::streamsize precis;\nformat setFormat();\nvoid restore(format f, precis p);\n\n// Brass methods\nBrass::Brass(const string &amp; s, long an, double bal)\n{\n\u00a0 \u00a0 fullName = s;\n\u00a0 \u00a0 acctNum = an;\n\u00a0 \u00a0 balance = bal;\n}\n\nvoid Brass::Deposit(double amt)\n{\n\u00a0 \u00a0 if (amt &lt; 0)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Negative deposit not allowed; \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"deposit is cancelled.\\n\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 balance += amt;\n}\n\nvoid Brass::Withdraw(double amt)\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\u00a0 \u00a0 if (amt &lt; 0)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Withdrawal amount must be positive; \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"withdrawal canceled.\\n\";\n\u00a0 \u00a0 else if (amt &lt;= balance)\n\u00a0 \u00a0 \u00a0 \u00a0 balance -= amt;\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Withdrawal amount of $\" &lt;&lt; amt\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \" exceeds your balance.\\n\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"Withdrawal canceled.\\n\";\n\n\u00a0 \u00a0 restore(initialState, prec);\n}\n\ndouble Brass::Balance() const\n{\n\u00a0 \u00a0 return balance;\n}\n\nvoid Brass::ViewAcct() const\n{\n\u00a0 \u00a0 \u00a0// set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\u00a0 \u00a0 cout &lt;&lt; \"Client: \" &lt;&lt; fullName &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Account Number: \" &lt;&lt; acctNum &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Balance: $\" &lt;&lt; balance &lt;&lt; endl;\n\u00a0 \u00a0 restore(initialState, prec); // Restore original format\n}\n\n// BrassPlus Methods\nBrassPlus::BrassPlus(const string &amp; s, long an, double bal,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double ml, double r) : Brass(s, an, bal)\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n\nBrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0: Brass(ba) \u00a0 // uses implicit copy constructor\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n\n// redefine how ViewAcct() works\nvoid BrassPlus::ViewAcct() const\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\n\u00a0 \u00a0 Brass::ViewAcct(); \u00a0 // display base portion\n\u00a0 \u00a0 cout &lt;&lt; \"Maximum loan: $\" &lt;&lt; maxLoan &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Owed to bank: $\" &lt;&lt; owesBank &lt;&lt; endl;\n\u00a0 \u00a0 cout.precision(3); \u00a0// ###.### format\n\u00a0 \u00a0 cout &lt;&lt; \"Loan Rate: \" &lt;&lt; 100 * rate &lt;&lt; \"%\\n\";\n\u00a0 \u00a0 restore(initialState, prec);\n}\n\n// redefine how Withdraw() works\nvoid BrassPlus::Withdraw(double amt)\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\n\u00a0 \u00a0 double bal = Balance();\n\u00a0 \u00a0 if (amt &lt;= bal)\n\u00a0 \u00a0 \u00a0 \u00a0 Brass::Withdraw(amt);\n\u00a0 \u00a0 else if ( amt &lt;= bal + maxLoan - owesBank)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 double advance = amt - bal;\n\u00a0 \u00a0 \u00a0 \u00a0 owesBank += advance * (1.0 + rate);\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Bank advance: $\" &lt;&lt; advance &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Finance charge: $\" &lt;&lt; advance * rate &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 Deposit(advance);\n\u00a0 \u00a0 \u00a0 \u00a0 Brass::Withdraw(amt);\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Credit limit exceeded. Transaction cancelled.\\n\";\n\u00a0 \u00a0 restore(initialState, prec);\n}\n\nformat setFormat()\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 return cout.setf(std::ios_base::fixed,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 std::ios_base::floatfield);\n}\n\nvoid restore(format f, precis p)\n{\n\u00a0 \u00a0 cout.setf(f, std::ios_base::floatfield);\n\u00a0 \u00a0 cout.precision(p);\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#usebrass1cpp-testing-bank-account-classes-compile-with-brasscpp-include-iostream-include-brassh-int-main-using-stdcout-using-stdendl-brass-piggyporcelot-pigg-381299-400000-brassplus-hoggyhoratio-hogg-382288-300000-piggyviewacct-cout-endl-hoggyviewacct-cout-endl-cout-depositing-1000-into-the-hogg-accountn-hoggydeposit100000-cout-new-balance-hoggybalance-endl-cout-withdrawing-4200-from-the-pigg-accountn-piggywithdraw420000-cout-pigg-account-balance-piggybalance-endl-cout-withdrawing-4200-from-the-hogg-accountn-hoggywithdraw420000-hoggyviewacct-stdcinget-return-0","title":"<pre><code>\u5e38\u89c4\u4f7f\u7528\uff1a\n// usebrass1.cpp -- testing bank account classes\n// compile with brass.cpp\n#include &lt;iostream&gt;\n#include \"brass.h\"\n\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\n\u00a0 \u00a0 Brass Piggy(\"Porcelot Pigg\", 381299, 4000.00);\n\u00a0 \u00a0 BrassPlus Hoggy(\"Horatio Hogg\", 382288, 3000.00);\n\n\u00a0 \u00a0 Piggy.ViewAcct();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 Hoggy.ViewAcct();\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Depositing $1000 into the Hogg Account:\\n\";\n\u00a0 \u00a0 Hoggy.Deposit(1000.00);\n\u00a0 \u00a0 cout &lt;&lt; \"New balance: $\" &lt;&lt; Hoggy.Balance() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Withdrawing $4200 from the Pigg Account:\\n\";\n\u00a0 \u00a0 Piggy.Withdraw(4200.00);\n\u00a0 \u00a0 cout &lt;&lt; \"Pigg account balance: $\" &lt;&lt; Piggy.Balance() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Withdrawing $4200 from the Hogg Account:\\n\";\n\u00a0 \u00a0 Hoggy.Withdraw(4200.00);\n\u00a0 \u00a0 Hoggy.ViewAcct();\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre>","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#usebrass2cpp-polymorphic-example-compile-with-brasscpp-include-iostream-include-string-include-brassh-const-int-clients-4-int-main-using-stdcin-using-stdcout-using-stdendl-brass-p_clientsclients-stdstring-temp-long-tempnum-double-tempbal-char-kind-for-int-i-0-i-clients-i-cout-enter-clients-name-getlinecintemp-cout-enter-clients-account-number-cin-tempnum-cout-enter-opening-balance-cin-tempbal-cout-enter-1-for-brass-account-or-2-for-brassplus-account-while-cin-kind-kind-1-kind-2-cout-enter-either-1-or-2-if-kind-1-p_clientsi-new-brasstemp-tempnum-tempbal-else-double-tmax-trate-cout-enter-the-overdraft-limit-cin-tmax-cout-enter-the-interest-rate-as-a-decimal-fraction-cin-trate-p_clientsi-new-brassplustemp-tempnum-tempbal-tmax-trate-while-cinget-n-continue-cout-endl-for-int-i-0-i-clients-i-p_clientsi-viewacct-cout-endl-for-int-i-0-i-clients-i-delete-p_clientsi-free-memory-cout-donen-code-to-keep-window-open-if-cin-cinclear-while-cinget-n-continue-return-0","title":"<pre><code>\u6f14\u793a\u865a\u65b9\u6cd5\uff1a\n// usebrass2.cpp -- polymorphic example\n// compile with brass.cpp\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"brass.h\"\nconst int CLIENTS = 4;\nint main()\n{\n\u00a0 \u00a0using std::cin;\n\u00a0 \u00a0using std::cout;\n\u00a0 \u00a0using std::endl;\n\n\u00a0 \u00a0Brass * p_clients[CLIENTS];\n\u00a0 \u00a0std::string temp;\n\u00a0 \u00a0long tempnum;\n\u00a0 \u00a0double tempbal;\n\u00a0 \u00a0char kind;\n\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter client's name: \";\n\u00a0 \u00a0 \u00a0 \u00a0getline(cin,temp);\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter client's account number: \";\n\u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tempnum;\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter opening balance: $\";\n\u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tempbal;\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter 1 for Brass Account or \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"2 for BrassPlus Account: \";\n\n\u00a0 \u00a0 \u00a0 \u00a0while (cin &gt;&gt; kind &amp;&amp; (kind != '1' &amp;&amp; kind != '2'))\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt;\"Enter either 1 or 2: \";\n\u00a0 \u00a0 \u00a0 \u00a0if (kind == '1')\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0p_clients[i] = new Brass(temp, tempnum, tempbal);\n\u00a0 \u00a0 \u00a0 \u00a0else\n\u00a0 \u00a0 \u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double tmax, trate;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter the overdraft limit: $\";\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tmax;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter the interest rate \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"as a decimal fraction: \";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; trate;\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0p_clients[i] = new BrassPlus(temp, tempnum, tempbal,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tmax, trate);\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\n\u00a0 \u00a0 \u00a0 \u00a0 while (cin.get() != '\\n')\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0}\n\u00a0 \u00a0cout &lt;&lt; endl;\n\u00a0 \u00a0\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0p_clients[i]-&gt;ViewAcct();\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; endl;\n   }\n\u00a0 \u00a0\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0delete p_clients[i]; \u00a0// free memory\n\u00a0 \u00a0}\n\u00a0 \u00a0cout &lt;&lt; \"Done.\\n\"; \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0/* code to keep window open\n\u00a0 \u00a0if (!cin)\n\u00a0 \u00a0 \u00a0 cin.clear();\n\u00a0 \u00a0while (cin.get() != '\\n')\n\u00a0 \u00a0 \u00a0 continue;\n*/\n\u00a0 \u00a0return 0;\n}\n</code></pre>","text":"<p>\u5206\u6790\uff1a 1\uff09\u5173\u952e\u5b57virtual\u53ea\u7528\u4e8e\u7c7b\u58f0\u660e\u7684\u65b9\u6cd5\u539f\u578b\u4e2d\uff0c\u800c\u6ca1\u6709\u7528\u4e8e\u65b9\u6cd5\u5b9a\u4e49\u4e2d <pre><code>\u770b\u8fd9\u4e24\u4e2a\u865a\u51fd\u6570\u7684\u65b9\u6cd5\u5b9a\u4e49\uff1a\nvoid Brass::Withdraw(double amt) {...}\nvoid Brass::ViewAcct() const {...}\nvoid BrassPlus::ViewAcct() const {...}\nvoid BrassPlus::withdraw(double amt) {...}\n</code></pre></p> <p>2\uff09\u6d3e\u751f\u7c7b\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u7684\u79c1\u6709\u6570\u636e\uff0c\u5fc5\u987b\u4f7f\u7528\u57fa\u7c7b\u7684\u516c\u6709\u65b9\u6cd5\uff0c\u8bbf\u95ee\u7684\u65b9\u5f0f\u53d6\u51b3\u4e8e\u65b9\u6cd5</p> <p>[1] \u6d3e\u751f\u7c7b\u6784\u9020\u51fd\u6570\u5728\u521d\u59cb\u5316 ==\u57fa\u7c7b\u79c1\u6709\u6570\u636e== \u65f6\uff0c\u91c7\u7528\u7684\u662f==\u6210\u5458\u521d\u59cb\u5316\u5217\u8868==\u7684\u8bed\u6cd5 <pre><code>// BrassPlus Methods\n\u5f62\u5f0f(1)\nBrassPlus::BrassPlus(const string &amp; s, long an, double bal,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double ml, double r) : Brass(s, an, bal)\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n-----------------------------------------------------------------------\n\u5f62\u5f0f(2)\nBrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0: Brass(ba) \u00a0 // uses implicit copy constructor\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n\n\u5728\u8fd9\u91cc\uff1aconst Brass&amp; ba \u5c31\u662f\u5bf9\u4e0a\u6587 const string &amp; s + long an + double bal\u7684\u7c7b\u5bf9\u8c61\u6982\u62ec\n</code></pre></p> <p>[2] \u975e\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u4f7f\u7528\u521d\u59cb\u5316\u5217\u8868\uff0c\u4f46\u662f\u6d3e\u751f\u7c7b\u65b9\u6cd5\u53ef\u4ee5\u8c03\u7528\u516c\u6709\u7684\u57fa\u7c7b\u65b9\u6cd5 <pre><code>// redefine how ViewAcct() works\nvoid BrassPlus::ViewAcct() const\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\n\u00a0 \u00a0 Brass::ViewAcct(); \u00a0 // display base portion             // \u6f14\u793a \u57fa\u7c7b\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 cout &lt;&lt; \"Maximum loan: $\" &lt;&lt; maxLoan &lt;&lt; endl;            // \u6f14\u793a \u6d3e\u751f\u7c7b\u65b0\u589e\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 cout &lt;&lt; \"Owed to bank: $\" &lt;&lt; owesBank &lt;&lt; endl;           // \u6f14\u793a \u6d3e\u751f\u7c7b\u65b0\u589e\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 cout.precision(3); \u00a0// ###.### format\n\u00a0 \u00a0 cout &lt;&lt; \"Loan Rate: \" &lt;&lt; 100 * rate &lt;&lt; \"%\\n\";            // \u6f14\u793a \u6d3e\u751f\u7c7b\u65b0\u589e\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 restore(initialState, prec);\n}\n\n// redefine how Withdraw() works\nvoid BrassPlus::Withdraw(double amt)\n{\n\u00a0 \u00a0 // set up ###.## format\n\u00a0 \u00a0 format initialState = setFormat();\n\u00a0 \u00a0 precis prec = cout.precision(2);\n\n\u00a0 \u00a0 double bal = Balance();                                         // \u6f14\u793a \u57fa\u7c7b\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 if (amt &lt;= bal)\n\u00a0 \u00a0 \u00a0 \u00a0 Brass::Withdraw(amt);                                       // \u6f14\u793a \u57fa\u7c7b\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 else if ( amt &lt;= bal + maxLoan - owesBank)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 double advance = amt - bal;\n\u00a0 \u00a0 \u00a0 \u00a0 owesBank += advance * (1.0 + rate);\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Bank advance: $\" &lt;&lt; advance &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Finance charge: $\" &lt;&lt; advance * rate &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 Deposit(advance);\n\u00a0 \u00a0 \u00a0 \u00a0 Brass::Withdraw(amt);                                       // \u6f14\u793a \u57fa\u7c7b\u6210\u5458\u4fe1\u606f\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Credit limit exceeded. Transaction cancelled.\\n\";\n\u00a0 \u00a0 restore(initialState, prec);\n}\n\n--------------------------------------------------------------------------------------------\n\u89e3\u91ca\uff1a\u5173\u4e8e\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26::\u7684\u95ee\u9898\n\n\uff081\uff09 Brass::ViewAcct(); \u00a0 // display base portion\n\u8bf4\u660e\uff1a BrassPlus::ViewAcct() \u663e\u793a\u65b0\u589e\u7684BrassPlus\u6570\u636e\u6210\u5458\uff0c\u5e76\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5 Brass::ViewAcct() \u6765\u663e\u793a\u57fa\u7c7b\u6570\u636e\u6210\u5458\n\u8fd9\u91cc\u5fc5\u987b\u52a0\u4e0a :: \uff0c\u56e0\u4e3a ViewAcct() \u51fd\u6570\u5b58\u5728\u4e8c\u4e49\u6027\uff01\n\n\uff082\uff09 double bal = Balance();   // \u6f14\u793a \u57fa\u7c7b\u6210\u5458\u4fe1\u606f\n\u8bf4\u660e1\uff1a \u4f7f\u7528\u57fa\u7c7b\u7684 Balance() \u51fd\u6570\u786e\u5b9a\u4f59\u989d\uff0c\u56e0\u4e3a\u6d3e\u751f\u7c7b\u6ca1\u6709\u91cd\u65b0\u5b9a\u4e49\u8be5\u65b9\u6cd5\uff0c\u4ee3\u7801\u4e0d\u5fc5\u5bf9 balance() \u4f7f\u7528 :: \u3010\u4e0d\u5b58\u5728\u4e8c\u4e49\u6027\uff01\u3011\n\u8bf4\u660e2\uff1a \u8fd9\u91cc\u80fd\u591f\u81ea\u52a8\u8bc6\u522b\u51fa\u6765\u662f Brass::Balance() \u8fd8\u56e0\u4e3a\uff1a\u6d3e\u751f\u7c7b\u80fd\u8c03\u7528\u57fa\u7c7b\u7684\u516c\u6709\u65b9\u6cd5\uff01\n</code></pre></p> <p>[3] \u591a\u6001\u6027\u6f14\u793a\uff1a ![[Pasted image 20230803150341.png]] <pre><code>\u6f14\u793a\u865a\u65b9\u6cd5\uff1a\n// usebrass2.cpp -- polymorphic example\n// compile with brass.cpp\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n#include \"brass.h\"\nconst int CLIENTS = 4;\nint main()\n{\n\u00a0 \u00a0using std::cin;\n\u00a0 \u00a0using std::cout;\n\u00a0 \u00a0using std::endl;\n\n\u00a0 \u00a0Brass * p_clients[CLIENTS];----------------------------------- // \u5efa\u7acb \u6307\u5411Brass\u7c7b\u578b\u7684\u6307\u9488 \u6570\u7ec4\n\u00a0 \u00a0std::string temp;\n\u00a0 \u00a0long tempnum;\n\u00a0 \u00a0double tempbal;\n\u00a0 \u00a0char kind;\n\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter client's name: \";\n\u00a0 \u00a0 \u00a0 \u00a0getline(cin,temp);\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter client's account number: \";\n\u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tempnum;\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter opening balance: $\";\n\u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tempbal;\n\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter 1 for Brass Account or \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"2 for BrassPlus Account: \";\n\n\u00a0 \u00a0 \u00a0 \u00a0while (cin &gt;&gt; kind &amp;&amp; (kind != '1' &amp;&amp; kind != '2'))\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt;\"Enter either 1 or 2: \";\n\u00a0 \u00a0 \u00a0 \u00a0if (kind == '1')\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0p_clients[i] = new Brass(temp, tempnum, tempbal);------// \u65b0\u5efa Brass\u5bf9\u8c61\n\u00a0 \u00a0 \u00a0 \u00a0else\n\u00a0 \u00a0 \u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double tmax, trate;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter the overdraft limit: $\";\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; tmax;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; \"Enter the interest rate \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"as a decimal fraction: \";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0cin &gt;&gt; trate;\n\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0p_clients[i] = new BrassPlus(temp, tempnum, tempbal,---// \u65b0\u5efa BrassPlus\u5bf9\u8c61\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 tmax, trate);\n\u00a0 \u00a0 \u00a0 \u00a0 }\n\n\u00a0 \u00a0 \u00a0 \u00a0 while (cin.get() != '\\n')\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0}\n\u00a0 \u00a0cout &lt;&lt; endl;\n\u00a0 \u00a0\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0p_clients[i]-&gt;ViewAcct();---------------------------------// \u8f93\u51fa \u6570\u7ec4\u5bf9\u8c61\uff08Brass + BrassPlus\uff09\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; endl;\n   }\n\u00a0 \u00a0\n\u00a0 \u00a0for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0delete p_clients[i]; \u00a0   free memory----------------------// \u5220\u9664 \u6570\u7ec4\u5bf9\u8c61\uff08Brass + BrassPlus\uff09\n\u00a0 \u00a0}\n\u00a0 \u00a0cout &lt;&lt; \"Done.\\n\"; \u00a0 \u00a0 \u00a0 \u00a0\n\u00a0/* code to keep window open\n\u00a0 \u00a0if (!cin)\n\u00a0 \u00a0 \u00a0 cin.clear();\n\u00a0 \u00a0while (cin.get() != '\\n')\n\u00a0 \u00a0 \u00a0 continue;\n*/\n\u00a0 \u00a0return 0;\n}\n</code></pre> \u591a\u6001\u6027\u7684\u4f53\u73b0\u5728\u4e8e\uff1a <pre><code>   for (int i = 0; i &lt; CLIENTS; i++)\n\u00a0 \u00a0{\n\u00a0 \u00a0 \u00a0 \u00a0p_clients[i]-&gt;ViewAcct();---------------------------------// \u8f93\u51fa \u6570\u7ec4\u5bf9\u8c61\uff08Brass + BrassPlus\uff09\n\u00a0 \u00a0 \u00a0 \u00a0cout &lt;&lt; endl;\n   }\n</code></pre> \u5982\u679c\u6570\u7ec4\u6210\u5458\u6307\u5411\u7684\u662fBrass\u5bf9\u8c61\uff0c\u5219\u8c03\u52a8 Brass : : ViewAcct( ) \uff1b\u5982\u679c\u6307\u5411\u7684\u662fBrassPlus\u5bf9\u8c61\uff0c\u5219\u8c03\u7528 BrassPlus : : ViewAcct( ) ps: \u5982\u679c BrassPlus : : Acct( )\u6ca1\u6709\u88ab\u58f0\u660e\u4e3a\u865a\u7684\uff0c\u5219\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u662f\u6309\u7167\u6307\u9488\u7c7b\u578b\u5904\u7406\uff0c\u5373\u8c03\u7528\u7684\u662f Brass : : ViewAcct( )</p> <p>[4] \u4e3a\u4ec0\u4e48\u9700\u8981\u8bbe\u7f6e\u865a\u6790\u6784\u51fd\u6570\uff1a \u5982\u679c\u6307\u9488\u6307\u5411\u7684\u662fBrassPlus\u5bf9\u8c61\uff0c\u5c06\u8c03\u7528BrassPlus\u7684\u6790\u6784\u51fd\u6570\uff0c\u7136\u540e\u81ea\u52a8\u8c03\u7528\u57fa\u7c7b\u7684\u6790\u6784\u51fd\u6570 \u3010\u4f7f\u7528\u865a\u6790\u6784\u51fd\u6570\u53ef\u4ee5\u786e\u4fdd\u6b63\u786e\u7684\u6790\u6784\u51fd\u6570\u5e8f\u5217\u88ab\u8c03\u7528\uff0c\u5fc5\u987b\u8bbe\u7f6e\uff01\u3011</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#3","title":"3\uff09\u9759\u6001\u8054\u7f16\u548c\u52a8\u6001\u8054\u7f16","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#1_1","title":"\uff081\uff09\u5f15\u5165\uff1a","text":"<p>\u51fd\u6570\u540d\u8054\u7f16\uff1a\u5c06\u6e90\u4ee3\u7801\u4e2d\u7684\u51fd\u6570\u8c03\u7528\u89e3\u91ca\u4e3a\u6267\u884c\u7279\u5b9a\u7684\u51fd\u6570\u4ee3\u7801\u5757 \u9759\u6001\u8054\u7f16\uff1a\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\u8fdb\u884c\u7684\u8054\u7f16\uff08static binding\uff09 \u52a8\u6001\u8054\u7f16\uff1a\u4f7f\u7528\u54ea\u4e00\u4e2a\u51fd\u6570\u662f\u4e0d\u80fd\u5728\u7f16\u8bd1\u65f6\u786e\u5b9a\u7684\uff0c\u56e0\u4e3a\u7f16\u8bd1\u5668\u4e0d\u77e5\u9053\u7528\u6237\u5c06\u9009\u62e9\u54ea\u79cd\u7c7b\u578b\u7684\u5bf9\u8c61\u3002\u7f16\u8bd1\u5668\u5fc5\u987b\u751f\u6210\u80fd\u591f\u5728\u7a0b\u5e8f\u8fd0\u884c\u65f6\u9009\u62e9\u6b63\u786e\u7684\u865a\u51fd\u6570\u7684\u4ee3\u7801\uff08dynamic binding\uff09</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#2_1","title":"\uff082\uff09\u6307\u9488\u548c\u5f15\u7528\u7c7b\u578b\u7684\u517c\u5bb9\u6027\uff1a","text":"<p>\u30101\u3011\u901a\u5e38 c++ \u4e0d\u5141\u8bb8\u5c06\u4e00\u79cd\u7c7b\u578b\u7684\u5730\u5740\u8d4b\u7ed9\u53e6\u4e00\u79cd\u7c7b\u578b\u7684\u6307\u9488\uff0c\u4e5f\u4e0d\u5141\u8bb8\u4e00\u79cd\u7c7b\u578b\u7684\u5f15\u7528\u6307\u5411\u53e6\u4e00\u79cd\u7c7b\u578b <pre><code>double x = 2.5;\nint* pi = &amp;x;  //invalid!  double -&gt; int\nlong&amp; rl = x;  //invalid!  double -&gt; long\n</code></pre></p> <p>\u30102\u3011\u6307\u5411\u57fa\u7c7b\u7684\u5f15\u7528or\u6307\u9488\u53ef\u4ee5\u5f15\u7528\u6d3e\u751f\u7c7b\u5bf9\u8c61\uff0c\u800c\u4e0d\u5fc5\u8fdb\u884c\u663e\u793a\u7c7b\u578b\u8f6c\u6362\u2014\u2014\u5411\u4e0a\u5f3a\u5236\u8f6c\u6362(upcasting) <pre><code>BrassPlus hbx(\"shhss\",498888,549);\nBrass* pb = &amp;hbx;  //ok\nBrass&amp; rb = hbx;   //ok\n\n\u5c06 \u6d3e\u751f\u7c7b\u5f15\u7528or\u6307\u9488 \u8f6c\u6362\u4e3a \u57fa\u7c7b\u5f15\u7528or\u6307\u9488 \u88ab\u79f0\u4e3a\uff1a\u5411\u4e0a\u5f3a\u5236\u8f6c\u6362(upcasting)\uff0c\u8fd9\u4f7f\u5f97\u516c\u6709\u7ee7\u627f\u4e0d\u9700\u8981\u8fdb\u884c\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\n</code></pre> ![[Pasted image 20230804102112.png]]</p> <p>\u30103\u3011\u5c06 \u57fa\u7c7b\u6307\u9488or\u5f15\u7528 \u8f6c\u6362\u4e3a \u6d3e\u751f\u7c7b\u6307\u9488or\u5f15\u7528 \u2014\u2014\u5411\u4e0b\u5f3a\u5236\u8f6c\u6362(downcasting)\uff0c\u5fc5\u987b\u663e\u5f0f\u7c7b\u578b\u8f6c\u6362\uff01</p> <p>\u30104\u3011\u5bf9\u4e8e\u4f7f\u7528\u57fa\u7c7b\u5f15\u7528or\u6307\u9488\u4f5c\u4e3a\u53c2\u6570\u7684\u51fd\u6570\u8c03\u7528\uff0c\u5c06\u8fdb\u884cupcasting ![[Pasted image 20230804102524.png]] \u8bf4\u660e\uff1a\u6309\u503c\u4f20\u9012\u53ea\u5c06BrassPlus\u5bf9\u8c61\u7684Brass\u90e8\u5206\u4f20\u9012\u7ed9\u51fd\u6570 fv( ) \u3002\u4f46\u968f\u5f15\u7528\u548c\u6307\u9488\u53d1\u751f\u7684upcasting\u5bfc\u81f4fr( )\u4e0efp( ) \u5206\u522b\u4e3aBrass\u5bf9\u8c61\u548cBrassPlus\u5bf9\u8c61\u4f7f\u7528Brass : : ViewAcct() \u548c BrassPlus : : ViewAcct()</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#3_1","title":"\uff083\uff09\u865a\u51fd\u6570\u5de5\u4f5c\u539f\u7406\uff1a","text":"<p>![[Pasted image 20230804103849.png]] ![[Pasted image 20230804103905.png]] ![[Pasted image 20230804104020.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#4","title":"\uff084\uff09\u865a\u51fd\u6570\u7684\u6ce8\u610f\u4e8b\u9879\uff1a","text":"<p>\u3010\u57fa\u7840\u77e5\u8bc6\u3011 ![[Pasted image 20230804104253.png]]</p> <p>\u3010\u6df1\u5165\u4e86\u89e3\u3011 \uff081\uff09\u6784\u9020\u51fd\u6570 </p> <p>\u6784\u9020\u51fd\u6570\u4e0d\u80fd\u662f\u865a\u51fd\u6570 \u521b\u5efa\u6d3e\u751f\u7c7b\u5bf9\u8c61\u65f6\uff0c\u5c06\u8c03\u7528\u6d3e\u751f\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u800c\u4e0d\u662f\u57fa\u7c7b\u7684\u6784\u9020\u51fd\u6570\uff0c\u7136\u540e\uff0c\u6d3e\u751f\u7c7b\u7684\u6784\u9020\u51fd\u6570\u5c06\u4f7f\u7528\u57fa\u7c7b\u7684\u4e00\u4e2a\u6784\u9020\u51fd\u6570\uff0c\u8fd9\u79cd\u987a\u5e8f\u4e0d\u662f\u7ee7\u627f\u673a\u5236</p> <p>\uff082\uff09\u6790\u6784\u51fd\u6570</p> <p>\u6790\u6784\u51fd\u6570\u5fc5\u987b\u662f\u865a\u51fd\u6570\uff08\u901a\u5e38\u5e94\u7ed9\u57fa\u7c7b\u52a0\u4e00\u4e2a\u865a\u6790\u6784\u51fd\u6570\uff0c\u5373\u4f7f\u5b83\u5e76\u4e0d\u9700\u8981\u6790\u6784\uff09 ![[Pasted image 20230804104802.png]]</p> <p>\uff083\uff09\u53cb\u5143</p> <p>\u53cb\u5143\u4e0d\u80fd\u662f\u865a\u51fd\u6570\uff0c\u56e0\u4e3a\u53cb\u5143\u4e0d\u662f\u7c7b\u6210\u5458\uff0c\u53ea\u6709\u6210\u5458\u624d\u80fd\u662f\u865a\u51fd\u6570</p> <p>\uff084\uff09\u91cd\u65b0\u5b9a\u4e49\u5c06\u9690\u85cf\u65b9\u6cd5 ![[Pasted image 20230804105132.png]] ![[Pasted image 20230804105320.png]] ![[Pasted image 20230804105355.png]] ![[Pasted image 20230804105408.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#4protected","title":"4\uff09\u8bbf\u95ee\u63a7\u5236\uff1aprotected","text":"<p>\uff081\uff09\u5173\u952e\u5b57protected\u4e0eprivate\u76f8\u4f3c\uff0c\u5728\u7c7b\u5916\u53ea\u6709\u7528\u516c\u6709\u7c7b\u6210\u5458\u6765\u8bbf\u95eeprotected\u90e8\u5206\u7684\u7c7b\u6210\u5458 \uff082\uff09private\u4e0eprotected\u4e4b\u95f4\u7684\u533a\u522b\uff1a\u6d3e\u751f\u7c7b\u6210\u5458\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u7684protected\u6210\u5458\uff1b\u4f46\u4e0d\u80fd\u76f4\u63a5\u8bbf\u95ee\u57fa\u7c7b\u7684\u79c1\u6709\u6210\u5458 ![[Pasted image 20230804105727.png]] ![[Pasted image 20230804105815.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#5abstract-base-classabc","title":"5\uff09\u62bd\u8c61\u57fa\u7c7b\uff08abstract base class\uff0cABC\uff09","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#1_2","title":"\uff081\uff09\u5f15\u5165\uff1a","text":"<p>![[Pasted image 20230804111915.png]] ![[Pasted image 20230804112147.png]] ![[Pasted image 20230804112158.png]]</p> <p>![[Pasted image 20230804112243.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#2_2","title":"\uff082\uff09\u793a\u4f8b\u5e94\u7528\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#acctabch-bank-account-classes-ifndef-acctabc_h_-define-acctabc_h_-include-iostream-include-string-abstract-base-class-class-acctabc-private-stdstring-fullname-long-acctnum-double-balance-protected-struct-formatting-stdios_basefmtflags-flag-stdstreamsize-pr-const-stdstring-fullname-const-return-fullname-long-acctnum-const-return-acctnum-formatting-setformat-const-void-restoreformatting-f-const-public-acctabcconst-stdstring-s-nullbody-long-an-1-double-bal-00-void-depositdouble-amt-virtual-void-withdrawdouble-amt-0-pure-virtual-function-double-balance-const-return-balance-virtual-void-viewacct-const-0-pure-virtual-function-virtual-acctabc-brass-account-class-class-brass-public-acctabc-public-brassconst-stdstring-s-nullbody-long-an-1-double-bal-00-acctabcs-an-bal-abc-virtual-void-withdrawdouble-amt-abc-virtual-void-viewacct-const-abc-virtual-brass-brass-plus-account-class-class-brassplus-public-acctabc-private-double-maxloan-double-rate-double-owesbank-3-public-brassplusconst-stdstring-s-nullbody-long-an-1-double-bal-00-double-ml-500-double-r-010-abc-brassplusconst-brass-ba-double-ml-500-double-r-01-virtual-void-viewacctconst-abc-virtual-void-withdrawdouble-amt-abc-void-resetmaxdouble-m-maxloan-m-void-resetratedouble-r-rate-r-void-resetowes-owesbank-0-3-endif","title":"<pre><code>// acctabc.h \u00a0-- bank account classes\n#ifndef ACCTABC_H_\n#define ACCTABC_H_\n#include &lt;iostream&gt;\n#include &lt;string&gt;\n\n// Abstract Base Class\nclass AcctABC\n{\nprivate:\n\u00a0 \u00a0 std::string fullName;\n\u00a0 \u00a0 long acctNum;\n\u00a0 \u00a0 double balance;\n\nprotected:\n\u00a0 \u00a0 struct Formatting\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0std::ios_base::fmtflags flag;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0std::streamsize pr;\n\u00a0 \u00a0 };\n\u00a0 \u00a0 const std::string &amp; FullName() const {return fullName;}\n\u00a0 \u00a0 long AcctNum() const {return acctNum;}\n\u00a0 \u00a0 Formatting SetFormat() const;\n\u00a0 \u00a0 void Restore(Formatting &amp; f) const;\n\npublic:\n\u00a0 \u00a0 AcctABC(const std::string &amp; s = \"Nullbody\", long an = -1,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double bal = 0.0);\n\u00a0 \u00a0 void Deposit(double amt) ;\n\u00a0 \u00a0 virtual void Withdraw(double amt) = 0; -------------------------------------- pure virtual function\n\u00a0 \u00a0 double Balance() const {return balance;};\n\u00a0 \u00a0 virtual void ViewAcct() const = 0; \u00a0 \u00a0 -------------------------------------- pure virtual function\n\u00a0 \u00a0 virtual ~AcctABC() {}                  -------------------------------------- \u522b\u5fd8\u4e86\u865a\u6790\u6784\u51fd\u6570\n};\n\n// Brass Account Class\nclass Brass :public AcctABC\n{\npublic:\n\u00a0 \u00a0 Brass(const std::string &amp; s = \"Nullbody\", long an = -1,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double bal = 0.0) : AcctABC(s, an, bal) { }     ------------------------\u666e\u901a\u7684\u5c31\u76f4\u63a5\u7ee7\u627fABC\n\u00a0 \u00a0 virtual void Withdraw(double amt);                     ------------------------\u7ee7\u627fABC\u7684\u7eaf\u865a\u51fd\u6570 =&gt; \u865a\u51fd\u6570\n\u00a0 \u00a0 virtual void ViewAcct() const;                         ------------------------\u7ee7\u627fABC\u7684\u7eaf\u865a\u51fd\u6570 =&gt; \u865a\u51fd\u6570\n\u00a0 \u00a0 virtual ~Brass() {}\n};\n\n//Brass Plus Account Class\nclass BrassPlus : public AcctABC\n{\nprivate:\n\u00a0 \u00a0 double maxLoan;\n\u00a0 \u00a0 double rate;\n\u00a0 \u00a0 double owesBank;                      ---------------------------------------- \u65b0\u589e 3 \u4e2a\u6570\u636e\u6210\u5458\n\npublic:\n\u00a0 \u00a0 BrassPlus(const std::string &amp; s = \"Nullbody\", long an = -1,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double bal = 0.0, double ml = 500,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 double r = 0.10);                              ------------------------\u666e\u901a\u7684\u5c31\u76f4\u63a5\u7ee7\u627fABC\n\u00a0 \u00a0 BrassPlus(const Brass &amp; ba, double ml = 500, double r = 0.1);\n\u00a0 \u00a0 virtual void ViewAcct()const;                          ------------------------\u7ee7\u627fABC\u7684\u7eaf\u865a\u51fd\u6570 =&gt; \u865a\u51fd\u6570\n\u00a0 \u00a0 virtual void Withdraw(double amt);                     ------------------------\u7ee7\u627fABC\u7684\u7eaf\u865a\u51fd\u6570 =&gt; \u865a\u51fd\u6570\n\u00a0 \u00a0 void ResetMax(double m) { maxLoan = m; }\n\u00a0 \u00a0 void ResetRate(double r) { rate = r; };\n\u00a0 \u00a0 void ResetOwes() { owesBank = 0; }                     ------------------------\u65b0\u589e 3 \u4e2a\u6d3e\u751f\u7c7b\u6210\u5458\u51fd\u6570\n};\n#endif\n</code></pre>","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#acctabccpp-bank-account-class-methods-include-iostream-include-acctabch-using-stdcout-using-stdios_base-using-stdendl-using-stdstring-abstract-base-class-acctabcacctabcconst-string-s-long-an-double-bal-abc-fullname-s-acctnum-an-balance-bal-void-acctabcdepositdouble-amt-abc-if-amt-0-cout-negative-deposit-not-allowed-deposit-is-cancelledn-else-balance-amt-void-acctabcwithdrawdouble-amt-balance-amt-protected-methods-for-formatting-acctabcformatting-acctabcsetformat-const-set-up-format-formatting-f-fflag-coutsetfios_basefixed-ios_basefloatfield-fpr-coutprecision2-return-f-void-acctabcrestoreformatting-f-const-coutsetffflag-ios_basefloatfield-coutprecisionfpr-brass-methods-void-brasswithdrawdouble-amt-1-if-amt-0-cout-withdrawal-amount-must-be-positive-withdrawal-canceledn-else-if-amt-balance-abcbalance-acctabcwithdrawamt-abcwithdraw-else-cout-withdrawal-amount-of-amt-exceeds-your-balancen-withdrawal-canceledn-void-brassviewacct-const-1-formatting-f-setformat-cout-brass-client-fullname-endl-abcfullname-cout-account-number-acctnum-endl-abcacctnum-cout-balance-balance-endl-abcbalance-restoref-brassplus-methods-brassplusbrassplusconst-string-s-long-an-double-bal-double-ml-double-r-acctabcs-an-bal-maxloan-ml-owesbank-00-rate-r-brassplusbrassplusconst-brass-ba-double-ml-double-r-acctabcba-uses-implicit-copy-constructor-maxloan-ml-owesbank-00-rate-r-void-brassplusviewacct-const-formatting-f-setformat-cout-brassplus-client-fullname-endl-cout-account-number-acctnum-endl-cout-balance-balance-endl-cout-maximum-loan-maxloan-endl-cout-owed-to-bank-owesbank-endl-coutprecision3-cout-loan-rate-100-rate-n-restoref-void-brasspluswithdrawdouble-amt-formatting-f-setformat-double-bal-balance-if-amt-bal-acctabcwithdrawamt-else-if-amt-bal-maxloan-owesbank-double-advance-amt-bal-owesbank-advance-10-rate-cout-bank-advance-advance-endl-cout-finance-charge-advance-rate-endl-depositadvance-acctabcwithdrawamt-else-cout-credit-limit-exceeded-transaction-cancelledn-restoref","title":"<pre><code>// acctabc.cpp -- bank account class methods\n#include &lt;iostream&gt;\n#include \"acctabc.h\"\nusing std::cout;\nusing std::ios_base;\nusing std::endl;\nusing std::string;\n\n// Abstract Base Class\nAcctABC::AcctABC(const string &amp; s, long an, double bal)--------------------------ABC\u62bd\u8c61\u57fa\u7c7b\u7684\u521d\u59cb\u5316\u51fd\u6570\n{\n\u00a0 \u00a0 fullName = s;\n\u00a0 \u00a0 acctNum = an;\n\u00a0 \u00a0 balance = bal;\n}\n\nvoid AcctABC::Deposit(double amt)------------------------------------------------ABC\u62bd\u8c61\u57fa\u7c7b\u7684\u67d0\u6210\u5458\u51fd\u6570\n{\n\u00a0 \u00a0 if (amt &lt; 0)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Negative deposit not allowed; \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"deposit is cancelled.\\n\";\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 balance += amt;\n}\n\nvoid AcctABC::Withdraw(double amt)\n{\n\u00a0 \u00a0 balance -= amt;\n}\n\n// protected methods for formatting\nAcctABC::Formatting AcctABC::SetFormat() const\n{\n\u00a0// set up ###.## format\n\u00a0 \u00a0 Formatting f;\n\u00a0 \u00a0 f.flag =\n\u00a0 \u00a0 \u00a0 \u00a0 cout.setf(ios_base::fixed, ios_base::floatfield);\n\u00a0 \u00a0 f.pr = cout.precision(2);\n\u00a0 \u00a0 return f;\n}\n\nvoid AcctABC::Restore(Formatting &amp; f) const\n{\n\u00a0 \u00a0 cout.setf(f.flag, ios_base::floatfield);\n\u00a0 \u00a0 cout.precision(f.pr);\n}\n\n// Brass methods\nvoid Brass::Withdraw(double amt)---------------------------------------------\u6d3e\u751f\u7c7b1\u7684\u67d0\u6210\u5458\u51fd\u6570\uff08\u865a\u51fd\u6570\uff09\n{\n\u00a0 \u00a0 if (amt &lt; 0)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Withdrawal amount must be positive; \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"withdrawal canceled.\\n\";\n\u00a0 \u00a0 else if (amt &lt;= Balance())-----------------------------------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5Balance()\n\u00a0 \u00a0 \u00a0 \u00a0 AcctABC::Withdraw(amt);----------------------------------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5Withdraw()\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Withdrawal amount of $\" &lt;&lt; amt\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \" exceeds your balance.\\n\"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"Withdrawal canceled.\\n\";\n}\n\nvoid Brass::ViewAcct() const    ---------------------------------------------\u6d3e\u751f\u7c7b1\u7684\u67d0\u6210\u5458\u51fd\u6570\uff08\u865a\u51fd\u6570\uff09\n{\n\u00a0 \u00a0 Formatting f = SetFormat();\n\u00a0 \u00a0 cout &lt;&lt; \"Brass Client: \" &lt;&lt; FullName() &lt;&lt; endl;     ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5FullName()\n\u00a0 \u00a0 cout &lt;&lt; \"Account Number: \" &lt;&lt; AcctNum() &lt;&lt; endl;    ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5AcctNum()\n\u00a0 \u00a0 cout &lt;&lt; \"Balance: $\" &lt;&lt; Balance() &lt;&lt; endl;          ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5Balance()\n\u00a0 \u00a0 Restore(f);\n}\n\n// BrassPlus Methods\nBrassPlus::BrassPlus(const string &amp; s, long an, double bal,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0double ml, double r) : AcctABC(s, an, bal)\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n\nBrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r)\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0: AcctABC(ba) \u00a0 // uses implicit copy constructor\n{\n\u00a0 \u00a0 maxLoan = ml;\n\u00a0 \u00a0 owesBank = 0.0;\n\u00a0 \u00a0 rate = r;\n}\n\nvoid BrassPlus::ViewAcct() const\n{\n\u00a0 \u00a0 Formatting f = SetFormat();\n\n\u00a0 \u00a0 cout &lt;&lt; \"BrassPlus Client: \" &lt;&lt; FullName() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Account Number: \" &lt;&lt; AcctNum() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Balance: $\" &lt;&lt; Balance() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Maximum loan: $\" &lt;&lt; maxLoan &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Owed to bank: $\" &lt;&lt; owesBank &lt;&lt; endl;\n\u00a0 \u00a0 cout.precision(3);\n\u00a0 \u00a0 cout &lt;&lt; \"Loan Rate: \" &lt;&lt; 100 * rate &lt;&lt; \"%\\n\";\n\u00a0 \u00a0 Restore(f);\n}\n\nvoid BrassPlus::Withdraw(double amt)\n{\n\u00a0 \u00a0 Formatting f = SetFormat();\n\n\u00a0 \u00a0 double bal = Balance();\n\u00a0 \u00a0 if (amt &lt;= bal)\n\u00a0 \u00a0 \u00a0 \u00a0 AcctABC::Withdraw(amt);\n\u00a0 \u00a0 else if ( amt &lt;= bal + maxLoan - owesBank)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 double advance = amt - bal;\n\u00a0 \u00a0 \u00a0 \u00a0 owesBank += advance * (1.0 + rate);\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Bank advance: $\" &lt;&lt; advance &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Finance charge: $\" &lt;&lt; advance * rate &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 Deposit(advance);\n\u00a0 \u00a0 \u00a0 \u00a0 AcctABC::Withdraw(amt);\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Credit limit exceeded. Transaction cancelled.\\n\";\n\u00a0 \u00a0 Restore(f); \n}\n</code></pre>","text":"<p>\u603b\u7ed3\uff1a \uff080\uff09ABC\u57fa\u7c7b\u4e2d\u7684\u7eaf\u865a\u51fd\u6570\u58f0\u660e\u683c\u5f0f\uff1a <pre><code>virtual Func_Name(arguments1 , ...) = 0;    // = 0 \uff1aa pure virtual function\n</code></pre> \uff081\uff09ABC\u4f5c\u4e3a\u57fa\u7c7b\u7684\u76ee\u7684\u662f\uff1a</p> <p>\u5c06\u5171\u6709\u5143\u7d20\u3001\u65b9\u6cd5\u96c6\u4e2d\u5305\u88c5\u5728\u4e00\u8d77\uff0c\u65b9\u4fbf\u540e\u7eed\u57fa\u4e8e\u6b64\u8fdb\u884c\u4e2a\u6027\u5316\u5b9a\u5236\uff08\u62bd\u8c61\u7c7b -&gt; \u5177\u4f53\u7c7b\uff09</p> <p>\uff082\uff09\u6d3e\u751f\u7c7b\u7ee7\u627fABC\u57fa\u7c7b\u65f6\uff1a</p> <p>\u30101\u3011\u975e\u201c\u7eaf\u865a\u51fd\u6570\u201d\u7ee7\u627f\uff1a\u7c7b\u4e2d\u58f0\u660e\u4e0d\u9700\u8981virtual\uff0c\u5b9a\u4e49\u683c\u5f0f\u540c\u6b63\u5e38\u7ee7\u627f</p> <p>\u30102\u3011\u7eaf\u865a\u51fd\u6570\u201d\u7ee7\u627f\uff1a\u7c7b\u4e2d\u58f0\u660e\u9700\u8981virtual\uff0c\u5b9a\u4e49\u683c\u5f0f\u4e5f\u540c\u6b63\u5e38\u7ee7\u627f <pre><code>void Brass::ViewAcct() const    ---------------------------------------------\u6d3e\u751f\u7c7b1\u7684\u67d0\u6210\u5458\u51fd\u6570\uff08\u865a\u51fd\u6570\uff09\n{\n\u00a0 \u00a0 Formatting f = SetFormat();\n\u00a0 \u00a0 cout &lt;&lt; \"Brass Client: \" &lt;&lt; FullName() &lt;&lt; endl;     ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5FullName()\n\u00a0 \u00a0 cout &lt;&lt; \"Account Number: \" &lt;&lt; AcctNum() &lt;&lt; endl;    ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5AcctNum()\n\u00a0 \u00a0 cout &lt;&lt; \"Balance: $\" &lt;&lt; Balance() &lt;&lt; endl;          ---------------------\u7ee7\u627f\u7684\u662fABC\u57fa\u7c7b\uff0c\u56e0\u6b64\u53ef\u4ee5\u76f4\u63a5\u8c03\u7528\u57fa\u7c7b\u65b9\u6cd5Balance()\n\u00a0 \u00a0 Restore(f);\n}\n</code></pre></p> <p>\uff083\uff09\u8fdb\u884c ABC\u2014\u2014\u5177\u4f53\u7c7b\uff081,2,3...\uff09 \u7684\u6b65\u9aa4\u4e0e\u539f\u5219\u3010==\u53c2\u89c1\u4e0a\u9762\u7684\u5b9e\u4f8b\uff01==\u3011\uff1a</p> <p>[1]\u8bbe\u8ba1ABC\u57fa\u7c7b</p> <p>\u30101\u3011\u7eaf\u865a\u51fd\u6570\u8bb0\u5f97\u5199\u597d\u58f0\u660evirtual ... = 0\uff1b\u7c7b\u5916\u5b9a\u4e49\u65f6\u4e0d\u9700\u8981virtual \u30102\u3011\u5176\u4f59\u51fd\u6570\u6b63\u5e38\u58f0\u660e\u4e0e\u5b9a\u4e49\uff0c\u4e0e\u6b63\u5e38\u57fa\u7c7b\u6ca1\u533a\u522b</p> <p>[2]\u8bbe\u8ba1\u5177\u4f53\u7c7b(ABC---concrete)</p> <p>\u30101\u3011\u7eaf\u865a\u51fd\u6570\u201d\u7ee7\u627f\uff1a\u7c7b\u4e2d\u58f0\u660e\u9700\u8981virtual\uff0c\u5b9a\u4e49\u683c\u5f0f\u4e5f\u540c\u6b63\u5e38\u7ee7\u627f \u30102\u3011\u975e\u201c\u7eaf\u865a\u51fd\u6570\u201d\u7ee7\u627f\uff1a\u7c7b\u4e2d\u58f0\u660e\u4e0d\u9700\u8981virtual\uff0c\u5b9a\u4e49\u683c\u5f0f\u540c\u6b63\u5e38\u7ee7\u627f \u30103\u3011\u81ea\u5b9a\u4e49\u65b0\u51fd\u6570\u65b9\u6cd5\uff1a\u4e0e\u6b63\u5e38\u57fa\u7c7b\u6ca1\u533a\u522b</p> <p>\uff084\uff09ABC\u7406\u5ff5: ![[Pasted image 20230804120546.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#6","title":"6\uff09\u7ee7\u627f\u4e0e\u52a8\u6001\u5185\u5b58\u5206\u914d","text":"<p>![[Pasted image 20230804140015.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#1new","title":"\uff081\uff09\u6d3e\u751f\u7c7b\u4e0d\u4f7f\u7528new","text":"<p>\u4ecebaseDMA\u7c7b\u4e2d\u6d3e\u751f\u51falacksDMA\u7c7b\uff0c\u5982\u679c\u540e\u8005\u4e0d\u4f7f\u7528new\uff0c\u4e5f\u6ca1\u7279\u6b8a\u8bbe\u8ba1\uff0c\u5c31\u4e0d\u9700\u8981\u4e3alackDMA\u7c7b\u8bbe\u8ba1\uff1a\u663e\u5f0f\u6790\u6784\u51fd\u6570+\u590d\u5236\u6784\u9020\u51fd\u6570+\u8d4b\u503c\u8fd0\u7b97\u7b26</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#2new","title":"\uff082\uff09\u6d3e\u751f\u7c7b\u4f7f\u7528new","text":"<p>\u4ecebaseDMA\u7c7b\u4e2d\u6d3e\u751f\u51falacksDMA\u7c7b\uff0c\u5982\u679c\u540e\u8005\u4f7f\u7528new\uff0c\u6216\u8005\u6709\u7279\u6b8a\u8bbe\u8ba1\uff0c\u9700\u8981\u4e3alackDMA\u7c7b\u8bbe\u8ba1\uff1a\u663e\u5f0f\u6790\u6784\u51fd\u6570+\u590d\u5236\u6784\u9020\u51fd\u6570+\u8d4b\u503c\u8fd0\u7b97\u7b26</p> <p>\u5047\u5982\u6d3e\u751f\u7c7b\u4f7f\u7528\u4e86new\uff1a <pre><code>class hasDMA : public baseDMA\n{\nprivate:\n    char* style;\npublic:\n    ......\n}\n</code></pre></p> <p>\u30101\u3011\u6790\u6784\u51fd\u6570 <pre><code>baseDMA :: ~baseDMA()  // take care of baseDMA stuff\n{\n    delete [] label;\n}\n\n\nhasDMA :: ~hasDMA()    // take care of hasDMA stuff\n{\n    delete [] style;\n}\n</code></pre></p> <p>\u30102\u3011\u590d\u5236\u6784\u9020\u51fd\u6570 <pre><code>baseDMA :: baseDMA (const baseDMA&amp; rs)                ---------\u3010\u57fa\u7c7b\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\u3011\n{\n    label = new char[std::strlen(rs.label) + 1];      ---------\u6307\u9488\u7684\u62f7\u8d1d\n    std::strcpy(label,rs.label);\n\n    rating = rs.rating;                  ----------------------\u975e\u6307\u9488\u7c7b\u578b\u7684\u62f7\u8d1d\n}\n\n----------------------------------------------------------------------------------------------------------------------------------\n\nhasDMA :: hasDMA (const hasDMA&amp; hs) : baseDMA(hs)     ---------\u3010\u6d3e\u751f\u7c7b\u7684\u590d\u5236\u6784\u9020\u51fd\u6570\u3011\n{\n    // baseDMA\u90e8\u5206\uff1a\u5df2\u7ecf\u7531\u4e0a\u9762\u7684:baseDMA(hs)\u8bf4\u660e\u4e86\u62f7\u8d1d\uff01\n    //\u975ebaseDMA\u90e8\u5206\uff1a\n    style = new char[std::strlen(hs.style) + 1];\n    std::strcpy(style,hs.style);                       --------\u6307\u9488\u7684\u62f7\u8d1d\n}\n// \u8fd9\u91cc\uff08\u6d3e\u751f\u7c7b\uff09\u9700\u8981\u6ce8\u610f\uff1a\n// \u521d\u59cb\u5316\u5217\u8868\u5c06\u4e00\u4e2a hasDMA\u5f15\u7528 \u4f20\u9012\u7ed9 baseDMA\u6784\u9020\u51fd\u6570 \n// \u867d\u7136\u6ca1\u6709\u53c2\u6570\u7c7b\u578b\u4e3a hasDMA\u5f15\u7528 \u7684 baseDMA\u6784\u9020\u51fd\u6570\uff0c\u4f46\u662f\u57fa\u7c7b\u5f15\u7528\u53ef\u4ee5\u6307\u5411\u6d3e\u751f\u7c7b\u578b\n// \u56e0\u6b64\uff1abaseDMA\u590d\u5236\u6784\u9020\u51fd\u6570\u5c06\u4f7f\u7528 hasDMA\u53c2\u6570 \u7684 baseDMA\u90e8\u5206 \u6765\u6784\u9020baseDMA\u90e8\u5206\uff01\n</code></pre></p> <p>\u30103\u3011\u8d4b\u503c\u8fd0\u7b97\u7b26 <pre><code>\u57fa\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a\nbaseDMA&amp; baseDMA :: operator=(const baseDMA&amp; rs)\n{\n    if(this == &amp;rs) return *this;                   // \u5730\u5740\u76f8\u540c\uff1a\u76f4\u63a5\u8fd4\u56de\u5373\u53ef\n\n    delete [] label;                                // \u5148\u6e05\u7406\u8fd9\u5757\u5185\u5b58\n\n    // \u6307\u9488\u7c7b\u578b\u62f7\u8d1d\uff1a\n    label = new char[std::strlen(rs.label) + 1];    // \u5f00\u8f9f\u65b0\u7a7a\u95f4\n    std::strcpy(label,rs.label);                    // str\u62f7\u8d1d\u8fdb\u65b0\u5185\u5b58\u5904\n\n    // \u975e\u6307\u9488\u7c7b\u578b\u62f7\u8d1d\uff1a\n    rating = rs.rating;\n\n    return *this;                                   // \u8fd4\u56de\u5bf9\u8c61\n}\n\n----------------------------------------------------------------------------------------------------------------------------------\n\u6d3e\u751f\u7c7b\u7684\u8d4b\u503c\u8fd0\u7b97\u7b26\uff1a\nhasDMA&amp; hasDMA :: operator=(const hasDMA&amp; hs)       // \u5f15\u7528\u5bf9\u8c61hs\u662fhasDMA\u7c7b\u578b(baseDMA + \u5176\u4ed6)\n{\n    if(this == &amp;hs) return *this;                   // \u5730\u5740\u76f8\u540c\uff1a\u76f4\u63a5\u8fd4\u56de\u5373\u53ef\n    baseDMA::operator=(hs);                         // \u5c06 hs\u4e2d\u5305\u542b\u7684baseDMA\u6210\u5458 \u62f7\u8d1d\n\n    delete [] style;                                // \u5148\u6e05\u7406\u8fd9\u5757\u5185\u5b58\n\n    style = new char [std::strlen(hs.style) + 1];   // \u5f00\u8f9f\u65b0\u7a7a\u95f4\n    std::strcpy(style,hs.style);                    // str\u62f7\u8d1d\u8fdb\u65b0\u5185\u5b58\u5904\n    return *this;\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/#7","title":"7\uff09\u7c7b\u8bbe\u8ba1\u56de\u987e","text":"<p>\u7565\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/","title":"Chapter14c++\u4e2d\u7684\u4ee3\u7801\u91cd\u7528","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#1","title":"1\uff09\u5305\u542b\u6210\u5458\u5bf9\u8c61\u7684\u7c7b","text":"<p>\u30101\u3011\u5f15\u5165\uff1a\u5f53\u67d0\u4e9b\u7c7b\u5305\u542b\u4e86\u5176\u4ed6\u7c7b\u7684\u6210\u5458\u5bf9\u8c61\u65f6\uff0c\u5e94\u5f53\u5982\u4f55\u8c03\u7528\uff1f</p> <p>\u30102\u3011\u7b80\u4ecb\uff1a\u6a21\u677f\u7279\u6027\u58f0\u660e\u5bf9\u8c61\u65f6\u5fc5\u987b\u52a0\u4e0a\u7279\u5b9a\u7684\u5177\u4f53\u6570\u636e\u7c7b\u578b <pre><code>valarray&lt;int&gt; q_values;\nvalarray&lt;double&gt; weights;\n</code></pre></p> <p>\u30103\u3011\u8bbe\u8ba1\u65b9\u5f0f\uff1a\u7528\u4e8e\u5efa\u7acb has-a \u5173\u7cfb\u7684\u6280\u672f\u662f\u7ec4\u5408(\u5305\u542b)\uff0c\u5373\uff1a\u521b\u5efa\u4e00\u4e2a\u5305\u542b\u5176\u4ed6\u7c7b\u5bf9\u8c61\u7684\u7c7b <pre><code>class Student\n{\nprivate:\n    string name;\n    valarrat&lt;double&gt; scores;\n    ...\n};\n</code></pre> \u4e0a\u8ff0\u7c7b\u5c06\u6570\u636e\u6210\u5458\u58f0\u660e\u4e3a\u79c1\u6709\u7684\uff0c\u8fd9\u610f\u5473\u7740Student\u7c7b\u7684\u6210\u5458\u51fd\u6570\u53ef\u4ee5\u4f7f\u7528 string \u548c valarray&lt; double &gt; \u7c7b\u7684==\u516c\u6709\u63a5\u53e3==\uff08\u8fd9\u4e24\u4e2a\u7c7b\u4e2d\u7684public\u5185\u5bb9\uff09\u6765\u8bbf\u95ee\u548c\u4fee\u6539name\u3001scores\u5bf9\u8c61\uff0c\u4f46\u5728\u7c7b\u7684\u5916\u9762\u4e0d\u53ef\u4ee5\uff01</p> <p>\u30104\u3011\u793a\u4f8b\u89e3\u6790\uff1a <pre><code>// studentc.h -- defining a Student class using containment\n#ifndef STUDENTC_H_\n#define STUDENTC_H_\n\n#include &lt;iostream&gt;\n#include &lt;string&gt; \u00a0\n#include &lt;valarray&gt;\nclass Student\n{ \u00a0\nprivate:\n\u00a0 \u00a0 typedef std::valarray&lt;double&gt; ArrayDb;\n\u00a0 \u00a0 std::string name; \u00a0 \u00a0 \u00a0 // contained object\n\u00a0 \u00a0 ArrayDb scores; \u00a0 \u00a0 \u00a0 \u00a0 // contained object\n\u00a0 \u00a0 // private method for scores output\n\u00a0 \u00a0 std::ostream &amp; arr_out(std::ostream &amp; os) const;\n\u00a0 \u00a0 \npublic:\n\u00a0 \u00a0 Student() : name(\"Null Student\"), scores() {}\n\u00a0 \u00a0 explicit Student(const std::string &amp; s)\n\u00a0 \u00a0 \u00a0 \u00a0 : name(s), scores() {}\n\u00a0 \u00a0 explicit Student(int n) : name(\"Nully\"), scores(n) {}\n\u00a0 \u00a0 Student(const std::string &amp; s, int n)\n\u00a0 \u00a0 \u00a0 \u00a0 : name(s), scores(n) {}\n\u00a0 \u00a0 Student(const std::string &amp; s, const ArrayDb &amp; a)\n\u00a0 \u00a0 \u00a0 \u00a0 : name(s), scores(a) {}\n\u00a0 \u00a0 Student(const char * str, const double * pd, int n)\n\u00a0 \u00a0 \u00a0 \u00a0 : name(str), scores(pd, n) {}\n\u00a0 \u00a0 ~Student() {}\n\u00a0 \u00a0 double Average() const;\n\u00a0 \u00a0 const std::string &amp; Name() const;\n\u00a0 \u00a0 double &amp; operator[](int i);\n\u00a0 \u00a0 double operator[](int i) const;\n// friends\n\u00a0 \u00a0 // input\n\u00a0 \u00a0 friend std::istream &amp; operator&gt;&gt;(std::istream &amp; is,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0Student &amp; stu); \u00a0// 1 word\n\u00a0 \u00a0 friend std::istream &amp; getline(std::istream &amp; is,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 Student &amp; stu); \u00a0 \u00a0 // 1 line\n\u00a0 \u00a0 // output\n\u00a0 \u00a0 friend std::ostream &amp; operator&lt;&lt;(std::ostream &amp; os,\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0const Student &amp; stu);\n};\n#endif\n</code></pre> \uff081\uff09typedef std::valarray&lt; double &gt; ArrayDb;   [1]typedef\u91cd\u547d\u540d\uff1b[2]\u653e\u5728\u7c7b\u58f0\u660e\u7684\u79c1\u6709\u90e8\u5206\uff1a\u53ef\u4ee5\u5728Student\u7c7b\u7684\u5b9e\u73b0\u4e2d\u4f7f\u7528\u5b83\uff0c\u4f46\u5728\u7c7b\u5916\u4e0d\u80fd\uff01</p> <p>\uff082\uff09\u5173\u952e\u5b57explicit\u7684\u7528\u6cd5\uff1a\u5173\u95ed\u9690\u5f0f\u81ea\u52a8\u8f6c\u6362 ![[Pasted image 20230805095933.png]]</p> <p>\uff083\uff09c++\u53ca\u7ea6\u675f\uff1a \u30101\u3011\u521d\u59cb\u5316\u5217\u8868\u7684\u529f\u80fd\uff08\u8981\u591a\u4f7f\u7528\uff01\uff09</p> <p>[1]  \u521d\u59cb\u5316\u5185\u7f6e\u7c7b\u578b\u7684\u6210\u5458 <pre><code>Queue :: Queue(int qs) : qsize(qs) {...}\n</code></pre> [2]  \u521d\u59cb\u5316\u6d3e\u751f\u7c7b\u5bf9\u8c61\u7684\u57fa\u7c7b\u90e8\u5206 <pre><code>hasDMA :: hasDMA(const hasDMA&amp; hs) : baseDMA(hs) {...}\n</code></pre> ps\uff1a\u5bf9\u4e8e\u6d3e\u751f\u7c7b\u800c\u8a00 \u5bf9\u4e8e\u8981\u7ee7\u627f\u7684\u5bf9\u8c61\uff0c\u6784\u9020\u51fd\u6570\u5728\u6210\u5458\u521d\u59cb\u5316\u5217\u8868\u4e2d\u4f7f\u7528\u7c7b\u540d\u6765\u8c03\u7528\u7279\u5b9a\u7684\u57fa\u7c7b\u6784\u9020\u51fd\u6570\uff1b \u5bf9\u4e8e\u6210\u5458\u5bf9\u8c61\uff0c\u6784\u9020\u51fd\u6570\u5219\u4f7f\u7528\u6210\u5458\u540d <pre><code>Student(const char* str, const double* pd, int n) : name(str),scores(pd,n) {}\n</code></pre></p> <p>\u30102\u3011\u521d\u59cb\u5316\u987a\u5e8f</p> <p>\u5f53\u521d\u59cb\u5316\u5217\u8868\u5305\u542b\u591a\u4e2a\u9879\u76ee\u65f6\uff0c\u8fd9\u4e9b\u9879\u76ee\u88ab\u521d\u59cb\u5316\u7684\u987a\u5e8f\u4e3a\u5b83\u4eec\u88ab\u58f0\u660e\u7684\u987a\u5e8f\uff0c\u800c\u4e0d\u662f\u5b83\u4eec\u5728\u521d\u59cb\u5316\u5217\u8868\u4e2d\u7684\u987a\u5e8f <pre><code>class Student\n{ \u00a0\nprivate:\n\u00a0 \u00a0 typedef std::valarray&lt;double&gt; ArrayDb;\n\u00a0 \u00a0 std::string name; \u00a0 \u00a0 \u00a0 // contained object\n\u00a0 \u00a0 ArrayDb scores; \u00a0 \u00a0 \u00a0 \u00a0 // contained object\n\u00a0 \u00a0 // private method for scores output\n\u00a0 \u00a0 std::ostream &amp; arr_out(std::ostream &amp; os) const;\npublic:\n    Student(const char* str, const double* pd, int n) : scores(pd,n),name(str) {}\n    ...\n}\n\n\u6b64\u65f6\uff1aname\u6210\u5458\u4ecd\u5c06\u9996\u5148\u88ab\u521d\u59cb\u5316\uff0c\u56e0\u4e3a\u5b83\u5728\u7c7b\u5b9a\u4e49\u4e2d\u9996\u5148\u88ab\u58f0\u660e\uff01\n</code></pre></p> <p>\u30103\u3011\u4f7f\u7528\u88ab\u5305\u542b\u5bf9\u8c61\u7684\u63a5\u53e3</p> <p>\u88ab\u5305\u542b\u5bf9\u8c61\u7684\u63a5\u53e3\u4e0d\u662f\u5171\u6709\u7684\uff0c\u4f46\u662f\u53ef\u4ee5\u5728\u7c7b\u65b9\u6cd5\u4e2d\u4f7f\u7528\u5b83 eg1\uff1a <pre><code>double Student::Average() const\n{\n    if( scores.size() &gt; 0 ) return (scores.sum()/scores.size() );\n    else return 0;\n}\n// scores\u662fStudent\u7c7b\u7684\u6210\u5458\uff0cscores\u8fd8\u662f\u4e00\u4e2avalarray\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b83\u53ef\u4ee5\u8c03\u7528valarray\u7c7b\u7684\u6210\u5458\u51fd\u6570scores.size() &amp; scores.sum()\n</code></pre> eg2\uff1a <pre><code>ostream&amp; operator&lt;&lt;(ostream&amp; os,const Student&amp; stu)\n{\n    os &lt;&lt; \"Scores for \" &lt;&lt; stu.name &lt;&lt;\": \\n\";\n    ......\n}\n\n(1) stu.name\u662f\u4e00\u4e2astring\u5bf9\u8c61\uff0c\u6240\u4ee5\u5b83\u5c06\u8c03\u7528 operator&lt;&lt;(ostream&amp;,const string&amp;) ,\u800c\u8fd9\u5df2\u7ecf\u5728string\u7c7b\u4e2d\u4e86\uff1b\n(2) operator&lt;&lt;(ostream&amp; os,const Student&amp; stu)    \u5e94\u5f53\u58f0\u660e\u4e3aStudent\u7c7b\u7684\u53cb\u5143\u51fd\u6570\uff0c\u8fd9\u6837\u624d\u80fd\u8bbf\u95eeStudent\u7c7b\u4e2d\u7684name\u6210\u5458\u3002\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#2","title":"2\uff09\u79c1\u6709\u7ee7\u627f","text":"<p>\u5b50\u5bf9\u8c61 (subobject)\uff1a\u901a\u8fc7\u7ee7\u627for\u5305\u542b\u6dfb\u52a0\u7684\u5bf9\u8c61 \u591a\u91cd\u7ee7\u627f(muitiple inheritance , MI)\uff1a\u4f7f\u7528\u591a\u4e2a\u57fa\u7c7b\u7684\u7ee7\u627f \u9690\u5f0f\u5411\u4e0a\u8f6c\u6362(implicit upcasting)\uff1a\u65e0\u9700\u8fdb\u884c\u663e\u793a\u7c7b\u578b\u8f6c\u6362\uff0c\u5c31\u53ef\u4ee5\u5c06 \u57fa\u7c7b\u6307\u9488 or \u5f15\u7528 \u6307\u5411\u6d3e\u751f\u7c7b\u5bf9\u8c61</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#3","title":"3\uff09\u591a\u91cd\u7ee7\u627f","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#4","title":"4\uff09\u7c7b\u6a21\u677f","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#1_1","title":"\uff081\uff09\u5f15\u5165\uff1a","text":"<p>c++\u7684\u7c7b\u6a21\u677f\u4e3a\u751f\u6210\u901a\u7528\u7684\u7c7b\u58f0\u660e\u63d0\u4f9b\u4e86\u4e00\u79cd\u66f4\u597d\u7684\u65b9\u6cd5\uff0c\u6a21\u677f\u63d0\u4f9b\u53c2\u6570\u5316(parameterized)\u7c7b\u578b\uff0c\u5373\uff1a\u80fd\u591f\u5c06\u7c7b\u578b\u540d\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u63a5\u6536\u65b9\u6765\u5efa\u7acb\u7c7b\u6216\u51fd\u6570</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#2_1","title":"\uff082\uff09\u5b9a\u4e49\u7c7b\u6a21\u677f\uff1a","text":"<p>\u30101\u3011\u5f00\u5934\uff1a <pre><code>template &lt;class Type&gt;\n</code></pre> \u30102\u3011\u6a21\u677f\u7684\u5177\u4f53\u5b9e\u73b0\u88ab\u79f0\u4e3a\uff1a\u5b9e\u4f8b\u5316 (instantiation) \u6216 \u5177\u4f53\u5316 (specialization)  example: <pre><code>// stacktp.h -- a stack template\n#ifndef STACKTP_H_\n#define STACKTP_H_\ntemplate &lt;class Type&gt;\nclass Stack\n{\nprivate:\n\u00a0 \u00a0 enum {MAX = 10}; \u00a0 \u00a0// constant specific to class\n\u00a0 \u00a0 Type items[MAX]; \u00a0 \u00a0// holds stack items\n\u00a0 \u00a0 int top; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// index for top stack item\npublic:\n\u00a0 \u00a0 Stack();\n\u00a0 \u00a0 bool isempty();\n\u00a0 \u00a0 bool isfull();\n\u00a0 \u00a0 bool push(const Type &amp; item); // add item to stack\n\u00a0 \u00a0 bool pop(Type &amp; item); \u00a0 \u00a0 \u00a0 \u00a0// pop top into item\n};\n\ntemplate &lt;class Type&gt;\nStack&lt;Type&gt;::Stack()\n{\n\u00a0 \u00a0 top = 0\n}\n\ntemplate &lt;class Type&gt;\nbool Stack&lt;Type&gt;::isempty()\n{\n\u00a0 \u00a0 return top == 0;\n}\n\ntemplate &lt;class Type&gt;\nbool Stack&lt;Type&gt;::isfull()\n{\n\u00a0 \u00a0 return top == MAX;\n}\n\ntemplate &lt;class Type&gt;\nbool Stack&lt;Type&gt;::push(const Type &amp; item)\n{\n\u00a0 \u00a0 if (top &lt; MAX)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 items[top++] = item;\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n\ntemplate &lt;class Type&gt;\nbool Stack&lt;Type&gt;::pop(Type &amp; item)\n{\n\u00a0 \u00a0 if (top &gt; 0)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 item = items[--top];\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n#endif\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#3_1","title":"\uff083\uff09\u4f7f\u7528\u6a21\u677f\u7c7b","text":"<p>[1]  \u5fc5\u987b\u8bf7\u6c42\u5b9e\u4f8b\u5316\uff0c\u65b9\u6cd5\u662f\u4f7f\u7528\u6240\u9700\u8981\u7684\u5177\u4f53\u7c7b\u578b\u66ff\u6362\u6cdb\u578b\u540d <pre><code>Stack&lt;int&gt; ker;    // a stack of ints\nStack&lt;string&gt; col; // a stack of string objects\n</code></pre> [2]  \u6cdb\u578b\u6807\u8bc6\u7b26\u2014\u2014\u79f0\u4e3a\u7c7b\u578b\u53c2\u6570(type parameter)\u3002\u6bd4\u5982\u4e0a\u9762\u7684Type\u3002\u5b83\u4eec\u7c7b\u4f3c\u4e8e\u53d8\u91cf\uff0c\u4f46\u8d4b\u7ed9\u5b83\u4eec\u7684\u53ea\u80fd\u662f\u7c7b\u578b\uff0c\u5fc5\u987b\u663e\u5f0f\u63d0\u4f9b\u7c7b\u578b\uff01 <pre><code>template &lt;class T&gt;\nvoid simple(T t) {cout &lt;&lt; t &lt;&lt;endl;}\n...\nsimple(2);      // generate void simple(int)\nsimple(\"two\");  // generate void simple(const char*)\n</code></pre> ps: \u5176\u4f59\u4f7f\u7528\u7ec6\u5219\u51fd\u6570\u6a21\u677f\u57fa\u672c\u6ca1\u533a\u522b\uff01 \u7ed3\u5408\u4e0a\u9762\u7684\u5b9e\u4f8b\u81ea\u884c\u54c1\u5473\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#4and","title":"\uff084\uff09\u6570\u7ec4\u6a21\u677f\u5b9e\u4f8band\u975e\u7c7b\u578b\u53c2\u6570","text":"<p>\u793a\u4f8b\uff1a <pre><code>//arraytp.h \u00a0-- Array Template\n#ifndef ARRAYTP_H_\n#define ARRAYTP_H_\n\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\ntemplate &lt;class T, int n&gt;\nclass ArrayTP\n{\nprivate:\n\u00a0 \u00a0 T ar[n];\npublic:\n\u00a0 \u00a0 ArrayTP() {};\n\u00a0 \u00a0 explicit ArrayTP(const T &amp; v);\n\u00a0 \u00a0 virtual T &amp; operator[](int i);\n\u00a0 \u00a0 virtual T operator[](int i) const;\n};\n\ntemplate &lt;class T, int n&gt;\nArrayTP&lt;T,n&gt;::ArrayTP(const T &amp; v)\n{\n\u00a0 \u00a0 for (int i = 0; i &lt; n; i++)\n\u00a0 \u00a0 \u00a0 \u00a0 ar[i] = v;\n}\n\ntemplate &lt;class T, int n&gt;\nT &amp; ArrayTP&lt;T,n&gt;::operator[](int i)\n{\n\u00a0 \u00a0 if (i &lt; 0 || i &gt;= n)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 std::cerr &lt;&lt; \"Error in array limits: \" &lt;&lt; i\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is out of range\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 std::exit(EXIT_FAILURE);\n\u00a0 \u00a0 }\n\u00a0 \u00a0 return ar[i];\n}\n\ntemplate &lt;class T, int n&gt;\nT ArrayTP&lt;T,n&gt;::operator[](int i) const\n{\n\u00a0 \u00a0 if (i &lt; 0 || i &gt;= n)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 std::cerr &lt;&lt; \"Error in array limits: \" &lt;&lt; i\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is out of range\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 std::exit(EXIT_FAILURE);\n\u00a0 \u00a0 }\n\u00a0 \u00a0 return ar[i];\n}\n#endif\n</code></pre> \u8bf4\u660e\uff1a \uff081\uff09\u6a21\u677f\u5934\uff1a <pre><code>template &lt; class T, int n &gt;\n</code></pre> \u6a21\u677f\u58f0\u660e\u5173\u952e\u5b57\uff1atemplate \u5173\u952e\u5b57\uff1aclass \u7c7b\u578b\u53c2\u6570\uff1aT \u975e\u7c7b\u578b(non-type) \u6216 \u8868\u8fbe\u5f0f(expression)\u53c2\u6570\uff1aint /...</p> <p>\uff082\uff09\u8868\u8fbe\u5f0f\u53c2\u6570\u7684\u9650\u5236\uff1a</p> <p>\u30101\u3011\u5fc5\u987b\u662f\uff1a\u6574\u578b\u3001\u679a\u4e3e\u3001\u5f15\u7528\u3001\u6307\u9488 \u5982\uff1adouble m\uff1b\u4e0d\u5408\u6cd5\uff01    \u5982\uff1adouble* rm\uff1b\u5408\u6cd5\uff01</p> <p>\u30102\u3011\u6a21\u677f\u4ee3\u7801\u4e0d\u80fd\u4fee\u6539\u53c2\u6570\u7684\u503c or \u5730\u5740 \u5982\uff1a\u4e0d\u80fd\u51fa\u73b0 n++ \u6216 &amp;n \u7b49\u8868\u8fbe\u5f0f</p> <p>\u30103\u3011\u5b9e\u4f8b\u5316\u6a21\u677f\u65f6\uff0c\u7528\u4f5c\u8868\u8fbe\u5f0f\u53c2\u6570\u7684\u503c\u5fc5\u987b\u662f\u5e38\u91cf\u8868\u8fbe\u5f0f</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#5","title":"\uff085\uff09\u6a21\u677f\u591a\u529f\u80fd\u6027","text":"<p>\u30101\u3011\u53ef\u4ee5\u9012\u5f52\u4f7f\u7528\u6a21\u677f\uff1a <pre><code>ArrayTP&lt; ArrayTP&lt;int,5&gt; , 10 &gt; twodee;\n\n\u751f\u6210\u4e8c\u7ef4\u6570\u7ec4\uff1a\u5305\u542b10\u4e2a\u5143\u7d20\u7684\u6570\u7ec4\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4e2a\u5305\u542b5\u4e2aint\u5143\u7d20\u7684\u6570\u7ec4\n</code></pre></p> <p>\u30102\u3011\u4f7f\u7528\u591a\u4e2a\u7c7b\u578b\u53c2\u6570\uff1a <pre><code>\u5e0c\u671b\u53ef\u4ee5\u4fdd\u5b58\u4e24\u79cd\u503c\uff08\u952e\u503c\u5bf9\uff09\uff0c\u521b\u5efa\u5e76\u4f7f\u7528Pair\u6a21\u677f\uff1a\n// pairs.cpp -- defining and using a Pair template\n#include &lt;iostream&gt;\n#include &lt;string&gt;\ntemplate &lt;class T1, class T2&gt;\nclass Pair\n{\nprivate:\n\u00a0 \u00a0 T1 a;\n\u00a0 \u00a0 T2 b;\npublic:\n\u00a0 \u00a0 T1 &amp; first();\n\u00a0 \u00a0 T2 &amp; second();\n\u00a0 \u00a0 T1 first() const { return a; }\n\u00a0 \u00a0 T2 second() const { return b; }\n\u00a0 \u00a0 Pair(const T1 &amp; aval, const T2 &amp; bval) : a(aval), b(bval) { }\n\u00a0 \u00a0 Pair() {}\n};\n\ntemplate&lt;class T1, class T2&gt;\nT1 &amp; Pair&lt;T1,T2&gt;::first()\n{\n\u00a0 \u00a0 return a;\n}\n\ntemplate&lt;class T1, class T2&gt;\nT2 &amp; Pair&lt;T1,T2&gt;::second()\n{\n\u00a0 \u00a0 return b;\n}\n\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 using std::string;\n\n\u00a0 \u00a0 Pair&lt;string, int&gt; ratings[4] =\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 Pair&lt;string, int&gt;(\"The Purpled Duck\", 5),\n\u00a0 \u00a0 \u00a0 \u00a0 Pair&lt;string, int&gt;(\"Jaquie's Frisco Al Fresco\", 4),\n\u00a0 \u00a0 \u00a0 \u00a0 Pair&lt;string, int&gt;(\"Cafe Souffle\", 5),\n\u00a0 \u00a0 \u00a0 \u00a0 Pair&lt;string, int&gt;(\"Bertie's Eats\", 3)\n\u00a0 \u00a0 };\n\n\u00a0 \u00a0 int joints = sizeof(ratings) / sizeof (Pair&lt;string, int&gt;);\n\u00a0 \u00a0 cout &lt;&lt; \"Rating:\\t Eatery\\n\";\n\u00a0 \u00a0 for (int i = 0; i &lt; joints; i++)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; ratings[i].second() &lt;&lt; \":\\t \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; ratings[i].first() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Oops! Revised rating:\\n\";\n\u00a0 \u00a0 \n\u00a0 \u00a0 ratings[3].first() = \"Bertie's Fab Eats\";\n\u00a0 \u00a0 ratings[3].second() = 6;\n\u00a0 \u00a0 cout &lt;&lt; ratings[3].second() &lt;&lt; \":\\t \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; ratings[3].first() &lt;&lt; endl;\n\u00a0 \u00a0// std::cin.get();\n\u00a0 \u00a0return 0;\n}\n</code></pre> \u6ce8\u610f\u8fd9\u91cc\u7684\u58f0\u660e\uff1a <pre><code>template &lt;class T1, class T2&gt;\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#6","title":"\uff086\uff09\u6a21\u677f\u7684\u5177\u4f53\u5316","text":"<p>\u30101\u3011\u9690\u5f0f\u5b9e\u4f8b\u5316 (implicit instantiation)\uff1a <pre><code>ArrayTP&lt;int,100&gt; stuff;\n</code></pre> \u30102\u3011\u663e\u5f0f\u5b9e\u4f8b\u5316 (explicit instantiation)\uff1a <pre><code>template class ArrayTP&lt;string,100&gt;; \n\u5c06 ArrayTP&lt;string,100&gt; \u58f0\u660e\u4e3a\u4e00\u4e2a\u7c7b\n</code></pre> \u30103\u3011\u663e\u5f0f\u5177\u4f53\u5316 (explicit specialization)\uff1a <pre><code>\u5f15\u5165\u4f8b\u5b50\uff1a\ntemplate &lt;typename T&gt;\nclass SortedArray\n{\n    ...\n};\n-----------------------------------------------------------------------------------------------------------------------------------\n\u53ef\u4ee5\u63d0\u4f9b\u4e00\u4e2a\u663e\u5f0f\u6a21\u677f\u5177\u4f53\u5316\uff0c\u8fd9\u5c06\u91c7\u7528\u4e3a\u5177\u4f53\u7c7b\u578b\u5b9a\u4e49\u7684\u6a21\u677f\uff0c\u800c\u4e0d\u662f\u4e3a\u6cdb\u578b\u5b9a\u4e49\u7684\u6a21\u677f\n\u5f53\u5177\u4f53\u5316\u6a21\u677f\u548c\u901a\u7528\u6a21\u677f\u90fd\u4e0e\u5b9e\u4f8b\u5316\u8bf7\u6c42\u5339\u914d\u65f6\uff0c\u7f16\u8bd1\u5668\u5c06\u4f7f\u7528\u5177\u4f53\u5316\u7248\u672c\n\n\u5177\u4f53\u5316\u7c7b\u6a21\u677f\u5b9a\u4e49\u7684\u683c\u5f0f\uff1a\ntemplate &lt;&gt; class Classname&lt;specialized-type-name&gt; {...};\n\n\u4f8b\u5982\uff1a\u8981\u63d0\u4f9b\u4e00\u4e2a\u4e13\u4f9b const char* \u7c7b\u578b\u4f7f\u7528\u7684SortedArray\u6a21\u677f\ntemplate &lt;&gt; class SortedArray&lt;const char*&gt; \n{\n    ...\n};\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#7","title":"\uff087\uff09\u6a21\u677f\u7c7b\u548c\u53cb\u5143","text":"<p>\u30101\u3011\u5f15\u5165\u5206\u7c7b\uff1a</p> <p>\u975e\u6a21\u677f\u53cb\u5143\uff1b \u7ea6\u675f (bound) \u6a21\u677f\u53cb\u5143\uff1b \u975e\u7ea6\u675f (unbound) \u6a21\u677f\u53cb\u5143\uff1b</p> <p>\u30102\u3011\u6a21\u677f\u7c7b\u7684\u975e\u6a21\u677f\u53cb\u5143\u51fd\u6570\uff1a</p> <p>\uff081\uff09\u4e00\u65e6\u58f0\u660e\uff0c\u4f7f\u5f97\u8be5\u51fd\u6570\u6210\u4e3a\u6a21\u677f\u6240\u6709\u5b9e\u4f8b\u5316\u7684\u53cb\u5143\uff1a <pre><code>template &lt;class T&gt;\nclass HasFriend\n{\npublic:\n    friend void counts(); // friend to all HasFriend instantiation\n    ...\n}\n\n\u4f8b\u5982\uff1a\u5b83\u5c06\u662f\u7c7bHasFriend&lt;int&gt; \u548c HasFriend&lt;string&gt;\n</code></pre></p> <p>\uff082\uff09\u8981\u4e3a\u53cb\u5143\u51fd\u6570\u63d0\u4f9b\u6a21\u677f\u7c7b\u53c2\u6570\uff0c\u5219\u5fc5\u987b\u6307\u660e\u5177\u4f53\u5316 <pre><code>template &lt;class T&gt;\nclass HasFriend\n{\npublic:\n    friend void report(HasFriend&lt;T&gt;&amp; );  // valid!    HasFriend&lt;T&gt; \u662f\u5b9e\u4f8b\n    friend void report(HasFriend&amp; );     // invalid\uff01 HasFriend \u662f\u62bd\u8c61\uff0c\u975e\u5177\u4f53\uff01\n\n\u5047\u8bbe\u8fd9\u91ccT\u662fint\uff1a\u5e26HasFriend&lt;int&gt;\u53c2\u6570\u7684report()\u5c06\u6210\u4e3aHasFriend&lt;int&gt; \u7c7b\u7684\u53cb\u5143\n\u5047\u8bbe\u8fd9\u91ccT\u662fdouble\uff1a\u5e26HasFriend&lt;double&gt;\u53c2\u6570\u7684report()\u5c06\u6210\u4e3aHasFriend&lt;double&gt; \u7c7b\u7684\u53cb\u5143\n}\n</code></pre></p> <p>\uff083\uff09\u8981\u4f7f\u7528\u7684\u53cb\u5143\u5168\u90e8\u90fd\u8981\u5b9a\u4e49\u663e\u5f0f\u5177\u4f53\u5316 <pre><code>\u6bd4\u5982\u4e0a\u4f8b\u7684\u540e\u7eed\u8c03\u7528\u9700\u8981\u4f7f\u7528\uff1aHasFriend&lt;int&gt; \u4e0e HasFriend&lt;double&gt;\n\u5219\u9700\u8981\u7c7b\u5916\u5b9a\u4e49\uff1a\n\nvoid report(HasFriend&lt;int&gt;&amp; ) {...};\n\u4e0e\nvoid report(HasFriend&lt;double&gt;&amp; ) {...};\n</code></pre></p> <p>\u30103\u3011\u6a21\u677f\u7c7b\u7684\u7ea6\u675f\uff08bound\uff09\u6a21\u677f\u53cb\u5143\u51fd\u6570\uff1a</p> <p>aim\uff1a\u4f7f\u5f97\u53cb\u5143\u51fd\u6570\u672c\u8eab\u6210\u4e3a\u6a21\u677f</p> <p>[1] \u9996\u5148\u5728\u7c7b\u5b9a\u4e49\u7684\u524d\u9762\u58f0\u660e\u6bcf\u4e2a\u6a21\u677f\u51fd\u6570 <pre><code>template &lt;typename T&gt; void counts();\ntemplate &lt;typename T&gt; void report(T&amp; );\n</code></pre></p> <p>[2]  \u5176\u6b21\u5728\u51fd\u6570\u4e2d\u5c06\u6a21\u677f\u58f0\u660e\u4e3a\u53cb\u5143\uff08\u58f0\u660e\u5177\u4f53\u5316\uff09 <pre><code>template &lt;typename TT&gt;\nclass HasFriend2 \n{\n    ...\n    friend void counts&lt;TT&gt;();\n    friend void report&lt;&gt;(HasFriend2&lt;TT&gt;&amp; );\n};\n\n\u58f0\u660e\u4e2d\u7684&lt;&gt;\u6307\u51fa\u8fd9\u662f\u6a21\u677f\u5177\u4f53\u5316\uff1a\n\u5bf9\u4e8e report() \uff0c&lt;&gt;\u53ef\u4ee5\u4e3a\u7a7a\uff0c\u56e0\u4e3a\u53ef\u4ee5\u4ece\u51fd\u6570\u53c2\u6570\u63a8\u65ad\u51fa\u6a21\u677f\u7c7b\u578b\u53c2\u6570\uff1aHasFriend2&lt;TT&gt;\uff0c\u81ea\u52a8\u660e\u767d\u662freport&lt; HasFriend2&lt;TT&gt; &gt;(HasFriend2&lt;TT&gt;&amp; );\n\u5bf9\u4e8e counts() \uff0c\u7531\u4e8e\u8be5\u51fd\u6570\u6ca1\u6709\u53c2\u6570\uff0c\u6240\u4ee5\u5fc5\u987b\u4f7f\u7528TT\u6765\u6307\u660e\u5177\u4f53\u5316\n</code></pre></p> <p>[3]  \u4e3a\u53cb\u5143\u63d0\u4f9b\u6a21\u677f\u5b9a\u4e49</p> <p>\u7a0b\u5e8f\u8bf4\u660e\uff1a <pre><code>// tmp2tmp.cpp -- template friends to a template class\n#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\n\n// template prototypes\ntemplate &lt;typename T&gt; void counts();\ntemplate &lt;typename T&gt; void report(T &amp;);\n\n// template class\ntemplate &lt;typename TT&gt;\nclass HasFriendT\n{\nprivate:\n\u00a0 \u00a0 TT item;\n\u00a0 \u00a0 static int ct;\npublic:\n\u00a0 \u00a0 HasFriendT(const TT &amp; i) : item(i) {ct++;}\n\u00a0 \u00a0 ~HasFriendT() { ct--; }\n\u00a0 \u00a0 friend void counts&lt;TT&gt;();\n\u00a0 \u00a0 friend void report&lt;&gt;(HasFriendT&lt;TT&gt; &amp;);\n};\n\ntemplate &lt;typename T&gt;\nint HasFriendT&lt;T&gt;::ct = 0;\n\n// template friend functions definitions\ntemplate &lt;typename T&gt;\nvoid counts()\n{\n\u00a0 \u00a0 cout &lt;&lt; \"template size: \" &lt;&lt; sizeof(HasFriendT&lt;T&gt;) &lt;&lt; \"; \";\n\u00a0 \u00a0 cout &lt;&lt; \"template counts(): \" &lt;&lt; HasFriendT&lt;T&gt;::ct &lt;&lt; endl;\n}\n\ntemplate &lt;typename T&gt;\nvoid report(T &amp; hf)\n{\n\u00a0 \u00a0 cout &lt;&lt; hf.item &lt;&lt; endl;\n}\n\nint main()\n{\n\u00a0 \u00a0 counts&lt;int&gt;();\n\u00a0 \u00a0 HasFriendT&lt;int&gt; hfi1(10);\n\u00a0 \u00a0 HasFriendT&lt;int&gt; hfi2(20);\n\u00a0 \u00a0 HasFriendT&lt;double&gt; hfdb(10.5);\n\n\u00a0 \u00a0 report(hfi1); \u00a0// generate report(HasFriendT&lt;int&gt; &amp;)\n\u00a0 \u00a0 report(hfi2); \u00a0// generate report(HasFriendT&lt;int&gt; &amp;)\n\u00a0 \u00a0 report(hfdb); \u00a0// generate report(HasFriendT&lt;double&gt; &amp;)\n\n\u00a0 \u00a0 cout &lt;&lt; \"counts&lt;int&gt;() output:\\n\";\n\u00a0 \u00a0 counts&lt;int&gt;();\n\u00a0 \u00a0 cout &lt;&lt; \"counts&lt;double&gt;() output:\\n\";\n\u00a0 \u00a0 counts&lt;double&gt;();\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre></p> <p>\u30104\u3011\u6a21\u677f\u7c7b\u7684\u975e\u7ea6\u675f\uff08unbound\uff09\u6a21\u677f\u53cb\u5143\u51fd\u6570\uff1a</p> <p>aim\uff1a\u901a\u8fc7\u5728\u7c7b\u5185\u90e8\u58f0\u660e\u6a21\u677f\uff0c\u53ef\u4ee5\u521b\u5efa\u975e\u7ea6\u675f\u53cb\u5143\u51fd\u6570\uff0c\u5373\uff1a\u6bcf\u4e2a\u51fd\u6570\u5177\u4f53\u5316\u90fd\u662f\u6bcf\u4e2a\u7c7b\u5177\u4f53\u5316\u7684\u53cb\u5143</p> <p>1\uff09\u683c\u5f0f: <pre><code>template &lt;typename T&gt;\nclass ManyFriend\n{\n...\n    template&lt;typename A , typename B&gt; friend void Func(A&amp; , B&amp;);\n};\n</code></pre> 2\uff09\u4f8b\u5b50\u4e0e\u5982\u4e0b\u5177\u4f53\u5316\u5339\u914d\uff1a <pre><code>void show2&lt;ManyFriend&lt;double&gt;&amp; , ManyFriend&lt;int&gt;&amp;&gt;(ManyFriend&lt;double&gt;&amp; hbx1, ManyFriend&lt;int&gt;&amp; hbx2);\n</code></pre> 3\uff09\u793a\u4f8b\uff1a <pre><code>// manyfrnd.cpp -- unbound template friend to a template class\n#include &lt;iostream&gt;\nusing std::cout;\nusing std::endl;\n\ntemplate &lt;typename T&gt;\nclass ManyFriend\n{\nprivate:\n\u00a0 \u00a0 T item;\npublic:\n\u00a0 \u00a0 ManyFriend(const T &amp; i) : item(i) {}\n\u00a0 \u00a0 template &lt;typename C, typename D&gt; friend void show2(C &amp;, D &amp;);\n};\n\ntemplate &lt;typename C, typename D&gt; void show2(C &amp; c, D &amp; d)\n{\n\u00a0 \u00a0 cout &lt;&lt; c.item &lt;&lt; \", \" &lt;&lt; d.item &lt;&lt; endl;\n}\n\nint main()\n{\n\u00a0 \u00a0 ManyFriend&lt;int&gt; hfi1(10);\n\u00a0 \u00a0 ManyFriend&lt;int&gt; hfi2(20);\n\u00a0 \u00a0 ManyFriend&lt;double&gt; hfdb(10.5);\n\n\u00a0 \u00a0 cout &lt;&lt; \"hfi1, hfi2: \";\n\u00a0 \u00a0 show2(hfi1, hfi2);\n\n\u00a0 \u00a0 cout &lt;&lt; \"hfdb, hfi2: \";\n\u00a0 \u00a0 show2(hfdb, hfi2);\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/#8","title":"\uff088\uff09\u6a21\u677f\u522b\u540d","text":"<p>\u30101\u3011\u4f7f\u7528 typedef\uff1a</p> <p>\u683c\u5f0f\uff1atypedef To_be_trans_name Re_name ;</p> <p>\u4f8b\u5b50\uff1a <pre><code>typedef std::array&lt;double,12&gt; arrd;\ntypedef std::array&lt;int,12&gt; arri;\ntypedef std::array&lt;std::string,12&gt; arrst;\n\narrd gallons;  // gallons is type std::array&lt;double,12&gt;\narri days;     // ...\narrst name;    // ...\n</code></pre></p> <p>\u30102\u3011\u4f7f\u7528 template\uff1a\u7565</p> <p>\u30103\u3011\u4f7f\u7528 using\uff1a\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/","title":"Chapter15\u53cb\u5143\u3001\u5f02\u5e38\u548c\u5176\u4ed6","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#1","title":"1\uff09\u53cb\u5143","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#1_1","title":"\uff081\uff09\u53cb\u5143\u7c7b","text":"<p>\u7c7b\u5e76\u975e\u53ea\u80fd\u62e5\u6709\u53cb\u5143\u51fd\u6570\uff0c\u8fd8\u53ef\u4ee5\u5c06\u7c7b\u4f5c\u4e3a\u53cb\u5143\uff0c\u6b64\u65f6\u53cb\u5143\u7c7b\u7684\u6240\u6709\u65b9\u6cd5\u90fd\u53ef\u4ee5\u8bbf\u95ee\u539f\u59cb\u7c7b\u7684\u79c1\u6709\u548c\u4fdd\u62a4\u6210\u5458</p> <p>\u4f8b\u5b50\uff1a\u8ba9Remote\u7c7b\u6210\u4e3aTv\u7c7b\u7684\u4e00\u4e2a\u53cb\u5143 <pre><code>// tv.h -- Tv and Remote classes\n#ifndef TV_H_\n#define TV_H_\n\nclass Tv\n{\npublic:\n\u00a0 \u00a0 friend class Remote; \u00a0 // Remote can access Tv private parts\n\u00a0 \u00a0 enum {Off, On};\n\u00a0 \u00a0 enum {MinVal,MaxVal = 20};\n\u00a0 \u00a0 enum {Antenna, Cable};\n\u00a0 \u00a0 enum {TV, DVD};\n\n\u00a0 \u00a0 Tv(int s = Off, int mc = 125) : state(s), volume(5),\n\u00a0 \u00a0 \u00a0 \u00a0 maxchannel(mc), channel(2), mode(Cable), input(TV) {}\n\u00a0 \u00a0 void onoff() {state = (state == On)? Off : On;}\n\u00a0 \u00a0 bool ison() const {return state == On;}\n\u00a0 \u00a0 bool volup();\n\u00a0 \u00a0 bool voldown();\n\u00a0 \u00a0 void chanup();\n\u00a0 \u00a0 void chandown();\n\u00a0 \u00a0 void set_mode() {mode = (mode == Antenna)? Cable : Antenna;}\n\u00a0 \u00a0 void set_input() {input = (input == TV)? DVD : TV;}\n\u00a0 \u00a0 void settings() const; // display all settings\nprivate:\n\u00a0 \u00a0 int state; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // on or off\n\u00a0 \u00a0 int volume; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// assumed to be digitized\n\u00a0 \u00a0 int maxchannel; \u00a0 \u00a0 \u00a0 \u00a0// maximum number of channels\n\u00a0 \u00a0 int channel; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // current channel setting\n\u00a0 \u00a0 int mode; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// broadcast or cable\n\u00a0 \u00a0 int input; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // TV or DVD\n};\n\nclass Remote\n{\nprivate:\n\u00a0 \u00a0 int mode; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// controls TV or DVD\npublic:\n\u00a0 \u00a0 Remote(int m = Tv::TV) : mode(m) {}\n\u00a0 \u00a0 bool volup(Tv &amp; t) { return t.volup();}\n\u00a0 \u00a0 bool voldown(Tv &amp; t) { return t.voldown();}\n\u00a0 \u00a0 void onoff(Tv &amp; t) { t.onoff(); }\n\u00a0 \u00a0 void chanup(Tv &amp; t) {t.chanup();}\n\u00a0 \u00a0 void chandown(Tv &amp; t) {t.chandown();}\n\u00a0 \u00a0 void set_chan(Tv &amp; t, int c) {t.channel = c;}\n\u00a0 \u00a0 void set_mode(Tv &amp; t) {t.set_mode();}\n\u00a0 \u00a0 void set_input(Tv &amp; t) {t.set_input();}\n};\n#endif\n</code></pre></p> <p><pre><code>// tv.cpp -- methods for the Tv class (Remote methods are inline)\n#include &lt;iostream&gt;\n#include \"tv.h\"\n\nbool Tv::volup()\n{\n\u00a0 \u00a0 if (volume &lt; MaxVal)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 volume++;\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n\nbool Tv::voldown()\n{\n\u00a0 \u00a0 if (volume &gt; MinVal)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 volume--;\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n}\n\nvoid Tv::chanup()\n{\n\u00a0 \u00a0 if (channel &lt; maxchannel)\n\u00a0 \u00a0 \u00a0 \u00a0 channel++;\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 channel = 1;\n}\n\nvoid Tv::chandown()\n{\n\u00a0 \u00a0 if (channel &gt; 1)\n\u00a0 \u00a0 \u00a0 \u00a0 channel--;\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 channel = maxchannel;\n}\n\nvoid Tv::settings() const\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::endl;\n\u00a0 \u00a0 cout &lt;&lt; \"TV is \" &lt;&lt; (state == Off? \"Off\" : \"On\") &lt;&lt; endl;\n\u00a0 \u00a0 if (state == On)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Volume setting = \" &lt;&lt; volume &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Channel setting = \" &lt;&lt; channel &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Mode = \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; (mode == Antenna? \"antenna\" : \"cable\") &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Input = \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; (input == TV? \"TV\" : \"DVD\") &lt;&lt; endl;\n\u00a0 \u00a0 }\n}\n</code></pre> ==\u53cb\u5143\u58f0\u660e\u53ef\u4ee5\u4f4d\u4e8e\u516c\u6709\u3001\u79c1\u6709\u3001\u4fdd\u62a4\u90e8\u5206\uff0c\u5176\u6240\u5728\u4f4d\u7f6e\u65e0\u5173\u7d27\u8981==</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#2","title":"\uff082\uff09\u53cb\u5143\u6210\u5458\u51fd\u6570","text":"<p>\u53ef\u4ee5\u9009\u62e9\u4ec5\u8ba9\u7279\u5b9a\u7684\u7c7b\u6210\u5458\u6210\u4e3a\u53e6\u4e00\u4e2a\u7c7b\u7684\u53cb\u5143\uff0c\u800c\u4e0d\u5fc5\u8ba9\u6574\u4e2a\u7c7b\u6210\u4e3a\u53cb\u5143\uff0c\u4f46\u662f\u8fd9\u6837\u8981\u6ce8\u610f\u5404\u79cd\u58f0\u660e\u548c\u5b9a\u4e49\u7684\u987a\u5e8f</p> <p>\u4f8b\u5982\uff0c\u8ba9 Remote() : : set_chan( ) \u6210\u4e3aTv\u7c7b\u7684\u53cb\u5143\u7684\u65b9\u6cd5\uff1a\u5728Tv\u7c7b\u58f0\u660e\u4e2d\u5c06\u5176\u58f0\u660e\u4e3a\u53cb\u5143 <pre><code>class Tv\n{\n    friend void Remote::set_chan(Tv&amp; t,int c);\n    ...\n}\n</code></pre> ![[Pasted image 20230806095939.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#3","title":"\uff083\uff09\u5171\u540c\u7684\u53cb\u5143","text":"<p>![[Pasted image 20230806100026.png]] ![[Pasted image 20230806100038.png]] ![[Pasted image 20230806100048.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#2_1","title":"2\uff09\u5d4c\u5957\u7c7b","text":"<p>\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#3_1","title":"3\uff09\u5f02\u5e38","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#1abort","title":"\u30101\u3011\u8c03\u7528abort( )","text":"<p>\uff081\uff09\u51fd\u6570\u539f\u578b\u4f4d\u4e8e&lt; cstdlib &gt;\u4e2d \uff082\uff09\u5178\u578b\u5b9e\u73b0\uff1a\u5411\u6807\u51c6\u9519\u8bef\u6d41\u53d1\u9001\u4e00\u4e2a\u6d88\u606f\u201c\u7a0b\u5e8f\u5f02\u5e38\u7ec8\u6b62\u201d(abnormal program termination)\uff0c\u7136\u540e\u7ec8\u6b62\u7a0b\u5e8f\u3002\u5b83\u8fd8\u8fd4\u56de\u4e00\u4e2a\u968f\u5b9e\u73b0\u800c\u5f02\u7684\u503c\uff0c\u544a\u8bc9\u64cd\u4f5c\u7cfb\u7edf\u5904\u7406\u5931\u8d25 <pre><code>//error1.cpp -- using the abort() function\n#include &lt;iostream&gt;\n#include &lt;cstdlib&gt;\ndouble hmean(double a, double b);\nint main()\n{\n\u00a0 \u00a0 double x, y, z;\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"Enter two numbers: \";\n\u00a0 \u00a0 while (std::cin &gt;&gt; x &gt;&gt; y)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 z = hmean(x,y);\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Harmonic mean of \" &lt;&lt; x &lt;&lt; \" and \" &lt;&lt; y\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is \" &lt;&lt; z &lt;&lt; std::endl;\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Enter next set of numbers &lt;q to quit&gt;: \";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 std::cout &lt;&lt; \"Bye!\\n\";\n\u00a0 \u00a0 return 0;\n}\n\ndouble hmean(double a, double b)\n{\n\u00a0 \u00a0 if (a == -b)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"untenable arguments to hmean()\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 std::abort();\n\u00a0 \u00a0 }\n\u00a0 \u00a0 return 2.0 * a * b / (a + b);\n}\n\nresult:\nEnter two numbers: 1 -1\nuntenable arguments to hmean()\n</code></pre> ps\uff1a\u5728 hmean( ) \u7a0b\u5e8f\u4e2d\u8c03\u7528 abort( ) \u51fd\u6570\u5c06\u76f4\u63a5\u7ec8\u6b62\u7a0b\u5e8f\uff0c\u800c\u4e0d\u662f\u5148\u8fd4\u56de\u5230 main( )</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#2_2","title":"\u30102\u3011\u8fd4\u56de\u9519\u8bef\u7801","text":"<p>\uff081\uff09ostream\u7c7b\u7684 get(void) \u6210\u5458\u901a\u5e38\u8fd4\u56de\u4e0b\u4e00\u4e2a\u8f93\u5165\u5b57\u7b26\u7684 ASCII\u7801\uff1b\u4f46\u662f\u5230\u8fbe\u6587\u4ef6\u5c3e\u65f6\uff0c\u5c06\u8fd4\u56de\u7279\u6b8a\u503cEOF</p> <p>\uff082\uff09\u591a\u52a0\u4e00\u4e2a\u53c2\u6570\uff1a\u4f7f\u7528\u6307\u9488\u53c2\u6570or\u5f15\u7528\u6307\u9488\u6765\u5c06\u503c\u8fd4\u56de\u7ed9\u8c03\u7528\u7a0b\u5e8f\uff0c\u5e76\u4f7f\u7528\u51fd\u6570\u7684\u8fd4\u56de\u503c\u6765\u6307\u51fa\u662f\u6210\u529f\u8fd8\u662f\u5931\u8d25 <pre><code>//error2.cpp -- returning an error code\n#include &lt;iostream&gt;\n#include &lt;cfloat&gt; \u00a0// (or float.h) for DBL_MAX\nbool hmean(double a, double b, double * ans);\nint main()\n{\n\u00a0 \u00a0 double x, y, z;\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"Enter two numbers: \";\n\u00a0 \u00a0 while (std::cin &gt;&gt; x &gt;&gt; y)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 if (hmean(x,y,&amp;z))\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Harmonic mean of \" &lt;&lt; x &lt;&lt; \" and \" &lt;&lt; y\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is \" &lt;&lt; z &lt;&lt; std::endl;\n\u00a0 \u00a0 \u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"One value should not be the negative \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"of the other - try again.\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Enter next set of numbers &lt;q to quit&gt;: \";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 std::cout &lt;&lt; \"Bye!\\n\";\n\u00a0 \u00a0 return 0;\n}\n\nbool hmean(double a, double b, double * ans)\n{\n\u00a0 \u00a0 if (a == -b)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 *ans = DBL_MAX;\n\u00a0 \u00a0 \u00a0 \u00a0 return false;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 else\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 *ans = 2.0 * a * b / (a + b);\n\u00a0 \u00a0 \u00a0 \u00a0 return true;\n\u00a0 \u00a0 }\n}\n</code></pre> ps\uff1a\u7b2c\u4e09\u53c2\u6570\u53ef\u4ee5\u662f\u6307\u9488\u6216\u5f15\u7528\u3002\u4e00\u822c\u6765\u8bf4\u5bf9\u5185\u7f6e\u7684\u53c2\u6570\uff0c\u503e\u5411\u4e8e\u91c7\u7528\u6307\u9488\uff0c\u56e0\u4e3a\u8fd9\u6837\u53ef\u4ee5\u660e\u663e\u6307\u51fa\u54ea\u4e2a\u53c2\u6570\u7528\u4e8e\u63d0\u4f9b\u7b54\u6848</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#3_2","title":"\u30103\u3011\u5f02\u5e38\u673a\u5236","text":"<p>\uff081\uff09\u7ec4\u6210\uff1a</p> <p>[1]throw\u8bed\u53e5\uff1a\u5b9e\u9645\u4e0a\u662f\u8df3\u8f6c\uff0c\u547d\u4ee4\u7a0b\u5e8f\u8f6c\u5230\u53e6\u4e00\u53e5\u8bed\u53e5\u3002throw\u5173\u952e\u5b57\u8868\u793a\u5f15\u53d1\u5f02\u5e38\uff0c\u968f\u540e\u7684\u503c(str\u6216object)\u6307\u51fa\u6765\u5f02\u5e38\u7684\u201c\u4eba\u5b9a\u7279\u5f81\u201d [2]catch\u6a21\u5757\uff1a\u7a0b\u5e8f\u4f7f\u7528\u5f02\u5e38\u5904\u7406\u6a21\u5757(exception handler)\u6765\u6355\u83b7\u5f02\u5e38\u3002catch\u5173\u952e\u5b57\u6307\u51fa\uff1a\u5f53\u5f02\u5e38\u88ab\u5f15\u53d1\u65f6\uff0c\u7a0b\u5e8f\u5e94\u8df3\u5230\u8fd9\u4e2a\u4f4d\u7f6e\u6267\u884c [3]try\u6a21\u5757\uff1a\u5b83\u5185\u90e8\u5b58\u6709\u5f02\u5e38\u53ef\u80fd\u4f1a\u88ab\u6fc0\u6d3b\u7684\u4ee3\u7801\u5757\uff0c\u5b83\u540e\u9762\u8ddf\u7740\u4e00\u4e2a\u6216\u591a\u4e2acatch\u5757</p> <p>\uff082\uff09\u7a0b\u5e8f\u8bf4\u660e\uff1a <pre><code>// error3.cpp -- using an exception\n#include &lt;iostream&gt;\ndouble hmean(double a, double b);\n\nint main()\n{\n\u00a0 \u00a0 double x, y, z;\n\u00a0 \u00a0 std::cout &lt;&lt; \"Enter two numbers: \";\n\u00a0 \u00a0 while (std::cin &gt;&gt; x &gt;&gt; y)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 try { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // start of try block\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 z = hmean(x,y);\n\u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // end of try block\n\n\u00a0 \u00a0 \u00a0 \u00a0 catch (const char * s) \u00a0                        ----------------------------\u8fd9\u91cc const char* \u4e0e \u201c\u4eba\u5b9a\u7279\u5f81\u201dstring\u543b\u5408\n\u00a0 \u00a0 \u00a0 \u00a0 {// start of exception handler \n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0   std::cout &lt;&lt; s &lt;&lt; std::endl;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Enter a new pair of numbers: \";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // end of handler\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Harmonic mean of \" &lt;&lt; x &lt;&lt; \" and \" &lt;&lt; y\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is \" &lt;&lt; z &lt;&lt; std::endl;\n\u00a0 \u00a0 \u00a0 \u00a0 std::cout &lt;&lt; \"Enter next set of numbers &lt;q to quit&gt;: \";\n\u00a0 \u00a0 }\n\u00a0 \u00a0 std::cout &lt;&lt; \"Bye!\\n\";\n\u00a0 \u00a0 return 0;\n}\n\ndouble hmean(double a, double b)\n{\n\u00a0 \u00a0 if (a == -b)\n\u00a0 \u00a0 \u00a0 \u00a0 throw \"bad hmean() arguments: a = -b not allowed\"; ----------------------------\u78b0\u5230\u5f02\u5e38\u65f6\u5c06\u201c\u4eba\u5b9a\u7279\u5f81\u201d\u8bbe\u7f6e\u4e3a\u8fd9\u4e2astring\u8bed\u53e5\n\u00a0 \u00a0 return 2.0 * a * b / (a + b);\n}\n</code></pre> \u7a0b\u5e8f\u6267\u884c\u8fc7\u7a0b\u5206\u6790\uff1a \u30100\u3011\u7a0b\u5e8f\u6309\u8ba1\u5212\u8fdb\u884cing \u30101\u3011\u5982\u679c\u5176\u4e2d\u67d0\u6761\u8bed\u53e5\u5bfc\u81f4\u5f02\u5e38\u88ab\u5f15\u53d1\uff0c\u5219\u4f1a\u6267\u884c\u5b83\u7684throw\u8bed\u53e5\uff0c\u8fd9\u7c7b\u4f3c\u4e8e\u6267\u884c\u8fd4\u56de\u8bed\u53e5\uff0c\u56e0\u4e3a\u5b83\u4e5f\u5c06\u7ec8\u6b62\u51fd\u6570\u7684\u6267\u884c\u3002\u4f46throw\u4e0d\u662f\u5c06\u63a7\u5236\u6743\u8fd4\u56de\u7ed9\u8c03\u7528\u7a0b\u5e8f\uff0c\u800c\u662f\u5bfc\u81f4\u7a0b\u5e8f\u5411\u51fd\u6570\u8c03\u7528\u7684\u5e8f\u5217\u540e\u9000\uff0c\u76f4\u5230\u627e\u5230\u5305\u542btry\u7684\u51fd\u6570 \u30102\u3011\u627e\u5230\u5305\u542b\u5b83\u7684try\u6a21\u5757\u540e\uff0c\u7a0b\u5e8f\u5c06\u5bfb\u627e\u4e0e\u5f15\u53d1\u7684\u5f02\u5e38\u7c7b\u578b\u5339\u914d\u7684\u5f02\u5e38\u5904\u7406\u7a0b\u5e8f   ( \u8fd9\u53d6\u51b3\u4e8e\u4e0a\u9762throw\u7684\u201c\u4eba\u5b9a\u7279\u5f81\u201d ) \u30103\u3011\u73b0\u5728\u5df2\u627e\u5230\u5339\u914d\u7684catch\u6a21\u5757\uff08\u5f53\u5f02\u5e38\u4e0e\u8be5\u5904\u7406\u7a0b\u5e8f\u5339\u914d\u65f6\uff0c\u7a0b\u5e8f\u5c06\u6267\u884c\u62ec\u53f7\u4e2d\u7684\u4ee3\u7801\uff09 ps\uff1a\u6267\u884c\u5b8ctry\u5757\u4e2d\u7684\u8bed\u53e5\u540e\uff0c\u5982\u679c\u6ca1\u6709\u5f15\u53d1\u4efb\u4f55\u5f02\u5e38\uff0c\u5219\u7a0b\u5e8f\u8df3\u8fc7try\u540e\u9762\u7684catch\u5757\uff0c\u76f4\u63a5\u6267\u884c\u5904\u7406\u7a0b\u5e8f\u540e\u7684\u7b2c\u4e00\u6761\u8bed\u53e5</p> <p>\u4e0a\u4f8b\u5256\u6790\uff1a ![[Pasted image 20230806120428.png]] ![[Pasted image 20230806120441.png]]</p> <p>\u56fe\u793a\u89e3\u6790\u539f\u7406\uff1a ![[Pasted image 20230806120532.png]]</p> <p>\uff083\uff09\u5c06\u7c7b\u5bf9\u8c61\u4f5c\u4e3a\u5f02\u5e38\u7c7b\u578b \u5f15\u53d1\u5f02\u5e38\u7684\u51fd\u6570\u5c06\u4f20\u9012\u4e00\u4e2a\u5bf9\u8c61\uff0c\u5982\u6b64\u7684\u4f18\u70b9\u662f\uff1a\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684\u7c7b\u578b\u6765\u533a\u5206\u4e0d\u540c\u7684\u51fd\u6570\u5728\u4e0d\u540c\u7684\u60c5\u51b5\u4e0b\u5f15\u53d1\u7684\u5f02\u5e38 ![[Pasted image 20230806121106.png]] ![[Pasted image 20230806121315.png]] ![[Pasted image 20230806121328.png]]</p> <p>\u4e3e\u4f8b\u8bf4\u660e\uff1a <pre><code>// exc_mean.h \u00a0-- exception classes for hmean(), gmean()\n#include &lt;iostream&gt;\nclass bad_hmean\n{\nprivate:\n\u00a0 \u00a0 double v1;\n\u00a0 \u00a0 double v2;\npublic:\n\u00a0 \u00a0 bad_hmean(double a = 0, double b = 0) : v1(a), v2(b){}\n\u00a0 \u00a0 void mesg();\n};\n\ninline void bad_hmean::mesg()\n{ \u00a0\n\u00a0 \u00a0 std::cout &lt;&lt; \"hmean(\" &lt;&lt; v1 &lt;&lt; \", \" &lt;&lt; v2 &lt;&lt;\"): \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \"invalid arguments: a = -b\\n\";\n}\n\nclass bad_gmean\n{\npublic:\n\u00a0 \u00a0 double v1;\n\u00a0 \u00a0 double v2;\n\u00a0 \u00a0 bad_gmean(double a = 0, double b = 0) : v1(a), v2(b){}\n\u00a0 \u00a0 const char * mesg();\n};\n\ninline const char * bad_gmean::mesg()\n{ \n\u00a0 \u00a0 return \"gmean() arguments should be &gt;= 0\\n\";\n}\n</code></pre></p> <pre><code>//error4.cpp \ufffd using exception classes\n#include &lt;iostream&gt;\n#include &lt;cmath&gt; // or math.h, unix users may need -lm flag\n#include \"exc_mean.h\"\n// function prototypes\ndouble hmean(double a, double b);\ndouble gmean(double a, double b);\nint main()\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 using std::cin;\n\u00a0 \u00a0 using std::endl;\n\n\u00a0 \u00a0 double x, y, z;\n\u00a0 \u00a0 cout &lt;&lt; \"Enter two numbers: \";\n\n\u00a0 \u00a0 while (cin &gt;&gt; x &gt;&gt; y)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 try { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// start of try block\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 z = hmean(x,y);\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Harmonic mean of \" &lt;&lt; x &lt;&lt; \" and \" &lt;&lt; y\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is \" &lt;&lt; z &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Geometric mean of \" &lt;&lt; x &lt;&lt; \" and \" &lt;&lt; y\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 &lt;&lt; \" is \" &lt;&lt; gmean(x,y) &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Enter next set of numbers &lt;q to quit&gt;: \";\n\u00a0 \u00a0 \u00a0 \u00a0 }// end of try block\n\u00a0 \u00a0 \u00a0 \u00a0 \n\u00a0 \u00a0 \u00a0 \u00a0 catch (bad_hmean &amp; bg) \u00a0 \u00a0// start of catch block\n\u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 bg.mesg();\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Try again.\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 continue;\n\u00a0 \u00a0 \u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0\n\n\u00a0 \u00a0 \u00a0 \u00a0 catch (bad_gmean &amp; hg)\n\u00a0 \u00a0 \u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; hg.mesg();\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Values used: \" &lt;&lt; hg.v1 &lt;&lt; \", \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; hg.v2 &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"Sorry, you don't get to play any more.\\n\";\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 break;\n\u00a0 \u00a0 \u00a0 \u00a0 } // end of catch block\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; \"Bye!\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\ndouble hmean(double a, double b)\n{\n\u00a0 \u00a0 if (a == -b)\n\u00a0 \u00a0 \u00a0 \u00a0 throw bad_hmean(a,b);\n\u00a0 \u00a0 return 2.0 * a * b / (a + b);\n}\n\ndouble gmean(double a, double b)\n{\n\u00a0 \u00a0 if (a &lt; 0 || b &lt; 0)\n\u00a0 \u00a0 \u00a0 \u00a0 throw bad_gmean(a,b);\n\u00a0 \u00a0 return std::sqrt(a * b);\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#4","title":"\u30104\u3011\u6808\u89e3\u9000","text":"<p>\uff081\uff09\u666e\u901a\u51fd\u6570\u8c03\u7528\u7684\u6808\u8fc7\u7a0b\uff08\u51fd\u6570\u6808\uff09\uff1a ![[Pasted image 20230806121953.png]]</p> <p>\uff082\uff09throw-catch\u5904\u7406\u673a\u5236\u539f\u7406\uff1a ![[Pasted image 20230806122119.png]]</p> <p>==\u56fe\u89e3\uff1a(\u975e\u5e38\u76f4\u89c2\uff0c\u5f3a\u70c8\u63a8\u8350\uff01)== ![[Pasted image 20230806122459.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#6","title":"\u30106\u3011\u5176\u4ed6\u5f02\u5e38\u7279\u6027","text":"<p>throw-catch\u673a\u5236\u7c7b\u4f3c\u4e8e\u51fd\u6570\u53c2\u6570\u4e0e\u51fd\u6570\u8fd4\u56de\u7684\u673a\u5236\uff0c\u4f46\u8fd8\u662f\u6709\u533a\u522b\uff1a</p> <p>\uff081\uff09\u51fd\u6570 func( ) \u4e2d\u7684\u8fd4\u56de\u8bed\u53e5\u5c06\u63a7\u5236\u6743\u8fd4\u56de\u7ed9\u8c03\u7528 func( ) \u7684\u51fd\u6570\uff0c\u4f46\u662fthrow\u8bed\u53e5\uff08\u6700\u7ec8\uff09\u5c06\u63a7\u5236\u6743\u5411\u4e0a\u8fd4\u56de\u5230\u7b2c\u4e00\u4e2a\u8fd9\u6837\u7684\u51fd\u6570\uff1a\u5305\u542b\u80fd\u591f\u6355\u83b7\u76f8\u5e94\u5f02\u5e38\u7684try-catch\u7ec4\u5408</p> <p>\uff082\uff09\u5f15\u53d1\u5f02\u5e38\u65f6\u7f16\u8bd1\u5668\u603b\u4f1a\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u62f7\u8d1d\uff0c\u5373\u4f7f\u5f02\u5e38\u89c4\u8303\u548ccatch\u6a21\u5757\u4e2d\u6307\u5b9a\u7684\u662f\u5f15\u7528 <pre><code>class problem{......};\n...\nvoid super() throw(problem)\n{\n    ...\n    if(oh_baby)\n    {\n        problem oops;\n        throw oops;    // \u8fd9\u4e24\u53e5\u53ef\u4ee5\u76f4\u63a5\u7528\uff1athrow problem(); \u6765\u4ee3\u66ff\uff01\n    ...\n}\n...\n\ntry {\n    super();\n}\n\ncatch(problem&amp; p)\n{\n    ...\n}\n</code></pre> \uff081\uff09\u4e0a\u8ff0\u7684p\u5c06\u6307\u5411oops\u7684\u526f\u672c\u800c\u4e0d\u662foops\u672c\u8eab\uff01\u8fd9\u5f88\u597d\uff0c\u56e0\u4e3a\u51fd\u6570super( ) \u6267\u884c\u5b8c\u6bd5\u540eoops\u5c06\u4e0d\u590d\u5b58\u5728\uff01</p> <p>\uff082\uff09\u601d\u8003\uff1a\u65e2\u7136throw\u8bed\u53e5\u751f\u6210\u7684\u662foops\u7684\u526f\u672c\uff0c\u4e3a\u4ec0\u4e48\u4ee3\u7801\u4e2d\u8981\u4f7f\u7528\u5f15\u7528\u5462\uff1f \u901a\u5e38\uff0c\u5c06\u5f15\u7528\u4f5c\u4e3a\u8fd4\u56de\u503c\u7684\u539f\u56e0\u662f\uff1a\u907f\u514d\u521b\u5efa\u526f\u672c\u4ee5\u63d0\u9ad8\u6548\u7387 \u4f46\u662f\u5728\u8fd9\u91cc\uff1a \u5f15\u7528\u6709\u4e00\u4e2a\u91cd\u8981\u7684\u7279\u5f81\uff1a\u57fa\u7c7b\u5f15\u7528\u53ef\u4ee5\u6267\u884c\u6d3e\u751f\u7c7b\u7684\u5bf9\u8c61\u3002\u5047\u8bbe\u6709\u4e00\u7ec4\u901a\u8fc7\u7ee7\u627f\u5173\u8054\u8d77\u6765\u7684\u5f02\u5e38\u7c7b\u578b\uff0c\u5219\u5728\u5f02\u5e38\u7c7b\u578b\u4e2d\u53ea\u9700\u5217\u51fa\u4e00\u4e2a\u57fa\u7c7b\u5f15\u7528\uff0c\u5b83\u5c06\u53ef\u4ee5\u4e0e\u4efb\u4f55\u6d3e\u751f\u7c7b\u5bf9\u8c61\u5339\u914d\uff01 <pre><code>class bad_1 {...};\nclass bad_2 : public bad_1 {...};\nclass bad_3 : public bad_2 {...};\n...\n\nvoid duper()\n{\n    ...\n    if(oh_no) throw bad_1();\n    if(rats) throw bad_2();\n    if(drat) throw bad_3();\n    ...\n}\n...\n\ntry {\n    duper();\n}\n\ncatch(bad_3&amp; be) {......}\ncatch(bad_2&amp; ce) {......}\ncatch(bad_1&amp; de) {......}\n</code></pre></p> <p>ps1\uff1a\u8fd9\u91cc\u7684\u4f7f\u7528\u8981\u6ce8\u610f\u6392\u5217\u987a\u5e8f\uff01\uff01\uff01 \u30101\u3011\u5982\u679c\u5c06bad_1&amp;\u7684catch\u6a21\u5757\u653e\u5728\u6700\u524d\u9762\uff0c\u5b83\u5c06\u6355\u83b7bad_1\uff0cbad_2 \u548c bad_3\uff1b \u30102\u3011\u901a\u8fc7\u6309\u76f8\u53cd\u7684\u987a\u5e8f\u6392\u5217\uff0cbad_3\u5f02\u5e38\u5c06\u88abbad_3&amp;\u5904\u7406\u7a0b\u5e8f\u6240\u6355\u83b7\uff08\u5404\u53f8\u5176\u804c\uff01\uff09</p> <p>tips\uff1a\u5982\u679c\u6709\u4e00\u4e2a\u5f02\u5e38\u7c7b\u7ee7\u627f\u5c42\u6b21\u7ed3\u6784\uff0c\u5e94\u8fd9\u6837\u6392\u5217catch\u6a21\u5757\uff1a \u5c06 \u6355\u83b7\u5c42\u6b21\u7ed3\u6784\u6700\u4e0b\u9762\u7684\u5f02\u5e38\u7c7b  \u7684catch\u8bed\u53e5\u653e\u5728\u6700\u524d\u9762\uff0c\u5c06\u6355\u83b7\u57fa\u7c7b\u5f02\u5e38\u7684catch\u8bed\u53e5\u653e\u5728\u6700\u540e\u9762</p> <p>ps2:\uff1a\u5bf9\u4e8ecatch\u6a21\u5757\uff0c\u4f7f\u7528\u7701\u7565\u53f7\u6765\u8868\u793a\u5f02\u5e38\u7c7b\u578b\uff0c\u4ece\u800c\u6355\u83b7\u4efb\u4f55\u5f02\u5e38\uff01\uff01\uff01 \u683c\u5f0f\uff1a <pre><code>catch(...) { //statements }\n</code></pre> \u4f8b\u5b50\uff1a <pre><code>try {\n    duper();\n}\n\ncatch(bad_3&amp; be) { //statements }\ncatch(bad_2&amp; ce) { //statements }\ncatch(bad_1&amp; de) { //statements }\ncatch(...) { //statements }       // catch whatever is left!\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#7exception","title":"\u30107\u3011exception\u7c7b","text":"<p>c++\u5b9a\u4e49\u4e86\u5f88\u591a\u57fa\u4e8eexception\u7684\u5f02\u5e38\u7c7b\u578b \uff081\uff09stdexcept\u5f02\u5e38\u7c7b\uff1a</p> <p>\u7c7b\u522b\u4e00\uff1alogic_error\uff08\u5178\u578b\u7684\u903b\u8f91\u9519\u8bef\uff09 [1] domain_error\uff1a\u5b9a\u4e49\u57df\u9519\u8bef [2] invalid_argument\uff1a\u51fd\u6570\u4f20\u9012\u4e86\u4e00\u4e2a\u610f\u6599\u4e4b\u5916\u7684\u503c [3] length_error\uff1a\u6ca1\u6709\u8db3\u591f\u7684\u7a7a\u95f4\u6765\u6267\u884c\u6240\u9700\u7684\u64cd\u4f5c [4] out_of_bounds\uff1a\u6307\u793a\u7d22\u5f15\u9519\u8bef</p> <p>\u7c7b\u522b\u4e8c\uff1aruntime_error\uff08\u8fd0\u884c\u65f6\u9519\u8bef\uff09 [1] range_error\uff1a\u8ba1\u7b97\u7ed3\u679c\u6ca1\u6709\u4e0a\u6ea2\u6216\u4e0b\u6ea2\uff0c\u4f46\u662f\u4e0d\u5728\u51fd\u6570\u5141\u8bb8\u7684\u8303\u56f4\u5185 [2] overflow_error\uff1a\u4e0a\u6ea2\u9519\u8bef\uff08\u8d85\u51famaximum\uff09 [3] underflow_error\uff1a\u4e0b\u6ea2\u9519\u8bef\uff08\u5c0f\u4e8eminimum\uff09</p> <p>\uff082\uff09bad_alloc\u5f02\u5e38 \u548c new\uff1a \u5f53\u65e0\u6cd5\u5206\u914d\u8bf7\u6c42\u7684\u5185\u5b58\u91cf\u65f6\uff0cnew\u8fd4\u56de\u4e00\u4e2a\u7a7a\u6307\u9488 ps\uff1a\u5982\u679c\u7a0b\u5e8f\u5728\u7cfb\u7edf\u4e0a\u8fd0\u884c\u65f6\u6ca1\u6709\u51fa\u73b0\u5185\u5b58\u5206\u914d\u7684\u95ee\u9898\uff0c\u53ef\u4ee5\u5c1d\u8bd5\u63d0\u9ad8\u8bf7\u6c42\u5206\u914d\u7684\u5185\u5b58\u91cf</p> <p>\uff083\uff09\u7a7a\u6307\u9488 \u548c new\uff1a c++\u6807\u51c6\u63d0\u4f9b\u4e86\u4e00\u79cd\u5728\u5931\u8d25\u65f6\u8fd4\u56de\u7a7a\u6307\u9488\u7684new\uff0c\u5f62\u5f0f\u5982\u4e0b\uff1a <pre><code>int* pi = new (std::nothrow) int;\nint* pa = new (std::nothrow) int[666];\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#4rtti","title":"4\uff09RTTI","text":"<p>RTTI\uff1a\u8fd0\u884c\u9636\u6bb5\u7c7b\u578b\u8bc6\u522b ( RunTime Type Identification)</p> <p>\uff081\uff09\u7528\u9014\uff1a ![[Pasted image 20230806134445.png]]</p> <p>\uff082\uff09\u5de5\u4f5c\u539f\u7406\uff1a \u30101\u3011dynamic_cast\u8fd0\u7b97\u7b26\uff1a</p> <p>\u5982\u679c\u53ef\u80fd\u7684\u8bdd\uff0cdynamic_cast\u8fd0\u7b97\u7b26\u5c06\u4f7f\u7528\u4e00\u4e2a\u6307\u5411\u57fa\u7c7b\u7684\u6307\u9488 \u6765\u751f\u6210\u4e00\u4e2a\u6307\u5411\u6d3e\u751f\u7c7b\u7684\u6307\u9488</p> <p>\u8bed\u6cd5\uff1a <pre><code>dynamic_cast&lt;Type*&gt; (pt);\n\n\u5982\u679c\u6307\u5411\u7684\u5bf9\u8c61(*pt)\u7684\u7c7b\u578b\u4e3a Type \u6216\u8005\u662f \u4eceType\u76f4\u63a5/\u95f4\u63a5\u6d3e\u751f\u800c\u6765\u7684\u7c7b\u578b \uff0c\u5219\u5c06\u6307\u9488pt\u8f6c\u6362\u4e3aType\u7c7b\u578b\u7684\u6307\u9488-------------\u3010\u6307\u9488\u56de\u6eaf\u3011\n\u5426\u5219\uff1a\u7ed3\u679c\u662f0\uff0c\u5373\u7a7a\u6307\u9488\n</code></pre></p> <p>\u30102\u3011typeid\u8fd0\u7b97\u7b26\uff1a</p> <p>\u8fd4\u56de\u4e00\u4e2a\u6307\u51fa\u5bf9\u8c61\u7684\u7c7b\u578b\u7684\u503c</p> <p>\u30103\u3011type_info\u7ed3\u6784\uff1a</p> <p>\u5b58\u50a8\u4e86\u6709\u5173\u7279\u5b9a\u7c7b\u578b\u7684\u4fe1\u606f</p> <p>==RTTI\uff1a\u53ea\u9002\u7528\u4e8e\u5305\u542b\u865a\u51fd\u6570\u7684\u7c7b==</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/#5","title":"5\uff09\u7c7b\u578b\u8f6c\u6362\u8fd0\u7b97\u7b26","text":"<p>\u4e25\u683c\u9650\u5236\u5141\u8bb8\u7684\u7c7b\u578b\u8f6c\u6362\uff0c\u5e76\u6dfb\u52a04\u4e2a\u7c7b\u578b\u8f6c\u6362\u7b26\uff0c\u4f7f\u5f97\u8f6c\u6362\u8fc7\u7a0b\u66f4\u89c4\u8303 \u30101\u3011dynamic_cast\uff1a\u201c\u6307\u9488\u56de\u6eaf\u201d \u30102\u3011const_cast\uff1a\u201c\u6539\u53d8\u503c\u4e3a const \u6216 volatile\uff08\u4e0d\u7a33\u5b9a\u7684\uff09\u7684\u7c7b\u578b\u201d \u30103\u3011static_cast\uff1a \u30104\u3011reinterpret_cast\uff1a</p> <p>\u57fa\u672c\u7528\u4e0d\u5230\uff0c\u7528\u5230\u65f6\u6765\u8fd9\u91cc\u67e5\u5373\u53ef\uff08\u4e66P526~P528\uff09</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/","title":"Chapter16string\u7c7b\u548c\u6807\u51c6\u6a21\u677f\u5e93","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#1string","title":"1\uff09string\u7c7b","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#1string_1","title":"\uff081\uff09string\u7c7b\u7684\u8f93\u5165","text":"<p>\u30101\u3011cin &gt;&gt; str; \u6682\u505c\u65b9\u5f0f\uff1a \u4e0d\u65ad\u8bfb\u53d6\uff0c\u76f4\u5230\u9047\u89c1\u7a7a\u767d\u5b57\u7b26\uff08\u7a7a\u683c\u3001\u6362\u884c\u7b26\u3001\u5236\u8868\u7b26\uff09\u5e76\u5c06\u5176\u7559\u5728\u8f93\u5165\u961f\u5217\u4e2d</p> <p>\u30102\u3011getline(cin,str); \u4f1a\u81ea\u52a8\u8c03\u6574\u76ee\u6807string\u5bf9\u8c61\u7684\u5927\u5c0f\uff0c\u4f7f\u4e4b\u521a\u597d\u80fd\u5b58\u50a8\u8f93\u5165\u7684\u5b57\u7b26\u3002\u4e0d\u9700\u8981\u6307\u5b9a\u8bfb\u53d6\u591a\u5c11\u5b57\u7b26\u7684\u6570\u503c\u53c2\u6570 \u6682\u505c\u65b9\u5f0f\uff1a [1] \u5230\u8fbe\u6587\u4ef6\u5c3e\uff1a\u8f93\u5165\u6d41\u7684eofbit\u5c06\u88ab\u8bbe\u7f6e\uff0c\u610f\u5473\u7740fail()\u4e0eeof()\u90fd\u5c06\u8fd4\u56detrue [2] \u9047\u5230\u5206\u754c\u5b57\u7b26\uff08\u9ed8\u8ba4\u4e3a\\n\uff09\uff1a\u6b64\u65f6\u5c06\u628a\u5206\u754c\u5b57\u7b26\u4ece\u8f93\u5165\u6d41\u4e2d\u5220\u9664\uff0c\u4f46\u4e0d\u5b58\u50a8\u5b83 [3] \u8bfb\u53d6\u7684\u5b57\u7b26\u6570\u5230\u8fbe\u6700\u5927\u5141\u8bb8\u503c\uff1a\u5c06\u8bbe\u7f6e\u8f93\u5165\u6d41\u7684failbit\uff0c\u8fd9\u610f\u5473\u7740fail()\u5c06\u8fd4\u56detrue</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#2","title":"\uff082\uff09\u4f7f\u7528\u5b57\u7b26\u4e32","text":"<p>\u30101\u3011\u6bd4\u8f83\u5b57\u7b26\u4e32\uff08\u5b57\u5178\u5e8f\uff09\uff1a\u5373\u53ef \u30102\u3011\u786e\u5b9a\u5b57\u7b26\u4e32\u957f\u5ea6\uff1astr.length()\uff1bstr.size() \u30103\u3011\u5185\u5b58\u5757\u5206\u914d\uff1a ![[Pasted image 20230807100150.png]] ![[Pasted image 20230807100201.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#2_1","title":"2\uff09\u667a\u80fd\u6307\u9488\u6a21\u677f\u7c7b","text":"<p>[1] \u4e09\u79cd\u667a\u80fd\u6307\u9488\u6a21\u677f\uff1aauto_ptr/ unique_ptr/ shared_ptr [2] \u53ef\u5c06new\u83b7\u5f97\u7684(\u76f4\u63a5\u6216\u95f4\u63a5)\u7684\u5730\u5740\u8d4b\u7ed9\u8fd9\u79cd\u5bf9\u8c61\uff0c\u5f53\u667a\u80fd\u6307\u9488\u8fc7\u671f\u65f6\uff0c\u5176\u6790\u6784\u51fd\u6570\u5c06\u4f7f\u7528delete\u6765\u91ca\u653e\u5185\u5b58 [3] \u4f7f\u7528\u683c\u5f0f\uff1a <pre><code>(1) \u5305\u542b\u5934\u6587\u4ef6&lt;memory&gt;\n#include&lt;memory&gt;\n\n(2) \u8c03\u7528\u65b9\u5f0f\uff1a\nauto_ptr&lt;double&gt; pd(new double);\nauto_ptr&lt;string&gt; pd(new string);\n\nunique_ptr&lt;double&gt; pd(new double);\nshared_ptr&lt;double&gt; pd(new double);\n\n(3)\u4e0d\u9700\u8981\u4f7f\u7528delete\u8bed\u53e5\n</code></pre></p> <p>ps\uff1aunique_ptr \u4f18\u4e8e auto_ptr</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#3standard-template-library","title":"3\uff09\u6807\u51c6\u6a21\u677f\u5e93(standard template library)","text":"<p>1\uff09\u57fa\u7840\uff1areview Vector\u5373\u53ef</p> <p>2\uff09\u57fa\u4e8e\u8303\u56f4\u7684for\u5faa\u73af\uff1a</p> <p>\uff081\uff09for\u5faa\u73af\u4e2d\uff0c\u62ec\u53f7\u5185\u7684\u4ee3\u7801\u58f0\u660e\u4e00\u4e2a\u7c7b\u578b\u4e0e\u5bb9\u5668\u5b58\u50a8\u7684\u5185\u5bb9\u76f8\u540c\u7684\u53d8\u91cf\uff0c\u7136\u540e\u6307\u51fa\u5bb9\u5668\u7684\u540d\u79f0 <pre><code>vector&lt;Review&gt; books;\nfor(auto x : books) ShowReview(x);\n\n\u6839\u636ebooks\u7684\u7c7b\u578b(vector&lt;Review&gt;)\uff0c\u7f16\u8bd1\u5668\u5c06\u81ea\u52a8\u63a8\u65ad\u51fax\u7684\u7c7b\u578b\u4e3aReview\uff0c\u800c\u5faa\u73af\u5c06\u4f9d\u6b21\u5c06books\u4e2d\u7684\u6bcf\u4e2aReview\u5bf9\u8c61\u4f20\u9012\u7ed9 ShowReview()\n</code></pre> \uff082\uff09\u5982\u679c\u60f3\u4fee\u6539\u5bb9\u5668\u7684\u5185\u5bb9\uff0c\u9700\u8981\u5728\u62ec\u53f7\u5185\u52a0\u4e0a \u5f15\u7528\u53c2\u6570 <pre><code>vector&lt;Review&gt; books;\nvoid Change(Review&amp; r) { r.rating++; }\n......\nfor(auto&amp; x : books) Change(x);\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#4generic-programming","title":"4\uff09\u6cdb\u5f0f\u7f16\u7a0b\uff08generic programming\uff09","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#1begin-end","title":"\uff081\uff09begin( ) \u8fd4\u56de\u6307\u5411\u7b2c\u4e00\u4e2a\u5143\u7d20\u7684\u8fed\u4ee3\u5668\uff0cend( ) \u8fd4\u56de\u4e00\u4e2a\u6307\u5411\u8d85\u5c3e\u4f4d\u7f6e\u7684\u8fed\u4ee3\u5668\u5373\u53ef","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#2auto","title":"\uff082\uff09auto\u7b80\u5316\u8fed\u4ee3\u5668\u8868\u793a\uff1a","text":"<pre><code>vector&lt;double&gt;:: iterator pr;\nfor(pr=scores.begin(); pr!=scores.end(); pr++)\n    cout &lt;&lt; *pr &lt;&lt;endl;\n----------------------------------------------------\nfor(auto pr=scores.begin(); pr!=scores.end(); pr++)\n    cout &lt;&lt; *pr &lt;&lt;endl;\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#3","title":"\uff083\uff09\u8fed\u4ee3\u5668\u7c7b\u578b\uff1a","text":"<p>\u30101\u3011\u8f93\u5165\u8fed\u4ee3\u5668\uff1a</p> <p>[1]\u89e3\u5f15\u7528\u80fd\u591f\u8bfb\u53d6\u5bb9\u5668\u5185\u7684\u503c\uff0c\u4f46\u4e0d\u4e00\u5b9a\u80fd\u8ba9\u7a0b\u5e8f\u4fee\u6539\u503c [2]\u5fc5\u987b\u80fd\u591f\u8bbf\u95ee\u5bb9\u5668\u5185\u6240\u6709\u503c\uff0c\u901a\u8fc7++\u8fd0\u7b97\u7b26\u5b9e\u73b0 [3]\u662f\u5355\u5411\u8fed\u4ee3\u5668\uff0c\u53ef\u4ee5++\uff0c\u4f46\u4e0d\u80fd\u5012\u9000</p> <p>\u30102\u3011\u8f93\u51fa\u8fed\u4ee3\u5668\uff1a</p> <p>[1]\u89e3\u5f15\u7528\u80fd\u8ba9\u7a0b\u5e8f\u4fee\u6539\u5bb9\u5668\u503c\uff0c\u800c\u4e0d\u80fd\u8bfb\u53d6\uff08eg\uff1acout\u53ef\u4ee5\u4fee\u6539\u53d1\u9001\u5230\u663e\u793a\u5668\u7684\u5b57\u7b26\u6d41\uff0c\u5374\u4e0d\u80fd\u8bfb\u53d6\u5c4f\u5e55\u4e0a\u7684\u5185\u5bb9\uff09</p> <p>\u30103\u3011\u6b63\u5411\u8fed\u4ee3\u5668\uff1a</p> <p>[1]\u4ec5\u4f7f\u7528++\u8fd0\u7b97\u7b26\u6765\u904d\u5386\u5bb9\u5668 [2]\u5c06\u6b63\u5411\u8fed\u4ee3\u5668\u9012\u589e\u540e\uff0c\u4ecd\u53ef\u4ee5\u5bf9\u524d\u9762\u7684\u8fed\u4ee3\u5668\u89e3\u5f15\u7528\uff0c\u5e76\u53ef\u4ee5\u5f97\u5230\u76f8\u540c\u7684\u503c</p> <p>\u30104\u3011\u53cc\u5411\u8fed\u4ee3\u5668\uff1a</p> <p>\u5177\u5907\u6b63\u5411\u8fed\u4ee3\u5668\u7684\u5168\u90e8\u7279\u6027\uff0c\u540c\u65f6\u652f\u6301(\u524d\u7f00\u3001\u540e\u7f00)\u9012\u51cf\u8fd0\u7b97\u7b26</p> <p>\u30105\u3011\u968f\u673a\u8bbf\u95ee\u8fed\u4ee3\u5668\uff1a</p> <p>\u80fd\u591f\u76f4\u63a5\u8df3\u5230\u5bb9\u5668\u4e2d\u7684\u4efb\u4f55\u4e00\u4e2a\u5143\u7d20 \u5177\u5907\u7279\u6027\uff1a\u53cc\u5411\u8fed\u4ee3\u5668+\u652f\u6301\u968f\u673a\u8bbf\u95ee\u7684\u64cd\u4f5c+\u5bf9\u5143\u7d20\u8fdb\u884c\u6392\u5e8f\u7684\u5173\u7cfb\u8fd0\u7b97\u7b26</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#4","title":"\uff084\uff09\u8fed\u4ee3\u5668\u5c42\u6b21\u7ed3\u6784\uff1a","text":"<p>![[Pasted image 20230807113139.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#5","title":"\uff085\uff09\u8fed\u4ee3\u5668\u4e2d\u7684\u6982\u5ff5\u3001\u6539\u8fdb\u548c\u6a21\u578b\uff1a","text":"<p>\u30101\u3011\u6982\u5ff5\uff08concept\uff09\uff1a\u63cf\u8ff0\u8fed\u4ee3\u5668\u9700\u8981\u6ee1\u8db3\u7684\u4e00\u7cfb\u5217\u8981\u6c42 \u30102\u3011\u6539\u8fdb\uff08refinement\uff09\uff1a\u6982\u5ff5\u4e0a\u7684\u7ee7\u627f\uff08\u4f8b\u5982\u53cc\u5411\u8fed\u4ee3\u5668\u662f\u5bf9\u5355\u5411\u8fed\u4ee3\u5668\u7684\u7ee7\u627f\uff09 \u30103\u3011\u6a21\u578b\uff08model\uff09\uff1a\u6982\u5ff5\u7684\u5177\u4f53\u5b9e\u73b0</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#6","title":"\uff086\uff09\u5bb9\u5668\u79cd\u7c7b\uff1a","text":"<p>\u30101\u3011\u5bb9\u5668\u6982\u5ff5\uff1a\u5177\u6709\u540d\u79f0\uff08eg:\u5bb9\u5668\u3001\u5e8f\u5217\u5bb9\u5668\u3001\u5173\u8054\u5bb9\u5668\uff09\u7684\u901a\u7528\u7c7b\u522b \u30102\u3011\u5bb9\u5668\u7c7b\u578b\uff1a\u7528\u4e8e\u521b\u5efa\u5177\u4f53\u5bb9\u5668\u5bf9\u8c61\u7684\u6a21\u677f\uff08deque\u3001list\u3001queue\u3001priority_queue...\uff09 \u30103\u3011\u57fa\u672c\u5bb9\u5668\u7279\u5f81\uff1a ![[Pasted image 20230807114231.png]]</p> <p>\u30104\u3011\u65f6\u95f4\u590d\u6742\u5ea6\u89e3\u91ca\uff1a 1\uff09\u7f16\u8bd1\u65f6\u95f4\uff1a\u64cd\u4f5c\u5c06\u5728\u7f16\u8bd1\u65f6\u6267\u884c\uff0c\u6267\u884c\u65f6\u95f4\u4e3a0 2\uff09\u56fa\u5b9a\u65f6\u95f4\uff1a\u64cd\u4f5c\u5c06\u5728\u8fd0\u884c\u9636\u6bb5\u8fdb\u884c\uff0c\u4f46\u72ec\u7acb\u4e8e\u5bf9\u8c61\u4e2d\u7684\u5143\u7d20\u4e2a\u6570 3\uff09\u7ebf\u6027\u65f6\u95f4\uff1a\u65f6\u95f4\u4e0e\u5143\u7d20\u6570\u76ee\u6210\u6b63\u6bd4</p> <p>\u30105\u3011c++11 \u65b0\u589e\u57fa\u672c\u5bb9\u5668\u8981\u6c42\uff1a ![[Pasted image 20230807114502.png]]</p> <p>\u30106\u3011\u5e8f\u5217\uff1a\u5143\u7d20\u6309\u7167\u4e25\u683c\u7684\u7ebf\u6027\u987a\u5e8f\u6392\u5217 ![[Pasted image 20230807114607.png]] ![[Pasted image 20230807114618.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#7stl","title":"\uff087\uff09\u5e38\u89c1STL\u5bb9\u5668\u4f7f\u7528\uff1a","text":"<p>\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#8associative-container","title":"\uff088\uff09\u5173\u8054\u5bb9\u5668\uff08associative container\uff09\uff1a","text":"<p>\u30101\u3011\u5173\u8054\u5bb9\u5668\u5c06\u952e\u503c\u5339\u914d\uff0c\u5f62\u6210 \u952e-\u503c \u5bf9\uff0c\u5e76\u4f7f\u7528\u952e\u6765\u67e5\u627e\u503c \u30102\u3011\u5b83\u63d0\u4f9b\u4e86\u5bf9\u5143\u7d20\u7684\u5feb\u901f\u8bbf\u95ee\u3002\u4e0e\u5e8f\u5217\u76f8\u4f3c\uff0c\u5173\u8054\u5bb9\u5668\u5141\u8bb8\u63d2\u5165\u65b0\u5143\u7d20\uff0c\u4f46\u662f\u4e0d\u80fd\u6307\u5b9a\u63d2\u5165\u4f4d\u7f6e \u30103\u3011set\uff08\u5934\u6587\u4ef6 #include&lt; set &gt; \uff09\uff1a\u503c \u4e0e \u952e\u503c \u7684\u7c7b\u578b\u76f8\u540c\uff0c\u952e\u662f\u552f\u4e00\u7684 \u30104\u3011multiset\uff08\u5934\u6587\u4ef6 #include&lt; set &gt; \uff09\uff1a\u503c \u4e0e \u952e\u503c \u7684\u7c7b\u578b\u76f8\u540c\uff0c\u4e00\u952e\u53ef\u4ee5\u5bf9\u591a\u4e2a\u503c \u30105\u3011map\uff08\u5934\u6587\u4ef6 #include &lt; map &gt;\uff09\uff1a\u503c \u4e0e \u952e\u503c \u7684\u7c7b\u578b\u53ef\u4ee5\u4e0d\u540c\uff0c\u952e\u662f\u552f\u4e00\u7684 \u30106\u3011multimap\uff08\u5934\u6587\u4ef6 #include &lt; map &gt;\uff09:\u503c \u4e0e \u952e\u503c \u7684\u7c7b\u578b\u53ef\u4ee5\u4e0d\u540c\uff0c\u4e00\u952e\u53ef\u4ee5\u5bf9\u591a\u4e2a\u503c</p> <p>\u5177\u4f53\u4f7f\u7528\u65b9\u6cd5\u7565</p> <p>\u30107\u3011\u65e0\u5e8f\u5173\u8054\u5bf9\u8c61\uff1aunordered_set/ unordered_multiset/ unordered_map/ unordered_multimap</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#5_1","title":"5\uff09\u51fd\u6570\u5bf9\u8c61","text":"<p>\uff081\uff09\u51fd\u6570\u7b26 ( functor )\uff1a\u53ef\u4ee5\u4ee5\u51fd\u6570\u65b9\u5f0f\u4e0e()\u7ed3\u5408\u4f7f\u7528\u7684\u4efb\u610f\u5bf9\u8c61 \u30101\u3011\u751f\u6210\u5668\uff08generator\uff09\uff1a\u4e0d\u4f7f\u7528\u53c2\u6570\u5c31\u53ef\u4ee5\u8c03\u7528\u7684\u51fd\u6570\u7b26 \u30102\u3011\u4e00\u5143\u51fd\u6570\uff08unary function\uff09\uff1a\u4e00\u4e2a\u53c2\u6570\u5c31\u53ef\u4ee5\u8c03\u7528\u7684\u51fd\u6570\u7b26 \u30103\u3011\u4e8c\u5143\u51fd\u6570\uff08binary function\uff09\uff1a\u4e24\u4e2a\u53c2\u6570\u53ef\u4ee5\u8c03\u7528\u7684\u51fd\u6570\u7b26 \u30104\u3011\u8c13\u8bcd\uff08predicate\uff09\uff1a\u8fd4\u56de\u503c\u4e3abool\u503c\u7684\u4e00\u5143\u51fd\u6570 \u30105\u3011\u4e8c\u5143\u8c13\u8bcd\uff08binary predicate\uff09\uff1a\u8fd4\u56de\u503c\u4e3abool\u503c\u7684\u4e8c\u5143\u51fd\u6570</p> <p>\uff082\uff09\u81ea\u9002\u5e94\u51fd\u6570\u7b26\u548c\u51fd\u6570\u9002\u914d\u5668\uff1a \u7279\u5f81\uff1a\u5b83\u643a\u5e26\u4e86\u6807\u8bc6\u53c2\u6570\u7c7b\u578b\u548c\u8fd4\u56de\u7c7b\u578b\u7684typedef\u6210\u5458\uff0c\u8fd9\u4e9b\u6210\u5458\u5206\u522b\u662fresult_type\u3001first_argument_type\u3001second_argument_type \u76ee\u7684\uff1a\u51fd\u6570\u9002\u914d\u5668\u5bf9\u8c61\u53ef\u4ee5\u4f7f\u7528\u51fd\u6570\u5bf9\u8c61\uff0c\u5e76\u8ba4\u4e3a\u5b58\u5728\u8fd9\u4e9btypedef\u6210\u5458 \u4f8b\u5982\uff1aplus&lt; int &gt;\u5bf9\u8c61\u7684\u8fd4\u56de\u7c7b\u578b\u88ab\u6807\u8bc6\u4e3a plus&lt; int &gt;::result_type\uff0c\u8fd9\u662fint\u7684typedef </p> <p>\uff083\uff09\u4f7f\u7528STL\uff1a\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/#6_1","title":"6\uff09\u5176\u4ed6\u5e93","text":"<p>\uff081\uff09complex\u5e93\uff1a\u590d\u6570\u6a21\u677f \uff082\uff09random\u5e93\uff1a\u63d0\u4f9b\u968f\u673a\u6570</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/","title":"Chapter17\u8f93\u5165\u3001\u8f93\u51fa\u548c\u6587\u4ef6","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#1c","title":"1\uff09c++\u7684\u8f93\u5165\u4e0e\u8f93\u51fa\u6982\u8bba","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#1","title":"\uff081\uff09\u6d41\u548c\u7f13\u51b2\u533a","text":"<p>\u30101\u3011\u6d41\uff1a ![[Pasted image 20230807131213.png]] ![[Pasted image 20230807131235.png]]</p> <p>\u30102\u3011\u7f13\u51b2\u533a\uff1a ![[Pasted image 20230807131415.png]] ![[Pasted image 20230807131428.png]]</p> <p>ps\uff1ac++\u7a0b\u5e8f\u5e38\u5728\u7528\u6237\u6309\u4e0b\u56de\u8f66\u952e\u65f6\u5237\u65b0\u8f93\u5165\u7f13\u51b2\u533a\uff0c\u5e38\u5728\u7528\u6237\u53d1\u9001\u6362\u884c\u7b26\u65f6\u5237\u65b0\u8f93\u51fa\u7f13\u51b2\u533a</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#2","title":"\uff082\uff09\u7ba1\u7406\u6d41\u548c\u7f13\u51b2\u533a\u7684\u5de5\u4f5c","text":"<p>\u30101\u3011\u7c7b\u522b\uff1a</p> <p>\uff081\uff09streambuf\u7c7b\uff1a\u4e3a\u7f13\u51b2\u533a\u63d0\u4f9b\u4e86\u5185\u5b58\uff0c\u5e76\u63d0\u4f9b\u4e86\u7528\u4e8e\u586b\u5145\u7f13\u51b2\u533a\u3001\u8bbf\u95ee\u7f13\u51b2\u533a\u5185\u5bb9\u3001\u5237\u65b0\u7f13\u51b2\u533a\u3001\u7ba1\u7406\u7f13\u51b2\u533a\u5185\u5b58\u7684\u7c7b\u65b9\u6cd5 \uff082\uff09ios_base\u7c7b\uff1a\u8868\u793a\u6d41\u7684\u4e00\u822c\u7279\u5f81\uff0c\u5982\uff1a\u662f\u5426\u53ef\u4ee5\u8bfb\u53d6\u3001\u662f\u4e8c\u8fdb\u5236\u6d41\u8fd8\u662f\u6587\u672c\u6d41... \uff083\uff09ios\u7c7b\uff1a\u57fa\u4e8eios_base\uff0c\u5176\u4e2d\u65b0\u589e\u4e86\u4e00\u4e2a\u6307\u5411streambuf\u5bf9\u8c61\u7684\u6307\u9488\u6210\u5458 \uff084\uff09ostream\u7c7b\uff1a\u4eceios\u7c7b\u4e2d\u6d3e\u751f\u51fa\u6765\u7684\uff0c\u63d0\u4f9b\u4e86\u8f93\u51fa\u65b9\u6cd5 \uff085\uff09istream\u7c7b\uff1a\u4eceios\u7c7b\u4e2d\u6d3e\u751f\u51fa\u6765\u7684\uff0c\u63d0\u4f9b\u4e86\u8f93\u5165\u65b9\u6cd5 \uff086\uff09iostream\u7c7b\uff1a\u7ee7\u627fistream\u4e0eostream\u7c7b</p> <p>ps\uff1a\u8981\u4f7f\u7528\u4e0a\u8ff0\u5de5\u5177\uff0c\u5fc5\u987b\u4f7f\u7528\u9002\u5f53\u7684\u7c7b\u5bf9\u8c61\u3002\u4f8b\u5982\uff1a\u4f7f\u7528ostream\u5bf9\u8c61(\u5982\uff1acout)\u6765\u5904\u7406\u8f93\u51fa\u3002\u521b\u5efa\u8fd9\u6837\u7684\u5bf9\u8c61\u5c06\u6253\u5f00\u4e00\u4e2a\u6d41\uff0c\u81ea\u52a8\u521b\u5efa\u7f13\u51b2\u533a\uff0c\u5e76\u5c06\u5176\u4e0e\u6d41\u5173\u8054\u8d77\u6765\uff0c\u540c\u65f6\u4f7f\u5f97\u80fd\u591f\u4f7f\u7528\u7c7b\u6210\u5458\u51fd\u6570</p> <p>\u30102\u3011\u9ed8\u8ba4\u7684\u4f20\u5165/\u4f20\u51fa\u8bbe\u5907\u89e3\u6790\uff1a</p> <p>\uff081\uff09cin\u5bf9\u8c61\u5bf9\u5e94\u4e8e\u6807\u51c6\u8f93\u5165\u6d41\uff0c\u9ed8\u8ba4\u65f6\u8fd9\u4e2a\u6d41\u88ab\u5173\u8054\u5230\u6807\u51c6\u8f93\u5165\u8bbe\u5907\uff08\u901a\u5e38\u4e3a\u952e\u76d8\uff09 \uff082\uff09cout\u5bf9\u8c61\u5bf9\u5e94\u4e8e\u6807\u51c6\u8f93\u51fa\u6d41\uff0c\u9ed8\u8ba4\u65f6\u8fd9\u4e2a\u6d41\u88ab\u5173\u8054\u5230\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\uff08\u901a\u5e38\u4e3a\u663e\u793a\u5668\uff09 \uff083\uff09cerr\u5bf9\u8c61\u5bf9\u5e94\u4e8e\u6807\u51c6\u9519\u8bef\u6d41\uff0c\u53ef\u7528\u4e8e\u663e\u793a\u9519\u8bef\u4fe1\u606f\u3002\u9ed8\u8ba4\u65f6\u8fd9\u4e2a\u6d41\u88ab\u5173\u8054\u5230\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\uff08\u901a\u5e38\u4e3a\u663e\u793a\u5668\uff09\u3002\u8fd9\u4e2a\u6d41\u6ca1\u6709\u88ab\u7f13\u51b2\uff0c\u8fd9\u610f\u5473\u7740\u6d88\u606f\u88ab\u76f4\u63a5\u53d1\u9001\u7ed9\u5c4f\u5e55\uff0c\u800c\u4e0d\u4f1a\u7b49\u5230\u7f13\u51b2\u533a\u586b\u6ee1\u6216\u65b0\u7684\u6362\u884c\u7b26 \uff084\uff09clog\u5bf9\u8c61\u5bf9\u5e94\u4e8e\u6807\u51c6\u9519\u8bef\u6d41\uff0c\u53ef\u7528\u4e8e\u663e\u793a\u9519\u8bef\u4fe1\u606f\u3002\u9ed8\u8ba4\u65f6\u8fd9\u4e2a\u6d41\u88ab\u5173\u8054\u5230\u6807\u51c6\u8f93\u51fa\u8bbe\u5907\uff08\u901a\u5e38\u4e3a\u663e\u793a\u5668\uff09\u3002\u4f46\u662f\u8fd9\u4e2a\u6d41\u88ab\u7f13\u51b2\uff01</p> <p>\u30103\u3011\u91cd\u5b9a\u5411\uff1a \u80fd\u591f\u6539\u53d8\u6807\u51c6\u8f93\u5165\u4e0e\u6807\u51c6\u8f93\u51fa &lt;File_Name\uff1a\u6539\u53d8\u4e86\u8f93\u5165\u6d41\u7684\u6d41\u5165\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\u6d41\u51fa\u7aef\u4ecd\u7136\u548c\u7a0b\u5e8f\u76f8\u8fde &gt;File_Name\uff1a\u6539\u53d8\u4e86\u8f93\u51fa\u6d41\u7684\u6d41\u51fa\u7aef\u8fde\u63a5\uff0c\u4f46\u662f\u6d41\u5165\u7aef\u4ecd\u7136\u548c\u7a0b\u5e8f\u76f8\u8fde</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#2cout","title":"2\uff09\u4f7f\u7528cout\u8fdb\u884c\u8f93\u51fa","text":"<p>\uff08poi\uff09\u5237\u65b0\u8f93\u51fa\u7f13\u51b2\u533a\uff1a \u30101\u3011\u95ee\u9898\u5f15\u5165\uff1a ![[Pasted image 20230807134139.png]] ![[Pasted image 20230807134325.png]]</p> <p>\u30102\u3011\u77e5\u8bc6\u5bfc\u5165\uff1a <pre><code>\uff081\uff09cout&lt;&lt;flush; \u5237\u65b0\u7f13\u51b2\u533a\n\n\uff082\uff09cout&lt;&lt;endl;\u5237\u65b0\u7f13\u51b2\u533a \u5e76 \u63d2\u5165\u4e00\u4e2a\u6362\u884c\u7b26\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#3cin","title":"3\uff09\u4f7f\u7528cin\u8fdb\u884c\u8f93\u5165","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#1cin","title":"\uff081\uff09cin&gt;&gt;\u5982\u4f55\u68c0\u67e5\u8f93\u5165\uff1a","text":"<p>![[Pasted image 20230807141413.png]] ![[Pasted image 20230807141431.png]] ![[Pasted image 20230807141447.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#2_1","title":"\uff082\uff09\u6d41\u72b6\u6001\uff1a","text":"<p>[1] cin \u6216 cout\u5bf9\u8c61\u5305\u542b\u4e00\u4e2a\u63cf\u8ff0\u6d41\u72b6\u6001(stream state) \u7684\u6570\u636e\u6210\u5458 [2] \u6d41\u72b6\u6001\u7531\u4e09\u4e2a ios_base \u5143\u7d20\u7ec4\u6210\uff1aeofbit\u3001badbit\u3001failbit\uff08\u6bcf\u4e2a\u5143\u7d20\u90fd\u662f\u4e00\u4f4d\uff0c\u8981\u4e48\u662f1\u3010\u8bbe\u7f6e\u3011\uff0c\u8981\u4e48\u662f0\u3010\u6e05\u9664\u3011\uff09</p> <p>![[Pasted image 20230807142129.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/#3istream","title":"\uff083\uff09\u5176\u4ed6istream\u7c7b\u65b9\u6cd5\uff1a","text":"<p>\u30101\u3011\u5355\u5b57\u7b26\u8f93\u5165\uff1a  cin.get(char&amp; ch)\uff1a\u8bfb\u53d6\u4e0b\u4e00\u4e2a\u8f93\u5165\u5b57\u7b26[\u5373\u4f7f\u8be5\u5b57\u7b26\u662f\u7a7a\u683c/\u5236\u8868\u7b26/\u6362\u884c\u7b26]\uff0c\u5c06\u8f93\u5165\u5b57\u7b26\u8d4b\u7ed9\u5176\u53c2\u6570  cin.get( )\uff1a\u8bfb\u53d6\u4e0b\u4e00\u4e2a\u8f93\u5165\u5b57\u7b26[\u5373\u4f7f\u8be5\u5b57\u7b26\u662f\u7a7a\u683c/\u5236\u8868\u7b26/\u6362\u884c\u7b26]\uff0c\u5c06\u8f93\u5165\u5b57\u7b26\u8f6c\u6362\u6210\u6574\u578b(int)</p> <p>cin.get(char&amp; )\uff1a\u8fd4\u56de\u503c\u662f(istream&amp;)\u2014\u2014cin\u5f62\u5f0f <pre><code>int ct = 0;\nchar ch;\ncin.get(ch);\nwhile(ch!='\\n')\n{\n    cout &lt;&lt; ch;\n    ct++;\n    cin.get(ch);\n}\ncout &lt;&lt; ct &lt;&lt;endl;\n\n\u8f93\u5165\uff1a\nI C++ clearly\n\u8f93\u51fa\uff1a\nI C++ clearly\n------------------------------------------------------------------------------------------------------------------------------------\n\u5982\u679c\u4f7f\u7528\u7684\u662fcin &gt;&gt; ch;\n\u5219\uff1a\n\uff081\uff09\u8f93\u51fa\u7ed3\u679c\u662f\uff1aIC++clearly\n\uff082\uff09\u5faa\u73af\u4e0d\u4f1a\u7ec8\u6b62\uff01\uff08cin&gt;&gt;\uff09\u8df3\u8fc7\u4e86\u6362\u884c\u7b26\uff0c\u56e0\u6b64\u4ee3\u7801\u4e0d\u4f1a\u628a\u6362\u884c\u7b26('\\n')\u8d4b\u7ed9ch\n</code></pre></p> <p>cin.get( )\uff1a\u8fd4\u56de\u503c\u662fint <pre><code>int ct = 0;\nchar ch;\ncin.get();\nwhile(ch!='\\n')\n{\n    cout &lt;&lt; ch;\n    ct++;\n    cin.get();\n}\ncout &lt;&lt; ct &lt;&lt;endl;\n\n\u8f93\u5165\uff1a\nI C++ clearly\n\u8f93\u51fa\uff1a\nI C++ clearly\n</code></pre></p> <p>\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a <pre><code>char c1,c2,c3;\ncin.get(c1).get(c2) &gt;&gt; c3;      // valid\uff01\n\u7b49\u4ef7\u4e8e:\n1) cin.get(c1)\u8fd4\u56de\u6210cin\n2) \u7136\u540ecin.get(c2),\u8fd4\u56de\u4e00\u4e2acin\n3) \u6700\u540e cin &gt;&gt; c3\n(c1 \u4e0e c2 \u53ef\u4ee5\u662f\u7a7a\u683c\uff0cc3\u4e0d\u53ef\u4ee5\uff01)\n-----------------------------------------------------------------------------------------------------------------------------------\nchar c1,c2,c3;\ncin.get().get() &gt;&gt; c3;          // not valid!\n\u7b49\u4ef7\u4e8e\uff1a\n1) cin.get() \u8fd4\u56de\u4e00\u4e2aint\u503c\n2) int.get()  ? ? ?\n</code></pre></p> <p>\u30102\u3011\u5b57\u7b26\u4e32\u8f93\u5165\uff1a \uff081\uff09get (str_name , num , divid_char)  <code>cpp  istream&amp; get(char*, int, char)</code></p> <p>\uff082\uff09getline (str_name , num , divid_char) <pre><code> istream&amp; getline(char*, int, char)\n</code></pre> \u53c2\u65701\uff1a\u7528\u4e8e\u653e\u7f6e\u8f93\u5165\u5b57\u7b26\u4e32\u7684\u5185\u5b58\u5355\u5143\u5730\u5740 \u53c2\u65702\uff1a\u8981\u6bd4str\u7684\u6700\u5927\u5b57\u7b26\u6570\u59271\uff08\u7528\u4e8e\u7ed3\u5c3e\u7684\u7a7a\u5b57\u7b26\uff09 \u53c2\u65703\uff1a\u6307\u5b9a\u7528\u4f5c\u5206\u754c\u7b26\u7684\u5b57\u7b26</p> <p>ps\uff08\u4e8c\u8005\u533a\u522b\uff09\uff1a get()\uff1a\u5c06\u6362\u884c\u7b26\u7559\u5728\u8f93\u5165\u6d41\u4e2d\uff0c\u8fd9\u6837\u63a5\u4e0b\u6765\u7684\u8f93\u5165\u64cd\u4f5c\u9996\u5148\u770b\u5230\u7684\u662f\u6362\u884c\u7b26 getline()\uff1a\u62bd\u53d6\u5e76\u4e22\u5f03\u8f93\u5165\u6d41\u4e2d\u7684\u6362\u884c\u7b26</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/","title":"Chapter18\u63a2\u8ba8c++\u65b0\u6807\u51c6","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/#1c11","title":"1\uff09c++11\u7684\u65b0\u529f\u80fd","text":"<p>\uff080\uff09\u65b0\u7c7b\u578b\uff1a\u65b0\u589e\u4e86long long \u548c unsigned long long</p> <p>\uff081\uff09\u7edf\u4e00\u7684\u521d\u59cb\u5316\uff1a ![[Pasted image 20230807222146.png]]</p> <p>\uff082\uff09\u7f29\u7a84\uff1a ![[Pasted image 20230807222316.png]] \u30101\u3011\u5141\u8bb8\u5f80\u5bbd\u8f6c \u30102\u3011\u5141\u8bb8\uff08\u5728\u5408\u7406\u8303\u56f4\u5185\uff09\u5411\u7a84\u8f6c</p> <p>\uff083\uff09\u58f0\u660e\uff1a \u30101\u3011auto\uff1a\u5b9e\u73b0\u81ea\u52a8\u7c7b\u578b\u63a8\u65adand\u7b80\u5316\u6a21\u677f\u58f0\u660e ![[Pasted image 20230807222441.png]]</p> <p>\u30102\u3011decltype\uff1a\u62bd\u8c61\u610f\u4e49\u4e0a\u5c06\u53d8\u91cf\u7684\u7c7b\u578b\u540c\u5316 ![[Pasted image 20230807222600.png]] ![[Pasted image 20230807223008.png]] \u3010C\u8bed\u8a00\u3011\u6df1\u5165\u7406\u89e3C\u8bed\u8a00\u4e2d\u7684\u6574\u578b\u63d0\u5347\u548c\u7b97\u672f\u8f6c\u6362_\u5b81\u6e05_\u7684\u535a\u5ba2-CSDN\u535a\u5ba2</p> <p>\uff084\uff09\u8fd4\u56de\u7c7b\u578b\u540e\u7f6e\uff1a ![[Pasted image 20230807223112.png]]</p> <p>\uff085\uff09nullptr\uff1a [1] \u7a7a\u6307\u9488\u662f\u4e0d\u4f1a\u6307\u5411\u6709\u6548\u6570\u636e\u7684\u6307\u9488 [2] nullptr\\==0 \u4e3atrue [3] \u53ef\u5c060\u4f20\u9012\u7ed9\u63a5\u53d7int\u53c2\u6570\u7684\u51fd\u6570\uff0c\u4f46\u662f\u82e5\u5c06nullptr\u4f20\u9012\u4e4b\uff0c\u5219\u4f1a\u62a5\uff1a\u7f16\u8bd1\u9519\u8bef</p> <p>\uff086\uff09\u5bf9\u7c7b\u7684\u4fee\u6539 \u30101\u3011explicit\uff1a\u7981\u6b62\u6784\u9020\u51fd\u6570\u3001\u8f6c\u6362\u51fd\u6570\u8fdb\u884c\u81ea\u52a8\u8f6c\u6362 ![[Pasted image 20230807224033.png]] ![[Pasted image 20230807224043.png]]</p> <p>\u30102\u3011==\u53ef\u4ee5\u8fdb\u884c\u7c7b\u5185\u6210\u5458\u521d\u59cb\u5316== ![[Pasted image 20230807224248.png]] ![[Pasted image 20230807224300.png]]</p> <p>\u5f97\u51fa\u7ed3\u8bba\uff1a</p> <p>\u5bf9\u4e8e\u5bf9\u8c61\u7684\u8c03\u7528\uff0c\u5b9e\u53c2 &gt; \u5f62\u53c2(\u521d\u59cb\u5316\u5217\u8868) &gt; \u7c7b\u5185\u521d\u59cb\u5316\u6210\u5458</p> <p>\uff087\uff09\u53f3\u503c\u5f15\u7528 ![[Pasted image 20230807225326.png]] ![[Pasted image 20230807225337.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/#2","title":"2\uff09\u79fb\u52a8\u8bed\u4e49\u548c\u53f3\u503c\u5f15\u7528","text":"<p>![[Pasted image 20230807225649.png]]</p> <p>\u8d4b\u503c\u8fc7\u7a0b\u89e3\u6790\uff1a ![[Pasted image 20230807230039.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/#3lambdalambda","title":"3\uff09Lambda\u51fd\u6570\uff08Lambda\u8868\u8fbe\u5f0f\uff09","text":"<p>\uff081\uff09\u95ee\u9898\u5f15\u5165\uff1a \u5e38\u89c4\u64cd\u4f5c\uff1a ![[Pasted image 20230807230917.png]] ![[Pasted image 20230807230940.png]] ![[Pasted image 20230807230952.png]]</p> <p>\u4f7f\u7528Lambda\u51fd\u6570\u7684\u64cd\u4f5c\uff1a ![[Pasted image 20230807231136.png]] ![[Pasted image 20230807231146.png]]</p> <p>\uff082\uff09\u4f7f\u7528Lambda\u51fd\u6570\u7684\u4f18\u70b9\uff1a \u30101\u3011 ![[Pasted image 20230807231348.png]]</p> <p>\u30102\u3011 ![[Pasted image 20230807231403.png]]</p> <p>\u30103\u3011 ![[Pasted image 20230807231523.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/#pslambda","title":"ps\uff1aLambda \u51fd\u6570\u4e0e\u8868\u8fbe\u5f0f","text":"<p>C++11 \u63d0\u4f9b\u4e86\u5bf9\u533f\u540d\u51fd\u6570\u7684\u652f\u6301,\u79f0\u4e3a Lambda \u51fd\u6570(\u4e5f\u53eb Lambda \u8868\u8fbe\u5f0f)\u3002</p> <p>Lambda \u8868\u8fbe\u5f0f==\u628a\u51fd\u6570\u770b\u4f5c\u5bf9\u8c61==\u3002Lambda \u8868\u8fbe\u5f0f\u53ef\u4ee5\u50cf\u5bf9\u8c61\u4e00\u6837\u4f7f\u7528\uff0c\u6bd4\u5982==\u53ef\u4ee5\u5c06\u5b83\u4eec\u8d4b\u7ed9\u53d8\u91cf\u548c\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012==\uff0c\u8fd8==\u53ef\u4ee5\u50cf\u51fd\u6570\u4e00\u6837\u5bf9\u5176\u6c42\u503c\u3002==</p> <p>\uff081\uff09Lambda \u8868\u8fbe\u5f0f\u672c\u8d28\u4e0a\u4e0e\u51fd\u6570\u58f0\u660e\u975e\u5e38\u7c7b\u4f3c\u3002Lambda \u8868\u8fbe\u5f0f\u5177\u4f53\u5f62\u5f0f\u5982\u4e0b: <pre><code>[capture](parameters)-&gt;return-type{body}\n</code></pre> \u4f8b\u5982\uff1a [ ](int x, int y){ return x &lt; y ; }</p> <p>\uff082\uff09\u5982\u679c\u6ca1\u6709\u8fd4\u56de\u503c\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a <pre><code>[capture](parameters){body}\n</code></pre> \u5982\u679c lambda \u51fd\u6570\u6ca1\u6709\u4f20\u56de\u503c\uff08\u4f8b\u5982 void\uff09\uff0c\u5176\u8fd4\u56de\u7c7b\u578b\u53ef\u88ab\u5b8c\u5168\u5ffd\u7565\u3002</p> <p>\u4f8b\u5982\uff1a [ ]{ ++global_x; } </p> <p>\uff083\uff09\u5728\u4e00\u4e2a\u66f4\u4e3a\u590d\u6742\u7684\u4f8b\u5b50\u4e2d\uff0c\u8fd4\u56de\u7c7b\u578b\u53ef\u4ee5\u88ab\u660e\u786e\u7684\u6307\u5b9a\u5982\u4e0b\uff1a [ ](int x, int y) -&gt; int { int z = x + y; return z + x; } \u672c\u4f8b\u4e2d\uff0c\u4e00\u4e2a\u4e34\u65f6\u7684\u53c2\u6570 z \u88ab\u521b\u5efa\u7528\u6765\u5b58\u50a8\u4e2d\u95f4\u7ed3\u679c\u3002\u5982\u540c\u4e00\u822c\u7684\u51fd\u6570\uff0cz \u7684\u503c\u4e0d\u4f1a\u4fdd\u7559\u5230\u4e0b\u4e00\u6b21\u8be5\u4e0d\u5177\u540d\u51fd\u6570\u518d\u6b21\u88ab\u8c03\u7528\u65f6\u3002</p> <p>\uff084\uff09\u5728Lambda\u8868\u8fbe\u5f0f\u5185\u53ef\u4ee5\u8bbf\u95ee\u5f53\u524d\u4f5c\u7528\u57df\u7684\u53d8\u91cf\uff0c\u8fd9\u662fLambda\u8868\u8fbe\u5f0f\u7684\u95ed\u5305\uff08Closure\uff09\u884c\u4e3a\u3002 \u4e0eJavaScript\u95ed\u5305\u4e0d\u540c\uff0cC++\u53d8\u91cf\u4f20\u9012\u6709\u4f20\u503c\u548c\u4f20\u5f15\u7528\u7684\u533a\u522b\u3002\u53ef\u4ee5\u901a\u8fc7\u524d\u9762\u7684[ ]\u6765\u6307\u5b9a\uff1a</p> <p>[]      // \u6c92\u6709\u5b9a\u4e49\u4efb\u4f55\u53d8\u91cf\u3002\u4f7f\u7528\u672a\u5b9a\u4e49\u53d8\u91cf\u4f1a\u5f15\u53d1\u9519\u8bef\u3002 [x, &amp;y] // x\u4ee5\u4f20\u503c\u65b9\u5f0f\u4f20\u5165\uff08\u9ed8\u8ba4\uff09\uff0cy\u4ee5\u5f15\u7528\u65b9\u5f0f\u4f20\u5165\u3002 [&amp;]     // \u4efb\u4f55\u88ab\u4f7f\u7528\u5230\u7684\u5916\u90e8\u53d8\u91cf\u90fd\u9690\u5f0f\u5730\u4ee5\u5f15\u7528\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002 [=]     // \u4efb\u4f55\u88ab\u4f7f\u7528\u5230\u7684\u5916\u90e8\u53d8\u91cf\u90fd\u9690\u5f0f\u5730\u4ee5\u4f20\u503c\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002 [&amp;, x]  // x\u663e\u5f0f\u5730\u4ee5\u4f20\u503c\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002\u5176\u4f59\u53d8\u91cf\u4ee5\u5f15\u7528\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002 [=, &amp;z] // z\u663e\u5f0f\u5730\u4ee5\u5f15\u7528\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002\u5176\u4f59\u53d8\u91cf\u4ee5\u4f20\u503c\u65b9\u5f0f\u52a0\u4ee5\u5f15\u7528\u3002</p> <p>\u53e6\u5916\u6709\u4e00\u70b9\u9700\u8981\u6ce8\u610f\u3002\u5bf9\u4e8e[=]\u6216[&amp;]\u7684\u5f62\u5f0f\uff0clambda \u8868\u8fbe\u5f0f\u53ef\u4ee5\u76f4\u63a5\u4f7f\u7528 this \u6307\u9488\u3002\u4f46\u662f\uff0c\u5bf9\u4e8e[]\u7684\u5f62\u5f0f\uff0c\u5982\u679c\u8981\u4f7f\u7528 this \u6307\u9488\uff0c\u5fc5\u987b\u663e\u5f0f\u4f20\u5165\uff1a this { this-&gt;someFunc(); }();</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/","title":"Chapter2\u5f00\u59cb\u5b66\u4e60c++","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#1c","title":"1\uff09c++\u5bf9\u4e8e\u5927\u5c0f\u5199\u654f\u611f:","text":"<pre><code>\u6bd4\u5982cout\u6539\u5199\u6210Cout\u5c31\u6ca1\u6cd5\u901a\u8fc7\u7f16\u8bd1\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#2","title":"2\uff09\u57fa\u7840\u7a0b\u5e8f\u7ec4\u6210\uff1a","text":"<pre><code>&lt;structure&gt;\n---------------------------------\n\u6ce8\u91ca\uff1a  \u7531\u524d\u7f00 // \u6807\u8bc6 \n\u9884\u5904\u7406\u5668\u7f16\u8bd1\u6307\u4ee4\uff1a#include&lt;...&gt;\n\u51fd\u6570\u5934\uff1aint main()\n\u7f16\u8bd1\u6307\u4ee4\uff1a using namespace ...\n\u51fd\u6570\u4f53\uff1a   {......}\ncout\u5de5\u5177\u663e\u793a\u6d88\u606f\u7684\u8bed\u53e5\uff1a\n\u7ed3\u675f main() \u51fd\u6570\u7684return\u8bed\u53e5\uff1a\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#3int-main","title":"3\uff09\u51fd\u6570\u5934\uff1aint main()","text":"<pre><code>    (1)   \u63cf\u8ff0\u7684\u662fmain()\u51fd\u6570\u4e0e\u64cd\u4f5c\u7cfb\u7edf\u4e4b\u95f4\u7684\u63a5\u53e3\n    (2)   \u7a7a\u62ec\u53f7means\uff1amain()\u51fd\u6570\u4e0d\u63a5\u53d7\u4efb\u4f55\u4fe1\u606f/\u4e0d\u63a5\u53d7\u4efb\u4f55\u53c2\u6570\n    (3)   tips\uff1a\u8ba9\u62ec\u53f7\u7a7a\u7740\u610f\u5473\u7740\u5bf9\u4e8e\u662f\u5426\u63a5\u53d7\u53c2\u6570\u4fdd\u6301\u6c89\u9ed8\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#4ciostream","title":"4\uff09c++\u9884\u5904\u7406\u5668\u4e0eiostream\u6587\u4ef6\uff1a","text":"<pre><code>    (1) # include&lt;iostrteam&gt;    \u5bfc\u81f4\u9884\u5904\u7406\u5668\u5c06iostream\u6587\u4ef6\u4e2d\u7684\u5185\u5bb9\u6dfb\u52a0\u5230\u7a0b\u5e8f\u4e2d\u3010\u5728\u6e90\u4ee3\u7801\u88ab\u7f16\u8bd1\u4e4b\u524d\uff0c\u66ff\u6362\u6216\u8005\u6dfb\u52a0\u6587\u672c\u3011\n    (2) \u50cfiostream\u8fd9\u6837\u7684\u6587\u4ef6\u53eb\u505a\u5305\u542b\u6587\u4ef6(include file) \u4e5f\u53eb\u4f5c\u5934\u6587\u4ef6(head file)\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#5-using-namespace","title":"5\uff09\u540d\u79f0\u7a7a\u95f4 \uff1ausing namespace ...","text":"<pre><code>        (1) \u8fd9\u53eb\u505ausing\u7f16\u8bd1\u6307\u4ee4\n        (2) using namespace std;  \u4f7f\u5f97std\u540d\u79f0\u7a7a\u95f4\u4e2d\u7684\u6240\u6709\u540d\u79f0\u90fd\u53ef\u4ee5\u4f7f\u7528\n        (3) \u52e4\u52b3\u5199\u6cd5\uff1ausing std::cout;        using std::endl;     ......\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/#6","title":"6\uff09\u7a0b\u5e8f\u5b9e\u4f8b:","text":"<pre><code>// carrots.cpp -- food processing program\n// uses and displays a variable\n\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int carrots; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// declare an integer variable\n\u00a0 \u00a0 carrots = 25; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// assign a value to the variable\n\u00a0 \u00a0 cout &lt;&lt; \"I have \";\n\u00a0 \u00a0 cout &lt;&lt; carrots; \u00a0 \u00a0 \u00a0 \u00a0// display the value of the variable\n\u00a0 \u00a0 cout &lt;&lt; \" carrots.\";\n\u00a0 \u00a0 cout &lt;&lt; endl;\n\u00a0 \u00a0 carrots = carrots - 1; \u00a0// modify the variable\n\u00a0 \u00a0 cout &lt;&lt; \"Crunch, crunch. Now I have \" &lt;&lt; carrots &lt;&lt; \" carrots.\" &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\n\u00a0 \u00a0 return 0;\n}\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/","title":"Chapter3\u5904\u7406\u6570\u636e","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/#1climits","title":"1\uff09climits\u4e2d\u7684\u7b26\u53f7\u5e38\u91cf\uff1a","text":"<p>![[Pasted image 20230726105247.png]] <pre><code>#include &lt;iostream&gt;\n#include &lt;climits&gt;\nusing namespace std;\nint main(int argc, char const *argv[])\n{\n\n\u00a0 \u00a0 int n_int = INT_MAX;\n\u00a0 \u00a0 \n\u00a0 \u00a0 short n_short = SHRT_MAX;\n\u00a0 \u00a0 \n\u00a0 \u00a0 long n_long = LONG_MAX;\n\u00a0 \u00a0 \n\u00a0 \u00a0 long long n_llong = LLONG_MAX;\n\u00a0 \u00a0 \n\u00a0 \u00a0 std::cout &lt;&lt; \"int is \u00a0 \u00a0 \u00a0 \" &lt;&lt; CHAR_BIT &lt;&lt; \" \u00a0bytes.\" &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"short is \u00a0 \u00a0 \" &lt;&lt; sizeof(short) &lt;&lt; \" \u00a0bytes.\" &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"long is \u00a0 \u00a0 \u00a0\" &lt;&lt; sizeof(long) &lt;&lt; \" \u00a0bytes.\" &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"long long is \" &lt;&lt; sizeof(long long) &lt;&lt; \" \u00a0bytes.\" &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"Maxinum values:\" &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"int \u00a0 \u00a0 \u00a0 : \" &lt;&lt; n_int &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"short \u00a0 \u00a0 : \" &lt;&lt; n_short &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"long \u00a0 \u00a0 \u00a0: \" &lt;&lt; n_long &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"long long : \" &lt;&lt; n_llong &lt;&lt; '\\n';\n\n\u00a0 \u00a0 std::cout &lt;&lt; \"Bits per byte : \" &lt;&lt; CHAR_BIT &lt;&lt; '\\n';\n\n\u00a0 \u00a0 return 0;\n\n}\n-----------------------------------------------------------------------------------\n\u7ed3\u679c\uff1a\n\nint is       8  bytes.\nshort is     2  bytes.\nlong is      4  bytes.\nlong long is 8  bytes.\nMaxinum values:\nint       : 2147483647\nshort     : 32767\nlong      : 2147483647\nlong long : 9223372036854775807\nBits per byte : 8\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/#2ascii","title":"2\uff09ASCII \u8868\uff1a","text":"<p>![[Pasted image 20230726105531.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/#3aeb-aeb","title":"3\uff09\u7f29\u653e\u56e0\u5b50\u8868\u793a\u65b9\u6cd5\uff1aAeB / AEB","text":"<p>eg: 1e6 = 10^6      5.98E24 = 5.98 x 10^24     9.11e-34  \uff081\uff09\u6307\u6570\u53ef\u4ee5\u662f\u6b63\u6570\uff0c\u4e5f\u53ef\u4ee5\u662f\u8d1f\u6570 \uff082\uff09E\u4e0ee\u5728\u6b64\u5904\u7b49\u4ef7 \uff083\uff09\u6570\u5b57\u4e2d\u4e0d\u53ef\u4ee5\u6709\u7a7a\u683c  eg\uff1a 7.2  e6   \u975e\u6cd5</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/#4c11auto","title":"4\uff09c++11\u4e2d\u7684auto\u58f0\u660e\uff1a  \u81ea\u52a8\u63a8\u65ad\u53d8\u91cf\u7684\u7c7b\u578b","text":"<p>\u4f8b\u5982\uff1a <pre><code>auto n = 100;       // n is int \nauto x = 1.5;       // x is double\nauto y = 1.3e12L;   // y is long double\n</code></pre></p> <p>auto\u7684\u771f\u6b63\u4f18\u52bf\u5728\u5904\u7406\u590d\u6742\u7c7b\u578b\u4e2d\u5f97\u4ee5\u4f53\u73b0\uff0c\u6bd4\u5982STL\u4e2d\u7684\u7c7b\u578b\uff1a <pre><code>[approach1]\nstd::vector&lt;double&gt; hbx;\nstd::vector&lt;double&gt;::iterator hhh = hbx.begin();\n\n[approach2]\nstd::vector&lt;double&gt; hbx;\nauto hhh = hbx.begin();\n\n\u5bf9\u6bd4\u53ef\u77e5\uff1a\nstd::vector&lt;double&gt;::iterator = auto\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/","title":"Chapter4\u590d\u5408\u7c7b\u578b","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#1","title":"1\uff09\u6570\u7ec4\u7684\u590d\u4e60\uff1a","text":"<p>\uff081\uff09\u53ea\u6709\u5b9a\u4e49\u6570\u7ec4\u7684\u65f6\u5019\u624d\u53ef\u4ee5\u521d\u59cb\u5316\uff0c\u6b64\u540e\u5c31\u4e0d\u53ef\u4ee5\u4f7f\u7528\u4e86\uff1b           \u4e0d\u80fd\u5c06\u4e00\u4e2aarray\u8d4b\u7ed9\u53e6\u4e00\u4e2aarray\uff01</p> <p>\uff082\uff09\u521d\u59cb\u5316\u6570\u7ec4\uff0c\u63d0\u4f9b\u503c\u53ef\u4ee5\u5c11\u4e8e\u6570\u7ec4\u5143\u7d20\u4e2a\u6570         \u8fd9\u79cd\u9488\u5bf9\u6570\u7ec4\u90e8\u5206\u521d\u59cb\u5316\u7684\u884c\u4e3a\uff0c\u7f16\u8bd1\u5668\u81ea\u52a8\u5c06\u5176\u4ed6\u5143\u7d20\u8865\u6210 0 \u3010\u4e0d\u5728\u4e4e\u6570\u7ec4\u5b9a\u4e49\u5728main()\u7684\u5185/\u5916\u3011 <pre><code>1) \u5199\u6cd5\u4e00\uff1a[\u5728\u51fd\u6570\u4f53\u5916\u9762]\n# include&lt;iostream&gt;\nusing namespace std;\nint a[10]={1,1};\nint main() {\n\u00a0 \u00a0 for(int i=0;i&lt;=9;i++) cout &lt;&lt; a[i] &lt;&lt;' ';\n\u00a0 \u00a0 return 0;\n}\n\n2) \u5199\u6cd5\u4e8c\uff1a[\u5728\u51fd\u6570\u4f53\u5185\u90e8]\n# include&lt;iostream&gt;\nusing namespace std;\nint main() {\n\u00a0 \u00a0 int a[10]={1,1};\n\n\u00a0 \u00a0 for(int i=0;i&lt;=9;i++) cout &lt;&lt; a[i] &lt;&lt;' ';\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\u90fd\u662f\uff1a\n1 1 0 0 0 0 0 0 0 0\n</code></pre></p> <p>\uff083\uff09\u6570\u7ec4\u5143\u7d20\u5168\u90e8\u8d4b\u503c\u62100\uff1a int  a[100] = { 0 };          reason: \u663e\u5f0f\u5730\u5c06\u7b2c\u4e00\u4e2a\u5143\u7d20\u8bbe\u7f6e\u4e3a0\uff0c\u5176\u4f59\u5143\u7d20\u7f16\u8bd1\u5668\u6309(2)\u4e2d\u89c4\u5219\u81ea\u52a8\u8d4b\u503c\u4e3a0         ps\uff1a\u8be5\u5199\u6cd5\u7b49\u4ef7\u4e8e int a[100] = { };    [ \u62ec\u53f7\u5185\u7f6e\u4e3a\u7a7a ]         tips\uff1aint  a[100] = {1}; \u542b\u4e49\u662f \u7b2c\u4e00\u4e2a\u5143\u7d20 a[0] \u662f1\uff0c\u5176\u4f59\u5143\u7d20\u90fd\u662f0</p> <p>\uff084\uff09\u521d\u59cb\u5316\u65f6[ ]\u5199\u6cd5\uff0c\u7f16\u8bd1\u5668\u5c06\u81ea\u52a8\u8ba1\u7b97\u5143\u7d20\u4e2a\u6570\uff1a          int ar[ ] = {1,2,3,99};          // \u81ea\u52a8\u8ba1\u7b97\u51fanum=4 <pre><code>#include&lt;iostream&gt; \nusing namespace std;\nint main() \n{\n    int a[] = {1,4,3,6,5,8,0};\n    int num = sizeof(a)/sizeof(int);\n\n    cout &lt;&lt; num &lt;&lt;endl;\n    return 0;\n}     \n\u7ed3\u679c\uff1a  7\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#2-char","title":"2) \u5b57\u7b26\u4e32\uff08char\uff09\uff1a","text":"<p>\uff081\uff09char \u7684\u5b57\u7b26\u6570\u7ec4\u4e0e\u5b57\u7b26\u4e32\uff1a         \u5b57\u7b26\u6570\u7ec4\uff1achar dog[8] = {'a','b','c','d','e','f','g','r'};       // not a string         \u5b57\u7b26\u4e32\uff1a    char cat[8] = {'a','b','c','d','e','f','g', '\\0' };   // is a string</p> <p>[1] \u6253\u5370cat\u65f6,\u6253\u5370\u5230'\\0'\u7a7a\u5b57\u7b26\u5c31\u7ed3\u675f\uff0c\u56e0\u6b64\u53ea\u663e\u793aabcdefg [2] \u6253\u5370dog\u65f6,\u6253\u5370\u5b8c\u5b57\u7b26\u6570\u7ec4\u5143\u7d20\u540e\uff0c\u63a5\u7740\u6253\u5370\u51fa\u5185\u5b58\u4e2d\u7684\u2018\u968f\u540e\u5b57\u7b26\u2019\uff0c\u76f4\u5230\u9047\u89c1'\\0'\u4e3a\u6b62 ==\u7531\u4e8e\u7a7a\u5b57\u7b26'\\0'\u5728\u5185\u5b58\u4e2d\u975e\u5e38\u5e38\u89c1\uff0c\u56e0\u6b64\u6b64\u8fc7\u7a0b\u5f88\u5feb\u5c31\u505c\u6b62\uff01== <pre><code>#include&lt;iostream&gt;\nusing namespace std;\nint main() \n{\n\u00a0 \u00a0 char cat[8] = {'a','b','c','d','e','f','g', '\\0' }; \u00a0  // is a string\n\u00a0 \u00a0 cout &lt;&lt; cat &lt;&lt;'\\n';\n\n\u00a0 \u00a0 char dog[8] = {'a','b','c','d','e','f','g','r'}; \u00a0 \u00a0 \u00a0 // not a string\n\u00a0 \u00a0 cout &lt;&lt; dog &lt;&lt;'\\n';\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nabcdefg\nabcdefgrabcdefg\n</code></pre></p> <p>\uff082\uff09\u5bf9\u4e8e\u5b57\u7b26\u4e32\u7684\u5199\u6cd5\u6539\u8fdb\uff1a <pre><code>char bio[11] = \"mr. cheeps\";     // 10\u4e2a\u5143\u7d20 + 1\u4e2a'\\0'\nchar fish[] = \"dujkadfukasgbdf\"  // \u7f16\u8bd1\u5668\u81ea\u52a8\u8ba1\u7b97\u5143\u7d20\u4e2a\u6570\n</code></pre> ps\uff1a    \u201c \u201d \u4e0e \u2019 \u2018\u4e0d\u80fd\u4e92\u6362\uff01</p> <p>\uff083\uff09\u5b57\u7b26\u4e32\u62fc\u63a5\u65f6\uff0c\u4e0d\u4f1a\u5728\u88ab\u8fde\u63a5\u7684str\u4e4b\u95f4\u81ea\u52a8\u6dfb\u52a0\u7a7a\u683c\uff0c\u540e\u8005\u7d27\u8ddf\u524d\u8005</p> <p>\uff084\uff09\u5b57\u7b26\u4e32\u90e8\u5206\u521d\u59cb\u5316\u540e\uff0c\u5176\u4f59\u5143\u7d20\u81ea\u52a8\u8d4b\u503c\u4e3a'\\0' : <pre><code>#include&lt;iostream&gt;\nusing namespace std;\nint main()\n{\n\u00a0 \u00a0 char cat[8] = {'a','b','c','d'}; \u00a0 // is a string\n\n\u00a0 \u00a0 cout &lt;&lt; cat &lt;&lt;'\\n';\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a   abcd\n</code></pre></p> <p>\uff085\uff09strlen() \u4e0e sizeof() \u533a\u522b\uff1a</p> <p>sizeof( )  :  \u6574\u4e2a\u6570\u7ec4\u7684\u957f\u5ea6                          [ \u53d6\u51b3\u4e8e\u5f00\u8bbe\u72b6\u6001 ] strlen( )  :  \u5b58\u50a8\u5728\u6570\u7ec4\u4e2d\u7684\u5b57\u7b26\u4e32\u7684\u957f\u5ea6    [ \u53d6\u51b3\u4e8e\u6709\u6548\u5143\u7d20\u4e2a\u6570 ] <pre><code>// strings.cpp -- storing strings in an array\n#include &lt;iostream&gt;\n#include &lt;cstring&gt; \u00a0// for the strlen() function\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 const int Size = 15;\n\n\u00a0 \u00a0 char name1[Size]; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // empty array\n\u00a0 \u00a0 char name2[Size] = \"C++owboy\"; \u00a0// initialized array\n\u00a0 \u00a0 // NOTE: some implementations may require the static keyword\n\u00a0 \u00a0 // to initialize the array name2\n\u00a0 \u00a0 cout &lt;&lt; \"Howdy! I'm \" &lt;&lt; name2;\n\u00a0 \u00a0 cout &lt;&lt; \"! What's your name?\\n\";\n\u00a0 \u00a0 \n\u00a0 \u00a0 cin &gt;&gt; name1;\n\u00a0 \u00a0 cout &lt;&lt; \"Well, \" &lt;&lt; name1 &lt;&lt; \", your name has \";\n\u00a0 \u00a0 cout &lt;&lt; strlen(name1) &lt;&lt; \" letters and is stored\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"in an array of \" &lt;&lt; sizeof(name1) &lt;&lt; \" bytes.\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Your initial is \" &lt;&lt; name1[0] &lt;&lt; \".\\n\";\n\n\u00a0 \u00a0 name2[3] = '\\0'; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// set to null character\n\u00a0 \u00a0 cout &lt;&lt; \"Here are the first 3 characters of my name: \";\n\u00a0 \u00a0 cout &lt;&lt; name2 &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nHowdy! I'm C++owboy! What's your name?\nhbx\nWell, hbx, your name has 3 letters and is stored\nin an array of 15 bytes.\nYour initial is h.\nHere are the first 3 characters of my name: C++\n</code></pre></p> <p>\uff086\uff09\u5b57\u7b26\u4e32\u8f93\u5165\uff1a</p> <p>\u30101\u3011\u5f15\u5165\uff1a <pre><code>// instr1.cpp -- reading more than one string\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 const int ArSize = 20;\n\u00a0 \u00a0 char name[ArSize];\n\u00a0 \u00a0 char dessert[ArSize];\n\n\u00a0 \u00a0 cout &lt;&lt; \"Enter your name:\\n\";\n\u00a0 \u00a0 cin &gt;&gt; name;\n\n\u00a0 \u00a0 cout &lt;&lt; \"Enter your favorite dessert:\\n\";\n\u00a0 \u00a0 cin &gt;&gt; dessert;\n\n\u00a0 \u00a0 cout &lt;&lt; \"I have some delicious \" &lt;&lt; dessert;\n\u00a0 \u00a0 cout &lt;&lt; \" for you, \" &lt;&lt; name &lt;&lt; \".\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nEnter your name:\nAlistair Dreeb\nEnter your favorite dessert:\nI have some delicious Dreeb for you, Alistair.\n</code></pre> \u53d1\u73b0\u95ee\u9898\uff1a \u6211\u4eec\u90fd\u6ca1\u6709\u673a\u4f1a\u8f93\u5165dessert\uff0c\u7a0b\u5e8f\u4fbf\u5c06\u5b83\u663e\u793a\u51fa\u6765\uff0c\u5e76\u4e14\u7ec8\u6b62\u7a0b\u5e8f\u4e86\uff0c\u663e\u800c\u6613\u89c1\uff1a \u60f3\u8f93\u51fa\u7684dessert\u53d8\u6210\u4e86\u8fd9\u4e2a\u4eba\u7684\u59d3\u6c0f\uff0c\u5b9e\u9645\u4e0a\u8f93\u51fa\u7684\u4eba\u540d\u4e5f\u662f\u4ed6\u7684first name</p> <p>\u5206\u6790\u95ee\u9898\uff1a</p> <p>1\uff09cin\u4f7f\u7528 \u7a7a\u767d(\u7a7a\u683c,\u5236\u8868\u7b26,\u6362\u884c\u7b26)\u4f5c\u4e3a str \u7ed3\u675f\u7684\u7ec8\u6b62\u4f4d\u7f6e 2\uff09\u8fd9\u5c31\u610f\u5473\u7740\uff1acin\u53ea\u80fd\u83b7\u53d6\u7b2c\u4e00\u4e2a\u5355\u8bcd 3\uff09\u672c\u4f8b\u4e2d\uff1acin \u5c06Alistair\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u5b57\u7b26\u4e32\uff0c\u5e76\u5c06\u5176\u653e\u7f6e\u4e8ename\u6570\u7ec4\u4e2d\uff1b\u56e0\u6b64Dreeb\u7559\u5728\u8f93\u5165\u961f\u5217\u4e2d\uff1b\u5f53cin\u5728\u8f93\u5165\u961f\u5217\u4e2d\u641c\u7d22dessert\u65f6\uff0c\u9996\u5148\u770b\u5230\u7684\u662fDreeb\uff1b\u56e0\u6b64cin\u8bfb\u53d6\u7684\u662fDreeb\uff0c\u5e76\u5c06\u5176\u653e\u7f6e\u4e8edessert\u6570\u7ec4\u4e2d</p> <p>\u89e3\u51b3\u95ee\u9898\uff1a \u5bf9\u4e8e New York \u3001Harvard University\u7b49\u77ed\u8bed\uff0c\u6211\u4eec\u9700\u8981\u7684\u662f\u9762\u5411\u884c\u800c\u4e0d\u662f\u9762\u5411\u5355\u8bcd\u7684\u65b9\u6cd5 =&gt;   \u4f7f\u7528getline() \u4e0e get() \u8fd9\u4e24\u8005\u90fd\u8bfb\u53d6\u4e00\u884c\u8f93\u5165\uff0c\u76f4\u5230\u5230\u8fbe\u6362\u884c\u7b26'\\n'\uff0c\u968f\u540egetline()\u5c06\u6362\u884c\u7b26\u66ff\u6362\u6210'\\0'\u3010\u7b49\u4ef7\u4e8e\u4e22\u5f03\u6362\u884c\u7b26\u3011\uff0c\u800cget()\u5c06\u6362\u884c\u7b26\u4fdd\u7559\u5728\u8f93\u5165\u5e8f\u5217\u4e2d\uff01</p> <p>\u30102\u3011getline()\uff1a ![[Pasted image 20230726161716.png]] \u683c\u5f0f\uff1acin.getline(arr_name , max_num) \u673a\u7406\uff1agetline\u6bcf\u6b21\u8bfb\u53d6\u4e00\u884c\uff0c\u5b83\u901a\u8fc7\u6362\u884c\u7b26\u786e\u5b9a\u884c\u5c3e\uff0c\u4f46\u662f\u4e0d\u4fdd\u5b58\u5b83\uff1b\u5728\u5b58\u50a8\u5b57\u7b26\u4e32\u65f6\uff0c\u5b83\u5c06\u7a7a\u5b57\u7b26\u2019  \\0 \u2018\u4ee3\u66ff\u6362\u884c\u7b26\uff01</p> <p>![[Pasted image 20230726162058.png]]</p> <p>\u30103\u3011get(): ![[Pasted image 20230726163507.png]] \u683c\u5f0f\uff1acin.get(arr_name , max_size) ==ps\u3010\u89e3\u91ca\u4e0a\u8ff0code\u3011==</p> <p>(1)    cin.get(name,Arsize);        //  \u8f93\u5165name\uff0c\u672b\u5c3e\u5e26\u4e0a\u4e00\u4e2a'\\n' (2)    cin.get();                           //  \u541e\u6389\u524d\u9762\u9057\u7559\u7684'\\n'(\u81ea\u5df1\u672c\u8eab\u4e0d\u542b\u6709'\\n') (3)    cin.get(dessert,Arsize);     //  \u8f93\u5165dessert\uff0c\u672b\u5c3e\u5e26\u4e0a\u4e00\u4e2a'\\n'</p> <p>\u30104\u3011\u6df7\u5408\u8f93\u5165\u6570\u5b57\u4e0estr\u5bfc\u81f4\u7684\u95ee\u9898\uff1a <pre><code>// numstr.cpp -- following number input with line input\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"What year was your house built?\\n\";\n\u00a0   int year;\n\u00a0 \u00a0 cin &gt;&gt; year;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 cout &lt;&lt; \"What is its street address?\\n\";\n\u00a0 \u00a0 \n\u00a0 \u00a0 char address[80];\n\u00a0 \u00a0 cin.getline(address, 80);\n\n\u00a0 \u00a0 cout &lt;&lt; \"Year built: \" &lt;&lt; year &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Address: \" &lt;&lt; address &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Done!\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nWhat year was your house built?\n2004\nWhat is its street address?\nYear built: 2004\nAddress: \nDone!\n</code></pre> problem\uff1a\u6211\u4eec\u6839\u672c\u6ca1\u6709\u8f93\u5165addresss\u7684\u673a\u4f1a analysis\uff1acin\u8bfb\u53d6\u5e74\u4efd\u540e\uff0c\u5c06\u56de\u8f66\u952e\u751f\u6210\u7684\u6362\u884c\u7b26'\\n'\u7559\u5728\u4e86\u8f93\u5165\u961f\u5217\u4e2d\uff0c\u540e\u9762cin.getline(...)\u770b\u89c1\u6362\u884c\u7b26\uff0c\u8ba4\u4e3a\u8fd9\u662f\u4e00\u4e2a\u7a7a\u884c\uff0c\u5e76\u5c06\u4e00\u4e2a\u7a7a\u4e32\u8d4b\u7ed9address\u6570\u7ec4 solve\uff1a\u5728\u8bfb\u53d6add\u4e4b\u524d\u5148\u4e22\u5f03\u6362\u884c\u7b26'\\n' <pre><code>cin &gt;&gt; year;\ncin.get()\n...\n\n\u7ed3\u679c\uff1a\nWhat year was your house built?\n2004\nWhat is its street address?\nhf\nYear built: 2004\nAddress: hf\nDone!\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#3-string","title":"3) \u5b57\u7b26\u4e32\uff08string\uff09\uff1a","text":"<p>\uff081\uff09\u521d\u59cb\u5316\uff0c\u8d4b\u503c\uff0c\u62fc\u63a5\uff0c\u9644\u52a0...      \u8fc7\u4e8e\u7b80\u5355\uff0c\u7565\u4e4b\uff01 \uff082\uff09\u8f93\u5165/\u8f93\u51fa\uff1a \u9762\u5411\u5355\u8bcd\uff1acin\u3001cout \u9762\u5411\u884c\uff1agetline(cin , str) <pre><code>// strtype4.cpp -- line input\n#include &lt;iostream&gt;\n#include &lt;string&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // make string class available\n#include &lt;cstring&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// C-style string library\n\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 char charr[20];\n\u00a0 \u00a0 string str;\n\n\u00a0 \u00a0 cout &lt;&lt; \"Length of string in charr before input: \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; strlen(charr) &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Length of string in str before input: \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; str.size() &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Enter a line of text:\\n\";\n\u00a0 \u00a0 cin.getline(charr, 20); \u00a0 \u00a0 // indicate maximum length\n\u00a0 \u00a0 cout &lt;&lt; \"You entered: \" &lt;&lt; charr &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"Enter another line of text:\\n\";\n\u00a0 \u00a0 getline(cin, str); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// cin now an argument; no length specifier\n\n\u00a0 \u00a0 cout &lt;&lt; \"You entered: \" &lt;&lt; str &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Length of string in charr after input: \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; strlen(charr) &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Length of string in str after input: \"\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; str.size() &lt;&lt; endl;\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nLength of string in charr before input: 1\nLength of string in str before input: 0\n\u8bf4\u660echar\u7684strlen\u957f\u5ea6\u662f\u8003\u8651'\\0'\u7684\uff0c\u800cstring\u4e0d\u8003\u8651\uff01\n\nEnter a line of text:\nhsauoigcxoasgdxo\nYou entered: hsauoigcxoasgdxo\n\nEnter another line of text:\nasdjh jdsilhids\nYou entered: asdjh jdsilhids\nLength of string in charr after input: 16\nLength of string in str after input: 15\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#4","title":"4) \u7ed3\u6784\u4f53\uff1a","text":"<p>\u57fa\u7840\u90e8\u5206\u7701\u7565\uff0c\u8fd9\u91cc\u7740\u91cd\u4ecb\u7ecd\u7a0b\u5e8f\u5206\u6790\uff1a <pre><code>// structur.cpp -- a simple structure\n#include &lt;iostream&gt;\nusing namespace std;\nstruct inflatable { \u00a0 // structure declaration\n\u00a0 \u00a0 char name[20];\n\u00a0 \u00a0 float volume;\n\u00a0 \u00a0 double price;\n};\n\nint main()\n{\n\u00a0 \u00a0 inflatable guest =\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"Glorious Gloria\", \u00a0// name value\n\u00a0 \u00a0 \u00a0 \u00a0 1.88, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // volume value\n\u00a0 \u00a0 \u00a0 \u00a0 29.99 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // price value\n\u00a0 \u00a0 }; \u00a0// guest is a structure variable of type inflatable\n// It's initialized to the indicated values\n\n\u00a0 \u00a0 inflatable pal =\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 \"Audacious Arthur\",\n\u00a0 \u00a0 \u00a0 \u00a0 3.12,\n\u00a0 \u00a0 \u00a0 \u00a0 32.99\n\u00a0 \u00a0 }; \u00a0// pal is a second variable of type inflatable\n// NOTE: some implementations require using\n// static inflatable guest =\n\u00a0 \u00a0 cout &lt;&lt; \"Expand your guest list with \" &lt;&lt; guest.name;\n\u00a0 \u00a0 cout &lt;&lt; \" and \" &lt;&lt; pal.name &lt;&lt; \"!\\n\";\n// pal.name is the name member of the pal variable\\\n\u00a0 \u00a0 cout &lt;&lt; \"You can have both for $\";\n\u00a0 \u00a0 cout &lt;&lt; guest.price + pal.price &lt;&lt; \"!\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre> \u5206\u6790\uff1a \uff081\uff09\u5173\u952e\u5b57struct\u8868\u660e\uff0c\u8fd9\u4e9b\u4ee3\u7801\u8868\u793a\u7684\u662f\u4e00\u4e2a\u7ed3\u6784\u7684\u5e03\u5c40\uff1b \uff082\uff09\u6807\u8bc6\u7b26inflatable\u662f\u8fd9\u79cd\u6570\u636e\u683c\u5f0f\u7684\u540d\u79f0\uff0c\u56e0\u6b64\u65b0\u7c7b\u578b\u7684\u540d\u79f0\u5c31\u53eb\u505ainflatable\uff0c\u5b83\u8ddfint/char......\u5730\u4f4d\u76f8\u5f53\uff1b \uff083\uff09\u7ed3\u6784\u58f0\u660e\u5b9a\u4e49\u4e86\u4e00\u79cd\u65b0\u7c7b\u578b\uff0c\u53ef\u4ee5\u4f7f\u7528\u6210\u5458\u8fd0\u7b97\u7b26( . )\u8bbf\u95ee\u5404\u4e2a\u6210\u5458 \uff084\uff09\u6ce8\u610f\u521d\u59cb\u5316\u65b9\u6cd5\uff1a <pre><code>inflatable guest =\n{\n\u00a0 \u00a0 \"Glorious Gloria\", \u00a0// name value\n    1.88, \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // volume value\n\u00a0 \u00a0 29.99 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // price value\n}; \u00a0// guest is a structure variable of type inflatable\n\n\u5199\u6cd5\u4e8c\uff1a\ninflatable guest = {\"Glorious Gloria\",1.88,29.99};\n\n----------------------------------------------------------------------------------\nps: \u5982\u679c\u5927\u62ec\u53f7\u5185\u4e3a\u7a7a\uff0c\u5219\u5404\u4e2a\u6210\u5458\u8bbe\u7f6e\u4e3a0\u3010\u6570\u5b57\u8d4b0 / \u5b57\u7b26\u7684\u5b57\u8282\u8bbe\u7f6e\u4e3a0\u3011\ninflatable hbx = {};\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#5","title":"5) \u5171\u7528\u4f53\uff1a","text":"<p>\u5171\u7528\u4f53\uff08union\uff09\u80fd\u591f\u5b58\u50a8\u4e0d\u540c\u7684\u6570\u636e\u7c7b\u578b\uff0c\u4f46\u662f\u53ea\u80fd\u540c\u65f6\u5b58\u50a8\u5176\u4e2d\u7684\u4e00\u79cd\u7c7b\u578b exp\uff1a\uff081\uff09struct\u80fd\u540c\u65f6\u5b58\u50a8int\u3001char\u3001double ; \uff082\uff09union\u5b58\u50a8int/char/double eg: <pre><code>union one4all                          // \u58f0\u660e\u5b83\u53ef\u4ee5\u66ff\u4ee3\u54ea\u4e9b\n{\n    int int_val;    \n    long long_val;\n    double double_val;\n};\n\none4all pail;\npail.int_val = 15;                    // store an int \ncout &lt;&lt; pail.int_val &lt;&lt;endl;\n\npail.double_val = 1.38;               //store a double &amp;&amp; int value is lost!!!\ncout &lt;&lt; pail.double_val &lt;&lt;endl;\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#6","title":"6) \u679a\u4e3e\uff1a","text":"<p>enum\u5de5\u5177\uff1a\u521b\u5efa\u7b26\u53f7\u5e38\u91cf\uff0c\u53ef\u4ee5\u4ee3\u66ffconst \u8bc4\u4ef7\uff1a\u9650\u5236\u4e25\u683c\uff0c\u8303\u56f4\u72ed\u5c0f\uff0c\u4e0d\u592a\u597d\u7528\uff01</p> <p>\u8bbe\u7f6e\u679a\u4e3e\u503c\u7684\u89c4\u5219\uff1a \uff081\uff09\u6307\u5b9a\u503c\u5fc5\u987b\u662f\u6574\u6570\uff1aint / long / long long <pre><code>enum hbx {one=1, two=2, three=3};\n</code></pre> \uff082\uff09\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u9996\u5143\u7d20\u8bbe\u7f6e\u4e3a 0  \uff083\uff09\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u540e\u9762\u6ca1\u6709\u88ab\u521d\u59cb\u5316\u7684\u679a\u4e3e\u91cf\u7684\u503c\u6bd4\u5b83\u7684\u524d\u4e00\u5143\u7d20\u59271 <pre><code>enum hbx_niu {first,second=100,third};\n\u7531(2)\u4e0e(3),\u8fd9\u91cc\u7684first=0\uff0cthird=101\n</code></pre> \uff084\uff09\u53ef\u4ee5\u521b\u5efa\u591a\u4e2a\u503c\u76f8\u540c\u7684\u679a\u4e3e\u91cf\u3010means\uff1a\u5b83\u7684\u5b9e\u73b0\u673a\u7406\u4e0d\u662f\u96c6\u5408\u3011</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#7","title":"7) \u6307\u9488\u548c\u81ea\u7531\u5b58\u50a8\u7a7a\u95f4\uff1a","text":"<p>\uff081\uff09\u6307\u9488\u662f\u4e00\u4e2a\u53d8\u91cf\uff0c\u5176\u5b58\u50a8\u7684\u662f\u503c\u7684\u5730\u5740\uff0c\u800c\u4e0d\u662f\u503c\u672c\u8eab \uff082\uff09\u8fd9\u79cd\u5b58\u50a8\u6570\u636e\u7684\u7b56\u7565\u662f\uff1a\u5c06\u5730\u5740\u89c6\u4e3a\u6307\u5b9a\u91cf\uff0c\u800c\u5c06\u503c\u89c6\u4e3a\u6d3e\u751f\u91cf \uff083\uff09\u8fd0\u7b97\u7b26* \u662f\u201d\u95f4\u63a5\u503c\u201c\uff0c\u4e5f\u53eb\u4f5c\uff1a\u89e3\u5f15\u7528</p> <p>\u53c2\u8003\u4ee3\u7801\uff1a <pre><code>// pointer.cpp -- our first pointer variable\n#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n\u00a0 \u00a0 int updates = 6; \u00a0 \u00a0 \u00a0 \u00a0// declare a variable\n\u00a0 \u00a0 int * p_updates; \u00a0 \u00a0 \u00a0 \u00a0// declare pointer to an int\n\u00a0 \u00a0 p_updates = &amp;updates; \u00a0 // assign address of int to pointer\n// express values two ways\n\u00a0 \u00a0 cout &lt;&lt; \"Values: updates = \" &lt;&lt; updates;\n\u00a0 \u00a0 cout &lt;&lt; \", *p_updates = \" &lt;&lt; *p_updates &lt;&lt; endl;\n// express address two ways\n\u00a0 \u00a0 cout &lt;&lt; \"Addresses: &amp;updates = \" &lt;&lt; &amp;updates;\n\u00a0 \u00a0 cout &lt;&lt; \", p_updates = \" &lt;&lt; p_updates &lt;&lt; endl;\n// use pointer to change value\n\u00a0 \u00a0 *p_updates = *p_updates + 1;\n\u00a0 \u00a0 cout &lt;&lt; \"Now updates = \" &lt;&lt; updates &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre> ![[Pasted image 20230726203248.png]]</p> <p>\uff084\uff09\u58f0\u660e\u548c\u521d\u59cb\u5316\u6307\u9488\uff1a</p> <p>\u30101\u3011\u521d\u59cb\u58f0\u660e\uff1a</p> <p>![[Pasted image 20230726214115.png]]</p> <p>==tips\uff1a\u5bf9\u4e8e\u6bcf\u4e2a\u6307\u9488\u53d8\u91cf\u540d\uff0c\u90fd\u9700\u8981\u4f7f\u7528\u4e00\u4e2a*== <pre><code>int* p1 , p2;    // \u521b\u5efa\u7684\u662f\u6307\u9488p1 \u548c int\u578bp2\n\nreason[\u7cfb\u7edf\u81ea\u52a8\u8bc6\u522b\u8fc7\u7a0b]\uff1a int \u2014\u2014\u2014 *p1 \u2014\u2014\u2014 p2 \n</code></pre></p> <p>\u30102\u3011\u793a\u4f8b\u5c55\u793a\uff1a <pre><code>// init_ptr.cpp -- initialize a pointer\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int higgens = 5;\n\n\u00a0 \u00a0 int * pt = &amp;higgens;    // \u88ab\u521d\u59cb\u5316\u7684\u662f\u6307\u9488pt\uff0c\u800c\u4e0d\u662f\u5b83\u6307\u5411\u7684\u503c\uff01\n\u00a0 \u00a0 cout &lt;&lt; \"Value of higgens = \" &lt;&lt; higgens\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"; Address of higgens = \" &lt;&lt; &amp;higgens &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Value of *pt = \" &lt;&lt; *pt\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \"; Value of pt = \" &lt;&lt; pt &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre></p> <p>\uff085\uff09\u4f7f\u7528new\u6765\u5206\u914d\u5185\u5b58\uff1a</p> <p>\u901a\u7528\u683c\u5f0f\uff1atypename * pointer_name = new typename; eg:    int *i = new int ; ![[Pasted image 20230726214237.png]]</p> <p>\u793a\u4f8b\uff1a <pre><code>// use_new.cpp -- using the new operator\n#include &lt;iostream&gt;\nusing namespace std;\nint main() {\n\u00a0 \u00a0 int nights = 1001;\n\u00a0 \u00a0 \n\u00a0 \u00a0 int * pt = new int; \u00a0 \u00a0 \u00a0 \u00a0 // allocate space for an int\n\u00a0 \u00a0 *pt = 1001; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // store a value there\n\u00a0 \u00a0 cout &lt;&lt; \"nights value = \";\n\u00a0 \u00a0 cout &lt;&lt; nights &lt;&lt; \": location \" &lt;&lt; &amp;nights &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"int \";\n\u00a0 \u00a0 cout &lt;&lt; \"value = \" &lt;&lt; *pt &lt;&lt; \": location = \" &lt;&lt; pt &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 double * pd = new double; \u00a0 // allocate space for a double\n\u00a0 \u00a0 *pd = 10000001.0; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // store a double there\n\n\u00a0 \u00a0 cout &lt;&lt; \"double \";\n\u00a0 \u00a0 cout &lt;&lt; \"value = \" &lt;&lt; *pd &lt;&lt; \": location = \" &lt;&lt; pd &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"location of pointer pd: \" &lt;&lt; &amp;pd &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"size of pt = \" &lt;&lt; sizeof(pt);\n\u00a0 \u00a0 cout &lt;&lt; \": size of *pt = \" &lt;&lt; sizeof(*pt) &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"size of pd = \" &lt;&lt; sizeof pd;\n\u00a0 \u00a0 cout &lt;&lt; \": size of *pd = \" &lt;&lt; sizeof(*pd) &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nnights value = 1001: location 0x61fe14\nint value = 1001: location = 0xfd1640\ndouble value = 1e+07: location = 0xfd1660\nlocation of pointer pd: 0x61fe08\nsize of pt = 8: size of *pt = 4\nsize of pd = 8: size of *pd = 8\n</code></pre> ps\uff1asizeof( p ) \u4e0e sizeof( *p ) \u7684\u533a\u522b\uff1a \u6df1\u5165\u7406\u89e3\u8ba1\u7b97\u673a\u5404\u79cd\u7c7b\u578b\u5927\u5c0f\uff08sizeof\uff09 - DoubleLi - \u535a\u5ba2\u56ed (cnblogs.com)</p> <p>\uff086\uff09\u4f7f\u7528delete\u6765\u91ca\u653e\u5185\u5b58\uff1a</p> <p>\u5b83\u5c06\u5728\u4f7f\u7528\u5b8c\u5185\u5b58\u540e\uff0c\u5c06\u5176\u5f52\u8fd8\u7ed9\u5185\u5b58\u6c60\uff1b\u5f52\u8fd8/\u91ca\u653e\u7684\u5185\u5b58\u53ef\u4f9b\u7a0b\u5e8f\u7684\u5176\u4ed6\u90e8\u5206\u4f7f\u7528 <pre><code>int *ps = new int;\n......\ndelete ps;\n\n!!!\u8fd9\u5c06\u91ca\u653eps\u6307\u5411\u7684\u5185\u5b58\uff0c\u4f46\u4e0d\u4f1a\u5220\u9664\u6307\u9488ps\u672c\u8eab!!!\n\u4f8b\u5982\uff1a\u53ef\u4ee5\u5c06ps\u91cd\u65b0\u6307\u5411\u53e6\u4e00\u4e2a\u65b0\u5206\u914d\u7684\u5185\u5b58\u5757\n</code></pre></p> <p>1\uff09\u6ce8\u610fnew\u4e0edelete\u7684\u4e25\u683c\u914d\u5bf9\uff01 2\uff09\u4e0d\u8981\u521b\u5efa\u4e24\u4e2a\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u5757\u7684\u6307\u9488\uff0c\u56e0\u4e3a\u8fd9\u6837\u6781\u5927\u53ef\u80fd\u4ea7\u751f\"double free\"\u9519\u8bef\uff01</p> <p>\uff087\uff09\u4f7f\u7528new\u6765\u521b\u5efa\u5e76\u4f7f\u7528\u52a8\u6001\u6570\u7ec4\uff1a</p> <p>[1] \u901a\u7528\u683c\u5f0f\uff1atypename * pointer_name = new typename [ num ]  ;</p> <p>[2] \u521b\u5efa\uff1a ![[Pasted image 20230726213109.png]] [3] \u4f7f\u7528: ![[Pasted image 20230726213452.png]] [4]\u793a\u4f8b\uff1a==\u8981\u6ce8\u610f\u6307\u9488+/-\u7684\u542b\u4e49== <pre><code>// arraynew.cpp -- using the new operator for arrays\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 double * p3 = new double [3]; // space for 3 doubles\n\u00a0 \u00a0 p3[0] = 0.2; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// treat p3 like an array name\n\u00a0 \u00a0 p3[1] = 0.5;\n\u00a0 \u00a0 p3[2] = 0.8;\n\n\u00a0 \u00a0 cout &lt;&lt; \"p3[1] is \" &lt;&lt; p3[1] &lt;&lt; \".\\n\";\n\n\u00a0 \u00a0 p3 = p3 + 1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// increment the pointer\n\u00a0 \u00a0 cout &lt;&lt; \"Now p3[0] is \" &lt;&lt; p3[0] &lt;&lt; \" and \";\n\u00a0 \u00a0 cout &lt;&lt; \"p3[1] is \" &lt;&lt; p3[1] &lt;&lt; \".\\n\";\n\n\u00a0 \u00a0 p3 = p3 - 1; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// point back to beginning\n\u00a0 \u00a0 delete [] p3; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // free the memory\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\np3[1] is 0.5.\nNow p3[0] is 0.5 and p3[1] is 0.8.\n</code></pre> ![[Pasted image 20230726213922.png]]</p> <p>[5]\u6307\u9488\u5c0f\u7ed3\uff1a ![[Pasted image 20230726215756.png]] ![[Pasted image 20230726215816.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#8","title":"8) \u6307\u9488\u3001\u6570\u7ec4\u3001\u6307\u9488\u8fd0\u7b97\uff1a","text":"<p>(1)\u6307\u9488\u4e0e\u5b57\u7b26\u4e32\uff1a ![[Pasted image 20230726220411.png]] ==char \u6570\u7ec4\u540d\u3001char\u6307\u9488\u3001\"str......\"\u90fd\u88ab\u89e3\u91ca\u4e3a\uff1astr\u7b2c\u4e00\u4e2a\u5b57\u7b26\u7684\u5730\u5740==</p> <pre><code>// ptrstr.cpp -- using pointers to strings\n#include &lt;iostream&gt;\n#include &lt;cstring&gt; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// declare strlen(), strcpy()\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 char animal[20] = \"bear\"; \u00a0 // animal holds bear\n\u00a0 \u00a0 const char * bird = \"wren\"; // bird holds address of string\n\u00a0 \u00a0 char * ps; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// uninitialized\n\n1)  char\u5b57\u7b26\u4e32\u7684\u8f93\u51fa\u53ea\u9700\u8981\u6570\u7ec4\u540d\uff1a\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; animal &lt;&lt; \" and \"; \u00a0// display bear[\u901a\u8fc7\u6570\u7ec4\u540d\u8f93\u51fa\u6574\u4f53str]\n\u00a0 \u00a0 cout &lt;&lt; bird &lt;&lt; \"\\n\"; \u00a0 \u00a0 \u00a0 // display wren[\u901a\u8fc7\u6570\u7ec4\u540d\u8f93\u51fa\u6574\u4f53str]\n\n2)  \u901a\u8fc7\u5730\u5740\u94fe\u63a5\uff1a\n\n\u00a0 \u00a0 cout &lt;&lt; \"Enter a kind of animal: \";\n\u00a0 \u00a0 cin &gt;&gt; animal; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// ok if input &lt; 20 chars\n\u00a0 \u00a0 ps = animal; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0---------!!! set ps to point to string\n\u00a0 \u00a0 cout &lt;&lt; ps &lt;&lt; \"!\\n\"; \u00a0 \u00a0 \u00a0 // ok, same as using animal\n\u00a0 \u00a0 cout &lt;&lt; \"Before using strcpy():\\n\";\n\u00a0 \u00a0 cout &lt;&lt; animal &lt;&lt; \" at \" &lt;&lt; (int *) animal &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; ps &lt;&lt; \" at \" &lt;&lt; (int *) ps &lt;&lt; endl;\n\u00a0 \u00a0 \n3\uff09 \u6307\u9488\u6307\u5411\u5185\u5b58\u91cd\u8986\u76d6\uff1a\n\u00a0 \u00a0 ps = new char[strlen(animal) + 1]; \u00a0// get new storage\n\u00a0 \u00a0 strcpy(ps, animal); \u00a0 \u00a0 \u00a0 \u00a0 // copy string to new storage\n\u00a0 \u00a0 cout &lt;&lt; \"After using strcpy():\\n\";\n\u00a0 \u00a0 cout &lt;&lt; animal &lt;&lt; \" at \" &lt;&lt; (int *) animal &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; ps &lt;&lt; \" at \" &lt;&lt; (int *) ps &lt;&lt; endl;\n\n\u00a0 \u00a0 delete [] ps;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nbear and wren\nEnter a kind of animal: hbx\nhbx!\nBefore using strcpy():\nhbx at 0x61fdf0\nhbx at 0x61fdf0\nAfter using strcpy():\nhbx at 0x61fdf0\nhbx at 0xea1630\n</code></pre> <p>==\u7a0b\u5e8f\u8bf4\u660e\uff1a 1\uff09\u4e00\u822c\u6765\u8bf4\uff0c\u7ed9cout\u63d0\u4f9b\u4e00\u4e2a\u6307\u9488\uff0c\u5b83\u5c06\u6253\u5370\u5730\u5740 2\uff09\u4f46\u662f\u5982\u679c\u6307\u9488\u7c7b\u578b\u662f char \uff0c\u5219cout\u5c06\u663e\u793a\u6307\u5411\u7684\u5b57\u7b26\u4e32 [\u8bc6\u522b\u5b83\u4e3a\u6570\u7ec4\u540d] 3\uff09\u5982\u679c\u8981\u663e\u793a\u5b57\u7b26\u4e32\u5730\u5740\uff0c\u5fc5\u987b\u8fdb\u884c\u5f3a\u5236\u8f6c\u6362\uff01eg:    (int) ps 4\uff09\u5c06animal\u8d4b\u7ed9ps\u53ea\u662f\u590d\u5236\u5730\u5740\uff0c\u8fd9\u4e24\u4e2a\u6307\u9488\u6307\u5411\u76f8\u540c\u7684\u5185\u5b58\u5355\u5143[\u88c5\u6709str]\uff1b\u800c\u4e0d\u662f\u590d\u5236\u5b57\u7b26\u4e32==</p> <p>\u5b57\u7b26\u4e32\u51fd\u6570strcpy(... , ... , ...) \u7684\u4f7f\u7528\u7b80\u4ecb\uff1a ![[Pasted image 20230726222806.png]] ![[Pasted image 20230726222938.png]]</p> <p>\uff082\uff09\u4f7f\u7528new\u521b\u5efa\u52a8\u6001\u7ed3\u6784\uff1a \u8bbf\u95ee\u65b9\u6cd5\uff1a</p> <p>1\uff09p-&gt;member ![[Pasted image 20230726223453.png]] 2\uff09(*p).member</p> <p>![[Pasted image 20230726223610.png]] <pre><code>// newstrct.cpp -- using new with a structure\n#include &lt;iostream&gt;\nusing namespace std;\nstruct inflatable { \u00a0 // structure definition\n\u00a0 \u00a0 char name[20];\n\u00a0 \u00a0 float volume;\n\u00a0 \u00a0 double price;\n};\n\nint main()\n{\n\u00a0 \u00a0 inflatable * ps = new inflatable; // allot memory for structure\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"Enter name of inflatable item: \";\n\u00a0 \u00a0 cin.get(ps-&gt;name, 20); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// method 1 for member access\n\u00a0 \u00a0 cout &lt;&lt; \"Enter volume in cubic feet: \";\n\n\u00a0 \u00a0 cin &gt;&gt; (*ps).volume; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// method 2 for member access\n\u00a0 \u00a0 cout &lt;&lt; \"Enter price: $\";\n\n\u00a0 \u00a0 cin &gt;&gt; ps-&gt;price;\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"Name: \" &lt;&lt; (*ps).name &lt;&lt; endl; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// method 2\n\u00a0 \u00a0 cout &lt;&lt; \"Volume: \" &lt;&lt; ps-&gt;volume &lt;&lt; \" cubic feet\\n\"; // method 1\n\u00a0 \u00a0 cout &lt;&lt; \"Price: $\" &lt;&lt; ps-&gt;price &lt;&lt; endl; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // method 1\n\n\u00a0 \u00a0 delete ps; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// free memory used by structure\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/#9","title":"9\uff09\u7c7b\u578b\u7ec4\u5408\u5b9e\u8df5\uff1a","text":"<pre><code>// mixtypes.cpp --some type combinations\n#include &lt;iostream&gt;\nstruct antarctica_years_end {\n\u00a0 \u00a0 int year;\n};\n\nint main()\n{\n    //1)\u521b\u5efa\u7ed3\u6784\u4f53\u7c7b\u578b\u53d8\u91cf\uff1a\n\u00a0 \u00a0 antarctica_years_end s01, s02, s03;\n\u00a0 \u00a0 //2)\u91c7\u7528\u6210\u5458\u8fd0\u7b97\u7b26\u8bbf\u95ee\u6210\u5458\uff1a\n\u00a0 \u00a0 s01.year = 1998;\n\u00a0 \u00a0 //3)\u521b\u5efa\u6307\u5411\u8fd9\u79cd\u7c7b\u578b\u7684\u6307\u9488\uff1a\n\u00a0 \u00a0 antarctica_years_end * pa = &amp;s02;\n\u00a0 \u00a0 //4)\u6307\u9488\u8bbe\u7f6e\u4e3a\u6709\u6548\u5730\u5740\u540e\uff0c\u89e3\u5f15\u7528\u8bbf\u95ee\u6210\u5458\n\u00a0 \u00a0 pa-&gt;year = 1999;\n\u00a0 \u00a0 \n\u00a0 \u00a0 //5)\u521b\u5efa\u7ed3\u6784\u4f53\u6570\u7ec4\uff1a\n\u00a0 \u00a0 antarctica_years_end trio[3]; // array of 3 structures\n\u00a0 \u00a0 trio[0].year = 2003;\n\u00a0 \u00a0 std::cout &lt;&lt; trio-&gt;year &lt;&lt; std::endl; // \u6570\u7ec4\u540d=&gt;\u9996\u5730\u5740=&gt;trio[0]\u7684\u503c\n\u00a0 \u00a0 //\u9700\u8981\u6ce8\u610f\u7684\u662f\uff1a\u6570\u7ec4\u540d\u672c\u8eab\u5c31\u662f\u4e00\u4e2a\u6307\u9488\uff01\uff01\uff01\uff01\uff01\uff01\n\u00a0 \u00a0 //\u540c\u7406\uff1atrio[1].year = 2004   =&gt;  (trio+1)-&gt;year = 2004\n\u00a0 \u00a0 \n\u00a0 \u00a0 //6)\u5143\u7d20\u4e3a\u6307\u9488\u7684\u6570\u7ec4 + \u6307\u5411\u6307\u9488\u7684\u6307\u9488\n\u00a0 \u00a0 const antarctica_years_end * arp[3] = {&amp;s01, &amp;s02, &amp;s03};//\u5185\u542b\u4e09\u4e2a\u6307\u9488\u7684\u6570\u7ec4\n\u00a0 \u00a0 std::cout &lt;&lt; arp[1]-&gt;year &lt;&lt; std::endl;   //\u5bf9\u5e94\uff1as02\u6307\u9488\u6240\u6307\u5411\u7684\u5185\u5b58\u4e2d\u7684\u67d0\u6210\u5458\n\n\u00a0 \u00a0 const antarctica_years_end ** ppa = arp;  //\u521b\u5efa\u6307\u5411\u4e0a\u6570\u7ec4\u7684\u6307\u9488\n\u00a0 \u00a0 //arp\u662f\u4e00\u4e2a\u6570\u7ec4\u7684\u540d\u79f0\uff0c\u56e0\u6b64\u5b83\u662f\u9996\u5143\u7d20\u7684\u5730\u5740\uff0c\u56e0\u6b64ppa\u662f\u4e00\u4e2a\u6307\u9488\uff0c\u6307\u5411\u7684\u662f\uff1a\u4e00\u4e2a\u6307\u5411antarctica_years_end\u7684\u6307\u9488\n\u00a0 \u00a0 auto ppb = arp; // C++0x automatic type deduction\n// or else use const antarctica_years_end ** ppb = arp;\n    //7)ppa\u662f\u6307\u5411\u6307\u9488\u7684\u6307\u9488\uff0c\u56e0\u6b64*ppa\u662f\u4e00\u4e2a\u7ed3\u6784\u6307\u9488\n\u00a0 \u00a0 std::cout &lt;&lt; (*ppa)-&gt;year &lt;&lt; std::endl;//\u56e0\u6b64(*ppa)-&gt;year\u662fs01\u7684\u6210\u5458\n\u00a0 \u00a0 std::cout &lt;&lt; (*(ppb+1))-&gt;year &lt;&lt; std::endl;\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\n2003\n1999\n1998\n1999\n</code></pre>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/","title":"Chapter5\u5faa\u73af\u4e0e\u5173\u7cfb\u8868\u8fbe\u5f0f","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#1for","title":"1\uff09for \u5faa\u73af\uff1a","text":"<p>\uff081\uff09\u7ec4\u6210\u90e8\u5206\uff1a <pre><code>for(initialization; test-expression ; update-expression)\n{\n    body...\n}\n</code></pre></p> <p>\uff082\uff09\u8bbe\u7f6e\u6b65\u9aa4\uff1a</p> <p>[1]\u8bbe\u7f6e\u521d\u59cb\u503c [2]\u6267\u884c\u6d4b\u8bd5\uff0c\u8003\u5bdf\u5faa\u73af\u662f\u5426\u53ef\u4ee5\u7ee7\u7eed\u6267\u884c [3]\u6267\u884c\u5faa\u73af [4]\u66f4\u65b0\u7528\u4e8e\u6d4b\u8bd5\u7684\u503c</p> <p>\uff083\uff09\u8981\u70b9\u8bf4\u660e\uff1a</p> <p>[1]test-expression\u51b3\u5b9a\u5faa\u73af\u4f53\u662f\u5426\u88ab\u6267\u884c\uff0c\u8fd9\u4e2a\u8868\u8fbe\u5f0f\u662f\u5173\u7cfb\u8868\u8fbe\u5f0f\uff0c\u503c\u4e3a0\u7684\u8868\u8fbe\u5f0f\u88ab\u8f6c\u5316\u6210bool\u503cfalse\uff0c\u5bfc\u81f4\u5faa\u73af\u7ed3\u675f\uff1b\u53cd\u4e4b\u7ee7\u7eed\uff01 <pre><code>eg\uff1afor ( int i = limit ; i ; i-- )   // \u5f53 i \u51cf\u4e3a 0 \u65f6\u9000\u51fa\u5faa\u73af\n</code></pre></p> <p>[2]update-expression\u5728\u6bcf\u8f6e\u5faa\u73af\u7ed3\u675f\u65f6\u6267\u884c\uff0c\u6b64\u65f6\u5faa\u73af\u4f53\u5df2\u7ecf\u6267\u884c\u5b8c\u6bd5 <pre><code>eg: for( int i = 1 ; i &lt;= 100 ; i += 2 )  // \u6bcf\u6b21 + 2\neg: for( int i = 0 ; i &lt;= 1000 ; i = i*i + 3 )\n</code></pre></p> <p>[3]\u81ea\u589e\u81ea\u51cf\u8868\u8fbe\u5f0f\uff1a x++:  \u4f7f\u7528x\u7684\u5f53\u524d\u503c\u8ba1\u7b97\u8868\u8fbe\u5f0f\uff0c\u7136\u540e\u5c06x\u7684\u503c+1 ++x:  \u5148\u5c06x\u7684\u503c+1\uff0c\u7136\u540e\u7528\u65b0\u7684\u503c\u8ba1\u7b97\u8868\u8fbe\u5f0f x--:    \u540c\u4e0a --x:    \u540c\u4e0a</p> <p>[4]\u524d/\u540e\u7f00\u683c\u5f0f\u5728for\u5faa\u73af\u4e2d\u7684\u5f02\u540c\uff1a <pre><code>\u4e0b\u9762\u4e8c\u8005\u76f8\u540c [reason\uff1a\u4e0d\u7ba1\u662f--n\u8fd8\u662fn--\uff0c\u5b83\u4eec\u90fd\u5c06\u5728\u7a0b\u5e8f\u8fdb\u5165\u4e0b\u4e00\u6b65\u4e4b\u524d\u5b8c\u6210\uff0c\u7ec8\u6548\u679c\u76f8\u540c]\n    for(int n=lim;n;--n){......}    // \u524d\u7f00\u7684\u6548\u7387\u66f4\u9ad8\n\n    for(int n=lim;n;n--){......}    // \u540e\u7f00\u7684\u6548\u7387\u76f8\u5bf9\u4f4e\n</code></pre></p> <p>\uff084\uff09\u5de5\u5177\uff1a</p> <p>1\uff09\u9012\u589e/\u9012\u51cf\u8fd0\u7b97\u7b26 \u4e0e \u6307\u9488\uff1a [1]\u524d\u7f00 \u9012\u589e/\u9012\u51cf and \u89e3\u5f15\u7528 \u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u5229\u7528\u81ea\u53f3\u5411\u5de6\u7684\u65b9\u5f0f\u7ed3\u5408 [2]\u540e\u7f00 \u9012\u589e/\u9012\u51cf \u4f18\u5148\u7ea7\u76f8\u540c\uff0c\u4f46\u6bd4\u524d\u7f00\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u9ad8\uff0c\u8fd9\u4e24\u4e2a\u8fd0\u7b97\u7b26\u5229\u7528\u81ea\u5de6\u5411\u53f3\u7684\u65b9\u5f0f\u7ed3\u5408 ![[Pasted image 20230727092754.png]] ![[Pasted image 20230727092811.png]]</p> <p>2\uff09\u9017\u53f7\u8868\u8fbe\u5f0f\uff1a [1]\u5e38\u89c1\u5e94\u7528\uff1a\u5141\u8bb8\u628a\u4e24\u4e2a\u8868\u8fbe\u5f0f\u653e\u5230\u201c\u53ea\u5141\u8bb8\u653e\u4e00\u4e2a\u8868\u8fbe\u5f0f\u201d\u7684\u5730\u65b9 <pre><code>for(int j = 0,i = word.size() - 1 ; j &lt; i ; --i,++j)\n{\n    ......\n}\n</code></pre></p> <p>[2]\u81ea\u8eab\u6027\u8d28\uff1a \uff081\uff09\u5b83\u5148\u8ba1\u7b97\u7b2c\u4e00\u4e2a\u8868\u8fbe\u5f0f\uff0c\u800c\u540e\u8ba1\u7b97\u7b2c\u4e8c\u4e2a\u8868\u8fbe\u5f0f <pre><code>i = 20 , j = 2 * i;    // i set to 20 , then j ste to 40\n</code></pre></p> <p>\uff082\uff09\u9017\u53f7\u8868\u8fbe\u5f0f\u7684\u503c\u662f\u7b2c\u4e8c\u90e8\u5206\u7684\u503c \u6bd4\u5982\u4e0a\u8ff0\u8868\u8fbe\u5f0f\u6574\u4f53\u7684\u503c\u662f40  ( \u56e0\u4e3a \" , \" \u540e\u9762\u90e8\u5206\u7684\u503c\u662f40 )</p> <p>\uff083\uff09\u5728\u6240\u6709\u8fd0\u7b97\u7b26\u4e2d\uff0c\u9017\u53f7\u8fd0\u7b97\u7b26\u7684\u4f18\u5148\u7ea7\u662f\u6700\u4f4e\u7684 <pre><code>eg1:    cats = 17 , 240;\n\u88ab\u89e3\u91ca\u4e3a\uff1a(cats=17),240;    \u5c06cats\u8bbe\u7f6e\u621017, 240\u4e0d\u8d77\u4f5c\u7528\uff01\n\neg2:    cats = (17 , 240);\n\u56e0\u4e3a\u62ec\u53f7\u7684\u4f18\u5148\u7ea7\u6700\u9ad8\uff0c\u6267\u884c\u987a\u5e8f\u662f\uff1a\n\uff081\uff09\u62ec\u53f7\u5185\u90e8\uff1a17,240    \u5f97\u51fa\u503c\u662f240\n\uff082\uff09240\u8fd4\u56de\u7ed9\u62ec\u53f7\n\uff083\uff09\u62ec\u53f7\u901a\u8fc7'='\u5411\u5de6\u8d4b\u503c\u7ed9cats\n\u6700\u7ec8\uff1a\u5c06cats\u8bbe\u7f6e\u6210 240\uff01\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#2while","title":"2\uff09while \u5faa\u73af\uff1a","text":"<p>\uff081\uff09\u901a\u7528\u683c\u5f0f\uff1a <pre><code>while(test-condition)\n{\n    body...\n}\n</code></pre></p> <p>\uff082\uff09\u6267\u884c\u539f\u7406\uff1a ![[Pasted image 20230727094642.png]]</p> <p>\uff083\uff09\u8bbe\u7f6e\u7c7b\u578b\u522b\u540d\uff1a \u65b9\u6cd51\uff1a\u901a\u8fc7\u9884\u5904\u7406\u5668 <pre><code>#define BYTE char\n//\u9884\u5904\u7406\u5668\u5728\u7f16\u8bd1\u7a0b\u5e8f\u65f6\u7528char\u66ff\u6362\u6240\u6709\u7684BYTE\uff0c\u4ece\u800c\u4f7fBYTE\u6210\u4e3achar\u7684\u522b\u540d\n</code></pre></p> <p>\u65b9\u6cd52\uff1a\u4f7f\u7528c++\u5173\u952e\u5b57 typedef \u521b\u5efa\u522b\u540d <pre><code>typedef char BYTE;\n//\u4f7f BYTE \u6210\u4e3a char \u7684\u522b\u540d\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#3do-while","title":"3\uff09do-while \u5faa\u73af\uff1a","text":"<p>\u901a\u7528\u683c\u5f0f\uff1a <pre><code>do\n{\n    ......\n} while(test-expression)p;\n</code></pre> \u6267\u884c\u539f\u7406\uff1a ![[Pasted image 20230727095957.png]]</p> <p>![[Pasted image 20230727100011.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#4-for","title":"4\uff09\u57fa\u4e8e\u8303\u56f4\u7684 for \u5faa\u73af\uff1a","text":"<p>![[Pasted image 20230727100318.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#5","title":"5\uff09\u5faa\u73af\u4e0e\u6587\u672c\u8f93\u5165\uff1a","text":"<p>\uff081\uff09cin \u4e0e cin.get(ch) :</p> <p>[1]\u63d0\u51fa\u95ee\u9898\uff1a <pre><code>// textin1.cpp -- reading chars with a while loop\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 char ch;\n\u00a0 \u00a0 int count = 0; \u00a0 \u00a0 \u00a0// use basic input\n\u00a0 \u00a0 cout &lt;&lt; \"Enter characters; enter # to quit:\\n\";\n\u00a0 \u00a0 cin &gt;&gt; ch; \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// get a character\n\u00a0 \u00a0 while (ch != '#') \u00a0 // test the character\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; ch; \u00a0 \u00a0 // echo the character\n\u00a0 \u00a0 \u00a0 \u00a0 ++count; \u00a0 \u00a0 \u00a0 \u00a0// count the character\n\u00a0 \u00a0 \u00a0 \u00a0 cin &gt;&gt; ch; \u00a0 \u00a0 \u00a0// get the next character\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; endl &lt;&lt; count &lt;&lt; \" characters read\\n\";\n\u00a0 \u00a0 return 0;\n}\n</code></pre> ![[Pasted image 20230727103027.png]] ![[Pasted image 20230727103043.png]]</p> <p>[2]\u6539\u8fdb\u65b9\u6cd5\uff0c\u5e76\u63d0\u51fa\u4f7f\u7528cin.get(ch)\u89e3\u51b3\u95ee\u9898\uff1a</p> <p>\u65b9\u6cd5\uff1a <pre><code>char ch;       //  \u4e0d\u53ef\u4ee5\u7701\u7565\uff0c\u5426\u5219\u5c31\u662f\u672a\u5b9a\u4e49\u53d8\u91cfch\ncin.get(ch);   //  \u8bfb\u53d6\u8f93\u5165\u4e2d\u7684\u4e0b\u4e00\u4e2a\u5b57\u7b26(\u5373\u4f7f\u5b83\u662f\u7a7a\u683c)\uff0c\u7136\u540e\u5c06\u5176\u8d4b\u7ed9ch\n</code></pre> \u4f8b\u8bc1\uff1a <pre><code>// textin2.cpp -- using cin.get(char)\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 char ch;\n\u00a0 \u00a0 int count = 0;\n\u00a0 \u00a0 cout &lt;&lt; \"Enter characters; enter # to quit:\\n\";\n\n\u00a0 \u00a0 cin.get(ch); \u00a0 \u00a0 \u00a0 \u00a0// use the cin.get(ch) function\n\u00a0 \u00a0 while (ch != '#')\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; ch;\n\u00a0 \u00a0 \u00a0 \u00a0 ++count;\n\u00a0 \u00a0 \u00a0 \u00a0 cin.get(ch); \u00a0 \u00a0// use it again\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; endl &lt;&lt; count &lt;&lt; \" characters read\\n\";\n\u00a0 \u00a0 return 0;\n}\n</code></pre></p> <p>\uff082\uff09\u6587\u4ef6\u5c3e\uff08EOF\uff09\u6761\u4ef6\uff1a</p> <p>\u539f\u7406\uff1a\u5982\u679c\u68c0\u6d4b\u5230\u6587\u4ef6\u5c3e\u7684EOF\uff0cfail( )\u6210\u5458\u51fd\u6570\u8fd4\u56detrue\uff1b\u5426\u5219\u8fd4\u56defalse\uff01 <pre><code>// textin3.cpp -- reading chars to end of file\n#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n\u00a0 \u00a0 char ch;\n\u00a0 \u00a0 int count = 0;\n\u00a0 \u00a0 cin.get(ch); \u00a0 \u00a0 \u00a0 \u00a0// attempt to read a char\n\u00a0 \u00a0 while (cin.fail() == false) \u00a0// test for EOF\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; ch; \u00a0 \u00a0 // echo character\n\u00a0 \u00a0 \u00a0 \u00a0 ++count;\n\u00a0 \u00a0 \u00a0 \u00a0 cin.get(ch); \u00a0 \u00a0// attempt to read another char\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; endl &lt;&lt; count &lt;&lt; \" characters read\\n\";\n\u00a0 \u00a0 return 0;\n}\n</code></pre> ps\uff1a windows\u7cfb\u7edf\u4e0a\u4ee5ctrl+Z\u6a21\u62dfEOF\u6761\u4ef6</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/#6","title":"6\uff09\u4e8c\u7ef4\u6570\u7ec4\u4e0e\u5d4c\u5957\u5faa\u73af\uff1a","text":"<p>\u8fc7\u4e8e\u7b80\u5355\uff0c\u7565\u4e4b\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/","title":"Chapter6\u5206\u652f\u8bed\u53e5\u4e0e\u903b\u8f91\u8fd0\u7b97\u7b26","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/#0if-if_else","title":"\uff080\uff09if / if_else \u8bed\u53e5\uff1a","text":"<p>\u7565 </p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/#1","title":"\uff081\uff09\u903b\u8f91\u8fd0\u7b97\u7b26\uff08&amp;&amp;\u3001|| \u3001!\uff09:","text":"<p>\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/#2switchcontinuebreak","title":"\uff082\uff09switch\u8bed\u53e5\u3001continue/break\u8bed\u53e5:","text":"<p>\u7565</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/#3","title":"\uff083\uff09\u6761\u4ef6\u8fd0\u7b97\u7b26\uff08?  :  \uff09:","text":"<p>\u4e09\u76ee\u8fd0\u7b97\u7b26\u89e3\u6790\uff1ac = a&gt;b ? a : b <pre><code>\u7b49\u4ef7\u4e8e\uff1a\nint c; \nif(a&gt;b) c = a;\nelse c = b;\n</code></pre></p> <p>\u901a\u7528\u683c\u5f0f\uff1aexp1 ? value1 : value2; <pre><code>eg: int c = 5&gt;3 ? 10 : 90;    // c = 10\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/#4","title":"(4)\u7b80\u5355\u6587\u672c\u8f93\u5165/\u8f93\u51fa\uff1a","text":"<p>\u653e\u5728\u540e\u9762\u5355\u72ec\u89e3\u51b3\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter7%E5%87%BD%E6%95%B0-c%2B%2B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9D%97/","title":"Chapter7\u51fd\u6570 c++\u7684\u7f16\u7a0b\u6a21\u5757","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter7%E5%87%BD%E6%95%B0-c%2B%2B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9D%97/#1","title":"\uff081\uff09\u57fa\u672c\u77e5\u8bc6\uff1a","text":"<p>\u7565\u4e4b\uff01</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter7%E5%87%BD%E6%95%B0-c%2B%2B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9D%97/#2","title":"\uff082\uff09\u51fd\u6570\u6307\u9488\uff1a","text":"<p>\u8fd9\u91cc\u53ea\u4ecb\u7ecd\u57fa\u7840\u77e5\u8bc6\uff0c\u9ad8\u7ea7\u77e5\u8bc6\u73b0\u5728\u6ca1\u6cd5\u7406\u89e3\uff01 [1]\u5f15\u5165; ![[Pasted image 20230727113331.png]]</p> <p>[2]\u57fa\u7840\u77e5\u8bc6\uff1a \uff081\uff09\u8981\u70b9\uff1a\u83b7\u53d6\u51fd\u6570\u7684\u5730\u5740 + \u58f0\u660e\u4e00\u4e2a\u51fd\u6570\u6307\u9488 + \u4f7f\u7528\u51fd\u6570\u6307\u9488\u8c03\u7528\u51fd\u6570</p> <p>\uff082\uff09\u83b7\u53d6\u51fd\u6570\u7684\u5730\u5740\uff1a</p> <p>\u65b9\u6cd5\uff1a\u53ea\u9700\u8981\u4f7f\u7528\u51fd\u6570\u540d\uff08\u540e\u9762\u4e0d\u8ddf\u53c2\u6570\uff09\u5373\u53ef eg\uff1a\u5982\u679cthink()\u662f\u4e00\u4e2a\u51fd\u6570\uff0c\u5219think\u5c31\u662f\u51fd\u6570\u5730\u5740 ==\u8981\u5c06\u51fd\u6570\u4f5c\u4e3a\u53c2\u6570\u8fdb\u884c\u4f20\u9012\uff0c\u5fc5\u987b\u4f20\u9012\u51fd\u6570\u540d\uff01==</p> <p>\u6ce8\u610f\u533a\u5206\u4f20\u9012\u7684\u662f \u51fd\u6570\u7684\u5730\u5740 \u8fd8\u662f \u51fd\u6570\u7684\u8fd4\u56de\u503c \uff01 <pre><code>\u5df2\u6709\u51fd\u6570think():\n[1] process( think )    // process()\u51fd\u6570\u80fd\u5728\u5185\u90e8\u8c03\u7528think()\u51fd\u6570\n\n[2] thought( think() )  // thought()\u9996\u5148\u8c03\u7528think()\u51fd\u6570\uff0c\u7136\u540e\u5c06think()\u8fd4\u56de\u503c\u4f20\u9012\u7ed9                              thought()\u51fd\u6570\n</code></pre></p> <p>\uff083\uff09\u58f0\u660e\u51fd\u6570\u6307\u9488\uff1a \u58f0\u660e\u5e94\u5f53\u6307\u5b9a\uff1a\u51fd\u6570\u7684\u8fd4\u56de\u7c7b\u578b + \u51fd\u6570\u7684\u53c2\u6570\u5217\u8868 <pre><code>\uff081\uff09\u5df2\u6709\u51fd\u6570\uff1a double pam(int);\n\uff082\uff09\u5efa\u7acb\u6b63\u786e\u7684\u51fd\u6570\u6307\u9488\u58f0\u660e\uff1a\n    double (*pf)(int);\n    //1)  (*pf)\u4e0e\u51fd\u6570\u540d\u7b49\u4ef7\uff0cpf\u662f\u6307\u5411pam\u51fd\u6570\u7684\u6307\u9488\n    //2)  \u6307\u9488pf\u6307\u5411\u7684\u51fd\u6570pam\u7684\u53c2\u6570\u7c7b\u578b\u662fint\uff0c\u8fd4\u56de\u503c\u662fdouble  \n\uff083\uff09\u6b63\u786e\u58f0\u660epf\u4e4b\u540e\uff0c\u53ef\u4ee5\u5c06\u76f8\u5e94\u7684\u51fd\u6570\u5730\u5740\u8d4b\u7ed9\u5b83\uff1a\n    double pam(int);\n    double (*pf)(int);\n    pf = pam;         // pf now points to the pam() function\n\n\uff084\uff09\u4f7f\u7528\u8fc7\u7a0b\uff1a\n    void estimate( int lines , double (*pf)(int) ) {...}\n    ......\n    estimete(666,pam);   // function call telling estimate() to use pam()\n</code></pre> ps: 1) \u7c7b\u578b\u5fc5\u987b\u5b8c\u5168\u4e00\u4e00\u5bf9\u5e94\uff01    2) \u7531\u4e8e\u8fd0\u7b97\u7b26\u4f18\u5148\u7ea7\uff0c*pf\u5916\u9762\u7684( )\u4e0d\u53ef\u4ee5\u7701\u7565\uff01</p> <p>\uff084\uff09\u4f7f\u7528\u6307\u9488\u8c03\u7528\u51fd\u6570\uff1a <pre><code>double pam(int);\ndouble (*pf)(int);\npf = pam;\n...\ndouble x = pam(4);\ndouble y = (*pf)(7);\n</code></pre></p> <p>ps: ![[Pasted image 20230727115822.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/","title":"Chapter8\u51fd\u6570\u63a2\u5e7d(\u4e0a)","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#1","title":"1\uff09\u5185\u8054\u51fd\u6570\u7684\u5b9a\u4e49\u4e0e\u521b\u4f5c\u76ee\u7684\uff1a","text":"<p>\uff081\uff09\u57fa\u672c\u6982\u5ff5\uff1a ![[Pasted image 20230728093518.png]]</p> <p>\uff082\uff09\u56fe\u89e3\uff1a ![[Pasted image 20230728093541.png]]</p> <p>\uff083\uff09\u901a\u7528\u683c\u5f0f\uff1a\u4e0b\u9762\u4e8c\u9009\u4e00\u5373\u53ef <pre><code>\uff081\uff09\u51fd\u6570\u58f0\u660e\u524d\u52a0\u4e0a \u5173\u952e\u5b57 inline;\n\uff082\uff09\u51fd\u6570\u5b9a\u4e49\u524d\u52a0\u4e0a \u5173\u952e\u5b57 inline;\n</code></pre></p> <p>ps:  \u51fd\u6570\u8fc7\u5927or\u9700\u8981\u51fd\u6570\u9012\u5f52\u65f6\uff0c\u4e0d\u80fd\u5c06\u5176\u4f5c\u4e3a\u5185\u8054\u51fd\u6570\uff08reason: \u5185\u8054\u51fd\u6570\u4e0d\u80fd\u9012\u5f52\uff01\uff09</p> <p>\uff084\uff09\u4ee3\u7801\u6f14\u793a\uff1a <pre><code>// inline.cpp -- using an inline function\n\n#include &lt;iostream&gt;\nusing namespace std;\ninline double square(double x) { return x * x; }  // an inline function definition\nint main()\n{\n\u00a0 \u00a0 double a, b;\n\u00a0 \u00a0 double c = 13.0;\n\u00a0 \u00a0 \n\u00a0 \u00a0 a = square(5.0);\n\u00a0 \u00a0 b = square(4.5 + 7.5); \u00a0 // can pass expressions\n\n    cout &lt;&lt; \"a = \" &lt;&lt; a &lt;&lt; \", b = \" &lt;&lt; b &lt;&lt; \"\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"c = \" &lt;&lt; c;\n\u00a0 \u00a0 cout &lt;&lt; \", c squared = \" &lt;&lt; square(c++) &lt;&lt; \"\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Now c = \" &lt;&lt; c &lt;&lt; \"\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0; \u00a0\n}\n\n\u7ed3\u679c\uff1a\na = 25, b = 144\nc = 13, c squared = 169\nNow c = 14\n</code></pre></p> <p>\uff081\uff09\u5185\u8054\u51fd\u6570\u4e0e\u5e38\u89c4\u51fd\u6570\u4e00\u6837\uff0c\u6309\u503c\u4f20\u9012\u53c2\u6570 \uff082\uff09\u5982\u679c\u53c2\u6570\u4e3a\u8868\u8fbe\u5f0f\uff0c\u5219\u4f20\u9012\u8868\u8fbe\u5f0f\u7684\u503c \uff083\uff09\u6ce8\u610f\u8fd9\u4e00\u6b65\uff1ab = square(4.5 + 7.5); \u00a0 // can pass expressions \u53ef\u4ee5\u7ed9square()\u4f20\u9012int\u6216long\u503c\uff0c\u5c06\u503c\u4f20\u9012\u7ed9\u51fd\u6570\u524d\uff0c\u7a0b\u5e8f\u5c06\u81ea\u52a8\u628a\u8fd9\u4e2a\u503c\u5f3a\u5236\u8f6c\u6362double\u7c7b\u578b!</p> <p>\uff085\uff09\u62d3\u5c55\uff1a\u5185\u8054\u4e0e\u5b8f</p> <p>\u5185\u8054\u51fd\u6570\u6309\u503c\u4f20\u9012; \u5b8f\u662f\u901a\u8fc7\u6587\u672c\u66ff\u6362\u5b9e\u73b0\u7684\uff0c\u4e0d\u80fd\u6309\u503c\u4f20\u9012\uff1b <pre><code>\u5b8f\u5b9a\u4e49\uff1a\n#define square(x) x*x\n</code></pre> ![[Pasted image 20230728100214.png]] ![[Pasted image 20230728100233.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#2","title":"2\uff09\u5f15\u7528\u53d8\u91cf\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#1_1","title":"\uff081\uff09\u521b\u5efa\u5f15\u7528\u53d8\u91cf\uff1a","text":"<p>[1]\u5f15\u7528\u53d8\u91cf\u7684\u4e3b\u8981\u7528\u9014\u662f\u4f5c\u4e3a\u51fd\u6570\u7684\u5f62\u53c2\uff1b\u901a\u8fc7\u5c06\u5f15\u7528\u53d8\u91cf\u7528\u4f5c\u53c2\u6570\uff0c\u51fd\u6570\u5c06\u4f7f\u7528\u5176\u539f\u59cb\u6570\u636e\uff0c\u800c\u4e0d\u662f\u5176\u526f\u672c</p> <p>[2]\u5982\u4f55\u521b\u5efa\u5f15\u7528\u53d8\u91cf\uff1a <pre><code>int rats;\nint &amp; rodents = rats;\n\n&amp;\u4e0d\u662f\u5730\u5740\u8fd0\u7b97\u7b26\uff0c\u800c\u662f\u7c7b\u578b\u6807\u5fd7\u7b26\u7684\u4e00\u90e8\u5206\uff0cint&amp; \u6307\u7684\u662f\uff1a\u6307\u5411int\u7684\u5f15\u7528\n\u4e0a\u8ff0\u58f0\u660e\u5c06rats\u4e0erodents\u4e92\u6362\uff0c\u5b83\u4eec\u6307\u5411\u76f8\u540c\u7684\u503c\u4e0e\u5185\u5b58\u5355\u5143\n</code></pre></p> <p><pre><code>// firstref.cpp -- defining and using a reference\n#include &lt;iostream&gt;\nusing namespace std;\nint main()\n{\n\u00a0 \u00a0 int rats = 101;\n\u00a0 \u00a0 int &amp; rodents = rats; \u00a0 // rodents is a reference\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"rats = \" &lt;&lt; rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents = \" &lt;&lt; rodents &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 rodents++;\n\u00a0 \u00a0 cout &lt;&lt; \"rats = \" &lt;&lt; rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents = \" &lt;&lt; rodents &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"rats address = \" &lt;&lt; &amp;rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents address = \" &lt;&lt; &amp;rodents &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nrats = 101, rodents = 101\nrats = 102, rodents = 102\nrats address = 0x61fe14, rodents address = 0x61fe14\n</code></pre> \u5206\u6790\u5f97\u77e5\uff1a \u30101\u3011\u4e00\u65e6\u5efa\u7acb\u5f15\u7528\u5173\u7cfb\uff0c\u4e8c\u8005\u7684\u503c\u548c\u5730\u5740\u90fd\u76f8\u540c[\u8026\u5408\u5728\u4e00\u8d77] \u30102\u3011\u5176\u4e2d\u4e00\u8005\u53d1\u751f\u6539\u53d8\u4f1a\u968f\u4e4b\u81ea\u52a8\u6539\u53d8\u53e6\u4e00\u4e2a</p> <p>ps\uff1a\u6307\u9488\u548c\u5f15\u7528\u7684\u5f02\u540c\uff1a</p> <p>[1]\u5fc5\u987b\u5728\u58f0\u660e\u5f15\u7528\u65f6\u5c06\u5176\u521d\u59cb\u5316\uff1b\u800c\u4e0d\u80fd\u50cf\u6307\u9488\u90a3\u6837\uff0c\u5148\u58f0\u660e\uff0c\u540e\u8d4b\u503c <pre><code>int rat;\nint &amp; rodents;\nrodents = rat;   //no\uff01you cannot do this \uff01 \n</code></pre> [2]\u5f15\u7528\u66f4\u63a5\u8fd1const\u6307\u9488\uff0c\u4e00\u65e6\u5173\u8054\u5efa\u7acb\uff0c\u5c31\u4e00\u76f4\u6548\u5fe0\u4e8e\u5b83 <pre><code>int &amp; rodents = rats;\nint * const pr = &amp;rats;\n\n\u5176\u4e2d \u5f15\u7528rodents \u4e0e \u8868\u8fbe\u5f0f*pr \u626e\u6f14\u7684\u89d2\u8272\u76f8\u540c\uff01\n</code></pre></p> <p>[3]\u7efc\u5408\u5206\u6790\uff1a <pre><code>// secref.cpp -- defining and using a reference\n#include &lt;iostream&gt;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int rats = 101;\n\u00a0 \u00a0 int &amp; rodents = rats; \u00a0 // rodents is a reference\n\n\u00a0 \u00a0 cout &lt;&lt; \"rats = \" &lt;&lt; rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents = \" &lt;&lt; rodents &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"rats address = \" &lt;&lt; &amp;rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents address = \" &lt;&lt; &amp;rodents &lt;&lt; endl;\n\n\u00a0 \u00a0 int bunnies = 50;\n\u00a0 \u00a0 rodents = bunnies; \u00a0 \u00a0 \u00a0 // can we change the reference?\n\u00a0 \u00a0 \n\u00a0 \u00a0 cout &lt;&lt; \"bunnies = \" &lt;&lt; bunnies;\n\u00a0 \u00a0 cout &lt;&lt; \", rats = \" &lt;&lt; rats;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents = \" &lt;&lt; rodents &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"bunnies address = \" &lt;&lt; &amp;bunnies;\n\u00a0 \u00a0 cout &lt;&lt; \", rodents address = \" &lt;&lt; &amp;rodents &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nrats = 101, rodents = 101\nrats address = 0x61fe14, rodents address = 0x61fe14\nbunnies = 50, rats = 50, rodents = 50\nbunnies address = 0x61fe10, rodents address = 0x61fe14\n</code></pre> \u5f88\u6709\u610f\u601d\u7684\u73b0\u8c61\uff1a ![[Pasted image 20230728103245.png]] ![[Pasted image 20230728103325.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#2_1","title":"\uff082\uff09\u5c06\u5f15\u7528\u4f5c\u4e3a\u51fd\u6570\u53c2\u6570\uff1a","text":"<p>[1] \u6309\u5f15\u7528\u4f20\u9012\uff0c\u5141\u8bb8\u88ab\u8c03\u7528\u51fd\u6570\u80fd\u591f\u8bbf\u95ee\u8c03\u7528\u51fd\u6570\u4e2d\u7684\u53d8\u91cf [2] \u6309\u503c\u4f20\u9012\uff0c\u88ab\u8c03\u7528\u51fd\u6570\u4f7f\u7528 \u8c03\u7528\u7a0b\u5e8f\u7684\u503c\u7684\u62f7\u8d1d ![[Pasted image 20230728160204.png]]</p> <p>\u5206\u6790\u95ee\u9898\uff1a\u4ea4\u6362\u4e24\u4e2a\u53d8\u91cf\u7684\u503c \uff081\uff09\u4ea4\u6362\u51fd\u6570\u5fc5\u987b\u80fd\u591f\u4fee\u6539\u8c03\u7528\u7a0b\u5e8f\u7684\u53d8\u91cf\u7684\u503c\uff0c\u8fd9\u610f\u5473\u7740\u6309\u503c\u4f20\u9012\u53d8\u91cf\u5c06\u4e0d\u7ba1\u7528\uff0c\u56e0\u4e3a\u51fd\u6570\u5c06\u4ea4\u6362\u539f\u59cb\u6570\u636e\u53d8\u91cf\u7684 ==\u526f\u672c== \u7684\u5185\u5bb9 key1: \u4f20\u9012\u5f15\u7528\u65f6\uff0c\u51fd\u6570\u4f7f\u7528\u7684\u662f\u539f\u59cb\u6570\u636e key2: \u4f20\u9012\u6307\u9488\u8bbf\u95ee\u539f\u59cb\u6570\u636e</p> <p>\u793a\u4f8b\uff1a <pre><code>// swaps.cpp -- swapping with references and with pointers\n#include &lt;iostream&gt;\nvoid swapr(int &amp; a, int &amp; b); \u00a0 // a, b are aliases for ints\nvoid swapp(int * p, int * q); \u00a0 // p, q are addresses of ints\nvoid swapv(int a, int b); \u00a0 \u00a0 \u00a0 // a, b are new variables\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int wallet1 = 300;\n\u00a0 \u00a0 int wallet2 = 350;\n\n\u00a0 \u00a0 cout &lt;&lt; \"wallet1 = $\" &lt;&lt; wallet1;\n\u00a0 \u00a0 cout &lt;&lt; \" wallet2 = $\" &lt;&lt; wallet2 &lt;&lt; endl;\n\n// \uff081\uff09\u5f15\u7528\u4f20\u9012\uff1a\n\u00a0 \u00a0 cout &lt;&lt; \"Using references to swap contents:\\n\";\n\u00a0 \u00a0 swapr(wallet1, wallet2); \u00a0 // pass variables\n\u00a0 \u00a0 cout &lt;&lt; \"wallet1 = $\" &lt;&lt; wallet1;\n\u00a0 \u00a0 cout &lt;&lt; \" wallet2 = $\" &lt;&lt; wallet2 &lt;&lt; endl;\n// \uff082\uff09\u6307\u9488\u4f20\u9012\uff1a\n\u00a0 \u00a0 cout &lt;&lt; \"Using pointers to swap contents again:\\n\";\n\u00a0 \u00a0 swapp(&amp;wallet1, &amp;wallet2); // pass addresses of variables\n\u00a0 \u00a0 cout &lt;&lt; \"wallet1 = $\" &lt;&lt; wallet1;\n\u00a0 \u00a0 cout &lt;&lt; \" wallet2 = $\" &lt;&lt; wallet2 &lt;&lt; endl;\n// \uff083\uff09\u503c\u4f20\u9012\uff1a\n\u00a0 \u00a0 cout &lt;&lt; \"Trying to use passing by value:\\n\";\n\u00a0 \u00a0 swapv(wallet1, wallet2); \u00a0 // pass values of variables\n\u00a0 \u00a0 cout &lt;&lt; \"wallet1 = $\" &lt;&lt; wallet1;\n\u00a0 \u00a0 cout &lt;&lt; \" wallet2 = $\" &lt;&lt; wallet2 &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\nvoid swapr(int &amp; a, int &amp; b) \u00a0 \u00a0// use references\n{\n\u00a0 \u00a0 int temp;\n\u00a0 \u00a0 temp = a; \u00a0 \u00a0 \u00a0 // use a, b for values of variables\n\u00a0 \u00a0 a = b;\n\u00a0 \u00a0 b = temp;\n}\n\nvoid swapp(int * p, int * q) \u00a0 \u00a0// use pointers\n{\n\u00a0 \u00a0 int temp;\n\u00a0 \u00a0 temp = *p; \u00a0 \u00a0 \u00a0// use *p, *q for values of variables\n\u00a0 \u00a0 *p = *q;\n\u00a0 \u00a0 *q = temp;\n}\n\nvoid swapv(int a, int b) \u00a0 \u00a0 \u00a0 \u00a0// try using values\n{\n\u00a0 \u00a0 int temp;\n\u00a0 \u00a0 temp = a; \u00a0 \u00a0 \u00a0// use a, b for values of variables\n\u00a0 \u00a0 a = b;\n\u00a0 \u00a0 b = temp;\n}\n</code></pre></p> <p>![[Pasted image 20230728161741.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#3","title":"\uff083\uff09\u5f15\u7528\u7684\u5c5e\u6027\u4e0e\u7279\u522b\u4e4b\u5904\uff1a","text":"<p>[1]\u95ee\u9898\u5f15\u5165\uff1a <pre><code>// cubes.cpp -- regular and reference arguments\n#include &lt;iostream&gt;\ndouble cube(double a);\ndouble refcube(double &amp;ra);\nint main ()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 double x = 3.0;\n\n\u00a0 \u00a0 cout &lt;&lt; cube(x);\n\u00a0 \u00a0 cout &lt;&lt; \" = cube of \" &lt;&lt; x &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; refcube(x);\n\u00a0 \u00a0 cout &lt;&lt; \" = cube of \" &lt;&lt; x &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\ndouble cube(double a)\n{\n\u00a0 \u00a0 a *= a * a;\n\u00a0 \u00a0 return a;\n}\n\ndouble refcube(double &amp;ra)\n{\n\u00a0 \u00a0 ra *= ra * ra;\n\u00a0 \u00a0 return ra;\n}\n\n\u7ed3\u679c\uff1a\n27 = cube of 3\n27 = cube of 27\n</code></pre> refcube()\u51fd\u6570\u4fee\u6539\u4e86main()\u4e2d\u7684x\u503c\uff0c\u800ccube()\u6ca1\u6709 \uff081\uff09\u53d8\u91cfa\u4f4d\u4e8ecube()\u4e2d\uff0c\u5b83\u88ab\u521d\u59cb\u5316\u4e3ax\u7684\u503c\uff0c\u4f46\u662f\u4fee\u6539a\u5e76\u4e0d\u4f1a\u5f71\u54cdx \uff082\uff09\u7531\u4e8erefcube()\u4f7f\u7528\u4e86\u5f15\u7528\u53c2\u6570\uff0c\u56e0\u6b64\u4fee\u6539ra\u5b9e\u9645\u4e0a\u5c31\u662f\u4fee\u6539x ==\u4fee\u6b63\u65b9\u6cd5\uff1adouble refcube (const double &amp;ra) ;==</p> <p>[2]\u4e34\u65f6\u53d8\u91cf\u3001\u5f15\u7528\u53c2\u6570\u3001const\uff1a \uff081\uff09\u5f53\u5b9e\u53c2\u4e0e\u5f15\u7528\u53c2\u6570\u4e0d\u5339\u914d\u65f6\uff0cc++\u5c06\u751f\u6210\u4e34\u65f6\u53d8\u91cf\u3010iff\uff1a\u5f15\u7528\u53c2\u6570\u662fconst\u3011 \uff082\uff09\u4f55\u65f6\u521b\u5efa\u4e34\u65f6\u53d8\u91cf\uff1f \u30101\u3011\u5b9e\u53c2\u7684\u7c7b\u578b\u6b63\u786e\uff0c\u4f46\u4e0d\u662f\u5de6\u503c\uff1b \u30102\u3011\u5b9e\u53c2\u7684\u7c7b\u578b\u4e0d\u6b63\u786e\uff0c\u4f46\u662f\u53ef\u4ee5\u88ab\u8f6c\u6362\u6210\u6b63\u786e\u7684\u7c7b\u578b\uff1b ![[Pasted image 20230728165448.png]] \u89e3\u91ca\uff1a \uff081\uff09\u53c2\u6570side\u3001len[2]\u3001rd\u3001*pd \u90fd\u662f\u6709\u540d\u79f0\u7684\uff0c\u4e14\u662fdouble\u7c7b\u578b\u7684\u6570\u636e\u5bf9\u8c61\uff0c\u56e0\u6b64\u53ef\u4ee5\u4e3a\u5176\u521b\u5efa\u5f15\u7528 \uff082\uff09edge\u867d\u7136\u662f\u53d8\u91cf\uff0c\u4f46\u662f\u7c7b\u578b\u5374\u4e0d\u6b63\u786e\uff0cdouble\u5f15\u7528\u4e0d\u80fd\u6307\u5411long \uff083\uff097.0\u548cside+1.0\u7c7b\u578b\u6b63\u786e\uff0c\u4f46\u662f\u6ca1\u6709\u540d\u79f0 \uff084\uff09\u56e0\u6b64\u5bf9\u4e8e\uff082\uff09\u548c\uff083\uff09\uff0c\u7f16\u8bd1\u5668\u90fd\u5c06\u751f\u6210\u4e00\u4e2a\u4e34\u65f6\u7684\u533f\u540d\u53d8\u91cf\uff0c\u5e76\u8ba9ra\u6307\u5411\u5b83\uff1b\u8fd9\u4e9b\u4e34\u65f6\u53d8\u91cf\u53ea\u5728\u51fd\u6570\u8c03\u7528\u671f\u95f4\u5b58\u5728\uff0c\u6b64\u540e\u7f16\u8bd1\u5668\u4fbf\u53ef\u4ee5\u5c06\u5176\u968f\u610f\u5220\u9664\uff01</p> <p>![[Pasted image 20230728170731.png]]</p> <p>==ps\uff1a\u5de6\u503c\u4e0e\u53f3\u503c== \uff081\uff09\u5de6\u503c\uff1a - \u53d8\u91cf\u540d\u3001\u51fd\u6570\u540d\u4ee5\u53ca\u6570\u636e\u6210\u5458\u540d - \u8fd4\u56de\u5de6\u503c\u5f15\u7528\u7684\u51fd\u6570\u8c03\u7528 - \u7531\u8d4b\u503c\u8fd0\u7b97\u7b26\u6216\u590d\u5408\u8d4b\u503c\u8fd0\u7b97\u7b26\u8fde\u63a5\u7684\u8868\u8fbe\u5f0f\uff0c\u5982(a=b, a-=b\u7b49) - \u89e3\u5f15\u7528\u8868\u8fbe\u5f0f*ptr - \u524d\u7f6e\u81ea\u589e\u548c\u81ea\u51cf\u8868\u8fbe\u5f0f(++a, ++b) - \u6210\u5458\u8bbf\u95ee\uff08\u70b9\uff09\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c - \u7531\u6307\u9488\u8bbf\u95ee\u6210\u5458\uff08\u00a0<code>-&gt;</code>\u00a0\uff09\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c - \u4e0b\u6807\u8fd0\u7b97\u7b26\u7684\u7ed3\u679c(<code>[]</code>) - \u5b57\u7b26\u4e32\u5b57\u9762\u503c(\"abc\")</p> <p>\uff082\uff09\u53f3\u503c\uff1a - \u5b57\u9762\u503c(\u5b57\u7b26\u4e32\u5b57\u9762\u503c\u9664\u5916)\uff0c\u4f8b\u59821\uff0c'a', true\u7b49 - \u8fd4\u56de\u503c\u4e3a\u975e\u5f15\u7528\u7684\u51fd\u6570\u8c03\u7528\u6216\u64cd\u4f5c\u7b26\u91cd\u8f7d\uff0c\u4f8b\u5982\uff1astr.substr(1, 2), str1 + str2, or it++ - \u540e\u7f6e\u81ea\u589e\u548c\u81ea\u51cf\u8868\u8fbe\u5f0f(a++, a--) - \u7b97\u672f\u8868\u8fbe\u5f0f - \u903b\u8f91\u8868\u8fbe\u5f0f - \u6bd4\u8f83\u8868\u8fbe\u5f0f - \u53d6\u5730\u5740\u8868\u8fbe\u5f0f - lambda\u8868\u8fbe\u5f0f</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#4","title":"\uff084\uff09\u5c06\u5f15\u7528\u7528\u4e8e\u7ed3\u6784\uff1a","text":"<p>![[Pasted image 20230728171115.png]]</p> <p>\u95ee\u9898\u5206\u6790\uff1a <pre><code>//strc_ref.cpp -- using structure references\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nstruct free_throws{\n\u00a0 \u00a0 std::string name;\n\u00a0 \u00a0 int made;\n\u00a0 \u00a0 int attempts;\n\u00a0 \u00a0 float percent;\n};\n\n//\u51fd\u6570\u58f0\u660e\u90e8\u5206\uff1a\nvoid display(const free_throws &amp; ft);\nvoid set_pc(free_throws &amp; ft);\nfree_throws &amp; accumulate(free_throws &amp;target, const free_throws &amp;source);\n\nint main()\n{\n\u00a0 \u00a0 free_throws one = {\"Ifelsa Branch\", 13, 14};\n\u00a0 \u00a0 free_throws two = {\"Andor Knott\", 10, 16};\n\u00a0 \u00a0 free_throws three = {\"Minnie Max\", 7, 9};\n\u00a0 \u00a0 free_throws four = {\"Whily Looper\", 5, 9};\n\u00a0 \u00a0 free_throws five = {\"Long Long\", 6, 14};\n\u00a0 \u00a0 free_throws team = {\"Throwgoods\", 0, 0};\n\u00a0 \u00a0 free_throws dup;\n\n\u00a0 \u00a0 set_pc(one);\n\u00a0 \u00a0 display(one);\n\u00a0 \u00a0 accumulate(team, one);\n\u00a0 \u00a0 display(team);\n// use return value as argument\n\u00a0 \u00a0 display(accumulate(team, two));\n\u00a0 \u00a0 accumulate(accumulate(team, three), four);\n\u00a0 \u00a0 display(team);\n// use return value in assignment\n\u00a0 \u00a0 dup = accumulate(team,five);\n\u00a0 \u00a0 std::cout &lt;&lt; \"Displaying team:\\n\";\n\u00a0 \u00a0 display(team);\n\u00a0 \u00a0 std::cout &lt;&lt; \"Displaying dup after assignment:\\n\";\n\u00a0 \u00a0 display(dup);\n\u00a0 \u00a0 set_pc(four);\n// ill-advised assignment\n\u00a0 \u00a0 accumulate(dup,five) = four;\n\u00a0 \u00a0 std::cout &lt;&lt; \"Displaying dup after ill-advised assignment:\\n\";\n\u00a0 \u00a0 display(dup);\n\u00a0 \u00a0 // std::cin.get();\n\u00a0 \u00a0 return 0;\n}\n\nvoid display(const free_throws &amp; ft)\n{\n\u00a0 \u00a0 using std::cout;\n\u00a0 \u00a0 cout &lt;&lt; \"Name: \" &lt;&lt; ft.name &lt;&lt; '\\n';\n\u00a0 \u00a0 cout &lt;&lt; \" \u00a0Made: \" &lt;&lt; ft.made &lt;&lt; '\\t';\n\u00a0 \u00a0 cout &lt;&lt; \"Attempts: \" &lt;&lt; ft.attempts &lt;&lt; '\\t';\n\u00a0 \u00a0 cout &lt;&lt; \"Percent: \" &lt;&lt; ft.percent &lt;&lt; '\\n';\n}\n\nvoid set_pc(free_throws &amp; ft)\n{\n\u00a0 \u00a0 if (ft.attempts != 0)\n\u00a0 \u00a0 \u00a0 \u00a0 ft.percent = 100.0f *float(ft.made)/float(ft.attempts);\n\u00a0 \u00a0 else\n\u00a0 \u00a0 \u00a0 \u00a0 ft.percent = 0;\n}\n\nfree_throws &amp; accumulate(free_throws &amp; target, const free_throws &amp; source)\n{\n\u00a0 \u00a0 target.attempts += source.attempts;\n\u00a0 \u00a0 target.made += source.made;\n\u00a0 \u00a0 set_pc(target);\n\u00a0 \u00a0 return target;\n}\n\n\u7ed3\u679c\uff1a\nName: Ifelsa Branch\n  Made: 13      Attempts: 14    Percent: 92.8571\nName: Throwgoods\n  Made: 13      Attempts: 14    Percent: 92.8571\nName: Throwgoods\n  Made: 23      Attempts: 30    Percent: 76.6667\nName: Throwgoods\n  Made: 35      Attempts: 48    Percent: 72.9167\nDisplaying team:\nName: Throwgoods\n  Made: 41      Attempts: 62    Percent: 66.129\nDisplaying dup after assignment:\nName: Throwgoods\n  Made: 41      Attempts: 62    Percent: 66.129\nDisplaying dup after ill-advised assignment:\nName: Whily Looper\n  Made: 5       Attempts: 9     Percent: 55.5556\n</code></pre></p> <p>[1]\u7a0b\u5e8f\u8bf4\u660e\uff1a ![[Pasted image 20230728175029.png]]</p> <p>[2]\u4e3a\u4ec0\u4e48\u8fd4\u56de\u5f15\u7528\uff1a ![[Pasted image 20230728175228.png]]</p> <p>[3]\u8fd4\u56de\u5f15\u7528\u9700\u8981\u6ce8\u610f\uff1a ![[Pasted image 20230728175411.png]]</p> <p>[4]\u4e3a\u4ec0\u4e48\u5c06const\u7528\u4e8e\u5f15\u7528\u8fd4\u56de\u7c7b\u578b\uff1a ![[Pasted image 20230728175556.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#5","title":"\uff085\uff09\u5c06\u5f15\u7528\u7528\u4e8e\u7c7b\u5bf9\u8c61\uff1a","text":"<p>\u5c06\u7c7b\u5bf9\u8c61\u4f20\u9012\u7ed9\u51fd\u6570\u65f6\uff0cc++\u53ef\u4ee5\u901a\u8fc7\u4f7f\u7528\u5f15\u7528\uff0c\u8ba9\u51fd\u6570\u5c06\u7c7bstring\u3001ostream......\u7c7b\u7684\u5bf9\u8c61\u4f5c\u4e3a\u53c2\u6570 <pre><code>// strquote.cpp \u00a0-- different designs\n#include &lt;iostream&gt;\n#include &lt;string&gt;\nusing namespace std;\nstring version1(const string &amp; s1, const string &amp; s2);\nconst string &amp; version2(string &amp; s1, const string &amp; s2); \u00a0// has side effect\nconst string &amp; version3(string &amp; s1, const string &amp; s2); \u00a0// bad design\n\nint main()\n{\n\u00a0 \u00a0 string input;\n\u00a0 \u00a0 string copy;\n\u00a0 \u00a0 string result;\n\n\u00a0 \u00a0 cout &lt;&lt; \"Enter a string: \";\n\u00a0 \u00a0 getline(cin, input);\n\u00a0 \u00a0 copy = input;\n\u00a0 \u00a0 cout &lt;&lt; \"Your string as entered: \" &lt;&lt; input &lt;&lt; endl;\n\u00a0 \u00a0 \n\u00a0 \u00a0 result = version1(input, \"***\");\n\u00a0 \u00a0 cout &lt;&lt; \"Your string enhanced: \" &lt;&lt; result &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Your original string: \" &lt;&lt; input &lt;&lt; endl;\n\n\u00a0 \u00a0 result = version2(input, \"###\");\n\u00a0 \u00a0 cout &lt;&lt; \"Your string enhanced: \" &lt;&lt; result &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Your original string: \" &lt;&lt; input &lt;&lt; endl;\n\n\u00a0 \u00a0 cout &lt;&lt; \"Resetting original string.\\n\";\n\u00a0 \u00a0 input = copy;\n\u00a0 \u00a0 result = version3(input, \"@@@\");\n\u00a0 \u00a0 cout &lt;&lt; \"Your string enhanced: \" &lt;&lt; result &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"Your original string: \" &lt;&lt; input &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\nstring version1(const string &amp; s1, const string &amp; s2)\n{\n\u00a0 \u00a0 string temp;    \n\u00a0 \u00a0 temp = s2 + s1 + s2;\n\u00a0 \u00a0 return temp;\n}\n\nconst string &amp; version2(string &amp; s1, const string &amp; s2) \u00a0 // has side effect\n{\n\u00a0 \u00a0 s1 = s2 + s1 + s2;\n// safe to return reference passed to function\n\u00a0 \u00a0 return s1;\n}\n\nconst string &amp; version3(string &amp; s1, const string &amp; s2) \u00a0 // bad design\n{\n\u00a0 \u00a0 string temp;\n\u00a0 \u00a0 temp = s2 + s1 + s2;\n// unsafe to return reference to local variable\n\u00a0 \u00a0 return temp;\n}\n\n\u7ed3\u679c\uff1a\nEnter a string: dxgkuD\nYour string as entered: dxgkuD\nYour string enhanced: ***dxgkuD***\nYour original string: dxgkuD\nYour string enhanced: ###dxgkuD###\nYour original string: ###dxgkuD###\nResetting original string.\n</code></pre></p> <p>\u7a0b\u5e8f\u5206\u6790\uff1a version1: ![[Pasted image 20230728181450.png]]</p> <p>version2: ![[Pasted image 20230728181655.png]]</p> <p>version3: ![[Pasted image 20230728181810.png]]</p> <p>\u5206\u6790\uff1a <pre><code>const string&amp; version3 (string&amp; s1 , const string&amp; s2)\n(1) const \u8bf4\u660e: version3\u51fd\u6570\u8fd4\u56de\u503c\u4e0d\u88ab\u4fee\u6539\n(2) string&amp; \u8bf4\u660e\u8fd4\u56de\u503c\u7c7b\u578b\u662fstring\u7684\u5f15\u7528\n(3) \u51fd\u6570version3\u7684\u6a21\u5757\u5185\uff0c\u5148\u521b\u5efatemp\uff0c\u518d\u8fd4\u56de\uff0c\u51fd\u6570\u8981\u6c42\u7684\u8fd4\u56de\u503c\u662ftemp\u7684\u5f15\u7528\u3002\u800ctemp\u7684\u751f\u547d\u5468\u671f\u4ec5\u9650\u5728\u6a21\u5757\u5185\u3002\u56e0\u6b64\uff0c\u6267\u884c\u987a\u5e8f\u662f\uff1a\n    [1]\u521b\u5efatemp\uff0c\u8fdb\u884cbody\u64cd\u4f5c\n    [2]\u51fd\u6570\u4f53\u6267\u884c\u7ed3\u675f\uff0ctemp\u5df2\u7ecf\u6d88\u4ea1\uff0c\u51c6\u5907\u8fd4\u56de\n    [3]\u8fd4\u56de\u503c\u662fstring\u7684\u5f15\u7528\uff0c\u6b64\u65f6\u53d1\u73b0\u5f85\u8fd4\u56de\u7684\u4e1c\u897f\u4e0d\u89c1\u4e86\uff01\n    [4]\u62a5\u9519\uff01\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#6","title":"\uff086\uff09\u5bf9\u8c61\u3001\u7ee7\u627f\u3001\u5f15\u7528\uff1a","text":"<p>\u7559\u7ed9\u540e\u9762</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#7","title":"\uff087\uff09\u4f55\u65f6\u4f7f\u7528\u5f15\u7528\u53c2\u6570\uff1a","text":"<p>![[Pasted image 20230728182852.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/#3_1","title":"3\uff09\u9ed8\u8ba4\u53c2\u6570\uff1a","text":"<p>\uff081\uff09\u5b9a\u4e49\uff1a</p> <p>\u51fd\u6570\u8c03\u7528\u4e2d\u7701\u7565\u4e86\u5b9e\u53c2\u65f6\uff0c\u81ea\u52a8\u4f7f\u7528\u7684\u4e00\u4e2a\u503c\u3002 eg: \u5982\u679c\u5199 void wow ( int n = 1 )\uff0c\u5219\u51fd\u6570\u8c03\u7528 wow( ) \u76f8\u5f53\u4e8ewow(1) eg: char left ( const char str , int n = 1 )</p> <p>[1] char*:    \u8fd4\u56de\u503c\u662f\u4e00\u4e2a\u65b0\u7684\u5b57\u7b26\u4e32 [2] \u7b2c\u4e00\u4e2a\u53c2\u6570\u4f7f\u7528const:    \u539f\u59cb\u5b57\u7b26\u4e32\u4fdd\u6301\u4e0d\u53d8 [3] \u9ed8\u8ba4\u53c2\u6570\u503c\u662f\u521d\u59cb\u5316\u503c\uff0c\u56e0\u6b64\u5c06\u4e0a\u9762\u7684\u539f\u578b\u5c06n\u8bbe\u7f6e\u4e3a1  =&gt;  \u5982\u679c\u7701\u7565\u53c2\u6570n\uff0c\u5b83\u7684\u503c\u5c06\u4e3a1\uff1b\u5426\u5219\u4f20\u9012\u7684\u503c\u5c06\u8986\u76d61</p> <p>\uff082\uff09\u4f7f\u7528\u8bf4\u660e\uff1a</p> <p>[1] \u5bf9\u4e8e\u5e26\u53c2\u6570\u5217\u8868\u7684\u51fd\u6570\uff0c\u5fc5\u987b\u4ece\u53f3\u5411\u5de6\u6dfb\u52a0\u9ed8\u8ba4\u503c\u3002\u6362\u8a00\u4e4b\uff0c\u8981\u4e3a\u67d0\u4e2a\u53c2\u6570\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff0c\u5219\u5fc5\u987b\u4e3a\u5b83\u53f3\u8fb9\u7684\u6240\u6709\u53c2\u6570\u90fd\u8bbe\u7f6e\u9ed8\u8ba4\u503c\uff01 <pre><code>int hbx1(int n , int m = 4 , int d = 5);      //valid\nint hbx2(int n , int m = 4 , int d);          //invalid\nint hbx3(int n = 1 , int m = 4 , int d = 9);  //valid\n\n\u4f8b\u5982\uff1a\u8c03\u7528 hbx1()\u51fd\u6570 \u65f6\uff0c\u5141\u8bb8\u8c03\u7528\u63d0\u4f9b 1,2,3 \u4e2a\u53c2\u6570\uff01\nhhh = hbx1(2)      \u7b49\u4ef7\u4e8e\uff1ahbx(2,4,5)\nhhh = hbx1(1,8)    \u7b49\u4ef7\u4e8e\uff1ahbx(1,8,5)\nhhh = hbx1(8,7,6)  \u7b49\u4ef7\u4e8e\uff1ahbx(8,7,6)\n</code></pre> [2] \u5b9e\u53c2\u6309\u7167\u4ece\u5de6\u5411\u53f3\u7684\u987a\u5e8f\u4f9d\u6b21\u88ab\u8d4b\u7ed9\u76f8\u5e94\u7684\u5f62\u53c2\uff0c\u800c\u4e0d\u80fd\u8df3\u8fc7\u4efb\u4f55\u53c2\u6570\uff01 <pre><code>\u8fd9\u79cd\u8c03\u7528\u5c31\u4e0d\u88ab\u5141\u8bb8\uff1a\nhhh = hbx1(3,,8)    //invalid , the computer cannnot put 4 to the blank!\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8B%29/","title":"Chapter8\u51fd\u6570\u63a2\u5e7d(\u4e0b)","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8B%29/#1","title":"1\uff09\u51fd\u6570\u91cd\u8f7d\uff08\u51fd\u6570\u591a\u6001\uff09\uff1a","text":"<p>\uff081\uff09\u529f\u80fd\uff1a\u80fd\u8ba9\u6211\u4eec\u4f7f\u7528\u591a\u4e2a\u91cd\u540d\u7684\u51fd\u6570\uff0c\u6211\u4eec\u901a\u8fc7\u51fd\u6570\u91cd\u8f7d\u8bbe\u8ba1\u4e00\u7cfb\u5217\u51fd\u6570\u2014\u2014\u5b83\u4eec\u5b8c\u6210\u76f8\u540c\u7684\u5de5\u4f5c\uff0c\u4f46\u4f7f\u7528\u4e0d\u540c\u7684\u53c2\u6570\u5217\u8868</p> <p>\uff082\uff09\u5173\u952e\uff1a\u51fd\u6570\u7684\u53c2\u6570\u5217\u8868\uff08\u4e5f\u53eb\u4f5c\uff1a\u51fd\u6570\u7684\u7279\u5f81\u6807 function signature\uff09</p> <p>poi\uff1a\u662f\u7279\u5f81\u6807\uff0c\u800c\u4e0d\u662f\u51fd\u6570\u7c7b\u578b\u4f7f\u5f97\u53ef\u4ee5\u5bf9\u51fd\u6570\u8fdb\u884c\u91cd\u8f7d\uff01 <pre><code>long gronk(int n , float m);\ndouble gronk(int n , float m);  // not allowed!\n// \u8fd9\u4e24\u8005\u662f\u4e92\u65a5\u7684\uff01\n</code></pre></p> <p>\uff083\uff09\u8981\u70b9\uff1a</p> <p>\u30101\u3011c++\u5141\u8bb8\u5b9a\u4e49\u540d\u79f0\u76f8\u540c\u7684\u51fd\u6570\uff0c\u6761\u4ef6\u662f\u7279\u5f81\u6807\u4e0d\u540c  [\u5982\u679c\u53c2\u6570 \u6570\u76ee/\u7c7b\u578b \u4e0d\u540c\uff0c\u5219\u7279\u5f81\u6807\u4e0d\u540c] ![[Pasted image 20230728213611.png]] ==\u7f16\u8bd1\u5668\u4f1a\u81ea\u52a8\u6839\u636e \u6240\u91c7\u53d6\u7684\u7528\u6cd5\u00b7 \u4f7f\u7528 \u6709\u76f8\u5e94\u7279\u5f81\u6807 \u7684\u539f\u578b==</p> <p>\u30102\u3011\u4f7f\u7528\u88ab\u91cd\u8f7d\u7684\u51fd\u6570\u65f6\uff0c\u9700\u8981\u5728\u51fd\u6570\u8c03\u7528\u4e2d\u63d0\u4f9b\u6b63\u786e\u7684\u53c2\u6570\u7c7b\u578b ==point\uff1a\u5982\u679c\u67d0\u51fd\u6570\u6ca1\u6709\u627e\u5230\u539f\u578b\u5339\u914d\uff0c\u5b83\u4e5f\u4e0d\u4f1a\u505c\u6b62\u4f7f\u7528\u5176\u4e2d\u7684\u67d0\u4e2a\u51fd\u6570\uff0c\u56e0\u4e3ac++\u4f1a\u5c1d\u8bd5\u4f7f\u7528\u6807\u51c6\u7c7b\u578b\uff0c\u8f6c\u6362\u5f3a\u5236\u8fdb\u884c\u5339\u914d== <pre><code>eg1:\n\uff081\uff09\u5df2\u7ecf\u6709\u4e09\u4e2a\u51fd\u6570\u58f0\u660e\uff1a\nvoid print(const char* str , int width);  // 1)\nvoid print(double d , int width);         // 2)\nvoid print(const char* str);              // 3)\n\n\uff082\uff09\u73b0\u5728\u8981\u6c42\u5b9e\u73b0\uff1a\nunsigned int year = 3210;\nprint(year,6);\n\n\uff083\uff09\u5206\u6790\uff1a\n\u6ca1\u6709\u627e\u5230\u5b8c\u5168\u5408\u9002\u7684\u539f\u578b\uff0c2)\u6700\u4e3a\u63a5\u8fd1\uff0c\u56e0\u6b64c++\u5c06year\u5f3a\u5236\u8f6c\u5316\u6210double\u7c7b\u578b\n\neg2:\n\uff081\uff09\u5df2\u7ecf\u6709\u4e09\u4e2a\u51fd\u6570\u58f0\u660e\uff1a\nvoid print(int i , int width);            // 1)\nvoid print(double d , int width);         // 2)\nvoid print(long long l , int width);      // 3)\n\n\uff082\uff09\u73b0\u5728\u8981\u6c42\u5b9e\u73b0\uff1a\nunsigned int year = 3210;\nprint(year,6);\n\n\uff083\uff09\u5206\u6790\uff1a\n\u6709\u4e09\u4e2a\u51fd\u6570\u5c06\u6570\u5b57\u4f5c\u4e3a\u7b2c\u4e00\u4e2a\u53c2\u6570\u7684\u539f\u578b\uff0c\u56e0\u6b64\u6709\u4e09\u79cd\u8f6c\u6362year\u7684\u65b9\u5f0f\uff01\n\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0cc++\u4e0d\u77e5\u9053\u8be5\u548b\u529e\u3002\nc++\u5c06\u62d2\u7edd\u8fd9\u79cd\u51fd\u6570\u8c03\u7528\uff0c\u5e76\u5c06\u5176\u89c6\u4e3a\u9519\u8bef\uff01\n</code></pre></p> <p>\u30103\u3011\u7f16\u8bd1\u5668\u68c0\u67e5\u51fd\u6570\u7279\u5f81\u6807\u65f6\uff0c\u5c06\u628a\u7c7b\u578b\u5f15\u7528\u548c\u7c7b\u578b\u672c\u8eab\u89c6\u4e3a\u540c\u4e00\u4e2a\u7279\u5f81\u6807 <pre><code>double cube(int x);\ndouble cube(int &amp;x);\n\u53c2\u6570x \u5728\u8fd9\u91cc\u4e0e\u539f\u578b int x \u548c int &amp;x \u90fd\u53ef\u4ee5\u5339\u914d\uff0c\u56e0\u6b64\u7f16\u8bd1\u5668\u65e0\u6cd5\u786e\u5b9a\u7a76\u7adf\u5e94\u5f53\u4f7f\u7528\u54ea\u4e2a\u539f\u578b\uff01\n</code></pre></p> <p>\u30104\u3011\u8981\u533a\u5206 const \u4e0e \u975econst \u53d8\u91cf: ==\u5c06\u975econst\u503c \u8d4b\u7ed9 const\u53d8\u91cf\uff0c\u5219\u5408\u6cd5\uff1b\u53cd\u4e4b\u662f\u975e\u6cd5\u7684\uff01== ![[Pasted image 20230728220502.png]] \u5206\u6790\uff1a dribble( ): \u6709\u4e24\u4e2a\u539f\u578b\uff0c\u4e00\u4e2a\u7528\u4e8econst\u6307\u9488\uff0c\u53e6\u4e00\u4e2a\u7528\u4e8e\u5e38\u89c4\u6307\u9488\uff0c\u7f16\u8bd1\u5668\u6839\u636e\u5b9e\u53c2\u662f\u5426\u662fconst\u6765\u51b3\u5b9a\u4f7f\u7528\u54ea\u4e2a\u539f\u578b\uff01 dabble( ): \u53ea\u4e0e\u5e26\u975econst\u53c2\u6570\u7684\u8c03\u7528\u5339\u914d\uff01 drivel( ):  \u867d\u7136\u8868\u9762\u4e0a\u7684\u539f\u578b\u53ea\u6709\u542bconst\u7684\uff0c\u4f46\u5b83\u53ef\u4ee5\u4e0e \u5e26const \u6216 \u975econst \u7684\u53c2\u6570\u8c03\u7528\u8fdb\u884c\u5339\u914d\uff01\u3010reason\uff1a\u4e0a\u6587 \u9ec4\u5b57\u6bb5\u3011</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8B%29/#2","title":"2\uff09\u51fd\u6570\u6a21\u677f\uff08\u901a\u7528\u7f16\u7a0b\uff09\uff1a","text":"<p>\uff081\uff09\u7b80\u4ecb\uff1a\u51fd\u6570\u6a21\u677f\u662f\u901a\u7528\u7684\u51fd\u6570\u63cf\u8ff0\uff0c\u5b83\u4eec\u901a\u8fc7\u6cdb\u5f0f\u6765\u5b9a\u4e49\u51fd\u6570\uff0c\u901a\u8fc7\u5c06\u7c7b\u578b\u4f5c\u4e3a\u53c2\u6570\u4f20\u9012\u7ed9\u6a21\u677f\uff0c\u53ef\u4f7f\u7f16\u8bd1\u5668\u751f\u6210\u8be5\u7c7b\u578b\u7684\u51fd\u6570</p> <p>\uff082\uff09\u5e38\u89c4\u6a21\u677f\u5199\u4f5c\u683c\u5f0f\uff1a <pre><code>template &lt;typename AnyType&gt; // \u4e5f\u53ef\u4ee5\u6362\u6210\uff1atemplate &lt;class AnyType&gt;\nvoid hbx_swap(AnyType &amp;a , AnyType &amp;b)\n{\n    AnyType tmp;\n    tmp = a;\n    a = b;\n    b = tmp;\n}\n</code></pre></p> <p>ps\uff1a==\u6a21\u677f\u5e76\u4e0d\u521b\u5efa\u4efb\u4f55\u51fd\u6570\uff0c\u800c\u53ea\u662f\u544a\u8bc9\u7f16\u8bd1\u5668\u5982\u4f55\u5b9a\u4e49\u51fd\u6570\uff01==</p> <p>eg1\uff1a\u57fa\u672c\u4f8b\u8bc1\u5c55\u793a <pre><code>// funtemp.cpp -- using a function template\n#include &lt;iostream&gt;  // function template prototype\ntemplate &lt;typename T&gt; \u00a0// or class T\nvoid Swap(T &amp;a, T &amp;b);\n\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int i = 10;\n\u00a0 \u00a0 int j = 20;\n\u00a0 \u00a0 cout &lt;&lt; \"i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Using compiler-generated int swapper:\\n\";\n\u00a0 \u00a0 Swap(i,j); \u00a0// generates void Swap(int &amp;, int &amp;)\n\u00a0 \u00a0 cout &lt;&lt; \"Now i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n\n\u00a0 \u00a0 double x = 24.5;\n\u00a0 \u00a0 double y = 81.7;\n\u00a0 \u00a0 cout &lt;&lt; \"x, y = \" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \".\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Using compiler-generated double swapper:\\n\";\n\u00a0 \u00a0 Swap(x,y); \u00a0// generates void Swap(double &amp;, double &amp;)\n\u00a0 \u00a0 cout &lt;&lt; \"Now x, y = \" &lt;&lt; x &lt;&lt; \", \" &lt;&lt; y &lt;&lt; \".\\n\";\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\n// function template definition\ntemplate &lt;typename T&gt; \u00a0// or class T\nvoid Swap(T &amp;a, T &amp;b)\n{\n\u00a0 \u00a0 T temp; \u00a0 // temp a variable of type T\n\u00a0 \u00a0 temp = a;\n\u00a0 \u00a0 a = b;\n\u00a0 \u00a0 b = temp;\n}\n</code></pre></p> <p>ps\uff1a==\u51fd\u6570\u6a21\u677f\u53ea\u662f\u683c\u5f0f\u53d8\u5f97\u7b80\u6d01\uff0c\u5e76\u4e0d\u80fd\u7f29\u77ed\u53ef\u6267\u884c\u7a0b\u5e8f\uff01==</p> <p>eg2\uff1a\u88ab\u91cd\u8f7d\u7684\u6a21\u677f\u7279\u5f81\u6807\u5fc5\u987b\u4e0d\u540c <pre><code>// twotemps.cpp -- using overloaded template functions\n#include &lt;iostream&gt;\ntemplate &lt;typename T&gt; \u00a0 \u00a0 // original template\nvoid Swap(T &amp;a, T &amp;b);\n\ntemplate &lt;typename T&gt; \u00a0 \u00a0 // new template\nvoid Swap(T *a, T *b, int n);\n\nvoid Show(int a[]);\nconst int Lim = 8;\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int i = 10, j = 20;\n\u00a0 \u00a0 cout &lt;&lt; \"i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Using compiler-generated int swapper:\\n\";\n\u00a0 \u00a0 Swap(i,j); \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0// matches original template\n\u00a0 \u00a0 cout &lt;&lt; \"Now i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n\n\u00a0 \u00a0 int d1[Lim] = {0,7,0,4,1,7,7,6};\n\u00a0 \u00a0 int d2[Lim] = {0,7,2,0,1,9,6,9};\n\u00a0 \u00a0 cout &lt;&lt; \"Original arrays:\\n\";\n\u00a0 \u00a0 Show(d1);\n\u00a0 \u00a0 Show(d2);\n\u00a0 \u00a0 Swap(d1,d2,Lim); \u00a0 \u00a0 \u00a0 \u00a0// matches new template\n\u00a0 \u00a0 cout &lt;&lt; \"Swapped arrays:\\n\";\n\u00a0 \u00a0 Show(d1);\n\u00a0 \u00a0 Show(d2);\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\ntemplate &lt;typename T&gt;\nvoid Swap(T &amp;a, T &amp;b)\n{\n\u00a0 \u00a0 T temp;\n\u00a0 \u00a0 temp = a;\n\u00a0 \u00a0 a = b;\n\u00a0 \u00a0 b = temp;\n}\n\ntemplate &lt;typename T&gt;\nvoid Swap(T a[], T b[], int n)\n{\n\u00a0 \u00a0 T temp;\n\u00a0 \u00a0 for (int i = 0; i &lt; n; i++)\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 temp = a[i];\n\u00a0 \u00a0 \u00a0 \u00a0 a[i] = b[i];\n\u00a0 \u00a0 \u00a0 \u00a0 b[i] = temp;\n\u00a0 \u00a0 }\n}\n\nvoid Show(int a[])\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 cout &lt;&lt; a[0] &lt;&lt; a[1] &lt;&lt; \"/\";\n\u00a0 \u00a0 cout &lt;&lt; a[2] &lt;&lt; a[3] &lt;&lt; \"/\";\n\u00a0 \u00a0 for (int i = 4; i &lt; Lim; i++)\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; a[i];\n\u00a0 \u00a0 cout &lt;&lt; endl;\n}\n\n\u8fd9\u4e2a\u4f8b\u5b50\u91cc\uff1a\n\u539f\u6a21\u677f\u7279\u5f81\u6807\u662f (T&amp; , T&amp;)\uff0c\u800c\u65b0\u6a21\u677f\u7279\u5f81\u6807\u662f(T[ ], T[ ], int)\n\u5728\u540e\u4e00\u4e2a\u6a21\u677f\u4e2d\uff0c\u6700\u540e\u4e00\u4e2a\u53c2\u6570\u7684\u7c7b\u578b\u662f\u5177\u4f53\u7c7b\u578b(int)\uff0c\u800c\u4e0d\u662f\u6cdb\u5f0f\uff01\n\u5e76\u975e\u6240\u6709\u7684\u6a21\u677f\u53c2\u6570\u90fd\u5fc5\u987b\u662f\u6a21\u677f\u53c2\u6570\u7c7b\u578b\uff01\n</code></pre></p> <p>ps\uff1a==\u5e76\u975e\u6240\u6709\u7684\u6a21\u677f\u53c2\u6570\u90fd\u5fc5\u987b\u662f\u6a21\u677f\u53c2\u6570\u7c7b\u578b==</p> <p>\uff083\uff09\u5e38\u89c4\u6a21\u677f\u7684\u5c40\u9650\u6027\uff1a ![[Pasted image 20230728232524.png]]</p> <p>\uff084\uff09\u663e\u793a\u5177\u4f53\u5316\u6a21\u677f\u51fd\u6570\uff1a</p> <p>\u30101\u3011\u5b58\u5728\u7684\u76ee\u7684\uff1a ![[Pasted image 20230728233006.png]]</p> <p>\u30102\u3011\u663e\u5f0f\u5177\u4f53\u5316\u5199\u4f5c\u683c\u5f0f\uff1a <pre><code>\uff081\uff09\u975e\u6a21\u677f\u51fd\u6570\uff1a\nvoid swap(job&amp; , job&amp;)\n\n\uff082\uff09\u5e38\u89c4\u6a21\u677f\u51fd\u6570\uff1a\ntemplate &lt;typename T&gt;\nvoid swap(T&amp; , T&amp;)\n\n\uff083\uff09\u663e\u5f0f\u5177\u4f53\u5316\u6a21\u677f\u51fd\u6570\uff1a\ntemplate &lt;&gt; void swap(job&amp; , job&amp;)\n</code></pre></p> <p>==\u30103\u3011\u6027\u80fd\u6bd4\u8f83 (\u4f18\u5148\u7ea7\u987a\u5e8f) \uff1a\u975e\u6a21\u677f\u51fd\u6570 &gt; \u5e38\u89c4\u6a21\u677f\u51fd\u6570 &gt; \u663e\u5f0f\u5177\u4f53\u5316\u6a21\u677f\u51fd\u6570== </p> <p>eg\uff1a <pre><code>// twoswap.cpp -- specialization overrides a template\n#include &lt;iostream&gt;\n\n//1) template_func:\ntemplate &lt;typename T&gt;\nvoid Swap(T &amp;a, T &amp;b);\n\nstruct job {\n\u00a0 \u00a0 char name[40];\n\u00a0 \u00a0 double salary;\n\u00a0 \u00a0 int floor;\n};\n\n//2) explicit specialization:\ntemplate &lt;&gt; void Swap&lt;job&gt;(job &amp;j1, job &amp;j2);\n\n//3) display_func:\nvoid Show(job &amp;j);\n\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 cout.precision(2);\n\u00a0 \u00a0 cout.setf(ios::fixed, ios::floatfield);\n\u00a0 \u00a0 \n\u00a0 \u00a0 //1) \u503c\u4ea4\u6362\u90e8\u5206\uff1a\n\u00a0 \u00a0 int i = 10, j = 20;\n\u00a0 \u00a0 cout &lt;&lt; \"i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n\u00a0 \u00a0 cout &lt;&lt; \"Using compiler-generated int swapper:\\n\";\n\u00a0 \u00a0 Swap(i,j); \u00a0 \u00a0// generates void Swap(int &amp;, int &amp;)\n\u00a0 \u00a0 cout &lt;&lt; \"Now i, j = \" &lt;&lt; i &lt;&lt; \", \" &lt;&lt; j &lt;&lt; \".\\n\";\n    //2) \u7ed3\u6784\u4ea4\u6362\uff08\u5168\u6362 &amp; \u90e8\u5206\u6362\uff09\n\u00a0 \u00a0 job sue = {\"Susan Yaffee\", 73000.60, 7};\n\u00a0 \u00a0 job sidney = {\"Sidney Taffee\", 78060.72, 9};\n\u00a0 \u00a0 cout &lt;&lt; \"Before job swapping:\\n\";\n\u00a0 \u00a0 Show(sue);\n\u00a0 \u00a0 Show(sidney);\n\u00a0 \u00a0 \n\u00a0 \u00a0 Swap(sue, sidney); // uses void Swap(job &amp;, job &amp;)\n\u00a0 \u00a0 cout &lt;&lt; \"After job swapping:\\n\";\n\u00a0 \u00a0 Show(sue);\n\u00a0 \u00a0 Show(sidney);\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\ntemplate &lt;typename T&gt;\nvoid Swap(T &amp;a, T &amp;b) \u00a0 \u00a0// general version\n{\n\u00a0 \u00a0 T temp;\n\u00a0 \u00a0 temp = a;\n\u00a0 \u00a0 a = b;\n\u00a0 \u00a0 b = temp;\n}\n\n// swaps just the salary and floor fields of a job structure\ntemplate &lt;&gt; void Swap&lt;job&gt;(job &amp;j1, job &amp;j2) \u00a0// specialization\n{\n\u00a0 \u00a0 double t1;\n\u00a0 \u00a0 t1 = j1.salary;\n\u00a0 \u00a0 j1.salary = j2.salary;\n\u00a0 \u00a0 j2.salary = t1;\n\u00a0 \u00a0 \n\u00a0 \u00a0 int t2;\n\u00a0 \u00a0 t2 = j1.floor;\n\u00a0 \u00a0 j1.floor = j2.floor;\n\u00a0 \u00a0 j2.floor = t2;\n}\n\nvoid Show(job &amp;j)\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 cout &lt;&lt; j.name &lt;&lt; \": $\" &lt;&lt; j.salary\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0&lt;&lt; \" on floor \" &lt;&lt; j.floor &lt;&lt; endl;\n}\n\n\u7ed3\u679c\uff1a\ni, j = 10, 20.\nUsing compiler-generated int swapper:\nNow i, j = 20, 10.\n--------------------------------------\nBefore job swapping:\nSusan Yaffee: $73000.60 on floor 7\nSidney Taffee: $78060.72 on floor 9\n--------------------------------------\nAfter job swapping:\nSusan Yaffee: $78060.72 on floor 9\nSidney Taffee: $73000.60 on floor 7\n</code></pre></p> <p>\u30104\u3011\u5b9e\u4f8b\u5316\u4e0e\u5177\u4f53\u5316\uff1a \uff081\uff09\u9690\u5f0f\u5b9e\u4f8b\u5316\u3001\u663e\u5f0f\u5b9e\u4f8b\u5316\u3001\u663e\u5f0f\u5177\u4f53\u5316 \u7edf\u79f0\u4e3a\u5177\u4f53\u5316(specialization)</p> <p>\uff082\uff09\u533a\u5206\u663e\u5f0f\u5b9e\u4f8b\u5316 / \u663e\u5f0f\u5177\u4f53\u5316\uff1a <pre><code>[1]\u663e\u5f0f\u5b9e\u4f8b\u5316\uff1a\ntemplate Func_Class Func_name&lt;\u76ee\u6807\u7c7b\u578b&gt;(\u53c2\u6570\u5217\u8868);     // explicit instantiation\n\neg: template void swap&lt;int&gt;(int,int);\n=&gt;  \u4f7f\u7528swap()\u6a21\u677f\u751f\u6210int\u7c7b\u578b\u7684\u51fd\u6570\u5b9a\u4e49\n\n[2]\u663e\u5f0f\u5177\u4f53\u5316\uff1a\ntemplate &lt;&gt; Func_Class Func_name&lt;\u76ee\u6807\u7c7b\u578b&gt;(\u53c2\u6570\u5217\u8868);  // explicit spacialization\n\u4e5f\u53ef\u4ee5\u7701\u7565&lt;\u76ee\u6807\u7c7b\u578b&gt; \uff1a\ntemplate &lt;&gt; Func_Class Func_name(\u53c2\u6570\u5217\u8868);           // explicit spacialization\n</code></pre> ps\uff1a\u8bd5\u56fe\u5728\u540c\u4e00\u4e2a\u6587\u4ef6\uff08\u6216\u8f6c\u6362\u5355\u5143\uff09\u4e2d\u4f7f\u7528\u540c\u4e00\u79cd\u7c7b\u578b\u7684\u663e\u5f0f\u5b9e\u4f8b\u5316and\u663e\u5f0f\u5177\u4f53\u5316\u5c06\u51fa\u9519\uff01</p> <p>\uff083\uff09\u5c55\u793a\u4f7f\u7528\u65b9\u5f0f\uff1a ![[Pasted image 20230729000726.png]] \u5bf9\u4e8e\u524d\u4f8b\u4e2d\u7684swap()\u51fd\u6570\uff1a ![[Pasted image 20230729000857.png]]</p> <p>\uff084\uff09\u7efc\u5408\u5206\u6790\uff1a ![[Pasted image 20230729001036.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/","title":"Chapter9\u5185\u5b58\u6a21\u578b\u548c\u540d\u79f0\u7a7a\u95f4","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#1","title":"1\uff09\u5355\u72ec\u7f16\u8bd1\uff1a","text":"<p>\u7406\u8bba\u77e5\u8bc6\u89c1\u4e66\uff0c\u5b9e\u6218\u65b9\u6cd5\u4e0d\u4f1a</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#2","title":"2\uff09\u5b58\u50a8\u6301\u7eed\u6027\u3001\u4f5c\u7528\u57df\u548c\u94fe\u63a5\u6027\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#1c","title":"\u30101\u3011c++\u4e2d\u91c7\u53d6\u4e86\u56db\u79cd\u4e0d\u540c\u7684\u65b9\u6848\u5b58\u50a8\u6570\u636e\uff0c\u5b83\u4eec\u533a\u522b\u5728\u4e8e\uff1a\u6570\u636e\u4fdd\u7559\u5728\u5185\u5b58\u4e2d\u7684\u65f6\u95f4","text":"<p>![[Pasted image 20230729093202.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#2_1","title":"\u30102\u3011\u4f5c\u7528\u57df\u4e0e\u94fe\u63a5","text":"<p>\uff081\uff09\u4f5c\u7528\u57df(scope)\uff1a\u540d\u79f0\u5728\u6587\u4ef6\u7684\u591a\u5927\u8303\u56f4\u5185\u53ef\u89c1</p> <p>[1] \u51fd\u6570\u4e2d\u5b9a\u4e49\u7684\u53d8\u91cf\u53ef\u5728\u8be5\u51fd\u6570\u4e2d\u4f7f\u7528\uff0c\u4f46\u662f\u4e0d\u80fd\u5728\u5176\u4ed6\u51fd\u6570\u4e2d\u4f7f\u7528 [2] \u5728\u6587\u4ef6\u7684\u51fd\u6570\u5b9a\u4e49\u4e4b\u524d\u5b9a\u4e49\u7684\u53d8\u91cf\uff0c\u53ef\u4ee5\u5728\u6240\u4ee5\u51fd\u6570\u4e2d\u4f7f\u7528 [3] \u7c7b\u4e2d\u58f0\u660e\u7684\u6210\u5458\u7684\u4f5c\u7528\u57df\u662f\uff1a\u6574\u4e2a\u7c7b [4]\u540d\u79f0\u7a7a\u95f4\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\u7684\u4f5c\u7528\u57df\u662f\uff1a\u6574\u4e2a\u540d\u79f0\u7a7a\u95f4 [5]==\u81ea\u52a8\u53d8\u91cf\uff08\u5c40\u90e8\u4f5c\u7528\u57df\u53d8\u91cf\uff09== \u4f5c\u7528\u57df\u662f\u5c40\u90e8\uff0c\u9759\u6001\u53d8\u91cf\u4f5c\u7528\u57df\u662f\u5168\u5c40/\u5c40\u90e8\uff08\u53d6\u51b3\u4e8e\u5b83\u7684\u5b9a\u4e49\uff09</p> <p>\uff082\uff09\u94fe\u63a5\u6027(linkage)\uff1a\u540d\u79f0\u5982\u4f55\u5728\u4e0d\u540c\u5355\u5143\u4e4b\u95f4\u5171\u4eab</p> <p>[1] \u94fe\u63a5\u6027\u662f\u5916\u90e8\u7684\u540d\u79f0\u53ef\u4ee5\u5728\u6587\u4ef6\u4e4b\u95f4\u5171\u4eab [2] \u94fe\u63a5\u6027\u662f\u5185\u90e8\u7684\u540d\u79f0\u53ea\u80fd\u7531\u4e00\u4e2a\u6587\u4ef6\u4e2d\u7684\u51fd\u6570\u5171\u4eab [3] \u81ea\u52a8\u53d8\u91cf\uff08\u5c40\u90e8\u4f5c\u7528\u57df\u53d8\u91cf\uff09 \u540d\u79f0\u6ca1\u6709\u94fe\u63a5\u6027\uff0c\u5b83\u4eec\u4e0d\u53ef\u4ee5\u5171\u4eab</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#3","title":"\u30103\u3011\u81ea\u52a8\u5b58\u50a8\u6301\u7eed\u6027","text":"<p>[1] \u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff1a\u51fd\u6570\u4e2d\u58f0\u660e\u7684\u51fd\u6570\u53c2\u6570\u548c\u53d8\u91cf\u7684\u5b58\u50a8\u6301\u7eed\u6027\u4e3a\u81ea\u52a8\uff0c\u4f5c\u7528\u57df\u4e3a\u5c40\u90e8\uff0c\u6ca1\u6709\u94fe\u63a5\u6027 eg\uff1a\u5982\u679c\u5728main()\u4e2d\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3ahbx\u7684\u53d8\u91cf\uff0c\u5728\u540e\u7eed\u67d0\u51fd\u6570wow()\u5185\u4e5f\u58f0\u660e\u4e86\u4e00\u4e2a\u540d\u4e3ahbx\u7684\u53d8\u91cf\uff0c\u5219\u521b\u5efa\u4e86\u4e24\u4e2a\u72ec\u7acb\u7684\u53d8\u91cf: \u5bf9wow()\u4e2d\u7684hbx\u6267\u884c\u4efb\u4f55\u64cd\u4f5c\u90fd\u4e0d\u4f1a\u5f71\u54cdmain()\u4e2d\u7684hbx\uff0c\u53cd\u4e4b\u4ea6\u7136\uff01    ==ps\uff1a\u81ea\u52a8\u53d8\u91cf\uff1a\u6267\u884c\u5230\u4ee3\u7801\u5757\u65f6\uff0c\u5c06\u4e3a\u53d8\u91cf\u5206\u914d\u5185\u5b58\uff08but\uff1a\u4f5c\u7528\u57df\u7684\u8d77\u70b9\u662f\u5176\u58f0\u660e\u4f4d\u7f6e\uff09==</p> <p>[2] \u4ee3\u7801\u5757\u4e2d\u5b9a\u4e49\u4e86\u53d8\u91cf\uff0c\u5219\u53d8\u91cf\u7684\u5b58\u5728\u65f6\u95f4\u548c\u4f5c\u7528\u57df\u5c06\u88ab\u9650\u5236\u5728\u8be5\u4ee3\u7801\u5757\u5185 eg\uff1a\u5916\u90e8\u5b9a\u4e49\u4e86\u53d8\u91cfteledeli\uff0c\u5185\u90e8\u4ee3\u7801\u5757\u5b9a\u4e49\u7684\u540d\u79f0\u4e5f\u662fteledeli \u8fd9\u79cd\u60c5\u51b5\u4e0b\uff1a\u7a0b\u5e8f\u5c06\u6267\u884c\u5185\u90e8\u4ee3\u7801\u5757\u7684\u8bed\u53e5\uff0c\u5c06teledeli\u89e3\u91ca\u4e3a\u5c40\u90e8\u4ee3\u7801\u5757\u53d8\u91cf\uff1b\u5f53\u7a0b\u5e8f\u79bb\u5f00\u8be5\u4ee3\u7801\u5757\u65f6\uff0c\u539f\u5b9a\u4e49\u53c8\u91cd\u65b0\u53ef\u89c1 called\uff1a\u65b0\u7684\u5b9a\u4e49\u9690\u85cf\u4e86\u4ee5\u524d\u7684\u5b9a\u4e49\uff08hide\uff09 <pre><code>#include&lt;bits/stdc++.h&gt;\nusing namespace std;\nint main()\n{\n\u00a0 \u00a0 int teledeli = 6;\n\u00a0 \u00a0 {\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"hello world!\" &lt;&lt;endl;\n\u00a0 \u00a0 \u00a0 \u00a0 int teledeli = 3;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; teledeli &lt;&lt; endl;\n\u00a0 \u00a0 }\n\u00a0 \u00a0 cout &lt;&lt; teledeli &lt;&lt; endl;\n\u00a0 \u00a0 return 0;\n}\n\n\u7ed3\u679c\uff1a\nhello world!\n3\n6\n</code></pre></p> <p>[3] \u7a0b\u5e8f\u5206\u6790\uff1a <pre><code>// autoscp.cpp -- illustrating scope of automatic variables\n#include &lt;iostream&gt;\nvoid oil(int x);\nint main()\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int texas = 31;\n\u00a0 \u00a0 int year = 2011;\n\n\u00a0 \u00a0 cout &lt;&lt; \"In main(), texas = \" &lt;&lt; texas &lt;&lt; \", &amp;texas = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;texas &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"In main(), year = \" &lt;&lt; year &lt;&lt; \", &amp;year = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;year &lt;&lt; endl;\n\n\u00a0 \u00a0 oil(texas);\n\u00a0 \u00a0 cout &lt;&lt; \"In main(), texas = \" &lt;&lt; texas &lt;&lt; \", &amp;texas = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;texas &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"In main(), year = \" &lt;&lt; year &lt;&lt; \", &amp;year = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;year &lt;&lt; endl;\n\u00a0 \u00a0 // cin.get();\n\u00a0 \u00a0 return 0;\n}\n\nvoid oil(int x)\n{\n\u00a0 \u00a0 using namespace std;\n\u00a0 \u00a0 int texas = 5;\n\u00a0 \u00a0 cout &lt;&lt; \"In oil(), texas = \" &lt;&lt; texas &lt;&lt; \", &amp;texas = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;texas &lt;&lt; endl;\n\u00a0 \u00a0 cout &lt;&lt; \"In oil(), x = \" &lt;&lt; x &lt;&lt; \", &amp;x = \";\n\u00a0 \u00a0 cout &lt;&lt; &amp;x &lt;&lt; endl;\n\u00a0 \u00a0 { \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // start a block\n\u00a0 \u00a0 \u00a0 \u00a0 int texas = 113;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"In block, texas = \" &lt;&lt; texas;\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \", &amp;texas = \" &lt;&lt; &amp;texas &lt;&lt; endl;\n\u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; \"In block, x = \" &lt;&lt; x &lt;&lt; \", &amp;x = \";\n\u00a0 \u00a0 \u00a0 \u00a0 cout &lt;&lt; &amp;x &lt;&lt; endl;\n\u00a0 \u00a0 } \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 \u00a0 // end a block\n\u00a0 \u00a0 cout &lt;&lt; \"Post-block texas = \" &lt;&lt; texas;\n\u00a0 \u00a0 cout &lt;&lt; \", &amp;texas = \" &lt;&lt; &amp;texas &lt;&lt; endl;\n}\n\nresult:\nIn main(), texas = 31, &amp;texas = 0x61fe1c\nIn main(), year = 2011, &amp;year = 0x61fe18\n\nIn oil(), texas = 5, &amp;texas = 0x61fddc     // \u51fd\u6570\u5185\u90e8\u53d8\u91cf\uff0c\u9075\u5faa\u5185\u90e8\nIn oil(), x = 31, &amp;x = 0x61fdf0            // \u5b9e\u53c2texas\u503c\u4f20\u9012\u7ed9x\uff0c\u56e0\u6b64x=31\uff0c\u4f46\u662f\u5730\u5740\u4e0d\u662ftexas\u7684\n\nIn block, texas = 113, &amp;texas = 0x61fdd8   // \u6a21\u5757\u5185\u7684hide\u539f\u5219\nIn block, x = 31, &amp;x = 0x61fdf0            // \u5bf9\u4e8e\u6a21\u5757{}\u800c\u8a00\u662f\u201c\u5168\u5c40\u201d\nPost-block texas = 5, &amp;texas = 0x61fddc    // \u5f53\u7a0b\u5e8f\u79bb\u5f00\u8be5\u4ee3\u7801\u5757\u65f6\uff0c\u539f\u5b9a\u4e49\u53c8\u91cd\u65b0\u53ef\u89c1\nIn main(), texas = 31, &amp;texas = 0x61fe1c\nIn main(), year = 2011, &amp;year = 0x61fe18\n</code></pre></p> <p>[4] \u81ea\u52a8\u53d8\u91cf\u4e0e\u6808(stack)\uff1a \u7a0b\u5e8f\u5fc5\u987b\u5728\u8fd0\u884c\u65f6\u5bf9\u81ea\u52a8\u53d8\u91cf\u8fdb\u884c\u7ba1\u7406\uff0c\u5e38\u7528\u7684\u65b9\u6cd5\u662f\u7a7a\u51fa\u4e00\u6bb5\u5185\u5b58\uff0c\u5e76\u5c06\u5176\u89c6\u4e3a\u6808\uff08\u65b0\u6570\u636e\u8c61\u5f81\u6027\u5730\u653e\u5728\u539f\u6709\u6570\u636e\u7684\u4e0a\u9762\uff1b\u7a0b\u5e8f\u4f7f\u7528\u5b8c\u540e\uff0c\u5c06\u5176\u4ece\u6808\u4e2d\u5220\u9664\uff1b\u6808\u7684\u9ed8\u8ba4\u957f\u5ea6\u53d6\u51b3\u4e8e\u5b9e\u73b0\uff09</p> <p>[5] \u5bc4\u5b58\u5668\u53d8\u91cf\uff1a \u5173\u952e\u5b57 register <pre><code>register int hbx;  // request for a register variable!\n\n=&gt; \u65e8\u5728\u63d0\u9ad8\u8bbf\u95ee\u53d8\u91cf\u7684\u901f\u5ea6\uff01\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#4","title":"\u30104\u3011\u9759\u6001\u6301\u7eed\u53d8\u91cf","text":"<p>[1]  c++\u4e3a\u9759\u6001\u5b58\u50a8\u6301\u7eed\u6027\u53d8\u91cf\u63d0\u4f9b\u4e863\u79cd\u94fe\u63a5\u6027\uff1a \uff081\uff09\u5916\u90e8\u94fe\u63a5\u6027\uff1a\u53ef\u5728\u5176\u4ed6\u6587\u4ef6\u4e2d\u8bbf\u95ee \uff082\uff09\u5185\u90e8\u94fe\u63a5\u6027\uff1a\u53ea\u80fd\u5728\u5f53\u524d\u6587\u4ef6\u4e2d\u8bbf\u95ee \uff083\uff09\u65e0\u94fe\u63a5\u6027\uff1a\u53ea\u80fd\u5728\u5f53\u524d\u51fd\u6570/\u4ee3\u7801\u5757\u4e2d\u8bbf\u95ee</p> <p>[2]  \u521b\u5efa\u65b9\u5f0f\uff1a</p> <p>[2.1] \u5916\u90e8\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5916\u9762\u58f0\u660e\u5b83 [2.2] \u5185\u90e8\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5916\u9762\u58f0\u660e\u5b83\uff0c\u5e76\u4e14\u52a0\u4e0a static \u9650\u5b9a\u7b26 [2.3] \u65e0\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5185\u90e8\u58f0\u660e\u5b83\uff0c\u5e76\u4e14\u52a0\u4e0a static \u9650\u5b9a\u7b26</p> <p>==ask\uff1a\u51fd\u6570\u5185\u90e8\u58f0\u660e\u7684\u201c\u65e0\u94fe\u63a5\u6027\u53d8\u91cf\u201d\u4f5c\u7528\u57df\u662f\u5c40\u90e8\uff0c\u6ca1\u6709\u94fe\u63a5\u6027\uff0c\u5b83\u5c31\u50cf\u81ea\u52a8\u53d8\u91cf\u4e00\u6837\uff0c\u4e8c\u8005\u6709\u4f55\u533a\u522b\uff1f== \u65e0\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u8be5\u51fd\u6570\u6ca1\u6709\u88ab\u6267\u884c\u65f6\uff0c\u4e5f\u7559\u5728\u5185\u5b58\u4e2d\uff01 \u81ea\u52a8\u53d8\u91cf\uff1a\u6267\u884c\u5230\u4ee3\u7801\u5757\u65f6\uff0c\u5c06\u4e3a\u53d8\u91cf\u5206\u914d\u5185\u5b58\uff08but\uff1a\u4f5c\u7528\u57df\u7684\u8d77\u70b9\u662f\u5176\u58f0\u660e\u4f4d\u7f6e\uff09</p> <p>[3]  \u9759\u6001\u53d8\u91cf\u7684\u521d\u59cb\u5316\uff1a \uff081\uff09\u9759\u6001\u521d\u59cb\u5316\uff1a\u96f6\u521d\u59cb\u5316 + \u5e38\u91cf\u8868\u8fbe\u5f0f\u521d\u59cb\u5316 \uff08\u7f16\u8bd1\u5668\u5904\u7406\u6587\u4ef6\u65f6\u521d\u59cb\u5316\uff09 \uff082\uff09\u52a8\u6001\u521d\u59cb\u5316\uff1a\uff08\u5728\u7f16\u8bd1\u540e\u521d\u59cb\u5316\uff09 <pre><code>\u5b9e\u4f8b\u5206\u6790\u6267\u884c\u987a\u5e8f\uff1a\n#include&lt;cmath&gt;\nint x;                                  // zero-initialization\nint y = 5;                              // constant-expression initialization\nlong z = 13 * 13;                       // constant-expression initialization\nconst double pi = 4.0 * atan(1.0);      // dynamic initialization\n\n[1] x,y,z,pi\u88ab\u96f6\u521d\u59cb\u5316\n[2] \u7f16\u8bd1\u5668\u8ba1\u7b97\u5e38\u91cf\u8868\u8fbe\u5f0f\uff0c\u5e76\u5c06y\u548cz\u5206\u522b\u521d\u59cb\u5316\u62105\u548c169\n[3] \u4f46\u8981\u521d\u59cb\u5316pi\uff0c\u5fc5\u987b\u8c03\u7528\u51fd\u6570 atan() \uff0c\u8fd9\u9700\u8981\u7b49\u5230\u51fd\u6570\u88ab\uff1b\u94fe\u63a5\u4e14\u7a0b\u5e8f\u6267\u884c\u65f6\n\npoi\uff1a\u5e38\u91cf\u8868\u8fbe\u5f0f\u5e76\u975e\u53ea\u80fd\u4f7f\u7528\u5b57\u9762\u5e38\u91cf\u7684\u7b97\u6570\u8868\u8fbe\u5f0f\neg\uff1a\u53ef\u4ee5\u7528 sizeof() \u8fd0\u7b97\u7b26\n    int hbx = 2 * sizeof(long) + 1;\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#5","title":"\u30105\u3011\u9759\u6001\u6301\u7eed\u6027 + \u5916\u90e8\u94fe\u63a5\u6027\uff08\u5916\u90e8\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5916\u9762\u58f0\u660e\u5b83\uff09","text":"<p>\uff081\uff09\u5916\u90e8\u53d8\u91cf\u662f\u5728\u51fd\u6570\u5916\u90e8\u5b9a\u4e49\u7684\uff0c\u56e0\u6b64\u5bf9\u6240\u6709\u51fd\u6570\u800c\u8a00\u90fd\u662f\u5916\u90e8\u7684\uff0c\u6545\u5916\u90e8\u53d8\u91cf\u4e5f\u53eb\u4f5c\u5168\u5c40\u53d8\u91cf</p> <p>\uff082\uff09\u5355\u5b9a\u4e49\u89c4\u5219\uff1a\u53d8\u91cf\u53ea\u80fd\u6709\u4e00\u6b21\u5b9a\u4e49</p> <p>\u30101\u3011c++ \u63d0\u4f9b\u4e86\u4e24\u79cd\u53d8\u91cf\u58f0\u660e [1] \u5b9a\u4e49\u58f0\u660e\uff08\u4e5f\u53eb\u4f5c\uff1a\u5b9a\u4e49\uff0ccalled\uff1adefinition\uff09\uff1a\u5b83\u7ed9\u53d8\u91cf\u5206\u914d\u5b58\u50a8\u7a7a\u95f4 [2] \u5f15\u7528\u58f0\u660e\uff08called\uff1adeclaration\uff09\uff1a\u5b83\u4e0d\u7ed9\u53d8\u91cf\u5206\u914d\u5b58\u50a8\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5b83\u5f15\u7528\u5df2\u6709\u7684\u53d8\u91cf</p> <p>\u30102\u3011\u4f7f\u7528\u65b9\u5f0f\uff1a \u5f15\u7528\u58f0\u660e\uff1a\u4f7f\u7528\u5173\u952e\u5b57extern \u4e14 \u4e0d\u8fdb\u884c\u521d\u59cb\u5316 \u5426\u5219\uff0c\u58f0\u660e\u4e3a\u5b9a\u4e49\uff0c\u5bfc\u81f4\u5185\u5b58\u4e3a\u5176\u5206\u914d\u7a7a\u95f4 eg\uff1a <pre><code>double up;             // definition , up is 0\nextern int blem;       // declaration: blem is defined elsewhere\nextern char gr = 'z';  // definition:  because initialized\n</code></pre></p> <p>\u30103\u3011\u591a\u6587\u4ef6\u7f16\u8bd1\u65f6\u8981\u70b9\uff1a \u5982\u679c\u8981\u5728\u591a\u4e2a\u6587\u4ef6\u4e2d\u4f7f\u7528\u5916\u90e8\u53d8\u91cf\uff0c\u53ea\u9700\u5728\u4e00\u4e2a\u6587\u4ef6\u4e2d\u5305\u542b\u8be5\u53d8\u91cf\u7684\u5b9a\u4e49\uff0c\u4f46\u5728\u4f7f\u7528\u8be5\u53d8\u91cf\u7684\u6240\u6709\u5176\u4ed6\u6587\u4ef6\u4e2d\uff0c\u90fd\u5fc5\u987b\u4f7f\u7528\u5173\u952e\u5b57extern\u58f0\u660e\u5b83 <pre><code>// file01.cpp\nextern int cats = 20;  // definition: because of initialization\nint dogs = 22;         // definition: dogs is 22\nint fleas;             // definition: fleas is 0 (automatically)\n\n// file02.cpp\nextern int cats;      // declaration\nextern int dogs;      // declaration\n\n// file03.cpp\nextern int cats;      // declaration\nextern int dogs;      // declaration\nextern int fleas;     // declaration\n</code></pre> ps\uff1a\u5355\u5b9a\u4e49\u89c4\u5219\u5e76\u975e\u610f\u5473\u7740\u4e0d\u80fd\u6709\u591a\u4e2a\u53d8\u91cf\u7684\u540d\u79f0\u76f8\u540c\uff0ceg\uff1a\u5728 \u4e0d\u540c\u7684\u51fd\u6570 \u4e2d\u58f0\u660e\u7684 \u540c\u540d\u81ea\u52a8\u53d8\u91cf \u662f\u5f7c\u6b64\u72ec\u7acb\u7684\uff0c\u5b83\u4eec\u90fd\u6709\u81ea\u5df1\u7684\u5730\u5740 \u867d\u7136\u7a0b\u5e8f\u4e2d\u53ef\u5305\u542b\u591a\u4e2a\u540c\u540d\u7684\u53d8\u91cf\uff0c\u4f46\u662f\u6bcf\u4e2a\u53d8\u91cf\u53ea\u80fd\u6709\u4e00\u4e2a\u5b9a\u4e49</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#6-static","title":"\u30106\u3011\u9759\u6001\u6301\u7eed\u6027 + \u5185\u90e8\u94fe\u63a5\u6027\uff08\u5185\u90e8\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5916\u9762\u58f0\u660e\u5b83\uff0c\u5e76\u4e14\u52a0\u4e0a static \u9650\u5b9a\u7b26\uff09","text":"<p>\uff081\uff09\u77e5\u8bc6\uff1a\u5982\u679c\u6587\u4ef6\u5b9a\u4e49\u4e86\u4e00\u4e2a \u9759\u6001\u5916\u90e8\u53d8\u91cf \uff0c\u5176\u540d\u79f0\u4e0e\u53e6\u4e00\u4e2a\u6587\u4ef6\u4e2d\u58f0\u660e\u7684 \u5e38\u89c4\u5916\u90e8\u53d8\u91cf \u76f8\u540c\uff0c\u5219\u5728\u8be5\u6587\u4ef6\u4e2d\uff0c\u9759\u6001\u53d8\u91cf\u5c06\u9690\u85cf\u5e38\u89c4\u5916\u90e8\u53d8\u91cf</p> <p>\uff082\uff09\u95ee\u9898\u5206\u6790\uff1a <pre><code>// file1\nint errors = 20; // external declaration\n\n// file2\nint errors = 5;  // problem!!!\nvoid f()\n{\n    cout &lt;&lt; errors &lt;&lt;endl;  // fails\n    ......\n}\n</code></pre> \u8fd9\u79cd\u4f5c\u6cd5\u5c06\u5931\u8d25\uff01file2\u7684\u5b9a\u4e49\u8bd5\u56fe\u521b\u5efa\u4e00\u4e2a\u5916\u90e8\u53d8\u91cf\uff0c\u56e0\u6b64\u7a0b\u5e8f\u5c06\u5305\u542berrors\u7684\u4e24\u4e2a\u5b9a\u4e49\uff0c\u8fd9\u662f\u9519\u8bef\uff01</p> <p>\uff083\uff09\u6539\u8fdb\u65b9\u6cd5\uff1a <pre><code>// file1\nint errors = 20; // external declaration\n\n// file2\nstatic int errors = 5;  // known to file2 only\nvoid f()\n{\n    cout &lt;&lt; errors &lt;&lt;endl;  // use \"errors\" defined in file2\n    ......\n}\n</code></pre> \u5173\u952e\u5b57static\u6307\u51faerrors\u7684\u94fe\u63a5\u6027\u4e3a\u5185\u90e8\uff0c\u4e0d\u9700\u8981\u63d0\u4f9b\u5916\u90e8\u5b9a\u4e49</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#7-static","title":"\u30107\u3011\u9759\u6001\u5b58\u50a8\u6301\u7eed\u6027 + \u65e0\u94fe\u63a5\u6027\uff08\u65e0\u94fe\u63a5\u6027\u53d8\u91cf\uff1a\u5728\u4ee3\u7801\u5757\u5185\u90e8\u58f0\u660e\u5b83\uff0c\u5e76\u4e14\u52a0\u4e0a static \u9650\u5b9a\u7b26\uff09","text":"<p>\u65e0\u94fe\u63a5\u6027\u7684\u5c40\u90e8\u53d8\u91cf\uff1a\u8be5\u53d8\u91cf\u53ea\u5728\u8be5\u4ee3\u7801\u5757\u4e2d\u53ef\u7528\uff0c\u4f46\u662f\u5b83\u5728\u8be5\u4ee3\u7801\u5757\u4e0d\u5904\u4e8e\u6d3b\u52a8\u72b6\u6001\u65f6\u4ecd\u5b58\u5728</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#8","title":"\u30108\u3011\u51fd\u6570\u548c\u94fe\u63a5\u6027","text":"<p>\uff081\uff09\u57fa\u672c\u89c4\u5219\u4e0e\u4f7f\u7528\u65b9\u6cd5\uff1a</p> <p>\u7c7b\u6bd4\u4e0a\u8ff0\uff0c\u7565\u4e4b\uff01</p> <p>\uff082\uff09\u5bf9\u4e8e\u5185\u8054\u51fd\u6570\uff1a</p> <p>\u5185\u8054\u51fd\u6570\u4e0d\u53d7\u8fd9\u4e9b\u7ea6\u675f\uff0c\u8fd9\u4f7f\u5f97 \u5185\u8054\u51fd\u6570\u7684\u5b9a\u4e49 \u53ef\u4ee5\u88ab\u653e\u5165\u5934\u6587\u4ef6\u4e2d</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#9","title":"\u30109\u3011\u5b58\u50a8\u65b9\u6848\u548c\u52a8\u6001\u5206\u914d","text":"<p>\u5177\u4f53\u8fc7\u7a0b\u89c1\u4e66\u5373\u53ef\uff0c\u73b0\u9636\u6bb5\u4e0d\u9700\u8981\u638c\u63e1\u592a\u591a\uff0c\u641e\u6e05\u695a\u6982\u5ff5\u540d\u8bcd\u5373\u53ef\uff01</p> <p>\u8fd9\u91cc\u91cd\u70b9\u4ecb\u7ecd\u4e0b\u521d\u59cb\u5316\uff1a <pre><code>[1] \u6807\u91cf\u7c7b\u578b\u3010\u5e38\u89c4\u5316\u5904\u7406\u3011\nint *pi = new int (6);               // *pi set to 6\ndouble *pd = new double (99.99);     // *pd set to 99.99\n------------------------------------------------------------------------\n[2]\u521d\u59cb\u5316\u7ed3\u6784\u4f53or\u6570\u7ec4\u3010\u521d\u59cb\u5316\u5217\u8868\u3011\n\n1) \u7ed3\u6784\u4f53\uff1a\nstruct hbx {\n    double x;\n    double y;\n    double z;\n};\nhbx *one = new hbx {2.5, 1.9, 8.0};\n\n2) \u6570\u7ec4\uff1a\nint *arr = new int[4] {1, 2, 3, 4};\n------------------------------------------------------------------------\n[3]\u5355\u503c\u5143\u7d20\u3010\u521d\u59cb\u5316\u5217\u8868\u3011\nint *pi = new int {6};       // *pi set to 6\nint *pd = new double{99.99}; // *pd set to 99.99\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#3_1","title":"3\uff09\u540d\u79f0\u7a7a\u95f4\uff1a","text":""},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#1-c","title":"\uff081\uff09\u4f20\u7edf\u7684 c++ \u540d\u79f0\u7a7a\u95f4","text":"<p>\u30101\u3011\u58f0\u660e\u533a\u57df\uff1a\u53ef\u4ee5\u5728\u5176\u4e2d\u8fdb\u884c\u58f0\u660e\u7684\u533a\u57df</p> <p>eg1:  \u5728\u51fd\u6570\u5916\u9762\u58f0\u660e\u5168\u5c40\u53d8\u91cf\uff0c\u5176\u58f0\u660e\u533a\u57df\u662f\u58f0\u660e\u6240\u5728\u7684\u6587\u4ef6 eg2:  \u5728\u51fd\u6570\u4e2d\u58f0\u660e\u7684\u53d8\u91cf\uff0c\u5176\u58f0\u660e\u533a\u57df\u662f\u5176\u58f0\u660e\u6240\u5728\u7684\u4ee3\u7801\u5757</p> <p>\u30102\u3011\u6f5c\u5728\u4f5c\u7528\u57df\uff1a\u4ece\u58f0\u660e\u5f00\u59cb\uff0c\u5230\u58f0\u660e\u533a\u57df\u7684\u7ed3\u5c3e</p> <p>hence\uff1a\u6f5c\u5728\u4f5c\u7528\u57df\u6bd4\u58f0\u660e\u533a\u57df\u5c0f\uff0c\u8fd9\u662f\u7531\u4e8e\u53d8\u91cf\u5fc5\u987b\u5b9a\u4ee5\u540e\u624d\u80fd\u4f7f\u7528 poi\uff1a\u53d8\u91cf\u5e76\u975e\u5728\u5176\u6f5c\u5728\u4f5c\u7528\u57df\u5185\u7684\u4efb\u4f55\u4f4d\u7f6e\u90fd\u662f\u53ef\u89c1\u7684\uff0c\u6bd4\u5982\uff1a\u5b83\u53ef\u80fd\u88ab\u53e6\u4e00\u4e2a\u5d4c\u5957\u58f0\u660e\u533a\u57df\u4e2d\u58f0\u660e\u7684\u540c\u540d\u53d8\u91cf\u9690\u85cf</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#2_2","title":"\uff082\uff09\u65b0\u7684\u540d\u79f0\u7a7a\u95f4\u7279\u6027","text":"<p>\u30101\u3011\u4e00\u4e2a\u540d\u79f0\u7a7a\u95f4\u4e2d\u7684\u540d\u79f0\u4e0d\u4f1a\u548c\u53e6\u4e00\u4e2a\u540d\u79f0\u7a7a\u95f4\u7684\u76f8\u540c\u540d\u79f0\u53d1\u751f\u51b2\u7a81 <pre><code>namespace Jack {\n    int pail;\n    void fetch();\n    struct node (......);\n}\n\nnamespace Jill {\n    int pail;\n    void fetch();\n    struct node (......);\n}\n</code></pre></p> <p>\u30102\u3011\u540d\u79f0\u7a7a\u95f4\uff1a1\uff09\u7528\u6237\u81ea\u5b9a\u4e49\u7684\uff1b2\uff09\u5168\u5c40\u540d\u79f0\u7a7a\u95f4 ( global namespace )</p> <p>\u30103\u3011\u540d\u79f0\u7a7a\u95f4\u662f\u5f00\u653e(open)\u7684\uff0c\u5373\uff1a\u53ef\u4ee5\u628a\u540d\u79f0\u52a0\u5165\u5230\u5df2\u6709\u7684\u540d\u79f0\u7a7a\u95f4</p> <p>\u30104\u3011\u8bbf\u95ee \u7ed9\u5b9a\u540d\u79f0\u7a7a\u95f4\u4e2d\u7684\u540d\u79f0 \u7684\u65b9\u5f0f\uff1a\u4f5c\u7528\u57df\u89e3\u6790\u8fd0\u7b97\u7b26 : :  <pre><code>Jack :: pail = 12;  // use a variable\nJill :: node mole;  // create a type node_structure\nJack :: fetch();    // use a function\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#3using","title":"\uff083\uff09using \u58f0\u660e","text":"<p>\u30101\u3011\u7ec4\u6210\uff1a\u88ab\u9650\u5b9a\u7684\u540d\u79f0 + \u5173\u952e\u5b57 using <pre><code>using Jill :: fetch; // a using declaration\n</code></pre></p> <p>\u30102\u3011\u5728\u51fd\u6570\u5185\u4f7f\u7528 using \u58f0\u660e\uff1a\u5b9e\u73b0 ( local namespace ) \u540d\u79f0\u66ff\u4ee3 <pre><code>namespace Jill {\n    double bucket (double n) {......};\n    double fetch;\n    struct Hill {......};\n}\n\nchar fetch;     // global variable\nint main()\n{\n    using Jill :: fetch;  // put fetch into local namespace \n    double fetch;         // ERROR! it tries to set up a local name, however! Already have a local fetch!\n    cin &gt;&gt; fetch;         // read a value into Jill::fetch\n    cin &gt;&gt; ::fetch;       // read a value into global fetch\n}\n\n(1) using Jill::fetch \u5c06 fetch \u6dfb\u52a0\u5230 main() \u5b9a\u4e49\u7684\u58f0\u660e\u533a\u57df\u5185\u3002\u5b8c\u6210\u8be5\u58f0\u660e\u540e\uff0c\u4fbf\u53ef\u4ee5\u7528 fetch \u4ee3\u66ff Jill::fetch\n(2) using \u7684\u5c40\u90e8\u58f0\u660e\u907f\u514d\u4e86\u5c06\u53e6\u4e00\u4e2a\u5c40\u90e8\u53d8\u91cf\u4e5f\u547d\u540d\u6210fetch\n(3) fetch \u4f5c\u4e3a\u5c40\u90e8\u53d8\u91cf\uff0c\u4e5f\u4f1a\u8986\u76d6\u540c\u540d\u7684\u5168\u5c40\u53d8\u91cf\n</code></pre></p> <p>\u30103\u3011\u5728\u51fd\u6570\u5916\u4f7f\u7528 using \u58f0\u660e\uff1a\u5b9e\u73b0 ( global namespace ) \u540d\u79f0\u66ff\u4ee3 <pre><code>void other();\nnamespace Jill {\n    double bucket (double n) {......};\n    double fetch;\n    struct Hill {......};\n}\n\nusing Jill :: fetch;    // put fetch into global namespace\nint main()\n{\n    cin &gt;&gt; fetch;       // read a value into Jill::fetch\n    other();\n    ......\n}\n\nvoid other()\n{\n    cout &lt;&lt; fetch &lt;&lt;endl;  // display Jill::fetch\n    ......\n}\n</code></pre></p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#4using","title":"\uff084\uff09using \u7f16\u8bd1\u6307\u4ee4","text":"<p>\u30101\u3011\u7ec4\u6210\uff1a\u5173\u952e\u5b57 using namespace + \u540d\u79f0 <pre><code>using namespace Jack; // make all the names in Jack available\n</code></pre> \u30102\u3011\u5728\u5168\u5c40\u58f0\u660e\u533a\u57df\u4e2d\u4f7f\u7528 using \u7f16\u8bd1\u6307\u4ee4\uff0c\u5c06\u4f7f\u8be5\u540d\u79f0\u7a7a\u95f4\u7684\u540d\u79f0\u5168\u5c40\u53ef\u7528 <pre><code>#include&lt;iostream&gt;\nusing namespace std; // making names available globally\n</code></pre> \u30103\u3011\u5728\u51fd\u6570\u4e2d\u4f7f\u7528 using \u7f16\u8bd1\u6307\u4ee4\uff0c\u5c06\u4f7f\u5176\u4e2d\u7684\u540d\u79f0\u5728\u8be5\u51fd\u6570\u4e2d\u53ef\u7528 <pre><code>#include&lt;iostream&gt;\nint main()\n{\n    using namespace Jack; // making names available in main()\n    ......\n}\n</code></pre> \u30104\u3011\u5b9e\u4f8b\u5206\u6790\uff1a <pre><code>namespace Jill {\n    double bucket(double n) {...}\n    double fetch;\n    struct Hill {...};\n}\n\nchar fetch;                    // global namespace \n\nint main()\n{\n    using namespace Jill;      // import all namespace names\n    Hill Thrill;               // create a type Jill::Hill structure\n    double water = bucket(2);  // use Jill::bucket()\n    double fetch;              // \u5c40\u90e8\u58f0\u660e\u7684fetch\u4f1a(local name)\u9690\u85cfJill::fetch \u548c \u5168\u5c40fetch\n    cin &gt;&gt; fetch;              // read a value into the local fetch\n    cin &gt;&gt; ::fetch;            // read a value into the global fetch\n    cin &gt;&gt; Jill :: fetch;      // read a value into Jill::fetch\n    ......\n}\n\nint foom()\n{\n    Hill top;              // Error\uff01\n    Jill :: Hill crest;    // valid\uff01\n}\n</code></pre> ![[Pasted image 20230729211540.png]]</p> <p>point:</p> <p>[1] using\u7f16\u8bd1\u6307\u4ee4 \u548c using\u58f0\u660e\uff1a\u5b83\u4eec\u589e\u52a0\u4e86\u540d\u79f0\u51b2\u7a81\u7684\u53ef\u80fd\u6027 <pre><code>1) \u6807\u8bc6\u7b26\njack :: pal = 3;\njill :: pal = 6;\n                            valid!\n\n2) using\u58f0\u660e\nusing jack::pal;\nusing jill::pal;\npal = 4;\n                            which one? now have a conflict!\n</code></pre></p> <p>[2]\u7efc\u5408\u8bf4\u660e\uff1a ![[Pasted image 20230729211951.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#5_1","title":"\uff085\uff09\u540d\u79f0\u7a7a\u95f4\u7684\u5176\u4ed6\u7279\u6027","text":"<p>![[Pasted image 20230729212127.png]] ![[Pasted image 20230729212140.png]]</p>"},{"location":"curriculum_study/C%2B%2BPrimerPlus/chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/#6","title":"\uff086\uff09\u672a\u547d\u540d\u7684\u540d\u79f0\u7a7a\u95f4","text":"<p>![[Pasted image 20230729212242.png]] ![[Pasted image 20230729212252.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/","title":"Chapter2 \u4fe1\u606f\u7684\u8868\u793a\u548c\u5904\u7406","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#_1","title":"\u5b66\u4e60\u76ee\u6807","text":"<ol> <li>\u7406\u89e3\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u590d\u6742\u4e0e\u548c\u7406\u8bba\u62bd\u8c61\u63cf\u8ff0\u7684\u4e0d\u540c</li> <li>\u7406\u89e3\u5185\u5b58\u4e2d\u6570\u636e\u7684\u4fdd\u5b58\u5f62\u5f0f\uff0c\u4ee5\u53ca\u8fd9\u79cd\u65b9\u5f0f\u7684\u597d\u5904\u4ee5\u53ca\u9650\u5236</li> <li>\u6ce8\u610f\u907f\u5f00\u4e00\u4e9b\u5e38\u89c1\u7684\u5173\u4e8e\u8ba1\u7b97\u673a\u7684\u8ff7\u601d</li> <li>\u533a\u522b\u6574\u578b\u548c\u6d6e\u70b9\u6570\u7684\u8868\u8fbe\u673a\u5236\uff0c\u5e76\u7406\u89e3\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u79cd\u5dee\u5f02</li> <li>\u7b80\u5355\u7406\u89e3\u6ea2\u51fa\u51fa\u73b0\u7684\u6761\u4ef6</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part-1","title":"Part 1\uff1a\u6bd4\u7279","text":"<p>\u8fd9\u4e00\u8bb2\u7684\u4e3b\u8981\u5185\u5bb9 \u2014\u2014 \u6bd4\u7279(bit)\u3002</p> <p>\u7814\u7a76\u95ee\u9898\u6709\u4e24\u79cd\u65b9\u6cd5\uff0c\u4e00\u79cd\u662f\u81ea\u9876\u5411\u4e0b\uff0c\u53e6\u4e00\u79cd\u662f\u81ea\u5e95\u5411\u4e0a\u3002\u5bf9\u4e8e\u8bbe\u8ba1\u6765\u8bf4\uff0c\u5f88\u591a\u65f6\u5019\u662f\u81ea\u9876\u5411\u4e0b\u7684\uff0c\u4ece\u4e00\u4e2a\u6574\u4f53\u60f3\u6cd5\u51fa\u53d1\uff0c\u7136\u540e\u6162\u6162\u7ec6\u5316\uff1b\u800c\u5728\u5b66\u4e60\u5316\u5b66\u7684\u65f6\u5019\uff0c\u5f80\u5f80\u662f\u81ea\u5e95\u5411\u4e0a\u7684\uff0c\u6bd4\u65b9\u8bf4\u5148\u53bb\u4e86\u89e3\u7ec4\u6210\u5143\u7d20\u7684\u57fa\u672c\u7c92\u5b50\uff0c\u7136\u540e\u5728\u8fd9\u4e9b\u7c92\u5b50\u7684\u57fa\u7840\u4e0a\u8fdb\u884c\u66f4\u52a0\u62bd\u8c61\u7684\u7814\u7a76\u3002\u4ece\u8fd9\u4e2a\u89d2\u5ea6\u770b\uff0c\u5b66\u4e60\u8ba1\u7b97\u673a\u7cfb\u7edf\uff0c\u81ea\u5e95\u5411\u4e0a\u53ef\u80fd\u662f\u4e00\u4e2a\u597d\u7684\u65b9\u5411\u3002</p> <p>\u5728\u8ba1\u7b97\u673a\u4e2d\uff0c\u6211\u4eec\u770b\u5230\u7684\u4e00\u5207\uff0c\u5f52\u6839\u5230\u5e95\uff0c\u90fd\u662f\u6bd4\u7279\uff0c\u6bcf\u4e2a\u6bd4\u7279\u4e0d\u662f 0 \u5c31\u662f 1\u3002\u8ba1\u7b97\u673a\u5c31\u662f\u901a\u8fc7\u5bf9\u6bd4\u7279\u8fdb\u884c\u4e0d\u540c\u65b9\u5f0f\u7684\u7f16\u7801\u548c\u63cf\u8ff0\uff0c\u6765\u5b8c\u6210\u6267\u884c\u4e0d\u540c\u7684\u4efb\u52a1\u3002\u90a3\u4e48\u95ee\u9898\u6765\u4e86\uff0c\u4e3a\u4ec0\u4e48\u662f\u6bd4\u7279\u800c\u4e0d\u662f\u5176\u4ed6\u5462\uff1f\u8fd9\u5c31\u8981\u4ece\u6a21\u62df\u7535\u8def\u8bb2\u8d77\uff0c\u4e00\u8a00\u4ee5\u853d\u4e4b\u5c31\u662f\uff0c\u6bd4\u7279\u8fd9\u79cd\u63cf\u8ff0\u65b9\u5f0f\u5f88\u597d\u5b58\u50a8\uff0c\u5e76\u4e14\u5728\u6709\u566a\u58f0\u6216\u8005\u4f20\u8f93\u4e0d\u90a3\u4e48\u51c6\u786e\u7684\u60c5\u51b5\u4e0b\uff0c\u4e5f\u80fd\u4fdd\u6301\u6bd4\u8f83\u9ad8\u7684\u53ef\u9760\u5ea6\uff08\u7535\u538b\u503c\u6709\u4e00\u5b9a\u7684\u5bb9\u9519\u8303\u56f4\uff09\u3002</p> <p>\u5728\u8fd9\u6837\u7684\u7269\u7406\u57fa\u7840\u4e0a\uff0c\u8ba1\u7b97\u673a\u5c31\u662f\u4e00\u4e2a\u4e8c\u8fdb\u5236\u7cfb\u7edf\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u8fd9\u4e2a\u8868\u683c\u6765\u628a\u4e8c\u8fdb\u5236\u3001\u5341\u8fdb\u5236\u548c\u5341\u516d\u8fdb\u5236\u4e00\u4e00\u5bf9\u5e94\u8d77\u6765\uff0c\u8fd9\u4e09\u79cd\u6570\u5b57\u8868\u793a\u5f62\u5f0f\u5728\u4eca\u540e\u7684\u5b66\u4e60\u8fc7\u7a0b\u4e2d\u4f1a\u53cd\u590d\u51fa\u73b0\uff0c\u53ef\u4ee5\u628a\u8fd9\u4e2a\u8868\u683c\u5f53\u505a\u4e5d\u4e5d\u4e58\u6cd5\u8868\u6765\u770b\uff1a</p> \u5341\u516d\u8fdb\u5236 \u5341\u8fdb\u5236 \u4e8c\u8fdb\u5236 \u5341\u516d\u8fdb\u5236 \u5341\u8fdb\u5236 \u4e8c\u8fdb\u5236 0 0 0000 8 8 1000 1 1 0001 9 9 1001 2 2 0010 A 10 1010 3 3 0011 B 11 1011 4 4 0100 C 12 1100 5 5 0101 D 13 1101 6 6 0110 E 14 1110 7 7 0111 F 15 1111 <p>\u6b63\u5982\u52a0\u51cf\u4e58\u9664\uff0c==\u5173\u4e8e\u6bd4\u7279\u7684\u57fa\u672c\u903b\u8f91\u8fd0\u7b97==\u4e5f\u6709\u56db\u79cd\uff0c\u53ef\u4ee5==\u770b==\u505a\u662f\u5e03\u5c14\u4ee3\u6570\u7684\u5b50\u96c6==\u3002\u5bf9\u4e8e 0 \u548c 1 \u6765\u8bf4\uff0c\u662f\u8fd9\u6837\u7684\uff1a</p> <ul> <li>\u4e0e And\uff1a<code>A=1</code>\u00a0\u4e14\u00a0<code>B=1</code>\u00a0\u65f6\uff0c<code>A&amp;B = 1</code></li> <li>\u6216 Or\uff1a<code>A=1</code>\u00a0\u6216\u00a0<code>B=1</code>\u00a0\u65f6\uff0c<code>A|B = 1</code></li> <li>\u975e Not\uff1a<code>A=1</code>\u00a0\u65f6\uff0c<code>~A=0</code>\uff1b<code>A=0</code>\u00a0\u65f6\uff0c<code>~A=1</code></li> <li>\u5f02\u6216 Exclusive-Or(Xor)\uff1a<code>A=1</code>\u00a0\u6216\u00a0<code>B=1</code>\u00a0\u65f6\uff0c<code>A^B = 1</code>\uff1b<code>A=1</code>\u00a0\u4e14\u00a0<code>B=1</code>\u00a0\u65f6\uff0c<code>A^B = 0</code></li> </ul> <p>\u5bf9\u5e94\u4e0e\u96c6\u5408\u8fd0\u7b97\u5219\u662f\u4ea4\u96c6\u3001\u5e76\u96c6\u3001\u5dee\u96c6\u548c\u8865\u96c6\uff0c\u5047\u8bbe\u96c6\u5408 A \u662f\u00a0<code>{0, 3, 5, 6}</code>\uff0c\u96c6\u5408 B \u662f\u00a0<code>{0, 2, 4, 6}</code>\uff0c\u5168\u96c6\u4e3a\u00a0<code>{0, 1, 2, 3, 4, 5, 6, 7}</code>\u90a3\u4e48\uff1a</p> <ul> <li><code>&amp;</code>\u00a0\u4ea4\u96c6 Intersection\u00a0<code>{0, 6}</code></li> <li><code>|</code>\u00a0\u5e76\u96c6 Union\u00a0<code>{0, 2, 3, 4, 5, 6}</code></li> <li><code>^</code>\u00a0\u5dee\u96c6 Symmetric difference\u00a0<code>{2, 3, 4, 5}</code></li> <li><code>~</code>\u00a0\u8865\u96c6 Complement\u00a0<code>{1, 3, 5, 7}</code></li> </ul> <p>\u6709\u4e86\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u6765\u5177\u4f53\u770b\u770b\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5728\u8ba1\u7b97\u673a\u4e2d\u662f\u5982\u4f55\u5b58\u50a8\u548c\u8fdb\u884c\u8fd0\u7b97\u7684\u4e86\u3002</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part2-integer","title":"Part2\uff1a\u6574\u578b Integer","text":"<p>C \u8bed\u8a00\u4e4b\u6240\u4ee5\u6548\u7387\u9ad8\uff0c\u5f88\u5927\u7a0b\u5ea6\u4e0a\u662f\u56e0\u4e3a\u62bd\u8c61\u7a0b\u5ea6\u8f83\u4f4e\uff0c\u5f88\u591a\u5173\u952e\u5b57\u548c\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u6982\u5ff5\u662f\u4e00\u4e00\u5bf9\u5e94\u7684\u3002\u6bd4\u65b9\u8bf4\u00a0<code>signed</code>\u00a0\u548c\u00a0<code>unsigned</code>\uff0c\u5c31\u8868\u793a\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u3002\u5047\u8bbe\u5b57\u957f(word size)\u4e3a\u00a0<code>w</code>\uff0c\u90a3\u4e48==\u4e8c\u8fdb\u5236\u5411\u5341\u8fdb\u5236\u7684\u8f6c\u6362==\u5206\u522b\u662f\uff1a</p> <ul> <li>\u65e0\u7b26\u53f7\u6570\uff1a\\(B2U(X)=\\sum_{i=0}^{w-1}x_i\u00b72^i\\)</li> <li>\u6709\u7b26\u53f7\u6570\uff1a \\(B2T(X)=-x_{w-1}\u00b72^{w-1}+\\sum_{i=0}^{w-2}x_i\u00b72^i\\)</li> </ul> <p>==\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u7684\u533a\u522b\u4e3b\u8981\u5728\u4e8e\u6709\u6ca1\u6709\u6700\u9ad8\u4f4d\u7684\u7b26\u53f7\u4f4d\uff0c\u4ee5\u53ca\u7531\u6b64\u5e26\u6765\u7684\u8ba1\u7b97\u65b9\u5f0f\u7684\u4e0d\u540c\u3002\u7b26\u53f7\u4f4d\u4e2d\uff0c0 \u8868\u793a\u975e\u8d1f\u6570\uff0c1 \u8868\u793a\u8d1f\u6570\u3002==\u5177\u4f53\u7684\u8868\u793a\u65b9\u6cd5\u5982\u4e0b</p> \u5341\u8fdb\u5236 \u5341\u516d\u8fdb\u5236 \u4e8c\u8fdb\u5236 15213 3B 6D 00111011 01101101 -15213 C4 93 11000100 10010011 <p>\u5bf9\u4e8e==\u4e8c\u8fdb\u5236\u6570\u5b57\u6765\u8bf4\uff0c\u8fd8\u6709\u4e24\u79cd\u5e38\u7528\u64cd\u4f5c\uff1a\u5de6\u79fb\u548c\u53f3\u79fb==\u3002==\u5de6\u79fb\u6bd4\u8f83\u7b80\u5355\uff0c\u5728\u53f3\u8fb9\u8865 0 \u5373\u53ef==\u3002\u53f3\u79fb\u7684\u8bdd\u6709\u4e24\u79cd\u7c7b\u578b\uff0c\u4e00\u79cd\u662f==\u903b\u8f91\u53f3\u79fb\uff08\u5de6\u8fb9\u8865 0\uff09\uff0c\u53e6\u4e00\u79cd\u662f\u7b97\u672f\u53f3\u79fb\uff08\u5de6\u8fb9\u8865\u7b26\u53f7\u4f4d\uff09==\u3002\u4e3a\u4ec0\u4e48\u4f1a\u6709\u8fd9\u4e24\u79cd\uff0c\u56e0\u4e3a\u5bf9\u5e94\u65e0\u7b26\u53f7\u6570\u548c\u6709\u7b26\u53f7\u6570\u7684\u8fd0\u7b97\uff0c\u6709\u7b26\u53f7\u6570\u7684\u6700\u9ad8\u4f4d\uff08\u6700\u5de6\u8fb9\uff09\u662f\u7b26\u53f7\u4f4d\u5728\u8d1f\u6570\u7684\u65f6\u5019\u9700\u8981\u8fdb\u884c\u7b97\u672f\u53f3\u79fb</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part3","title":"Part3\uff1a\u6574\u578b\u8868\u793a\u7684\u7279\u70b9","text":"<p>\u63a5\u4e0b\u6765\u6211\u4eec\u770b\u770b\u8fd9\u79cd\u8868\u793a\u5f62\u5f0f\u7684\u7279\u70b9\uff0c\u4ee5\u53ca\u6ea2\u51fa\u7684\u96c6\u4e2d\u60c5\u51b5\uff0c\u5047\u8bbe\u5b57\u957f\u4e3a\u00a0<code>w</code>\uff0c\u5b9a\u4e49\u5982\u4e0b\u7684\u5e38\u91cf\uff1a</p> <ul> <li>UMin = 0 \u5373 000\u20260</li> <li>UMax = \\(2^w-1\\) \u5373 111\u20261</li> <li>TMin = \\(-2^{w-1}\\) \u5373 100\u20260</li> <li>TMax = \\(2^{w-1}-1\\) \u5373 011\u20261</li> <li>Minus 1 \u5373 111\u20261</li> </ul> <p>\u8fd9\u91cc\u7684 U \u8868\u793a\u65e0\u7b26\u53f7\u6570\uff0cT \u8868\u793a\u8865\u7801(Two\u2019s Complement)\uff0c\u5bf9\u4e8e\u5b57\u957f\u4e3a 16 \u7684\u60c5\u51b5\u6765\u8bf4\uff0c\u6211\u4eec\u6709\uff1a</p> <p>||Decimal|Hex|Binary| |---|---|---|---| |UMax|65535|FF FF|11111111 11111111| |TMax|32767|7F FF|01111111 11111111| |TMin|-32768|80 00|10000000 00000000| |-1|-1|FF FF|11111111 11111111| |0|0|00 00|00000000 00000000|</p> <p>\u5bf9\u4e8e\u4e0d\u540c\u7684 word size\uff0c\u6570\u503c\u4e5f\u4f1a\u6709\u5f88\u5927\u7684\u53d8\u5316</p> w 8 16 32 64 UMax 255 65,535 4,294,967,295 18,446,744,073,709,551,615 TMax 127 32,767 2,147,483,647 9,223,372,036,854,775,807 TMin -128 -32,768 -2,147,483,648 -9223,372,036,854,775,808 <p>\u89c2\u5bdf\u53ef\u4ee5\u5f97\u77e5==\u4e24\u4e2a\u5f88\u91cd\u8981\u7684\u7279\u6027==</p> <ul> <li>|TMin| = TMax + 1 (\u8303\u56f4\u5e76\u4e0d\u662f\u5bf9\u79f0\u7684)</li> <li>UMax = 2*TMax + 1</li> </ul> <p>==\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u5728\u975e\u8d1f\u6570\u7684\u7f16\u7801\u662f\u4e00\u6837\u7684\uff0c\u6bcf\u4e00\u4e2a\u6570\u5b57\u7684\u7f16\u7801\u662f\u552f\u4e00\u7684\uff0c\u8fd9\u4e24\u8005\u53ef\u4ee5\u4e92\u6362==\uff1a</p> <ul> <li>\\(U2B(x)=B2U^{-1}(x)\\)</li> <li>\\(T2B(x)=B2T^{-1}(x)\\)</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part4","title":"Part4\uff1a\u7c7b\u578b\u8f6c\u6362","text":"<p>\u6211\u4eec\u5728\u6570\u8f74\u4e0a\u628a\u6709\u7b26\u53f7\u6570\u548c\u65e0\u7b26\u53f7\u6570\u753b\u51fa\u6765\u7684\u8bdd\uff0c\u5c31\u80fd\u5f88\u6e05\u6670\u7684\u770b\u51fa\u76f8\u5bf9\u7684\u5173\u7cfb\uff1a</p> <p></p> <p>\u5728==C \u8bed\u8a00\u4e2d\uff0c\u5982\u679c\u4e0d\u52a0\u5173\u952e\u5b57\u9650\u5236\uff0c\u9ed8\u8ba4\u7684\u6574\u578b\u662f\u6709\u7b26\u53f7\u7684\u3002\u5982\u679c\u60f3\u8981\u65e0\u7b26\u53f7\u6570\u7684\u8bdd\uff0c\u9700\u8981\u5728\u6570\u5b57\u540e\u9762\u52a0\u00a0<code>U</code>==\uff0c\u4f8b\u5982\u4e0b\u9762\u7684\u4ee3\u7801\u6bb5</p> 1  2 int a_signed_number = -15213;  unsigned int a_unsigned_number = 15213U; <p>\u5728==\u8fdb\u884c\u6709\u7b26\u53f7\u548c\u65e0\u7b26\u53f7\u6570\u7684\u4e92\u76f8\u8f6c\u6362==\u65f6\uff1a</p> <ul> <li>\u5177\u4f53\u6bcf\u4e00\u4e2a\u5b57\u8282\u7684\u503c\u4e0d\u4f1a\u6539\u53d8\uff0c\u6539\u53d8\u7684\u662f\u8ba1\u7b97\u673a\u89e3\u91ca\u5f53\u524d\u503c\u7684\u65b9\u5f0f</li> <li>==\u5982\u679c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u65e2\u5305\u542b\u6709\u7b26\u53f7\u6570\u4e5f\u5305\u542b\u65e0\u7b26\u53f7\u6570\uff0c\u90a3\u4e48\u4f1a\u88ab\u9690\u5f0f\u8f6c\u6362\u6210\u65e0\u7b26\u53f7\u6570\u8fdb\u884c\u6bd4\u8f83==</li> </ul> <p>\u4e0b\u9762\u7528\u5b57\u957f\u00a0<code>w = 32</code>\u00a0\u4e3a\u4f8b\uff0c\u6765\u8fdb\u884c\u8bf4\u660e\uff0c\u6ce8\u610f\u8fd9\u91cc\u7684\u6bcf\u4e2a\u8868\u8fbe\u5f0f\u90fd\u662f\u6210\u7acb\u7684\uff0c\u5176\u4e2d\u00a0<code>TMin = -2,147,483,648</code>,\u00a0<code>TMax = 2,147,483,647</code></p> \u8868\u8fbe\u5f0f \u6bd4\u8f83\u5bf9\u8c61 0 == 0U \u65e0\u7b26\u53f7\u6570 -1 &lt; 0 \u6709\u7b26\u53f7\u6570 -1 &gt; 0U \u65e0\u7b26\u53f7\u6570 2147483647 &gt; (-2147483647-1) \u6709\u7b26\u53f7\u6570 2147483647U &lt; (-2147483647-1) \u65e0\u7b26\u53f7\u6570 -1 &gt; -2 \u6709\u7b26\u53f7\u6570 (unsigned)-1 &gt; -2 \u65e0\u7b26\u53f7\u6570 2147483647 &lt; 2147483648U \u65e0\u7b26\u53f7\u6570 2147483647 &gt; (int)2147483648U \u6709\u7b26\u53f7\u6570"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part5","title":"Part5\uff1a\u7c7b\u578b\u6269\u5c55\u4e0e\u622a\u53d6","text":"<p>\u5177\u4f53\u9700\u8981\u5206\u60c5\u51b5\u8ba8\u8bba\uff0c\u5982\uff1a</p> <ul> <li>\u6269\u5c55\uff08\u4f8b\u5982\u4ece\u00a0<code>short int</code>\u00a0\u5230\u00a0<code>int</code>\uff09\uff0c\u90fd\u53ef\u4ee5\u5f97\u5230\u9884\u671f\u7684\u7ed3\u679c<ul> <li>\u65e0\u7b26\u53f7\u6570\uff1a\u52a0 0</li> <li>\u6709\u7b26\u53f7\u6570\uff1a\u52a0\u7b26\u53f7\u4f4d</li> </ul> </li> <li>\u622a\u53d6\uff08\u4f8b\u5982\u00a0<code>unsigned</code>\u00a0\u5230\u00a0<code>unsigned short</code>\uff09\uff0c\u5bf9\u4e8e\u5c0f\u7684\u6570\u5b57\u53ef\u4ee5\u5f97\u5230\u9884\u671f\u7684\u7ed3\u679c<ul> <li>\u65e0\u7b26\u53f7\u6570\uff1amod \u64cd\u4f5c</li> <li>\u6709\u7b26\u53f7\u6570\uff1a\u8fd1\u4f3c mod \u64cd\u4f5c</li> </ul> </li> </ul> <p>\u4e3e\u4e2a\u4f8b\u5b50</p> 1  2  3  4 short int x = 15213;  int ix = (int) x;  short int y = -15213;  int iy = (int) y; <p>C \u8bed\u8a00\u4f1a\u81ea\u52a8\u505a\u7b26\u53f7\u62d3\u5c55\uff0c\u628a\u5c0f\u7684\u6570\u636e\u7c7b\u578b\u8f6c\u6362\u6210\u5927\u7684\uff0c\u5982\u4e0b\u8868\u6240\u793a</p> \u5341\u8fdb\u5236 \u5341\u516d\u8fdb\u5236 \u4e8c\u8fdb\u5236 x=15213 3B 6D 00111011 01101101 ix=15213 00 00 3B 6D 00000000 00000000 00111011 01101101 y=-15213 C4 93 11000100 10010011 iy=-15213 FF FF C4 93 11111111 11111111 11000100 10010011"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part6","title":"Part6\uff1a\u8fd0\u7b97\u4e0e\u6ea2\u51fa","text":"<p>**\u65e0\u8bba\u662f\u65e0\u7b26\u53f7\u6570\u8fd8\u662f\u6709\u7b26\u53f7\u6570\uff0c\u4e00\u65e6\u7528\u6765\u8868\u793a\u6570\u503c\u7684\u6700\u9ad8\u4f4d\u53d1\u751f\u4e86\u8fdb\u4f4d\uff0c\u8d85\u51fa\u4e86\u8868\u8fbe\u5f62\u5f0f\u6216\u8005\u6539\u53d8\u4e86\u7b26\u53f7\u4f4d\uff0c\u5c31\u4f1a\u53d1\u751f\u6ea2\u51fa\u3002</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#1","title":"\uff081\uff09\u52a0\u6cd5\uff1a","text":"<p>\u5bf9\u4e8e==\u65e0\u7b26\u53f7\u6570\u52a0\u6cd5\uff0c\u5982\u679c\u4e24\u4e2a\u00a0<code>w</code>\u00a0\u4f4d\u7684\u6570\u5b57\u76f8\u52a0\uff0c\u7ed3\u679c\u662f\u00a0<code>w+1</code>\u00a0\u4f4d\u7684\u8bdd\uff0c\u90a3\u4e48\u5c31\u4f1a\u4e22\u5f03\u6389\u6700\u9ad8\u4f4d\uff0c\u5b9e\u9645\u4e0a\u662f\u505a\u4e86\u4e00\u4e2a mod \u64cd\u4f5c==\uff08\u516c\u5f0f\u4e3a \\(s=UAdd_w(u,v)=u+v \\; mod \\; 2^w\\)\uff09</p> <p>\u5047\u8bbe\u00a0<code>w=3</code>\uff0c\u90a3\u4e48\u80fd\u591f\u8868\u8fbe\u7684\u6570\u5b57\u8303\u56f4\u662f\u00a0<code>000~111(0~7)</code>\uff08\u62ec\u53f7\u5185\u4e3a\u4e8c\u8fdb\u5236\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u6570\u503c\uff0c\u540e\u540c\uff09\uff0c\u90a3\u4e48\u5982\u679c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u662f\u00a0<code>110+111(6+7)</code>\uff0c\u539f\u672c\u5e94\u8be5\u7b49\u4e8e\u00a0<code>1101(13)</code>\uff0c\u4f46\u662f\u7531\u4e8e\u00a0<code>w=3</code>\uff0c\u6240\u4ee5\u6700\u7ec8\u7684\u7ed3\u679c\u662f\u00a0<code>101(5)</code>\uff0c\u4e5f\u5c31\u662f\u53d1\u751f\u4e86\u6ea2\u51fa\uff0c\u4e24\u4e2a\u65e0\u7b26\u53f7\u6570\u76f8\u52a0\uff0c\u6709\u53ef\u80fd\u53cd\u800c\u53d8\u300e\u5c0f\u300f\u3002</p> <p>\u5bf9\u4e8e==\u6709\u7b26\u53f7\u7684\u52a0\u6cd5(Two\u2019s Complement Addition)\uff0c\u64cd\u4f5c\u8fc7\u7a0b\u548c\u65e0\u7b26\u53f7\u52a0\u6cd5\u4e00\u6837\uff0c\u53ea\u662f\u89e3\u91ca\u7684\u65f6\u5019\u4f1a\u6709\u4e0d\u540c\uff0c\u56e0\u6b64\u4f1a\u5f97\u5230\u6b63\u6ea2\u51fa(positive overflow)\u548c\u8d1f\u6ea2\u51fa(negative overflow)\u4e24\u79cd==\u3002\u6b63\u6ea2\u51fa\u5c31\u662f\u6570\u503c\u592a\u5927\u628a\u539f\u6765\u4e3a 0 \u7684\u7b26\u53f7\u4f4d\u4fee\u6539\u6210\u4e86 1\uff0c\u53cd\u800c\u6210\u4e86\u8d1f\u6570\uff1b\u8d1f\u6ea2\u51fa\u662f\u6570\u503c\u592a\u5c0f\uff0c\u628a\u539f\u6765\u4e3a 1 \u7684\u7b26\u53f7\u4f4d\u4fee\u6539\u6210\u4e86 0\uff0c\u53cd\u800c\u6210\u4e86\u6b63\u6570\u3002</p> <p>\u8fd8\u662f\u7528\u521a\u624d\u00a0<code>w=3</code>\u00a0\u4f5c\u4e3a\u4f8b\u5b50\uff0c\u80fd\u591f\u8868\u8fbe\u7684\u6570\u5b57\u8303\u56f4\u662f\u00a0<code>100~011(-4~3)</code>\uff0c\u5982\u679c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u662f\u00a0<code>011+010(3+2)</code>\uff0c\u7406\u8bba\u4e0a\u5e94\u8be5\u7b49\u4e8e 5\uff0c\u4f46\u662f\u76f8\u52a0\u4e4b\u540e\u53d8\u6210\u4e86\u00a0<code>101(-3)</code>\uff0c\u4e5f\u5c31\u662f\u53d1\u751f\u4e86\u6b63\u6ea2\u51fa\u3002\u5982\u679c\u4e00\u4e2a\u8868\u8fbe\u5f0f\u662f\u00a0<code>100+101(-4+(-3))</code>\uff0c\u7406\u8bba\u4e0a\u5e94\u8be5\u7b49\u4e8e -7\uff0c\u4f46\u662f\u76f8\u52a0\u540e\u8fdb\u4f4d\u622a\u53d6\u53d8\u6210\u4e86\u00a0<code>001(1)</code>\uff0c\u4e5f\u5c31\u662f\u53d1\u751f\u4e86\u8d1f\u6ea2\u51fa\u3002</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#2","title":"\uff082\uff09\u4e58\u6cd5\uff1a","text":"<p>\u5bf9\u4e8e\u4e58\u6cd5\u6765\u8bf4\uff0c\u503c\u7684\u8303\u56f4\u4f1a\u5927\u5f88\u591a\uff0c\u8fd9\u91cc\u5206\u60c5\u51b5\u8ba8\u8bba\u4e00\u4e0b\uff0c==\u5047\u8bbe\u4e24\u4e2a\u4e58\u6570\u662f x,y \u5e76\u4e14\u90fd\u662f w \u4f4d==\u7684\uff1a</p> <ul> <li>\u65e0\u7b26\u53f7\u6570\uff1a\u81f3\u591a 2w \u4f4d<ul> <li>\u8303\u56f4 \\(0 \\le x \\times y \\le (2^w-1)^2 = 2^{2w}-2^{w+1}+1\\)</li> </ul> </li> <li>\u6709\u7b26\u53f7\u6570\uff0c\u6700\u5c0f\u7684\u8d1f\u6570\uff1a\u81f3\u591a 2w - 1 \u4f4d<ul> <li>\u8303\u56f4 \\(x \\times y \\ge (-2^{w-1})\\times(2^{w-1}-1)=-2^{2w-2}+2^{w-1}\\)</li> </ul> </li> <li>\u6709\u7b26\u53f7\u6570\uff0c\u6700\u5927\u7684\u6b63\u6570\uff1a\u81f3\u591a 2w \u4f4d\uff0c\u53ea\u6709 \\((TMin_w)^2\\) \u4e00\u79cd\u60c5\u51b5<ul> <li>\u8303\u56f4 \\(x \\times y \\le (-2^{w-1})^2=2^{2w-2}\\)</li> </ul> </li> </ul> <p>\u5982\u679c\u9700\u8981\u4fdd\u8bc1\u7cbe\u5ea6\uff0c\u5c31\u9700\u8981\u7528\u8f6f\u4ef6\u6765\u5b9e\u73b0\u4e86\u3002==\u53e6\u5916\uff0c\u8ba1\u7b97\u7684\u65e0\u7b26\u53f7\u4e58\u6cd5\u7684\u65f6\u5019\uff0c\u4f1a\u5ffd\u7565\u6700\u9ad8\u7684 w \u4f4d\uff0c==\u76f8\u5f53\u4e8e \\(UMult_w(u,v)=u\u00b7v\\;mod\\;2^w\\)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part7-float","title":"Part7\uff1a\u6d6e\u70b9\u6570 Float","text":"<p>\u6d6e\u70b9\u6570\u53ef\u4ee5\u7528\u4e00\u4e2a\u7edf\u4e00\u7684\u516c\u5f0f\u6765\u8868\u8fbe\uff1a</p> <p>\u4f8b\u5982</p> <p>\u53ef\u4ee5\u770b\u5230==\u9664\u4ee5\u4e8c\u5c31\u76f8\u5f53\u4e8e\u53f3\u79fb==\uff0c\u5e76==\u4e14\u53ef\u4ee5\u6a2a\u8de8\u5c0f\u6570\u70b9==\u3002\u6ce8\u610f \\(0.111\u2026_2\\) \u975e\u5e38\u63a5\u8fd1\u4e8e 1\uff0c\u56e0\u4e3a</p> <p>\u901a\u5e38\u7528 \\(1.0-\\epsilon\\) \u6765\u8868\u793a\u8fd9\u4e2a\u503c\u3002</p> <p>\u7ec6\u5fc3\u7684\u540c\u5b66\u5c31\u4f1a\u53d1\u73b0\uff0c\u8fd9\u79cd\u8868\u8fbe\u65b9\u5f0f\u5176\u5b9e\u662f\u6bd4\u8f83\u660e\u663e\u7684\u9650\u5236\u7684\uff0c\u6bd4\u5982\u8bf4\uff0c\u53ea\u6709\u5f62\u4e3a \\(\\frac{x}{2^k}\\) \u7684\u5c0f\u6570\u90e8\u5206\u53ef\u4ee5\u88ab\u7cbe\u786e\u8868\u793a\uff0c\u5176\u4ed6\u7684\u6570\u5b57\u4f1a\u53d8\u6210\u5faa\u73af\u7684\u5c0f\u6570\uff0c\u4f8b\u5982\uff1a\\(\\frac{1}{3}=0.0101010101[01]\u2026_2\\)\u3002</p> <p>\u9664\u6b64\u4e4b\u5916\uff0c\u53e6\u4e00\u4e2a\u95ee\u9898\u5728\u4e8e\uff0c\u5982\u679c\u7ed9\u5b9a\u4e86 w \u4e2a\u6bd4\u7279\uff0c\u80fd\u591f\u8868\u8fbe\u7684\u6570\u5b57\u5176\u5b9e\u662f\u6709\u9650\u7684\uff0c\u5177\u4f53\u7684\u539f\u56e0\u4f1a\u5728\u540e\u9762\u8be6\u7ec6\u89e3\u91ca\u3002</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part8ieee","title":"Part8\uff1aIEEE \u6d6e\u70b9\u6570\u6807\u51c6","text":"<p>IEEE \u7684\u6d6e\u70b9\u6570\u6807\u51c6\u66f4\u591a\u662f\u4ece\u6570\u503c\u89d2\u5ea6\u6765\u5efa\u7acb\u7684\uff0c\u5bf9\u4e8e\u820d\u5165\uff0c\u4e0a\u6ea2\u51fa\u548c\u4e0b\u6ea2\u51fa\u90fd\u6709\u6bd4\u8f83\u7edf\u4e00\u7684\u5904\u7406\u65b9\u6cd5\u3002\u4f46\u4e0e\u6b64\u540c\u65f6\u4e5f\u7ed9\u786c\u4ef6\u4f18\u5316\u5e26\u6765\u4e86\u6bd4\u8f83\u5927\u7684\u56f0\u96be\u3002\u56e0\u4e3a\u548c\u5e73\u65f6\u4f7f\u7528\u7684\u6570\u5236\u4e5f\u6709\u4e00\u5b9a\u5dee\u5f02\uff0c\u4ece\u7406\u89e3\u7684\u89d2\u5ea6\u6765\u770b\u4e0d\u591f\u76f4\u89c2\uff0c\u4f46\u662f\u597d\u5728\u4e3b\u6d41\u7684 CPU \u90fd\u652f\u6301\u6d6e\u70b9\u6570\uff0c\u6240\u4ee5\u6211\u4eec\u4e0d\u5fc5\u8fc7\u591a\u6d89\u53ca\u8fd9\u65b9\u9762\u7684\u7ec6\u8282\u3002</p> <p>\u5728 IEEE \u6807\u51c6\u4e2d\uff0c\u6211\u4eec\u7528\u4e0b\u9762\u7684\u516c\u5f0f\u6765\u8868\u8fbe\u6d6e\u70b9\u6570\uff1a</p> <p>\u5176\u4e2d s \u662f\u7b26\u53f7\u4f4d\uff0c\u51b3\u5b9a\u6b63\u8d1f\uff1bM \u901a\u5e38\u662f\u4e00\u4e2a\u503c\u5728  [1.0, 2.0)  \u7684\u5c0f\u6570\uff1bE \u662f\u6b21\u65b9\u6570\u3002</p> <p>\u5177\u4f53\u7f16\u7801\u65f6\u7ed3\u6784\u5982\u4e0b\uff0c\u8fd9\u91cc\u7528\u5355\u7cbe\u5ea6\u3001\u53cc\u7cbe\u5ea6\u548c\u6269\u5c55\u7cbe\u5ea6\u4e3a\u4f8b\uff1a</p> <p></p> <p>\u5176\u4e2d\u00a0<code>s</code>\u00a0\u5bf9\u5e94\u7740\u7b26\u53f7\u4f4d\uff0c<code>exp</code>\u00a0\u5bf9\u5e94\u7740 E\uff08\u6ce8\u610f\uff0c\u4e0d\u4e00\u5b9a\u7b49\u4e8e E\uff0c\u56e0\u4e3a\u4f4d\u6570\u9650\u5236\u8868\u8fbe\u80fd\u529b\u6709\u9650\uff09\uff0c<code>frac</code>\u00a0\u5bf9\u5e94\u7740 M\uff08\u6ce8\u610f\uff0c\u4e0d\u4e00\u5b9a\u7b49\u4e8e M\uff0c\u56e0\u4e3a\u4f4d\u6570\u9650\u5236\u8868\u8fbe\u80fd\u529b\u6709\u9650\uff09\u3002\u4e0d\u540c\u7684\u4f4d\u6570\u5c31\u4ee3\u8868\u4e86\u4e0d\u540c\u7684\u8868\u793a\u80fd\u529b\uff0c\u4e5f\u5c31\u662f\u5355\u7cbe\u5ea6\uff0c\u53cc\u7cbe\u5ea6\uff0c\u6269\u5c55\u7cbe\u5ea6\u7684\u6765\u6e90\u3002</p> <p>(1) \u89c4\u8303\u5316\u503c(Normalized Values)</p> <p>\u5728 \\(exp \\ne 000\u20260\\) \u548c \\(exp \\ne 111\u20261\\) \u65f6\uff0c\u8868\u793a\u7684\u5176\u5b9e\u90fd\u662f\u89c4\u8303\u5316\u7684\u503c\uff0c==\u4e3a\u4ec0\u4e48\u8bf4\u662f\u89c4\u8303\u5316\u5462==\uff1f\u8fd9\u91cc\u53ea\u9700\u8981\u5927\u6982\u77e5\u9053==\u56e0\u4e3a\u5b9e\u6570\u8f74\u4e0a\u539f\u6765\u8fde\u7eed\u7684\u503c\u4f1a\u88ab\u89c4\u8303\u5230\u6709\u9650\u7684\u5b9a\u503c\u4e0a==\u5e76==\u4e14\u8fd9\u4e9b\u5b9a\u503c\u4e4b\u95f4\u7684\u95f4\u8ddd\u4e5f\u662f\u4e0d\u4e00\u6837\u7684==\uff0c\u5177\u4f53\u53ef\u4ee5\u901a\u8fc7\u540e\u9762\u7ed9\u51fa\u7684\u4f8b\u5b50\u6765\u7406\u89e3\uff08\u6240\u4ee5\u73b0\u5728\u4e0d\u660e\u767d\u4e5f\u4e0d\u7528\u62c5\u5fc3\uff09</p> <p>\u518d\u6765\u56de\u987e\u4e00\u4e0b\u6211\u4eec==\u8ba1\u7b97\u6d6e\u70b9\u6570\u7684\u516c\u5f0f\uff1a==</p> <p>\u8fd9\u91cc\u7684 ==E ==\u662f\u4e00\u4e2a\u504f\u79fb\u7684\u503c \\(E=Exp-Bias\\)\uff0c\u5176\u4e2d</p> <ul> <li>==Exp==: \u662f exp \u7f16\u7801\u533a\u57df\u7684\u65e0\u7b26\u53f7\u6570\u503c</li> <li>==Bias==\uff1a\u503c\u4e3a \\(2^{k-1} - 1\\) \u7684\u504f\u79fb\u91cf\uff0c\u5176\u4e2d k \u662f exp \u7f16\u7801\u7684\u4f4d\u6570\uff0c\u4e5f\u5c31\u662f\u8bf4<ul> <li>\u5355\u7cbe\u5ea6\uff1a127\uff08Exp: 1\u2026254, E: -126\u2026127\uff09</li> <li>\u53cc\u7cbe\u5ea6\uff1a1023\uff08Exp: 1\u20262046, E: -1022\u20261023\uff09</li> <li>k: \u7531\u4e0a\u8ff0\u6613\u89c1\uff0c\u5bf9\u4e8e\u7ed9\u5b9a\u7cbe\u5ea6\u7684\u6570\u5b57\u800c\u8a00\uff0c\u662f\u5b9a\u503c\uff01</li> </ul> </li> </ul> <p>\u4e4b\u6240\u4ee5\u9700\u8981\u91c7\u7528\u4e00\u4e2a\u504f\u79fb\u91cf\uff0c\u662f\u4e3a\u4e86\u4fdd\u8bc1 exp \u7f16\u7801\u53ea\u9700\u8981\u4ee5\u65e0\u7b26\u53f7\u6570\u6765\u5904\u7406\u3002</p> <p>\u800c\u5bf9\u4e8e ==M\uff0c\u4e00\u5b9a\u662f\u4ee5 1 \u5f00\u5934\u7684==\uff1a\u4e5f\u5c31\u662f \\(M=1.xxx\u2026x_2\\)\u3002\u5176\u4e2d xxx \u7684\u90e8\u5206\u5c31\u662f frac \u7684\u7f16\u7801\u90e8\u5206\uff0c\u5f53 frac=000.00 \u7684\u65f6\u5019\u503c\u6700\u5c0f\uff08\\(M=1.0\\)\uff09\uff0c\u5f53 frac=111\u3002\u3002\u30021 \u7684\u65f6\u5019\u503c\u6700\u5927\uff08\\(M=2.0-\\epsilon\\)\uff09\uff0c\u4e5f\u5c31\u662f\u8bf4==\u5f00\u5934\u7684 1 \u662f\u300e\u514d\u8d39\u9644\u9001\u7684\u300f\uff0c\u5e76\u4e0d\u9700\u8981\u5b9e\u9645\u7684\u7f16\u7801\u4f4d==\u3002</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c<code>float F = 15213.0;</code>\uff0c\u90a3\u4e48</p> <p>\u4e8e\u662f frac \u90e8\u5206\u7684\u503c\u5c31\u662f\u5c0f\u6570\u70b9\u540e\u9762\u7684\u6570\u503c\uff0c\u800c Exp = E + Bias = 13 + 127 = 140 = \\(10001100_2\\)\uff0c\u4e8e\u662f\u7f16\u7801\u51fa\u6765\u7684\u6d6e\u70b9\u6570\u662f\u8fd9\u6837\u7684\uff1a</p> 1  2 0 10001100 11011011011010000000000  s   exp             frac <p>\uff082\uff09\u975e\u89c4\u8303\u5316\u503c(Denormalized Values)</p> <p>\u5f53 \\(exp = 000\u20260\\) \u7684\u65f6\u5019\uff0c\u503c\u662f\u975e\u89c4\u8303\u5316\u7684\uff0c\u610f\u601d\u662f\uff0c==\u867d\u7136\u5b9e\u6570\u8f74\u4e0a\u539f\u6765\u8fde\u7eed\u7684\u503c\u4f1a\u88ab\u89c4\u8303\u5230\u6709\u9650\u7684\u5b9a\u503c\u4e0a\uff0c\u4f46\u662f\u5e76\u4e9b\u5b9a\u503c\u4e4b\u95f4\u7684\u95f4\u8ddd\u4e5f\u662f\u4e00\u6837\u7684==\uff0c\u5177\u4f53\u53ef\u4ee5\u901a\u8fc7\u540e\u9762\u7ed9\u51fa\u7684\u4f8b\u5b50\u6765\u7406\u89e3\uff08\u6240\u4ee5\u73b0\u5728\u4e0d\u660e\u767d\u4e5f\u4e0d\u7528\u62c5\u5fc3\uff09</p> <p>\u548c\u524d\u9762\u4e0d\u540c\u7684\u662f</p> <p>\u800c\u4e14 \\(M=0.xxx\u2026x_2\\)\uff0c\u4e0d\u662f\u4ee5 1 \u5f00\u5934\u4e86\u3002</p> <p>\u5f53 exp=000\u20260 \u4e14 frac = 000\u20260 \u65f6\uff0c\u8868\u793a 0\uff0c\u800c\u4e14\u56e0\u4e3a\u7b26\u53f7\u4f4d\u7684\u7f18\u6545\uff0c\u5b9e\u9645\u4e0a\u662f\u6709 +0 \u548c -0 \u4e24\u79cd\u7684\u3002\u800c\u5728 exp=000..0 \u4e14 \\(frac \\ne 000\u20260\\) \u65f6\uff0c\u6570\u503c\u662f\u63a5\u8fd1 0 \u7684\uff0c\u5e76\u4e14\u95f4\u8ddd\u662f\u4e00\u81f4\u7684</p> <p>\uff083\uff09\u7279\u6b8a\u503c</p> <p>\u8fd8\u6709\u4e00\u79cd\u7279\u6b8a\u60c5\u51b5\uff0c\u5c31\u662f \\(exp = 111\u20261\\) \u65f6\uff0c\u8868\u793a\u4e00\u4e9b\u7279\u6b8a\u503c\u3002</p> <p>==\u5f53 exp=111\u20261 \u4e14 frac = 000\u20260 \u65f6\uff0c\u8868\u793a \\(\\infty\\)\uff0c\u800c\u4e14\u56e0\u4e3a\u7b26\u53f7\u4f4d\u7684\u7f18\u6545\uff0c\u5b9e\u9645\u4e0a\u662f\u6709 \\(+\\infty\\) \u548c \\(-\\infty\\) \u4e24\u79cd\u7684==\u3002\u90a3\u4e9b\u4f1a\u6ea2\u51fa\u7684\u64cd\u4f5c\u5c31\u4f1a\u7528\u8fd9\u4e2a\u6765\u8868\u793a\uff0c\u6bd4\u5982 \\(1.0/0.0=-1.0/0.0=+\\infty\\;,\\;1.0/-0.0=-\\infty\\)</p> <p>\u800c\u5728 exp=111\u20261 \u4e14 \\(frac \\ne 000\u20260\\) \u65f6\uff0c\u6211\u4eec\u8ba4\u4e3a\u8fd9\u4e0d\u662f\u4e00\u4e2a\u6570\u503c\uff08Not-a-Number\uff0cNaN\uff09\uff0c\u7528\u6765\u8868\u793a\u90a3\u4e9b\u6ca1\u529e\u6cd5\u786e\u5b9a\u7684\u503c\uff0c\u6bd4\u5982 \\(sqrt(-1),\\infty-\\infty,\\infty\\times 0\\)</p> <p>\uff084\uff09\u5b9e\u4f8b\u5b66\u4e60</p> <p>\u53ef\u80fd\u901a\u8fc7\u6587\u5b57\u63cf\u8ff0\u8fd8\u662f\u4e0d\u591f\u6e05\u6670\uff0c\u6211\u4eec\u6765\u770b\u770b\u4e0a\u9762\u5404\u79cd\u60c5\u51b5\u5bf9\u5e94\u5230\u6570\u8f74\u4e2d\u662f\u600e\u4e48\u6837\u7684\uff1a</p> <p></p> <p>\u63a5\u4e0b\u6765\u4e3e\u4e00\u4e2a\u5b9e\u9645\u7684\u4f8b\u5b50\uff0c\u6211\u4eec\u91c7\u7528 1 \u4f4d\u7b26\u53f7\u4f4d\uff0c4 \u4f4d exp \u4f4d\uff0c3 \u4f4d frac \u4f4d\uff0c\u56e0\u6b64\u5bf9\u5e94\u7684 bias \u4e3a 7\u3002\u56de\u987e\u4e00\u4e0b\u51e0\u4e2a\u91cd\u8981\u516c\u5f0f\uff1a</p> <p>==\u5bf9\u4e8e\u89c4\u8303\u5316\u6570\uff1a\\(E=Exp-Bias\\)\uff1b\u5bf9\u4e8e\u975e\u89c4\u8303\u6570\uff1a\\(E = 1 - Bias\\)\uff0c\u6b63\u6570\u90e8\u5206\u7684\u6570\u503c\u4e3a</p> 1  2  3  4  5  6  7  8  9  10  11  12  13  14  15  16  17  18  19  20  21  22 s exp  frac   E   \u503c  ------------------------------------------------------------------      0 0000 000   -6   0   # \u8fd9\u90e8\u5206\u662f\u975e\u89c4\u8303\u5316\u6570\u503c\uff0c\u4e0b\u4e00\u90e8\u5206\u662f\u89c4\u8303\u5316\u503c      0 0000 001   -6   1/8 * 1/64 = 1/512 # \u80fd\u8868\u793a\u7684\u6700\u63a5\u8fd1\u96f6\u7684\u503c      0 0000 010   -6   2/8 * 1/64 = 2/512       ...      0 0000 110   -6   6/8 * 1/64 = 6/512      0 0000 111   -6   7/8 * 1/64 = 7/512 # \u80fd\u8868\u793a\u7684\u6700\u5927\u975e\u89c4\u8303\u5316\u503c  ------------------------------------------------------------------      0 0001 000   -6   8/8 * 1/64 = 8/512 # \u80fd\u8868\u793a\u7684\u6700\u5c0f\u89c4\u8303\u5316\u503c      0 0001 001   -6   9/8 * 1/64 = 9/512      ...      0 0110 110   -1   14/8 * 1/2 = 14/16      0 0110 111   -1   15/8 * 1/2 = 15/16 # \u6700\u63a5\u8fd1\u4e14\u5c0f\u4e8e 1 \u7684\u503c      0 0111 000    0   8/8 * 1 = 1      0 0111 001    0   9/8 * 1 = 9/8      # \u6700\u63a5\u8fd1\u4e14\u5927\u4e8e 1 \u7684\u503c      0 0111 010    0   10/8 * 1 = 10/8      ...      0 1110 110    7   14/8 * 128 = 224      0 1110 111    7   15/8 * 128 = 240   # \u80fd\u8868\u793a\u7684\u6700\u5927\u89c4\u8303\u5316\u503c  ------------------------------------------------------------------      0 1111 000   n/a  \u65e0\u7a77               # \u7279\u6b8a\u503c <p>\u89c2\u5bdf\u4e0a\u8868\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u5982\u4e0b\u4e00\u4e9b\u6bd4\u8f83\u6709\u610f\u601d\u7684\u89c4\u5f8b\uff1a</p> <ul> <li>\u5728\u00a0<code>exp=0000</code>\u00a0\u65f6\uff0c\u4e5f\u5c31\u662f\u975e\u89c4\u8303\u5316\u7684\u60c5\u51b5\uff0c\u95f4\u8ddd\u662f\u4e00\u81f4\u7684\uff0c\u90fd\u662f 1/8</li> <li>\u56e0\u4e3a\u4f4d\u6570\u7684\u9650\u5236\uff0c\u4ece\u96f6\u5230\u4e00\u4e4b\u95f4\u7684\u6570\u5b57\u53ea\u80fd\u4ee5 1/8 \u4e3a\u6700\u5c0f\u5355\u4f4d\u6765\u8868\u793a\uff0c\u4e14\u76f8\u90bb\u6570\u5b57\u95f4\u95f4\u8ddd\u4e00\u6837</li> <li>\u5728\u89c4\u8303\u5316\u7684\u90e8\u5206\uff0c\u53ef\u4ee5\u53d1\u73b0\u7531\u4e8e exp \u90e8\u5206\u7684\u4e0d\u540c\uff0c\u6240\u4ee5\u76f8\u90bb\u6570\u5b57\u95f4\u7684\u95f4\u9694\u4e5f\u662f\u4e0d\u540c\u7684\uff0c\u6bd4\u65b9\u8bf4\u6700\u63a5\u8fd1 1 \u7684\u6570\u5b57\u662f 15/16 \u548c 9/8\uff0c\u5206\u522b\u76f8\u5dee 1/16 \u548c 1/8\uff0c\u8fd9\u4e5f\u662f\u7531\u4e8e IEEE \u6d6e\u70b9\u6570\u8868\u793a\u6cd5\u7684\u516c\u5f0f\u51b3\u5b9a\u7684</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part9","title":"Part9\uff1a\u820d\u5165","text":"<p>\u5bf9\u4e8e\u6d6e\u70b9\u6570\u7684\u52a0\u6cd5\u548c\u4e58\u6cd5\u6765\u8bf4\uff0c\u6211\u4eec\u53ef\u4ee5\u5148\u8ba1\u7b97\u51fa\u51c6\u786e\u503c\uff0c\u7136\u540e\u8f6c\u6362\u5230\u5408\u9002\u7684\u7cbe\u5ea6\u3002\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u65e2\u53ef\u80fd\u4f1a\u6ea2\u51fa\uff0c\u4e5f\u53ef\u80fd\u9700\u8981\u820d\u5165\u6765\u6ee1\u8db3 frac \u7684\u7cbe\u5ea6\u3002</p> <p>==\u5728\u4e8c\u8fdb\u5236\u4e2d\uff0c\u6211\u4eec\u820d\u5165\u5230\u6700\u8fd1\u7684\u5076\u6570\uff0c\u5373\u5982\u679c\u51fa\u73b0\u5728\u4e2d\u95f4\u7684\u60c5\u51b5\uff0c\u820d\u5165\u4e4b\u540e\u6700\u53f3\u8fb9\u7684\u503c\u8981\u662f\u5076\u6570\uff08\u53d6\u5076\u539f\u5219\uff09==\uff0c \u5bf9\u4e8e\u5341\u8fdb\u5236\u6570\uff0c\u4f8b\u5b50\u5982\u4e0b\uff1a\uff08\u4fdd\u7559\u5230\u767e\u5206\u4f4d\uff09</p> 1  2  3  4  5 \u539f\u6570\u503c       \u820d\u5165\u7ed3\u679c    \u539f\u56e0  2.8949999      2.89    ==\u4e0d\u5230\u4e00\u534a\uff0c\u6b63\u5e38\u56db\u820d\u4e94\u5165==  2.8950001      2.90    ==\u8d85\u8fc7\u4e00\u534a\uff0c\u6b63\u5e38\u56db\u820d\u4e94\u5165==  2.8950000      2.90    ==\u521a\u597d\u5728\u4e00\u534a==\u65f6\uff0c\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u662f\u5076\u6570\uff0c\u6240\u4ee5\u5411\u4e0a\u820d\u5165  2.8850000      2.88    ==\u521a\u597d\u5728\u4e00\u534a==\u65f6\uff0c\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u662f\u5076\u6570\uff0c\u6240\u4ee5\u5411\u4e0b\u820d\u5165 <p>\u5bf9\u4e8e\u4e8c\u8fdb\u5236\u6570\u4e5f\u662f\u7c7b\u4f3c\u7684</p> 1  2  3  4  5 \u5341\u8fdb\u5236    \u4e8c\u8fdb\u5236     \u820d\u5165\u7ed3\u679c  \u5341\u8fdb\u5236    \u539f\u56e0  2 \u53c8 3/32  10.00011   10.00     2      \u4e0d\u5230\u4e00\u534a\uff0c\u6b63\u5e38\u56db\u820d\u4e94\u5165  2 \u53c8 3/16  10.00110   10.01  2 \u53c8 1/4   \u8d85\u8fc7\u4e00\u822c\uff0c\u6b63\u5e38\u56db\u820d\u4e94\u5165  2 \u53c8 7/8   10.11100   11.00     3      \u521a\u597d\u5728\u4e00\u534a\u65f6\uff0c\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u662f\u5076\u6570\uff0c\u6240\u4ee5\u5411\u4e0a\u820d\u5165  2 \u53c8 5/8   10.10100   10.10  2 \u53c8 1/2   \u521a\u597d\u5728\u4e00\u534a\u65f6\uff0c\u4fdd\u8bc1\u6700\u540e\u4e00\u4f4d\u662f\u5076\u6570\uff0c\u6240\u4ee5\u5411\u4e0b\u820d\u5165"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part10","title":"Part10\uff1a\u6d6e\u70b9\u6570\u52a0\u6cd5","text":"<p>\\(\\((-1)^{s_1}\\; M_1 \\; 2^{E_1} + (-1)^{s_2}\\; M_2 \\; 2^{E_2}\\)\\) \u8fd9\u91cc\u5047\u8bbe \\(E_1 &gt; E_2\\)\uff0c\u7ed3\u679c\u662f \\((-1)^{s}\\; M \\; 2^{E}\\) \uff0c\u5176\u4e2d \\(s = s_1 \\land s_2, M = M_1 + M_2, E = E_1\\)</p> <ul> <li>==\u5982\u679c M \u5927\u4e8e\u7b49\u4e8e 2\uff0c\u90a3\u4e48\u628a M \u53f3\u79fb\uff0c\u5e76\u589e\u52a0 E \u7684\u503c==</li> <li>\u5982\u679c M \u5c0f\u4e8e 1\uff0c\u628a M \u5de6\u79fb k \u4f4d\uff0cE \u51cf\u5c11 k</li> <li>\u5982\u679c E \u8d85\u51fa\u4e86\u53ef\u4ee5\u8868\u793a\u7684\u8303\u56f4\uff0c\u6ea2\u51fa</li> <li>\u628a M \u820d\u5165\u5230 frac \u7684\u7cbe\u5ea6</li> </ul> <p>\u57fa\u672c\u6027\u8d28</p> <ul> <li>\u76f8\u52a0\u53ef\u80fd\u4ea7\u751f infinity \u6216\u8005 NaN</li> <li>\u6ee1\u8db3\u4ea4\u6362\u5f8b</li> <li>==\u4e0d\u6ee1\u8db3\u7ed3\u5408\u5f8b\uff08\u56e0\u4e3a\u820d\u5165\u4f1a\u9020\u6210\u7cbe\u5ea6\u635f\u5931\uff0c\u5982\u00a0<code>(3.14+1e10)-1e10=0</code>\uff0c\u4f46\u00a0<code>3.14+(1e10-1e10)=3.14</code>\uff09</li> <li>\u52a0\u4e0a 0 \u7b49\u4e8e\u539f\u6765\u7684\u6570</li> <li>\u9664\u4e86 infinity \u548c NaN\uff0c\u6bcf\u4e2a\u5143\u7d20\u90fd\u6709\u5bf9\u5e94\u7684\u5012\u6570\uff08\u62e5\u6709\u52a0\u6cd5\u9006\u5143\uff09</li> <li>\u9664\u4e86 infinity \u548c NaN\uff0c\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u5373 \\(a\\ge b \\to a+c \\ge b+c\\)</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part11","title":"Part11\uff1a\u6d6e\u70b9\u6570\u4e58\u6cd5","text":"\\[(-1)^{s_1}\\; M_1 \\; 2^{E_1} \\times (-1)^{s_2}\\; M_2 \\; 2^{E_2}\\] <p>\u7ed3\u679c\u662f \\((-1)^{s}\\; M \\; 2^{E}\\)\uff0c\u5176\u4e2d $ s= s_1 \\land s_2, M = M_1 \\times M_2, E = E_1 + E_2$</p> <ul> <li>==\u5982\u679c M \u5927\u4e8e\u7b49\u4e8e 2\uff0c\u90a3\u4e48\u628a M \u53f3\u79fb\uff0c\u5e76\u589e\u52a0 E \u7684\u503c\u3002==</li> <li>\u5982\u679c E \u8d85\u51fa\u4e86\u53ef\u4ee5\u8868\u793a\u7684\u8303\u56f4\uff0c\u6ea2\u51fa</li> <li>\u628a M \u820d\u5165\u5230 frac \u7684\u7cbe\u5ea6</li> </ul> <p>\u57fa\u672c\u6027\u8d28</p> <ul> <li>\u76f8\u4e58\u53ef\u80fd\u4ea7\u751f infinity \u6216\u8005 NaN</li> <li>\u6ee1\u8db3\u4ea4\u6362\u5f8b</li> <li>==\u4e0d\u6ee1\u8db3\u7ed3\u5408\u5f8b\uff08\u56e0\u4e3a\u820d\u5165\u4f1a\u9020\u6210\u7cbe\u5ea6\u635f\u5931\uff09==</li> <li>\u4e58\u4ee5 1 \u7b49\u4e8e\u539f\u6765\u7684\u6570</li> <li>==\u4e0d\u6ee1\u8db3\u5206\u914d\u7387\u00a0<code>1e20*(1e20-1e20)=0.0</code>\u00a0\u4f46\u00a0<code>1e20*1e20-1e20*1e20=NaN</code>==</li> <li>\u9664\u4e86 infinity \u548c NaN\uff0c\u6ee1\u8db3\u5355\u8c03\u6027\uff0c\u5373 \\(a\\ge b \\to a\\times c \\ge a\\times b\\)</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/#part12","title":"Part12\uff1a\u6570\u636e\u5728\u5185\u5b58\u4e2d\u7684\u5f62\u5f0f","text":"<p>\u540e\u7eed\u7ae0\u8282\u4f1a\u6709\u5173\u4e8e\u5185\u5b58\u7684\u8be6\u7ec6\u4ecb\u7ecd\uff0c\u8fd9\u91cc\u6211\u4eec\u53ea\u8981\u77e5\u9053\u4e0d\u540c\u6570\u636e\u7c7b\u578b\u6240\u5360\u636e\u7684\u5b57\u8282\u6570\uff0c\u4ee5\u53ca\u5927\u7aef-\u5c0f\u7aef\u89c4\u5219\u5373\u53ef\u3002</p> <p>==\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u7ed9\u6bcf\u4e2a\u8fdb\u7a0b\u63d0\u4f9b\u79c1\u6709\u7684\u865a\u62df\u5185\u5b58\u5730\u5740\u7a7a\u95f4\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u53ef\u4ee5\u8bbf\u95ee\u81ea\u5df1\u7684\u6570\u636e\uff0c\u4f46\u662f\u4e0d\u80fd\u8bbf\u95ee\u522b\u4eba\u7684\u6570\u636e==\u3002\u5728\u865a\u62df\u5185\u5b58\u4e2d\u5730\u5740\u662f\u8fde\u7eed\u7684\uff0c\u5bf9\u5e94\u7269\u7406\u5185\u5b58\u5219\u4e0d\u4e00\u5b9a\uff0c\u6839\u636e\u5b57\u957f\u7684\u4e0d\u540c\uff0c\u6709\u4e0d\u540c\u7684\u95f4\u9694\uff0c\u5982\u4e0b\u56fe\u6240\u793a</p> <p></p> <p>\u7136\u540e\u6211\u4eec\u6765\u770b\u770b\u5e38\u89c1\u6570\u636e\u7c7b\u578b\u6240\u9700\u8981\u7684\u5b57\u8282\u6570\uff1a</p> \u6570\u636e\u7c7b\u578b 32 \u4f4d 64 \u4f4d x86-64 char 1 1 1 short 2 2 2 int 4 4 4 long 4 8 8 float 4 4 4 double 8 8 8 long double - - 10/16 \u6307\u9488 4 8 8 <p>\u6570\u636e\u5177\u4f53\u7684\u6392\u5217\u4e5f\u6709\u4e24\u79cd\u65b9\u5f0f\uff1a\u5927\u7aef(Big Endian)\u4e0e\u5c0f\u7aef(Little Endian)\uff0c\u533a\u522b\u5728\u4e8e\u9ad8\u4f4d\u5730\u5740\u7684\u4f4d\u7f6e\u3002==Internet \u6570\u636e\u91c7\u7528\u5927\u7aef\u89c4\u5219\uff0c\u800c\u6211\u4eec\u5e38\u89c1\u7684 x86 \u6216 ARM \u5904\u7406\u5668\u90fd\u91c7\u7528\u5c0f\u7aef\u89c4\u5219\u3002==</p> <p>\u4e3e\u4e2a\u4f8b\u5b50\uff0c\u5047\u5982\u53d8\u91cf\u00a0<code>x</code>\u00a0\u662f 4 \u5b57\u8282\uff0c\u503c\u4e3a\u00a0<code>0x01234567</code>\u3002\u7528\u00a0<code>&amp;x</code>\u00a0\u7d22\u5f15\u7684\u5730\u5740\u662f\u00a0<code>0x100</code>\uff0c\u90a3\u4e48\u5927\u7aef\u548c\u5c0f\u7aef\u7684\u8868\u793a\u5f62\u5f0f\u662f</p> <p></p> <p>\u5982\u4f55\u68c0\u67e5\u6570\u636e\u7684\u8868\u793a\u5462\uff0c\u53ef\u4ee5\u7528\u4e0b\u9762\u7684\u4ee3\u7801</p> 1  2  3  4  5  6  7  8 typedef unsigned char *pointer;   void show_bytes(pointer start, size_t len) <p>\u8fd9\u91cc\u00a0<code>%p</code>\u00a0\u7528\u6765\u8f93\u51fa\u6307\u9488\uff0c<code>%x</code>\u00a0\u7528\u6765\u8f93\u51fa 16 \u8fdb\u5236\u6570\u636e\u3002\u6267\u884c\u53ef\u7528\uff1a</p> 1  2  3 int a = 15213;  printf(\"int a = 15213;\\n\");  show_bytes((pointer) &amp;a, sizeof(int)); <p>\u5728\u6211\u7684\u7535\u8111\u4e0a\uff0c\u6d4b\u8bd5\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/","title":"Chapter3 \u7a0b\u5e8f\u7684\u673a\u5668\u7ea7\u8868\u793a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_1","title":"\u4e00. \u5f15\u5165","text":"<p>\uff08\u8ba1\u7b97\u673a\u5177\u4f53\u7684\u6267\u884c\u8fc7\u7a0b\uff09</p> <p>[1] step1:  \u8ba1\u7b97\u673a\u6267\u884c\u673a\u5668\u7f16\u7801\uff0c\u7528\u5b57\u8282\u5e8f\u5217\u7f16\u7801\u4f4e\u7ea7\u7684\u64cd\u4f5c(\u5904\u7406\u6570\u636e/\u7ba1\u7406\u5185\u5b58...) [2] step2: \u751f\u6210\u673a\u5668\u4ee3\u7801\uff0c\u968f\u540e\u7f16\u8bd1\u5668\u4ee5\u6c47\u7f16\u4ee3\u7801\u7684\u5f62\u5f0f\u4ea7\u751f\u8f93\u51fa [3] step3: \u8c03\u7528\u6c47\u7f16\u5668\u548c\u94fe\u63a5\u5668\uff0c\u6839\u636e\u6c47\u7f16\u4ee3\u7801\u751f\u6210\u53ef\u6267\u884c\u7684\u673a\u5668\u4ee3\u7801</p> <p>\uff08\u9700\u8981\u5b66\u4e60\u7684\u5730\u65b9\uff09</p> <p>[1] \u89c2\u5bdf\u673a\u5668\u4ee3\u7801\uff0c\u4ee5\u53ca\u4eba\u7c7b\u53ef\u8bfb\u7684\u8868\u793a\u5f62\u5f0f\u2014\u2014\u6c47\u7f16\u4ee3\u7801 [2] \u9ad8\u7ea7\u8bed\u8a00\uff08\u6bd4\u5982C\u8bed\u8a00\uff09\u7f16\u5199\u7684\u7a0b\u5e8f\u53ef\u4ee5\u5728\u5f88\u591a\u4e0d\u540c\u7684\u673a\u5668\u4e0a\u7f16\u8bd1\u4e0e\u6267\u884c [3] \u6c47\u7f16\u4ee3\u7801\u4e0e\u7279\u5b9a\u673a\u5668\u5bc6\u5207\u76f8\u5173 [4] \u8981\u6c42\u662f\uff1a\u80fd\u591f\u9605\u8bfb\u548c\u7406\u89e3\u7f16\u8bd1\u5668\u4ea7\u751f\u7684\u4ee3\u7801 [5] \u6e90\u4ee3\u7801\u548c\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\u662f\u4e00\u79cd\u9006\u5411\u5de5\u7a0b(reverse engineering)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_2","title":"\u4e8c. \u672c\u7ae0\u91cd\u70b9\u5185\u5bb9","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#31","title":"3.1 \u5386\u53f2\u89c2\u70b9","text":"<p>\u6469\u5c14\u5b9a\u5f8b\uff1a</p> <p>\u6676\u4f53\u7ba1\u6570\u91cf\u6bcf\u51e0\u4e2a\u6708\u5c31\u4f1a\u7ffb\u4e00\u500d\uff0c\u5728X86\u5fae\u5904\u7406\u5668\u7684\u5386\u53f2\u4e0a\uff0c\u8fd9\u79cd\u589e\u957f\u5df2\u7ecf\u5b58\u5728\u4e86\u51e0\u5341\u5e74</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#32","title":"3.2 \u7a0b\u5e8f\u7f16\u7801","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#1","title":"(1) \u57fa\u7840\u63a7\u5236\u6307\u4ee4","text":"<pre><code>gcc -Og -o p p1.c p2.c\n</code></pre> <p>[1] -Og \u544a\u8bc9\u7f16\u8bd1\u5668\u4f7f\u7528\u5408\u9002\u7684C\u4ee3\u7801\u4f18\u5316\u7b49\u7ea7 (\u4e00\u822c\u662f -O1 \u6216 -O2 )</p> <p>[2] \u6267\u884c\u8fc7\u7a0b\uff1agcc\u547d\u4ee4\u8c03\u7528\u4e00\u7cfb\u5217\u7a0b\u5e8f\uff0c\u5c06==\u6e90\u4ee3\u7801==\u8f6c\u6362\u6210\u53ef\u6267\u884c\u4ee3\u7801</p> <p>\u3010step1\u3011 1. C\u9884\u5904\u7406\u5668\u6269\u5c55\u6e90\u4ee3\u7801\uff0c\u63d2\u5165\u6240\u6709\u7528#include\u547d\u4ee4\u6307\u5b9a\u7684\u6587\u4ef6 2. C\u9884\u5904\u7406\u5668\u540c\u65f6\u6269\u5c55\u6240\u6709\u7528#define\u58f0\u660e\u6307\u5b9a\u7684\u5b8f \u3010step2\u3011 \u7f16\u8bd1\u5668\u4ea7\u751f\u4e24\u4e2a\u6e90\u6587\u4ef6\u7684==\u6c47\u7f16\u4ee3\u7801==\uff0c\u540d\u5b57\u5206\u522b\u4e3ap1.s // p2.s \u3010step3\u3011 \u6c47\u7f16\u5668\u4f1a\u5c06\u6c47\u7f16\u4ee3\u7801\u8f6c\u6362\u6210\u4e8c\u8fdb\u5236==\u76ee\u6807\u4ee3\u7801==\u7684\u6587\u4ef6p1.o // p2.o [\u76ee\u6807\u4ee3\u7801\u662f\u673a\u5668\u4ee3\u7801\u7684\u4e00\u79cd\u5f62\u5f0f\uff0c\u5b83\u5305\u542b\u6240\u6709\u6307\u4ee4\u7684\u4e8c\u8fdb\u5236\u5f62\u5f0f\uff0c\u4f46\u662f\u8fd8\u5dee\u5168\u5c40\u503c\u7684\u5730\u5740] \u3010step4\u3011 \u94fe\u63a5\u5668\u5c06\u4e24\u4e2a\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\u4e0e\u5b9e\u73b0\u5e93\u51fd\u6570\u7684\u4ee3\u7801\u5408\u5e76\uff0c\u5e76\u4ea7\u751f\u53ef\u6267\u884c\u4ee3\u7801\u6587\u4ef6p [\u7531-o p \u6307\u4ee4\u6307\u5b9a]</p> <p>[3] \u56fe\u793a:</p> <ol> <li> <p>\u67e5\u770b\u6e90\u4ee3\u7801\u5bf9\u5e94\u7684\u6c47\u7f16\u4ee3\u7801\uff1a <pre><code>g++ -Og -S hello.cpp\n</code></pre> ![[\u622a\u5c4f2023-10-08 16.34.01.png]] ![[\u622a\u5c4f2023-10-08 16.35.03.png]] \u8fd9\u91cc\uff1a g++\u8fd0\u884c\u7f16\u8bd1\u5668\uff0c\u4ea7\u751f\u4e00\u4e2a\u6c47\u7f16\u6587\u4ef6hello.s \u4f46\u662f\u4e0d\u505a\u8fdb\u4e00\u6b65\u5904\u7406\uff08\u901a\u5e38\u60c5\u51b5\u4e0b\u4f1a\u7ee7\u7eed\u8c03\u7528\u6c47\u7f16\u5668\u4ea7\u751f\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\uff09</p> </li> <li> <p>\u7f16\u8bd1\u4e0e\u6c47\u7f16\u8be5\u4ee3\u7801\uff1a <pre><code>g++ -Og -c hello.cpp\n</code></pre> ![[Pasted image 20231008164028.png]] ![[Pasted image 20231008164117.png]] \u8fd9\u91cc\uff1a \u4f1a\u4ea7\u751f\u76ee\u6807\u4ee3\u7801\u6587\u4ef6hello.o \u5b83\u662f\u4e8c\u8fdb\u5236\u7684\uff0c\u65e0\u6cd5\u76f4\u63a5\u67e5\u770b</p> </li> </ol> <p>\u6ce8\u610f\uff1a \u673a\u5668\u6267\u884c\u7684\u7a0b\u5e8f\u53ea\u662f\u4e00\u4e2a\u5b57\u8282\u5e8f\u5217\uff0c\u5b83\u662f\u5bf9\u4e00\u7cfb\u5217\u7f16\u6307\u4ee4\u7684\u7f16\u7801\uff0c\u5f62\u5982\uff1a <pre><code>53 48 89 d3 e8 00 00 00 48 89 03 5b c3\n</code></pre> \u673a\u5668\u672c\u8eab\u5bf9\u4ea7\u751f\u8fd9\u4e9b\u6307\u4ee4\u7684\u6e90\u4ee3\u7801\u51e0\u4e4e\u4e00\u65e0\u6240\u77e5</p> <ol> <li>\u53cd\u6c47\u7f16\u6839\u636e\u673a\u5668\u4ee3\u7801\u4ea7\u751f\u7c7b\u4f3c\u4e8e\u6c47\u7f16\u4ee3\u7801\u7684\u5f62\u5f0f\uff1a aim \uff1a\u60f3\u8981\u67e5\u770b\u673a\u5668\u4ee3\u7801\u6587\u4ef6\u7684\u5185\u5bb9 approach\uff1a\u4f7f\u7528\u53cd\u6c47\u7f16\u5668(disassembler) thm\uff1a\u6839\u636e\u673a\u5668\u4ee3\u7801\u4ea7\u751f\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u6c47\u7f16\u4ee3\u7801\u7684\u5f62\u5f0f\uff0c\u4ee5\u4fbf\u4e8e\u4eba\u7c7b\u9605\u8bfb</li> </ol> <p><pre><code>objdump -d hello.o\n</code></pre> ![[Pasted image 20231008164744.png]] \u8fd9\u91cc\uff1a \uff081\uff09\u53cd\u6c47\u7f16\u5668\u53ea\u662f\u57fa\u4e8e\u673a\u5668\u4ee3\u7801\u6587\u4ef6\u4e2d\u7684\u5b57\u8282\u5e8f\u5217\u6765\u786e\u5b9a\u673a\u5668\u4ee3\u7801\u7684\uff0c\u5b83\u4e0d\u9700\u8981\u8bbf\u95ee\u8be5\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801\u6216\u6c47\u7f16\u4ee3\u7801 \uff082\uff09\u53cd\u6c47\u7f16\u5668\u4f7f\u7528\u7684\u6307\u4ee4\u547d\u540d\u539f\u5219 \u548c g++\u751f\u6210\u6c47\u7f16\u4ee3\u7801\u7684\u6307\u4ee4 \u6709\u4e9b\u8bb8\u5dee\u522b \u6709\u65f6\u5019\u540e\u7f00q\u7684\u5b58\u5728\u6ca1\u6709\u5f71\u54cd\uff0c\u6bd4\u5982\uff1acallq \u4e0e call // retq \u4e0e ret</p> <ol> <li>\u751f\u6210\u53ef\u6267\u884c\u4ee3\u7801\uff1a \u9700\u8981\u5bf9\u4e00\u7ec4\u76ee\u6807\u4ee3\u7801\u6587\u4ef6\u8fd0\u884c\u94fe\u63a5\u5668\uff0c\u800c\u8fd9\u4e00\u7ec4\u6587\u4ef6\u4e2d\u5fc5\u987b\u5305\u542bmain\u51fd\u6570 <pre><code>objdump -d prog // \u751f\u6210\u53ef\u6267\u884c\u4ee3\u7801\uff1a prog\uff08\u7a0b\u5e8f\u540d\uff09\n</code></pre> ![[Pasted image 20231008165449.png]] \u8fd9\u91cc\uff1a \u94fe\u63a5\u5668\u7684\u4efb\u52a1\u4e4b\u4e00\u5c31\u662f\u4e3a\u51fd\u6570\u8c03\u7528\u627e\u5230\u5339\u914d\u51fd\u6570\u7684\u53ef\u6267\u884c\u4ee3\u7801\u7684\u4f4d\u7f6e</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#2","title":"\uff082\uff09\u5173\u4e8e\u683c\u5f0f\u7684\u6ce8\u89e3 &amp;&amp; \u9605\u8bfb\u65f6\u7684\u6ce8\u610f\u70b9\uff1a","text":"<p>[1] \u6240\u6709\u4ee5 ' . ' \u5f00\u5934\u7684\u884c\u90fd\u662f\u6307\u5bfc\u6c47\u7f16\u5668\u4e0e\u94fe\u63a5\u5668\u5de5\u4f5c\u7684\u4f2a\u6307\u4ee4\uff0c\u5e38\u53ef\u5ffd\u7565 ![[Pasted image 20231008170141.png]]</p> <p>[2]\u5199\u65c1\u6279\u6ce8\u91ca\u7684\u683c\u5f0f\uff1a ![[Pasted image 20231008170248.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#3","title":"(3) \u6570\u636e\u683c\u5f0f\uff1a","text":"<p>1\uff09\u5b57 (word) \uff1a word\uff1a16\u4f4d\u6570\u636e\u7c7b\u578b double words: \u53cc\u5b57\uff0c32\u4f4d(bit)\u6570 \\== 4bite(\u5b57\u8282) quad words: \u56db\u5b57\uff0c64\u4f4d(bit)\u6570 \\== 8bite(\u5b57\u8282)</p> <p>2\uff09\u5e38\u89c1\u7c7b\u578b\uff1a ![[Pasted image 20231008170659.png]] \u5176\u4e2d\u9700\u8981\u6ce8\u610f\u4e00\u70b9\uff1a \u5728X86-64\u6846\u67b6\u4e0b\uff0cC\u6307\u9488char*\u7684\u5927\u5c0f\u4e3a\uff1a64 bit = 8 bite</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#4","title":"\uff084\uff09\u8bbf\u95ee\u4fe1\u606f\uff1a","text":"<ol> <li> <p>\u5bc4\u5b58\u5668\u62bd\u8c61\u7ed3\u6784\u56fe\uff1a ![[Pasted image 20231008180127.png]]</p> </li> <li> <p>\u4e24\u6761\u89c4\u5219\uff1a[\u540e\u9762\u4f1a\u7528\u5230\uff0c\u8fd9\u4e9b\u5c31\u662f\u7ea6\u5b9a\u4fd7\u6210\u7684\u89c4\u7ae0\u5236\u5ea6]</p> <p>\u5bf9\u4e8e\u751f\u6210\u5c0f\u4e8e8\u5b57\u8282(64\u4f4d)\u7ed3\u679c\u7684\u6307\u4ee4\uff1a [1] \u751f\u62101 / 2\u5b57\u8282\u6570\u5b57\u7684\u6307\u4ee4\u4f1a\u4fdd\u6301\u5269\u4e0b\u7684\u5b57\u8282\u4e0d\u53d8 [2] \u751f\u62104\u5b57\u8282\u6570\u5b57\u7684\u6307\u4ee4\u4f1a\u5c06\u9ad8\u4f4d4\u4e2a\u5b57\u8282\u8bbe\u7f6e\u4e3a0</p> </li> <li> <p>\u64cd\u4f5c\u6570\u6307\u793a\u7b26\uff1a def ( \u64cd\u4f5c\u6570 ) \uff1a</p> <p>\u5927\u591a\u6570\u6307\u4ee4\u4f1a\u6709\u4e00\u4e2a\u6216\u8005\u591a\u4e2a\u64cd\u4f5c\u6570(operand)  =&gt;  \u6307\u793a\u51fa\u6267\u884c\u4e00\u4e2a\u64cd\u4f5c\u4e2d\u8981\u4f7f\u7528\u7684\u6e90\u6570\u636e\u503c  \u548c \u653e\u7f6e\u7ed3\u679c\u7684\u76ee\u7684\u4f4d\u7f6e</p> </li> </ol> <p>category (\u64cd\u4f5c\u6570\u683c\u5f0f) \uff1a [\u8bf4\u660e] \u6e90\u6570\u636e\u503c\u53ef\u4ee5\u4ee5\u5e38\u6570\u5f62\u5f0f\u7ed9\u51fa\uff0c\u6216\u662f\u4ece\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u4e2d\u8bfb\u51fa\uff0c\u7ed3\u679c\u53ef\u4ee5\u653e\u7f6e\u5728\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u4e2d [\u7c7b\u522b1] \u7acb\u5373\u6570(immediate) \uff1a</p> <p>(1)\u8868\u793a\u5e38\u6570\u503c (2)\u8868\u793a\u65b9\u6cd5\u4e3a\uff1a\u2019$\u2018 + C\u6807\u51c6\u7684\u5e38\u6570\u503c\uff0c\u5f62\u5982\uff1a$-577 and $0x1F</p> <p>[\u7c7b\u522b2] \u5bc4\u5b58\u5668(register) :</p> <p>\uff081\uff09\u4f7f\u7528\u7b26\u53f7 \\(r_a\\) \u8868\u793a\u4efb\u610f\u5bc4\u5b58\u5668 a \uff082\uff09\u4f7f\u7528\u5f15\u7528\u7b26\u53f7R [ \\(r_a\\) ] \u8868\u793a\u5b83\u7684\u503c</p> <p>\u673a\u7406\uff1a\u5c06\u5bc4\u5b58\u5668\u96c6\u5408\u770b\u6210\u4e00\u4e2a\u6570\u7ec4R\uff0c\u7528\u5bc4\u5b58\u5668\u6807\u8bc6\u7b26\u4f5c\u4e3a\u7d22\u5f15</p> <p>[\u7c7b\u522b3] \u5185\u5b58\u5f15\u7528(memory)\uff1a</p> <p>\uff081\uff09\u4f1a\u6839\u636e\u8ba1\u7b97\u51fa\u6765\u7684\u5730\u5740(\u901a\u5e38\u79f0\u4e3a\uff1a\u6709\u6548\u5730\u5740)\u8bbf\u95ee\u67d0\u4e2a\u5185\u5b58\u4f4d\u7f6e \uff082\uff09\u8868\u793a\u6cd5\uff1a\\(M_b\\)[Addr] \u8868\u793a\u5bf9\u5b58\u50a8\u5728\u5185\u5b58\u4e2d\u4ece\u5730\u5740\u4e3aAddr\u5f00\u59cb\u7684b\u4e2a\u5b57\u8282\u503c\u7684\u5f15\u7528\uff0c\u5e38\u4ea6\u53ef\u7701\u7565\u4e0b\u6807b</p> <p>\u673a\u7406\uff1a\u5c06\u5185\u5b58\u89c6\u4f5c\u4e00\u4e2a\u5f88\u5927\u7684\u5b57\u8282\u6570\u7ec4</p> <p>![[Pasted image 20231008182421.png]]</p> <ol> <li>\u6570\u636e\u4f20\u9001\u6307\u4ee4\uff1a (1) \u6700\u5e38\u4f7f\u7528\u7684\u6307\u4ee4\uff1a\u5c06data\u4ece\u4e00\u4e2a\u4f4d\u7f6e\u590d\u5236\u5230\u53e6\u4e00\u4e2a\u4f4d\u7f6e</li> </ol> <p>(2) \u5e38\u7528\u7684\u6307\u4ee4\u662f\uff1aMOV\u7c7b ![[Pasted image 20231008182658.png]]</p> <p>\u683c\u5f0f\uff1a <pre><code>mov? a , b     // \u7b2c\u4e00\u4e2a\u662f\u6e90\u64cd\u4f5c\u6570\uff0c\u7b2c\u4e8c\u4e2a\u662f\u76ee\u7684\u64cd\u4f5c\u6570\n               // \u8bed\u6cd5\u542b\u4e49\uff1a\u5c06 a \u590d\u5236\u8fdb b\n</code></pre></p> <p>\u5b9e\u4f8b\uff1a ![[Pasted image 20231008183150.png]]</p> <p>(3) \u64cd\u4f5c\u4e2d\u5bf9\u4e8e\u201c\u590d\u5236\u201d\u7684\u8981\u6c42\uff1a\u3010\ud83c\udf1f\u3011 [1] \u6e90\u64cd\u4f5c\u6570\u662f\u4e00\u4e2a\u7acb\u5373\u6570\uff0c\u5b58\u50a8\u5728\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u4e2d [2] \u76ee\u7684\u64cd\u4f5c\u6570\u6307\u5b9a\u4e00\u4e2a\u4f4d\u7f6e\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0c\u8981\u4e48\u662f\u4e00\u4e2a\u5185\u5b58\u5730\u5740 [3] \u4e24\u4e2a\u64cd\u4f5c\u6570\u4e0d\u80fd\u90fd\u6307\u5411\u5185\u5b58\u4f4d\u7f6e</p> <p>=&gt; \u968f\u4e4b\u800c\u6765\u4e00\u4e2a\u91cd\u8981\u7684\u95ee\u9898\uff1a Ques: \u5982\u4f55\u5c06\u4e00\u4e2a\u503c\u4ece \u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e \u590d\u5236\u5230 \u53e6\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\uff1f Ans\uff1a</p> <p>\u4f7f\u7528\u4e24\u6761\u6307\u4ee4\uff0c \u7b2c\u4e00\u6761\u6307\u4ee4\uff1a\u5c06\u6e90\u503c\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668\u4e2d \u7b2c\u4e8c\u6761\u6307\u4ee4\uff1a\u5c06\u8be5\u5bc4\u5b58\u5668\u503c\u5199\u5165\u76ee\u7684\u4f4d\u7f6e</p> <p>(4) \u4f4d\u7f6e\u5339\u914d\u7684\u89c4\u5219\uff1a\u3010\u4e0d\u91cd\u8981\uff0c\u4e86\u89e3\u5373\u53ef\u3011 [1] \u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0cMOV\u6307\u4ee4\u53ea\u4f1a\u66f4\u65b0\u76ee\u7684\u64cd\u4f5c\u6570\u6307\u5b9a\u7684\u90a3\u4e9b\u5bc4\u5b58\u5668\u5b57\u8282\u6216\u5185\u5b58\u4f4d\u7f6e [2] \u552f\u4e00\u7684\u4f8b\u5916\u5c31\u662fmovl\u6307\u4ee4\u4ee5\u5bc4\u5b58\u5668\u4f5c\u4e3a\u76ee\u7684\u5730\u65f6\uff0c\u5b83\u4f1a\u5c06\u8be5\u5bc4\u5b58\u5668\u7684\u9ad8\u4f4d4\u5b57\u8282\u8bbe\u7f6e\u62100 \u300c\u8fd9\u5c31\u662f\u4e4b\u524d\u63d0\u5230\u7684\u4e24\u6761\u89c4\u5219\u4e4b\u4e00\uff0c\u8bb0\u5f97review\u300d [3] movabsq \u6307\u4ee4\u80fd\u591f\u4ee5\u4efb\u610f64\u4f4d\u7acb\u5373\u6570\u503c\u4f5c\u4e3a\u6e90\u64cd\u4f5c\u6570\uff0c\u5e76\u4e14\u53ea\u80fd\u4ee5\u5bc4\u5b58\u5668\u4e3a\u76ee\u7684</p> <ol> <li>\u6570\u636e\u4f20\u9001\u5b9e\u4f8b\uff1a ![[Pasted image 20231008184201.png]] (1) process &amp; analysis\uff1a <p>[1] \u51fd\u6570exchange\u7531\u4e09\u6761\u6307\u4ee4\u5b9e\u73b0\uff1a\u4e24\u4e2a\u6570\u636e\u4f20\u9001(movq)\uff0c\u52a0\u4e0a\u4e00\u6761\u8fd4\u56de\u51fd\u6570\u88ab\u8c03\u7528\u70b9\u7684\u6307\u4ee4(ret) [2] \u7a0b\u5e8f\u5f00\u59cb\u6267\u884c\uff1a\u8fc7\u7a0b\u53c2\u6570xp\u548cy\u5206\u522b\u5b58\u50a8\u5728\u5bc4\u5b58\u5668 %rdi \u548c %rsi \u4e2d [3] \u6307\u4ee42\u4ece\u5185\u5b58\u4e2d\u8bfb\u51fax\uff0c\u5c06\u5b83\u5b58\u653e\u5728\u5bc4\u5b58\u5668%rax\u4e2d\uff0c\u76f4\u63a5\u5b9e\u73b0\u4e86x = *xp [4] \u968f\u540e\uff0c\u7528\u5bc4\u5b58\u5668 %rax \u4ece\u8fd9\u4e2a\u51fd\u6570\u8fd4\u56de\u4e00\u4e2a\u503c\uff0c\u56e0\u800c\u8fd4\u56de\u503c\u5c31\u662fx [5] \u6307\u4ee43\u5c06y\u5199\u5165\u5230\u5bc4\u5b58\u5668%rdi\u4e2d\u7684xp\u6307\u5411\u7684\u5185\u5b58\u4f4d\u7f6e\uff0c\u76f4\u63a5\u5b9e\u73b0\u4e86*xp = y [6] rank2: \u4ece\u5185\u5b58\u4e2d\u8bfb\u503c\u5230\u5bc4\u5b58\u5668\u4e2d [7] rank3: \u4ece\u5bc4\u5b58\u5668\u5199\u5230\u5185\u5b58</p> </li> </ol> <p>(2) attention\uff1a</p> <p>[1]\u95f4\u63a5\u5f15\u7528\u6307\u9488\u5c31\u662f\u5c06\u6307\u9488\u653e\u5728\u4e00\u4e2a\u5bc4\u5b58\u5668\u4e2d\uff0c\u7136\u540e\u5728\u5185\u5b58\u5f15\u7528\u4e2d\u4f7f\u7528\u8fd9\u4e2a\u5bc4\u5b58\u5668</p> <p>\u9700\u8981\u6ce8\u610f\uff1a [1.1] \u5bf9\u4e8e\u6307\u9488\u7684\u590d\u5236\u5f15\u7528\uff0c\u9700\u8981\u91c7\u7528' (\u67d0\u5bc4\u5b58\u5668) '\u7684\u683c\u5f0f\uff0c\u6bd4\u5982\uff1a(%rdi) [1.2] \u5bf9\u4e8e\u5c40\u90e8\u53d8\u91cf\u7684\u590d\u5236\uff0c\u76f4\u63a5\u662f'\u67d0\u5bc4\u5b58\u5668' \u5373\u53ef\uff0c\u6bd4\u5982\uff1a%rax</p> <p>[2]\u50cfx\u8fd9\u6837\u7684\u5c40\u90e8\u53d8\u91cf\u901a\u5e38\u662f\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668\u4e2d\uff0c\u800c\u4e0d\u662f\u5185\u5b58\u4e2d</p> <p>[3] \u8bbf\u95ee\u5bc4\u5b58\u5668\u6bd4\u8bbf\u95ee\u5185\u5b58\u5feb\u7684\u591a</p> <ol> <li>\u5185\u5b58\u4e2d\u7684\u6808\u7ed3\u6784 (1) \u6808\u53ef\u4ee5\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u6570\u7ec4\uff0c\u603b\u662f\u4ece\u6570\u7ec4\u7684\u4e00\u7aef\u63d2\u5165\u548c\u5220\u9664\u5143\u7d20\uff0c\u8fd9\u4e00\u7aef\u88ab\u79f0\u4e3a\u201c\u6808\u9876\u201d</li> </ol> <p>(2) \u7a0b\u5e8f\u6808 \u603b\u662f\u653e\u5728\u5185\u5b58\u4e2d\u7684\u67d0\u4e2a\u533a\u57df</p> <p>(3) \u6808\u7684\u57fa\u672c\u64cd\u4f5c: ![[Pasted image 20231008190229.png]]</p> <p>(4) \u6808\u7684\u7ed3\u6784\u793a\u610f\u56fe\uff1a ![[Pasted image 20231008191223.png]]</p> <ol> <li> <p>\u7ed3\u6784\u8bf4\u660e\uff1a \u6808\u662f\u5012\u7740\u7ed8\u5236\u7684 \uff081\uff09\u6808\u5411\u4e0b(\u4f4e\u5730\u5740)\u589e\u957f\uff0c\u6808\u9876\u5143\u7d20\u7684\u5730\u5740\u662f\u5728\u6240\u6709\u5143\u7d20\u5730\u5740\u4e2d\u6700\u4f4e\u7684 \uff082\uff09\u538b\u6808(\u5165\u6808)\uff1a\u51cf\u5c0f\u6808\u6307\u9488(%rsp\u7684\u503c)\uff0c\u5e76\u5c06\u6570\u636e\u5b58\u653e\u5728\u5bf9\u5e94\u5185\u5b58\u4e2d[%rsp\u5f80\u4e0a\u8dd1] \uff083\uff09\u51fa\u6808\uff1a\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6570\u636e\uff0c\u5e76\u589e\u52a0\u6808\u6307\u9488\u7684\u503c[%rsp\u5411\u4e0b\u8dd1]</p> </li> <li> <p>\u51fa\u5165\u6808\u672c\u8d28\u53ca\u5bf9\u5e94\u6c47\u7f16\u4ee3\u7801\uff1a \u5165\u6808\uff1a [ pushq %rax \u5c55\u5f00\u5373\u4e3a\u4e0b\u5217 ]  <pre><code>subq $8 , %rsp     # \u6808\u6307\u9488\u5411\u4e0b\u8d708\u4e2a\u5b57\u8282\uff08\u6ce8\u610f\u662f\u6307\u9488\u51cf\u6cd5\uff09\uff0c\u5b9e\u73b0\u201c\u6269\u5c55\u5bb9\u91cf\u201d\nmovq %rbp , (%rsp)  # \u5c06\u5bc4\u5b58\u5668%rbp\u4e2d\u7684\u503c\u590d\u5236\u5230%rsp\u5bc4\u5b58\u5668\u4e2d\n#\u4ece\u800c\u5b9e\u73b0\uff1a\u65b0\u503c\u8fdb\u5165\u6808\u6307\u9488\u5bf9\u5e94\u7684\u5bc4\u5b58\u5668\u4e2d\uff0c\u5b9e\u73b0\u201c\u5165\u6808\u201d\n</code></pre></p> </li> </ol> <p>\u51fa\u6808\uff1a [ popq %rax  \u5c55\u5f00\u5373\u4e3a\u4e0b\u5217 ]  <pre><code>movq (%rsp), %rax  # \u5c06\u6808\u6307\u9488\u5bf9\u5e94\u5bc4\u5b58\u5668\u5185\u7684\u503c\u590d\u5236\u5230\u8fd4\u56de\u503c\u5bc4\u5b58\u5668\u4e2d\uff0c\u5b9e\u73b0\u201c \u8fd4\u56de\u51fa\u2018\u88ab\u8e22\u8005\u2019 \u201d\u529f\u80fd\naddq $8 , %rsp     # \u6808\u6307\u9488\u5411\u4e0a\u8d708\u4e2a\u5b57\u8282\uff0c\u5b9e\u73b0\u201c\u626b\u5730\u51fa\u95e8\u201d\n</code></pre></p> <p>(5) \u5b9e\u4f8b\u89e3\u91ca\u8bf4\u660e\uff1a ![[Pasted image 20231008192724.png]] \u5f53%rsp\u4e3a0x108\uff08\u6307\u9488\u6307\u5411\uff09\uff0c%rax\u4e3a0x123\uff08\u5305\u88f9\u5185\u5230\u503c\uff09\u65f6\uff1a</p> <p>(1) \u6267\u884c pushq %rax :  \u9996\u5148%rsp\u4f1a\u51cf\u53bb8\uff0c\u5f97\u52300x100\u7684\u4f4d\u7f6e\uff1b\u7136\u540e\u5c06\u503c0x123\u653e\u5165\u5185\u5b58\u5730\u57400x100\u5904</p> <p>(2) \u6267\u884c\u5b8cpushq %rax\u540e\uff0c\u5982\u679c\u7acb\u5373\u6267\u884cpopq %rax: \u5148\u4ece\u5185\u5b58\u4e2d\u8bfb\u51fa\u503c0x123\uff0c\u518d\u5199\u5230\u5bc4\u5b58\u5668%rax\u4e2d\uff08\u7528\u4e8e\u8fd4\u56de\uff09 \u7136\u540e\u5bc4\u5b58\u5668%rsp\u7684\u503c\u5c06\u4f1a\u589e\u52a0\u56de\u52300x108</p> <p>\u89e3\u91ca\uff1a \uff081\uff09\u4e3a\u4ec0\u4e48\u4e0a\u6587\u8981\u5199\u8fd9\u53e5\u8bdd\uff1a\u201c\u6267\u884c\u5b8cpushq %rax\u540e\uff0c\u5982\u679c\u7acb\u5373\u6267\u884c\u201d</p> <p>\u56e0\u4e3a\u5728\u8fdb\u6808\u4e4b\u540e\uff0c\u51fa\u6808\u4e4b\u524d\uff0c\u5fc5\u7136\u4f1a\u6709\u5f88\u591a\u5176\u4ed6\u7684\u64cd\u4f5c\uff0c\u56e0\u6b64\u5728pushq\u4e0epopq\u4e4b\u95f4\u5b9e\u9645\u4e0a\u8fd8\u6709\u5f88\u591a\u5185\u5bb9</p> <p>\uff082\uff09\u503c0x123\u4ecd\u7136\u4fdd\u6301\u5728\u5185\u5b58\u4f4d\u7f6e\u4e3a0x100\u5904\uff0c\u76f4\u81f3\u88ab\u8986\u76d6(\u4f8b\u5982\u6709\u53e6\u4e00\u4e2a\u64cd\u4f5c\u6539\u5199\u6b64\u5904\u503c...) [\u9700\u8981\u7406\u89e3\u7684\u662f\u6808\u662f\u4e00\u4e2a\u62bd\u8c61\u7ed3\u6784\uff0c\u800c\u5185\u5b58\u662f\u5b9e\u9645\u7ed3\u6784\uff0c\u6240\u8c13\u201c\u88ab\u6808\u9000\u4e86\u201d\u5e76\u4e0d\u610f\u5473\u7740\u5b83\u5c31\u201c\u6d88\u5931\u201d\u4e86\uff0c\u5b83\u4ecd\u5728\u539f\u4f4d\u7f6e\uff0c\u53ea\u662f\u6b64\u65f6\u5b83\u5e76\u4e0d\u5728\u6211\u4eec\u7684\u89c6\u91ce\u8303\u56f4\u5185\uff08\u5373\uff1a\u201c\u6808\u5185\u201d\uff09]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#5","title":"\uff085\uff09\u7b97\u672f\u4e0e\u903b\u8f91\u64cd\u4f5c\uff1a","text":"<ol> <li>\u5f15\u5165\uff1a</li> </ol> <p>\uff081\uff09\u5e38\u89c1\u6574\u6570\u7b97\u672f\u64cd\u4f5c\uff1a ![[Pasted image 20231008214525.png]]</p> <p>\uff082\uff09\u52a0\u8f7d\u6709\u6548\u5730\u5740(leaq)\uff1a</p> <p>\u52a0\u8f7d\u6709\u6548\u5730\u5740(leaq)\uff1a\u5e38\u7528\u6765\u6267\u884c\u7b80\u5355\u7684\u7b97\u672f\u64cd\u4f5c</p> <ol> <li>\u52a0\u8f7d\u6709\u6548\u5730\u5740\u7684\u7528\u9014\uff1a [\u6307\u4ee4\u4e3a\uff1aleaq] 1\uff09\u6307\u4ee4leaq\u5b9e\u9645\u4e0a\u662fmovq\u6307\u4ee4\u7684\u53d8\u5f62: <p>\u6307\u4ee4\u5f62\u5f0f\u662f\uff1a\u4ece\u5185\u5b58\u8bfb\u53d6\u6570\u636e\u5230\u5bc4\u5b58\u5668\uff0c\u4f46\u5b9e\u9645\u4e0a\u5b83\u6839\u672c\u6ca1\u6709\u5f15\u7528\u5185\u5b58\uff1b\u5b83\u4e0d\u662f\u4ece\u6307\u5b9a\u4f4d\u7f6e\u8bfb\u5165\u6570\u636e\uff0c\u800c\u662f\u5c06\u6709\u6548\u5730\u5740\u5199\u5165\u76ee\u7684\u64cd\u4f5c\u6570</p> </li> </ol> <p>2\uff09\u53ef\u4ee5\u7b80\u6d01\u5730\u63cf\u8ff0\u666e\u901a\u7684\u7b97\u672f\u64cd\u4f5c: ![[Pasted image 20231008215230.png]]</p> <p>\uff08point\uff09\u76ee\u7684\u64cd\u4f5c\u6570\u5fc5\u987b\u662f\u4e00\u4e2a\u5bc4\u5b58\u5668</p> <ol> <li>\u4e00\u5143\u548c\u4e8c\u5143\u64cd\u4f5c\uff1a</li> </ol> <p>def(\u4e00\u5143\u64cd\u4f5c)\uff1a\u53ea\u6709\u4e00\u4e2a\u64cd\u4f5c\u6570\uff0c\u65e2\u662f\u6e90\u4e5f\u662f\u76ee\u7684\uff1b\u8fd9\u4e2a\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a\u5bc4\u5b58\u5668\uff0c\u4e5f\u53ef\u4ee5\u662f\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e</p> <p>\u6bd4\u5982\uff1aincq(%rsq)\u4f1a\u4f7f\u6808\u9876 + 1 (8\u5b57\u8282\u5143\u7d20)\uff0c\u7c7b\u6bd4C\u4e2d\u7684++\u4e0e--</p> <p>def(\u4e8c\u5143\u64cd\u4f5c)\uff1a\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u65e2\u662f\u6e90\u4e5f\u662f\u76ee\u7684</p> <p>\u53ef\u4ee5\u7c7b\u6bd4C\u4e2d\u7684x-=y</p> <p>\u5b9e\u4f8b\uff1a subq %rax , %rdx \u4f7f\u5f97\u5bc4\u5b58\u5668%rdx\u7684\u503c\u51cf\u53bb%rax\u4e2d\u7684\u503c \u66f4\u597d\u7684\u7ffb\u8bd1\u662f\uff1a\u4ece%rdx\u4e2d\u51cf\u53bb%rax</p> <p>\u8981\u70b9\u8bf4\u660e\uff1a [1]\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u7acb\u5373\u6570\u3001\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u4f4d\u7f6e [2]\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u5bc4\u5b58\u5668\u3001\u5185\u5b58\u4f4d\u7f6e [point] \u5f53\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u6570\u662f\u5185\u5b58\u5730\u5740\u65f6\uff0c\u5904\u7406\u5668\u5fc5\u987b\u4ece\u5185\u5b58\u4e2d\u8bfb\u51fa\u503c\uff0c\u6267\u884c\u64cd\u4f5c\uff0c\u518d\u628a\u7ed3\u679c\u5199\u56de\u5185\u5b58</p> <ol> <li>\u79fb\u4f4d\u64cd\u4f5c\uff1a \u5f62\u5f0f\uff1a <p>\u5148\u7ed9\u51fa\u79fb\u4f4d\u91cf\uff0c\u7136\u540e\u7b2c\u4e8c\u9879\u7ed9\u51fa\u7684\u662f\u5177\u4f53\u8981\u79fb\u4f4d\u7684\u6570\uff1b\u76ee\u7684\u64cd\u4f5c\u6570\u53ef\u4ee5\u662f\u4e00\u4e2a\u5bc4\u5b58\u5668\u6216\u662f\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e</p> </li> </ol> <p>\u5de6\u79fb\uff1a</p> <p>SAL\u4e0eSHL\uff0c\u6548\u679c\u4e00\u6837\uff0c\u90fd\u662f\u5c06\u53f3\u8fb9\u586b\u51450</p> <p>\u53f3\u79fb\uff1a</p> <p>SAR\uff1a\u7b97\u672f\u79fb\u4f4d(\u586b\u4e0a\u7b26\u53f7\u4f4d).   \u8bb0\u4f5c \\(&gt;&gt;_A\\) SHR\uff1a\u903b\u8f91\u79fb\u4f4d(\u586b\u4e0a0).           \u8bb0\u4f5c \\(&gt;&gt;_L\\)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#6","title":"\uff086\uff09\u63a7\u5236\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#1_1","title":"1\uff09\u5f15\u5165\uff1a","text":"<p>\u76ee\u524d\u4e3a\u6b62\uff0c\u6211\u4eec\u53ea\u8003\u8651\u4e86\u76f4\u7ebf\u4ee3\u7801\u7684\u884c\u4e3a\u4e0e\u903b\u8f91\uff0c\u5373\uff1a\u6307\u4ee4\u4e00\u6761\u63a5\u4e00\u6761\u987a\u5e8f\u6267\u884c \u5982\u679c\u60f3\u5b9e\u73b0\u66f4\u52a0\u4fbf\u5229\u7684\u529f\u80fd\uff0c\u6bd4\u5982\u6761\u4ef6\u8df3\u8f6c... \u7528jump\u6307\u4ee4\u53ef\u4ee5\u6539\u53d8\u4e00\u7ec4code\u7684\u6267\u884c\u987a\u5e8f\uff0cjump\u6307\u4ee4\u6307\u5b9a\u63a7\u5236\u5e94\u8be5\u4f20\u9012\u5230\u7a0b\u5e8f\u7684\u67d0\u4e2a\u5176\u4ed6\u90e8\u5206\uff0c\u4e5f\u53ef\u80fd\u662f\u4f9d\u8d56\u4e8e\u67d0\u4e2a\u6d4b\u8bd5\u7684\u7ed3\u679c</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#2condition-code","title":"2\uff09\u6761\u4ef6\u7801(condition code)\uff1a","text":"<ol> <li> <p>def(\u6761\u4ef6\u7801\u5bc4\u5b58\u5668)\uff1a\u63cf\u8ff0\u4e86\u6700\u65b0\u7684\u7b97\u672f or \u903b\u8f91\u64cd\u4f5c\u7684\u5c5e\u6027</p> </li> <li> <p>\u5e38\u89c1\u7684\u6761\u4ef6\u7801\uff1a [1]\u76f4\u63a5\u5224\u5b9a\u7684\u6761\u4ef6\u7801\uff1a ![[Pasted image 20231009131552.png]] \u4f8b\u5982\uff1a ![[Pasted image 20231009131704.png]]</p> </li> </ol> <p>[2]\u64cd\u4f5c\u5224\u5b9a\u7684\u6761\u4ef6\u7801\uff1a 1) CMP a , b \uff1a\u5229\u7528(b-a)\u8bbe\u7f6e\u6761\u4ef6</p> <p>2) TEST a , b : \u5229\u7528(a&amp;b)\u8bbe\u7f6e\u6761\u4ef6</p> <p>![[Pasted image 20231009131938.png]]</p> <ol> <li>\u8bbf\u95ee\u6761\u4ef6\u7801 <p>\u5177\u4f53\u610f\u4e49\u4e0d\u9700\u8981\u4e86\u89e3\uff1b\u53ea\u9700\u8981\u638c\u63e1\u5b83\u7684\u7528\u5904</p> </li> </ol> <p>\u7528\u5904\uff1a \u5bf9\u4e8e\u6307\u4ee4setX \\(D_s\\)\uff1a\u5c06 \\(D_s\\) \u5bf9\u5e94\u7684\u6761\u4ef6\u4f5c\u4e3a\u5224\u5b9a\u6761\u4ef6\uff0c\u4ee5\u4fbf\u4e8e\u540e\u7eed\u201c\u6839\u636e\u5224\u65ad\u6761\u4ef6\u662f\u5426\u6210\u7acb\u201d\u8fdb\u884c\u64cd\u4f5c</p> <p>\u5b9e\u4f8b\uff1a <pre><code># int comp(data_t a , data_t b)\n# a in %rdi , b in %rsi\n# code:\n\ncomp: \n    cmpq   %rsi , %rdi  # \u6bd4\u8f83a:b\n    setl   %al          # \u8bbe\u7f6e\u901a\u8fc7\u6761\u4ef6 a &lt; b\n    movzbl %al , %eax   # \u5f53\u7ed3\u679c %eax \u6ee1\u8db3 %al(\u4e0a\u8ff0\u901a\u8fc7\u6761\u4ef6) \u65f6\n    ret                 # \u8fd4\u56de\n</code></pre></p> <p>\u5e38\u89c1\u7684set\u8bbf\u95ee\u6761\u4ef6\u7801\uff1a ![[Pasted image 20231009133003.png]]</p> <ol> <li>\u8df3\u8f6c\u6307\u4ee4\uff1a 1\uff09\u610f\u4e49\uff1a <p>\u5bfc\u81f4\u6267\u884c\u5207\u6362\u5230\u4e00\u4e2a\u5168\u65b0\u7684\u4f4d\u7f6e</p> </li> </ol> <p>2\uff09\u76ee\u7684\uff1a</p> <p>\u901a\u5e38\u7528\u4e00\u4e2alabel\u6307\u660e</p> <p>3\uff09\u5f62\u5f0f: <pre><code>    jX Label    # \u82e5\u6ee1\u8db3\u4e86jX\u5bf9\u5e94\u7684\u5224\u5b9a\u6761\u4ef6\uff0c\u5219code\u76f4\u63a5\u8df3\u8f6c\u5230label\u6240\u6307\u7684\u5730\u65b9\uff0c\u6267\u884c\u540e\u7eed\uff1b\u53cd\u4e4b\u6309\u987a\u5e8f\u5411\u4e0b\u8fdb\u884c\n    ...\n\n  Label:        # Label\u6240\u5728\u5904\n    ...\n</code></pre></p> <p>4\uff09jX\u5bf9\u5e94\u7684\u5224\u65ad\u6761\u4ef6\uff1a ![[Pasted image 20231009133513.png]] ps: \u5e38\u89c1\u82f1\u6587\u7f29\u5199\u5bf9\u5e94\u542b\u4e49 e: equal == </p> <p>g: greater &gt; ge: greater OR equal &gt;=</p> <p>l: less le: less OR equal &lt;=</p> <p>s: negative number s ns not negative number s</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#3_1","title":"3\uff09\u63a7\u5236\u7ed3\u6784\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#1_2","title":"1. \u91cd\u70b9\uff1a","text":"<p>==\u6c47\u7f16\u4ee3\u7801==\u7684\u6784\u9020\u903b\u8f91 \u8ddf C\u8bed\u8a00\u4e2d\u7684==goto\u8bed\u53e5== \u76f8\u540c</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#2_1","title":"2. \u5b9e\u73b0\uff1a","text":"<p>\u65b9\u6cd51: \u6761\u4ef6\u63a7\u5236\u6765\u5b9e\u73b0\u6761\u4ef6\u5206\u652f ![[Pasted image 20231009134542.png]] ![[Pasted image 20231009134600.png]]</p> <p>\u65b9\u6cd52: \u6761\u4ef6\u4f20\u9001\u6765\u5b9e\u73b0\u6761\u4ef6\u5206\u652f</p> <p>\u4e3a\u4ec0\u4e48\u8981\u4f7f\u7528\u6761\u4ef6\u4f20\u9001\uff1f ans: \u4f20\u7edf\u7684\u6761\u4ef6\u63a7\u5236\u89c1\u65b9\u6cd51\uff0c\u6548\u7387\u8f83\u4f4e \u65b9\u6cd52\u4f7f\u7528 \u6570\u636e \u7684\u6761\u4ef6\u8f6c\u79fb\uff1a\u8ba1\u7b97\u4e00\u4e2a\u6761\u4ef6\u64cd\u4f5c\u7684\u4e24\u79cd\u7ed3\u679c\uff0c\u7136\u540e\u518d\u6839\u636e\u6761\u4ef6\u662f\u5426\u6ee1\u8db3\u4ece\u4e2d\u9009\u53d6\u4e00\u4e2a</p> <p>![[Pasted image 20231009140038.png]] ![[Pasted image 20231009140057.png]]</p> <p>\u672c\u4f8b\u8bf4\u660e\uff1a \u5b83\u65e2\u8ba1\u7b97\u4e86y-x\uff0c\u4e5f\u8ba1\u7b97\u4e86x-y\uff0c\u5206\u522b\u547d\u540d\u4e3arval\u4e0eeval\uff0c\u7136\u540e\u5b83\u518d\u6d4b\u8bd5x\u662f\u5426&gt;=y\uff1b\u5982\u679c\u662f\uff0c\u5c31\u5728\u51fd\u6570\u8fd4\u56derval\u524d\uff0c\u5c06eval\u590d\u5236\u5230rval\u4e2d</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#3_2","title":"3. \u5e38\u89c1\u6761\u4ef6\u4f20\u9001\u6307\u4ee4\uff1a","text":"<p>\u5f62\u5f0f\uff1a <pre><code>cmovX S , R \n\n\u6bcf\u6761\u6307\u4ee4\u90fd\u6709\u4e24\u4e2a\u64cd\u4f5c\u6570\uff0c\u6e90\u64cd\u4f5c\u6570S(\u5bc4\u5b58\u5668\u6216\u5185\u5b58\u5730\u5740) \u4ee5\u53ca \u76ee\u7684\u5bc4\u5b58\u5668R\n\u6e90\u503c\u5728\u5185\u5b58\u6216\u6e90\u5bc4\u5b58\u5668\u4e2d\u8bfb\u53d6\uff0c\u4f46\u662f\u53ea\u6709\u5728\u6307\u5b9a\u7684\u6761\u4ef6\u6ee1\u8db3\u65f6\uff0c\u624d\u4f1a\u88ab\u590d\u5236\u5230\u76ee\u7684\u5bc4\u5b58\u5668\u4e2d\n</code></pre> \u6307\u4ee4\u96c6\u5408\uff1a ![[Pasted image 20231009141051.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#4_1","title":"4. \u4e09\u76ee\u8fd0\u7b97\u7b26\u903b\u8f91\u89e3\u91ca\uff1a","text":"<p>![[Pasted image 20231009141528.png]]</p> <p>\u6ce8\u610f\uff1a</p> <p>\u65e0\u8bba\u6d4b\u8bd5\u7ed3\u679c\u5982\u4f55\uff0c\u62bd\u8c61\u4ee3\u7801\u90fd\u4f1a\u81ea\u52a8\u5730\u5bf9then-expr\u548celse-expr\u8fdb\u884c\u6c42\u503c \u5982\u679c\u8fd9\u4e24\u4e2a\u8868\u8fbe\u5f0f\u4e2d\u4efb\u4f55\u4e00\u4e2a\u4ea7\u751f\u9519\u8bef\u6761\u4ef6or\u526f\u4f5c\u7528\uff0c\u5c06\u5bfc\u81f4\u975e\u6cd5\u884c\u4e3a</p> <p>\u4f8b\u5982\uff1a <pre><code>long hbx(long *xp)\n{\n    return (xp ? *xp : 0);\n}\n//\u4ee3\u7801\u975e\u6cd5\uff0c\u56e0\u4e3a\u4f1a\u5373\u4f7f\u6d4b\u8bd5\u7ed3\u679c\u4e3afalse(xp\u662f\u4e00\u4e2a\u7a7a\u6307\u9488)\u65f6\uff0c\u4f9d\u7136\u4f1a\u6267\u884c*xp\u64cd\u4f5c(\u5bf9\u7a7a\u6307\u9488\u89e3\u5f15\u7528)\uff0c\u5bfc\u81f4\u9519\u8bef\n</code></pre></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#5_1","title":"5. \u5177\u4f53\u7684\u5faa\u73af\u5206\u652f\uff1a","text":"<p>1\uff09do-while template\uff1a ![[Pasted image 20231009142420.png]]</p> <p>2\uff09while template\uff1a ![[Pasted image 20231009142648.png]]</p> <p>3\uff09for review\uff1a <pre><code>for(init_expr;test_expr;update_expr)\n{\n    body_statement\n}\n\n&lt;=&gt;\n\ninit_expr;\nwhile(test_expr)\n{\n    body_statement\n    update_expr;\n}\n</code></pre></p> <p>template\uff1a for\u8f6c\u6362\u6210while ![[Pasted image 20231009143424.png]] while\u8f6c\u6362\u6210goto ![[Pasted image 20231009143444.png]] \u6c47\u7f16 ![[Pasted image 20231009143550.png]]</p> <p>4\uff09switch \u91cd\u70b9\uff1a</p> <p>(1)switch\u8bed\u53e5\u6839\u636e\u4e00\u4e2a\u6574\u6570\u7d22\u5f15\u503c\u8fdb\u884c\u591a\u91cd\u5206\u652f(multiway branching) (2)\u9886\u4f1a\u8df3\u8f6c\u8868(jump table)\u7684\u5999\u7528</p> <p>![[Pasted image 20231009144804.png]] ![[Pasted image 20231009144903.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#7","title":"\uff087\uff09\u8fc7\u7a0b\uff1a","text":"<p>\u5177\u4f53\u5b9e\u73b0\u7ec6\u8282\u4e0d\u8981\u6c42\u5b8c\u5168\u638c\u63e1\uff0c\u6d4f\u89c8\u5927\u610f\u5373\u53ef</p> <p>1) \u8c03\u7528\u6808\u6570\u636e\u7ed3\u6784\u8fdb\u884c\u5185\u5b58\u7ba1\u7406</p> <p>2) \u5e38\u89c1\u6307\u4ee4\uff1a <pre><code>call Label   # \u8fc7\u7a0b\u8c03\u7528\nret          # \u4ece\u8fc7\u7a0b\u8c03\u7528\u4e2d\u8fd4\u56de\n</code></pre></p> <p>3) \u6808\u4e0a\u7684\u5b58\u50a8\u5185\u5bb9\uff1a ![[Pasted image 20231009152143.png]]</p> <p>4) \u5178\u578b\u7684\u8fc7\u7a0b\u8c03\u7528\u4f8b\uff1a  ![[Pasted image 20231009152937.png]]</p> <ol> <li>\u9012\u5f52\u7684\u5b9e\u73b0[\u6c47\u7f16\u4ee3\u7801\u8868\u793a] C\u8bed\u8a00\uff1a <pre><code>long rfact(long n) // \u5b9e\u73b0\u9636\u4e58\u51fd\u6570\n{\n    long result;\n    if(n&lt;=1) result =1;\n    else result = n * rfact(n-1);\n    return result;\n}\n</code></pre></li> </ol> <p>\u6c47\u7f16\uff1a <pre><code># long rfact\n# n in %rdi\n\nrfact:\n    pushq %rbx         # \u5b58\u50a8\u5bc4\u5b58\u5668%rbx\n    movq %rdi,%rbx     # \u5c06%rdi\u5185\u7684\u503cn\u590d\u5236\u5230%rbx\u4e2d\n    movl $1,%eax       # %eax\u662f\u5b58\u50a8\u7b54\u6848(\u672c\u8f6e)\u7684\u5bc4\u5b58\u5668\uff0c\u5148\u8d4b\u503c\u4e3a1\n    cmpq $1,%rdi       # \u5c06%rdi\u4e2d\u7684\u503cn\u4e0e\u8fdb\u884c\u6bd4\u5bf9\n    jle .L35           # \u5982\u679cn&lt;=1(\u7b26\u53f7\u6839\u636ejle\u7684\u542b\u4e49)\uff0c\u5219\u8df3\u8f6c\u81f3.L35\u90e8\u5206\u5c55\u5f00\u540e\u7eed\uff1b\u53cd\u4e4b\u5411\u4e0b\u8fdb\u884c\u5373\u53ef\n\n    leaq -1(%rdi),%rdi # \u5c06%rdi\u4e2d\u7684\u503c\u51cf1\uff0c\u5e76\u8986\u76d6%rdi\uff08\u8fd9\u91cc\u5c31\u4f53\u73b0\u51fa\u4e3a\u4ec0\u4e48\u4e0a\u9762\u8981 movq %rdi,%rbx \uff09\n    call rfact         # \u8c03\u7528\u9012\u5f52\u51fd\u6570(\u7ed3\u679c\u4fdd\u5b58\u5728\u5bc4\u5b58\u5668%rax\u4e2d)\n    imulq %rbx,%rax    # \u5c06%rax\u4e2d\u7684\u503c\u4e0e%rbx\u4e2d\u7684\u503c\u76f8\u4e58\uff0c\u5f97\u5230\u6700\u7ec8\u7ed3\u679c\uff08\u672c\u8f6e\u8fd4\u56de\u503c\u662f%rax\u3001%eax[\u672c\u8d28\u4e0a\u8fd9\u4e24\u8005\u6ca1\u6709\u533a                                                                 \u522b]\uff09\n\n.L35:\n    popq %rbx\n    ret\n</code></pre></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#8","title":"\uff088\uff09\u6570\u7ec4\u5206\u914d\u4e0e\u8bbf\u95ee\uff1a","text":"<p>[1] \u57fa\u672c\u539f\u5219\uff1a 1. \u58f0\u660e\u5f62\u5f0f\uff1a</p> <p>T A[N];</p> <ol> <li> <p>\u5b9e\u9645\u542b\u4e49\uff1a</p> <p>[1]\u8d77\u59cb\u4f4d\u7f6e\u662f\\(X_A\\) [2]\u5728\u5185\u5b58\u4e2d\u5206\u914d\u4e86\u4e00\u4e2a\u957f\u5ea6\u4e3aL*N\u5b57\u8282\u7684\u8fde\u7eed\u533a\u57df\uff0c\u8fd9\u91ccL\u662f\u6570\u636e\u7c7b\u578bT\u7684\u5927\u5c0f(\u5355\u4f4d\u4e3a\u5b57\u8282) [3]\u5f15\u5165\u4e86\u4e00\u4e2a\u6807\u8bc6\u7b26A\uff0c\u53ef\u4ee5\u7528A\u6765\u8868\u793a\u6307\u5411\u6570\u7ec4\u5f00\u5934\u7684\u6307\u9488\uff0c\u8fd9\u4e2a\u6307\u9488\u5c31\u662f\\(X_A\\) [4]\u6574\u6570\u7d22\u5f15\u8ffd\u8e2a\u5143\u7d20\uff0c\u6570\u7ec4\u5143\u7d20i\u4f1a\u88ab\u5b58\u653e\u5728\\(X_A\\) + L* i \u7684\u5730\u65b9</p> </li> <li> <p>\u5b9e\u4f8b\uff1a ![[Pasted image 20231009204609.png]]</p> </li> </ol> <p>[2] \u6307\u9488\u8fd0\u7b97\uff1a 1. \u5982\u679cp\u662f\u4e00\u4e2a\u6307\u5411\u7c7b\u578b\u4e3aT\u7684\u6307\u9488\uff0cp\u7684\u503c\u4e3a\\(X_p\\) \uff0c\u90a3\u4e48\u8868\u8fbe\u5f0f p+i \u7684\u503c\u4e3a\\(X_p\\) + L* i 2. \u5355\u64cd\u4f5c\u6570\u64cd\u4f5c\u7b26'&amp;'\u548c\u2018*\u2019\u53ef\u4ee5\u4ea7\u751f\u6307\u9488\u4ee5\u53ca\u95f4\u63a5\u5f15\u7528\u4e00\u4e2a\u6307\u9488</p> <p>[3] \u5d4c\u5957\u6570\u7ec4\u7684\u6784\u9020\u4e0e\u8bbf\u95ee\u65b9\u5f0f\uff1a \u56fe\u89e3\uff1a ![[Pasted image 20231009204937.png]]</p> <p>\u539f\u5219\uff1a 1. \u8981\u8bbf\u95ee\u591a\u7ef4\u6570\u7ec4\u7684\u5143\u7d20\uff0c\u7f16\u8bd1\u5668\u4f1a\u4ee5\u6570\u7ec4\u8d77\u70b9\u4f5c\u4e3a\u57fa\u5730\u5740\uff0c\u504f\u79fb\u91cf\u4e3a\u7d22\u5f15 2. \u8bbf\u95ee\u987a\u5e8f\u662f\u201c\u884c\u4f18\u5148\u201d\uff0c\u5148\u6309\u7167\u884c\u7684\u987a\u5e8f\u904d\u5386\u5b8c\u524d\u9762\u6240\u6709\uff0c\u7136\u540e\u518d\u8fdb\u884c\u672c\u884c\u7684\u5217\u904d\u5386</p> <p>\u8ba1\u7b97\u5730\u5740\u7684\u516c\u5f0f\uff1a \u5bf9\u4e8e\u6570\u7ec4\uff1aT D[R][C] \u5b83\u7684\u6570\u7ec4\u5143\u7d20D[i][j]\u7684\u5185\u5b58\u5730\u5740\u4e3a\uff1a</p> <p>&amp;D[i][j] = \\(X_D\\) + L*( C* i + j )</p> <p>proof:</p> <p>\u6613\u89c1\uff0c\u5b83\u7684\u5730\u5740\u5e94\u8be5\u662f \\(X_D\\)     +              i * C * L                 +          j * L                                  \u57fa\u5730\u5740  \u4ece0\u5230i-1\u884c\u5171\u6709i\u4e2arank            \u5230\u5f53\u524d\u884c\u540e\u8fdb\u884c\u5217\u904d\u5386</p> <p>[4] \u5b9a\u957f\u6570\u7ec4\uff1a...</p> <p>[5] \u53d8\u957f\u6570\u7ec4\uff1a...</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#9","title":"\uff089\uff09\u5f02\u8d28\u7684\u6570\u636e\u7ed3\u6784\uff1a","text":"<p>\u770b\u770b\u4f8b\u5b50\u5373\u53ef\uff0c\u8fd9\u5757\u6ca1\u4ec0\u4e48\u8bb2\u7a76</p> <p>\u30101\u3011\u5e38\u89c1\u7684\u4e24\u79cd\u7c7b\u578b\uff1a</p> <p>\u7c7b\u522b\u4e00\uff1astruct\uff08\u7ed3\u6784\u4f53\uff09 ![[Pasted image 20231009210512.png]]</p> <p>![[Pasted image 20231009210641.png]]</p> <p>\u7c7b\u522b\u4e8c\uff1aunion \uff08\u8054\u5408\u4f53\uff09 ![[Pasted image 20231009210711.png]]</p> <p>\u7279\u70b9\uff1a 1\uff09union U3* \u7684\u6307\u9488p , p-&gt;c , p-&gt; i[0] , p-&gt;v \u5f15\u7528\u7684\u90fd\u662f\u6570\u636e\u7ed3\u6784\u7684\u8d77\u59cb\u4f4d\u7f6e 2\uff09\u4e00\u4e2aunion\u7684\u603b\u5927\u5c0f\u7b49\u4e8e\u5b83\u6700\u5927\u5b57\u6bb5\u7684\u5927\u5c0f</p> <p>\u30102\u3011\u6570\u636e\u5bf9\u9f50\u539f\u5219\uff1a</p> <p>thm(\u5bf9\u9f50\u539f\u5219)\uff1a</p> <p>\u4efb\u4f55k\u5b57\u8282\u7684\u57fa\u672c\u5bf9\u8c61\u7684\u5730\u5740\u5fc5\u987b\u662fk\u7684\u500d\u6570</p> <p>\u610f\u4e49\uff1a</p> <p>\u7b80\u5316\u4e86\u5f62\u6210\u5904\u7406\u5668\u548c\u5185\u5b58\u7cfb\u7edf\u4e4b\u95f4\u63a5\u53e3\u7684\u786c\u4ef6\u8bbe\u8ba1</p> <p>\u5e38\u89c4\u5199\u6cd5 \u4e0e\u5bf9\u9f50\u539f\u5219 \u7684\u5f02\u540c\uff1a ![[Pasted image 20231009211458.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#10","title":"\uff0810\uff09\u6742\u9879\uff1a\u3010\u4e86\u89e3\u5373\u53ef\uff0c\u5185\u5bb9\u5f88\u6df1\u523b\uff0c\u53ef\u4ee5\u770b\u4e66\u4e0a\u7684\u8be6\u7ec6\u89e3\u91ca\u8bf4\u660e\u3011","text":"<p>1\uff09\u4f7f\u7528gdb\u8c03\u8bd5\u5668\uff0c\u5e38\u89c1\u6307\u4ee4\u5982\u4e0b\uff1a ![[Pasted image 20231009211704.png]]</p> <p>2\uff09\u5bf9\u6297\u7f13\u51b2\u533a\u6ea2\u51fa\u653b\u51fb\u7684\u4e09\u5927\u7b56\u7565\uff1a</p> <p>[1] \u6808\u968f\u673a\u5316\u601d\u60f3 [2] Canary\u68c0\u6d4b\uff08\u9884\u8b66\u673a\u5236\uff09 [3] \u9650\u5236\u53ef\u6267\u884c\u4ee3\u7801\u533a\u57df</p> <p>3\uff09\u652f\u6301\u53d8\u957f\u6808\u5e27\uff1a</p> <p>\u65b9\u5f0f\uff1a\u8bbe\u7f6e\u53ef\u4ee5\u53d8\u52a8\u7684\u2014\u2014  \u5e27\u6307\u9488\uff1a%rbp (base pointer)</p> <p>\u56fe\u89e3\uff1a ![[Pasted image 20231009212105.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#11","title":"\uff0811\uff09\u6d6e\u70b9\u4ee3\u7801\uff1a","text":"<p>\u5b9e\u9645\u4e0a\u8fd9\u4e00\u90e8\u5206\u6ca1\u4ec0\u4e48\u65b0\u7684\uff0c\u53ea\u662f\u4e00\u4e9b\u7b26\u53f7\u548c\u8868\u793a\u6362\u4e86\u4e00\u79cd\u5199\u6cd5\uff0c\u672c\u8d28\u6ca1\u53d8\uff01</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_3","title":"\u8868\u793a\u65b9\u6cd5\uff1b","text":"<p>1\uff09\u6c47\u7f16\u4ee3\u7801\u7528\u5bc4\u5b58\u5668%xmm0~%xmm15\u6765\u5f15\u7528\u5b83\u4eec 2\uff09\u6bcf\u4e2aXMM\u5bc4\u5b58\u5668\u90fd\u662f\u5bf9\u5e94\u7684YMM\u5bc4\u5b58\u5668\u7684\u4f4e128\u4f4d (16 bites)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_4","title":"\u4f20\u9012\u64cd\u4f5c\uff1a","text":"<p>\u7c7b\u6bd4\u6574\u578b\u4e2d\u7684 MOV\u7c7b  ![[Pasted image 20231009212706.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_5","title":"\u6d6e\u70b9\u6570\u4e4b\u95f4\u7684\u7c7b\u578b\u8f6c\u6362(\u7cbe\u5ea6\u8c03\u8282)\uff1a","text":"<p>![[Pasted image 20231009212825.png]]</p> <p>![[Pasted image 20231009212841.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_6","title":"\u57fa\u7840\u8fd0\u7b97\u64cd\u4f5c\uff1a","text":"<p>\u7c7b\u6bd4\u6574\u578b\u4e2d\u7684add / sub / imul ... ![[Pasted image 20231009213132.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_7","title":"\u4f4d\u7ea7\u64cd\u4f5c\uff1a","text":"<p>\u7c7b\u6bd4\u6574\u578b\u4e2d\u7684SHL/SAL\u3010\u5de6\u79fb\u3011\uff1bSHR/SAR\u3010\u53f3\u79fb\u3011 ![[Pasted image 20231009213505.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_8","title":"\u6bd4\u8f83\u64cd\u4f5c\uff1a","text":"<p>\u7c7b\u6bd4\u6574\u578b\u4e2d\u7684 CMP\u7c7b ![[Pasted image 20231009213743.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_9","title":"\u6761\u4ef6\u7801\u8bbe\u7f6e\uff1a","text":"<p>\u7c7b\u6bd4\u6574\u578b\u4e2d\u7684set\u7c7b ![[Pasted image 20231009213708.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/#_10","title":"\u8fc7\u7a0b\u4e2d\u7684\u7b26\u70b9\u4ee3\u7801\uff1a","text":"<p>\u5728\u6d6e\u70b9\u6570\u7684\u8fd0\u7b97/\u8c03\u7528\u4e2d\uff0cXMM\u5bc4\u5b58\u5668\u7528\u6765\u5411\u51fd\u6570\u4f20\u90128\u4e2a\u7b26\u70b9\u53c2\u6570\uff0c\u4ee5\u53ca\u4ece\u51fd\u6570\u8fd4\u56de\u6d6e\u70b9\u503c</p> <p>\u89c4\u5219\uff1a - \uff08\u53c2\u6570\u5bc4\u5b58\u5668\uff09XMM\u5bc4\u5b58\u5668%xmm0~%xmm7\u6700\u591a\u4f20\u90128\u4e2a\u53c2\u6570 - \uff08\u8fd4\u56de\u503c\u5bb9\u5668\u5bc4\u5b58\u5668\uff09\u51fd\u6570\u4f7f\u7528%xmm0\u6765\u8fd4\u56de\u6d6e\u70b9\u503c - \uff08\u8986\u76d6\u4e0e\u6539\u5199\uff09\u6240\u6709XMM\u5bc4\u5b58\u5668\u90fd\u662f\u8c03\u7528\u8005\u4fdd\u5b58\u7684\uff0c\u88ab\u8c03\u7528\u8005\u4e0d\u7528\u4fdd\u5b58\u5c31\u53ef\u4ee5\u76f4\u63a5\u6539\u5199\u8fd9\u4e9b\u5bc4\u5b58\u5668\u4e2d\u7684\u4efb\u610f\u4e00\u4e2a</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/","title":"Chapter5 \u4f18\u5316\u7a0b\u5e8f\u6027\u80fd","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1","title":"1\uff09\u5f15\u5165\uff1a\u7f16\u5199\u9ad8\u6548\u7a0b\u5e8f\u7684\u8981\u6c42","text":"<ul> <li>\u5fc5\u987b\u9009\u62e9\u4e00\u7ec4\u5408\u9002\u7684\u7b97\u6cd5\u4e0e\u6570\u636e\u7ed3\u6784</li> <li>\u7f16\u5199\u51fa\u7f16\u8bd1\u5668\u80fd\u591f\u6709\u6548\u4f18\u5316\u4ee5\u8f6c\u6362\u6210\u9ad8\u6548\u53ef\u6267\u884c\u4ee3\u7801\u7684\u6e90\u4ee3\u7801</li> <li>\u5c06\u4e00\u4e2a\u4efb\u52a1\u5206\u6210\u591a\u4e2a\u90e8\u5206\uff0c\u8fd9\u4e9b\u90e8\u5206\u53ef\u4ee5\u5728\u591a\u6838\u548c\u591a\u5904\u7406\u5668\u7684\u67d0\u79cd\u7ec4\u5408\u4e0a\u5e76\u884c\u7684\u8ba1\u7b97\uff08\u5229\u7528\u5e76\u884c\u6027\u6bcf\u4e2a\u5e76\u884c\u7684\u7ebf\u7a0b\u90fd\u4ee5\u6700\u9ad8\u6027\u80fd\u6267\u884c\uff09</li> <li>\u7814\u7a76\u7a0b\u5e8f\u7684\u6c47\u7f16\u4ee3\u7801\u662f\u7406\u89e3\u7f16\u8bd1\u5668\u4ee5\u53ca\u4ea7\u751f\u7684\u4ee3\u7801\u4f1a\u5982\u4f55\u8fd0\u884c\u7684\u6700\u6709\u6548\u624b\u6bb5\u4e4b\u4e00</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2","title":"2\uff09\u4f18\u5316\u7f16\u8bd1\u5668\u7684\u80fd\u529b\u4e0e\u5c40\u9650\u6027","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1_1","title":"1. \u5e38\u89c1\u7684\u7f16\u8bd1\u5668\u4f18\u5316\u63a7\u5236\uff1a","text":"<p>-Og: \u8ba9gcc\u505a\u4e00\u7ec4\u57fa\u672c\u7684\u4f18\u5316 -O1 / -O2 / -O3: \u8ba9gcc\u505a\u66f4\u5927\u91cf\u7684\u4f18\u5316\uff0c\u8fdb\u4e00\u6b65\u63d0\u9ad8\u7a0b\u5e8f\u7684\u6027\u80fd</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2_1","title":"2. \u5236\u7ea6\u4f18\u5316\u7684\u5b89\u5168\u6027\u56e0\u7d20\uff1a","text":"<p>\u601d\u8003\u4e3a\u4ec0\u4e48\u4e0a\u8ff0\u7684gcc\u4f18\u5316\u4e0d\u80fd\u65e0\u9650\u201c\u8fdb\u6b65\u201d\uff1f \u56e0\u4e3a\u6709\uff081\uff09\u5185\u5b58\u522b\u540d\u4f7f\u7528 &amp; \uff082\uff09\u51fd\u6570\u8c03\u7528\u526f\u4f5c\u7528 \u7b49\u4ea7\u751f\u610f\u60f3\u4e0d\u5230\u7684\u540e\u679c \u56e0\u6b64\uff1a\u7f16\u8bd1\u5668\u5fc5\u987b\u5f88\u5c0f\u5fc3\u5730\u5bf9\u7a0b\u5e8f\u53ea\u8fdb\u884c\u5b89\u5168\u7684\u4f18\u5316\uff01</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1_2","title":"[1] \u5185\u5b58\u522b\u540d\u4f7f\u7528\uff1a","text":"<p><pre><code>void f1(long *xp,long *yp)\n{\n    *xp += *yp;\n    *xp += *yp;\n}\n\nvoid f2(long *xp,long *yp)\n{\n    *xp += 2*(*yp);\n}\n</code></pre> 1. \u4e4d\u4e00\u770b\u8fd9\u4e24\u4e2a\u51fd\u6570\u5b9e\u73b0\u7684\u529f\u80fd\u5b8c\u5168\u4e00\u6837\uff0c\u5b83\u4eec\u90fd\u662f\u5c06\u5b58\u50a8\u5728\u7531\u6307\u9488yp\u6307\u5411\u7684\u4f4d\u7f6e\u5904\u7684\u503c\u52a0\u5230\u6307\u9488xp\u6307\u5411\u7684\u4f4d\u7f6e\u5904\u7684\u503c 2. \u518d\u4e00\u770b\uff1af2\u7684\u6548\u7387\u9ad8\u4e8ef1 \uff08f2\u53ea\u6709\u4e09\u6b21\u5185\u5b58\u5f15\u7528\uff1a\u8bfb*xp\uff0c\u8bfb*yp\uff0c\u5199*xp\uff09\uff08f1\u9700\u8981\u516d\u6b21\u5185\u5b58\u5f15\u7528\uff1a2x\u8bfb*xp\uff0c2x\u8bfb*yp\uff0c2x\u5199*xp\uff09 3. \u8fd9\u65f6\u4f1a\u4e0d\u7531\u81ea\u4e3b\u7684\u60f3\u5230\uff1a\u662f\u4e0d\u662ff2\u53ef\u4ee5\u4f5c\u4e3af1\u4ee3\u7801\u7684\u4f18\u5316\u7248\u672c\uff1f 4. \u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\uff01\u4ed4\u7ec6\u601d\u8003\uff1a</p> <p>\u5f53xp\\==yp\u65f6\uff1a\u6b64\u65f6f1\u8fdb\u884c\u7684\u8fd0\u7b97\u4f1a\u5c06xp\u7684\u539f\u503c\u589e\u52a04\u500d\uff1bf2\u7684\u8fd0\u7b97\u4f1a\u5c06xp\u7684\u539f\u503c\u589e\u52a03\u500d\uff01 \u6b64\u65f6\u5c31\u4ea7\u751f\u4e86\u5206\u6b67\uff01\uff01\uff01 \u7f16\u8bd1\u5668\u4e0d\u77e5\u9053f1\u4f1a\u5982\u4f55\u8c03\u7528\uff0c\u56e0\u6b64\u5b83\u5fc5\u987b\u5047\u8bbe\u53c2\u6570xp\u548cyp\u53ef\u80fd\u4f1a\u76f8\u7b49\uff01 \u56e0\u6b64\u5b83\u4e0d\u80fd\u4ea7\u751ff2\u98ce\u683c\u7684\u4ee3\u7801\u4f5c\u4e3af1\u7684\u4f18\u5316\u7248\u672c</p> <ul> <li>def(\u5185\u5b58\u522b\u540d\u4f7f\u7528\uff0cmemory aliasing)\uff1a\u4e24\u4e2a\u6307\u9488\u53ef\u80fd\u6307\u5411\u540c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u7684\u60c5\u51b5</li> <li>\u5728\u53ea\u6267\u884c\u5b89\u5168\u7684\u4f18\u5316\u4e2d\uff0c\u7f16\u8bd1\u5668\u5fc5\u987b\u8003\u8651\u5230\u201c\u5185\u5b58\u522b\u540d\u4f7f\u7528\u201d\u7684\u7279\u6b8a\u60c5\u51b5\uff0c\u8fd9\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u4e5f\u5c31\u9650\u5236\u4e86\u53ef\u80fd\u7684\u4f18\u5316\u7b56\u7565</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2_2","title":"[2] \u51fd\u6570\u8c03\u7528\u526f\u4f5c\u7528\uff1a","text":"<p><pre><code>long f();\n\nlong f1()\n{\n    return f() + f() + f() + f();\n}\n\nlong f2()\n{\n    return 4 * f();\n}\n</code></pre> 1. \u4e4d\u4e00\u770b\u8fd9\u4e24\u4e2a\u51fd\u6570\u5b9e\u73b0\u7684\u529f\u80fd\u5b8c\u5168\u4e00\u6837\uff0c\u90fd\u662f\u5c06f()\u8c03\u7528\u5f97\u5230\u7684\u8fd4\u56de\u503cx4 2. \u518d\u4e00\u770b\uff1af2\u7684\u6548\u7387\u9ad8\u4e8ef1\uff08f2\u53ea\u8c03\u7528\u4e00\u6b21f\uff1bf1\u8c03\u7528\u4e86\u56db\u6b21f\uff09 3. \u8fd9\u65f6\u4f1a\u4e0d\u7531\u81ea\u4e3b\u7684\u60f3\u5230\uff1a\u662f\u4e0d\u662ff2\u53ef\u4ee5\u4f5c\u4e3af1\u4ee3\u7801\u7684\u4f18\u5316\u7248\u672c\uff1f 4. \u4e8b\u5b9e\u4e0a\u5e76\u4e0d\u662f\uff01\u4ed4\u7ec6\u601d\u8003\uff1a \u8003\u8651\u8fd9\u6837\u7684\u51fd\u6570f\uff1a <pre><code>long counter = 0;\nlong f()\n{\n    return counter++;\n}\n</code></pre></p> <p>\u6b64\u65f6\uff1a \u5bf9f1\u7684\u8c03\u7528\uff1a\u8fd4\u56de0+1+2+3 = 6 \u5bf9f2\u7684\u8c03\u7528\uff1a\u8fd4\u56de4x0 = 0 \u4ea7\u751f\u5206\u6b67\uff01 \u7edd\u5927\u591a\u6570\u7f16\u8bd1\u5668\u4e0d\u4f1a\u4e3b\u52a8\u53bb\u5224\u65ad\u4e00\u4e2a\u51fd\u6570\u662f\u5426\u6709\u526f\u4f5c\u7528 \u56e0\u6b64\u5b83\u4e0d\u80fd\u4ea7\u751ff2\u98ce\u683c\u7684\u4ee3\u7801\u4f5c\u4e3af1\u7684\u4f18\u5316\u7248\u672c</p> <ul> <li>\u5982\u679c\u8fd9\u4e2a\u51fd\u6570\u6ca1\u6709\u526f\u4f5c\u7528\uff0c\u5b83\u5c31\u53ef\u80fd\u88ab\u4f18\u5316\u6210f2\u4e2d\u7684\u6a21\u6837\uff1b\u53cd\u4e4b\uff0c\u7f16\u8bd1\u5668\u4f1a\u5047\u8bbe\u6700bad\u7684\u60c5\u51b5\uff0c\u5e76\u4fdd\u6301\u6240\u6709\u51fd\u6570\u8c03\u7528\u4e0d\u53d8\uff01\u8fd9\u5728\u67d0\u79cd\u7a0b\u5ea6\u4e0a\u4e5f\u5c31\u9650\u5236\u4e86\u53ef\u80fd\u7684\u4f18\u5316\u7b56\u7565\uff01</li> <li>\u53ef\u4ee5\u4f7f\u7528\u5185\u8054\u51fd\u6570(inlining)\u8fdb\u884c\u4f18\u5316</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#3","title":"3\uff09\u8868\u793a\u7a0b\u5e8f\u6027\u80fd","text":"<p>\u5ea6\u91cf\u6807\u51c6\uff1a\u6bcf\u5143\u7d20\u7684\u5468\u671f\u6570\uff08Cycles Per Element, CPE\uff09</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#4","title":"4\uff09\u6d88\u9664\u5faa\u73af\u5e26\u6765\u7684\u4f4e\u6548\u7387","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#code-motion","title":"\u4e00\u79cd\u5e38\u89c1\u7684\u4f18\u5316\u65b9\u6848\u53eb\u505a\u201c\u4ee3\u7801\u79fb\u52a8\u201d(code motion)","text":"<ol> <li>def(\u4ee3\u7801\u79fb\u52a8)\uff1a\u8bc6\u522b\u7a0b\u5e8f\u4e2d\u4f1a\u6267\u884c\u591a\u6b21(eg\uff1afor\u5faa\u73af)\uff0c\u4f46\u662f\u8ba1\u7b97\u7ed3\u679c\u59cb\u7ec8\u4e0d\u53d8\u7684\u8ba1\u7b97\u64cd\u4f5c\uff0c\u56e0\u800c\u53ef\u4ee5\u5c06\u8be5\u8ba1\u7b97\u79fb\u52a8\u5230\u4ee3\u7801\u524d\u9762\u4e0d\u4f1a\u88ab\u591a\u6b21\u6c42\u503c\u7684\u90e8\u5206</li> <li>\u4f8b\u5b50\uff1a <pre><code>\u6e90\u4ee3\u7801\uff1a\nstring str;\ncin &gt;&gt; str;\nfor(int i=0;i&lt;strelen(str);i++)\n{\n    ......\n}\n\n\u8fd9\u6837\u7684\u4ee3\u7801\u5e76\u4e0d\u597d\uff0c\u56e0\u4e3a\u6bcf\u4e00\u6b21\u7684\u5faa\u73af\u90fd\u4f1a\u5355\u72ec\u8ba1\u7b97\u4e00\u904dstrlen(str)\n\u5b9e\u9645\u4e0a\u6b64\u5904\u7684strlen(str)\u662f\u5b9a\u503c\n\u56e0\u6b64\u4e0d\u59a8\u5c06strlen(str)\u63d0\u524d\u8ba1\u7b97\uff0c\u7136\u540e\u5e26\u5165\uff0c\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u8ba1\u7b97\u91cf\n\n\u4fee\u6539\u540e\uff1a\nstring str;\ncin &gt;&gt; str;\nint hbx = strelen(str);\nfor(int i=0;i&lt;hbx;i++)\n{\n    ......\n}\n</code></pre></li> <li>\u8fd9\u91cc\u5f88\u597d\u5730\u8bf4\u660e\u4e86\u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\uff1a\u4e00\u4e2a\u770b\u4e0a\u53bb\u65e0\u8db3\u8f7b\u91cd\u7684\u4ee3\u7801\u7247\u6bb5\u6709\u9690\u85cf\u7684\u6e10\u8fd1\u4f4e\u6548\u7387(asymptotic inefficiency)</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#5","title":"5\uff09\u51cf\u5c11\u8fc7\u7a0b\u8c03\u7528","text":"<p>\u6ca1\u5565\u7279\u522b\u7684...</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#6","title":"6\uff09\u51cf\u5c11\u4e0d\u5fc5\u8981\u7684\u5185\u5b58\u5f15\u7528","text":"<p>\u6ca1\u5565\u7279\u522b\u7684...</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#7","title":"7\uff09\u7406\u89e3\u73b0\u4ee3\u5904\u7406\u5668","text":"<ul> <li>\u5f53\u4e00\u7cfb\u5217\u64cd\u4f5c\u5fc5\u987b\u4e25\u683c\u6309\u7167\u987a\u5e8f\u6267\u884c\u65f6\uff1a\u5c31\u4f1a\u9047\u5230\u5ef6\u8fdf\u754c\u9650(latency bound)\uff0c\u56e0\u4e3a\u5728\u4e0b\u4e00\u6761\u6307\u4ee4\u5f00\u59cb\u4e4b\u524d\uff0c\u8fd9\u6761\u6307\u4ee4\u5fc5\u987b\u7ed3\u675f</li> <li>\u5f53\u4ee3\u7801\u4e2d\u7684\u6570\u636e\u76f8\u5173\u9650\u5236\u4e86\u5904\u7406\u5668\u5229\u7528\u6307\u4ee4\u7ea7\u5e76\u884c\u7684\u80fd\u529b\u65f6\uff0c\u5ef6\u8fdf\u754c\u9650\u80fd\u591f\u9650\u5236\u7a0b\u5e8f\u6027\u80fd</li> <li>\u541e\u5410\u91cf\u754c\u9650(throughput bound)\u523b\u753b\u4e86\u5904\u7406\u5668\u529f\u80fd\u5355\u5143\u7684\u539f\u59cb\u8ba1\u7b97\u80fd\u529b\uff0c\u8fd9\u4e2a\u754c\u9650\u662f\u7a0b\u5e8f\u6027\u80fd\u7684\u7ec8\u6781\u9650\u5236</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1_3","title":"\uff081\uff09\u6574\u4f53\u64cd\u4f5c\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#_1","title":"\u8fd9\u91cc\u6211\u4eec\u4e3b\u8981\u8003\u8651\u7684\u662f\u4e71\u5e8f\u5904\u7406\u5668\uff0c\u5b83\u9700\u8981\u66f4\u5927\u66f4\u590d\u6742\u7684\u786c\u4ef6\uff0c\u4f46\u662f\u80fd\u591f\u8fbe\u5230\u66f4\u597d\u7684\u6307\u4ee4\u96c6\u5408\u5e76\u884c\u5ea6","text":"<p>![[Pasted image 20231118143035.png]] 1. \u6574\u4e2a\u8bbe\u8ba1\u4e3b\u4f53\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a [1] \u6307\u4ee4\u96c6\u63a7\u5236\u5355\u5143(ICU)\uff1a \u8d1f\u8d23\u4ece\u5185\u5b58\u4e2d\u8bfb\u51fa\u6307\u4ee4\u5e8f\u5217\uff0c\u5e76\u6839\u636e\u8fd9\u4e9b\u6307\u4ee4\u5e8f\u5217\u751f\u6210\u4e00\u7ec4\u9488\u5bf9\u7a0b\u5e8f\u6570\u636e\u7684\u57fa\u672c\u64cd\u4f5c [2] \u6267\u884c\u5355\u5143(EU)\uff1a \u8d1f\u8d23\u6267\u884c\u8fd9\u4e9b\u64cd\u4f5c</p> <ol> <li> <p>ICU\u4ece\u6307\u4ee4\u9ad8\u901f\u7f13\u5b58(instruction cache)\u4e2d\u8bfb\u53d6\u6307\u4ee4\uff1a [1] \u6307\u4ee4\u9ad8\u901f\u7f13\u5b58\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u9ad8\u901f\u5b58\u50a8\u5668\uff0c\u5305\u542b\u6700\u8fd1\u8bbf\u95ee\u7684\u6307\u4ee4 [2] \u901a\u5e38\u60c5\u51b5\u4e0b\uff1aICU\u4f1a\u5728\u5f53\u524d\u6b63\u5728\u6267\u884c\u7684\u6307\u4ee4\u5f88\u65e9\u4e4b\u524d\u5c31\u53d6\u6307\uff0c\u8fd9\u6837\u5b83\u624d\u6709\u8db3\u591f\u7684\u65f6\u95f4\u5bf9\u6307\u4ee4\u8bd1\u7801\uff0c\u5e76\u5c06\u64cd\u4f5c\u53d1\u5230EU [3] \u4e00\u4e2a\u5e38\u89c1\u7684\u95ee\u9898\u662f\uff1a\u5f53\u7a0b\u5e8f\u9047\u89c1\u5206\u652f\u65f6\uff0c\u53ef\u80fd\u6709\u4e24\u4e2a\u9009\u62e9\uff1a(1)\u9009\u62e9\u5206\u652f\uff0c\u201c\u63a7\u5236\u201d\u88ab\u4f20\u9001\u5230\u5206\u652f\u76ee\u6807 \uff1b(2)\u4e0d\u9009\u62e9\u5206\u652f\uff0c\u201c\u63a7\u5236\u201d\u76f4\u63a5\u4e0b\u79fb\u5230\u4e0b\u4e00\u6761\u6307\u4ee4 [4] \u73b0\u5728\u5904\u7406\u5668\u91c7\u7528\u7684\u662f==\u201c\u5206\u652f\u9884\u6d4b(branch prediction)\u201d==\u6280\u672f\uff0c\u5904\u7406\u5668\u4f1a\u731c\u6d4b\u662f\u5426\u9009\u62e9\u5206\u652f\uff0c\u540c\u65f6\u8fd8\u731c\u6d4b\u5206\u652f\u7684\u76ee\u6807\u5730\u5740\uff1b\u4f7f\u7528==\u201c\u6295\u673a\u6267\u884c(speculative execution)\u201d==\u7684\u6280\u672f\uff0c\u5904\u7406\u5668\u4f1a\u5f00\u59cb\u53d6\u51fa\u4f4d\u4e8e\u5b83\u9884\u6d4b\u7684\u5206\u652f\u4f1a\u8df3\u5230\u7684\u5730\u65b9\u7684\u6307\u4ee4\uff0c\u5e76\u5bf9\u7167\u6307\u4ee4\u8bd1\u7801\u3002\u5982\u679c\u4e8b\u540e\u786e\u5b9a\u5206\u652f\u9884\u6d4b\u9519\u8bef\uff0c\u4f1a\u5c06\u72b6\u6001\u91cd\u65b0\u8bbe\u7f6e\u56de\u5206\u652f\u70b9\u7684\u539f\u72b6\u6001\uff0c\u5e76\u5f00\u59cb\u53d6\u51fa\u548c\u6267\u884c\u53e6\u4e00\u4e2a\u65b9\u5411\u4e0a\u7684\u6307\u4ee4 [5] \u53d6\u6307\u63a7\u5236\u7684block\u5305\u62ec\u5206\u652f\u9884\u6d4b\uff0c\u4ee5\u5b8c\u6210\u786e\u5b9a\u53d6\u54ea\u4e9b\u6307\u4ee4\u7684\u4efb\u52a1</p> </li> <li> <p>\u6307\u4ee4\u8bd1\u7801\u903b\u8f91\u63a5\u6536\u5b9e\u9645\u7684\u7a0b\u5e8f\u6307\u4ee4\uff0c\u5e76\u5c06\u5b83\u4eec\u8f6c\u6362\u6210\u4e00\u7ec4\u57fa\u672c\u64cd\u4f5c\uff0c\u6bcf\u4e2a\u8fd9\u6837\u7684\u64cd\u4f5c\u90fd\u5b8c\u6210\u67d0\u4e2a\u7b80\u5355\u7684\u8ba1\u7b97\u4efb\u52a1</p> </li> <li> <p>EU\u63a5\u6536\u6765\u81ea\u53d6\u6307\u5355\u5143\u7684\u64cd\u4f5c\uff1a [1] \u901a\u5e38\uff0c\u6bcf\u4e2a\u65f6\u95f4\u5468\u671f\u5185\u4f1a\u63a5\u53d7\u591a\u4e2a\u64cd\u4f5c\uff0c\u8fd9\u4e9b\u64cd\u4f5c\u4f1a\u88ab\u6d3e\u9001\u5230\u4e00\u7ec4\u529f\u80fd\u5355\u5143\u4e2d [2] \u529f\u80fd\u5355\u5143\uff1a\u4e13\u95e8\u7528\u6765\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u64cd\u4f5c</p> </li> <li> <p>\u8bfb\u5199\u5185\u5b58\u662f\u4f7f\u7528\u52a0\u8f7d\u548c\u5b58\u50a8\u5355\u5143\u6765\u5b9e\u73b0\u7684\uff1a [1] \u52a0\u8f7d\u5355\u5143\uff1a\u5904\u7406==\u4ece\u5185\u5b58\u8bfb\u6570\u636e\u5230\u5904\u7406\u5668==\u7684\u64cd\u4f5c\uff0c\u5b83\u6709\u4e00\u4e2a\u52a0\u6cd5\u5668\u53ef\u4ee5\u8fdb\u884c\u5730\u5740\u8ba1\u7b97 [2] \u5b58\u50a8\u5355\u5143\uff1a\u5904\u7406==\u4ece\u5904\u7406\u5668\u5199\u6570\u636e\u5230\u5185\u5b58==\u7684\u64cd\u4f5c\uff0c\u5b83\u4e5f\u6709\u4e00\u4e2a\u52a0\u6cd5\u5668\u53ef\u4ee5\u8fdb\u884c\u5730\u5740\u8ba1\u7b97 [3] \u52a0\u8f7d\u548c\u5b58\u50a8\u5355\u5143\u901a\u8fc7\u201c\u6570\u636e\u9ad8\u901f\u7f13\u5b58(data cache)\u201d\u6765\u8bbf\u95ee\u5185\u5b58 [4] \u6570\u636e\u9ad8\u901f\u7f13\u5b58\uff1a\u662f\u4e00\u4e2a\u9ad8\u901f\u5b58\u50a8\u5668\uff0c\u5b58\u653e\u7740\u6700\u8fd1\u8bbf\u95ee\u7684\u6570\u636e\u503c</p> </li> <li> <p>\u56de\u5fc6\u4e00\u4e0b2.\u4e2d\u7684\u201c\u6295\u673a\u6267\u884c\u201d\u6280\u672f\uff1a [1] \u4f7f\u7528\u201c\u6295\u673a\u6267\u884c\u201d\u6280\u672f\u5bf9\u64cd\u4f5c\u6c42\u503c\uff0c==\u76f4\u81f3\u5904\u7406\u5668\u80fd\u786e\u5b9a\u201c\u786e\u5b9e\u5e94\u8be5\u5b9e\u9645\u6267\u884c\u8fd9\u4e9b\u6307\u4ee4\u201d\u4e4b\u524d==\uff0c\u6700\u7ec8==\u7ed3\u679c\u90fd\u4e0d\u4f1a\u5b58\u653e\u5728\u7a0b\u5e8f\u5bc4\u5b58\u5668or\u6570\u636e\u5185\u5b58==\u4e2d [2] \u4e4b\u524d\u63d0\u5230\u7684\u201c\u5206\u652f\u63a7\u5236\u88ab\u9001\u5230EU\u201d\uff0c\u5e76\u4e0d\u662f\u786e\u5b9a\u5206\u652f\u8be5\u5411\u54ea\u91cc\u53bb\uff0c\u800c\u662f\u786e\u5b9a\u5206\u652f\u9884\u6d4b\u662f\u5426\u6b63\u786e\uff01 [3] \u5982\u679c\u9884\u6d4bfalse\uff1aEU\u4f1a\u4e22\u5f03\u5206\u652f\u70b9\u4e4b\u540e\u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c(\u5373\u6211\u4eec\u9884\u6d4b\u7684\uff0c\u4e14\u88ab\u8bc1\u5b9e\u9519\u8bef\u7684\u7ed3\u679c)\uff0c\u5e76\u4e14\u53d1\u4fe1\u53f7\u7ed9\u5206\u652f\u5355\u5143\uff0c\u8bf4\uff1a\u201c\u9884\u6d4b\u662f\u9519\u8bef\u7684\uff01\u201d\uff0c\u5e76\u6307\u51fa\u6b63\u786e\u7684\u5206\u652f\u76ee\u7684\u5730\uff1b\u6b64\u65f6\uff1a\u5206\u652f\u5355\u5143\u5f00\u59cb\u5728\u65b0\u7684\u4f4d\u7f6e\u53d6\u6307 [4] \u5982\u679c\u9884\u6d4btrue\uff1a\u7ed3\u679c\u5c06\u4f1a\u5b58\u653e\u5728\u7a0b\u5e8f\u5bc4\u5b58\u5668or\u6570\u636e\u5185\u5b58\u4e2d</p> </li> </ol> <p>[evaluation] \u8fd9\u79cd\u201c\u9884\u6d4b\u884c\u4e3a\u201d\u5177\u6709\u4e0d\u786e\u5b9a\u6027\uff0c\u4e00\u65e6\u53d1\u751f\u201c\u9884\u6d4b\u9519\u8bef\u201d\u4f1a\u5bfc\u81f4\u6781\u5927\u7684\u6027\u80fd\u5f00\u9500\u3002\u5728\u53ef\u4ee5\u53d6\u51fa\u65b0\u6307\u4ee4/\u8bd1\u7801 \u548c \u53d1\u9001\u5230\u6267\u884c\u5355\u5143\u4e4b\u524d\uff0c\u8981\u82b1\u8d39\u4e00\u70b9\u65f6\u95f4\uff01</p> <ol> <li> <p>\u4e0d\u540c\u7684\u529f\u80fd\u5355\u5143\u88ab\u8bbe\u8ba1\u6765\u6267\u884c\u4e0d\u540c\u7684\u64cd\u4f5c\uff1a \u529f\u80fd\u5355\u5143\u7684\u8fd9\u79cd\u7ec4\u5408\u5177\u6709\u540c\u65f6\u6267\u884c\u591a\u4e2a\u540c\u7c7b\u578b\u64cd\u4f5c\u7684\u6f5c\u529b</p> </li> <li> <p>\u5728ICU\u4e2d\uff1a\u9000\u5f79\u5355\u5143(retirement unit) \u8bb0\u5f55\u6b63\u5728\u8fdb\u884c\u7684\u5904\u7406\uff0c\u5e76\u786e\u4fdd\u5b83\u9075\u5faa\u673a\u5668\u7ea7\u7a0b\u5e8f\u7684\u987a\u5e8f\u8bed\u4e49 [1]\u56fe\u4e2d\u6709\u4e00\u4e2a\u5bc4\u5b58\u5668\u6587\u4ef6\u5728\u9000\u5f79\u5355\u5143\u4e2d\uff0c\u56e0\u4e3a\u9000\u5f79\u5355\u5143\u63a7\u5236\u7740\u8fd9\u4e9b\u5bc4\u5b58\u5668\u7684\u66f4\u65b0 [2]\u6307\u4ee4\u8bd1\u7801\u65f6\uff1a\u5173\u4e8e\u6307\u4ee4\u7684\u4fe1\u606f\u88ab\u653e\u7f6e\u5728\u4e00\u4e2a\u5148\u8fdb\u5148\u51fa\u7684\u961f\u5217\u4e2d\uff0c\u9664\u975e\u53d1\u751f\u4e0b\u52172\u79cd\u60c5\u51b5\u4e4b\u4e00\uff0c\u5426\u5219\u4e0d\u4f1a\u9000\u51fa\u961f\u4f0d\uff1a</p> </li> <li>\u4e00\u6761\u6307\u4ee4\u7684==\u64cd\u4f5c\u5b8c\u6210==\uff0c\u4e14\u6240\u6709\u5f15\u8d77\u8fd9\u6761\u6307\u4ee4\u7684\u5206\u652f\u70b9\u4e5f\u90fd\u88ab\u786e\u8ba4\u4e3a==\u201c\u9884\u6d4b\u6b63\u786e\u201d==\uff0c\u90a3\u4e48\u8fd9\u6761==\u6307\u4ee4\u5c31\u53ef\u4ee5retire(\u9000\u5f79)==\u4e86\uff01\u6240\u6709\u5bf9\u7a0b\u5e8f\u5bc4\u5b58\u5668\u7684\u66f4\u65b0\u4e5f\u5c31\u53ef\u4ee5\u88ab\u5b9e\u9645\u6267\u884c\u4e86\uff01</li> <li> <p>\u5982\u679c\u67d0\u4e2a\u5f15\u8d77\u8fd9\u6761\u6307\u4ee4\u7684\u5206\u652f\u70b9\u663e\u793a==\u201c\u9884\u6d4b\u9519\u8bef\u201d==\uff0c\u8fd9\u6761==\u6307\u4ee4\u5c31\u4f1a\u88abflushed(\u6e05\u7a7a)==\uff0c\u4e22\u5f03\u4e4b\u524d\u6240\u6709\u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c [3]\u8fd9\u6837\u8fbe\u5230\u7684\u76ee\u7684\u662f\uff1a\u9884\u6d4b\u9519\u8bef\u4e5f\u4e0d\u4f1a\u6539\u53d8\u7a0b\u5e8f\u72b6\u6001</p> </li> <li> <p>\u6b63\u5982\u4e0a\u9762\u6240\u8bf4\uff1a\u4efb\u4f55\u5bf9\u7a0b\u5e8f\u5bc4\u5b58\u5668\u7684\u66f4\u65b0\u90fd\u53ea\u4f1a\u5728\u6307\u4ee4\u9000\u5f79\u540e\u624d\u4f1a\u53d1\u751f\uff0c\u53ea\u6709\u5728\u5904\u7406\u5668\u786e\u4fe1\u5bfc\u81f4\u8fd9\u6761\u6307\u4ee4\u7684\u6240\u6709\u6307\u4ee4\u90fd\u9884\u6d4b\u6b63\u786e\u4e86\uff0c\u624d\u4f1a\u8fd9\u4e48\u505a</p> </li> <li> <p>\u63a7\u5236\u64cd\u4f5c\u6570\u5728\u6267\u884c\u5355\u5143\u95f4\u4f20\u9001\u7684\u6700\u5e38\u89c1\u673a\u5236\u662f\u201c\u5bc4\u5b58\u5668\u91cd\u547d\u540d(register renaming)\u201d\uff1a [1]\u5177\u4f53\u8fc7\u7a0b\u7701\u7565 [2]\u901a\u8fc7\u8fd9\u79cd\u673a\u5236\uff0c\u503c\u53ef\u4ee5\u4ece\u4e00\u4e2a\u64cd\u4f5c\u76f4\u63a5\u8f6c\u53d1\u5230\u53e6\u4e00\u4e2a\u64cd\u4f5c\uff0c\u800c\u4e0d\u662f\u5199\u5230\u5bc4\u5b58\u5668\u6587\u4ef6\u518d\u8bfb\u51fa\u6765\uff0c\u8fd9\u6837\u53ef\u4ee5\u4f7f\u7b2c\u4e8c\u4e2a\u64cd\u4f5c\u5728\u7b2c\u4e00\u4e2a\u64cd\u4f5c\u5b8c\u6210\u540e\u5c3d\u5feb\u5f00\u59cb</p> </li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2_3","title":"\uff082\uff09\u529f\u80fd\u5355\u5143\u7684\u6027\u80fd\uff1a","text":"<p>\u6bcf\u4e2a\u8fd0\u7b97\u90fd\u662f\u7531\u4e0b\u9762\u4e09\u4e2a\u53c2\u6570\u8fdb\u884c\u8861\u91cf\u7684\uff1a 1\uff09\u5ef6\u8fdf(latency)\uff1a\u5b8c\u6210\u8fd0\u7b97\u6240\u9700\u8981\u7684\u603b\u65f6\u95f4 2\uff09\u53d1\u5c04\u65f6\u95f4(issue time)\uff1a\u4e24\u4e2a\u8fde\u7eed\u7684\u540c\u7c7b\u578b\u8fd0\u7b97\u4e4b\u95f4\u9700\u8981\u7684\u6700\u5c0f\u65f6\u949f\u5468\u671f\u6570 3\uff09\u5bb9\u91cf(capacity)\uff1a\u80fd\u591f\u6267\u884c\u8be5\u8ba1\u7b97\u7684\u529f\u80fd\u5355\u4f4d\u7684\u6570\u91cf</p> <p>\u5176\u4f59\u7565</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#8","title":"8\uff09\u5faa\u73af\u5c55\u5f00\uff1a","text":"<p>\u6ca1\u5565\u7279\u522b\u7684...</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#9","title":"9\uff09\u63d0\u9ad8\u5e76\u884c\u6027\uff1a","text":"<ol> <li>\u8bbe\u7f6e\u591a\u4e2a\u7d2f\u79ef\u53d8\u91cf\uff08\u6bcf\u4e00\u90e8\u5206\u76f8\u5bf9\u91cf\u51cf\u5c11\uff09</li> <li>\u91cd\u65b0\u7ed3\u5408\u53d8\u6362\uff08\u62ec\u53f7\u4f4d\u7f6e\u968f\u4fbf\u6362\uff09</li> <li>\u4f7f\u7528\u5411\u91cf\u6307\u4ee4</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#10review","title":"10\uff09review\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#5689","title":"\u4e0a\u8ff0\u4e09\u7ea7\u6807\u9898\u4e2d\uff1a5/6/8/9\u662f\u7a0b\u5e8f\ud83e\udd8d\u65e5\u5e38\u751f\u6d3b\u4e2d\u53ef\u4ee5\u624b\u52a8\u8c03\u8282\u7684\u4f18\u5316\u65b9\u6cd5","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#_2","title":"\u4f46\u662f\u5373\u4f7f\u6211\u4eec\u8fd9\u6837\uff0c\u4f9d\u7136\u5b58\u5728\u5f88\u591a\u503c\u5f97\u6027\u80fd\u4f18\u5316\u7684\u70b9\uff1a\u8fd9\u4e9b\u5c31\u662f\u7269\u7406\u5c42\u9762\u7684\u9650\u5236\u56e0\u7d20\u4e86\uff01","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#11","title":"11\uff09\u4e00\u4e9b\u9650\u5236\u56e0\u7d20","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1_4","title":"\uff081\uff09\u5bc4\u5b58\u5668\u6ea2\u51fa","text":"<p>\u5982\u679c\u6211\u4eec\u7684\u5e76\u884c\u5ea6p\u8d85\u8fc7\u4e86\u53ef\u7528\u7684\u5bc4\u5b58\u5668\u6570\u91cf\uff0c\u90a3\u4e48\u7f16\u8bd1\u5668\u4f1a\u8bc9\u8bf8\u201c\u6ea2\u51fa(spilling)\u201d\uff0c\u5c06\u67d0\u4e9b\u4e34\u65f6\u503c\u5b58\u653e\u5230\u5185\u5b58\u4e2d\uff0c\u901a\u5e38\u662f\u5728\u8fd0\u884c\u65f6\u7684\u5806\u6808\u4e0a\u5206\u914d\u7a7a\u95f4</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2_4","title":"\uff082\uff09\u5206\u652f\u9884\u6d4b&amp;\u9884\u6d4b\u9519\u8bef\u5904\u7f5a","text":"<ul> <li>\u6b63\u5982\u4e0a\u9762\u5bf9\u73b0\u4ee3\u5904\u7406\u5668\u7684\u5177\u4f53\u4ecb\u7ecd\uff1a\u5f53\u5206\u652f\u9884\u6d4b\u903b\u8f91\u4e0d\u80fd\u6b63\u786e\u9884\u6d4b\u4e00\u4e2a\u5206\u652f\u662f\u5426\u8981\u8df3\u8f6c\u65f6\uff0c\u6761\u4ef6\u5206\u652f\u53ef\u80fd\u4f1a\u62db\u81f4\u5f88\u5927\u7684\u201c\u9884\u6d4b\u9519\u8bef\u5904\u7f5a\u201d\uff01</li> <li>\u5728\u4e00\u4e2a\u4f7f\u7528\u201c\u6295\u673a\u6267\u884c\u201d\u7684\u5904\u7406\u5668\u4e2d\uff0c\u5904\u7406\u5668\u4f1a\u5f00\u59cb\u6267\u884c\u9884\u6d4b\u7684\u5206\u652f\u76ee\u6807\u5904\u7684\u6307\u4ee4\uff0c\u5b83\u4f1a\u907f\u514d\u4fee\u6539\u4efb\u4f55\u5b9e\u9645\u7684\u5b58\u50a8\u5668or\u5185\u5b58\u4f4d\u7f6e\uff0c\u76f4\u5230\u786e\u5b9a\u4e86\u5b9e\u9645\u7684\u7ed3\u679c</li> <li>\u5982\u679c\u9884\u6d4btrue\uff1a\u7ed3\u679c\u5c06\u4f1a\u5b58\u653e\u5728\u7a0b\u5e8f\u5bc4\u5b58\u5668or\u6570\u636e\u5185\u5b58\u4e2d</li> <li>\u5982\u679c\u9884\u6d4bfalse\uff1aEU\u4f1a\u4e22\u5f03\u5206\u652f\u70b9\u4e4b\u540e\u8ba1\u7b97\u51fa\u6765\u7684\u7ed3\u679c(\u5373\u6211\u4eec\u9884\u6d4b\u7684\uff0c\u4e14\u88ab\u8bc1\u5b9e\u9519\u8bef\u7684\u7ed3\u679c)\uff0c\u5e76\u4e14\u53d1\u4fe1\u53f7\u7ed9\u5206\u652f\u5355\u5143\uff0c\u8bf4\uff1a\u201c\u9884\u6d4b\u662f\u9519\u8bef\u7684\uff01\u201d\uff0c\u5e76\u6307\u51fa\u6b63\u786e\u7684\u5206\u652f\u76ee\u7684\u5730\u3002\u8fd9\u6837\u505a\u5c31\u4f1a\u5f15\u8d77\u201c\u9884\u6d4b\u9519\u8bef\u5904\u7f5a\u201d\uff0c\u56e0\u4e3a\u5728\u4ea7\u751f\u6709\u7528\u7684\u7ed3\u679c\u4e4b\u524d\uff0c\u5fc5\u987b\u91cd\u65b0\u586b\u5145\u547d\u4ee4\u6d41\u6c34\u7ebf</li> </ul> <p>gcc\u76ee\u524d\u6709\u4e00\u79cd\u4e0d\u9519\u7684\u201c\u547d\u4ee4\u98ce\u683c\u201d\u7684\u5904\u7406\u65b9\u6cd5\uff1a \u7ffb\u8bd1\u6210\u6761\u4ef6\u4f20\u9001\u7684\u57fa\u672c\u601d\u60f3\u662f\u8ba1\u7b97\u51fa\u4e00\u4e2a\u6761\u4ef6\u8868\u8fbe\u5f0for\u8bed\u53e5\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u503c\uff0c\u7136\u540e\u7528\u6761\u4ef6\u4f20\u9001\u9009\u62e9\u671f\u671b\u7684\u503c</p> <p>\u6709\u4e24\u4e2a\u4e2d\u80af\u7684\u5efa\u8bae\uff1a - \u4e0d\u8981\u8fc7\u5206\u5173\u5fc3\u53ef\u9884\u6d4b\u7684\u5206\u652f - \u4e66\u5199\u9002\u5408\u4f7f\u7528\u6761\u4ef6\u4f20\u9001\u5b9e\u73b0\u7684\u4ee3\u7801</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#12","title":"12\uff09\u7406\u89e3\u5185\u5b58\u6027\u80fd","text":"<p>\u8fd9\u4e00\u5c0f\u8282\u8865\u5145\u4ea4\u4ee3\u7684\u662f\uff1a\u73b0\u4ee3\u5904\u7406\u5668EU\u90e8\u5206\u4e2d\u201c\u529f\u80fd\u5355\u5143\u201d\u7684\u52a0\u8f7d\u4e0e\u5b58\u50a8\u5355\u5143 \u6240\u6709\u7684\u73b0\u4ee3\u5904\u7406\u5668\u90fd\u5305\u542b\u4e00\u4e2a\u6216\u591a\u4e2a\u201c\u9ad8\u901f\u7f13\u5b58(cache)\u5b58\u50a8\u5668\u201d\uff0c\u4ee5\u5bf9\u8fd9\u6837\u5c11\u91cf\u7684\u5b58\u50a8\u5668\u8fdb\u884c\u5feb\u901f\u7684\u8bbf\u95ee</p> <ul> <li>\u52a0\u8f7d\uff1a\u4ece\u5185\u5b58\u8bfb\u5230\u5bc4\u5b58\u5668</li> <li>\u5b58\u50a8\uff1a\u4ece\u5bc4\u5b58\u5668\u5199\u5230\u5185\u5b58</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#1_5","title":"\uff081\uff09\u52a0\u8f7d\u5355\u5143\u7684\u6027\u80fd\uff1a","text":"<ul> <li>\u65e2\u4f9d\u8d56\u4e8e\u6d41\u6c34\u7ebf\u7684\u80fd\u529b\uff0c\u4e5f\u4f9d\u8d56\u4e8e\u52a0\u8f7d\u5355\u5143\u7684\u5ef6\u8fdf</li> <li>\"CPE\" \u901a\u5e38\u6307\u7684\u662f \"Clocks Per Instruction\"\uff0c\u5373\u6bcf\u6761\u6307\u4ee4\u7684\u65f6\u949f\u5468\u671f\u6570</li> <li>\u5bf9\u4e8e\u4efb\u4f55\u6570\u636e\u7c7b\u578b\u7684\u7ec4\u5408\u4e0e\u5408\u5e76\u64cd\u4f5c\uff0cCPE\u4ece\u6ca1\u6709\u4f4e\u4e8e0.50</li> <li>\u4e00\u4e2a\u5236\u7ea6CPE\u7684\u56e0\u7d20\u662f\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u8981\u8ba1\u7b97\u7684\u5143\u7d20\uff0c\u6240\u6709\u7684\u793a\u4f8b\u90fd\u9700\u8981\u4ece\u5185\u5b58\u4e2d\u8bfb\u4e00\u4e2a\u503c</li> <li>\u5bf9\u4e8e\u6bcf\u4e2a\u88ab\u8ba1\u7b97\u7684\u5143\u7d20\u5fc5\u987b\u52a0\u8f7dk\u4e2a\u503c\u7684\u5e94\u7528\u800c\u8a00\uff1a\u6211\u4eec\u4e0d\u53ef\u80fd\u83b7\u5f97\u4f4e\u4e8ek/2\u7684CPE</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/#2_5","title":"\uff082\uff09\u5b58\u50a8\u5355\u5143\u7684\u6027\u80fd\uff1a","text":"<p>\u5185\u5b58\u64cd\u4f5c\u7684\u5b9e\u73b0\u6709\u5f88\u591a\u7ec6\u5fae\u4e4b\u5904\uff1a - \u5bf9\u4e8e\u5bc4\u5b58\u5668\u64cd\u4f5c\uff1a\u5728\u6307\u4ee4\u88ab\u8bd1\u7801\u6210\u64cd\u4f5c\u7684\u65f6\u5019\uff0c\u5904\u7406\u5668\u5c31\u53ef\u4ee5\u786e\u5b9a\u54ea\u4e9b\u6307\u4ee4\u4f1a\u5f71\u54cd\u5176\u4ed6\u54ea\u4e9b\u6307\u4ee4 - \u5bf9\u4e8e\u5185\u5b58\u64cd\u4f5c\uff1a\u53ea\u6709\u5230\u52a0\u8f7d\u548c\u5b58\u50a8\u7684\u5730\u5740\u88ab\u8ba1\u7b97\u51fa\u6765\u4e4b\u540e\uff0c\u5904\u7406\u5668\u624d\u80fd\u786e\u5b9a\u54ea\u4e9b\u6307\u4ee4\u4f1a\u5f71\u54cd\u5176\u4ed6\u7684</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/","title":"Chapter6 \u5b58\u50a8\u5668\u7684\u5c42\u6b21\u7ed3\u6784","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1","title":"1\uff09\u5f15\u5165","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1-memory-system","title":"1. \u5b58\u50a8\u5668\u7cfb\u7edf(memory system)\uff1a","text":"<ol> <li>\u5b58\u50a8\u5668\u7cfb\u7edf\u662f\u4e00\u4e2a\u5177\u6709\u4e0d\u540c\u5bb9\u91cf/\u6210\u672c/\u8bbf\u95ee\u65f6\u95f4\u7684\u5b58\u50a8\u8bbe\u5907\u7684\u5c42\u6b21\u7ed3\u6784</li> <li>CPU\u5bc4\u5b58\u5668\u5185\u4fdd\u5b58\u7740\u6700\u5e38\u7528\u7684\u6570\u636e</li> <li>\u9760\u8fd1CPU\u7684\u5c0f\u7684/\u5feb\u901f\u7684\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668(cache memory) \u662f\u4e00\u4e2a\u7f13\u51b2\u533a\uff0c\u7f13\u5b58\u7684\u662f\u5b58\u50a8\u5728\u76f8\u5bf9\u6162\u901f\u7684\u4e3b\u5b58\u50a8\u5668(main memory) \u4e2d\u6570\u636e\u548c\u6307\u4ee4\u7684\u4e00\u90e8\u5206</li> <li>\u4e3b\u5b58\u7f13\u5b58\u5b58\u50a8\u5728\u5bb9\u91cf\u8f83\u5927\u3001\u6162\u901f\u78c1\u76d8\u4e0a\u7684\u6570\u636e\uff0c\u800c\u8fd9\u4e9b\u78c1\u76d8\u5e38\u5e38\u6709\u4f5c\u4e3a\u5b58\u50a8\u5728\u901a\u8fc7\u7f51\u7edc\u8fde\u63a5\u7684\u5176\u4ed6\u673a\u5668\u7684\u78c1\u76d8\u6216\u78c1\u5e26\u4e0a\u7684\u6570\u636e\u7684\u7f13\u51b2\u533a\u57df</li> <li>\u8be5\u7cfb\u7edf\u7684\u6574\u4f53\u6548\u679c\uff1a\u4e00\u4e2a\u5927\u578b\u7684\u5b58\u50a8\u5668\u6c60</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2-locality","title":"2.  \u7a0b\u5e8f\u7684\u5c40\u90e8\u6027(locality)\uff1a","text":"<ol> <li>\u5c40\u90e8\u6027\u662f\u8ba1\u7b97\u673a\u7684\u57fa\u672c\u5c5e\u6027</li> <li>\u5177\u6709==\u826f\u597d\u5c40\u90e8\u6027==\u7684\u7a0b\u5e8f\u503e\u5411\u4e8e\u4e00\u6b21\u53c8\u4e00\u6b21\u5730\u8bbf\u95ee===\u76f8\u540c==\u7684\u6570\u636e\u9879\u96c6\u5408\uff0c\u6216\u662f\u8bbf\u95ee==\u76f8\u90bb==\u7684\u6570\u636e\u9879\u96c6\u5408</li> <li> <p>\u5177\u6709\u826f\u597d\u5c40\u90e8\u6027\u7684\u7a0b\u5e8f\u66f4\u591a\u5730\u503e\u5411\u4e8e\u4ece\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u4e2d\u7684\u8f83\u9ad8\u5c42\u6b21\u5904\u8bbf\u95ee\u6570\u636e\u9879\uff0c\u56e0\u6b64\u4f1a\u8fd0\u884c\u5730\u66f4\u5feb</p> </li> <li> <p>\u5982\u679c\u7a0b\u5e8f\u6240\u9700\u8981\u7684\u6570\u636e\u662f\u5b58\u50a8\u5728CPU\u5bc4\u5b58\u5668\u4e2d\uff0c\u90a3\u4e48\u5728\u6307\u4ee4\u7684\u6267\u884c\u671f\u95f4\uff0c\u57280\u4e2a\u5468\u671f\u5185\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u5b83\u4eec</p> </li> <li>\u5982\u679c\u5b58\u50a8\u5728\u9ad8\u901f\u7f13\u5b58\u4e2d\uff0c\u9700\u89814\uff5e75\u4e2a\u5468\u671f</li> <li>\u5982\u679c\u5b58\u50a8\u5728\u4e3b\u5b58\u4e2d\uff0c\u9700\u8981\u4e0a\u767e\u4e2a\u5468\u671f</li> <li>\u5982\u679c\u5b58\u50a8\u5728\u78c1\u76d8\u4e0a\uff0c\u9700\u8981\u51e0\u5343\u4e07\u4e2a\u5468\u671f</li> <li>\u6211\u4eec\u7f16\u5199\u5e94\u7528\u7a0b\u5e8f\u7684\u7a8d\u95e8\u5c31\u5728\u4e8e\uff1a\u4f7f\u5f97\u6570\u636e\u9879\u5b58\u50a8\u5728\u5c42\u6b21\u7ed3\u6784\u8f83\u9ad8\u7684\u4f4d\u7f6e\uff0c\u5728\u90a3\u91ccCPU\u53ef\u66f4\u5feb\u5730\u8bbf\u95ee\u5230\u5b83\u4eec</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2","title":"2\uff09\u5b58\u50a8\u6280\u672f","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1ramrandom-access-memory","title":"\u30101\u3011\u968f\u673a\u8bbf\u95ee\u5b58\u50a8\u5668(RAM,Random-Access Memory)","text":"<p>RAM\u5206\u4e3a\u4e24\u7c7b\uff1a\u9759\u6001RAM(SRAM) \u4e0e \u52a8\u6001RAM(DRAM) 1. SRAM\u7528\u6765\u4f5c\u4e3a\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668\uff0c\u53ef\u4ee5\u5728CPU\u82af\u7247\u4e2d\uff0c\u4e5f\u53ef\u4ee5\u5728\u7247\u5916 2. DRAM\u7528\u6765\u4f5c\u4e3a\u4e3b\u5b58\u4ee5\u53ca\u56fe\u5f62\u7684\u5e27\u7f13\u51b2\u533a</p> <p>\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\uff0cSRAM\uff08Static Random Access Memory\uff09\u548cDRAM\uff08Dynamic Random Access Memory\uff09\u901a\u5e38\u90fd\u5b58\u5728\u4e8e\u4e3b\u5b58\u50a8\u5668\uff08\u4e3b\u5b58\uff09\u4e2d\uff0c\u800c\u4e0d\u662f\u76f4\u63a5\u96c6\u6210\u5230CPU\u4e2d\u3002\u4e3b\u5b58\u662f\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7528\u4e8e\u5b58\u50a8\u7a0b\u5e8f\u548c\u6570\u636e\u7684\u4e3b\u8981\u5b58\u50a8\u8bbe\u5907\uff0c\u5b83\u4e0eCPU\u901a\u8fc7\u5185\u5b58\u603b\u7ebf\u76f8\u8fde! SRAM\u548cDRAM\u5728\u4e3b\u5b58\u4e2d\u626e\u6f14\u4e0d\u540c\u7684\u89d2\u8272\uff1a [1] SRAM\uff08\u9759\u6001RAM\uff09\uff1a \u5b83\u662f\u4e00\u79cd\u9759\u6001\u5b58\u50a8\u5668\uff0c\u4fdd\u6301\u6570\u636e\u7684\u72b6\u6001\u4e0d\u53d8\uff0c\u53ea\u8981\u7535\u6e90\u4fdd\u6301\u7a33\u5b9a\u3002SRAM\u901a\u5e38\u7528\u4e8e\u6784\u5efa\u9ad8\u901f\u7f13\u5b58\uff0c\u8fd9\u662f\u4f4d\u4e8eCPU\u548c\u4e3b\u5b58\u4e4b\u95f4\u7684\u5feb\u901f\u5b58\u50a8\u5668\u5c42\u3002\u9ad8\u901f\u7f13\u5b58\u7528\u4e8e\u6682\u65f6\u5b58\u50a8CPU\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\u548c\u6307\u4ee4\uff0c\u4ee5\u63d0\u9ad8\u8bbf\u95ee\u901f\u5ea6\u3002 [2] DRAM\uff08\u52a8\u6001RAM\uff09\uff1a \u5b83\u662f\u4e00\u79cd\u52a8\u6001\u5b58\u50a8\u5668\uff0c\u9700\u8981\u5b9a\u671f\u5237\u65b0\u4ee5\u4fdd\u6301\u5b58\u50a8\u7684\u6570\u636e\u3002DRAM\u7528\u4e8e\u6784\u5efa\u4e3b\u5b58\uff0c\u56e0\u4e3a\u5b83\u76f8\u5bf9\u8f83\u4fbf\u5b9c\u4e14\u80fd\u591f\u63d0\u4f9b\u5927\u5bb9\u91cf\u7684\u5b58\u50a8\u3002\u4e3b\u5b58\u4e2d\u7684\u6570\u636e\u53ef\u4ee5\u88abCPU\u76f4\u63a5\u8bfb\u53d6\u6216\u5199\u5165\uff0c\u4f46\u76f8\u5bf9\u4e8e\u9ad8\u901f\u7f13\u5b58\u800c\u8a00\uff0cDRAM\u7684\u8bbf\u95ee\u901f\u5ea6\u8f83\u6162\u3002</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#ram","title":"\u9759\u6001RAM\uff1a","text":"<ul> <li>SRAM\u5c06\u6bcf\u4e2a\u4f4d\u5b58\u50a8\u5728\u4e00\u4e2a\u53cc\u7a33\u6001(bistable)\u7684\u5b58\u50a8\u5668\u5355\u5143\u4e2d</li> <li>\u5b83\u53ef\u4ee5\u65e0\u9650\u671f\u4fdd\u6301\u5728\u4e24\u4e2a\u4e0d\u540c\u7684\u7535\u538b\u914d\u7f6e\u6216\u72b6\u6001\u4e4b\u4e00</li> <li>\u7c7b\u6bd4\u201c\u5012\u7f6e\u7684\u949f\u6446\u201d</li> <li>\u7531\u4e8eSRAM\u7684\u53cc\u7a33\u6001\u7279\u6027\uff0c\u53ea\u8981\u6709\u7535\uff0c\u5c31\u53ef\u4ee5\u6c38\u8fdc\u4fdd\u6301\u5b83\u7684\u503c\u3002\u5373\u4f7f\u6709\u5e72\u6270(eg\u7535\u5b50\u566a\u97f3)\uff0c\u5f53\u5e72\u6270\u6d88\u9664\u65f6\uff0c\u7535\u8def\u5c31\u4f1a\u6062\u590d\u5230\u7a33\u5b9a\u503c ![[Pasted image 20231118183626.png]]</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#ram_1","title":"\u52a8\u6001RAM\uff1a","text":"<ul> <li>DRAM\u5c06\u6bcf\u4e2a\u4f4d\u5b58\u50a8\u4e3a\u4e00\u4e2a\u7535\u5bb9\u7684\u5145\u7535\uff0c\u5176\u5b58\u50a8\u5668\u5355\u5143\u5bf9\u5e72\u6270\u5341\u5206\u654f\u611f\uff0c\u5f53\u7535\u5bb9\u7684\u7535\u538b\u88ab\u6270\u4e71\u540e\uff0c\u5b83\u5c31\u6c38\u8fdc\u4e0d\u4f1a\u6062\u590d\u4e86</li> <li>DRAM\u82af\u7247\u5c01\u88c5\u5728\u5185\u5b58\u6a21\u5757(memory module)\u4e2d\uff0c\u5b83\u63d2\u5230\u4e3b\u677f\u7684 ![[Pasted image 20231118183646.png]]</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#nonvolatile-memory","title":"\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668(nonvolatile memory)\uff1a","text":"<ul> <li>\u663e\u800c\u6613\u89c1\uff0c\u5982\u679c\u65ad\u7535\uff0c\u5219DRAM\u4e0eSRAM\u5c31\u4f1a\u4e22\u5931\u5b83\u4eec\u7684\u4fe1\u606f\uff0c\u4ece\u8fd9\u4e2a\u610f\u4e49\u4e0a\u6765\u8bf4\uff0c\u5b83\u4eec\u662f\u201c\u6613\u5931\u201d\u7684</li> <li>\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668(nonvolatile memory)\u5373\u4f7f\u662f\u5728\u65ad\u7535\u540e\uff0c\u4f9d\u7136\u80fd\u4fdd\u5b58\u5b83\u4eec\u7684\u4fe1\u606f</li> <li>\u867d\u7136 ROM(\u53ea\u8bfb\u5b58\u50a8\u5668) \u4e2d\u6709\u7684\u7c7b\u578b\u65e2\u53ef\u4ee5\u8bfb\u4e5f\u53ef\u4ee5\u5199\uff0c\u4f46\u662f\u6211\u4eec\u4f9d\u65e7\u558a\u5b83 ROM(Read-Only Memory)</li> <li>\u95ea\u5b58(flash memory)\uff1a\u662f\u4e00\u7c7b\u975e\u6613\u5931\u6027\u5b58\u50a8\u5668\uff0c\u4e3a\u5927\u578b\u7535\u5b50\u8bbe\u5907\u63d0\u4f9b\u5feb\u901f\u800c\u6301\u4e45\u7684\u975e\u6613\u5931\u6027\u5b58\u50a8 \u300c\u540e\u9762\u4f1a\u4ecb\u7ecd\u4e00\u79cd\u57fa\u4e8e\u95ea\u5b58\u7684\u78c1\u76d8\u9a71\u52a8\u5668\uff0ccalled\uff1a\u56fa\u6001\u786c\u76d8[SSD]\u300d</li> <li>PROM\uff1a\u53ef\u7f16\u7a0bROM\uff0c\u53ea\u80fd\u4f7f\u7528\u4e00\u6b21</li> <li>EPROM\uff1a\u53ef\u64e6\u5199\u53ef\u7f16\u7a0bROM\uff0c\u53ef\u4ee5\u4f7f\u7528\u8fd1\\(10^5\\)\u6b21</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#_1","title":"\u8bbf\u95ee\u4e3b\u5b58\uff1a","text":"<p>[1] \u6570\u636e\u6d41\u901a\u8fc7\u603b\u7ebf(bus)\u7684\u5171\u4eab\u7535\u5b50\u7535\u8def\u5728\u5904\u7406\u5668\u548cDRAM\u4e3b\u5b58\u4e4b\u95f4\u6765\u56de\u4ea4\u4e92\uff0c\u8fd9\u4e9b\u6b65\u9aa4\u53eb\u505a\uff1a\u603b\u7ebf\u4e8b\u52a1 [2] \u8bfb\u4e8b\u52a1\uff1a\u4ece\u4e3b\u5b58\u4f20\u9001\u6570\u636e\u5230CPU [3] \u5199\u4e8b\u52a1\uff1a\u4eceCPU\u4f20\u9001\u6570\u636e\u5230\u4e3b\u5b58</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_1","title":"1. \u4e3b\u8981\u90e8\u4ef6\uff1a","text":"<ul> <li>CPU\u82af\u7247</li> <li>I/O\u6865\uff1a\u5c06\u7cfb\u7edf\u4e3b\u7ebf\u7684\u7535\u5b50\u4fe1\u53f7 \u8f6c\u6362\u4e3a \u5185\u5b58\u603b\u7ebf\u7684\u7535\u5b50\u4fe1\u53f7</li> <li>\u4e3b\u5b58</li> <li>\u7cfb\u7edf\u4e3b\u7ebf(system bus)\uff1a\u8fde\u63a5\u7684\u662fCPU \u4e0e I/O\u6865\u63a5\u5668</li> <li>\u5185\u5b58\u603b\u7ebf(memory bus)\uff1a\u8fde\u63a5\u7684\u662f I/O\u6865\u63a5\u5668 \u4e0e \u4e3b\u5b58 ![[Pasted image 20231118190305.png]]</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_1","title":"2. \u8003\u8651\u4e24\u4e2a\u5c0f\u8fc7\u7a0b\uff1a","text":"<p><pre><code>movq A , %rax\n</code></pre> coding\u542b\u4e49\uff1a\u5c06\u5730\u5740A\u7684\u5185\u5bb9\u52a0\u8f7d\u5230\u5bc4\u5b58\u5668%rax\u4e2d</p> <p>CPU\u82af\u7247\u4e0a\uff1a\u603b\u7ebf\u63a5\u53e3(bus interface)\u7684\u7535\u8def\u5728\u603b\u7ebf\u4e0a\u53d1\u8d77\u8bfb\u4e8b\u52a1 1. CPU\u5c06\u5730\u5740A\u653e\u5230\u7cfb\u7edf\u603b\u7ebf\u4e0a\uff0cI/O\u6865\u5c06\u4fe1\u53f7\u4f20\u9012\u5230\u5185\u5b58\u603b\u7ebf 2. \u4e3b\u5b58\u611f\u77e5\u5230\u5185\u5b58\u603b\u7ebf\u4e0a\u7684\u5730\u5740\u4fe1\u53f7\uff0c\u4ece\u5185\u5b58\u4e3b\u7ebf\u8bfb\u5730\u5740 3. \u4e3b\u5b58\u4eceDRAM\u4e2d\u62c9\u53d6\u5bf9\u5e94\u7684\u6570\u636e\u5b57\uff0c\u5e76\u5c06\u6570\u636e\u5199\u5230\u5185\u5b58\u603b\u7ebf 4. I/O\u6865\u5c06\u5185\u5b58\u4e3b\u7ebf\u7684\u4fe1\u53f7\u7ffb\u8bd1\u6210\u7cfb\u7edf\u4e3b\u7ebf\u4fe1\u53f7\uff0c\u7136\u540e\u6cbf\u7740\u7cfb\u7edf\u4e3b\u7ebf\u4f20\u9012 5. CPU\u611f\u77e5\u5230\u7cfb\u7edf\u4e3b\u7ebf\u4e0a\u7684\u6570\u636e\uff0c\u4ece\u4e3b\u7ebf\u8bfb\u6570\u636e\uff0c\u5e76\u5c06\u6570\u636e\u590d\u5236\u5230\u5bc4\u5b58\u5668%rax\u4e2d ![[Pasted image 20231118190945.png]] ![[Pasted image 20231118191003.png]] ![[Pasted image 20231118191042.png]] <pre><code>movq %rax , A\n</code></pre> coding\u542b\u4e49\uff1a\u5c06\u5bc4\u5b58\u5668%rax\u4e2d\u7684\u5185\u5bb9\u5199\u5230\u5230\u5730\u5740A</p> <p>CPU\u53d1\u8d77\u5199\u4e8b\u52a1 1. CPU\u5c06\u5730\u5740\u653e\u5230\u7cfb\u7edf\u4e3b\u7ebf\u4e0a 2. \u5185\u5b58\u4ece\u5185\u5b58\u4e3b\u7ebf\u8bfb\u51fa\u5730\u5740\uff0c\u5e76\u7b49\u5f85\u6570\u636e\u5230\u8fbe 3. CPU\u5c06%rax\u5bc4\u5b58\u5668\u6c47\u603b\u7684\u6570\u636e\u5b57\u590d\u5236\u5230\u7cfb\u7edf\u603b\u7ebf 4. \u4e3b\u5b58\u4ece\u5185\u5b58\u603b\u7ebf\u8bfb\u51fa\u6570\u636e\u5b57\uff0c\u5e76\u5c06\u8fd9\u4e9b\u4f4d\u5b58\u50a8\u5230DRAM\u4e2d</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_2","title":"\u30102\u3011\u78c1\u76d8\u5b58\u50a8","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_2","title":"\uff081\uff09\u78c1\u76d8\u6784\u9020\uff1a","text":"<p>\u6574\u4e2a\u88c5\u7f6e\u88ab\u79f0\u4e3a\u78c1\u76d8\u9a71\u52a8\u5668(disk drive)\uff0c\u6211\u4eec\u901a\u5e38\u7b80\u79f0\u4e3a\u78c1\u76d8(disk)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_3","title":"\uff082\uff09\u78c1\u76d8\u5bb9\u91cf\uff1a","text":"<ul> <li>\u8bb0\u5f55\u5bc6\u5ea6(recording density)\uff1a\u78c1\u9053\u4e00\u82f1\u5bf8\u6bb5\u4e2d\u53ef\u4ee5\u653e\u5165\u7684\u4f4d\u6570</li> <li>\u78c1\u9053\u5bc6\u5ea6(track density)\uff1a\u4ece\u76d8\u7247\u4e2d\u5fc3\u51fa\u53d1\u534a\u5f84\u4e0a\u4e00\u82f1\u5bf8\u7684\u6bb5\u5185\u53ef\u4ee5\u6709\u7684\u78c1\u9053\u6570</li> <li>\u9762\u5bc6\u5ea6(areal density)\uff1a\u8bb0\u5f55\u5bc6\u5ea6 x \u78c1\u9053\u5bc6\u5ea6</li> </ul> <p>\u63d0\u5347\u78c1\u76d8\u5bb9\u91cf\u7684\u65b9\u6cd5\uff1a 1. \u63d0\u9ad8\u9762\u5bc6\u5ea6\uff08old\uff09 2. \u591a\u533a\u8bb0\u5f55\uff08now\uff09</p> <p>\u78c1\u9053\u5bb9\u91cf\u7684\u8ba1\u7b97\u516c\u5f0f\uff1a \\(\u78c1\u76d8\u5bb9\u91cf = \u5b57\u8282\u6570/\u6247\u533a * \u5e73\u5747\u6247\u533a\u6570/\u78c1\u9053 * \u78c1\u9053\u6570/\u8868\u9762 * \u8868\u9762\u6570/\u76d8\u7247 * \u76d8\u7247\u6570/\u78c1\u76d8\\)</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3","title":"\uff083\uff09\u78c1\u76d8\u64cd\u4f5c\uff1a","text":"<ul> <li>\u5bfb\u9053\u65f6\u95f4\uff1a\u79fb\u52a8\u673a\u68b0\u81c2\u5c06\u8bfb\u5199\u5934 \u5b9a\u4f4d\u5230\u76ee\u6807\u6247\u533a\u7684\u78c1\u9053\u4e0a\uff0c\u8fd9\u4e00\u90e8\u5206\u65f6\u95f4called\u5bfb\u9053\u65f6\u95f4</li> <li>\u65cb\u8f6c\u65f6\u95f4\uff1a\u8bfb\u5199\u5934\u5230\u4e86\u671f\u671b\u7684\u78c1\u9053\u540e\uff0c\u9a71\u52a8\u5668\u7b49\u5f85\u76ee\u6807\u6247\u533a\u7684\u7b2c\u4e00\u4e2a\u4f4d \u65cb\u8f6c\u5230\u8bfb\u5199\u5934 \u6b63\u4e0b\u65b9\uff0c\u8fd9\u4e00\u90e8\u5206\u65f6\u95f4called\u65cb\u8f6c\u65f6\u95f4</li> <li>\u4f20\u9001\u65f6\u95f4\uff1a\u5f53\u76ee\u6807\u6247\u533a\u7684\u7b2c\u4e00\u4e2a\u4f4d \u65cb\u8f6c\u5230\u8bfb\u5199\u5934 \u6b63\u4e0b\u65b9\u65f6\uff0c\u9a71\u52a8\u5668\u5c31\u53ef\u4ee5\u5f00\u59cb\u8bfb/\u5199\u8be5\u6247\u533a\u7684\u5185\u5bb9\uff0c\u76f4\u81f3\u5c06\u5185\u5bb9\u5168\u90e8\u5904\u7406\u5b8c\u6bd5\uff0c\u8fd9\u4e00\u90e8\u5206\u65f6\u95f4called\u4f20\u9001\u65f6\u95f4 </li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#4","title":"\uff084\uff09\u903b\u8f91\u78c1\u76d8\u5757\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#5io","title":"\uff085\uff09\u8fde\u63a5I/O\u8bbe\u5907\uff1a","text":"<p>\u4f8b\u5982\uff1a\u56fe\u5f62\u5361\u3001\u76d1\u89c6\u5668\u3001\u9f20\u6807\u3001\u952e\u76d8\u7b49\u8f93\u5165/\u8f93\u51fa\u8bbe\u5907(I/O devices)\uff0c\u90fd\u662f\u901a\u8fc7I/O\u603b\u7ebf\u8fde\u63a5\u5230CPU\u4e0e\u4e3b\u5b58\u7684 \u7cfb\u7edf\u4e3b\u7ebf\u4e0e\u5185\u5b58\u4e3b\u7ebf\u662f\u4e0eCPU\u76f8\u5173\u7684\uff0c\u4e0e\u4e0a\u8ff0\u4e0d\u540c \u8fd9\u4e9bI/O\u4e3b\u7ebf\u6bd4\u7cfb\u7edf\u4e3b\u7ebf\u548c\u5185\u5b58\u4e3b\u7ebf\u6162\uff0c\u4f46\u662f\u5b83\u53ef\u4ee5\u5bb9\u7eb3\u66f4\u591a\u79cd\u7c7b\u7684\u7b2c\u4e09\u65b9I/O\u8bbe\u5907</p> <p>\u6709\u4e09\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u8bbe\u5907\u8fde\u63a5\u5230\u4e3b\u7ebf\uff1a 1. \u901a\u7528\u4e32\u884c\u4e3b\u7ebf(Universal Serial Bus , USB)\uff1a\u6700\u901a\u7528\uff01 2. \u56fe\u5f62\u5361(or\u9002\u914d\u5668)\uff1a\u5305\u542b\u786c\u4ef6\u4e0e\u8f6f\u4ef6\u903b\u8f91\uff0c\u5b83\u4eec\u8d1f\u8d23\u4ee3\u8868CPU\u5728\u663e\u793a\u5668\u4e0a\u753b\u50cf\u7d20 3. \u4e3b\u673a\u603b\u7ebf\u9002\u914d\u5668\uff1a\u53ef\u4ee5\u5c06\u4e00\u4e2a/\u591a\u4e2a\u78c1\u76d8\u8fde\u63a5\u5230I/O\u603b\u7ebf\uff0c\u4f7f\u7528\u7684\u662f\u4e00\u4e2a\u7279\u522b\u7684 \u4e3b\u673a\u603b\u7ebf\u63a5\u53e3 \u5b9a\u4e49\u7684\u901a\u4fe1\u534f\u8bae - \u5e38\u89c1\u7684\u4e3b\u673a\u603b\u7ebf\u9002\u914d\u5668\u6709\u4e24\u79cd\uff1a - SCSI\u63a7\u5236\u5668\uff1a\u53ef\u4ee5\u652f\u6301\u591a\u4e2a\u78c1\u76d8\u9a71\u52a8\u5668 - SATA\u63a7\u5236\u5668\uff1a\u4ec5\u652f\u6301\u4e00\u4e2a\u78c1\u76d8\u9a71\u52a8\u5668</p> <p>\u5176\u4ed6\u7684\u8bbe\u5907\uff0c\u6bd4\u5982\u7f51\u7edc\u9002\u914d\u5668 \uff0c\u53ef\u4ee5\u901a\u8fc7\u5c06\u9002\u914d\u5668\u63d2\u5165\u5230\u4e3b\u677f\u4e0a\u7a7a\u7684\u6269\u5c55\u69fd \u4e2d\uff0c\u4ece\u800c\u8fde\u63a5\u5230I/O\u603b\u7ebf\uff0c\u8fd9\u4e9b\u63d2\u69fd\u63d0\u4f9b\u4e86\u5230\u603b\u7ebf\u7684\u76f4\u63a5\u7535\u8def\u8fde\u63a5 ![[Pasted image 20231118200318.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#6","title":"\uff086\uff09\u8bbf\u95ee\u78c1\u76d8\uff1a","text":"<ul> <li>\u8bbf\u95ee\u78c1\u76d8\u662f\u4ec0\u4e48\u610f\u601d\uff1a\u7528\u6237\u64cd\u4f5cCPU\u5bf9\u4e8edisk\u5185\u7684\u6587\u4ef6\u7b49\u6570\u636e\u8fdb\u884c\u8bbf\u95ee\u4e0e\u8bfb\u53d6</li> <li>CPU\u4f7f\u7528\u4e00\u79cd\u79f0\u4e3a\u5185\u5b58\u6620\u5c04I/O(memory-mapped I/O) \u7684\u65b9\u6cd5\uff0c\u6765\u5411I/O\u8bbe\u5907\u53d1\u9001\u547d\u4ee4</li> <li>\u5728\u4f7f\u7528\u5185\u5b58\u6620\u5c04I/O\u7684\u7cfb\u7edf\u4e2d\uff0c\u5730\u5740\u7a7a\u95f4\u6c47\u603b\u6709\u4e00\u5757\u5730\u5740\u662f\u4e3a\u4e0eI/O\u8bbe\u5907\u901a\u4fe1\u4fdd\u7559\u7684\uff0c\u6bcf\u4e00\u4e2a\u8fd9\u6837\u7684\u5730\u5740called\uff1aI/O\u7aef\u53e3</li> <li>\u5f53\u4e00\u4e2a\u8bbe\u5907\u8fde\u63a5\u5230\u603b\u7ebf\u65f6\uff0c\u5b83\u4e0e\u4e00/\u591a\u4e2a\u7aef\u53e3\u76f8\u5173\u8054</li> </ul> <p>\u4e3e\u4f8b\u5206\u6790\uff1a \u5047\u8bbe\u4e00\u4e2a\u78c1\u76d8\u63a7\u5236\u5668\uff08\u5916\u63a5\u7684I/O\u8bbe\u5907\uff09\u6620\u5c04\u5230\u7aef\u53e30xa0 step1\uff1aCPU\u4f1a\u901a\u8fc7\u6267\u884c\u4e09\u4e2a\u5bf9\u5730\u57400xa0\u5bf9\u5b58\u50a8\u6307\u4ee4\uff0c\u53d1\u8d77\u78c1\u76d8\u8bfb</p> <p>message1\uff1a \u53d1\u51fa\u4e00\u4e2a\u547d\u4ee4\u5b57\uff0c\u544a\u8bc9\u78c1\u76d8\u53d1\u8d77\u4e00\u4e2a\u8bfb\uff0c\u540c\u65f6\u8fd8\u4f20\u9001\u4e86\u5176\u4ed6\u53c2\u6570(eg:\u8bfb\u5b8c\u6210\u540e\uff0c\u662f\u5426\u4e2d\u65adCPU...) message2\uff1a\u6307\u660e\u5e94\u8be5\u8bfb\u53d6\u7684\u903b\u8f91\u5757\u53f7(block num) message3\uff1a\u6307\u660e\u5e94\u8be5\u5c06\u6570\u636e\u5b58\u50a8\u5728\u78c1\u76d8\u6247\u533a\u5185\u5bb9\u7684\u4e3b\u5b58\u5730\u5740</p> <p>step2(CPU)\uff1a\u5f53CPU\u53d1\u51fa\u547d\u4ee4\u8bf7\u6c42\u540e\uff0c\u78c1\u76d8\u5f00\u59cb\u6267\u884c\u8bfb\u64cd\u4f5c\uff0c\u6b64\u65f6CPU\u901a\u5e38\u4f1a\u505a\u522b\u7684\u5de5\u4f5c\uff0c\u628a\u78c1\u76d8\u201c\u667e\u5728\u4e00\u8fb9\u201d</p> <p>\u8fd9\u4e48\u505a\u7684\u539f\u56e0\u662f\uff1a\u8bfb\u78c1\u76d8\u7684\u65f6\u95f4\u592a\u957f\uff0c\u5982\u679c\u8fd9\u6bb5\u65f6\u95f4CPU\u4e00\u76f4\u7b49\u7740\u5b83\uff0c\u5c31\u4f1a\u9519\u5931\u5f88\u591a\u5176\u4ed6\u4fe1\u606f\uff0c\u6027\u4ef7\u6bd4\u592a\u4f4e\uff01</p> <p>step2(disk)\uff1a\u78c1\u76d8\u63a7\u5236\u6536\u5230\u6765\u81eaCPU\u7684\u8bfb\u547d\u4ee4\u540e\uff1a 1. \u5b83\u628a\u903b\u8f91\u5757\u53f7\u7ffb\u8bd1\u6210\u4e00\u4e2a\u6247\u533a\u5730\u5740\uff0c\u8bfb\u53d6\u8be5\u6247\u533a\u7684\u5185\u5bb9 2. \u7136\u540e\u5c06\u8fd9\u4e9b\u5185\u5bb9\u76f4\u63a5\u4f20\u9001\u5230\u4e3b\u5b58\uff0c\u4e0d\u9700\u8981CPU\u8fdb\u884c\u5e72\u6d89\uff01 3. \u5728DMA\u4f20\u9001\u5b8c\u6210\u540e\uff0c\u78c1\u76d8\u6247\u533a\u5185\u5bb9\u88ab\u5b89\u5168\u5730\u5b58\u50a8\u5728\u4e3b\u5b58\u4e2d</p> <p>step3\uff1aDMA\u4f20\u9001\u5b8c\u6210\u540e\uff0c\u78c1\u76d8\u6247\u533a\u5185\u5bb9\u4f1a\u88ab\u5b89\u5168\u5730\u5b58\u50a8\u5728\u4e3b\u5b58\u4e2d 1. \u78c1\u76d8\u63a7\u5236\u5668\u901a\u8fc7\u7ed9CPU\u53d1\u9001\u4e00\u4e2a\u4e2d\u65ad\u4fe1\u53f7\u6765\u901a\u77e5CPU\uff0c\u201c\u6211\u7684\u6570\u636e\u5df2\u7ecf\u5168\u90e8\u4f20\u5230\u4e3b\u5b58\u4e2d\u4e86\uff0c\u4f60\u53ef\u4ee5\u8fdb\u884c\u8bbf\u95ee\u4e86\uff01\u201d 2. \u6b64\u65f6\uff1aCPU\u6536\u5230\u8fd9\u4e2a\u4e2d\u65ad\u4fe1\u53f7\uff0c\u4f1a\u6682\u505c\u624b\u8fb9\u7684\u5de5\u4f5c\uff0c\u8df3\u8f6c\u5230\u4e00\u4e2a\u64cd\u4f5c\u7cfb\u7edf\u4f8b\u7a0b\uff0c\u5b83\u4f1a\u8bb0\u5f55\u4e0bI/O\u5df2\u5b8c\u6210\uff0c\u7136\u540e\u5c06\u63a7\u5236\u8fd4\u56de\u5230\u521a\u521aCPU\u88ab\u4e2d\u65ad\u7684\u4f4d\u7f6e ![[Pasted image 20231118202827.png]] ![[Pasted image 20231118202838.png]] ![[Pasted image 20231118202849.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3solid-state-diskssd","title":"\u30103\u3011\u56fa\u6001\u786c\u76d8\uff08Solid State Disk\uff0cSSD\uff09","text":"<ul> <li>SSD\u662f\u4e00\u79cd\u57fa\u4e8e\u95ea\u5b58\u7684\u5b58\u50a8\u6280\u672f</li> <li>SSD\u5c01\u88c5\u63d2\u5230I/O\u603b\u7ebf\u4e0a\u6807\u51c6\u786c\u76d8\u63d2\u69fd(\u901a\u5e38\u662fUSB/SATA)\uff0c\u884c\u4e3a\u5c31\u50cf\u5176\u4ed6\u786c\u76d8\u4e00\u6837\uff0c\u5904\u7406\u6765\u81eaCPU\u7684\u8bfb\u5199\u903b\u8f91\u78c1\u76d8\u5757\u7684\u8bf7\u6c42</li> </ul> <p>SSD\u7684\u5de5\u4f5c\u539f\u7406\uff1a ![[Pasted image 20231118203820.png]] 1. \u4e00\u4e2a\u95ea\u5b58\u7531B\u4e2a\u5757(block)\u7684\u5e8f\u5217\u7ec4\u6210 2. \u6bcf\u4e2a\u5757(block)\u7531P\u9875(page)\u7ec4\u6210 3. \u6570\u636e\u7684\u5199\u5165\u662f\u4ee5\u201c\u9875\u201d\u4e3a\u5355\u4f4d\u7684\uff0c\u53ea\u6709\u5728\u4e00\u9875\u6240\u5c5e\u7684\u5757\u6574\u4e2a\u88ab\u64e6\u9664\u540e\uff0c\u624d\u80fd\u5199\u8fd9\u4e00\u9875 4. \u4e00\u65e6\u4e00\u4e2a\u5757\u88ab\u64e6\u9664\uff0c\u5757\u4e2d\u6bcf\u4e00\u9875\u90fd\u53ef\u4ee5\u4e0d\u9700\u8981\u518d\u8fdb\u884c\u64e6\u9664\u5c31\u5199\u4e00\u6b21</p> <p>\u4e8b\u5b9e\u4e0a\uff0c\u8bfbSSD\u6bd4\u5199\u8981\u5feb\u5f97\u591a \u968f\u673a\u5199\u5f88\u6162mainly because\uff1a 1. \u64e6\u9664\u5757\u9700\u8981\u76f8\u5bf9\u8f83\u957f\u7684\u65f6\u95f4 2. \u5982\u679c\u5199\u64cd\u4f5c\u8bd5\u56fe\u4fee\u6539\u4e00\u4e2a\u5df2\u7ecf\u5305\u542b\u6570\u636e\u7684\u9875p\uff0c\u90a3\u4e48\u8fd9\u4e2ablock\u4e2d\u6240\u6709\u7684\u5e26\u6709\u7528\u6570\u636e\u7684\u9875\u90fd\u5fc5\u987b\u88ab\u590d\u5236\u5230\u4e00\u4e2a\u65b0(newly \u64e6\u9664)\u7684\u5757\uff0c\u7136\u540e\u624d\u80fd\u5bf9\u9875p\u8fdb\u884c\u5199\u64cd\u4f5c</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3_1","title":"3\uff09\u5c40\u90e8\u6027","text":"<ul> <li>\u4e00\u4e2a\u7f16\u5199\u826f\u597d\u7684\u7a0b\u5e8f\u5e38\u5e38\u5177\u5907\u5f88\u597d\u7684\u5c40\u90e8\u6027(locality)</li> <li>\u610f\u5473\u7740\u5b83\u4eec\u503e\u5411\u4e8e\u4e00\u6b21\u53c8\u4e00\u6b21\u5730\u8bbf\u95ee===\u76f8\u540c==\u7684\u6570\u636e\u9879\u96c6\u5408\uff0c\u6216\u662f\u8bbf\u95ee==\u76f8\u90bb==\u7684\u6570\u636e\u9879\u96c6\u5408</li> <li>\u8fd9\u79cd\u503e\u5411\u6027called\u201c\u5c40\u90e8\u6027\u539f\u7406\u201c(principle of locality)</li> </ul> <p>\u5f62\u5f0f\uff1a 1. \u65f6\u95f4\u5c40\u90e8\u6027\uff1a\u88ab\u5f15\u7528\u8fc7\u4e00\u6b21\u7684\u5185\u5b58\u4f4d\u7f6e\u5f88\u53ef\u80fd\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\u518d\u88ab\u591a\u6b21\u5f15\u7528 2. \u7a7a\u95f4\u5c40\u90e8\u6027\uff1a\u5982\u679c\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u88ab\u5f15\u7528\u4e86\u4e00\u6b21\uff0c\u90a3\u4e48\u7a0b\u5e8f\u5f88\u53ef\u80fd\u5728\u4e0d\u8fdc\u7684\u5c06\u6765\u5f15\u7528\u5b83\u9644\u8fd1\u7684\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e</p> <p>\u8ba1\u7b97\u673a\u4f53\u7cfb\u7ed3\u6784\u7684\u5f88\u591a\u5730\u65b9\u90fd\u5229\u7528\u5230\u4e86\u5c40\u90e8\u6027\u539f\u7406\uff1a 1. \u786c\u4ef6\u5c42\uff1a\u5f15\u5165\u201c\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668\u201d\u6765\u4fdd\u5b58\u6700\u8fd1\u88ab\u5f15\u7528\u7684\u6307\u4ee4\u4e0e\u6570\u636e\u9879\uff0c\u4ece\u800c\u63d0\u9ad8\u5bf9\u4e3b\u5b58\u7684\u8bbf\u95ee\u901f\u5ea6 2. \u64cd\u4f5c\u7cfb\u7edf\u7ea7\uff1a\u7cfb\u7edf\u4f7f\u7528\u4e3b\u5b58\u4f5c\u4e3a\u865a\u62df\u5730\u5740\u7a7a\u95f4\u6700\u8fd1\u88ab\u5f15\u7528\u5757\u7684\u9ad8\u901f\u7f13\u5b58</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#4_1","title":"4\uff09\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784","text":"<p>![[Pasted image 20231118205825.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#_2","title":"\u8fd9\u91cc\u7740\u91cd\u4ecb\u7ecd\uff1a\u5b58\u50a8\u5668\u7ed3\u6784\u4e2d\u7684\u7f13\u5b58\uff01","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_3","title":"\uff081\uff09\u57fa\u7840\u77e5\u8bc6\uff1a","text":"<ol> <li>\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u7684\u4e2d\u5fc3\u601d\u60f3\uff1a\u5bf9\u4e8e\u6bcf\u4e2ak\uff0c\u4f4d\u4e8ek\u5c42\u7684\u66f4\u5feb\u66f4\u5c0f\u7684\u5b58\u50a8\u8bbe\u5907\u4f5c\u4e3a\u4f4d\u4e8ek+1\u5c42\u7684\u66f4\u5927\u66f4\u6162\u7684\u5b58\u50a8\u8bbe\u5907\u7684\u7f13\u5b58\u3002\uff08\u6362\u8a00\u4e4b\uff1a\u5c42\u6b21\u7ed3\u6784\u7684\u6bcf\u4e00\u5c42\u90fd\u7f13\u5b58\u6765\u81ea\u8f83\u4f4e\u4e00\u5c42\u7684\u6570\u636e\u5bf9\u8c61\uff09 </li> <li>\u7b2ck+1\u5c42\u7684\u5b58\u50a8\u5668\u88ab\u5212\u5206\u6210\u8fde\u7eed\u7684\u6570\u636e\u5bf9\u8c61\u7ec4\u5757(chunk)\uff0c\u79f0\u4e3a\u201c\u5757\u201d(block)</li> <li>\u6bcf\u4e2ablock\u6709\u552f\u4e00\u7684\u5730\u5740/\u540d\u5b57\uff0c\u4f7f\u4e4b\u533a\u5206\u4e8e\u5176\u4ed6\u7684\u5757\uff1b\u5757\u7684\u5927\u5c0f\u53ef\u4ee5\u662f\u56fa\u5b9a\u5927\u5c0f\u7684\uff0c\u4e5f\u53ef\u4ee5\u662f\u53ef\u53d8\u5927\u5c0f\u7684</li> <li>\u7b2ck\u5c42\u7684\u7f13\u5b58\u5305\u542b\u7b2ck+1\u5c42\u7684\u4e00\u4e2a\u5b50\u96c6\u7684\u526f\u672c</li> <li>\u6570\u636e\u603b\u662f\u4ee5\u5757\u5927\u5c0f\u4e3a\u4f20\u8f93\u5355\u5143(transfer unit)\u5728layer(k)\u4e0elayer(k+1)\u4e4b\u95f4\u6765\u56de\u590d\u5236\u7684</li> <li>\u4e00\u822c\u800c\u8a00\uff1a\u5c42\u6b21\u7ed3\u6784\u4e2d\u79bbCPU\u8f83\u8fdc\u7684\u8bbe\u5907\u8bbf\u95ee\u65f6\u95f4\u8f83\u957f ![[Pasted image 20231118211553.png]]</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_4","title":"\uff082\uff09\u7f13\u5b58\u6620\u5c04\u5173\u7cfb\uff1a","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#layerk1dlayerkd","title":"\u5f53\u7a0b\u5e8f\u9700\u8981layer(k+1)\u4e2d\u7684\u67d0\u4e2a\u6570\u636e\u5bf9\u8c61d\u65f6\uff0c\u5b83\u9996\u5148\u5728\u5f53\u524d\u5b58\u50a8\u5728layer(k)\u7684\u4e00\u4e2a\u5757\u4e2d\u67e5\u627ed\uff0c","text":"<ol> <li> <p>\u7f13\u5b58\u547d\u4e2d\uff1a</p> <p>\u5982\u679cd\u521a\u597d\u7f13\u5b58\u5728layer(k)\u4e2d\uff0c\u90a3\u4e48\u7a0b\u5e8f\u76f4\u63a5\u4ecelayer(k)\u4e2d\u8bfb\u53d6d\uff0c\u663e\u7136\u8fd9\u79cd\u60c5\u51b5\u8981\u6bd4\u201c\u4ecelayer(k+1)\u8bfb\u53d6d\u201d\u5feb\uff01\u8fd9\u5c31\u53eb\u201c\u7f13\u5b58\u547d\u4e2d\u201d</p> </li> <li> <p>\u7f13\u5b58\u4e0d\u547d\u4e2d\uff1a</p> <p>[1] \u5982\u679cd\u5e76\u6ca1\u6709\u7f13\u5b58\u5728layer(k)\u4e2d\uff0c\u90a3\u4e48\u7a0b\u5e8f\u9700\u8981\u4ecelayer(k+1)\u7f13\u5b58\u4e2d\u53d6\u51fa\u5305\u542bd\u7684\u90a3\u4e2ablock\uff1b\u5982\u679c\u7b2ck\u5c42\u7f13\u5b58\u5df2\u7ecf\u6ee1\u4e86\uff0c\u53ef\u80fd\u5c31\u4f1a\u8986\u76d6\u73b0\u5b58\u7684\u4e00\u4e2a\u5757 [2] \u8986\u76d6\u73b0\u5b58\u7684\u4e00\u4e2a\u5757called\u201c\u66ff\u6362(replacing)\u201d\u6216\u201c\u9a71\u9010(evicting)\u201d\u8fd9\u4e2a\u5757\uff0c\u88ab\u9a71\u9010\u7684\u90a3\u4e2ablock\u53eb\u505a\u201c\u727a\u7272\u5757(victim block)\u201d [3] \u51b3\u5b9awho is \u2018victim block\u2019 \u7684\u7b56\u7565called\uff1a\u7f13\u5b58\u7684\u66ff\u6362\u7b56\u7565\uff0c\u901a\u5e38\u91c7\u7528\u7684\u662fLRU\u7b56\u7565('\u6700\u8fd1\u6700\u5c11\u88ab\u4f7f\u7528strategy') [4] \u5728layer(k)\u7f13\u5b58\u4ecelayer(k+1)\u53d6\u51fa\u90a3\u4e2a\u5757\u540e\uff0c\u7a0b\u5e8f\u5c31\u53ef\u4ee5\u50cf\u524d\u9762\u90a3\u6837\u4ecelayer(k)\u8bfb\u53d6d\u4e86\u3010\u5c06\u4e1c\u897f\u8986\u76d6\u8fdb\u4e0a\u7ea7\u7f13\u5b58\u5373\u53ef\uff0c\u5b83\u4f1a\u4e00\u76f4\u5446\u5728\u90a3\u91cc\uff0c\u7b49\u5f85\u7a0d\u540e\u7684\u8bbf\u95ee\u3011</p> </li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3_2","title":"\uff083\uff09\u7f13\u5b58\u4e0d\u660e\u4e2d\u7684\u5206\u7c7b\uff1a","text":"<ol> <li>\u5f3a\u5236\u6027\u4e0d\u547d\u4e2d/\u51b7\u4e0d\u547d\u4e2d\uff1a\u7b2ck\u5c42\u7684\u7f13\u5b58\u662f\u7a7a\u7684 <p>\u8fd9\u79cd\u60c5\u51b5\u901a\u5e38\u90fd\u662f\u521d\u671f\u7684\u77ed\u6682\u6027\u4e8b\u4ef6\uff0c\u4e0d\u4f1a\u5728\u7a0b\u5e8fwarmed up\u540e\u7684\u7a33\u5b9a\u72b6\u6001\u4e2d\u53d1\u751f</p> </li> <li>\u51b2\u7a81\u4e0d\u547d\u4e2d\uff1a\u5bf9\u8c61\u59cb\u7ec8\u6620\u5c04\u5230\u540c\u4e00\u4e2a\u7f13\u5b58\u5757\uff0c\u4f1a\u5bfc\u81f4\u7f13\u5b58\u4e00\u76f4\u672a\u547d\u4e2d <p>\u4e0a\u8ff0\u201c\u653e\u7f6e\u7b56\u7565\u201d\u5b9e\u8d28\u4e0a\u662f\u9650\u5236\u6027\u7b56\u7565\uff0c\u867d\u7136\u7f13\u5b58\u8db3\u591f\u5927\uff0c\u80fd\u4fdd\u5b58\u88ab\u5f15\u7528\u7684\u6570\u636e\u5bf9\u8c61\uff1b\u4f46\u662f\u56e0\u4e3a\u8fd9\u4e9b\u5bf9\u8c61\u59cb\u7ec8\u6620\u5c04\u5230\u540c\u4e00\u4e2a\u7f13\u5b58\u5757\uff0c\u4f1a\u5bfc\u81f4\u7f13\u5b58\u4e00\u76f4\u672a\u547d\u4e2d\uff08\u6bd4\u5982\u7b56\u7565\u662flayer(k+1)-&gt;layer(k): i mod4\uff09</p> </li> <li>\u5bb9\u91cf\u4e0d\u547d\u4e2d\uff1a\u5de5\u4f5c\u96c6\u7684\u5927\u5c0f\u8d85\u8fc7\u7f13\u5b58\u7684\u5927\u5c0f\u65f6\uff0c\u7f13\u5b58\u88c5\u4e0d\u4e0b</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#5","title":"5\uff09\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_4","title":"\uff081\uff09\u5f15\u5165\uff1a","text":"<ul> <li>\u968f\u7740CPU\u4e0e\u4e3b\u5b58\u9010\u6e10\u589e\u5927\u7684\u5dee\u8ddd\uff0c\u7cfb\u7edf\u8bbe\u8ba1\u8005\u88ab\u8feb\u5728CPU\u5bc4\u5b58\u5668\u6587\u4ef6\u4e0e\u4e3b\u5b58\u4e4b\u95f4\u63d2\u5165\u4e00\u4e2a\u5c0f\u7684SRAM\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668 \u79f0\u4e3a L1\u9ad8\u901f\u7f13\u5b58\uff08\u4e00\u7ea7\u7f13\u5b58\uff09\uff0cL1\u9ad8\u901f\u7f13\u5b58\u7684\u8bbf\u95ee\u901f\u5ea6\u51e0\u4e4e\u548c\u5bc4\u5b58\u5668\u4e00\u6837\u5feb</li> <li>\u7531\u4e8e\u8bbe\u8ba1\u9700\u8981\uff0c\u8bbe\u8ba1\u8005\u53c8\u5728L1\u4e0e\u4e3b\u5b58\u4e4b\u95f4\u63d2\u5165\u4e86\u4e00\u4e2a\u66f4\u5927\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u79f0\u4f5c\uff1aL2\u9ad8\u901f\u7f13\u5b58</li> <li>\u90e8\u5206\u73b0\u5728\u7cfb\u7edf\u4e2d\uff0cL2\u4e0e\u4e3b\u5b58\u4e4b\u95f4\u63d2\u5165\u4e86\u4e00\u4e2a\u66f4\u5927\u7684\u9ad8\u901f\u7f13\u5b58\uff0c\u79f0\u4f5c\uff1aL3\u9ad8\u901f\u7f13\u5b58</li> <li>\u540e\u7eed\u7684\u4ecb\u7ecd\u4e2d\uff0c\u6211\u4eec\u5047\u8bbeCPU\u4e0e\u4e3b\u5b58\u4e4b\u95f4\u53ea\u6709L1\u9ad8\u901f\u7f13\u5b58</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_5","title":"\uff082\uff09\u901a\u7528\u9ad8\u901f\u7f13\u5b58\u5b58\u50a8\u5668\u7ec4\u7ec7\u7ed3\u6784\uff1a","text":"<p>![[Pasted image 20231119100525.png]] - \u6bcf\u4e2a\u5b58\u50a8\u5668\u5730\u5740\u6709m\u4f4d\uff0c\u5f62\u6210M = \\(2^m\\) \u4e2a\u4e0d\u540c\u7684\u5730\u5740 - \u8fd9\u4e2a\u673a\u5668\u7684\u9ad8\u901f\u7f13\u5b58\u88ab\u7ec4\u7ec7\u6210S = \\(2^s\\) \u4e2a\u9ad8\u901f\u7f13\u5b58\u7ec4(cache set)\u7684\u6570\u7ec4 - \u6bcf\u4e2a\u7ec4\u5305\u542bE\u4e2a\u9ad8\u901f\u7f13\u5b58\u884c(cache line) - \u6bcf\u4e2a\u884c\u662f\u7531\u4e00\u4e2aB = \\(2^b\\) \u5b57\u8282\u7684\u6570\u636e\u5757(block)\u7ec4\u6210\u7684 - \u4e00\u4e2a\u6709\u6548\u4f4d(valid bit)\uff1a\u6307\u660e\u8fd9\u4e2a\u884c\u662f\u5426\u5305\u542b\u6709\u610f\u4e49\u7684\u4fe1\u606f - t = m - (b+s) \u4e2a\u6807\u8bb0\u4f4d(\u5b83\u662f\u5f53\u524dblock\u7684\u5185\u5b58\u5730\u5740\u7684\u4f4d\u7684\u4e00\u4e2a\u5b50\u96c6)\uff0c\u5b83\u4eec\u552f\u4e00\u5730\u6807\u8bc6\u5b58\u50a8\u5728\u8fd9\u4e2a\u9ad8\u901f\u7f13\u5b58\u884c\u4e2d\u7684\u5757</p> <ol> <li>\u4e00\u822c\u800c\u8a00\uff1a\u9ad8\u901f\u7f13\u5b58\u7684\u7ed3\u6784\u53ef\u4ee5\u7528\u5143\u7ec4(S,E,B,m)\u8868\u793a</li> <li>\u9ad8\u901f\u7f13\u5b58\u7684\u5927\u5c0f(or \u5bb9\u91cf)\uff1a\u6240\u6709\u5757\u7684\u5927\u5c0f\u4e4b\u548c(\u4e0d\u5305\u542b\u6807\u8bb0\u4f4d\u4e0e\u6709\u6548\u4f4d)\uff0cC = S x E x B</li> <li>\u64cd\u4f5c\u6b65\u9aa4\uff1a <p>\u5f53\u4e00\u6761\u52a0\u8f7d\u6307\u4ee4\u6307\u793aCPU\u4ece\u4e3b\u5b58\u5730\u5740A\u4e2d\u8bfb\u53d6\u4e00\u4e2a\u5b57\u65f6\uff0c\u5b83\u628a\u5730\u5740A\u53d1\u9001\u7ed9\u9ad8\u901f\u7f13\u5b58\uff0c\u5982\u679c\u9ad8\u901f\u7f13\u5b58\u6b63\u4fdd\u5b58\u7740\u5730\u5740A\u5904\u90a3\u4e2a\u5b57\u7684\u526f\u672c\uff0c\u5b83\u5c31\u7acb\u9a6c\u5c06\u90a3\u4e2a\u5b57\u53d1\u56deCPU</p> </li> </ol> <p>\u9ad8\u901f\u7f13\u5b58\u5982\u4f55\u77e5\u9053\u5b83\u662f\u5426\u5305\u542baddr.A\u5305\u542b\u7684\u90a3\u4e2a\u5b57\u7684\u526f\u672c\uff1f\u2014\u2014\u4f7f\u7528\u7b80\u5355\u7684\u54c8\u5e0c\u8868 1\uff09A\u4e2ds\u4e2a\u7ec4\u7d22\u5f15\u4f4d(set index)\u662f\u4e00\u4e2a\u5230S\u4e2a\u7ec4\u7684\u6570\u7ec4\u7684\u7d22\u5f15\uff0c\u5b83\u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u5b57\u5fc5\u987b\u88ab\u5b58\u50a8\u5728\u54ea\u4e2a\u7ec4\u4e2d 2\uff09\u5f53\u6211\u4eec\u77e5\u9053\u8fd9\u4e2a\u5b57\u5fc5\u987b\u653e\u5728\u54ea\u4e2a\u7ec4\u4e2d\uff0cA\u4e2d\u7684t\u4e2a\u6807\u8bb0\u4f4d\u5c31\u544a\u8bc9\u6211\u4eec\u8fd9\u4e2a\u7ec4\u7684\u54ea\u4e00\u884c\u5305\u542b\u8fd9\u4e2a\u5b57(\u5982\u6709\u7684\u8bdd) \uff0ciff\uff1a\u8bbe\u7f6e\u4e86\u6709\u6548\u4f4d &amp; \u8be5\u884c\u7684\u6807\u8bb0\u4f4d\u4e0eaddr.A\u4e2d\u7684\u6807\u8bb0\u4f4d\u76f8\u5339\u914d 3\uff09\u5f53\u6211\u4eec\u77e5\u9053\u8fd9\u4e2a\u5b57\u6240\u5904\u7684\u884c\u540e\uff0c\u7531\u4e8eb\u4e2a\u504f\u79fb\u4f4d\u7ed9\u51fa\u4e86\u5728B\u4e2a\u5b57\u8282\u7684\u6570\u636e\u5757\u4e2d\u7684\u5b57\u504f\u79fb\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u8f7b\u677e\u5b9a\u4f4d\u5230\u201c\u76ee\u6807\u5730\u70b9\u201d\u4e86</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3_3","title":"\uff083\uff09\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_5","title":"[1] \u5f15\u5165\uff1a","text":"<ol> <li>\u6839\u636e\u6bcf\u4e2a\u7ec4\u7684\u9ad8\u901f\u7f13\u5b58\u884c\u6570E\uff0c\u9ad8\u901f\u7f13\u5b58\u88ab\u5206\u4e3a\u4e0d\u540c\u7684\u7c7b\u3002E=1\u7684\u9ad8\u901f\u7f13\u5b58\u88ab\u79f0\u4e3a\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58(direct-mapped cache)</li> <li>\u8fc7\u7a0b\uff1a\u5f53CPU\u6267\u884c\u4e00\u6761\u8bfb\u5185\u5b58\u5b57w\u7684\u6307\u4ee4\uff0c\u5b83\u5411L1\u8bf7\u6c42\u8fd9\u4e2a\u5b57\uff1bL1\u5982\u6709\u6b64\u526f\u672c\uff0c\u5c31\u662f\u7f13\u5b58\u547d\u4e2d\uff0c\u9ad8\u901f\u7f13\u5b58\u56de\u5f88\u5feb\u62bd\u53d6\u51faw\uff0c\u5e76\u5c06\u5b83\u8fd4\u56de\u7ed9CPU\uff1b\u5426\u5219\u5c31\u662f\u7f13\u5b58\u4e0d\u547d\u4e2d\uff0c\u6b64\u65f6L1\u5411\u4e3b\u5b58\u8bf7\u6c42\u5305\u542bw\u7684\u5757\u7684\u4e00\u4e2a\u526f\u672c\uff0cCPUwaiting\u3002\u5f53\u88ab\u8bf7\u6c42\u7684\u5757\u6700\u7ec8\u4ece\u5185\u5b58\u5230\u8fbe\u65f6\uff0cL1\u5c06\u8fd9\u4e2a\u5757\u5b58\u653e\u5728\u5b83\u7684\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58\u884c\u4e2d\uff0c\u4ece\u88ab\u5b58\u50a8\u7684\u5757\u4e2d\u62bd\u53d6\u51fa\u5b57w\uff0c\u7136\u540e\u5c06\u5b83\u8fd4\u56de\u7ed9CPU</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_6","title":"[2] \u5177\u4f53\u8fc7\u7a0b\uff1a","text":"<p>![[Pasted image 20231119105532.png]]</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_6","title":"1. \u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u7ec4\u9009\u62e9","text":"<ul> <li>\u9ad8\u901f\u7f13\u5b58\u4ecew\u7684\u5730\u5740\u4e2d\u95f4\u53d6\u51fas\u4e2a\u7ec4\u7d22\u5f15\u4f4d</li> <li>\u7ec4\u7d22\u5f15\u4f4d\u8f6c\u6362\u6210\u7684\u5341\u8fdb\u5236\u6570\u5b57\u5c31\u662f\u5bf9\u5e94\u6570\u7ec4\u4e0b\u6807\u7684\u7d22\u5f15 <p>\u4f8b\u5982: \u4e0a\u8ff0 addr.13\uff0c\u5bf9\u5e94\u7684s=2(\u5b83\u5bf9\u5e94\u7684\u5341\u8fdb\u5236\u6570\u5b57\u8303\u56f40\uff5e3\uff09,\u8fd9\u91cc\u5b83\u7684index bit = (10)\\(_2\\)\uff0c\uff0c\u8fd8\u539f\u6210\u5341\u8fdb\u5236\u6570\u662f2\uff0c\u5373\uff1a\u5bf9\u5e94\u7ec42 \u5373\uff1a\u88ab\u89e3\u91ca\u4e3a\u9009\u62e9\u7ec42\u7684\u6574\u6570\u7d22\u5f15</p> </li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_7","title":"2. \u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u884c\u5339\u914d","text":"<ul> <li>\u5728\u4e0a\u4e00\u6b65\u4e2d\u6211\u4eec\u5df2\u7ecf\u9009\u62e9\u5b8c\u6bd5\u201c\u8be5\u53bb\u54ea\u4e2a\u7ec4\u201d\uff0c\u63a5\u4e0b\u6765\u7684\u4e00\u6b65\u5c31\u662f\u786e\u5b9a\u662f\u5426\u6709\u5b57w\u7684\u4e00\u4e2a\u526f\u672c\u5b58\u50a8\u5728\u7ec4i\u7684\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58\u884c\u5185\u4e86</li> <li>\u8fd9\u5bf9\u4e8e\u201c\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u201d\u662f\u4e2agood news\uff0c\u56e0\u4e3a\u5b83\u6bcf\u7ec4\u53ea\u6709\u4e00\u884c</li> <li>\u8fd9\u4e2a\u884c\u7684\u6709\u6548\u4f4d\u8bbe\u7f6e\u4e86\uff0c\u5219\u8bf4\u660e\u6b64\u884c\u7684\u6807\u8bb0\u548c\u5757\u4e2d\u7684\u4f4d\u662f\u6709\u610f\u4e49\u7684</li> <li>\u6b64\u884c\u7684\u6807\u8bb0\u4f4d\u548c\u5730\u5740\u4e2d\u7684\u6807\u8bb0\u4f4d\u76f8\u5339\u914d\uff0c\u5219\u8bf4\u660e\u6211\u4eec\u8981\u7684w\u7684\u526f\u672c\u786e\u5b9e\u5728\u8fd9\u4e00\u884c\u4e2d ![[Pasted image 20231119110532.png]]</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#3_4","title":"3. \u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u5b57\u9009\u62e9","text":"<ul> <li>\u73b0\u5728\u6211\u4eec\u5df2\u7ecf\u77e5\u9053w\u5728\u8fd9\u4e2a\u5757\u7684\u5177\u4f53\u4f4d\u7f6e\u4e86\uff0c\u73b0\u5728\u9700\u8981\u786e\u5b9a\u5b57w\u5728\u5757\u4e2d\u662f\u4ece\u54ea\u91cc\u5f00\u59cb\u7684</li> <li>\u5757\u504f\u79fb\u4f4d\u63d0\u4f9b\u4e86\u6240\u9700\u8981\u7684\u5b57\u7684\u7b2c\u4e00\u4e2a\u5b57\u8282\u7684\u504f\u79fb <p>\u4f8b\u5982\u4e0a\u56fe\u4e2d\u7684Block offset\u662f\\((100)_2\\) \u5b83\u8868\u660ew\u7684\u526f\u672c\u662f\u4ece\u5757\u4e2d\u7684\u5b57\u82824\u5f00\u59cb\u7684</p> </li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#4_2","title":"4. \u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u4e2d\u4e0d\u547d\u4e2d\u65f6\u7684\u884c\u66ff\u6362","text":"<ul> <li>\u5982\u679ccache\u4e0d\u547d\u4e2d\uff0c\u90a3\u4e48\u9700\u8981\u4ece\u5b58\u50a8\u5668\u5c42\u6b21\u7ed3\u6784\u7684\u4e0b\u4e00\u5c42\u4e2d\u53d6\u51fa\u88ab\u8bf7\u6c42\u7684\u5757\uff0c\u7136\u540e\u5c06\u65b0\u7684\u5757\u5b58\u50a8\u5728\u7ec4\u7d22\u5f15\u4f4d\u6307\u793a\u7684\u7ec4\u4e2d\u7684\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58\u884c\u4e2d</li> <li>\u5bf9\u4e8e\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u6765\u8bf4\uff0c\u6bcf\u4e2a\u7ec4\u53ea\u5305\u542b\u6709\u4e00\u884c\uff0c\u90a3\u4e48\u201c\u66ff\u6362\u7b56\u7565\u201d\u5f88\u7b80\u5355\uff1a\u7528\u65b0\u53d6\u51fa\u7684\u884c\u4ee3\u66ff\u5f53\u524d\u884c</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#5_1","title":"5. \u5177\u4f53\u793a\u4f8b\uff1a","text":"<p>![[Pasted image 20231119105532.png]] - \u6807\u8bb0\u4f4d\u548c\u7d22\u5f15\u4f4d\u8fde\u8d77\u6765\u552f\u4e00\u5730\u6807\u8bc6\u4e86\u5185\u5b58\u4e2d\u7684\u6bcf\u4e2a\u5757</p> <p>\u57570\u662f\u7531\u5730\u57400\u548c1\u7ec4\u6210\u7684\uff1b\u57572\u662f\u7531\u5730\u57404\u548c5\u7ec4\u6210\u7684 - \u6620\u5c04\u5230\u540c\u4e00\u4e2a\u9ad8\u901f\u7f13\u5b58\u7ec4\u7684\u5757\u7531\u6807\u8bb0\u4f4d\u552f\u4e00\u5730\u6807\u8bc6 \u57570\u548c\u57574\u90fd\u662f0mod4\uff0c\u56de\u6eaf\u5c04\u5230\u7684\u662f\u540c\u4e00\u4e2a\u8868\u793a\u5757\uff0c\u4f46\u662f\u57570\u7684\u6807\u8bb0\u4f4d\u662f0\uff0c\u57574\u7684\u6807\u8bb0\u4f4d\u662f1\uff0c\u5f62\u6210\u533a\u5206\uff01 - \u5b58\u5728\u201c\u51b2\u7a81\u4e0d\u547d\u4e2d\u201d\u7684\u95ee\u9898</p> <p>\u30101\u3011\u521d\u59cb\u65f6\uff0c\u9ad8\u901f\u7f13\u5b58\u662fempty\u7684\uff0c\u6bcf\u4e2a\u6709\u6548\u4f4d\u90fd\u662f0 ![[Pasted image 20231119112401.png]] \u30102\u3011\u8bfb\u53d6addr.0\u7684\u5b57\uff1a 1. \u67e5\u8868addr=0\uff1a\u5bf9\u5e94\u7684index=\\((00)_2\\)\uff0c\u5f97\u5230\u5341\u8fdb\u5236\u65700\uff0c\u8bf4\u660e\u5b83\u6620\u5c04\u5230\u201c\u5c0f\u6570\u7ec4\u201d\u4e0b\u6807index=0 2. \u201c\u5c0f\u6570\u7ec4\u201d\u7ec40\u7684\u6709\u6548\u4f4d\u73b0\u5728\u662f0\uff0c\u5f88\u663e\u7136\uff1a\u672c\u6b21\u7f13\u5b58\u4e0d\u547d\u4e2d 3. \u67e5\u8868addr=0:\u5bf9\u5e94\u7684==block_num = 0==\uff0c\u6545\uff1a\u9ad8\u901f\u7f13\u5b58\u4ece\u5185\u5b58(or lower1 layer)\u4e2d\u53d6\u51fa==\u57570==\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5757\u5b58\u50a8\u5728\u7ec40\u4e2d 4. \u968f\u540e\uff0c\u9ad8\u901f\u7f13\u5b58\u8fd4\u56de\u65b0\u53d6\u51fa\u7684\u9ad8\u901f\u7f13\u5b58\u884c\u7684\u5757[0]\u7684m[0]\uff08\u5185\u5b58\u4f4d\u7f6e0\u7684\u5185\u5bb9\uff09\uff0c\u5e76\u5c06\u6709\u6548\u4f4d\u6539\u4e3a1\uff01 ![[Pasted image 20231119113856.png]] \u30103\u3011\u8bfb\u53d6addr.1\u7684\u5b57\uff1a 1. \u67e5\u8868addr=1\uff1a\u5bf9\u5e94\u7684index=\\((00)_2\\)\uff0c\u5f97\u5230\u5341\u8fdb\u5236\u65700\uff0c\u8bf4\u660e\u5b83\u6620\u5c04\u5230\u201c\u5c0f\u6570\u7ec4\u201d\u4e0b\u6807index=0 2. \u6b64\u65f6\u7ec40\u7684\u6709\u6548\u4f4d\u5df2\u7ecf\u662f1\uff1b\u73b0\u8003\u5bdfTag\u662f\u5426\u5339\u914d 3. \u56e0\u4e3aaddr.1\u7684Tag=0\uff1b\u800c\u6b64\u65f6\u7ec40\u7684Tag=0\uff0c\u5339\u914d\uff01\u672c\u6b21\u9ad8\u901f\u7f13\u5b58\u547d\u4e2d\uff01 4. \u67e5\u8868addr=1\uff1a\u5bf9\u5e94\u7684==block_num = 0==\uff0c\u6545\u9ad8\u901f\u7f13\u5b58\u7acb\u523b\u4ece\u9ad8\u901f\u7f13\u5b58\u884c\u7684\u57571\u4e2d\u8fd4\u56dem[1] 5. \u9ad8\u901f\u7f13\u5b58\u7684\u72b6\u6001\u6ca1\u6709\u53d1\u751f\u53d8\u5316 \u30104\u3011\u8bfb\u53d6addr.13\u7684\u5b57\uff1a 1. \u67e5\u8868addr=13\uff1a\u5bf9\u5e94\u7684index=\\((10)_2\\)\uff0c\u5f97\u5230\u5341\u8fdb\u5236\u65702\uff0c\u8bf4\u660e\u5b83\u6620\u5c04\u5230\u201c\u5c0f\u6570\u7ec4\u201d\u4e0b\u6807index=2 2. \u201c\u5c0f\u6570\u7ec4\u201d\u7ec42\u7684\u6709\u6548\u4f4d\u73b0\u5728\u662f0\uff0c\u5f88\u663e\u7136\uff1a\u672c\u6b21\u7f13\u5b58\u4e0d\u547d\u4e2d 3. \u67e5\u8868addr=13\uff1a\u5bf9\u5e94\u7684==block_num = 6==\uff0c\u6545\u9ad8\u901f\u7f13\u5b58\u4ece\u5185\u5b58(or lower1 layer)\u4e2d\u53d6\u51fa==\u57576==\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5757\u5b58\u50a8\u5728\u7ec42\u4e2d 4. \u968f\u540e\uff0c\u9ad8\u901f\u7f13\u5b58\u8fd4\u56de\u65b0\u53d6\u51fa\u7684\u9ad8\u901f\u7f13\u5b58\u884c\u7684\u5757[1]\u7684m[13]\uff08\u5185\u5b58\u4f4d\u7f6e13\u7684\u5185\u5bb9\uff09\uff0c\u5e76\u5c06\u6709\u6548\u4f4d\u6539\u4e3a1\uff01 ![[Pasted image 20231119113920.png]] \u30105\u3011\u8bfb\u53d6addr.8\u7684\u5b57\uff1a 1. \u67e5\u8868addr=8\uff1a\u5bf9\u5e94\u7684index=\\((00)_2\\)\uff0c\u5f97\u5230\u5341\u8fdb\u5236\u65700\uff0c\u8bf4\u660e\u5b83\u6620\u5c04\u5230\u201c\u5c0f\u6570\u7ec4\u201d\u4e0b\u6807index=0 2. \u867d\u7136\u770b\u4f3c\u547d\u4e2d\uff0c\u4f46\u662f\u5b9e\u9645\u4e0a\u5e76\u6ca1\u6709\uff01 3. \u56e0\u4e3aaddr.8\u7684Tag=1\uff1b\u800c\u6b64\u65f6\u7ec40\u7684Tag=0\uff0c\u5e76\u4e0d\u5339\u914d\uff01 4. \u67e5\u8868addr=8\uff1a\u5bf9\u5e94\u7684==block_num = 4==\uff0c\u6545\u9ad8\u901f\u7f13\u5b58\u4ece\u5185\u5b58(or lower1 layer)\u4e2d\u53d6\u51fa==\u57574==\uff0c\u5e76\u5c06\u8fd9\u4e2a\u5757\u5b58\u50a8\u5728\u7ec40\u4e2d 5. \u7136\u540e\u4ece\u65b0\u7684\u9ad8\u901f\u7f13\u5b58\u884c\u7684\u5757[0]\u4e2d\u8fd4\u56dem[8] ![[Pasted image 20231119114525.png]] - \u8003\u5bdf\u6b65\u9aa4\uff1a 1. \u67e5\u8868\uff1a\u5f97\u5230\u5143\u7d20\u5bf9\u5e94\u7684\u7ec4index 2. \u5982\u679cvalid bit \u662f0 \uff0c\u76f4\u63a5\u672a\u547d\u4e2d\uff0c\u9ad8\u901f\u7f13\u5b58\u4ece\u5185\u5b58\u4e2d\u53d6\u51fa... 3. \u5982\u679cvalid bit \u662f1\uff0c\u73b0\u5728\u8003\u5bdfTag\u662f\u5426\u5339\u914d\uff1a 4. \u5982\u679cTag\u5339\u914d\uff0c\u8bf4\u660e\u672c\u6b21\u9ad8\u901f\u7f13\u5b58\u547d\u4e2d\uff01\u7acb\u523b\u4ece\u9ad8\u901f\u7f13\u5b58\u884c\u7684\u57571\u4e2d\u76f4\u63a5\u8fd4\u56de... 5. \u5982\u679cTag\u4e0d\u5339\u914d\uff0c\u8bf4\u660e\u672c\u6b21\u9ad8\u901f\u7f13\u5b58\u672a\u547d\u4e2d\uff01\u9ad8\u901f\u7f13\u5b58\u4ece\u5185\u5b58\u4e2d\u53d6\u51fa...</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#4_3","title":"\uff084\uff09\u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58","text":"<ul> <li>\u5f88\u663e\u7136\u4e0a\u8ff0\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u51b2\u7a81\u4e0d\u547d\u4e2d\u7684\u539f\u56e0\u662f\uff1a\u6bcf\u4e2a\u7ec4\u53ea\u6709\u4e00\u884c(E=1)</li> <li>\u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58(set associative cache)\u653e\u677e\u4e86\u6b64\u9650\u5236</li> <li>\u4e00\u4e2a1&lt;E&lt;(C/B)\u7684\u9ad8\u901f\u7f13\u5b58\u5e38\u79f0\u4e3a\uff1aE\u8def\u76f8\u8054\u9ad8\u901f\u7f13\u5b58</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#1_7","title":"1. \u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58\uff1a","text":"<p>\u5b83\u7684\u7ec4\u9009\u62e9\u8ddf\u201c\u76f4\u63a5\u201d\u7684\u4e00\u6837\uff0c\u7528\u7ec4\u7d22\u5f15\u4f4d\u6807\u8bc6\u7ec4</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#2_8","title":"2. \u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u884c\u5339\u914d\u4e0e\u5b57\u9009\u62e9\uff1a","text":"<p>\uff081\uff09\u5b83\u5fc5\u987b\u68c0\u67e5\u4e00\u4e2a\u7ec4\u5185\u7684\u591a\u4e2a\u884c\u7684\u6807\u8bb0\u4f4d\u4e0e\u6709\u6548\u4f4d\uff1b \uff082\uff09\u76f8\u8054\u5b58\u50a8\u5668\u662f\u4e00\u4e2a(key , value)\u952e\u503c\u5bf9\u6570\u7ec4\uff0c\u8f93\u5165key\uff0c\u5c31\u4f1a\u8fd4\u56devalue \uff083\uff09\u53ef\u4ee5\u628a\u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u6bcf\u4e2a\u7ec4\u90fd\u89c6\u4f5c\u4e00\u4e2a\u5c0f\u7684\u76f8\u8054\u5b58\u50a8\u5668\uff0ckey\u662f\u6807\u8bb0\u548c\u6709\u6548\u4f4d\uff0cvalue\u5c31\u662f\u5757\u7684\u5185\u5bb9</p> <p>![[Pasted image 20231119123915.png]] - key\uff1a\u7ec4\u4e2d\u7684\u4efb\u4f55\u4e00\u884c\u90fd\u53ef\u4ee5\u5305\u542b\u4efb\u4f55\u6620\u5c04\u5230\u8fd9\u4e2a\u7ec4\u7684\u5185\u5b58\u5757\uff0c\u6240\u4ee5\u9ad8\u901f\u7f13\u5b58\u5fc5\u987b\u4ed4\u7ec6\u641c\u67e5\u7ec4\u4e2d\u7684\u6bcf\u4e00\u884c - \u5bfb\u627e\u4e00\u4e2a\u6709\u6548\u7684\u884c\uff0c\u5176\u6807\u8bb0\u4e0e\u5730\u5740\u4e2d\u7684\u6807\u8bb0\u76f8\u5339\u914d\uff01 - \u5982\u679c\u627e\u5230\uff0c\u90a3\u4e48\u5c31called\u547d\u4e2d\uff0c\u968f\u540e\u5757\u504f\u79fb\u4ece\u8fd9\u4e2a\u5757\u4e2d\u9009\u62e9\u4e00\u4e2a\u5b57\uff0c\u8ddf\u4e4b\u524d\u4e00\u6837  ![[Pasted image 20231119124232.png]]  ##### 3. \u7ec4\u76f8\u8054\u9ad8\u901f\u7f13\u5b58\u4e2d\u4e0d\u547d\u4e2d\u65f6\u7684\u884c\u66ff\u6362\uff1a  - \u5f53CPU\u8bf7\u6c42\u7684\u5b57\u4e0d\u5728\u7ec4\u7684\u4efb\u4f55\u4e00\u884c\u4e2d\uff0c\u90a3\u4e48\u5c31\u662f\u7f13\u5b58\u4e0d\u547d\u4e2d\uff0c\u9ad8\u901f\u7f13\u5b58\u5fc5\u987b\u4ece\u5185\u5b58\u4e2d\u53d6\u51fa\u5305\u542b\u8fd9\u4e2a\u5b57\u7684\u5757  - \u4e00\u65e6\u53d6\u51fa\uff0c\u5c31\u8981\u8003\u8651\u8be5\u66ff\u6362\u54ea\u4e2a\u884c\uff01  1. \u5982\u679c\u6709\u4e00\u4e2a\u7a7a\u884c\uff0c\u90a3\u5b83\u5c31\u662fbest choice  2. \u5982\u679c\u6ca1\u6709\uff0c\u90a3\u4e48\u6211\u4eec\u5fc5\u987b\u4ece\u4e2d\u9009\u62e9\u4e00\u4e2a\u975e\u7a7a\u884c\uff0c\u5e0c\u671bCPU\u4e0d\u4f1a\u5f88\u5feb\u5f15\u7528\u8fd9\u4e2a\u88ab\u66ff\u6362\u7684\u884c(victim rank)  3. \u4e0a\u8ff0\u7684\u9009\u62e9\u7b56\u7565\uff1a</p> <p>[1] LFU: \u6700\u4e0d\u5e38\u4f7f\u7528\uff0cLeast-Frequently-Used \uff08\u8fc7\u53bb\u67d0\u4e2a\u65f6\u95f4\u7a97\u53e3\u5185\u5f15\u7528\u6b21\u6570\u6700\u5c11\u7684\u90a3\u4e00\u884c\uff09 [2] LRU: \u6700\u8fd1\u6700\u5c11\u4f7f\u7528, Least-Recently-Used\uff08\u6700\u540e\u4e00\u6b21\u8bbf\u95ee\u65f6\u95f4\u6700\u4e45\u8fdc\u7684\u90a3\u4e00\u884c\uff09</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#5_2","title":"\uff085\uff09\u5168\u76f8\u8054\u9ad8\u901f\u7f13\u5b58","text":"<p>E=C/B\uff1a\u5373\u5728\u5168\u76f8\u8054\u9ad8\u901f\u7f13\u5b58\u4e2d\uff0c\u4e00\u4e2a\u7ec4\u5305\u542b\u6240\u6709\u7684\u884c</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#6_1","title":"\uff086\uff09\u6709\u5173\u5199\u7684\u95ee\u9898","text":"<p>\u592a\u96be\uff0c\u6b64\u5904\u8df3\u8fc7</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/#7","title":"\uff087\uff09\u5c0f\u7ed3\uff1a\u533a\u5206\u5757/\u9ad8\u901f\u7f13\u5b58\u884c/\u7ec4","text":"<ul> <li>\u5757\uff1a\u662f\u4e00\u4e2a\u56fa\u5b9a\u5927\u5c0f\u7684\u4fe1\u606f\u5305\uff0c\u5728\u9ad8\u901f\u7f13\u5b58\u548c\u4e3b\u5b58(or layer_next)\u4e4b\u95f4\u6765\u56de\u4f20\u9001</li> <li>\u884c\uff1a\u662f\u9ad8\u901f\u7f13\u5b58\u4e2d\u7684\u4e00\u4e2a\u5bb9\u5668\u3002\u5b58\u50a8\u5757\u548c\u5176\u4ed6\u4fe1\u606f(eg: \u6709\u6548\u4f4d/\u6807\u8bb0\u4f4d)</li> <li>\u7ec4\uff1a\u662f\u4e00\u4e2aor\u591a\u4e2a\u884c\u7684\u96c6\u5408\uff0c\u5f88\u663e\u7136\u201c\u76f4\u63a5\u6620\u5c04\u9ad8\u901f\u7f13\u5b58\u201d\u7684\u7ec4\u8ddf\u884c\u7b49\u4ef7\uff0c\u5176\u4ed6\u7684\u9ad8\u901f\u7f13\u5b58\u662f\uff1a\u4e00\u201c\u7ec4\u201d\u5305\u542b\u5f88\u591a\u201c\u884c\u201d</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/","title":"Chapter7 \u94fe\u63a5","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#1","title":"1\uff09\u5f15\u5165","text":"<ul> <li>\u94fe\u63a5(linking)\u662f\u5c06\u5404\u79cd\u4ee3\u7801\u548c\u6570\u636e\u7247\u6bb5\u6536\u96c6\u5e76\u7ec4\u5408\u6210\u4e3a\u4e00\u4e2a\u5355\u4e00\u6587\u4ef6\u7684\u8fc7\u7a0b\uff0c\u8fd9\u4e2a\u6587\u4ef6\u53ef\u4ee5\u88ab\u52a0\u8f7d(\u590d\u5236)\u5230\u5185\u5b58\u4e2d\u5e76\u6267\u884c</li> <li>\u94fe\u63a5\u53ef\u4ee5\u53d1\u751f\u4e8e\u7f16\u8bd1\u65f6(compile time)\uff0c\u5373\uff1a\u6e90\u4ee3\u7801\u88ab\u7ffb\u8bd1\u6210\u673a\u5668\u4ee3\u7801\u65f6</li> <li>\u94fe\u63a5\u4e5f\u53ef\u4ee5\u53d1\u751f\u4e8e\u52a0\u8f7d\u65f6(load time)\uff0c\u5373\uff1a\u7a0b\u5e8f\u88ab\u52a0\u8f7d\u5668(loader)\u52a0\u8f7d\u5230\u5185\u5b58\u5e76\u6267\u884c\u65f6</li> <li>\u94fe\u63a5\u751a\u81f3\u53ef\u4ee5\u53d1\u751f\u4e8e\u8fd0\u884c(run time)\uff0c\u5373\uff1a\u7531\u5e94\u7528\u7a0b\u5e8f\u6765\u6267\u884c</li> <li>\u5728\u73b0\u5728\u7cfb\u7edf\u4e2d\uff0c\u94fe\u63a5\u662f\u7531\u94fe\u63a5\u5668(linker)\u7684\u7a0b\u5e8f\u81ea\u52a8\u6267\u884c\u7684</li> <li>\u94fe\u63a5\u5668\u5728\u8f6f\u4ef6\u5f00\u53d1\u4e2d\u81f3\u5173\u91cd\u8981\uff0c\u56e0\u4e3a\u5b83\u4eec\u4f7f\u5f97\u201c\u5206\u79bb\u7f16\u8bd1\u201d(separate compilation)\u6210\u4e3a\u53ef\u80fd</li> <li>\u5982\u6b64\u53ef\u4ee5\u5c06\u5927\u7684\u7a0b\u5e8f\u5206\u89e3\u4e3a\u66f4\u5c0f/\u66f4\u6613\u7ba1\u7406\u7684\u6a21\u5757\uff0c\u7136\u540e\u72ec\u7acb\u5730\u4fee\u6539\u548c\u7f16\u8bd1\u8fd9\u4e9b\u6a21\u5757</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#2compiler-driver","title":"2\uff09\u7f16\u8bd1\u5668\u9a71\u52a8\u7a0b\u5e8f\uff08compiler driver\uff09","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_1","title":"\u4e3e\u4e2a\u4f8b\u5b50\u6765\u8bf4\u660e\uff1a","text":"<p>  \u5b8f\u89c2\uff1a\u5728shell\u4e2d\u952e\u5165\u5373\u53ef <pre><code>gcc -Og -o prog main.c sum.c\n</code></pre> \u5fae\u89c2\uff1a 1. \u5c06C\u7684\u6e90\u7a0b\u5e8fmain.c\u7ffb\u8bd1\u6210\u4e00\u4e2aASCII\u7801\u7684\u4e2d\u95f4\u6587\u4ef6main.i <pre><code>cpp [other-arg] main.c /tmp/main.i\n</code></pre> 2. \u9a71\u52a8\u7a0b\u5e8f\u8fd0\u884cC compiler(cc1)\uff0c\u5b83\u5c06main.i\u7ffb\u8bd1\u6210\u4e00\u4e2aASCII\u6c47\u7f16\u8bed\u8a00\u6587\u4ef6main.s <pre><code>cc1 /tmp/main.i -Og [other-arg] -o /tmp/main.s\n</code></pre> 3. \u9a71\u52a8\u7a0b\u5e8f\u8fd0\u884c\u6c47\u7f16\u5668(as)\uff0c\u5b83\u5c06main.s\u7ffb\u8bd1\u6210\u4e00\u4e2a\u201c\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u201d(relocatable object file) main.o <pre><code>as [other-arg] -o /tmp/main.o /tmp/main.s\n</code></pre> 4. \u9a71\u52a8\u7a0b\u5e8f\u7ecf\u8fc7\u76f8\u540c\u7684\u8fc7\u7a0b\u751f\u6210\u4e00\u4e2a\u201c\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u201c sum.o 5. \u9a71\u52a8\u7a0b\u5e8f\u8fd0\u884c\u94fe\u63a5\u5668\u7a0b\u5e8fld. \uff0c\u5c06main.o\u548csum.o\u4ee5\u53ca\u4e00\u4e9b\u5fc5\u8981\u7684\u7cfb\u7edf\u76ee\u6807\u6587\u4ef6\u7ec4\u5408\u8d77\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6(executable object file) prog <pre><code>ld -o prog [system object files and args] /tmp/main.o /tmp/sum.o\n</code></pre> 6. \u8981\u6267\u884c\u53ef\u6267\u884c\u6587\u4ef6prog\uff0c\u53ea\u9700\u8981\u76f4\u63a5\u952e\u5165\u5373\u53ef <pre><code>./prog\n</code></pre> 7. shell\u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u4e00\u4e2a\u53eb\u505a\u52a0\u8f7d\u5668(loader)\u7684\u51fd\u6570,\u5b83\u5c06\u53ef\u6267\u884c\u6587\u4ef6prog\u4e2d\u7684\u4ee3\u7801\u548c\u6570\u636e\u590d\u5236\u5230\u5185\u5b58\uff0c\u7136\u540e\u5c06\u63a7\u5236\u8f6c\u79fb\u5230\u8fd9\u4e2a\u7a0b\u5e8f\u7684\u5f00\u5934</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#3static-link","title":"3\uff09\u9759\u6001\u94fe\u63a5\uff08static link\uff09","text":"<ul> <li>\u50cf\u4e0a\u8ff0\u7684linuxLD. \u7a0b\u5e8f\u5c31\u53eb\u9759\u6001\u94fe\u63a5\u5668(static linker) </li> <li>\u5b83\u4ee5\u4e00\u7ec4\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u548c\u547d\u4ee4\u884c\u4f5c\u4e3a\u8f93\u5165\uff0c\u751f\u6210\u4e00\u4e2a\u5b8c\u5168\u94fe\u63a5\u7684\u3001\u53ef\u4ee5\u52a0\u8f7d\u548c\u8fd0\u884c\u7684\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\u4f5c\u4e3a\u8f93\u51fa</li> <li>\u8f93\u5165\u7684\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u7531\u5404\u79cd\u4e0d\u540c\u7684\u4ee3\u7801\u548c\u6570\u636e\u6784\u6210</li> <li>\u76ee\u6807\u6587\u4ef6\u7eaf\u7cb9\u662f\u5b57\u8282\u5757\u7684\u96c6\u5408\uff0c\u8fd9\u4e9bblock\u4e2d\u5305\u542b\u7a0b\u5e8f\u4ee3\u7801/\u7a0b\u5e8f\u6570\u636e/\u5f15\u5bfc\u94fe\u63a5\u5668\u548c\u52a0\u8f7d\u5668\u7684\u6570\u636e\u7ed3\u6784...</li> </ul> <p>\u94fe\u63a5\u5668\u901a\u5e38\u6709\u4e24\u4e2a\u4efb\u52a1\uff1a 1. \u7b26\u53f7\u89e3\u6790(symbol resolution)\uff1a</p> <p>\u76ee\u6807\u6587\u4ef6\u4e2d\u5b9a\u4e49\u548c\u5f15\u7528\u7b26\u53f7\uff0c\u6bcf\u4e2a\u7b26\u53f7\u5bf9\u5e94\u4e8e\u4e00\u4e2a\u51fd\u6570/\u53d8\u91cf\uff1b\u7b26\u53f7\u89e3\u6790\u7684\u76ee\u7684\u662f\u5c06\u6bcf\u4e2a\u7b26\u53f7\u5f15\u7528\u6b63\u597d\u548c\u4e00\u4e2a\u7b26\u53f7\u5b9a\u4e49\u5173\u8054\u8d77\u6765 2. \u91cd\u5b9a\u4f4d(relocation)\uff1a \u7f16\u8bd1\u5668\u548c\u6c47\u7f16\u5668\u751f\u6210\u4ece\u5730\u57400\u5f00\u59cb\u7684\u4ee3\u7801\u548c\u6570\u636e\u8282\uff0c\u94fe\u63a5\u5668\u901a\u8fc7\u628a\u6bcf\u4e2a\u7b26\u53f7\u5b9a\u4e49\u4e0e\u4e00\u4e2a\u5185\u5b58\u4f4d\u7f6e\u5173\u8054\u8d77\u6765\uff0c\u4ece\u800c\u91cd\u5b9a\u4f4d\u8fd9\u4e9b\u8282\uff0c\u7136\u540e\u4fee\u6539\u8fd9\u4e9b\u7b26\u53f7\u7684\u5f15\u7528\uff0c\u4f7f\u5f97\u5b83\u4eec\u6307\u5411\u8fd9\u4e2a\u5185\u5b58\u4f4d\u7f6e</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#4","title":"4\uff09\u76ee\u6807\u6587\u4ef6","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_2","title":"\u5f62\u5f0f","text":"<ol> <li> <p>\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6(relocatable object file)\uff1a\u7531\u7f16\u8bd1\u5668\u548c\u6c47\u7f16\u5668\u751f\u6210</p> <p>\u5305\u542b\u4e8c\u8fdb\u5236\u6570\u636e\u548c\u4ee3\u7801\u3002\u5176\u5f62\u5f0f\u53ef\u4ee5\u5728\u94fe\u63a5\u65f6\u4e0e\u5176\u4ed6\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u5408\u5e76\u8d77\u6765\uff0c\u521b\u5efa\u4e00\u4e2a\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6</p> </li> <li> <p>\u5171\u4eab\u76ee\u6807\u6587\u4ef6\uff1a\u7531\u7f16\u8bd1\u5668\u548c\u6c47\u7f16\u5668\u751f\u6210</p> <p>\u4e00\u79cd\u7279\u6b8a\u7c7b\u578b\u7684\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\uff0c\u5b83\u53ef\u4ee5\u5728\u52a0\u8f7d\u6216\u8fd0\u884c\u65f6\u88ab\u52a8\u6001\u52a0\u8f7d\u8fdb\u5185\u5b58\u5e76\u94fe\u63a5</p> </li> <li> <p>\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6\uff1a\u7531\u94fe\u63a5\u5668\u751f\u6210</p> <p>\u5305\u542b\u4e8c\u8fdb\u5236\u6570\u636e\u548c\u4ee3\u7801\u3002\u5176\u5f62\u5f0f\u53ef\u4ee5\u88ab\u76f4\u63a5\u590d\u5236\u8fdb\u5185\u5b58\u5e76\u6267\u884c</p> </li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#5","title":"5\uff09\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6","text":""},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_3","title":"\u5355\u4e2a\u89e3\u91ca\uff1a","text":"<ul> <li>ELF header \u63cf\u8ff0\u4e86\u751f\u6210\u8be5\u6587\u4ef6\u7684\u7cfb\u7edf\u7684\u5b57\u7684\u5927\u5c0f\u548c\u5b57\u8282\u987a\u5e8f</li> <li>./text \u5df2\u7f16\u8bd1\u7a0b\u5e8f\u7684\u673a\u5668\u4ee3\u7801</li> <li>./rodata \u53ea\u8bfb\u6570\u636e\uff0c\u6bd4\u5982printf\u8bed\u53e5\u4e2d\u683c\u5f0f\u4e32\u548cswitch\u8bed\u53e5\u7684\u8df3\u8f6c\u8868</li> <li>.data \u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u548c\u9759\u6001C\u53d8\u91cf\u3010==ps\uff1a\u5c40\u90e8\u53d8\u91cf\u5728\u8fd0\u884c\u65f6\u88ab\u4fdd\u5b58\u5728stack\u4e2d\uff0c\u4e0d\u5f52\u94fe\u63a5\u5668\u7ba1==\u3011</li> <li>.bss \u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u548c\u9759\u6001C\u53d8\u91cf \u4ee5\u53ca \u6240\u6709\u88ab\u521d\u59cb\u5316\u62100\u7684\u5168\u5c40\u548c\u9759\u6001\u53d8\u91cf \u3010\u8fd9\u4e2a\u8282\u4e0d\u5360\u636e\u5b9e\u9645\u7684\u7a7a\u95f4\uff0c\u5b83\u4ec5\u4ec5\u53ea\u662f\u4e00\u4e2a\u5360\u4f4d\u7b26\u3011</li> <li>\u4e0a\u8ff0\u53ef\u4ee5\u5f97\u77e5\uff1a\u30101\u3011\u5728\u76ee\u6807\u6587\u4ef6\u4e2d\uff0c\u672a\u521d\u59cb\u5316\u53d8\u91cf\u4e0d\u9700\u8981\u5360\u636e\u4efb\u4f55\u5b9e\u9645\u7684\u78c1\u76d8\u7a7a\u95f4\u3002\u8fd0\u884c\u65f6\uff0c\u518d\u5728\u5185\u5b58\u4e2d\u5206\u914d\u8fd9\u4e9b\u53d8\u91cf\uff0c\u5b83\u4eec\u7684\u521d\u59cb\u503c\u4e3a0\uff1b\u30102\u3011\u76ee\u6807\u683c\u5f0f\u533a\u5206\u5df2\u521d\u59cb\u5316\u548c\u672a\u521d\u59cb\u5316\u53d8\u91cf\u662f\u4e3a\u4e86\u7a7a\u95f4\u6548\u7387\uff08\u201c\u672a\u521d\u59cb\u5316\u53d8\u91cf\u4e0d\u9700\u8981\u5360\u636e\u4efb\u4f55\u5b9e\u9645\u7684\u78c1\u76d8\u7a7a\u95f4\u201d\uff09</li> <li>.symtab \u4e00\u4e2a\u7b26\u53f7\u8868\uff0c\u5b83\u5b58\u653e\u7740\uff1a\u5728\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u7684\u4fe1\u606f</li> <li>.rel.text \u4e00\u4e2a.text\u8282\u4e2d\u4f4d\u7f6e\u7684\u5217\u8868\uff0c\u5f53\u94fe\u63a5\u5668\u5c06\u8fd9\u4e2a\u76ee\u6807\u6587\u4ef6\u548c\u5176\u4ed6\u6587\u4ef6\u7ec4\u5408\u65f6\uff0c\u9700\u8981\u4fee\u6539\u8fd9\u4e9b\u4f4d\u7f6e</li> <li>.rel.data \u88ab\u6a21\u5757\u5f15\u7528\u6216\u5b9a\u4e49\u7684\u6240\u6709\u5168\u5c40\u53d8\u91cf\u7684\u91cd\u5b9a\u4f4d\u4fe1\u606f\u3010ps\uff1a==\u4e00\u822c\u800c\u8a00\uff0c\u4efb\u4f55\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf\uff0c\u5982\u679c\u5b83\u7684\u521d\u59cb\u503c\u662f\u4e00\u4e2a\u5168\u5c40\u53d8\u91cfaddr\u6216\u5916\u90e8\u5b9a\u4e49\u51fd\u6570addr\uff0c\u90fd\u9700\u8981\u88ab\u4fee\u6539==\u3011</li> <li>.debug \u4e00\u4e2a\u7b26\u53f7\u8c03\u8bd5\u8868\uff0c\u5176\u6761\u76ee\u662f\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u7684\u5c40\u90e8\u53d8\u91cf\u548c\u7c7b\u578b\u5b9a\u4e49\uff0c\u7a0b\u5e8f\u4e2d\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u5168\u5c40\u53d8\u91cf</li> <li>.line \u539f\u59cbC\u6e90\u7a0b\u5e8f\u548c.text\u8282\u4e2d\u673a\u5668\u6307\u4ee4\u4e4b\u95f4\u7684\u6620\u5c04</li> <li>.strtab \u4e00\u4e2a\u5b57\u7b26\u4e32\u8868</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#6","title":"6\uff09\u7b26\u53f7\u4e0e\u7b26\u53f7\u8868","text":"<ol> <li>\u6bcf\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6a21\u5757m\u90fd\u6709\u4e00\u4e2a\u7b26\u53f7\u8868\uff0c\u5b83\u5305\u542bm\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u7b26\u53f7\u7684\u4fe1\u606f</li> <li>\u5728\u94fe\u63a5\u5668\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u6709\u4e09\u79cd\u4e0d\u540c\u7684\u7b26\u53f7\uff1a</li> <li>\u81ea\u4ea7\u53ef\u9500\u578b\uff1a\u7531\u6a21\u5757m\u81ea\u8eab\u5b9a\u4e49\u4e14\u80fd\u88ab\u5176\u4ed6\u6a21\u5757\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7\uff0c\u5bf9\u5e94\u4e8e\u5728\u6a21\u5757m\u4e2d\u5b9a\u4e49\u7684\u975e\u9759\u6001\u7684C\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf</li> <li>\u5f15\u5165\u5916\u6765\u578b\uff1a\u7531\u5176\u4ed6\u6a21\u5757\u5b9a\u4e49\u5e76\u88ab\u6a21\u5757m\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7\uff0c\u8fd9\u4e9bsignal\u79f0\u4e3a\u201c\u5916\u90e8\u7b26\u53f7\u201c\uff0c\u5bf9\u5e94\u4e8e\u5728\u5176\u4ed6\u6a21\u5757\u4e2d\u5b9a\u4e49\u7684\u975e\u9759\u6001C\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf</li> <li>\u81ea\u4ea7\u81ea\u9500\u578b\uff1a\u53ea\u88ab\u6a21\u5757m\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u5c40\u90e8\u7b26\u53f7\uff0c\u5b83\u4eec\u5bf9\u5e94\u4e8e\u5e26static\u5c5e\u6027\u7684C\u51fd\u6570\u548c\u5168\u5c40\u53d8\u91cf\u3002\u8fd9\u4e9b\u7b26\u53f7\u5728m\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u90fd\u53ef\u89c1\uff0c\u4f46\u662f\u4e0d\u80fd\u88ab\u5176\u4ed6\u6a21\u5757\u5f15\u7528</li> <li>.symtab\u4e2d\u7684\u7b26\u53f7\u8868\u4e0d\u5305\u62ec\u5bf9\u5e94\u4e8e\u672c\u5730\u975e\u9759\u6001\u7a0b\u5e8f\u53d8\u91cf\u7684\u4efb\u4f55\u7b26\u53f7\uff0c\u8fd9\u4e9b\u7b26\u53f7\u5728\u8fd0\u884c\u65f6\u5728stack\u4e2d\u88ab\u7ba1\u7406\uff0c\u94fe\u63a5\u5668\u5bf9\u5b83\u4eec\u4e0d\u611f\u5174\u8da3\uff01</li> <li>\u4e0a\u8ff0\u201c\u81ea\u4ea7\u81ea\u9500\u578b\u201d\u4e2d\u5e26\u6709C static\u5c5e\u6027\u7684\u672c\u5730\u8fc7\u7a0b\u53d8\u91cf\u4e0d\u5728stack\u4e2d\u7ba1\u7406\uff1b\u7f16\u8bd1\u5668\u5728.data\u548c.bss\u4e2d\u4e3a\u5b83\u4eec\u7684\u6bcf\u4e2a\u5b9a\u4e49\u5206\u914d\u7a7a\u95f4 <pre><code>\u6bd4\u5982\u4e0b\u9762\u8fd9\u4e2a\u4f8b\u5b50\uff1a\uff08\u5145\u5206\u8bf4\u660e\u4e86\u4e0a\u8ff0\u7684\u4e09\u79cd\u7c7b\u578b\uff0c\u4ee5\u53ca\u89e3\u91ca\u4e863.\u4e0e4.\u7684\u542b\u4e49\uff09\n\n==========================================================module M:\n\n#include&lt;n.h&gt;         // \u5f15\u5165\u6a21\u5757n\u7684\u5185\u5bb9\u4e86\uff01\nint m = 666;          // \u7531\u6a21\u5757m\u81ea\u8eab\u5b9a\u4e49\u4e14\u80fd\u88ab\u5176\u4ed6\u6a21\u5757\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7\uff08\u81ea\u4ea7\u53ef\u9500\uff09\nint f()\n{\n    cout &lt;&lt; n &lt;&lt;endl; // \u7531\u5176\u4ed6\u6a21\u5757\u5b9a\u4e49\u5e76\u88ab\u6a21\u5757m\u5f15\u7528\u7684\u5168\u5c40\u7b26\u53f7\uff08\u5f15\u5165\u5916\u6765\uff09\n    static int x = 0; // \u53ea\u88abm\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u5c40\u90e8\u7b26\u53f7\uff0c\u5728m\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u5747\u53ef\u89c1\uff08\u81ea\u4ea7\u81ea\u9500\uff09\n    return x;\n}\n\nint g()\n{\n    int hbx = 7;      // \u672c\u5730\u975e\u9759\u6001\u7a0b\u5e8f\u53d8\u91cf\uff0c\u5728\u8fd0\u884c\u65f6\u5728stack\u4e2d\u88ab\u7ba1\u7406\uff0c\u8ddf\u94fe\u63a5\u5668\u6ca1\u5173\u7cfb\uff01\n    static int x = 1; // \u53ea\u88abm\u5b9a\u4e49\u548c\u5f15\u7528\u7684\u5c40\u90e8\u7b26\u53f7\uff0c\u5728m\u4e2d\u7684\u4efb\u4f55\u4f4d\u7f6e\u5747\u53ef\u89c1\uff08\u81ea\u4ea7\u81ea\u9500\uff09\n    return x;\n}\n\n==========================================================module N:\nint n = 999;\n\n\u6709\u4e24\u4e2astatic int x \u90fd\u53ef\u4ee5\u5728\u6a21\u5757m\u4e2d\u770b\u89c1\n\u6b64\u65f6\u7f16\u8bd1\u5668\u5411\u6c47\u7f16\u5668\u8f93\u51fa\u4e24\u4e2a\u4e0d\u540c\u540d\u5b57\u7684\u5c40\u90e8\u94fe\u63a5\u5668\u7b26\u53f7\n\u6bd4\u5982\u5b83\u7528x.1\u8868\u793a\u51fd\u6570f\u4e2d\u7684\u5b9a\u4e49\uff0c\u7528x.2\u8868\u793a\u51fd\u6570g\u4e2d\u7684\u5b9a\u4e49\n</code></pre></li> <li>\u4efb\u4f55\u5e26\u6709static\u5c5e\u6027\u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cfor\u51fd\u6570\u90fd\u662f\u6a21\u5757m\u79c1\u6709\u7684\uff1b\u4efb\u4f55\u4e0d\u5e26static\u5c5e\u6027\u58f0\u660e\u7684\u5168\u5c40\u53d8\u91cfor\u51fd\u6570\u90fd\u662f\u516c\u5171\u7684\uff0c\u53ef\u4ee5\u88ab\u5176\u4ed6\u6a21\u5757\u8bbf\u95ee\u3010\u4e00\u4e2a\u597d\u4e60\u60ef\u5c31\u662f\u7ed9\u4f60\u7684\u6a21\u5757\u5185\u5168\u5c40\u53d8\u91cf\u6253\u4e0astatic\uff0c\u8fd9\u6837\u53ef\u4ee5\u9632\u6b62\u591a\u6587\u4ef6\u534f\u4f5c\u65f6\u7684\u201c\u7d0a\u4e71\u201d\uff01\u3011</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#7","title":"7\uff09\u7b26\u53f7\u89e3\u6790","text":"<ul> <li>\u7f16\u8bd1\u5668\u53ea\u5141\u8bb8\u6bcf\u4e2amodule\u4e2d\u7684\u6bcf\u4e2a\u5c40\u90e8\u7b26\u53f7\u6709\u4e00\u4e2a\u5b9a\u4e49</li> <li>\u9759\u6001\u5c40\u90e8\u53d8\u91cf\u4e5f\u4f1a\u6709\u672c\u5730\u94fe\u63a5\u5668\u7b26\u53f7\uff0c\u7f16\u8bd1\u5668\u8fd8\u8981\u786e\u4fdd\u5b83\u4eec\u6709\u552f\u4e00\u7684\u540d\u5b57</li> <li>\u5f53\u7f16\u8bd1\u5668\u9047\u89c1\u4e00\u4e2a\u4e0d\u5728\u5f53\u524dmodule\u5b9a\u4e49\u7684\u7b26\u53f7\u65f6\uff0c\u5b83\u4f1a\u81ea\u52a8\u5047\u8bbe\u8be5\u7b26\u53f7\u662f\u5728\u5176\u4ed6\u6a21\u5757\u5185\u8fdb\u884c\u5b9a\u4e49\u7684\uff0c\u751f\u6210\u4e00\u4e2a\u94fe\u63a5\u5668\u7b26\u53f7\u8868\u6761\u76ee\uff0c\u5e76\u628a\u5b83\u4ea4\u7ed9\u94fe\u63a5\u5668\u5904\u7406\uff1b\u5982\u679c\u94fe\u63a5\u5668\u5728\u5b83\u7684\u4efb\u4f55\u8f93\u5165\u4e2d\u90fd\u627e\u4e0d\u5230\u8fd9\u4e2a\u88ab\u5f15\u7528\u7b26\u53f7\u7684\u5b9a\u4e49\uff0c\u5c31\u8f93\u51fa\u4e00\u6761\u9519\u8bef\u4fe1\u606f\u5e76stop</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#1_1","title":"\uff081\uff09\u94fe\u63a5\u5668\u5982\u4f55\u89e3\u6790\u591a\u91cd\u5b9a\u4e49\u7684\u5168\u5c40\u7b26\u53f7","text":"<ol> <li>strong\uff1a\u51fd\u6570+\u5df2\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf</li> <li>weak\uff1a\u672a\u521d\u59cb\u5316\u7684\u5168\u5c40\u53d8\u91cf <p>\u8fd9\u91cc\u53ef\u80fd\u5927\u5bb6\u4f1a\u6709\u4e00\u4e2a==\u95ee\u9898\uff1a\u5c40\u90e8\u53d8\u91cf\u5e94\u5f53\u5982\u4f55\u89e3\u6790== 1. \u5c40\u90e8\u53d8\u91cf\uff08\u4e0d\u5e26static\uff09\uff1a\u53ea\u5728\u6240\u5728\u7684\u51fd\u6570\u57df\u5185\u6709\u6548\uff08\u8fde\u8be5\u51fd\u6570\u57df\u90fd\u51fa\u4e0d\u53bb\uff0c\u8fd8\u7528\u8bf4\u6a21\u5757m\u7801\uff1f\uff01\uff09 2. \u5c40\u90e8\u53d8\u91cf\uff08\u4e0d\u5e26static\uff09\uff1a\u51fa\u4e0d\u53bb\u6a21\u5757m \u53ea\u5141\u8bb8\u6bcf\u4e2amodule\u4e2d\u7684\u6bcf\u4e2a\u5c40\u90e8\u7b26\u53f7\u6709\u4e00\u4e2a\u5b9a\u4e49\uff0c\u4f46\u51e1\u6709\u6b67\u4e49\u76f4\u63a5\u62a5\u9519\uff01</p> </li> <li>\u539f\u5219\uff1a</li> <li>\u4e0d\u5141\u8bb8\u6709\u591a\u4e2a\u91cd\u540d\u7684strong\u7b26\u53f7</li> <li>\u5982\u679c\u4e00\u4e2astrong\u548c\u4e00\u4e2aweak\u7b26\u53f7\u91cd\u540d\uff0c\u90a3\u4e48\u9009\u62e9strong\u7b26\u53f7</li> <li>\u5982\u679c\u6709\u591a\u4e2aweak\u7b26\u53f7\u91cd\u540d\uff0c\u90a3\u4e48\u5219\u5728\u8fd9\u4e9bweak\u7b26\u53f7\u4e2d\u4efb\u9009\u5176\u4e00</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_4","title":"\u52a0\u4ee5\u4f8b\u8bc1\uff1a","text":"<pre><code>/* foo5.c */\n#include&lt;stdio.h&gt;\nvoid f(void);\n\nint y = 15212;\nint x = 15213;\n\nint main()\n{\n    f();\n    printf(\"...\", x, y);\n    return 0;\n}\n\n/* bar5.c */\ndouble x;\nvoid f()\n{\n    x = -0.0;\n}\n\n\u6b64\u65f6\u5f88\u663e\u7136\u8fdd\u53cd\u4e86rule3\uff0c\u73b0\u5728\u4f1a\u201c\u968f\u673a\u9009\u62e9\u66ff\u6362\u201d\uff01\n\n\u5982\u9009\u62e9\u4e86 x = -0.0 \u6765\u66ff\u6362 x = 15212 \u5c31\u60e8\ud83d\ude2d\u4e86\uff01\n\n//double \u662f 8 \u5b57\u8282\uff1bint \u662f 4 \u5b57\u8282\n\u6b64 int x \u7684\u5730\u5740\u662f 0x601020\uff0cy\u5730\u5740\u662f 0x601024\n\u8fd9\u6837x = -0.0\u590d\u5199 int x\uff0c\u4f1a\u5bfc\u81f4\uff1a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u8986\u76d6\u5185\u5b58\u4e2dx\u548cy\u7684\u4f4d\u7f6e\uff01\uff01\uff01\uff01\uff01\uff01\n</code></pre>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#2static-library","title":"\uff082\uff09\u4e0e\u9759\u6001\u5e93(static library)\u94fe\u63a5","text":"<ul> <li>\u76f8\u5173\u51fd\u6570\u53ef\u4ee5\u88ab\u7f16\u8bd1\u6210\u4e3a\u72ec\u7acb\u7684\u76ee\u6807\u6a21\u5757\uff0c\u7136\u540e\u5c01\u88c5\u6210\u4e3a\u4e00\u4e2a\u5355\u72ec\u7684\u9759\u6001\u5e93\u6587\u4ef6</li> <li>\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u901a\u8fc7\u547d\u4ee4\u884c\u4e0a\u5236\u5b9a\u5355\u72ec\u7684\u6587\u4ef6\u540d\u5b57\u6765\u4f7f\u7528\u8fd9\u4e9b\u5728\u5e93\u4e2d\u5b9a\u4e49\u7684\u51fd\u6570\uff08\u5982\uff1a\u5f15\u5165\u5e93#include&lt;\\cmath&gt; \uff0c\u518d\u4f7f\u7528\u5b83\u91cc\u9762\u7684sqrt()\u51fd\u6570\uff09</li> <li>\u8fd9\u6837\uff0c\u94fe\u63a5\u5668\u5c06\u53ea\u590d\u5236\u88ab\u7a0b\u5e8f\u5f15\u7528\u7684\u76ee\u6807\u6a21\u5757\uff0c\u8fd9\u5c31\u51cf\u5c11\u4e86\u53ef\u6267\u884c\u6587\u4ef6\u5728\u78c1\u76d8\u548c\u5185\u5b58\u4e2d\u7684\u5927\u5c0f</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_5","title":"\u5b58\u653e\u5f62\u5f0f\uff1a","text":"<p>\u9759\u6001\u5e93\u4ee5\u4e00\u79cd\u79f0\u4e3a\u201c\u5b58\u6863\u201d(archive)\u7684\u7279\u6b8a\u6587\u4ef6\u683c\u5f0f\u5b58\u653e\u5728\u78c1\u76d8\u4e2d\uff0c\u5b58\u6863\u6587\u4ef6\u662f\u4e00\u7ec4\u8fde\u63a5\u8d77\u6765\u7684\u53ef\u91cd\u5b9a\u4f4d\u7684\u76ee\u6807\u6587\u4ef6\u96c6\u5408\uff0c\u6709\u4e00\u4e2a\u5934\u90e8\u7528\u6765\u63cf\u8ff0\u6bcf\u4e2a\u6210\u5458\u76ee\u6807\u6587\u4ef6\u7684\u5927\u5c0f\u548c\u4f4d\u7f6e\u3002\u5b58\u6863\u6587\u4ef6\u540d\u7531\u540e\u7f00.a\u6807\u8bc6\uff01</p> <p></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#3","title":"\uff083\uff09\u94fe\u63a5\u5668\u5982\u4f55\u4f7f\u7528\u9759\u6001\u5e93\u6765\u89e3\u6790\u5f15\u7528","text":"<ol> <li>\u7b26\u53f7\u89e3\u6790\u9636\u6bb5\uff1a\u94fe\u63a5\u5668==\u4ece\u5de6\u5230\u53f3==\u6309\u7167\u5b83\u4eec\u5728\u7f16\u8bd1\u5668\u9a71\u52a8\u7a0b\u5e8f\u7684==\u547d\u4ee4\u884c\u4e0a\u51fa\u73b0\u7684\u5148\u540e\u987a\u5e8f==\u6765\u626b\u63cf\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u548c\u5b58\u6863\u6587\u4ef6</li> <li>\u626b\u63cf\u8fc7\u7a0b\u4e2d\uff0c\u94fe\u63a5\u5668\u7ef4\u62a4\u30101\u3011\u4e00\u4e2a\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\u7684\u96c6\u5408E(\u8fd9\u4e2aset\u5185\u7684\u6587\u4ef6\u4f1a\u88ab\u5408\u5e76\u8d77\u6765\u5f62\u6210\u53ef\u6267\u884c\u6587\u4ef6)\uff1b\u30102\u3011\u4e00\u4e2a\u672a\u89e3\u6790\u7684\u7b26\u53f7\u96c6\u5408U(\u5f15\u7528\u4e86\u4f46\u662f\u5c1a\u672a\u88ab\u5b9a\u4e49\u7684\u7b26\u53f7)\uff1b\u30103\u3011\u4e00\u4e2a\u5728\u524d\u9762\u8f93\u5165\u6587\u4ef6\u4e2d\u5df2\u5b9a\u4e49\u7684\u7b26\u53f7\u96c6\u5408D</li> <li>\u521d\u59cb\u65f6\uff1aE\u3001U\u3001D\u5747empty</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_6","title":"\u626b\u63cf\u8fc7\u7a0b\u8be6\u89e3\uff1a","text":"<ul> <li>\u30101\u3011\u5bf9\u4e8e\u547d\u4ee4\u884c\u4e0a\u7684\u6bcf\u4e2a\u8f93\u5165\u6587\u4ef6f\uff0c\u94fe\u63a5\u5668\u4f1a\u5224\u65ad\u5b83\u662f\u76ee\u6807\u6587\u4ef6(\u9700\u6c42\u65b9)\u8fd8\u662f\u5b58\u6863\u6587\u4ef6(\u4f9b\u7ed9\u65b9)</li> <li>\u30102.1\u3011\u5982\u679c\u662f\u76ee\u6807\u6587\u4ef6\uff0c\u5c31\u4f1a\u5c06\u5176\u6dfb\u52a0\u5230E\uff0c\u5e76\u4fee\u6539U\u548cD\u6765\u53cd\u6620\u7b26\u53f7\u5b9a\u4e49\u4e0e\u5f15\u7528\uff0c\u5e76\u7ee7\u7eed\u4e0b\u4e00\u4e2a\u8f93\u5165\u6587\u4ef6</li> <li>\u30102.2\u3011\u5982\u679c\u662f\u5b58\u6863\u6587\u4ef6\uff0c\u90a3\u4e48\u94fe\u63a5\u5668\u5c31\u5c1d\u8bd5\u5339\u914dU\u4e2d\u672a\u89e3\u6790\u7684\u7b26\u53f7\u548c\u7531\u5b58\u6863\u6587\u4ef6\u6210\u5458\u5b9a\u4e49\u7684\u7b26\u53f7\uff1a\u5982\u679c\u67d0\u4e2a\u5b58\u6863\u6587\u4ef6\u6210\u5458m\uff0c\u5b9a\u4e49\u4e86\u4e00\u4e2a\u7b26\u53f7\u6765\u89e3\u6790U\u4e2d\u7684\u4e00\u4e2a\u5f15\u7528\uff0c\u90a3\u4e48\u5c31\u5c06m\u52a0\u8fdbE\uff0c\u4e14\u94fe\u63a5\u5668\u4fee\u6539U\u548cD\u6765\u53cd\u6620m\u4e2d\u7684\u7b26\u53f7\u5b9a\u4e49\u4e0e\u5f15\u7528\u3002</li> <li>\u30102.2\u3011\u5bf9\u5b58\u6863\u6587\u4ef6\u4e2d\u7684\u5168\u90e8\u6210\u5458\u76ee\u6807\u6587\u4ef6\u90fd\u4f9d\u6b21\u8fdb\u884c\u8fd9\u4e2a\u8fc7\u7a0b\uff0c\u76f4\u5230U\u548cD\u90fd\u4e0d\u518d\u53d1\u751f\u53d8\u5316\u3002\u6b64\u65f6\uff0c\u4efb\u4f55\u4e0d\u5305\u542b\u5728E\u4e2d\u7684\u6210\u5458\u76ee\u6807\u6587\u4ef6\u90fd\u88abdiscard\uff0c\u800c\u94fe\u63a5\u5668\u5c06\u7ee7\u7eed\u5904\u7406\u4e0b\u4e00\u4e2a\u6587\u4ef6</li> <li>\u30103\u3011 \u5982\u679c\u5f53\u94fe\u63a5\u5668\u5b8c\u6210\u5bf9\u547d\u4ee4\u884c\u4e0a\u8f93\u5165\u6587\u4ef6\u7684\u626b\u63cf\u540e\uff0cU\u662f\u975e\u7a7a\u7684\uff0c\u90a3\u4e48\u94fe\u63a5\u5668\u5c31\u4f1a\u8f93\u51fa\u4e00\u4e2a\u9519\u8bef\u5e76\u7ec8\u6b62\uff1b\u5426\u5219\uff0c\u5b83\u4f1a\u5408\u5e76\u548c\u91cd\u5b9a\u4f4dE\u4e2d\u7684\u76ee\u6807\u6587\u4ef6\uff0c\u6784\u5efa\u8f93\u51fa\u7684\u53ef\u6267\u884c\u6587\u4ef6</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_7","title":"\u5e26\u6765\u7684\u5c0f\u95ee\u9898\uff1a","text":"<ul> <li>\u6613\u89c1\uff1a\u547d\u4ee4\u884c\u4e0a\u7684\u5e93\u548c\u76ee\u6807\u6587\u4ef6\u7684\u987a\u5e8f\u975e\u5e38\u91cd\u8981\uff01</li> <li>\u5982\u679c\u5b9a\u4e49\u4e00\u4e2a\u7b26\u53f7\u7684\u5e93\u51fa\u73b0\u5728\u5f15\u7528\u8fd9\u4e2a\u7b26\u53f7\u7684\u76ee\u6807\u6587\u4ef6\u4e4b\u524d\uff0c\u90a3\u4e48\u5f15\u7528\u5c31\u4e0d\u80fd\u88ab\u89e3\u6790\uff0c\u4ece\u800c\u94fe\u63a5\u5931\u8d25</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_8","title":"\u547d\u4ee4\u884c\u4e66\u5199\u987a\u5e8f\u539f\u5219\uff1a","text":"<p>\u5148\u201c\u5f15\u7528\u201d\uff0c\u518d\u201c\u51fa\u73b0\u201d \u3010\u4e00\u822c\u662f\u5c06\u5e93\u653e\u5728\u547d\u4ee4\u884c\u7684\u7ed3\u5c3e\uff0c\u8ba9\u201c\u4f9b\u7ed9\u65b9\u201d\u51fa\u73b0\u7684\u8d8a\u665a\u8d8a\u597d\uff01\u3011</p> <ul> <li> <p>\u6bd4\u5982\uff1afoo.c \u8c03\u7528 libx.a \u548c libz.a\u4e2d\u7684\u51fd\u6570\uff0c\u800c\u8fd9\u4e24\u4e2a\u5e93\u53c8\u8c03\u7528liby.a\u4e2d\u7684\u51fd\u6570\uff0c\u90a3\u4e48\u5728\u547d\u4ee4\u884c\u4e2d libx.a \u548c libz.a \u9700\u8981\u5728 liby.a\u7684\u524d\u9762\uff01 <pre><code>linux&gt; gcc foo.c libx.a libz.a liby.a\n</code></pre></p> </li> <li> <p>\u5982\u679c\u9700\u8981\u6ee1\u8db3\u4f9d\u8d56\u5173\u7cfb\uff0c\u53ef\u4ee5\u5728\u547d\u4ee4\u884c\u4e0a\u91cd\u590d\u5e93\uff1a\u6bd4\u5982\uff0cfoo.c \u8c03\u7528 libx.a\u4e2d\u7684\u51fd\u6570\uff0c\u8be5\u5e93\u53c8\u8c03\u7528liby.a\u7684\u51fd\u6570\uff0c\u800cliby.a\u9700\u8981\u8c03\u7528libx.a\u4e2d\u7684\u51fd\u6570\uff0c\u90a3\u4e48\uff1a <pre><code>linux&gt; gcc foo.c libx.a liby.a libx.a\n</code></pre></p> </li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#8","title":"8\uff09\u91cd\u5b9a\u4f4d","text":"<p>\u4e00\u65e6\u94fe\u63a5\u5668\u5b8c\u6210\u4e86\u7b26\u53f7\u89e3\u6790\u8fd9\u4e00\u6b65\uff0c\u5c31\u628a\u4ee3\u7801\u4e2d\u7684\u6bcf\u4e2a\u7b26\u53f7\u5f15\u7528\u548c\u4e00\u4e2a\u7b26\u53f7\u5b9a\u4e49\u76f8\u5173\u8054\uff08\u4e00\u4e00\u6620\u5c04\uff09\uff0c\u6b64\u65f6\u94fe\u63a5\u5668\u5c31\u77e5\u9053\u5b83\u7684\u8f93\u5165\u76ee\u6807\u6a21\u5757\u4e2d\u7684\u4ee3\u7801\u8282\u548c\u6570\u636e\u8282\u7684\u786e\u5207\u5927\u5c0f\uff0c\u73b0\u5728\u5c31\u53ef\u4ee5\u5f00\u59cb\u91cd\u5b9a\u4f4d\u6b65\u9aa4\u4e86</p> <ul> <li>\u91cd\u5b9a\u4f4d\u8282\u548c\u7b26\u53f7\u5b9a\u4e49\uff1a</li> <li>\u94fe\u63a5\u5668\u5c06\u6240\u6709\u7c7b\u578b\u76f8\u540c\u7684\u8282\u5408\u5e76\u4e3a\u540c\u4e00\u7c7b\u578b\u7684\u65b0\u7684\u805a\u5408\u8282\u3010\u5408\u5e76\u540c\u7c7b\u3011</li> <li>\u94fe\u63a5\u5668\u5c06\u8fd0\u884c\u65f6\u5185\u5b58\u5730\u5740 \u8d4b\u7ed9 \u65b0\u7684\u805a\u5408\u8282\u3001\u8f93\u5165\u6a21\u5757\u5b9a\u4e49\u7684\u6bcf\u4e2a\u8282\u3001\u4ee5\u53ca\u8f93\u5165\u6a21\u5757\u4e2d\u5b9a\u4e49\u7684\u6bcf\u4e2a\u7b26\u53f7\u3010\u4f20\u9012\u5730\u5740\u3011</li> <li> <p>\u6b64\u65f6\uff0c\u7a0b\u5e8f\u4e2d\u6bcf\u6761\u6307\u4ee4\u548c\u5168\u5c40\u53d8\u91cf\u90fd\u6709\u552f\u4e00\u7684\u8fd0\u884c\u65f6\u5185\u5b58\u5730\u5740\u4e86\uff01</p> </li> <li> <p>\u91cd\u5b9a\u4f4d\u8282\u4e2d\u7684\u7b26\u53f7\u5f15\u7528\uff1a</p> </li> <li>\u5728\u8fd9\u4e00\u6b65\u4e2d\uff0c\u94fe\u63a5\u5668\u4fee\u6539\u4ee3\u7801\u8282\u548c\u6570\u636e\u8282\u4e2d\u5bf9\u6bcf\u4e2a\u7b26\u53f7\u7684\u5f15\u7528\uff0c\u4f7f\u4ed6\u4eec\u6307\u5411\u6b63\u786e\u7684\u8fd0\u884c\u65f6\u5730\u5740</li> <li>over\uff01</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#9","title":"9\uff09\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6","text":"<p>\u770b\u56fe\u5373\u53ef\uff0c\u8be6\u7ec6\u5185\u5bb9\u7565</p> <p></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#10","title":"10\uff09\u52a0\u8f7d\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6","text":"<p><pre><code>linux&gt; ./prog\n</code></pre> \u6b64\u65f6\u4f1a\u53d1\u751f\u4ec0\u4e48\uff1f</p> <ol> <li>shell\u8c03\u7528\u67d0\u4e2a\u8d2e\u5b58\u5728\u5b58\u50a8\u5668\u4e2d\u7684\u52a0\u8f7d\u5668(loader) \u7684\u64cd\u4f5c\u7cfb\u7edf\u4ee3\u7801\u6765\u8fd0\u884c\u5b83</li> <li>linux\u7a0b\u5e8f\u901a\u8fc7\u8c03\u7528execve\u51fd\u6570\u8c03\u7528\u52a0\u8f7d\u5668</li> <li>\u52a0\u8f7d\u5668\u5c06==\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6==\u4e2d\u7684\u4ee3\u7801\u548c\u6570\u636e==\u4ece\u78c1\u76d8\u590d\u5236\u5230\u5185\u5b58==\u4e2d</li> <li>\u7136\u540e\u901a\u8fc7\u8df3\u8f6c\u5230\u7a0b\u5e8f\u7684\u7b2c\u4e00\u6761\u6307\u4ee4 or \u5165\u53e3\u70b9\u6765\u8fd0\u884c\u6b64\u7a0b\u5e8f</li> <li>\u8fd9\u4e2a\u5c06\u7a0b\u5e8f\u590d\u5236\u5230\u5185\u5b58\u5e76\u8fd0\u884c\u7684\u8fc7\u7a0b\u53eb\u505a\u201c\u52a0\u8f7d\u201d</li> </ol> <p></p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#11","title":"11\uff09\u52a8\u6001\u94fe\u63a5\u5171\u4eab\u5e93","text":"<p>\u5171\u4eab\u5e93(shared library)\u662f\u4e00\u4e2a\u76ee\u6807\u6a21\u5757\uff0c\u5728\u8fd0\u884c\u6216\u52a0\u8f7d\u65f6\uff0c\u53ef\u4ee5\u52a0\u8f7d\u5230\u4efb\u610f\u7684\u5185\u5b58\u5730\u5740\uff0c\u5e76\u548c\u4e00\u4e2a\u5728\u5185\u5b58\u4e2d\u7684\u7a0b\u5e8f\u94fe\u63a5\u8d77\u6765\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u53eb\u505a\u52a8\u6001\u94fe\u63a5(dynamic linking) - \u5728linux\u4e2d\uff0c\u5e38\u4ee5.so\u540e\u7f00\u6765\u8868\u793a - \u5728microsoft\u4e2d\uff0c\u5e38\u7528DLL(\u52a8\u6001\u94fe\u63a5\u5e93)\u8868\u793a</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#12","title":"12\uff09\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801","text":"<ul> <li>\u5171\u4eab\u5e93\u7684\u4e00\u4e2a\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u5141\u8bb8\u591a\u4e2a\u6b63\u5728\u8fd0\u884c\u7684\u8fdb\u7a0b\uff0c\u5171\u4eab\u5185\u5b58\u4e2d\u76f8\u540c\u7684\u5e93\u4ee3\u7801\uff0c\u56e0\u800c\u8282\u7ea6\u5185\u5b58\u8d44\u6e90</li> <li>\u73b0\u4ee3\u7cfb\u7edf\u4ee5\u8fd9\u6837\u4e00\u79cd\u65b9\u5f0f\u7f16\u8bd1\u5171\u4eab\u6a21\u5757\u4e2d\u7684\u4ee3\u7801\u6bb5\uff0c\u4f7f\u5f97\u4ed6\u4eec\u53ef\u4ee5\u52a0\u8f7d\u5230\u5185\u5b58\u7684\u4efb\u4f55\u4f4d\u7f6e\uff0c\u800c\u65e0\u9700\u94fe\u63a5\u5668\u4fee\u6539</li> <li>\u53ef\u4ee5\u52a0\u8f7d\uff0c\u800c\u65e0\u9700\u91cd\u5b9a\u4f4d\u7684\u4ee3\u7801\u79f0\u4e3a\uff1a\u4f4d\u7f6e\u65e0\u5173\u4ee3\u7801(PIC)</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#13library-interpositioning","title":"13\uff09\u5e93\u6253\u6869(library interpositioning)\u673a\u5236","text":"<ul> <li>\u5b83\u5141\u8bb8\u4f60\u622a\u83b7\u5bf9\u5171\u4eab\u5e93\u51fd\u6570\u7684\u8c03\u7528\uff0c\u53d6\u800c\u4ee3\u4e4b\u7684\u662f\u6267\u884c\u81ea\u5df1\u7684\u4ee3\u7801</li> <li>\u53ef\u4ee5\u53d1\u751f\u5728\u7f16\u8bd1\u65f6 / \u94fe\u63a5\u65f6 / \u8fd0\u884c\u65f6(\u7a0b\u5e8f\u88ab\u52a0\u8f7d\u6216\u6267\u884c)</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_9","title":"\u7f16\u8bd1\u65f6\u6253\u6869\uff1a","text":"<p><pre><code>linux&gt; gcc -DCOMPILETIME -c mymalloc.c\nlinux&gt; gcc -I. -o intc int.c mymalloc.o\n</code></pre> - \u7531\u4e8e\u6709-I.\u53c2\u6570\uff0c\u6240\u4ee5\u4f1a\u8fdb\u884c\u6253\u6869\uff0c\u5b83\u544a\u8bc9C\u9884\u5904\u7406\u5668\u5728\u641c\u7d22\u5e38\u89c4\u7684\u7cfb\u7edf\u76ee\u5f55\u4e4b\u524d\uff0c\u5148\u5728\u5f53\u524d\u76ee\u5f55\u5bfb\u627emalloc.h\u6587\u4ef6</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_10","title":"\u94fe\u63a5\u65f6\u6253\u6869\uff1a","text":"<p><pre><code>1\uff09\u5148\u628a\u6e90\u6587\u4ef6\u7f16\u8bd1\u6210\u53ef\u91cd\u5b9a\u4f4d\u76ee\u6807\u6587\u4ef6\uff1a\nlinux&gt; gcc -DCOMPILETIME -c mymalloc.c\nlinux&gt; gcc -c int.c\n\n2\uff09\u76ee\u6807\u6587\u4ef6\u94fe\u63a5\u6210\u53ef\u6267\u884c\u6587\u4ef6\uff1a\nlinux&gt; gcc -WI,--wrap,malloc -WI,--wrap,free -o intl int.o mymalloc.o\n</code></pre> - linux\u4f7f\u7528--wrap f\u7684\u683c\u5f0f\u8868\u793a\u5bf9f\u8fdb\u884c\u94fe\u63a5\u65f6\u6253\u6869 - -WI,option \u8868\u793a\u5c06option\u4f20\u9012\u7ed9\u94fe\u63a5\u5668</p>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_11","title":"\u8fd0\u884c\u65f6\u6253\u6869\uff1a","text":"<ul> <li>\u5177\u4f53\u683c\u5f0f\u7565</li> </ul>"},{"location":"curriculum_study/CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/#_12","title":"\u603b\u7ed3\uff1a","text":"<ol> <li>\u7f16\u8bd1\u65f6\u6253\u6869\uff1a\u9700\u8981\u8bbf\u95ee\u7a0b\u5e8f\u7684\u6e90\u4ee3\u7801</li> <li>\u94fe\u63a5\u65f6\u6253\u6869\uff1a\u9700\u8981\u8bbf\u95ee\u7a0b\u5e8f\u7684\u53ef\u91cd\u5b9a\u4f4d\u5bf9\u8c61\u6587\u4ef6</li> <li>\u8fd0\u884c\u65f6\u6253\u6869\uff1a\u53ea\u9700\u8981\u80fd\u8bbf\u95ee\u53ef\u6267\u884c\u76ee\u6807\u6587\u4ef6 \u5373\u53ef</li> </ol>"},{"location":"curriculum_study/CSAPP_CMU/%E5%B8%B8%E8%A7%81%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/","title":"\u5e38\u89c1\u6c47\u7f16\u6307\u4ee4","text":"<pre><code>ARM \u6c47\u7f16\u8bed\u8a00 \u4f8b\u5b50\n\n;-------\u5e38\u89c1\u6307\u4ee4\u540e\u7f00 \n    EQ      ;\u76f8\u7b49\n    NE      ;\u4e0d\u76f8\u7b49\n    CS/HS   ;\u65e0\u7b26\u53f7\u6570\u5927\u4e8e\u6216\u7b49\u4e8e\n    ......\n\n    ADD R0,R0,#1    ; R0+1 -&gt; R0\n\n    MOV R0,#0X00FF  ; R0=0X00FF\n\n    MOVS R0,R1,LSL #3 ;\u5c06\u5bc4\u5b58\u5668R1\u503c \u5de6\u79fb3\u4f4d\u540e\u4f20\u9001\u5230R0 \u5e76\u5f71\u54cd\u6807\u5fd7\u4f4d\n\n    MVN R0,R1 ;\u5c06\u5bc4\u5b58\u5668R1\u503c\u6309\u4f4d\u6c42\u53cd\u540e\u9001\u5165R0\n\n    MVN R0,#0XFF ;\u5c06\u7acb\u5373\u65700XFF \u6309\u4f4d\u53d6\u53cd\u540e\u88c5\u5165R0 \u7136\u540eR0=0xffffff00\n\n    ADD R0,R1,R2    ; R1+R2 -&gt;R0\n\n    MOV R0,R1       ; R1-&gt;R0\n\n    LDR R0,[R1]     ; [R1]-&gt;R0 \u5047\u8bbe R1\u5b58\u50a8\u7684\u662f0x3FE\u662f\u5185\u5b58\u5730\u5740  \u5219\u662f\u5c0600X3FE\u5185\u5b58\u5730\u5740\u4e2d\u7684\u6570\u636e\u5b58\u5165R0\n\n    MOV R0,R1,LSL #2 ; R1&lt;&lt;2 -&gt;R0, LSL \u5de6\u79fb\u547d\u4ee4  LSR\u53f3\u79fb\u547d\u4ee4 ASR\u7b97\u6570\u53f3\u79fb  ROR\u5faa\u73af\u53f3\u79fb RRX\u5e26\u6269\u5c55\u7684\u5faa\u73af\u53f3\u79fb\n\n    ADD R0,R1,R2,LSR #3 ;R1 + R2&gt;&gt;3 -&gt;R0\n\n    SUB R0,R0,#1 ; R0=R0-1\n\n    SUB R0,R1,R2 ; R0=R1-R2\n\n    SUB R0,R1,R2,LSL #3 ;R0=R1-(R2&lt;&lt;3)\n\n    LDR R0,[R1,#2]  ; [R1+2] -&gt;R0 R1\u4e2d\u7684\u503c+2 \u5f53\u4f5c\u5185\u5b58\u5730\u5740 \u7136\u540e\u5c06\u5185\u5b58\u5730\u5740\u4e2d\u7684\u503c \u8d4b\u503c\u5230R0\n\n    STR R1,[R0,#0X12]   ; R1 -&gt;R0+0X12\u5730\u5740\u5185\u5b58\u4e2d\u53bb \n    STR R1,[R0],#0X12   ; R1 -&gt;R0+0X12\u5730\u5740\u5185\u5b58\u4e2d\u53bb  R0=R0+0X12\n\n    RSB R0,R0,#0XFFFF   ;R0=0XFFFF - R0\n    RSB R0,R1,R2        ;R0=R2-R1\n\n    AND R0,R1,R2    ; R0= R1 &amp; R2\n    AND R0,R0,#3    ; R0=R0&amp;3\n\n    ORR R0,R0,#3    ; R0=R0|3\n\n    EOR R0,R0,#0F   ; R0=R0 \u5f02\u6216 0F\n\n    BIC R0,R0,#0F   ; \u5c06R0\u7684\u4f4e4\u4f4d \u6e050 \n\n    CMP R1,R0       ; R1-R0 \u5e76\u6539\u53d8CPSR\u7684\u6807\u5fd7\u4f4d\n\n    CMN R1,R0       ; R1+R0 \u5e76\u6539\u53d8CPSR\u7684\u6807\u5fd7\u4f4d\n    CMN R1,#0x200   ; \u5c06R1\u503c\u548c\u7acb\u5373\u65700X200\u76f8\u52a0 \u5e76\u6839\u636e\u7ed3\u679c\u6539\u53d8CPSR\u6807\u5fd7\u4f4d\n\n    TST R1,#0XF     ; \u68c0\u6d4bR1\u7684\u4f4e4\u4f4d\u662f\u5426\u4e3a0\n\n    TEQ R1,R2       ; \u5c06R1\u7684\u503c \u548cR2\u7684\u503c \u8fdb\u884c\u5f02\u6216\u8fd0\u7b97 \u7136\u540e\u6539\u53d8CPSR\u7684\u6807\u5fd7\u4f4d\n\n    ;\u7a0b\u5e8f\u72b6\u6001\u5bc4\u5b58\u5668\u5904\u7406\u6307\u4ee4\n    MRS R0,CPSR  ;\u5c06CPSR-&gt;R0\n    ORR R0,R0,#C0 ;R0=R0|C0 ,\u5373\u5c4f\u853d\u5916\u90e8\u4e2d\u65ad \u548c\u5feb\u901f\u5916\u90e8\u4e2d\u65ad\n\n    MSR CPSR,R0 ;R0-&gt;CPSR\n\n\n\n    ;\u591a\u5bc4\u5b58\u5668\u5bfb\u5740\n    ;\u4ece\u5de6\u8d4b\u503c\u5230\u53f3  \u7528\u4e8e\u5b58\u50a8\u5668\u8bfb\u53d6\u6570\u636e \u6bd4\u5355\u5b57\u8bfb\u53d6\u64cd\u4f5c\u65b9\u4fbf\n    ;IA\uff1a\u6bcf\u6b21\u4f20\u9001\u540e\u5730\u5740\u52a04\n    ;IB\uff1a\u6bcf\u6b21\u4f20\u9001\u524d\u5730\u5740\u52a04\n    ;DA\uff1a\u6bcf\u6b21\u4f20\u9001\u540e\u5730\u5740\u51cf4\n    ;DB\uff1a\u6bcf\u6b21\u4f20\u9001\u524d\u5730\u5740\u51cf4\n    ;FD\uff1a\u6ee1\u9012\u51cf\u5806\u6808\n    ;ED\uff1a\u7a7a\u9012\u51cf\u5806\u6808\n    ;FA\uff1a\u6ee1\u9012\u589e\u5806\u6808\n    ;EA\uff1a\u7a7a\u9012\u589e\u5806\u6808\n    LDMIA R0!,{ R1-R3,R5}   ; [R0] -&gt;R1  \u5047\u8bbeR0=0XF1 \u5c06\u5185\u5b58\u5730\u57400XF1\u4e2d\u7684\u6570\u636e\u8d4b\u503c\u5230 R1\n                            ; [R0+4] -&gt;R2 R0=0XF1+4 \u5c06\u5185\u5b58\u5730\u57400XF1+4 \u4e2d\u7684\u6570\u636e\u8d4b\u503c\u5230R2\n                            ; [R0+8] -&gt;R3 \n                            ; [R0+12] -&gt;R5\n\n    STMIA R1!,{R3-R9}       ;\u5c06R3~R9 \u6570\u636e\u5b58\u50a8\u5230R1 R1\u66f4\u65b0\u503c\n                            ;R3-&gt;[R1]\n                            ;R4-&gt;[R1+4]\n                            ;R5-&gt;[R1+8]\n                            ;R6-&gt;[R1+12]\n\n    SWP R1,R1,[R0]  ;\u5c06R1\u7684\u5185\u5bb9\u548cR0\u6307\u5411\u7684\u5b58\u50a8\u5355\u5143\u5185\u5bb9\u8fdb\u884c\u4ea4\u6362\n\n\n    ;\u5f02\u5e38\u4ea7\u751f\u6307\u4ee4\n    SWI     0x02  ;\u8f6f\u4e2d\u65ad \u8c03\u7528\u64cd\u4f5c\u7cfb\u7edf\u7f16\u53f7\u4e3a0X02\u7684\u7cfb\u7edf\u4f8b\u7a0b\n    BKPT    0XFF32 ; \n\n    ;\u5806\u6808\u5bfb\u5740  \u6808\u4f1a\u5411\u4e0a\u589e\u957f \u9012\u589e\u5806\u6808\uff0c\u4e5f\u4f1a\u5411\u4e0b\u589e\u957f \u9012\u51cf\u5806\u6808\n    ;\u540e\u7f00 IB \u5148\u589e\u52a0\u5806\u6808\u5730\u5740\u503c SP+4,\u7136\u540e\u518d\u51fa\u6808 \u5165\u6808 SP-&gt;XX\n    ;\u540e\u7f00 IA \u5148\u5b8c\u6210\u64cd\u4f5c\u5728\u589e\u52a0\u5730\u5740 SP-&gt;XX  SP+4\n    ;\u540e\u7f00 DB \u5148\u51cf\u5c11\u5806\u6808\u5730\u5740\u503c SP-4,\u7136\u540e\u518d\u51fa\u6808 \u5165\u6808 SP-&gt;XX\n    ;\u540e\u7f00 DA \u5148\u5b8c\u6210\u64cd\u4f5c\u5728\u51cf\u5c11\u5730\u5740\u503c SP-&gt;XX  SP-4\n    STMFD SP!,{R1-R3,LR}   ; \u5c06\u5bc4\u5b58\u5668R1~R3 LR \u5165\u6808\uff0c\u6ee1\u9012\u51cf\u5806\u6808 R1-&gt;SP SP++ R2-&gt;SP SP++....\n    LDMFD SP!,{R1-R3,LR}   ; \u5c06\u6808\u4e2d\u6570\u636e \u51fa\u6808 \u5b58\u5165R1~R3 LR,SP-&gt;R1 SP--, SP-&gt;R2 SP--\n\n\n    ;\u8df3\u8f6c\u6307\u4ee4\n    LDR PC,[PC,#+0X00FF] ; [PC+8+0X00FF] -&gt;PC  \u4fee\u6539\u7a0b\u5e8f\u6307\u9488 PC\u503c \u5b9e\u73b0\u8df3\u8f6c\n    B task1 ;\u65e0\u6761\u4ef6 \u8df3\u8f6c\u5230task1\u5904\u6267\u884c\n    B 0x1234 ;\u8df3\u8f6c\u5230\u7edd\u5bf9\u5730\u5740 0X1234\u5904\n\n    BL task1 ;\u5148\u5c06\u5f53\u524d\u6267\u884c\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u503c \u5b58\u50a8\u5230\u94fe\u63a5\u5bc4\u5b58\u5668R14(LR)\u4e2d(\u4ee5\u4fbf\u518d\u8fd4\u56de\u6765) \u5728\u8df3\u8f6c\u5230task1\u6807\u53f7\u6267\u884c\n\n    BLX task1 ;\u5148\u5c06\u5f53\u524d\u6267\u884c\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u503c \u5b58\u50a8\u5230\u94fe\u63a5\u5bc4\u5b58\u5668R14(LR)\u4e2d(\u4ee5\u4fbf\u518d\u8fd4\u56de\u6765) \u5e76\u4eceARM\u72b6\u6001\u5207\u6362\u5230Thumb\u72b6\u6001 \u5728\u8df3\u8f6c\u5230task1\u6807\u53f7\u6267\u884c\n    BLX R0 ;\u5148\u5c06\u5f53\u524d\u6267\u884c\u6307\u4ee4\u7684\u4e0b\u4e00\u6761\u6307\u4ee4\u7684\u5730\u5740\u503c \u5b58\u50a8\u5230\u94fe\u63a5\u5bc4\u5b58\u5668R14(LR)\u4e2d(\u4ee5\u4fbf\u518d\u8fd4\u56de\u6765) \u5e76\u4eceARM\u72b6\u6001\u5207\u6362\u5230Thumb\u72b6\u6001 \u5728\u8df3\u8f6c\u5230R0\u4e2d\u7684\u5730\u5740\u5904\u6267\u884c\n\n    BX R0 ; \u8df3\u8f6c\u5230R0\u5904\u6267\u884c \u5982\u679cR0[0]=1 \u5219\u5207\u6362\u5230Thumb\u72b6\u6001\n\n\n    ;ARM \u5e38\u89c1\u4f2a\u6307\u4ee4 \n    DCB ;\u5206\u914d\u4e00\u6bb5\u5b57\u8282\u7684\u5185\u5b58\u5355\u5143 \u5e76\u7528\u6307\u5b9a\u7684\u6570\u636e\u521d\u59cb\u5316\n    DCD DCDU ;\u5206\u914d\u4e00\u6bb5\u5b57\u7684\u5185\u5b58\u5355\u5143 \uff0c\u5e76\u7528\u6307\u5b9a\u7684\u6570\u636e\u521d\u59cb\u5316\n\n    DCQ DCQU ;\u5206\u914d\u4e00\u6bb5\u53cc\u5b57\u7684\u5185\u5b58\u5355\u5143 \u5e76\u752864\u4f4d\u6574\u578b\u6570\u636e\u521d\u59cb\u5316\n\n    DCW DCWU ;\u5206\u914d\u4e00\u6bb5\u534a\u5b57\u7684\u5185\u5b58\u5355\u5143 \u5e76\u7528\u6307\u5b9a\u7684\u6570\u636e\u521d\u59cb\u5316\n\n    ALIGN ; \u8fb9\u754c\u5bf9\u9f50 \n    AREA  ; data\u6bb5 rom\u6bb5\u5b9a\u4e49 \n    END ; \u6c47\u7f16\u7ed3\u675f\n    ENTRY ; \u7a0b\u5e8f\u5165\u53e3\n    EQU ;\u5e38\u91cf\u5b9a\u4e49 \u7c7b\u4f3cC\u5b8f\u5b9a\u4e49 \n    EXPORT , GLORBAL ;\u58f0\u660e\u4e00\u4e2a\u7b26\u53f7\u53ef\u4ee5\u88ab \u5176\u4ed6\u6587\u4ef6\u5f15\u7528\n    IMPORT EXYERN ;\u58f0\u660e\u4e00\u4e2a\u5916\u90e8\u7b26\u53f7\n\n    NOP ; \u5ef6\u65f6\u7a7a\u64cd\u4f5c\n\n;---------ARM asm Example -------\n\n    AREA BUF,DATA,READWRITE ;\u58f0\u660e\u4e00\u4e2a\u6570\u636e\u6bb5 BUF in RAM , BUF \u53ef\u8bfb\u53ef\u5199\n    count DCB 30  ; \u5b9a\u4e49\u4e00\u4e2a\u5b57\u8282\u5355\u5143count \n    AREA EXAMPLE1 ,CODE,READONLY ; \u58f0\u660e\u4ee3\u7801\u6bb5 EXAMPLE1 in ROM , \u53ea\u8bfb\n    ENTRY ; \u7a0b\u5e8f\u5165\u53e3\n    CODE32  ;\u58f0\u660e32\u4f4dARM\u6307\u4ee4\n    START\n        LDRB R0,count   ;R0=count\n        MOV  R1,#10     ;R1=0X10\n        ADD R0,R0,R1    ;R0=R0+R1\n        B START ;\u8df3\u8f6c\u5230START\u5904\u6267\u884c\n\n    END ;\u7a0b\u5e8f\u7ed3\u675f\n</code></pre>"},{"location":"curriculum_study/Info-theory/lec10/","title":"Lecture10 - Channel Capacity Part3","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec11/","title":"Lecture11 - Differential Entropy Part1","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec12/","title":"Lecture12 - Differential Entropy Part2","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec13/","title":"Lecture13 - Gaussian Channel","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec14/","title":"Lecture14 - \u7b14\u8005\u5bf9\u4e8e\u90e8\u5206\u57fa\u7840\u6982\u5ff5\u7684\u6574\u7406\u590d\u4e60","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec3/","title":"Lecture3 - AEP","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec4/","title":"Lecture4 - Entropy Rate","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec5/","title":"Lecture5 - Data Compression Part1","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec6/","title":"Lecture6 - Data Compression Part2","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec7/","title":"Lecture7 - Data Compression Part3","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec8/","title":"Lecture8 - Channel Capacity Part1","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/Info-theory/lec9/","title":"Lecture9 - Channel Capacity Part2","text":"<p>\u6240\u5b66\u8bfe\u7a0b\u6765\u81ea\u4fe1\u606f\u8bba\u8bfe\u7a0b-\u4e0a\u6d77\u4ea4\u5927\uff0c\u8fd9\u91cc\u5c55\u793a\u7684\u662f\u672c\u4eba\u7684\u5b66\u4e60\u7b14\u8bb0\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01</p> <p>\u4fe1\u606f\u8bba\u8bfe\u7a0b\u7cfb\u5217\uff0c\u7b14\u8005\u5e76\u672a\u91c7\u7528\u7535\u8111markdown\u5f62\u5f0f\u8bb0\u5f55\uff0c\u800c\u662f\u91c7\u53d6ipad\u8bb0\u7b14\u8bb0\u7684\u65b9\u5f0f\uff0c\u4e3a\u7684\u662f\u4fdd\u6301\u6570\u5b66\u7684\u7eaf\u7cb9\u6027\uff01\u6545\u6b64\u5904\u4e0a\u4f20\u7684\u662f\u7b14\u8bb0\u56fe\u7247\uff0c\u52a0\u8f7d\u8f83\u6162\uff0c\u8bf7\u7a0d\u7b49</p> <p> </p>"},{"location":"curriculum_study/TD_net/ch1/","title":"Chapter1 \u8ba1\u7b97\u673a\u7f51\u7edc\u6982\u8ff0","text":""},{"location":"curriculum_study/TD_net/ch1/#1","title":"1\uff09\u5f15\u5165\uff1a","text":"<p>\u4e92\u8054\u7f51\u8fde\u63a5\u7740\u4e16\u754c\u4e0a\u6570\u4ee5\u4ebf\u8bb0\u7684\u7535\u5b50\u8bbe\u5907\uff0c\u8fd9\u662f\u4e00\u4e2a\u5e9e\u5927\u7684\u6811\u72b6\u7cfb\u7edf\uff0c\u76d8\u6839\u9519\u8282\u5730\u5206\u5e03\u7740\u4e0d\u540c\u7684\u7f51\u7edc\u7cfb\u7edf\uff0c\u5f62\u8c61\u5730\u8bf4\uff0c\u4e92\u8054\u7f51\u662f\u7f51\u7edc\u7684\u7f51\u7edc\uff0c\u5728\u4e92\u8054\u7f51\u8fd9\u4e2a\u6700\u5927\u7684\u5c42\u7ea7\u4e4b\u4e0b\uff0c\u8fd8\u6709\u5404\u7c7b\u89c4\u6a21\u5404\u4e0d\u76f8\u540c\u7684\u8f83\u5c0f\u7684\u7f51\u7edc\u7cfb\u7edf\u76f8\u4e92\u8fde\u63a5\u3002</p> <p>\u8fd9\u9897\u53c2\u5929\u5927\u6811\u751f\u957f\u51fa\u7684\u4e0d\u8ba1\u5176\u6570\u7684\u6811\u53f6\u662f\u8fde\u63a5\u5230\u4e92\u8054\u7f51\u7684\u5404\u7c7b\u7535\u5b50\u8bbe\u5907\uff0c\u79f0\u4e3a\u7aef\u7cfb\u7edf(End system)\uff0c\u6216\u662f\u4e3b\u673a(Host)\uff0c\u6839\u636e\u5728\u4e0d\u540c\u901a\u8baf\u8fc7\u7a0b\u4e2d\u53d1\u6325\u7684\u4e0d\u540c\u4f5c\u7528\uff0c\u8fd9\u4e9b\u4e3b\u673a\u53ef\u4ee5\u8fdb\u4e00\u6b65\u5206\u7c7b\u4e3a\u4f3a\u670d\u5668(Server)\u548c\u5ba2\u6237\u7aef(Client)\u3002\u901a\u5e38\u6765\u8bb2\uff0c\u4e3b\u52a8\u53d1\u8d77\u901a\u8baf\u8bf7\u6c42\u7684\u662f\u5ba2\u6237\u7aef\uff0c\u800c\u63a5\u6536\u901a\u8baf\u8bf7\u6c42\u7684\u662f\u4f3a\u670d\u5668\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#2isp","title":"2\uff09\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(ISP)\u7684\u5c42\u7ea7\u7ed3\u6784","text":"<p>\u5f53\u4eca\u4e16\u754c\u7684\u7f51\u7edc\u670d\u52a1\uff08\u5305\u62ec\u57fa\u7ad9\u3001\u7f51\u7ebf\u7b49\u57fa\u7840\u8bbe\u65bd\u548c\u5728\u57fa\u7840\u8bbe\u65bd\u4e0a\u8fd0\u884c\u7684\u7a0b\u5e8f\uff09\u4e3b\u8981\u662f\u7531\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(Internet Service Provider, ISP)\u63d0\u4f9b\u7684\u3002\u548c\u4e92\u8054\u7f51\u590d\u6742\u7684\u5c42\u7ea7\u5173\u7cfb\u76f8\u5bf9\u5e94\uff0c\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u4e5f\u6709\u4e0d\u540c\u7684\u5c42\u7ea7\uff0c\u4e3b\u8981\u4ee5\u63d0\u4f9b\u670d\u52a1\u7684\u5bf9\u8c61\u4f5c\u4e3a\u533a\u5206\u3002\u4e3b\u673a\u901a\u8fc7\u63d0\u4f9b\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(Access ISPs)\u7684\u670d\u52a1\u6765\u8fde\u63a5\u5230\u4e92\u8054\u7f51\uff0c\u4e3b\u673a\u501f\u7531\u8fde\u63a5\u5230\u4e92\u8054\u7f51\u7684\u7f51\u7edc\u7cfb\u7edf\u88ab\u79f0\u4e3a\u63a5\u5165\u7f51(Access network)\u3002\u8981\u8ba9\u8fd9\u4e9b\u8fde\u63a5\u5230\u4e86\u4e0d\u540c\u7684\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u4e3b\u673a\u80fd\u591f\u4e92\u76f8\u901a\u4fe1\uff08\u8fd9\u662f\u4e92\u8054\u7f51\u7684\u4e3b\u8981\u76ee\u7684\uff09\uff0c\u6211\u4eec\u4e5f\u9700\u8981\u5c06\u8fd9\u4e9b\u4e0d\u540c\u7684\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u8fde\u63a5\u8d77\u6765\u3002</p> <p>\u6b63\u5982\u5f00\u5934\u6240\u8bf4\uff0c\u4e92\u8054\u7f51\u662f\u4e00\u4e2a\u5e9e\u5927\u7684\u6811\u72b6\u7cfb\u7edf\uff0c\u56e0\u6b64\u5b83\u5bf9\u4e8e\u8fd9\u4e00\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u4fbf\u662f\u4f7f\u7528\u66f4\u9ad8\u4e00\u5c42\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u6765\u5c06\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u8fde\u63a5\u8d77\u6765\uff0c\u6211\u4eec\u4e00\u822c\u79f0\u8fd9\u4e00\u5c42\u7ea7\u7684\u670d\u52a1\u5546\u4e3a\u533a\u57df\u6027\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(Regional ISPs)\uff0c\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u662f\u4e3b\u673a\u7684\u670d\u52a1\u5546\uff0c\u533a\u57df\u6027\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u5219\u662f\u63a5\u5165\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u670d\u52a1\u5546\uff0c\u800c\u533a\u57df\u6027\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u4e0a\u4e00\u5c42\u8fd8\u6709\u6700\u9ad8\u4e00\u5c42\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(Tier-1 ISPs)\uff0c\u5b83\u4eec\u603b\u63fd\u5168\u7403\u4e92\u8054\u7f51\u7684\u8fd0\u884c\u3002\u670d\u52a1\u5546\u7684\u5ba2\u6237\uff08\u4e3b\u673a\u6216\u8005\u4f4e\u4e00\u5c42\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\uff09\u901a\u8fc7\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u70b9(Points of Presence, PoP)\u6765\u8fde\u63a5\u5230\u670d\u52a1\u5546\uff1b\u4efb\u4f55\u4f4e\u4e00\u5c42\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u6216\u8005\u4e3b\u673a\u53ef\u4ee5\u9009\u62e9\u8fde\u63a5\u5230\u591a\u4e2a\u66f4\u9ad8\u5c42\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u8fd9\u88ab\u79f0\u4e3a\u591a\u5bbf\u4e3b(Multi-homing)\uff0c\u8fd9\u662f\u4e00\u79cd\u63d0\u9ad8\u8fde\u63a5\u6027\u80fd\u548c\u53ef\u9760\u6027\u7684\u7b56\u7565\uff1b\u4e24\u4e2a\u90bb\u8fd1\u7684\u540c\u5c42\u7ea7\u7684\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u53ef\u4ee5\u9009\u62e9\u5bf9\u7b49\u4e92\u8054(Peering)\uff0c\u5728\u7f51\u7edc\u7684\u201c\u4e0b\u6e38\u201d\u7528\u6237\u4e4b\u95f4\u8fdb\u884c\u6d41\u91cf\u4ea4\u6362\uff0c\u8fd9\u6837\u8fde\u63a5\u5230\u8fd9\u4e24\u4e2a\u7f51\u7edc\u670d\u52a1\u5546\u7684\u4e3b\u673a\u7684\u6570\u636e\u53ef\u4ee5\u4e0d\u7528\u518d\u901a\u8fc7\u66f4\u9ad8\u4e00\u5c42\u7684\u670d\u52a1\u5546\u7f51\u7edc\u800c\u76f4\u63a5\u5230\u8fbe\u4e0e\u4e4b\u5bf9\u7b49\u4e92\u8054\u7684\u53e6\u4e00\u4e2a \u670d\u52a1\u5546\u7f51\u7edc\u4e2d\uff1b\u57fa\u4e8e\u5bf9\u7b49\u4e92\u8054\u7684\u6982\u5ff5\uff0c\u4e00\u4e2a\u7b2c\u4e09\u65b9\u4f01\u4e1a\u53ef\u4ee5\u63d0\u4f9b\u4e92\u8054\u7f51\u4ea4\u6362\u4e2d\u5fc3(Internet Exchange Point, IXP)\uff0c\u591a\u4e2a\u670d\u52a1\u5546\u7684\u7f51\u7edc\u5728\u6b64\u5904\u8fdb\u884c\u5bf9\u7b49\u4e92\u8054\u3002\u800c\u968f\u7740\u4e92\u8054\u7f51\u7684\u53d1\u5c55\uff0c\u4e3a\u4e86\u7f13\u89e3\u4e92\u8054\u7f51\u6027\u80fd\u74f6\u9888,\u5185\u5bb9\u5206\u53d1\u7f51\u7edc(Content Distribution Network, CDN)\u5e94\u8fd0\u800c\u751f\uff0c\u5b83\u4eec\u5f80\u5f80\u548c\u5404\u4e2a\u5c42\u7ea7\u7684\u670d\u52a1\u5546\u4ee5\u53ca\u4e92\u8054\u7f51\u4ea4\u6362\u4e2d\u5fc3\u5efa\u7acb\u8fde\u63a5\uff0c\u5c3d\u53ef\u80fd\u4e3a\u90bb\u8fd1\u7684\u4e3b\u673a\u63d0\u4f9b\u9ad8\u901f\u8fde\u63a5\u4ee5\u53ca\u51cf\u5c11\u670d\u52a1\u5546\u65b9\u9762\u7684\u5f00\u652f\u3002</p> <p>\u6ce8\u610f\uff0c\u533a\u57df\u6027\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u5f80\u5f80\u5185\u90e8\u8fd8\u6709\u590d\u6742\u7684\u5c42\u7ea7\u7cfb\u7edf\uff0c\u800c\u975e\u5355\u4e00\u7684\u4e00\u5c42\u7f51\u7edc\uff0c\u4f8b\u5982\u5728\u4e2d\u56fd\uff0c\u6bcf\u4e2a\u57ce\u5e02\u90fd\u6709\u670d\u52a1\u5546\uff0c\u8fde\u63a5\u5230\u6bcf\u4e2a\u7701\u4efd\u7684\u670d\u52a1\u5546\uff0c\u6700\u540e\u8fde\u63a5\u5230\u5168\u56fd\u533a\u57df\u7684\u670d\u52a1\u5546\uff0c\u8fd9\u4e09\u5c42\u670d\u52a1\u5546\u90fd\u662f\u533a\u57df\u6027\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#3","title":"3\uff09\u63a5\u5165\u7f51\u7684\u7269\u7406\u5f62\u5f0f","text":"<p>\u6570\u5b57\u7528\u6237\u7ebf\u8def(Digital Subscriber Line, DSL) \u6570\u5b57\u7528\u6237\u7ebf\u8def\u5229\u7528\u5df2\u6709\u7684\u7535\u8bdd\u7ebf\u8def\uff08\u53cc\u7ede\u7ebf\uff09\uff0c\u901a\u8fc7\u7535\u8bdd\u7ebf\u8def\u5c06\u6570\u5b57\u4fe1\u53f7\u8f6c\u5316\u4e3a\u6a21\u62df\u4fe1\u53f7\u4f20\u8f93\u5230\u672c\u5730\u7684\u7535\u8bdd\u670d\u52a1\u63d0\u4f9b\u5546\uff0c\u540e\u8005\u518d\u5c06\u6a21\u62df\u4fe1\u53f7\u8f6c\u5316\u4e3a\u6570\u5b57\u4fe1\u53f7\u540e\u4f20\u8f93\u5230\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u7684\u7f51\u7edc\u4e2d\u3002</p> <p>\u6b63\u5982\u56fe\u4e2d\u6240\u793a\uff0c\u6570\u5b57\u7528\u6237\u7ebf\u8def\u5229\u7528\u4e0d\u540c\u7684\u9891\u7387\u6765\u540c\u65f6\u4f20\u8f93\u7f51\u7edc\u6570\u636e\u548c\u7535\u8bdd\u4fe1\u53f7\uff1a</p> <p>\u9ad8\u901f\u4e0b\u8f7d\u901a\u9053\uff0c50 kHz - 1 MHz \u4e2d\u901f\u4e0a\u884c\u901a\u9053\uff0c4 kHz - 50 kHz \u539f\u6709\u7684\u7535\u8bdd\u4fe1\u53f7\u901a\u9053\uff0c0 - 4 kHz \u5728\u7528\u6237\u6bb5\uff0c\u4e00\u4e2a\u5206\u79bb\u5668\u8d1f\u8d23\u5408\u6210\u548c\u5206\u79bb\u7535\u8bdd\u4fe1\u53f7\u548c\u7f51\u7edc\u6570\u636e\uff0c\u800c\u5728\u670d\u52a1\u5546\u7aef\uff0c\u6570\u5b57\u7528\u6237\u7ebf\u63a5\u5165\u590d\u7528\u5668(Digital Subscriber Line Access Multiplexer, DSLAM)\u5219\u900f\u8fc7\u7535\u8bdd\u7ebf\u63d0\u4f9b\u9ad8\u901f\u4e92\u8054\u7f51\u63a5\u5165\u670d\u52a1\u3002\u503c\u5f97\u4e00\u63d0\u7684\u662f\uff0c\u5982\u679c\u5ba2\u6237\u548c\u6570\u5b57\u7528\u6237\u7ebf\u63a5\u5165\u590d\u7528\u5668\u8ddd\u79bb\u8fc7\u8fdc\uff08\u4e00\u4e2a\u6570\u636e\u662f5.5\u516c\u91cc\uff09\uff0c\u5219\u670d\u52a1\u8d28\u91cf\u4f1a\u56e0\u4e3a\u5e72\u6270\u800c\u6025\u5267\u4e0b\u964d\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#4cable-internet-access","title":"4\uff09\u6709\u7ebf\u4e92\u8054\u7f51\u63a5\u5165(Cable Internet access)","text":"<p>\u8fd9\u4e00\u5f62\u5f0f\u7684\u63a5\u5165\u7f51\u5219\u662f\u5728\u7535\u89c6\u7ebf\u7f06\u7684\u57fa\u7840\u4e0a\u6784\u5efa\u7684\uff0c\u6bcf\u4e00\u6237\u90fd\u901a\u8fc7\u540c\u8f74\u7535\u7f06(Coaxial cable)\u4e0e\u6240\u5728\u793e\u533a\u7684\u63a5\u5165\u70b9\u8fde\u63a5\uff0c\u6bcf\u4e2a\u63a5\u5165\u70b9\u53c8\u901a\u8fc7\u5149\u7ea4\u548c\u5f53\u5730\u7684\u7535\u89c6\u516c\u53f8\u7684\u6709\u7ebf\u7535\u89c6\u5934\u7aef(Cable head end)\u8fde\u63a5\uff0c\u8fdb\u800c\u8fde\u63a5\u5230\u4e92\u8054\u7f51\u3002</p> <p>\u548c\u7535\u8bdd\u7ebf\u63a5\u5165\u7c7b\u4f3c\uff0c\u6709\u7ebf\u7f51\u7edc\u63a5\u5165\u4e5f\u901a\u8fc7\u9891\u7387\u5206\u4e3a\u4e0a\u884c\u548c\u4e0b\u8f7d\u4e24\u4e2a\u901a\u9053\uff0c\u5206\u914d\u7ed9\u4e0b\u8f7d\u7684\u901a\u9053\u7684\u901f\u5ea6\u66f4\u5feb\u3002\u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u6709\u7ebf\u4e92\u8054\u7f51\u63a5\u5165\u4f1a\u5728\u76f8\u90bb\u7684\u63a5\u5165\u70b9\u4e4b\u95f4\u5206\u4eab\u5e26\u5bbd\uff0c\u5bf9\u4e8e\u8fde\u63a5\u5230\u540c\u4e00\u4e2a\u6709\u7ebf\u7535\u89c6\u5934\u7aef\u7684\u4e3b\u673a\uff0c\u5f53\u5b83\u4eec\u540c\u65f6\u4e0a\u4f20\u6216\u8005\u4e0b\u8f7d\u65f6\uff0c\u5b83\u4eec\u8bbf\u95ee\u4e92\u8054\u7f51\u7684\u901f\u5ea6\u5c31\u4f1a\u56e0\u4e3a\u5e26\u5bbd\u88ab\u5176\u4ed6\u4e3b\u673a\u6324\u5360\u800c\u663e\u8457\u964d\u4f4e\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#5fiber-to-the-home-ftth","title":"5\uff09\u5149\u7ea4\u5230\u5bb6(Fiber To The Home, FTTH)","text":"<p>\u987e\u540d\u601d\u4e49\uff0c\u5c31\u662f\u5bb6\u5ead\u76f4\u63a5\u4e0e\u670d\u52a1\u5546\u901a\u8fc7\u5149\u7ea4\u5efa\u7acb\u8fde\u63a5\u3002\u8fd9\u4e00\u8fde\u63a5\u65b9\u5f0f\u53c8\u6709\u4e24\u79cd\u7c7b\u578b\uff1a\u4e3b\u52a8\u7684(Active Optical Networks, AONs)\u548c\u88ab\u52a8\u7684(Passive Optical Networks, PONs)\uff0c\u5728\u6b64\u4ec5\u4ec5\u4ecb\u7ecd\u540e\u8005\u3002</p> <p>\u5982\u56fe\u6240\u793a\uff0c\u6bcf\u4e00\u6237\u90fd\u88c5\u6709\u5149\u7f51\u7edc\u7ec8\u7aef(Optical Network Terminal, ONT)\uff0c\u4f5c\u4e3a\u6570\u5b57\u4fe1\u53f7\u548c\u5149\u4fe1\u53f7\u7684\u5206\u91ce\uff0c\u800c\u6bcf\u4e00\u6237\u7684\u5149\u7f51\u7edc\u7ec8\u7aef\u53c8\u8fde\u63a5\u5230\u672c\u5730\u793e\u533a\u7684\u5149\u5206\u8def\u5668(Optical fibers)\uff0c\u5149\u5206\u8def\u5668\u548c\u5149\u5b66\u7ebf\u8def\u7ec8\u7aef(Optical Line Termination, OLT)\u8fde\u63a5\uff0c\u540e\u8005\u8d1f\u8d23\u5149\u4fe1\u53f7\u548c\u6570\u5b57\u4fe1\u53f7\u8f6c\u6362\uff0c\u5e76\u6700\u7ec8\u548c\u4e92\u8054\u7f51\u8fde\u63a5\u3002</p> <p>\u548c\u6709\u7ebf\u4e92\u8054\u7f51\u63a5\u5165\u7c7b\u4f3c\uff0c\u5149\u7ea4\u5230\u5bb6\u4e5f\u4f1a\u5728\u90bb\u8fd1\u4e3b\u673a\u4e4b\u95f4\u5206\u4eab\u5e26\u5bbd\u3002 \u536b\u661f\u94fe\u8def(Satellite link) \u62e8\u53f7\u4e0a\u7f51(Dial-up access) \u4ee5\u592a\u7f51(Ethernet) \u5728\u8fd9\u4e00\u5f62\u5f0f\u4e2d\uff0c\u4e3b\u673a\u901a\u8fc7\u53cc\u7ede\u7ebf\u4ee5\u661f\u72b6\u8fde\u63a5\u5230\u4ea4\u6362\u673a(Ethernet switch)\u5f62\u6210\u5c40\u57df\u7f51(Local Area Network, LAN)\uff0c\u8fdb\u800c\u8fde\u63a5\u5230\u4e92\u8054\u7f51\u3002 WiFi 4G</p>"},{"location":"curriculum_study/TD_net/ch1/#6","title":"6\uff09\u6570\u636e\u662f\u5982\u4f55\u5728\u4e0d\u540c\u4e3b\u673a\u4e4b\u95f4\u4f20\u8f93\u7684","text":"<p>\u5728\u8ba8\u8bba\u5b8c\u4e92\u8054\u7f51\u7684\u7269\u7406\u67b6\u6784\u4e4b\u540e\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u770b\u6570\u636e\u662f\u5982\u4f55\u5728\u8fd9\u4e9b\u590d\u6742\u7684\u7f51\u7edc\u4e2d\u4f20\u8f93\u7684\u3002\u7f51\u7edc\u6570\u636e\u7684\u4f20\u8f93\u548c\u4f20\u7edf\u7684\u7535\u8bdd\u901a\u4fe1\u4e0d\u540c\uff0c\u540e\u8005\u4f7f\u7528\u7535\u8def\u4ea4\u6362(Circuit Switching)\u7684\u901a\u4fe1\u8303\u4f8b\uff0c\u5728\u6bcf\u4e00\u6b21\u901a\u4fe1\u65f6\u90fd\u4f1a\u4e3a\u901a\u4fe1\u7684\u53cc\u65b9\u5efa\u7acb\u5355\u72ec\u7684\u901a\u4fe1\u8def\u5f84\uff0c\u8fd9\u4e2a\u901a\u4fe1\u5bf9\u72ec\u4eab\u8fd9\u4e2a\u901a\u4fe1\u8def\u5f84\u4e0a\u7684\u6240\u6709\u8d44\u6e90\uff1b\u800c\u4e92\u8054\u7f51\u5219\u4f7f\u7528\u5206\u7ec4\u4ea4\u6362(Packet Switching)\u7684\u65b9\u6cd5\u6765\u5e94\u5bf9\u8fdc\u6bd4\u7535\u8bdd\u901a\u4fe1\u5927\u7684\u6570\u636e\u6d41\u91cf\u3002\u7b80\u5355\u6765\u8bf4\uff0c\u5206\u7ec4\u4ea4\u6362\u5c31\u662f\u5c06\u6240\u6709\u6570\u636e\uff0c\u65e0\u8bba\u5927\u5c0f\uff0c\u90fd\u5206\u5272\u6210\u4e0d\u5927\u4e8e\u67d0\u4e00\u6570\u636e\u91cf\u7684\u6570\u636e\u6bb5\u8fdb\u884c\u4f20\u8f93\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u5305(Packet)\u3002\u8fd9\u4e9b\u5305\u5728\u7ecf\u8fc7\u6570\u4e2a\u8fde\u63a5\uff08\u901a\u5e38\u662f\u7ebf\u7f06\uff09\u548c\u5206\u7ec4\u4ea4\u6362\u673a\u8def\u7531(Routing)\u5230\u76ee\u7684\u5730\u3002\u8fd9\u4e00\u8fc7\u7a0b\u53ef\u4ee5\u7c7b\u4f3c\u5730\u770b\u4f5c\u5df2\u7ecf\u5b58\u5728\u4e86\u51e0\u767e\u5e74\u7684\u90ae\u653f\u670d\u52a1\u2014\u2014\u6839\u636e\u4fe1\u4ef6\u548c\u5305\u88f9\u4e0a\u7684\u4fe1\u606f\uff0c\u5404\u4e2a\u90ae\u5c40\u53ef\u4ee5\u5c06\u5b83\u4eec\u9001\u5230\u6307\u5b9a\u7684\u76ee\u7684\u5730\u53bb\u3002\u4e0e\u90ae\u653f\u5305\u88f9\u6709\u6240\u4e0d\u540c\u7684\u5730\u65b9\u5728\u4e8e\uff0c\u8f83\u5927\u7684\u6570\u636e\u4e00\u822c\u4f1a\u88ab\u62c6\u5206\u6210\u5c0f\u6570\u636e\u518d\u5305\u88c5\u8fdb\u884c\u4f20\u8f93\uff0c\u5728\u5230\u8fbe\u76ee\u7684\u5730\u4e4b\u540e\u91cd\u7ec4\u6210\u539f\u6765\u7684\u6570\u636e\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#7forwarding-tables","title":"7\uff09\u8def\u7531\u8868(Forwarding tables)","text":"<p>\u4f60\u6765\u5230\u4e00\u680b\u964c\u751f\u7684\u5199\u5b57\u697c\uff0c\u4f60\u60f3\u8981\u77e5\u9053\u7532\u516c\u53f8\u7684\u8d22\u52a1\u90e8\u7684\u674e\u5148\u751f\u5728\u54ea\u91cc\uff0c\u4e8e\u662f\u4f60\u8d70\u5411\u524d\u53f0\uff0c\u8be2\u95ee\u7532\u516c\u53f8\u5728\u54ea\u4e00\u697c\u5c42\uff0c\u63a5\u7740\u77e5\u9053\u4e86\u697c\u5c42\u7684\u4f60\u5750\u7535\u68af\u6765\u5230\u4e86\u8fd9\u4e2a\u697c\u5c42\uff0c\u8fd9\u4e00\u5c42\u697c\u5f88\u5927\uff0c\u4f60\u88ab\u7ed5\u6655\u4e86\uff0c\u4e8e\u662f\u4f60\u627e\u5230\u4e86\u5395\u6240\u95e8\u524d\u7684\u6e05\u6d01\u5de5\u8be2\u95ee\u7532\u516c\u53f8\u5728\u4ec0\u4e48\u5730\u65b9\uff0c\u6e05\u6d01\u5de5\u544a\u8bc9\u4f60\u5b83\u5728\u90a3\u4e2a\u65b9\u5411\u7684\u89d2\u843d\uff0c\u7136\u540e\u7528\u624b\u6307\u4e86\u6307\uff0c\u4f60\u4fbf\u5faa\u7740\u90a3\u4e2a\u65b9\u5411\u627e\u53bb\uff0c\u529f\u592b\u4e0d\u8d1f\u6709\u5fc3\u4eba\uff0c\u4f60\u7ec8\u4e8e\u6765\u5230\u4e86\u7532\u516c\u53f8\u7684\u95e8\u53e3\uff0c\u4e8e\u662f\u4f60\u987a\u7740\u95e8\u724c\u627e\u5230\u4e86\u4ed6\u4eec\u7684\u8d22\u52a1\u90e8\uff0c\u4f60\u65e0\u52a9\u5730\u770b\u7740\u6df7\u6742\u6392\u5217\u7684\u51e0\u5341\u4e2a\u5ea7\u4f4d\uff0c\u51b3\u5b9a\u5411\u8fdb\u95e8\u5de6\u624b\u8fb9\u7684\u5458\u5de5\u8be2\u95ee\u674e\u5148\u751f\u7684\u5ea7\u4f4d\u5728\u54ea\uff0c\u4ed6\u5f88\u70ed\u5fc3\u5730\u9886\u4f60\u6765\u5230\u4e86\u7a7a\u65e0\u4e00\u4eba\u7684\u5ea7\u4f4d\u524d\uff0c\u65c1\u8fb9\u7684\u540c\u4e8b\u770b\u4e86\u4f60\u4e00\u773c\uff0c\u6320\u4e86\u6320\u5934\u544a\u8bc9\u4f60\u674e\u5148\u751f\u4eca\u5929\u6709\u4e8b\u8bf7\u5047\u5728\u5bb6...</p> <p>\u8fd9\u4fbf\u662f\u4e00\u4e2a\u5305\u88f9\u5728\u4f20\u8f93\u9014\u4e2d\u4f1a\u9047\u5230\u7684\u4e8b\u60c5\uff0c\u5305\u88f9\u4e0a\u9644\u7740\u7684\u5730\u5740\u4f1a\u544a\u8bc9\u8def\u9014\u4e2d\u7684\u6bcf\u4e00\u4e2a\u8def\u7531\u5668\u8fd9\u4e2a\u5305\u88f9\u7684\u6700\u7ec8\u76ee\u7684\u5730\u5728\u54ea\uff0c\u4e8e\u662f\u8def\u7531\u5668\u5c31\u4e3a\u8fd9\u4e2a\u5305\u88f9\u6307\u51fa\u4e00\u4e2a\u5927\u81f4\u7684\u65b9\u5411\uff0c\u7136\u540e\u5305\u88f9\u5c31\u968f\u7740\u90a3\u4e2a\u65b9\u5411\u7ee7\u7eed\u4f20\u8f93\uff0c\u76f4\u5230\u6700\u7ec8\u5230\u8fbe\u76ee\u6807\u5730\u5740\u4ee3\u8868\u7684\u4e3b\u673a\u3002\u8def\u7531\u5668\u5c31\u50cf\u662f\u4e0a\u9762\u90a3\u4e2a\u6545\u4e8b\u91cc\u7684\u524d\u53f0\u5de5\u4f5c\u4eba\u5458\u3001\u6e05\u6d01\u5de5\u3001\u70ed\u5fc3\u7684\u540c\u4e8b\uff0c\u4ed6\u4eec\u62e5\u6709\u8fd9\u680b\u697c\u5c42\u7684\u76f8\u5173\u4fe1\u606f\uff0c\u53ef\u4ee5\u5e2e\u52a9\u4e00\u4e2a\u8ff7\u832b\u7684\u8def\u4eba\u627e\u5bf9\u65b9\u5411\u3002\u8def\u7531\u5668\u62e5\u6709\u7684\u8fd9\u4e9b\u76f8\u5173\u4fe1\u606f\u5c31\u88ab\u5b58\u50a8\u5728\u8def\u7531\u8868\u4e2d\uff0c\u7528\u672f\u8bed\u8bf4\uff0c\u8def\u7531\u8868\u4e2d\u542b\u6709\u5468\u8fb9\u8def\u5f84\u7684\u62d3\u6251\u4fe1\u606f\u3002\u8fd9\u4e00\u590d\u6742\u800c\u53c8\u5b9e\u65f6\u53d8\u52a8\u7684\u4fe1\u606f\u663e\u7136\u4e0d\u53ef\u80fd\u7531\u4e13\u4eba\u6765\u7ef4\u62a4\uff0c\u5b83\u662f\u7531\u4e00\u7cfb\u5217\u8def\u7531\u534f\u8bae(Routing protocol)\u81ea\u52a8\u7ef4\u62a4\u7684\uff0c\u5b83\u4f7f\u8def\u7531\u5668\u53ef\u4ee5\u81ea\u52a8\u5b66\u4e60\u5230\u5176\u4ed6\u8def\u7531\u5668\u7684\u7f51\u7edc\uff0c\u5728\u7f51\u7edc\u7ed3\u6784\u53d1\u751f\u6539\u53d8\u65f6\u76f8\u5e94\u5730\u66f4\u65b0\u8def\u7531\u8868\u3002\u540e\u9762\u4f1a\u8be6\u7ec6\u4ecb\u7ecd\u8fd9\u4e00\u7cfb\u5217\u534f\u8bae\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#8store-and-forward","title":"8\uff09\u50a8\u5b58\u5e76\u8f6c\u53d1(Store-and-forward)","text":"<p>\u7531\u4e8e\u6570\u636e\u662f\u4ee5\u7c7b\u4f3c\u5305\u88f9\u4e3a\u5355\u4f4d\u4f20\u8f93\uff0c\u4f46\u5b83\u4eec\u5728\u7ebf\u7f06\u4e2d\u5374\u53c8\u662f\u4ee5\u6570\u636e\u6d41\u7684\u5f62\u5f0f\u4f20\u8f93\uff0c\u56e0\u6b64\u5728\u4f20\u8f93\u7684\u8def\u5f84\u4e0a\u7684\u4ea4\u6362\u673a\u9700\u8981\u7b49\u5f85\u540c\u4e00\u4e2a\u5305\u88f9\u7684\u6570\u636e\u5b8c\u5168\u5230\u8fbe\uff0c\u4e5f\u5373\u8be5\u5305\u88f9\u7684\u6700\u540e\u4e00\u6bd4\u7279\u8fdb\u5165\u4ea4\u6362\u673a\u4e4b\u540e\uff0c\u8be5\u4ea4\u6362\u673a\u624d\u80fd\u8bfb\u53d6\u5b8c\u6574\u7684\u5305\u88f9\u4e2d\u7684\u5185\u5bb9\uff0c\u51b3\u5b9a\u5b83\u63a5\u4e0b\u6765\u8981\u4f20\u8f93\u7684\u65b9\u5411\u3002\u56e0\u6b64\uff0c\u4ea4\u6362\u673a\u5fc5\u987b\u8981\u6709\u4e00\u4e2a\u8f93\u5165\u7f13\u51b2\u533a\u57df(Buffer)\u6765\u50a8\u5b58\u5df2\u7ecf\u5230\u8fbe\u7684\u5305\u88f9\u6570\u636e\u3002\u4e5f\u5373\u5305\u88f9\u4f1a\u5728\u6bcf\u4e2a\u4ea4\u6362\u673a\u5904\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff0c\u5728\u5305\u88f9\u5b8c\u6574\u5230\u8fbe\u4ea4\u6362\u673a\u4e4b\u540e\u624d\u4f1a\u7ee7\u7eed\u4f20\u8f93\u3002</p> <p>\u4e3a\u4e86\u66f4\u900f\u5f7b\u5730\u7406\u89e3\u8fd9\u4e00\u8fc7\u7a0b\uff0c\u8ba9\u6211\u4eec\u505a\u4e00\u4e9b\u7b80\u5355\u7684\u6570\u5b66\u9898\uff0c\u73b0\u5728\u5047\u8bbe\u6709\u4e00\u4e2a\u7b80\u5355\u7684\u7f51\u7edc\uff0c\u7531\u4e24\u53f0\u4e3b\u673a\u3001\u4e00\u4e2a\u4ea4\u6362\u673a\u548c\u4e24\u6761\u7f51\u7ebf\u7ec4\u6210\uff1a\u4e3b\u673a\u7532 ---\u7f51\u7ebf\u7532--- \u4ea4\u6362\u673a ---\u7f51\u7ebf\u4e59--- \u4e3b\u673a\u4e59\u3002\u89c4\u5b9a\u6bcf\u4e00\u4e2a\u6570\u636e\u5305\u88f9\u7684\u5927\u5c0f\u90fd\u662fL\u6bd4\u7279\uff0c\u4e24\u6839\u7f51\u7ebf\u6bcf\u79d2\u80fd\u591f\u4f20\u8f93R\u6bd4\u7279\u7684\u6570\u636e\uff08\u8fd9\u4e00\u901f\u5ea6\u6709\u9650\u4e5f\u5bfc\u81f4\u4e86\u7f51\u7edc\u5b58\u5728\u4f20\u8f93\u5ef6\u8fdf\uff09\u3002\u540c\u65f6\u6211\u4eec\u5047\u8bbe\u6bcf\u4e00\u6bd4\u7279\u5728\u7f51\u7ebf\u7684\u4f20\u8f93\u901f\u5ea6\u65e0\u9650\u5feb\uff08\u73b0\u5b9e\u4e2d\u901a\u5e38\u662f\u5149\u901f\u7684\u4e09\u5206\u4e4b\u4e8c\u5927\u5c0f\uff09\uff0c\u4ee5\u53ca\u5ffd\u7565\u4ea4\u6362\u673a\u4e2d\u5176\u4ed6\u64cd\u4f5c\u8017\u8d39\u7684\u65f6\u95f4\u3002</p> <p>\u5982\u4f55\u8ba1\u7b97\u4e00\u4e2a\u5305\u88f9\u7684\u4f20\u8f93\u65f6\u95f4\u5462\uff1f\u4e00\u4e2a\u5305\u88f9\u7684\u4f20\u8f93\u65f6\u95f4\u5e94\u8be5\u662f\u4ece\u7b2c\u4e00\u4e2a\u6bd4\u7279\u8fdb\u5165\u7f51\u7ebf\u7532\u5230\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u8fdb\u5165\u4e3b\u673a\u4e59\u7ecf\u8fc7\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u5c06\u76ee\u5149\u96c6\u4e2d\u4e8e\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u3002\u7531\u4e8e\u7f51\u7ebf\u7684\u627f\u8f7d\u80fd\u529b\u6709\u4e0a\u9650\uff0c\u6bcf\u4e00\u79d2\u90fd\u53ea\u6709R\u6bd4\u7279\u53ef\u4ee5\u8fdb\u5165\u7f51\u7ebf\u7532\uff0c\u5728\u7b2cL/R\u79d2\u65f6\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u8fdb\u5165\u7f51\u7ebf\u7532\uff0c\u800c\u6b64\u65f6\u7b2c\u4e00\u4e2a\u6bd4\u7279\u5df2\u7ecf\u8fdb\u5165\u4e86\u4ea4\u6362\u673a\uff08\u6bd4\u7279\u5728\u7f51\u7ebf\u4e2d\u4f20\u64ad\u5f97\u65e0\u9650\u5feb\uff09\uff0c\u5728\u7ecf\u8fc7\u4e86\u53ef\u5ffd\u7565\u7684\u6781\u5c0f\u65f6\u95f4\u4e4b\u540e\uff0c\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u4e5f\u8fdb\u5165\u4e86\u4ea4\u6362\u673a\uff1b\u7c7b\u4f3c\u5730\uff0c\u6bcf\u4e00\u79d2\u90fd\u53ea\u6709R\u6bd4\u7279\u53ef\u4ee5\u8fdb\u5165\u7f51\u7ebf\u4e59\uff0c\u56e0\u6b64\u5728\u7b2cL/R+L/R\u79d2\u65f6\u6700\u540e\u4e00\u4e2a\u6bd4\u7279\u624d\u8fdb\u5165\u7f51\u7ebf\u4e59\uff0c\u63a5\u7740\u5728\u53ef\u4ee5\u5ffd\u7565\u7684\u65f6\u95f4\u5185\u8fdb\u5165\u4e86\u4e3b\u673a\u4e59\uff0c\u6240\u4ee5\u4e00\u4e2a\u5305\u88f9\u7684\u4f20\u8f93\u65f6\u95f4\u5c31\u662f2L/R\u79d2\u3002</p> <p>\u53ef\u4ee5\u8bc1\u660e\uff0c\u4e00\u4e2a\u957f\u4e3aL\u6bd4\u7279\u7684\u5305\u88f9\u7ecf\u8fc7\u4e00\u4e2a\u6709P\u6761\u7f51\u7ebf\u7684\u8def\u5f84\u7684\u4f20\u8f93\u65f6\u95f4\u4e3aPL/R\u79d2\u3002 \u5728\u5f97\u5230\u4e86\u4e00\u4e2a\u5305\u88f9\u7684\u4f20\u8f93\u65f6\u95f4\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u63a5\u7740\u8ba1\u7b97N\u4e2a\u5927\u5c0f\u4e3aL\u6bd4\u7279\u7684\u5305\u88f9\u7684\u4f20\u8f93\u65f6\u95f4\uff0c\u56fe\u793a\u5982\u4e0b\uff1a \u7c7b\u4f3c\u4e0a\u6587\u8ba8\u8bba\uff0c\u6211\u4eec\u8003\u8651\u6700\u540e\u4e00\u4e2a\u5305\u88f9\u5230\u8fbe\u65f6\u7ecf\u8fc7\u7684\u65f6\u95f4\uff0c\u5728\u6700\u540e\u4e00\u4e2a\u5305\u88f9\u51fa\u53d1\u4e4b\u524d\uff0c\u7ecf\u8fc7\u4e86(N-1)L/R\u79d2\uff0c\u800c\u6700\u540e\u4e00\u4e2a\u5305\u88f9\u5230\u8fbe\u76ee\u7684\u5730\u7684\u65f6\u95f4\u662f2L/R\uff0c\u6240\u4ee5\u603b\u7684\u65f6\u95f4\u4e3a(N+1)L/R\u3002 \u7efc\u5408\u8d77\u6765\uff0cN\u4e2a\u5927\u5c0f\u4e3aL\u6bd4\u7279\u7684\u5305\u88f9\u7ecf\u8fc7\u6709P\u6761\u4f20\u8f93\u901f\u7387\u4e3aR\u6bd4\u7279/\u79d2\u7684\u7f51\u7ebf\u7684\u8def\u5f84\u7684\u65f6\u95f4\u4e3a(N-1+P)L/R\u79d2\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#9","title":"9\uff09\u5ef6\u8fdf","text":"<p>\u548c\u4efb\u4f55\u4f20\u8f93\u4e00\u6837\uff0c\u4e92\u8054\u7f51\u4e2d\u6570\u636e\u7684\u4f20\u8f93\u4e5f\u9700\u8981\u82b1\u8d39\u65f6\u95f4\uff0c\u76f8\u4fe1\u8fd9\u4e00\u6982\u5ff5\u5bf9\u5e38\u6253\u7f51\u7edc\u6e38\u620f\u7684\u540c\u5b66\u5e76\u4e0d\u964c\u751f\u3002\u7f51\u7edc\u5ef6\u8fdf\u53ef\u4ee5\u5206\u4e3a\u56db\u7c7b\uff1a</p>"},{"location":"curriculum_study/TD_net/ch1/#1-processing-delay","title":"1. \u5904\u7406\u5ef6\u8fdf(Processing delay)","text":"<p>\u5904\u7406\u5ef6\u8fdf\u901a\u5e38\u6307\u5305\u88f9\u5728\u4ea4\u6362\u673a\u4e2d\u88ab\u5206\u6790\u5904\u7406\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u6bd4\u5982\u627e\u5230\u5305\u88f9\u7684\u4f20\u8f93\u65b9\u5411\uff0c\u68c0\u67e5\u5305\u88f9\u662f\u5426\u6709\u9519\u8bef\u7b49\u7b49\u3002\u5728\u73b0\u4ee3\u7684\u9ad8\u901f\u4ea4\u6362\u673a\u4e2d\uff0c\u8fd9\u4e00\u5ef6\u8fdf\u901a\u5e38\u662f\u5fae\u79d2\u7ea7\u522b\u7684\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#2-queueing-delaypacket-loss","title":"2. \u6392\u961f\u5ef6\u8fdf(Queueing delay)\u548c\u4e22\u5305(Packet loss)","text":"<p>\u901a\u5e38\u6765\u8bf4\u6bcf\u4e2a\u4ea4\u6362\u673a\u90fd\u6709\u4e09\u4e2a\u6216\u4ee5\u4e0a\u7684\u8fde\u63a5\uff08\u5426\u5219\u5c31\u6ca1\u6709\u5fc5\u8981\u5728\u8fd9\u4e2a\u5730\u65b9\u8bbe\u7f6e\u4ea4\u6362\u673a\u4e86\uff09\uff0c\u800c\u5bf9\u6bcf\u4e2a\u8fde\u63a5\uff0c\u4ea4\u6362\u673a\u90fd\u6709\u4e00\u4e2a\u8f93\u51fa\u7f13\u51b2\u533a\u3002\u8fd9\u548c\u524d\u6587\u7684\u8f93\u5165\u7f13\u51b2\u533a\u4e0d\u540c\uff0c\u4ea4\u6362\u673a\u53ea\u6709\u5728\u786e\u5b9a\u4e86\u8fd9\u4e2a\u5305\u88f9\u7684\u4f20\u8f93\u65b9\u5411\u4e4b\u540e\uff0c\u624d\u4f1a\u5c06\u5b83\u653e\u5165\u8f93\u51fa\u7f13\u51b2\u533a\u4e2d\uff0c\u800c\u4ea4\u6362\u673a\u662f\u65e0\u4ece\u77e5\u9053\u8f93\u5165\u7f13\u51b2\u533a\u4e2d\u7684\u4e0d\u5b8c\u6574\u7684\u5305\u88f9\u7684\u4f20\u8f93\u65b9\u5411\u7684\u3002\u8f93\u51fa\u7f13\u51b2\u533a\u662f\u5728\u5305\u88f9\u8f93\u5165\u901f\u5ea6\u5927\u4e8e\u8be5\u8fde\u63a5\u7684\u8f93\u51fa\u901f\u5ea6\u65f6\uff0c\u50a8\u5b58\u540e\u9762\u6765\u7684\u5305\u88f9\u7684\uff0c\u7c7b\u4f3c\u4e8e\u6392\u961f\u3002\u6bcf\u4e2a\u5305\u88f9\u5728\u8fd9\u4e2a\u4ea4\u6362\u673a\u7ecf\u5386\u7684\u6392\u961f\u65f6\u95f4\u5c31\u662f\u6240\u8c13\u7684\u6392\u961f\u5ef6\u8fdf\u3002\u8fd9\u4e2a\u7f13\u51b2\u533a\u672c\u8eab\u4e5f\u662f\u6709\u5927\u5c0f\u9650\u5236\u7684\uff0c\u5f53\u6392\u961f\u7684\u5305\u88f9\u5df2\u7ecf\u5360\u6ee1\u4e86\u6574\u4e2a\u7f13\u51b2\u533a\u65f6\uff0c\u65b0\u6765\u7684\u5305\u88f9\u4f1a\u56e0\u4e3a\u65e0\u6cd5\u8fdb\u5165\u7f13\u51b2\u533a\u800c\u88ab\u76f4\u63a5\u4e22\u5f03\uff0c\u8fd9\u88ab\u79f0\u4e3a\u4e22\u5305\u3002</p> <p>\u6392\u961f\u5ef6\u8fdf\u6709\u5f88\u5927\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u56e0\u4e3a\u5b83\u7684\u5927\u5c0f\u5b8c\u5168\u662f\u7531\u4f20\u8f93\u65f6\u7684\u7f51\u7edc\u72b6\u51b5\u51b3\u5b9a\uff0c\u4e24\u4e2a\u76f8\u540c\u7684\u4e3b\u673a\u5728\u4e0d\u540c\u7684\u65f6\u95f4\u53d1\u9001\u540c\u4e00\u4e2a\u5305\u88f9\uff0c\u4f53\u9a8c\u5230\u7684\u5ef6\u8fdf\u53ef\u80fd\u5b8c\u5168\u4e0d\u540c\uff0c\u6392\u961f\u5ef6\u8fdf\u662f\u5176\u4e2d\u5f88\u91cd\u8981\u7684\u56e0\u7d20\u3002\u4f46\u4e0d\u786e\u5b9a\u6027\u5e76\u4e0d\u610f\u5473\u7740\u6211\u4eec\u4e0d\u80fd\u5b9a\u91cf\u5730\u8ba8\u8bba\u8fd9\u4e2a\u95ee\u9898\uff0c\u6211\u4eec\u53ef\u4ee5\u4ece\u7edf\u8ba1\u7684\u89d2\u5ea6\u4e0a\u53bb\u770b\u6bcf\u4e2a\u5305\u88f9\u4f53\u9a8c\u5230\u7684\u5e73\u5747\u7684\u6392\u961f\u5ef6\u8fdf\u3002</p> <p>\u4e3a\u4e86\u7b80\u5316\u95ee\u9898\uff0c\u5728\u8fd9\u91cc\u6211\u4eec\u5047\u8bbe\u4ea4\u6362\u673a\u7684\u8f93\u51fa\u7f13\u51b2\u533a\u65e0\u9650\u5927\uff0c\u4ee4\u67d0\u4e00\u8f93\u51fa\u7f13\u51b2\u533a\u5bf9\u5e94\u7684\u7f51\u7ebf\u7684\u4f20\u8f93\u80fd\u529b\u4e3aR\u6bd4\u7279\u6bcf\u79d2\uff0c\u6bcf\u4e2a\u5305\u88f9\u7684\u5927\u5c0f\u4e3aL\u6bd4\u7279\uff0c\u6bcf\u79d2\u5e73\u5747\u6709a\u4e2a\u5305\u88f9\uff08\u53ef\u80fd\u5728\u6bcf\u4e00\u79d2\u7684\u4e0d\u540c\u65f6\u523b\uff09\u5230\u8fbe\u8be5\u8f93\u51fa\u7f13\u51b2\u533a\u3002\u90a3\u4e48\uff0c\u4ece\u5e73\u5747\u6765\u770b\u8be5\u7f13\u51b2\u533a\u6bcf\u79d2\u6709La\u6bd4\u7279\u5230\u8fbe\uff0c\u6709R\u6bd4\u7279\u7684\u8f93\u51fa\u80fd\u529b\uff0c\u90a3\u4e48\u5e73\u5747\u8f93\u5165\u548c\u5e73\u5747\u8f93\u51fa\u6bd4\u5c31\u4e3aLa/R\uff0c\u6211\u4eec\u79f0\u4e4b\u4e3a\u6d41\u91cf\u5f3a\u5ea6(Traffic intensity)\u3002\u6211\u4eec\u8981\u7814\u7a76\u6392\u961f\u5ef6\u8fdf\uff0c\u5c31\u9700\u8981\u7814\u7a76\u5e73\u5747\u8f93\u5165\u548c\u5e73\u5747\u8f93\u51fa\u7684\u5927\u5c0f\u5173\u7cfb\uff0c\u5982\u679c\u5e73\u5747\u8f93\u5165\u5927\u4e8e\u5e73\u5747\u8f93\u51fa\uff0c\u90a3\u4e48\u65e0\u8bba\u5176\u771f\u5b9e\u5206\u5e03\u5982\u4f55\uff0c\u8fd9\u6761\u961f\u4e00\u5b9a\u662f\u8d8a\u6392\u8d8a\u957f\u7684\uff0c\u800c\u5e73\u5747\u8f93\u5165\u5c0f\u4e8e\u5e73\u5747\u8f93\u51fa\u65f6\uff0c\u961f\u4e00\u5b9a\u662f\u8d8a\u6392\u8d8a\u77ed\u7684\uff0c\u524d\u8005\u5bf9\u5e94\u65e0\u7a77\u5927\u7684\u5e73\u5747\u5ef6\u8fdf\uff0c\u540e\u8005\u5bf9\u5e94\u6709\u9650\u7684\u5e73\u5747\u5ef6\u8fdf\u3002</p> <p>\u90a3\u4e48\u5e73\u5747\u8f93\u5165\u7b49\u4e8e\u5e73\u5747\u8f93\u51fa\u65f6\u5462\uff1f\u5b9e\u9645\u4e0a\u8fd9\u4e2a\u65f6\u5019\u5e73\u5747\u5ef6\u8fdf\u4e5f\u8d8b\u5411\u4e8e\u65e0\u7a77\u5927\uff0c\u56e0\u4e3a\u5728\u8fd9\u4e2a\u6761\u4ef6\u4e0b\u6700\u597d\u7684\u60c5\u51b5\u5c31\u662f\u961f\u4f0d\u957f\u5ea6\u4e0d\u53d8\uff0c\u6b64\u65f6\u6bcf\u4e00\u65f6\u523b\u8fdb\u5165\u8fd9\u4e00\u7f13\u51b2\u533a\u7684\u6bd4\u7279\u90fd\u662f\u5e38\u6570\u3002\u7136\u800c\u8fd9\u662f\u6781\u5176\u7279\u6b8a\u7684\u60c5\u51b5\uff0c\u7edd\u5927\u591a\u6570\u65f6\u5019\u5e73\u5747\u8f93\u5165\u7684\u5206\u5e03\u662f\u4e0d\u5747\u5300\u7684\u3002\u5f53\u5e73\u5747\u8f93\u5165\u4e0d\u5747\u5300\u65f6\uff0c\u5c31\u4f1a\u5b58\u5728\u8f93\u5165\u5927\u4e8e\u8f93\u51fa\u80fd\u529b\u7684\u65f6\u95f4\u6bb5\uff0c\u5728\u8fd9\u4e00\u65f6\u95f4\u6bb5\u5185\uff0c\u961f\u4f0d\u957f\u5ea6\u5c31\u4f1a\u5f00\u59cb\u589e\u52a0\u3002\u800c\u8f93\u5165\u7684\u6bd4\u7279\u6d41\u662f\u4e0d\u8fde\u7eed\u7684\u3001\u4ee5\u5305\u88f9\u4e3a\u5355\u4f4d\u7684\uff0c\u56e0\u6b64\u5728\u961f\u4f0d\u957f\u5ea6\u7684\u589e\u52a0\u4e0d\u80fd\u5728\u8f93\u5165\u5c0f\u4e8e\u8f93\u51fa\u80fd\u529b\u7684\u65f6\u95f4\u6bb5\u5b8c\u5168\u6d88\u9664\uff0c\u961f\u4f0d\u957f\u5ea6\u56e0\u6b64\u8d8b\u5411\u4e8e\u65e0\u9650\u5927\uff0c\u540e\u7eed\u5230\u8fbe\u7684\u5305\u88f9\u4f53\u9a8c\u5230\u7684\u5ef6\u8fdf\u4e5f\u56e0\u6b64\u8d8b\u5411\u4e8e\u65e0\u7a77\u5927\u3002</p> <p>\u663e\u7136\u5728\u6ca1\u6709\u5305\u88f9\u5230\u8fbe\u65f6\uff0c\u5e73\u5747\u5ef6\u8fdf\u4e3a\u96f6\uff0c\u5927\u81f4\u53ef\u4ee5\u5f97\u5230\u4e0b\u5217\u793a\u610f\u56fe\uff1a</p> <p>\u73b0\u5b9e\u4e2d\uff0c\u8f93\u51fa\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u662f\u6709\u9650\u5236\u7684\uff0c\u5f53\u961f\u4f0d\u957f\u5ea6\u8d8b\u5411\u65e0\u7a77\u5927\u589e\u957f\u65f6\uff0c\u540e\u7eed\u5230\u8fbe\u7684\u5305\u88f9\u4f1a\u88ab\u4e22\u5f03\uff0c\u6b64\u65f6\u5728\u53d1\u51fa\u5305\u88f9\u7684\u4e3b\u673a\u770b\u6765\u5c31\u662f\u7f51\u7edc\u65e0\u54cd\u5e94\uff0c\u5176\u53ef\u80fd\u4f1a\uff08\u53d6\u51b3\u4e8e\u5e94\u7528\u7684\u9700\u8981\uff09\u9009\u62e9\u91cd\u53d1\u5305\u88f9(Retransimit)\u6765\u4fdd\u8bc1\u5305\u88f9\u7684\u6b63\u786e\u4f20\u8f93\u3002 \u6392\u961f\u5ef6\u8fdf\u7684\u6570\u91cf\u7ea7\u8868\u73b0\u4e3a\u4ece\u5fae\u79d2\u7ea7\u5230\u6beb\u79d2\u7ea7\u4e0d\u7b49\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#3-transimission-delay","title":"3. \u4f20\u8f93\u5ef6\u8fdf(Transimission delay)","text":"<p>\u8fd9\u4e00\u5ef6\u8fdf\u7c7b\u578b\u5728\u4e0a\u4e00\u8282\u4e2d\u5df2\u591a\u6709\u8ba8\u8bba\uff0c\u5728\u8fd9\u91cc\u7b80\u5355\u518d\u590d\u4e60\u4e00\u904d\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u5927\u5c0f\u4e3aL\u6bd4\u7279\u7684\u5305\u88f9\uff0c\u5176\u7ecf\u8fc7\u4e00\u4e2a\u627f\u8f7d\u80fd\u529b\u4e3aR\u6bd4\u7279\u6bcf\u79d2\u7684\u4f20\u8f93\u4ecb\u8d28\u65f6\uff0c\u4f20\u8f93\u5ef6\u8fdf\u4e3aL/R\u79d2\u3002\u8fd9\u4e00\u5ef6\u8fdf\u7b49\u4e8e\u4ea4\u6362\u673a\u6216\u4e3b\u673a\u5c06\u5305\u88f9\u5b8c\u5168\u653e\u5165\u8fde\u63a5\u7684\u65f6\u95f4\uff0c\u5176\u6570\u91cf\u7ea7\u8868\u73b0\u4e3a\u4ece\u5fae\u79d2\u7ea7\u5230\u6beb\u79d2\u7ea7\u4e0d\u7b49\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#4-propogation-delay","title":"4. \u4f20\u64ad\u5ef6\u8fdf(Propogation delay)","text":"<p>\u4f20\u64ad\u5ef6\u8fdf\u662f\u6307\u5355\u4e2a\u6bd4\u7279\u901a\u8fc7\u4efb\u610f\u4f20\u8f93\u4ecb\u8d28\u7684\u65f6\u95f4\uff0c\u8fd9\u4e00\u6982\u5ff5\u548c\u4f20\u8f93\u5ef6\u8fdf\u662f\u6709\u5f88\u5927\u4e0d\u540c\u7684\u3002\u4f20\u8f93\u5ef6\u8fdf\u662f\u8fdb\u5165\u4f20\u8f93\u4ecb\u8d28\u82b1\u8d39\u7684\u65f6\u95f4\uff0c\u800c\u4f20\u64ad\u5ef6\u8fdf\u662f\u5728\u4f20\u8f93\u4ecb\u8d28\u4e2d\u4f20\u64ad\u82b1\u8d39\u7684\u65f6\u95f4\u3002\u6bd4\u7279\u5728\u5404\u79cd\u4ecb\u8d28\u4e2d\u7684\u4f20\u64ad\u901f\u5ea6\u4ece2x10^8 m/s\u52303x10^8 m/s\u4e0d\u7b49\uff0c\u4f20\u64ad\u5ef6\u8fdf\u7b49\u4e8e\u4f20\u64ad\u8ddd\u79bb/\u4f20\u64ad\u901f\u5ea6\u3002\u4f20\u64ad\u5ef6\u8fdf\u6570\u91cf\u7ea7\u901a\u5e38\u8868\u73b0\u4e3a\u5fae\u79d2\u7ea7\u3002 \u603b\u7684\u5ef6\u8fdf</p> <p>\u4ee5\u4e0a\u8ba8\u8bba\u7684\u5404\u4e2a\u5ef6\u8fdf\u90fd\u662f\u9488\u5bf9\u4e0d\u540c\u7684\u57fa\u7840\u8bbe\u65bd\u8ba8\u8bba\u7684\uff0c\u5904\u7406\u5ef6\u8fdf\u548c\u6392\u961f\u5ef6\u8fdf\u662f\u9488\u5bf9\u4ea4\u6362\u673a\u7684\uff0c\u4f20\u8f93\u5ef6\u8fdf\u548c\u4f20\u64ad\u5ef6\u8fdf\u662f\u9488\u5bf9\u4f20\u8f93\u4ecb\u8d28\u7684\u3002\u6211\u4eec\u5047\u8bbe\u901a\u4fe1\u8def\u5f84\u4e0a\u6709N\u6761\u7f51\u7ebf\uff0c\u90a3\u4e48\u5c31\u6709N-1\u4e2a\u4ea4\u6362\u673a\uff0c\u901a\u4fe1\u7684\u603b\u5ef6\u8fdf\u5e94\u5f53\u4e3a\uff1a  \u603b\u4f20\u8f93+\u4f20\u64ad+\u5904\u7406+\u6392\u961f</p>"},{"location":"curriculum_study/TD_net/ch1/#10throughput","title":"10\uff09\u541e\u5410\u91cf(Throughput)","text":"<p>\u4ec0\u4e48\u662f\u541e\u5410\u91cf\uff1f\u5728\u6211\u4eec\u4e0b\u8f7d\u4efb\u4f55\u4e1c\u897f\u65f6\uff0c\u663e\u793a\u7684\u4ee5Kb/s\u3001Mb/s\u4e3a\u5355\u4f4d\u7684\u4e0b\u8f7d\u901f\u5ea6\uff0c\u5c31\u662f\u541e\u5410\u91cf\u3002\u6211\u4eec\u901a\u8fc7\u4e24\u79cd\u7b80\u5355\u7684\u60c5\u5f62\u6765\u7814\u7a76\u8fd9\u4e00\u6982\u5ff5\uff0c\u5047\u8bbe\u4e00\u4e2a\u7b80\u5355\u7684\u7f51\u7edc\u4ec5\u7531\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7ec4\u6210\uff0c\u5b83\u4eec\u6709a, b\u4e24\u79cd\u8fde\u63a5\u65b9\u5f0f\uff1a \u5f53\u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u53ea\u6709\u4e00\u53f0\u4ea4\u6362\u673a\uff0c\u5de6\u8fb9\u7684\u7f51\u7ebf\u4f20\u8f93\u80fd\u529b\u4e3aRs\uff0c\u53f3\u8fb9\u7684\u4e3aRc\uff0c\u90a3\u4e48\u5047\u8bbe\u670d\u52a1\u5668\u8981\u5411\u5ba2\u6237\u7aef\u4f20\u8f93\u4e00\u4e2a\u5927\u5c0f\u4e3aF\u6bd4\u7279\u7684\u6587\u4ef6\uff0c\u7531\u4e8e\u8be5\u7f51\u7edc\u7684\u6784\u9020\u7b80\u5355\uff0c\u6392\u961f\u5ef6\u8fdf\u548c\u5904\u7406\u5ef6\u8fdf\u4e3a\u96f6\uff0c\u5047\u8bbe\u4e24\u53f0\u4e3b\u673a\u8ddd\u79bb\u8db3\u591f\u77ed\uff0c\u4f20\u64ad\u5ef6\u8fdf\u4e5f\u53ef\u4ee5\u5ffd\u7565\u3002\u6b64\u65f6\u901a\u4fe1\u7684\u5ef6\u8fdf\u5c31\u53ea\u6709\u4f20\u8f93\u5ef6\u8fdf\u4e00\u9879\uff0c\u90a3\u4e48\u8fd9\u65f6\u5019\u7684\u541e\u5410\u91cf/\u4e0b\u8f7d\u901f\u5ea6\u4e5f\u5c31\u662fRs\u548cRc\u4e2d\u7684\u6700\u5c0f\u503c\u3002\u8fd9\u548c\u7ba1\u9053\u4e2d\u6d41\u52a8\u7684\u6db2\u4f53\u7684\u901f\u5ea6\u662f\u4e00\u6837\u7684\uff0c\u74f6\u9888\u5904\u7684\u6d41\u52a8\u901f\u5ea6\u5c31\u662f\u6574\u4e2a\u7ba1\u9053\u7684\u6d41\u52a8\u901f\u5ea6\u3002 \u63a8\u800c\u5e7f\u4e4b\uff0c\u5f53\u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u6709N\u4e2a\u8fde\u63a5\u65f6\uff0c\u541e\u5410\u91cf/\u4e0b\u8f7d\u901f\u5ea6\u5c31\u662fmin{R1, R2, ..., Rn}\u3002 \u5728\u73b0\u5b9e\u4e16\u754c\u4e2d\u95ee\u9898\u5f80\u5f80\u6ca1\u6709\u8fd9\u4e48\u7b80\u5355\uff0c\u4f20\u8f93\u4ecb\u8d28\u4e2d\u5e76\u4e0d\u662f\u53ea\u6709\u4e00\u4e2a\u5305\u88f9\u5728\u4f20\u8f93\uff0c\u56e0\u6b64\u6bcf\u4e2a\u5305\u88f9\u5206\u914d\u5230\u7684\u4f20\u8f93\u80fd\u529b\u6709\u6240\u4e0d\u540c\uff0c\u800c\u52a0\u4e0a\u4f20\u64ad\u5ef6\u8fdf\u7b49\u53d8\u91cf\uff0c\u541e\u5410\u91cf\u4f1a\u5448\u73b0\u590d\u6742\u7684\u6ce2\u52a8\u884c\u4e3a\u3002\u4e0d\u8fc7\u57fa\u672c\u4e0a\u4e92\u8054\u7f51\u7684\u6838\u5fc3\u90e8\u5206\u7684\u901f\u5ea6\u662f\u8db3\u591f\u5feb\u7684\uff0c\u5728\u5927\u591a\u6570\u65f6\u5019\u7f51\u7edc\u7ec8\u7aef\u5904\u7684\u8fde\u63a5\u51b3\u5b9a\u4e86\u901a\u4fe1\u7684\u541e\u5410\u91cf\uff0c\u63a5\u5165\u7f51\u7684\u4f20\u8f93\u80fd\u529b\u662f\u901a\u4fe1\u541e\u5410\u91cf\u7684\u74f6\u9888\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#11protocol","title":"11\uff09\u4ec0\u4e48\u662f\u534f\u8bae(Protocol)","text":"<p>\u5728\u5927\u81f4\u8ba8\u8bba\u5b8c\u4e86\u6784\u6210\u4e92\u8054\u7f51\u7684\u786c\u4ef6\u7684\u5168\u8c8c\u4e4b\u540e\uff0c\u6211\u4eec\u5c06\u6ce8\u610f\u529b\u653e\u5728\u8f6f\u4ef6\u4e0a\u6765\u3002\u9996\u5148\u6620\u5165\u773c\u5e18\u7684\u5c31\u662f\u5927\u540d\u9f0e\u9f0e\u7684\u534f\u8bae\uff0c\u6211\u4eec\u53ef\u4ee5\u5728\u5404\u79cd\u4e92\u8054\u7f51\u76f8\u5173\u7684\u6587\u6863\u4e2d\u53d1\u73b0\u8fd9\u4e2a\u8bcd\u7684\u5927\u91cf\u51fa\u73b0\u3002\u6211\u4eec\u53ef\u4ee5\u7528\u4e24\u4e2a\u4eba\u4e4b\u95f4\u7684\u4ea4\u6d41\u6765\u6bd4\u55bb\u534f\u8bae\u7684\u4f5c\u7528\uff0c\u4f8b\u5982\u5c0f\u660e\u60f3\u8981\u5411\u4e00\u4e2a\u964c\u751f\u4eba\u5c0f\u674e\u8be2\u95ee\u73b0\u5728\u7684\u65f6\u95f4\uff08\u5047\u8bbe\u4ed6\u624b\u673a\u6ca1\u7535\u4e86\uff09\uff0c\u4ed6\u5927\u6982\u4f1a\u8fd9\u6837\u5f00\u5934\uff1a \u4f60\u597d\uff0c\u8bf7\u95ee\u80fd\u6253\u6270\u4e00\u4e0b\u5417\uff1f \u8fd9\u53e5\u8bdd\u4ee3\u8868\u4e86\u5c0f\u660e\u60f3\u8981\u5411\u5c0f\u674e\u5bf9\u8bdd\uff0c\u4e5f\u5373\u201c\u521d\u59cb\u5316\u201d\u8fd9\u4e00\u6b21\u6c9f\u901a\u3002\u8fd9\u4e2a\u65f6\u5019\u5982\u679c\u5c0f\u674e\u542c\u5230\u4e86\u5e76\u613f\u610f\u4f5c\u51fa\u56de\u7b54\uff0c\u90a3\u4e48\u4ed6\u4f1a\u8bf4\uff1a \u597d\u7684\uff0c\u8bf7\u95ee\u6709\u4ec0\u4e48\u4e8b\u3002 \u8fd9\u4e00\u53e5\u8bdd\u544a\u8bc9\u5c0f\u660e\u5c0f\u674e\u6210\u529f\u63a5\u6536\u5230\u4e86\u5bf9\u8bdd\u7684\u8bf7\u6c42\u5e76\u4e14\u7b49\u5f85\u5c0f\u660e\u7ee7\u7eed\u5bf9\u8bdd\uff0c\u4e8e\u662f\u5c0f\u660e\u95ee\u5230\uff1a \u8bf7\u95ee\u73b0\u5728\u7684\u65f6\u95f4\u662f\u591a\u5c11\uff0c\u6211\u7684\u624b\u673a\u6ca1\u7535\u4e86\uff0c\u73b0\u5728\u6025\u7740\u8981\u77e5\u9053\u65f6\u95f4\u3002 \u5c0f\u674e\u542c\u5230\u4e86\u8fd9\u4e00\u53e5\u8bdd\uff0c\u5e76\u4e14\u4ed6\u4e5f\u62e5\u6709\u5f53\u524d\u65f6\u95f4\u8fd9\u4e00\u4fe1\u606f\uff08\u6216\u8bb8\u662f\u6253\u5f00\u624b\u673a\u770b\u4e86\u4e00\u773c\uff09\uff0c\u4e8e\u662f\u4ed6\u56de\u7b54\uff1a \u73b0\u5728\u662f\u4e24\u70b9\u949f\u3002 \u5c0f\u660e\u7ec8\u4e8e\u5f97\u5230\u4e86\u4ed6\u60f3\u8981\u7684\u4fe1\u606f\uff0c\u4e8e\u662f\u4ed6\u611f\u6fc0\u5730\u56de\u7b54\uff1a \u8c22\u8c22\u3002 \u8fd9\u53e5\u8bdd\u540c\u65f6\u4e5f\u4f20\u8fbe\u4e86\u7ed3\u675f\u5bf9\u8bdd\u7684\u610f\u613f\uff0c\u5c0f\u674e\u542c\u5230\u540e\u70b9\u5934\u5fae\u5fae\u4e00\u7b11\uff0c\u4e8e\u662f\u8fd9\u6b21\u5bf9\u8bdd\u5c31\u987a\u5229\u7ed3\u675f\u4e86\u3002</p> <p>\u4e0a\u9762\u5b8c\u6574\u63cf\u8ff0\u4e86\u4e00\u6b21\u987a\u5229\u7684\u5bf9\u8bdd\uff0c\u4f46\u4e0d\u662f\u6bcf\u6b21\u5bf9\u8bdd\u90fd\u80fd\u8fd9\u4e48\u987a\u5229\uff0c\u5982\u679c\u5728\u5c0f\u660e\u4f20\u8fbe\u51fa\u60f3\u8981\u5bf9\u8bdd\u7684\u4fe1\u53f7\u4e4b\u540e\uff0c\u5c0f\u674e\u9ed8\u4e0d\u4f5c\u58f0\uff0c\u6216\u8005\u5c0f\u674e\u56de\u7b54\"What?\"\uff08\u5c0f\u660e\u4e0d\u61c2\u82f1\u6587\uff09\uff0c\u90a3\u4e48\u8fd9\u6b21\u5bf9\u8bdd\u8bf7\u6c42\u5c31\u5931\u8d25\u4e86\u3002\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e2d\uff0c\u4e00\u79cd\u662f\u5c0f\u674e\u62d2\u7edd\u5bf9\u8bdd\uff0c\u800c\u53e6\u4e00\u79cd\u5219\u662f\u53cc\u65b9\u4ea4\u6d41\u7684\u534f\u8bae\uff08\u4e5f\u5373\u8bed\u8a00\uff09\u4e0d\u76f8\u540c\uff0c\u56e0\u6b64\u4e5f\u65e0\u6cd5\u8fdb\u884c\u5bf9\u8bdd\u3002</p> <p>\u4e92\u8054\u7f51\u4e2d\u5904\u5904\u5b58\u5728\u534f\u8bae\uff0c\u53ef\u4ee5\u8bf4\u8fd9\u672c\u4e66\u5927\u534a\u90e8\u5206\u90fd\u5728\u5904\u7406\u534f\u8bae\u76f8\u5173\u7684\u5185\u5bb9\u3002\u534f\u8bae\u5b9a\u4e49\u4e86\u591a\u4e2a\u901a\u4fe1\u5b9e\u4f53\u4e4b\u95f4\u4ea4\u6362\u4fe1\u606f\u7684\u683c\u5f0f\u548c\u987a\u5e8f\uff0c\u4ee5\u53ca\u5728\u4f20\u8f93\u548c\u63a5\u6536\u5230\u67d0\u4e2a\u4fe1\u606f\u6216\u4e8b\u4ef6\u65f6\u91c7\u53d6\u7684\u884c\u52a8\u3002</p> <p>\u4e3a\u4e86\u8bf4\u660e\u8fd9\u4e00\u5b9a\u4e49\u7684\u6db5\u4e49\uff0c\u6211\u4eec\u4ee5\u6d4f\u89c8\u5668\u8bf7\u6c42\u7f51\u9875\u4e3a\u4f8b\u7814\u7a76\u4e92\u8054\u7f51\u4e0a\u7684\u534f\u8bae\u7684\u8fd0\u4f5c\u8fc7\u7a0b\u3002\u5f53\u7528\u6237\u6253\u5f00\u6d4f\u89c8\u5668\uff0c\u5728\u5730\u5740\u680f\u8f93\u5165\u67d0\u4e2a\u7f51\u5740\u540e\uff0c\u8fd9\u53f0\u7535\u8111\u5c31\u4f1a\u9996\u5148\u5411\u670d\u52a1\u5668\u53d1\u51faTCP\u8fde\u63a5\u8bf7\u6c42\uff0c\u670d\u52a1\u5668\u53d7\u5230TCP\u8fde\u63a5\u8bf7\u6c42\u540e\u56de\u590d\u8fd9\u4e00\u8bf7\u6c42\u8868\u793a\u540c\u610f\u8fde\u63a5\uff0c\u5728\u7535\u8111\u53d7\u5230\u56de\u590d\u540e\uff0cTCP\u8fde\u63a5\u5c31\u6210\u529f\u5efa\u7acb\u4e86\uff0c\u63a5\u7740\u7535\u8111\u5411\u670d\u52a1\u5668\u53d1\u51faGET\u8bf7\u6c42\uff0c\u8981\u6c42\u83b7\u5f97\u8fd9\u4e00\u7f51\u5740\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u670d\u52a1\u5668\u63a5\u7740\u5c31\u5c06\u8fd9\u4e9b\u6587\u4ef6\u53d1\u9001\u7ed9\u7535\u8111\uff0c\u6700\u540e\u4e24\u8fb9\u5173\u95edTCP\u8fde\u63a5\uff0c\u8fd9\u4e00\u8bf7\u6c42\u8fc7\u7a0b\u4fbf\u7ed3\u675f\u4e86\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#12","title":"12\uff09\u4e92\u8054\u7f51\u534f\u8bae\u6808","text":"<p>\u6b63\u5982\u6211\u4eec\u5df2\u7ecf\u770b\u5230\u7684\uff0c\u4e92\u8054\u7f51\u662f\u4e00\u4e2a\u6781\u5176\u590d\u6742\u7684\u7cfb\u7edf\uff0c\u5373\u4f7f\u662f\u60f3\u8981\u5728\u5355\u72ec\u4e00\u4e2a\u65b9\u9762\u53bb\u63cf\u8ff0\u5b83\u4e5f\u662f\u4e0d\u5bb9\u6613\u7684\uff0c\u4e3a\u4e86\u65b9\u4fbf\u5730\u63cf\u8ff0\u4e92\u8054\u7f51\u7684\u5168\u8c8c\uff0c\u6211\u4eec\u4f7f\u7528\u5c42\u7ea7\u7ed3\u6784\u6765\u5e2e\u52a9\u6211\u4eec\u3002</p> <p>\u4ec0\u4e48\u662f\u5c42\u7ea7\u7ed3\u6784\uff1f\u6211\u4eec\u7528\u822a\u7a7a\u4e1a\u6765\u6253\u6bd4\u65b9\uff08\u8fd9\u4e5f\u662f\u4e66\u4e2d\u7684\u4f8b\u5b50\uff09\uff0c\u8ba9\u6211\u4eec\u634b\u4e00\u634b\u4e00\u540d\u4e58\u5ba2\u5750\u98de\u673a\u65f6\uff0c\u4f1a\u7ecf\u5386\u54ea\u4e9b\u6b65\u9aa4\uff1a\u9996\u5148\u4ed6\u4f1a\u901a\u8fc7\u5404\u79cd\u6e20\u9053\u4e70\u5230\u4e00\u5f20\u673a\u7968\uff0c\u6765\u5230\u673a\u573a\u767b\u673a\u697c\u4e4b\u540e\uff0c\u4ed6\u4f1a\u548c\u4ed6\u7684\u884c\u674e\u4e00\u8d77\u7ecf\u8fc7\u5b89\u68c0\uff0c\u968f\u540e\u4ed6\u7684\u5927\u4ef6\u884c\u674e\u4f1a\u88ab\u5e26\u8d70\u6258\u8fd0\uff0c\u63a5\u7740\u901a\u8fc7\u767b\u673a\u53e3\u8fdb\u5165\u98de\u673a\uff0c\u5750\u7740\u98de\u673a\u8d77\u98de\uff0c\u7ecf\u8fc7\u4e00\u6bb5\u65f6\u95f4\u7684\u98de\u884c\u4e4b\u540e\uff08\u53ef\u80fd\u4e2d\u9014\u4f1a\u6709\u8f6c\u673a\uff09\uff0c\u98de\u673a\u964d\u843d\uff0c\u4e58\u5ba2\u4ece\u767b\u673a\u53e3\u4e0b\u98de\u673a\uff0c\u6765\u5230\u9886\u53d6\u884c\u674e\u5904\u7b49\u5f85\u8ba4\u9886\u81ea\u5df1\u7684\u884c\u674e\uff0c\u6700\u540e\u5728\u5b8c\u6210\u8fd9\u8d9f\u65c5\u7a0b\u4e4b\u65f6\uff0c\u4ed6\u53ef\u80fd\u8fd8\u4f1a\u5728\u7f51\u4e0a\u7ed9\u8fd9\u6b21\u65c5\u884c\u6253\u5206\u3002</p> <p>\u4ed4\u7ec6\u7684\u89c2\u5bdf\u8fd9\u6bb5\u63cf\u8ff0\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\uff0c\u8fd9\u540d\u4e58\u5ba2\u7ecf\u8fc7\u7684\u6b65\u9aa4\u5448\u73b0\u51fa\u4e86\u4e00\u5b9a\u7684\u5bf9\u79f0\u6027\uff1a\u8d2d\u7968\u5bf9\u5e94\u6253\u5206\u8bc4\u4ef7\uff0c\u884c\u674e\u5b89\u68c0\u548c\u6258\u8fd0\u5bf9\u5e94\u9886\u53d6\u884c\u674e\uff0c\u767b\u4e0a\u98de\u673a\u5bf9\u5e94\u8d70\u4e0b\u98de\u673a\uff0c\u98de\u673a\u8d77\u98de\u5bf9\u5e94\u98de\u673a\u964d\u843d\u3002\u4e58\u5ba2\u7684\u884c\u4e3a\u6a21\u5f0f\u5c31\u50cf\u4e00\u4e2a\u6808\u4e00\u6837\uff0c\u76f8\u5e94\u7684\u884c\u4e3a\u4f9d\u6b21\u653e\u5165\uff0c\u518d\u4f9d\u6b21\u53d6\u51fa\u3002</p> <p>\u673a\u7968\uff08\u8d2d\u4e70\uff09      \u673a\u7968\uff08\u8bc4\u4ef7\uff09 \u884c\u674e\uff08\u5b89\u68c0\u3001\u6258\u8fd0\uff09       \u884c\u674e\uff08\u8ba4\u9886\uff09 \u767b\u673a\u53e3\uff08\u767b\u673a\uff09     \u767b\u673a\u53e3\uff08\u4e0b\u98de\u673a\uff09 \u98de\u673a\u8d77\u98de        \u98de\u673a\u964d\u843d \u98de\u673a\u6cbf\u822a\u7ebf\u98de\u884c \u98de\u673a\u6cbf\u822a\u7ebf\u98de\u884c \u98de\u673a\u6cbf\u822a\u7ebf\u98de\u884c \u8fd9\u4e9b\u5206\u5c42\u4e4b\u95f4\u662f\u5b58\u5728\u660e\u786e\u7684\u903b\u8f91\u5173\u7cfb\u7684\uff0c\u4f8b\u5982\uff0c\u53ea\u6709\u4e70\u4e86\u7968\u7684\u4e58\u5ba2\u624d\u80fd\u8fdb\u5165\u767b\u673a\u697c\u8fdb\u884c\u884c\u674e\u5b89\u68c0\uff0c\u800c\u7ecf\u8fc7\u4e86\u5b89\u68c0\u7684\u4e58\u5ba2\u624d\u80fd\u6765\u5230\u767b\u673a\u53e3\u767b\u673a\u3002\u4e0b\u4e00\u4e2a\u5206\u5c42\u7684\u8fd0\u4f5c\uff0c\u662f\u4f9d\u8d56\u4e8e\u4e0a\u4e00\u5c42\u63d0\u4f9b\u7684\u670d\u52a1\u7684\u3002\u8d1f\u8d23\u5b89\u68c0\u7684\u5458\u5de5\u4e0d\u4f1a\u53bb\u68c0\u67e5\u4e58\u5ba2\u7684\u7968\uff0c\u800c\u5230\u4e86\u98de\u673a\u8d77\u98de\u7684\u65f6\u5019\uff0c\u4e5f\u6ca1\u6709\u4eba\u4f1a\u64cd\u5fc3\u5b89\u68c0\u7684\u95ee\u9898\uff0c\u8fd9\u4e9b\u670d\u52a1\u5df2\u7ecf\u7531\u4e0a\u4e00\u5c42\u63d0\u4f9b\u4e86\uff0c\u6bcf\u4e00\u5c42\u90fd\u53ea\u9700\u8981\u505a\u597d\u81ea\u5df1\u4e8b\u60c5\u5373\u53ef\u3002</p> <p>\u4ece\u6a2a\u5411\u770b\uff0c\u6bcf\u4e00\u4e2a\u5206\u5c42\u7684\u4e24\u7aef\u4e5f\u662f\u6709\u4e00\u5b9a\u7684\u8054\u7cfb\u7684\uff0c\u4f8b\u5982\u884c\u674e\u7684\u5b89\u68c0\u3001\u6258\u8fd0\u73af\u8282\u660e\u786e\u8054\u7cfb\u7740\u884c\u674e\u7684\u8ba4\u9886\u73af\u8282\uff0c\u4e58\u5ba2\u5728\u6258\u8fd0\u548c\u8ba4\u9886\u65f6\u62ff\u7740\u7684\u884c\u674e\u662f\u540c\u4e00\u4e2a\u884c\u674e\uff0c\u800c\u6258\u8fd0\u672c\u8eab\u4e5f\u9075\u5faa\u4e00\u5b9a\u6b65\u9aa4\uff0c\u624d\u80fd\u786e\u4fdd\u4e58\u5ba2\u7684\u884c\u674e\u80fd\u591f\u5373\u65f6\u5730\u9001\u5230\u4e58\u5ba2\u624b\u4e2d\u3002\u6bcf\u4e00\u4e2a\u5206\u5c42\u90fd\u6709\u81ea\u5df1\u72ec\u6709\u7684\u201c\u534f\u8bae\u201d\uff0c\u901a\u8fc7\u51fa\u53d1\u5730\u4e00\u7aef\u548c\u76ee\u7684\u5730\u4e00\u7aef\u540c\u5c42\u7ea7\u4e4b\u95f4\u7684\u4ea4\u6d41\uff0c\u6574\u4e2a\u4e58\u5750\u98de\u673a\u7684\u6d41\u7a0b\u5c31\u80fd\u591f\u6b63\u5e38\u8fd0\u4f5c\u3002</p> <p>\u73b0\u5728\u56de\u5230\u4e92\u8054\u7f51\u534f\u8bae\u6808\u4e0a\u6765\uff0c\u5b83\u5206\u4e3a\u4e94\u5c42\uff0c\u4ece\u4e0a\u5230\u4e0b\u5206\u522b\u662f\uff1a</p> <ul> <li> <p>\u5e94\u7528\u5c42(Application) \u8fd9\u4e00\u5c42\u662f\u6700\u8d34\u8fd1\u6211\u4eec\u65e5\u5e38\u751f\u6d3b\u4f7f\u7528\u7684\u5404\u7c7b\u7f51\u7edc\u5e94\u7528\uff0c\u5982\u6d4f\u89c8\u5668\uff0c\u7535\u5b50\u90ae\u7bb1\uff0c\u7f51\u7edc\u6e38\u620f\u7b49\u7b49\u3002\u4f46\u662f\u4e0d\u8981\u88ab\u5b57\u9762\u610f\u601d\u8bef\u5bfc\u4e86\uff0c\u8fd9\u4e00\u5c42\u4e0d\u7b49\u4e8e\u7f51\u7edc\u5e94\u7528\u672c\u8eab\uff0c\u5b83\u53ea\u662f\u63d0\u4f9b\u4e86\u4e0d\u540c\u7f51\u7edc\u5e94\u7528\u6240\u9700\u8981\u7684\u5404\u7c7b\u534f\u8bae\uff0c\u5982HTTP\uff08\u6d4f\u89c8\u5668\u7528\uff09\u3001SMTP\uff08\u7535\u5b50\u90ae\u7bb1\u7528\uff09\u3001DNS\u670d\u52a1\uff08\u540e\u9762\u4f1a\u63d0\u5230\uff09\u7b49\u7b49\u3002\u6570\u636e\u5728\u8fd9\u91cc\u5c31\u5982\u540c\u673a\u573a\u7684\u4e58\u5ba2\uff0c\u5728\u4e0d\u540c\u5c42\u7ea7\u4f1a\u6709\u4e0d\u540c\u7684\u72b6\u6001\uff0c\u5728\u5e94\u7528\u5c42\u7684\u6570\u636e\u6211\u4eec\u79f0\u4e4b\u4e3a\u4fe1\u606f(Message)\u3002</p> </li> <li> <p>\u4f20\u8f93\u5c42(Transport) \u5e94\u7528\u5c42\u7684\u4e0b\u4e00\u5c42\u662f\u4f20\u8f93\u5c42\uff0c\u4f20\u8f93\u5c42\u8d1f\u8d23\u5305\u88c5\u4f20\u8f93\u5e94\u7528\u5c42\u7684\u4fe1\u606f(Message)\u3002\u4f20\u8f93\u5c42\u6709\u4e24\u79cd\u534f\u8bae\u2014\u2014\u4f20\u8f93\u63a7\u5236\u534f\u8bae(Transimission Control Protocol, TCP)\u548c\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae(User Datagram Protocol, UDP)\u3002\u524d\u8005\u63d0\u4f9b\u4e86\u8fde\u63a5\u5bfc\u5411\u5f0f\u901a\u4fe1\uff0c\u5b83\u4fdd\u8bc1\u4e86\u5e94\u7528\u5c42\u4fe1\u606f\u7684\u7684\u6709\u5e8f\u3001\u5b8c\u6574\u4f20\u8f93\uff0c\u8fd8\u63d0\u4f9b\u4e86\u6570\u636e\u6d41\u91cf\u63a7\u5236\uff0c\u4f7f\u5f97\u8fde\u63a5\u901f\u5ea6\u4e0d\u540c\u7684\u4e24\u4e2a\u4e3b\u673a\u53ef\u4ee5\u987a\u5229\u901a\u4fe1\uff08\u8fde\u63a5\u901f\u5ea6\u4e0d\u540c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u7684\u4e0d\u5b8c\u6574\uff0c\u8fd9\u4e00\u70b9\u540e\u9762\u4f1a\u8bb2\uff09\uff0c\u4ee5\u53ca\u62e5\u585e\u63a7\u5236\uff0c\u8fd9\u4e00\u529f\u80fd\u53ef\u4ee5\u5728\u6574\u4e2a\u7f51\u7edc\u8f83\u4e3a\u62e5\u6324\u65f6\u5bf9\u4f20\u8f93\u901f\u5ea6\u8fdb\u884c\u63a7\u5236\u4ece\u800c\u964d\u4f4e\u6574\u4e2a\u7f51\u7edc\u7684\u5835\u585e\u7a0b\u5ea6\u3002\u4f20\u8f93\u63a7\u5236\u534f\u8bae\u540c\u65f6\u8fd8\u4f1a\u5c06\u8f83\u5927\u7684\u6570\u636e\u5305\u62c6\u5206\u6210\u5c0f\u5f97\u6570\u636e\u5305\uff0c\u589e\u5feb\u4f20\u8f93\u901f\u5ea6\uff08\u8fd9\u4e00\u70b9\u5728\u6570\u5b66\u4e0a\u53ef\u4ee5\u8bc1\u660e\uff09\u3002\u4e0e\u4e4b\u76f8\u5bf9\u7684\uff0c\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\u53ef\u4ee5\u8bf4\u662f\u4e00\u540d\u201c\u4e00\u65e0\u6240\u6709\u8005\u201d\uff0c\u5b83\u4ec5\u4ec5\u63d0\u4f9b\u6700\u7b80\u5355\u7684\u6253\u5305\u548c\u6700\u57fa\u7840\u7684\u9519\u8bef\u68c0\u67e5\uff0c\u4f46\u4e0e\u4e4b\u76f8\u5bf9\u7684\uff0c\u56e0\u4e3a\u514d\u53bb\u4e86\u8fd9\u4e48\u591a\u6b65\u9aa4\uff0c\u5b83\u7684\u901f\u5ea6\u66f4\u5feb\uff0c\u53ef\u4ee5\u8bf4\u4f20\u8f93\u63a7\u5236\u534f\u8bae\u548c\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\u5404\u6709\u4f18\u70b9\uff0c\u4e0d\u540c\u7684\u7f51\u7edc\u5e94\u7528\u6839\u636e\u81ea\u5df1\u7684\u9700\u6c42\u53ef\u4ee5\u9009\u62e9\u4e0d\u540c\u7684\u4f20\u8f93\u534f\u8bae\u3002\u7ecf\u8fc7\u4f20\u8f93\u5c42\u6253\u5305\u7684\u6570\u636e\u6211\u4eec\u79f0\u4e4b\u4e3a\u6570\u636e\u6bb5(Segment)\u3002</p> </li> <li> <p>\u7f51\u7edc\u5c42(Network) \u5728\u8fd9\u4e00\u5c42\u7684\u6570\u636e\u6211\u4eec\u79f0\u4e4b\u4e3a\u6570\u636e\u62a5(Datagram)\uff0c\u662f\u5728\u5206\u7ec4\u4ea4\u6362\u7f51\u7edc\u4e2d\u4f20\u8f93\u7684\u6700\u5c0f\u5355\u4f4d\u3002\u53ef\u4ee5\u770b\u5230\uff0c\u5230\u4e86\u8fd9\u4e00\u5c42\u4e4b\u540e\uff0c\u6211\u4eec\u5df2\u7ecf\u5f00\u59cb\u63a5\u89e6\u5230\u4e92\u8054\u7f51\u7684\u57fa\u7840\u8bbe\u65bd\u4e86\u3002\u7f51\u7edc\u5c42\u5f80\u5f80\u53c8\u88ab\u79f0\u4e3aIP\u5c42\uff0c\u5c3d\u7ba1\u5b83\u6240\u6d89\u53ca\u5230\u7684\u534f\u8bae\u4e0d\u6b62IP(Internet Protocol address)\u534f\u8bae\u3002IP\u534f\u8bae\u662f\u4e92\u8054\u7f51\u975e\u5e38\u91cd\u8981\u7684\u4e00\u4e2a\u534f\u8bae\uff0c\u5728\u4e0a\u4e00\u5c42\u4f20\u8f93\u5c42\u4e2d\u6709\u4e24\u79cd\u534f\u8bae\u53ef\u4f9b\u9009\u62e9\uff0c\u4f46\u5230\u4e86\u7f51\u7edc\u5c42\uff0c\u6211\u4eec\u53ea\u80fd\u9009\u62e9IP\u534f\u8bae\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u4efb\u4f55\u6d89\u53ca\u5230\u4e92\u8054\u7f51\u7684\u5e94\u7528\u90fd\u5fc5\u7136\u7ed5\u4e0d\u5f00IP\u534f\u8bae\u3002</p> </li> </ul> <p>\u90a3\u4e48IP\u534f\u8bae\u5177\u4f53\u662f\u505a\u4ec0\u4e48\u7684\u5462\uff1fIP\u5c31\u76f8\u5f53\u4e8e\u7f51\u7edc\u4e16\u754c\u5f53\u4e2d\u7684\u5730\u5740\uff0c\u53d1\u6325\u7740\u7c7b\u4f3c\u90ae\u653f\u670d\u52a1\u4e2d\u7684\u90ae\u653f\u7f16\u7801\u7684\u4f5c\u7528\uff0c\u53ea\u6709\u63d0\u4f9b\u4e86\u5730\u5740\uff0c\u901a\u4fe1\u8def\u5f84\u4e0a\u7684\u4ea4\u6362\u673a\u624d\u80fd\u627e\u5230\u8fd9\u4e2a\u5305\u88f9\u63a5\u4e0b\u6765\u7684\u4f20\u8f93\u65b9\u5411\uff08\u8def\u7531\u8868\u4e5f\u662f\u57fa\u4e8eIP\u5efa\u7acb\u7684\uff09\u3002</p> <p>\u9664\u4e86IP\u534f\u8bae\u4e4b\u5916\uff0c\u7f51\u7edc\u5c42\u4e5f\u662f\u5404\u79cd\u8def\u7531\u534f\u8bae(Routing protocol)\u7684\u5b9e\u73b0\u5c42\u3002</p> <ul> <li>\u6570\u636e\u94fe\u8def\u5c42(Link) \u8fd9\u4e00\u5c42\u4e3b\u8981\u5173\u6ce8\u7684\u662f\u5c06\u5305\u88f9\u4ece\u5f53\u524d\u4ea4\u6362\u673a\u4f20\u8f93\u5230\u4e0b\u4e00\u4e2a\u4ea4\u6362\u673a\uff0c\u7f51\u7edc\u5c42\u5c06\u6570\u636e\u62a5\u4ea4\u7ed9\u6570\u636e\u94fe\u8def\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\u5c06\u6570\u636e\u62a5\u6253\u5305\u6210\u5e27(Frame)\u518d\u4ea4\u7ed9\u4e0b\u4e00\u4e2a\u4ea4\u6362\u673a\uff0c\u4e0b\u4e00\u4e2a\u4ea4\u6362\u673a\u7684\u6570\u636e\u94fe\u8def\u5c42\u518d\u5c06\u5e27\u6253\u5f00\u63d0\u53d6\u51fa\u5176\u4e2d\u7684\u6570\u636e\u62a5\u4ea4\u7ed9\u5176\u7f51\u7edc\u5c42\uff0c\u627e\u5230\u4f20\u8f93\u65b9\u5411\u540e\u5c06\u6570\u636e\u62a5\u518d\u6b21\u4ea4\u7ed9\u6570\u636e\u94fe\u8def\u5c42\u7ee7\u7eed\u4f20\u8f93\u3002</li> </ul> <p>\u8fd9\u4e00\u5c42\u63d0\u4f9b\u7684\u670d\u52a1\u53d6\u51b3\u4e8e\u8fde\u63a5\u4e2d\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae\u7684\u5b9e\u73b0\u65b9\u5f0f\u3002\u4f8b\u5982\u4e00\u4e9b\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae\u4f1a\u63d0\u4f9b\u9488\u5bf9\u4e0b\u4e00\u4e2a\u8fde\u63a5\u7684\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\u3001\u9519\u8bef\u68c0\u67e5\u7b49\u7b49\uff0c\u8fd9\u548c\u4f20\u8f93\u63a7\u5236\u534f\u8bae\u6240\u63d0\u4f9b\u7684\u7aef\u5230\u7aef\u7684\u5404\u79cd\u670d\u52a1\u662f\u6709\u533a\u522b\u7684\u3002</p> <ul> <li>\u7269\u7406\u5c42(Physical) \u4e0e\u6570\u636e\u94fe\u8def\u5c42\u8d1f\u8d23\u5c06\u5305\u88f9\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u8fde\u63a5\u76f8\u5bf9\u5e94\uff0c\u7269\u7406\u5c42\u4e3b\u8981\u8d1f\u8d23\u5c06\u6bd4\u7279\u4f20\u8f93\u7ed9\u4e0b\u4e00\u4e2a\u8fde\u63a5\u3002\u8fd9\u4e00\u5c42\u7684\u534f\u8bae\u5b8c\u5168\u4f9d\u8d56\u4e8e\u5e95\u5c42\u7684\u4f20\u8f93\u4ecb\u8d28\uff0c\u4f8b\u5982\u4ee5\u592a\u7f51\u6709\u591a\u79cd\u7269\u7406\u5c42\u7684\u534f\u8bae\uff0c\u5206\u522b\u5bf9\u5e94\u4e8e\u53cc\u7ede\u7ebf\u3001\u540c\u8f74\u7535\u7f06\u3001\u5149\u7ea4\u7b49\u7b49\u3002\u5728\u4e0d\u540c\u7684\u4ecb\u8d28\u4e2d\uff0c\u6bd4\u7279\u4ee5\u4e0d\u540c\u7684\u7269\u7406\u5f62\u6001\u88ab\u4f20\u8f93\u3002</li> </ul> <p>\u4e0e\u5f00\u653e\u5f0f\u7cfb\u7edf\u4e92\u8054(Open System Interconnection Model, OSI)\u6a21\u578b\u7684\u8054\u7cfb</p> <p>\u5f00\u653e\u5f0f\u7cfb\u7edf\u4e92\u8054\u6a21\u578b\u5f62\u6210\u4e8e\u4e0a\u4e16\u7eaa\u4e03\u5341\u5e74\u4ee3\uff0c\u65e9\u4e8e\u4e0a\u9762\u6240\u8ba8\u8bba\u7684\u4e94\u5c42\u6a21\u578b\uff0c\u5176\u4e2d\u5305\u542b\u4e03\u5c42\u534f\u8bae\u6808\uff1a</p> <ul> <li>\u5e94\u7528\u5c42(Application)</li> <li>\u8868\u793a\u5c42(Presentation)</li> <li>\u4f1a\u8bdd\u5c42(Session)</li> <li>\u4f20\u8f93\u5c42(Transport)</li> <li>\u7f51\u7edc\u5c42(Network)</li> <li>\u6570\u636e\u94fe\u8def\u5c42(Data Link)</li> <li>\u7269\u7406\u5c42(Physical) \u5176\u4e2d\u7684\u5e94\u7528\u5c42\u3001\u4f20\u8f93\u5c42\u3001\u7f51\u7edc\u5c42\u3001\u6570\u636e\u94fe\u8def\u5c42\u548c\u7269\u7406\u5c42\u7684\u5b9a\u4e49\u4e0e\u4e94\u5c42\u6a21\u578b\u4e2d\u7684\u5927\u540c\u5c0f\u5f02\uff0c\u57fa\u672c\u4e0d\u9700\u8981\u505a\u989d\u5916\u533a\u5206\uff0c\u800c\u591a\u51fa\u6765\u7684\u8868\u793a\u5c42\u548c\u4f1a\u8bdd\u5c42\u5219\u6709\u6240\u4e0d\u540c\u3002\u8868\u793a\u5c42\u8d1f\u8d23\u63d0\u4f9b\u201c\u7ffb\u8bd1\u201d\u6570\u636e\u7684\u529f\u80fd\uff0c\u4f8b\u5982\u6570\u636e\u538b\u7f29\u3001\u52a0\u5bc6\u4ee5\u53ca\u57fa\u672c\u7684\u683c\u5f0f\u89c4\u5b9a\uff0c\u90fd\u662f\u8868\u793a\u5c42\u8d1f\u8d23\u7684\uff1b\u4f1a\u8bdd\u5c42\u5219\u8d1f\u8d23\u8bbe\u7f6e\u548c\u7ef4\u62a4\u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u7684\u8fde\u63a5\uff0c\u4fdd\u6301\u901a\u4fe1\u7684\u540c\u6b65\u3002</li> </ul> <p>\u4e3a\u4ec0\u4e48\u5982\u4eca\u4e94\u5c42\u6a21\u578b\u88ab\u4f7f\u7528\u5730\u66f4\u591a\uff0c\u800c\u4e03\u5c42\u6a21\u578b\u88ab\u629b\u5f03\u4e86\u5462\uff0c\u4e3b\u8981\u662f\u56e0\u4e3a\u5b9e\u9645\u4e0a\u4e92\u8054\u7f51\u7f3a\u5c11\u4e03\u5c42\u6a21\u578b\u5f53\u4e2d\u7684\u8868\u793a\u5c42\u548c\u4f1a\u8bdd\u5c42\u3002\u4f46\u8fd9\u4e0d\u4ee3\u8868\u5b83\u4eec\u662f\u591a\u4f59\u7684\uff0c\u76f8\u53cd\uff0c\u5bf9\u4e8e\u8bb8\u591a\u5e94\u7528\u6765\u8bf4\uff0c\u6570\u636e\u683c\u5f0f\u548c\u8fde\u63a5\u7684\u7a33\u5b9a\u6027\u662f\u975e\u5e38\u91cd\u8981\u7684\uff0c\u4f46\u4e92\u8054\u7f51\u6ca1\u6709\u63d0\u4f9b\u8fd9\u4e9b\u670d\u52a1\uff0c\u8fd9\u4e9b\u529f\u80fd\u4f9d\u9760\u5e94\u7528\u7684\u5f00\u53d1\u8005\u5b9e\u73b0\u3002\u5b9e\u9645\u4e0a\u8fd9\u4e5f\u662f\u4e92\u8054\u7f51\u7684\u7279\u6027\u4e4b\u4e00\uff0c\u540e\u9762\u6211\u4eec\u4f1a\u8d8a\u6765\u8d8a\u591a\u7684\u770b\u5230\uff0c\u4e92\u8054\u7f51\u901a\u8fc7\u5c06\u590d\u6742\u529f\u80fd\u7684\u5b9e\u73b0\u5b89\u6392\u5728\u7ec8\u7aef\u90e8\u5206\uff0c\u7ef4\u6301\u4e86\u81ea\u8eab\u7ed3\u6784\u7684\u7b80\u5355\u548c\u9ad8\u6548\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#13encapsulation","title":"13\uff09\u5c01\u88c5(Encapsulation)","text":"<p>\u4ece\u4e0a\u9762\u5bf9\u4e94\u5c42\u6a21\u578b\u7684\u4ecb\u7ecd\uff0c\u6211\u4eec\u53ef\u4ee5\u770b\u5230\u6570\u636e\u5728\u4e0d\u540c\u7684\u5c42\u7ea7\u6709\u4e0d\u540c\u7684\u540d\u5b57\uff0c\u8fd9\u4e0d\u4ec5\u662f\u4e3a\u4e86\u505a\u51fa\u533a\u5206\uff0c\u66f4\u6709\u5b9e\u9645\u7684\u542b\u4e49\u3002\u4e8b\u5b9e\u4e0a\uff0c\u6bcf\u7ecf\u8fc7\u4e00\u4e2a\u7f51\u7edc\u5c42\u7ea7\u7684\u5904\u7406\uff0c\u6570\u636e\u5305\u88f9\u90fd\u4f1a\u56e0\u4e3a\u5c01\u88c5\u53d8\u5f97\u66f4\u5927\u3002 \u4e94\u5c42\u6a21\u578b\u4e2d\uff0c\u9664\u53bb\u7269\u7406\u5c42\u4e4b\u5916\uff0c\u6bcf\u4e00\u5c42\u90fd\u4f1a\u5728\u6570\u636e\u5305\u88f9\u4e2d\u6dfb\u52a0\u8fd9\u4e00\u5c42\u7684\u534f\u8bae\u76f8\u5173\u4fe1\u606f\uff0c\u6211\u4eec\u79f0\u4e3a\u4fe1\u5934(Header)\u3002\u5c06\u4fe1\u5934\u6dfb\u52a0\u5230\u6570\u636e\u5305\u88f9\u4e0a\u7684\u8fc7\u7a0b\u5c31\u88ab\u79f0\u4e3a\u5c01\u88c5\uff0c\u539f\u6765\u7684\u4e5f\u5373\u6765\u81ea\u4e0a\u4e00\u5c42\u7684\u6570\u636e\u5305\u88f9\u79f0\u4e3a\u8d1f\u8f7d(Payload)\u3002\u4ece\u4e0a\u56fe\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u6570\u636e\u5305\u88f9\u4f20\u8f93\u7684\u8fc7\u7a0b\u4e5f\u5c31\u662f\u4e0d\u65ad\u5c01\u88c5\uff0c\u62c6\u5f00\uff0c\u518d\u5c01\u88c5\u7684\u8fc7\u7a0b\u3002</p>"},{"location":"curriculum_study/TD_net/ch1/#14","title":"14\uff09\u7f51\u4e0a\u7684\u5f0a\u7aef","text":"<p>\u4e92\u8054\u7f51\u4ee5\u5176\u4fbf\u6377\u3001\u9ad8\u6548\u95fb\u540d\uff0c\u4f46\u5176\u4e2d\u7684\u9634\u6697\u9762\u4e5f\u5e7f\u4e3a\u4eba\u6240\u77e5\u3002\u900f\u8fc7\u4e92\u8054\u7f51\u7684\u653b\u51fb\u662f\u6211\u4eec\u6bcf\u5929\u90fd\u5728\u9762\u5bf9\u7684\u8d27\u771f\u4ef7\u5b9e\u7684\u5a01\u80c1\uff0c\u8fd9\u79cd\u653b\u51fb\u662f\u57fa\u4e8e\u6076\u610f\u8f6f\u4ef6(Malware)\u5b9e\u73b0\u7684\u3002</p> <p>\u6076\u610f\u8f6f\u4ef6\u901a\u5e38\u901a\u8fc7\u4e92\u8054\u7f51\u4f20\u64ad\uff0c\u5176\u5229\u7528\u8f6f\u4ef6\u7684\u6f0f\u6d1e\u5165\u4fb5\u5bbf\u4e3b\u7cfb\u7edf\uff0c\u4ece\u800c\u8fbe\u5230\u7834\u574f\u7cfb\u7edf\u3001\u635f\u574f\u6587\u4ef6\u3001\u7a83\u53d6\u79c1\u5bc6\u4fe1\u606f\u7b49\u7b49\u76ee\u7684\uff0c\u5c0f\u5230\u5f39\u7a97\u5e7f\u544a\uff0c\u5927\u5230\u52d2\u7d22\u75c5\u6bd2\uff0c\u90fd\u53ef\u4ee5\u88ab\u5f52\u7c7b\u4e3a\u6076\u610f\u8f6f\u4ef6\u3002\u6076\u610f\u8f6f\u4ef6\u6839\u636e\u5176\u884c\u4e3a\uff0c\u53c8\u53ef\u4ee5\u5206\u4e3a\u4e24\u7c7b\uff1a</p>"},{"location":"curriculum_study/TD_net/ch1/#15viruses","title":"15\uff09\u75c5\u6bd2(Viruses)","text":"<p>\u8fd9\u79cd\u6076\u610f\u8f6f\u4ef6\u9700\u8981\u5bbf\u4e3b\u7535\u8111\u7684\u7279\u5b9a\u884c\u52a8\u89e6\u53d1\uff0c\u975e\u5e38\u5178\u578b\u7684\u5982\u90ae\u4ef6\u75c5\u6bd2\uff0c\u5176\u901a\u5e38\u9644\u7740\u5728\u90ae\u4ef6\u7684\u9644\u4ef6\u4e2d\uff0c\u4e00\u7ecf\u7528\u6237\u4e0b\u8f7d\uff0c\u5b83\u5c31\u4f1a\u8fdb\u5165\u5bbf\u4e3b\u7535\u8111\u4f5c\u6076\uff0c\u5f80\u5f80\u8fd8\u4f1a\u501f\u7528\u5bbf\u4e3b\u7535\u8111\u7684\u8d44\u6e90\u53d1\u51fa\u6570\u5343\u5c01\u90ae\u4ef6\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u4f20\u64ad\u3002\u53ef\u4ee5\u8bf4\u5176\u884c\u4e3a\u4e0e\u751f\u7269\u754c\u7684\u75c5\u6bd2\u5341\u5206\u76f8\u50cf\u3002</p> <p>\u533a\u5206\u4e8e\uff1a\u8815\u866b(Worms) \u8fd9\u662f\u4e3b\u52a8\u578b\u7684\u6076\u610f\u8f6f\u4ef6\uff0c\u5b83\u901a\u5e38\u7ecf\u8fc7\u8054\u7f51\u5e94\u7528\u7684\u6f0f\u6d1e\u611f\u67d3\u5bbf\u4e3b\u7535\u8111\uff0c\u611f\u67d3\u540e\u5b83\u4f1a\u5229\u7528\u5bbf\u4e3b\u7535\u8111\u7684\u7f51\u7edc\u626b\u63cf\u4e92\u8054\u7f51\u4e0a\u5176\u4ed6\u8fd0\u884c\u76f8\u540c\u8054\u7f51\u5e94\u7528\u7684\u7535\u8111\uff0c\u8fdb\u4e00\u6b65\u4f20\u64ad\u3002</p> <p>\u5728\u6076\u610f\u8f6f\u4ef6\u7684\u5236\u4f5c\u8005\u901a\u8fc7\u5176\u611f\u67d3\u4e86\u6570\u5343\u53f0\u7535\u8111\u540e\uff0c\u4ed6\u4fbf\u80fd\u591f\u901a\u8fc7\u63a7\u5236\u8fd9\u4e9b\u7535\u8111\u7ec4\u7ec7\u6210\u4e00\u4e2a\u50f5\u5c38\u7f51\u7edc(Botnet)\uff0c\u5229\u7528\u8fd9\u4e9b\u8d44\u6e90\u641e\u4e00\u6ce2\u66f4\u5927\u7684\u3002\u8fd9\u91cc\u5c31\u4e0d\u5f97\u4e0d\u63d0\u5230\u62d2\u7edd\u670d\u52a1\u653b\u51fb(Denial-of-Service attack, DoS)\u3002\u5982\u679c\u8bf4\u6076\u610f\u8f6f\u4ef6\u4e3b\u8981\u9488\u5bf9\u7684\u662f\u4e2a\u4eba\u7535\u8111\uff0c\u5219\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u5219\u4e3b\u8981\u9488\u5bf9\u670d\u52a1\u5668\uff0c\u5b83\u7684\u4e3b\u8981\u76ee\u7684\u5728\u4e8e\u4f7f\u670d\u52a1\u5668\u762b\u75ea\uff0c\u5bfc\u81f4\u6b63\u5e38\u7528\u6237\u65e0\u6cd5\u8bbf\u95ee\u8be5\u670d\u52a1\u5668\uff0c\u5176\u6709\u4ee5\u4e0b\u4e09\u79cd\u5b9e\u73b0\u65b9\u6cd5\uff1a</p> <ul> <li>\u6f0f\u6d1e\u653b\u51fb(Vulnerability attack)\uff0c\u539f\u7406\u548c\u6076\u610f\u8f6f\u4ef6\u7c7b\u4f3c\uff0c\u90fd\u662f\u5229\u7528\u8f6f\u4ef6\u7684\u6f0f\u6d1e\u4f7f\u76ee\u6807\u4e3b\u673a\u7cfb\u7edf\u762b\u75ea\u3001\u5d29\u6e83\uff0c\u65e0\u6cd5\u5904\u7406\u7f51\u7edc\u8bf7\u6c42\u3002</li> <li>\u5e26\u5bbd\u6d88\u8017(Bandwidth flooding)\uff0c\u5411\u76ee\u6807\u670d\u52a1\u5668\u53d1\u9001\u5927\u91cf\u6570\u636e\u5305\uff0c\u8d85\u8fc7\u5176\u63a5\u5165\u7f51\u627f\u8f7d\u80fd\u529b\u4e0a\u9650\uff0c\u5bfc\u81f4\u7f51\u7edc\u62e5\u585e\uff0c\u6b63\u5e38\u7528\u6237\u7684\u8bf7\u6c42\u65e0\u6cd5\u5230\u8fbe\u670d\u52a1\u5668\u3002</li> <li>\u8d44\u6e90\u6d88\u8017(Connection flooding)\uff0c\u4e0e\u76ee\u6807\u670d\u52a1\u5668\u5efa\u7acb\u5927\u91cfTCP\u8fde\u63a5\uff0c\u5c06\u5176\u7aef\u53e3\u8d44\u6e90\uff08\u8fd9\u4e2a\u540e\u9762\u4f1a\u8bb2\u5230\uff09\u6d88\u8017\u6b86\u5c3d\uff0c\u6b63\u5e38\u7528\u6237\u65e0\u6cd5\u4e0e\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\u3002</li> </ul> <p>\u5982\u679c\u653b\u51fb\u8005\u53ea\u6709\u4e00\u53f0\u4e3b\u673a\uff0c\u800c\u60f3\u8981\u4ee5\u7b2c\u4e8c\u6216\u7b2c\u4e09\u79cd\u5b9e\u73b0\u65b9\u5f0f\u5b9e\u65bd\u653b\u51fb\uff0c\u662f\u6709\u96be\u5ea6\u7684\u3002\u9996\u5148\u670d\u52a1\u5668\u7684\u5e26\u5bbd\u548c\u8d44\u6e90\u5341\u5206\u5145\u88d5\uff0c\u4e00\u53f0\u4e2a\u4eba\u7535\u8111\u662f\u65e0\u8bba\u5982\u4f55\u4e5f\u4e0d\u53ef\u80fd\u5c06\u5176\u6d88\u8017\u6b86\u5c3d\u7684\uff0c\u8981\u60f3\u8fbe\u5230\u8fd9\u6837\u7684\u6548\u679c\uff0c\u5c31\u9700\u8981\u5e26\u5bbd\u548c\u8d44\u6e90\u66f4\u52a0\u5145\u88d5\u7684\u4e3b\u673a\u6765\u5b9e\u65bd\u653b\u51fb\uff0c\u8fd9\u975e\u5e38\u6602\u8d35\uff1b\u5176\u6b21\uff0c\u6765\u81ea\u5355\u4e00\u6e90\u7684\u653b\u51fb\u662f\u5f88\u5bb9\u6613\u88ab\u76ee\u6807\u670d\u52a1\u5668\u7684\u5b89\u5168\u7a0b\u5e8f\u53d1\u73b0\u7684\uff0c\u653b\u51fb\u5f88\u6709\u53ef\u80fd\u5728\u8fd8\u672a\u6210\u89c4\u6a21\u524d\u5c31\u88ab\u9632\u706b\u5899\u6390\u706d\u4e86\uff0c\u6210\u529f\u7387\u582a\u5fe7\u3002</p> <p>\u56e0\u6b64\uff0c\u5206\u5e03\u5f0f\u62d2\u7edd\u670d\u52a1\u653b\u51fb(Distributed Denial-of-Service attack, DDoS)\u6a2a\u7a7a\u51fa\u4e16\uff0c\u89e3\u51b3\u4e86\u4e0a\u8ff0\u4e24\u4e2a\u95ee\u9898\uff0c\u653b\u51fb\u8005\u53ef\u4ee5\u5229\u7528\u524d\u9762\u63d0\u5230\u7684\u50f5\u5c38\u7f51\u7edc\uff0c\u901a\u8fc7\u591a\u4e2a\u8282\u70b9\u8fbe\u5230\u540c\u6837\u7684\u6548\u679c\uff0c\u800c\u653b\u51fb\u8005\u53ea\u9700\u8981\u5728\u4e00\u53f0\u7535\u8111\u4e0a\u64cd\u63a7\u8fd9\u4e00\u5207\uff0c\u4fbf\u53ef\u8fbe\u5230\u56db\u4e24\u62e8\u5343\u65a4\u4e4b\u529f\u6548\u3002</p> <p>\u6570\u636e\u55c5\u63a2\u5668(Packet sniffer) \u55c5\u63a2\u5668\u7684\u539f\u7406\u5341\u5206\u7b80\u5355\uff0c\u5c06\u5b83\u5e03\u7f6e\u5728\u63a5\u5165\u7f51\u7684\u5173\u952e\u8282\u70b9\u4e0a\uff0c\u7136\u540e\u5c06\u7ecf\u8fc7\u8fd9\u4e00\u8282\u70b9\u7684\u6240\u6709\u6570\u636e\u5305\u90fd\u590d\u5236\u4e0b\u6765\uff0c\u7136\u540e\u672c\u5730\u4fdd\u5b58\u6216\u8005\u901a\u8fc7\u4e92\u8054\u7f51\u53d1\u9001\u5230\u4f7f\u7528\u8005\u5904\u3002\u55c5\u63a2\u5668\u4e0d\u4e00\u5b9a\u662f\u6076\u610f\u7684\uff0c\u5b9e\u9645\u4e0a\u5f88\u591a\u7f51\u7edc\u6570\u636e\u5305\u5206\u6790\u8f6f\u4ef6\u4e5f\u662f\u55c5\u63a2\u5668\u7684\u4e00\u79cd\u2014\u2014\u6211\u4eec\u4f7f\u7528\u5b83\u6765\u76d1\u6d4b\u81ea\u5df1\u7535\u8111\u4e0a\u7684\u7f51\u7edc\u6570\u636e\u5305\u3002\u4f46\u55c5\u63a2\u5668\u7684\u6076\u610f\u4f7f\u7528\u53ef\u4ee5\u8ba9\u4e0d\u6cd5\u5206\u5b50\u83b7\u5f97\u5305\u542b\u654f\u611f\u4fe1\u606f\u7684\u6570\u636e\u5305\uff0c\u82e5\u4ed6\u4eec\u80fd\u5c06\u4e4b\u89e3\u5bc6\u7684\u8bdd\uff0c\u4ed6\u4eec\u5c31\u53ef\u4ee5\u83b7\u5f97\u5176\u4e2d\u7684\u4fe1\u606f\uff0c\u8fd9\u662f\u5341\u5206\u5371\u9669\u7684\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/","title":"Chapter2 \u5e94\u7528\u5c42","text":"<p>\u4e92\u8054\u7f51\u662f\u4e00\u79cd\u670d\u52a1\uff0c\u4e16\u754c\u4e0a\u6570\u4ee5\u4ebf\u8ba1\u7684\u7a0b\u5e8f\u4ef0\u4ed7\u8fd9\u4e00\u670d\u52a1\u8fd0\u884c\u3002\u8981\u8ba9\u4e16\u754c\u4e0a\u8fd0\u884c\u5728\u4e0d\u540c\u5730\u533a\u3001\u4e0d\u540c\u578b\u53f7\u3001\u4e0d\u540c\u6027\u80fd\u7684\u673a\u5668\u4e0a\u7684\u4e0d\u540c\u7a0b\u5e8f\u76f8\u4e92\u901a\u4fe1\uff0c\u662f\u4e00\u9879\u6d69\u5927\u7684\u5de5\u7a0b\u3002\u5c31\u50cf\u8bed\u8a00\u8ba9\u4e0d\u540c\u7684\u4eba\u76f8\u4e92\u4ea4\u6d41\u90a3\u6837\uff0c\u5e94\u7528\u5c42\u7684\u8bf8\u591a\u534f\u8bae\u4e5f\u4f7f\u5f97\u8fd0\u884c\u5728\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u7a0b\u5e8f\u5f97\u4ee5\u4ea4\u6362\u4fe1\u606f\uff0c\u8fdb\u800c\u7528\u6237\u63d0\u4f9b\u5404\u79cd\u670d\u52a1\u3002\u672c\u7ae0\u6b63\u662f\u8981\u4ecb\u7ecd\u5e94\u7528\u5c42\u7684\u57fa\u672c\u6982\u5ff5\u4ee5\u53ca\u5e38\u7528\u7684\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u6709\u4e86\u8fd9\u4e9b\u77e5\u8bc6\uff0c\u6211\u4eec\u5c31\u80fd\u5bf9\u5f53\u4eca\u4f7f\u7528\u6781\u5176\u5e7f\u6cdb\u7684\u5404\u7c7b\u7f51\u7edc\u7a0b\u5e8f\u6709\u4e00\u4e2a\u57fa\u672c\u7684\u8ba4\u8bc6\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_1","title":"\u7f51\u7edc\u67b6\u6784","text":"<p>\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u5f00\u53d1\u4e00\u6b3e\u8054\u7f51\u5e94\u7528\uff0c\u629b\u53bb\u5546\u4e1a\u65b9\u9762\u7684\u8003\u8651\uff0c\u6211\u4eec\u4f1a\u5bf9\u5176\u5f00\u53d1\u7ec6\u8282\u505a\u8bf8\u591a\u89c4\u5212\uff0c\u4f46\u5728\u5236\u5b9a\u8fd9\u4e9b\u66f4\u52a0\u7ec6\u8282\u7684\u8ba1\u5212\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u786e\u5b9a\u8fd9\u4e2a\u5e94\u7528\u7684\u7f51\u7edc\u67b6\u6784\uff0c\u5927\u81f4\u6765\u8bf4\uff0c\u662f\u4ece\u76ee\u524d\u7684\u4e24\u79cd\u4e3b\u6d41\u67b6\u6784\u4e2d\u505a\u51fa\u9009\u62e9\uff1a\u4e3b\u4ece\u5f0f\u67b6\u6784(Client-server model)\u548c\u70b9\u5bf9\u70b9(Peer-to-peer, P2P)\u67b6\u6784\u3002</p> <ul> <li>\u4e3b\u4ece\u5f0f</li> </ul> <p>\u987e\u540d\u601d\u4e49\uff0c\u5728\u8fd9\u79cd\u67b6\u6784\u4e2d\uff0c\u6709\u4e00\u4e2a\u4e3b\u8981\u7684\u670d\u52a1\u5668\u548c\u8bf8\u591a\u4ece\u5c5e\u7684\u5ba2\u6237\u7aef\u6784\u6210\uff0c\u7ec4\u6210\u7c7b\u4f3c\u661f\u578b\u7684\u7f51\u7edc\u67b6\u6784\u3002\u5178\u578b\u7684\u4f8b\u5b50\u6709\u89c6\u9891\u7f51\u7ad9\uff0c\u6bcf\u4e2a\u7528\u6237\u90fd\u76f4\u63a5\u5411\u4e3b\u670d\u52a1\u5668\u8bf7\u6c42\u89c6\u9891\u8d44\u6e90\uff0c\u670d\u52a1\u5668\u6839\u636e\u5ba2\u6237\u7aef\u7684\u8bf7\u6c42\u4ee5\u76f8\u5e94\u7684\u8d44\u6e90\u54cd\u5e94\u3002\u5728\u8fd9\u79cd\u67b6\u6784\u4e2d\uff0c\u5ba2\u6237\u7aef\u4e4b\u95f4\u662f\u6ca1\u6709\u901a\u4fe1\u7684\uff0c\u6bcf\u4e2a\u5ba2\u6237\u7aef\u53ea\u4f1a\u548c\u5904\u4e8e\u4e2d\u5fc3\u5730\u4f4d\u7684\u670d\u52a1\u5668\u901a\u4fe1\u3002</p> <p>\u5728\u4eca\u5929\u7684\u5927\u578b\u7f51\u7edc\u5e94\u7528\u4e2d\uff0c\u4e00\u4e2a\u670d\u52a1\u5668\u663e\u7136\u4e0d\u8db3\u4ee5\u5e94\u4ed8\u6570\u91cf\u5e9e\u5927\u7684\u7528\u6237\u8bf7\u6c42\uff0c\u52a0\u4e4b\u4ee5\u5b89\u5168\u6027\u7684\u95ee\u9898\uff0c\u76ee\u524d\u7edd\u5927\u591a\u6570\u4e92\u8054\u7f51\u516c\u53f8\u90fd\u9009\u62e9\u4f7f\u7528\u6570\u636e\u4e2d\u5fc3(data center)\u6765\u5145\u5f53\u4e3b\u4ece\u5f0f\u67b6\u6784\u4e2d\u7684\u201c\u670d\u52a1\u5668\u201d\u89d2\u8272\u3002\u8fd9\u4e2a\u865a\u62df\u7684\u670d\u52a1\u5668\u901a\u5e38\u7531\u6210\u767e\u4e0a\u5343\u4e2a\u771f\u5b9e\u5b58\u5728\u7684\u670d\u52a1\u5668\u7ec4\u6210\uff0c\u8de8\u56fd\u516c\u53f8\u5982\u8c37\u6b4c\u901a\u5e38\u8fd8\u4f1a\u5728\u5168\u4e16\u754c\u5404\u5730\u642d\u5efa\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u6765\u63d0\u5347\u7528\u6237\u4f53\u9a8c\u3002</p> <ul> <li>\u70b9\u5bf9\u70b9</li> </ul> <p>\u70b9\u5bf9\u70b9\u67b6\u6784\u4e0e\u4e3b\u4ece\u5f0f\u67b6\u6784\u6070\u597d\u76f8\u53cd\uff0c\u5b83\u5c06\u7f51\u7edc\u67b6\u6784\u5bf9\u670d\u52a1\u5668\u6216\u8005\u6570\u636e\u4e2d\u5fc3\u7684\u4f9d\u8d56\u964d\u81f3\u6700\u5c0f\uff0c\u5c06\u540e\u8005\u4e2d\u901a\u5e38\u7531\u670d\u52a1\u5668\u627f\u62c5\u7684\u901a\u4fe1\u538b\u529b\u5206\u914d\u5230\u5404\u4e2a\u7528\u6237\u7ec8\u7aef\u4e0a\uff0c\u4e5f\u5373P2P\u7f51\u7edc\u672f\u8bed\u4e2d\u7684\u7528\u6237\u7fa4(peers)\u3002\u5927\u540d\u9f0e\u9f0e\u7684\u6bd4\u7279\u5f57\u661f(BitTorrent)\u5c31\u662f\u5178\u578b\u7684P2P\u5e94\u7528\uff0c\u8bb8\u591a\u89c6\u9891\u4f1a\u8bae\u5e94\u7528\u4e5f\u4f7f\u7528\u4e86P2P\u67b6\u6784\u3002</p> <p>P2P\u4f5c\u4e3a\u53bb\u4e2d\u5fc3\u5316\u7684\u5178\u578b\u4ee3\u8868\uff0c\u5176\u7a81\u51fa\u7279\u6027\u5c31\u662f\u81ea\u6211\u6269\u5c55\u6027\u3002\u4f8b\u5982\u78c1\u94fe\u4e0b\u8f7d\uff0c\u5f53\u6ca1\u4eba\u4f7f\u7528\u8fd9\u4e2a\u78c1\u94fe\u65f6\u4e0b\u8f7d\u901f\u5ea6\u5f88\u6162\uff0c\u4f46\u662f\u4eba\u8d8a\u591a\u4e0b\u8f7d\u901f\u5ea6\u8d8a\u5feb\uff08\u56e0\u4e3a\u63d0\u4f9b\u670d\u52a1\u7684\u7528\u6237\u7fa4\u53d8\u5927\u4e86\uff09\uff0c\u4e0b\u8f7d\u901f\u5ea6\u5feb\u80fd\u8fdb\u4e00\u6b65\u5438\u5f15\u66f4\u591a\u4eba\u4f7f\u7528\u8fd9\u4e2a\u78c1\u94fe\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_2","title":"\u8fdb\u7a0b\u901a\u4fe1","text":"<p>\u5e94\u7528\u7a0b\u5e8f\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\u662f\u4ee5\u8fdb\u7a0b(process)\u7684\u5f62\u5f0f\u5b58\u5728\u7684\uff0c\u6765\u81ea\u4e92\u8054\u7f51\u7684\u6570\u636e\u9996\u5148\u8981\u7ecf\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u624d\u80fd\u88ab\u8fdb\u7a0b\u83b7\u5f97\uff0c\u5f53\u5e94\u7528\u7a0b\u5e8f\u4f7f\u7528\u5404\u79cd\u4e92\u8054\u7f51\u670d\u52a1\u65f6\uff0c\u5b83\u5b9e\u9645\u4e0a\u662f\u901a\u8fc7\u4f7f\u7528\u64cd\u4f5c\u7cfb\u7edf\u63d0\u4f9b\u7684\u670d\u52a1\u6765\u4f7f\u7528\u4e92\u8054\u7f51\u670d\u52a1\u7684\u3002\u8fd9\u4e9b\u670d\u52a1\u4ee5\u7f51\u8def\u63a5\u53e3(Network socket)\u7684\u5f62\u5f0f\u63d0\u4f9b\u7ed9\u5f00\u53d1\u8005\uff0c\u5373\u5e94\u7528\u7a0b\u5e8f\u63a5\u53e3(Application Programming Interface)\u3002\u7f51\u7edc\u63a5\u53e3\u4ee5\u7c7b\u4f3c\u95e8\u7684\u5f62\u5f0f\u8fde\u63a5\u4e86\u4e92\u8054\u7f51\u534f\u8bae\u6808\u4e2d\u7684\u5e94\u7528\u5c42\u548c\u4f20\u8f93\u5c42\uff1a</p> <p></p> <p>\u63d0\u4f9b\u670d\u52a1\u7684\u53e6\u4e00\u5c42\u542b\u4e49\u5c31\u662f\u4f20\u8f93\u5c42\u4ee5\u53ca\u4f20\u8f93\u5c42\u4e4b\u4e0b\u7684\u5c42\u7ea7\u529f\u80fd\u5bf9\u4e8e\u5e94\u7528\u5f00\u53d1\u8005\u6765\u8bf4\u662f\u7ed9\u5b9a\u7684\uff0c\u5f00\u53d1\u8005\u5bf9\u4e8e\u5e94\u7528\u5c42\u7684\u884c\u4e3a\u6709\u5b8c\u5168\u7684\u63a7\u5236\u6743\uff0c\u4f46\u662f\u5230\u4e86\u5e94\u7528\u5c42\u4ee5\u4e0b\u5219\u53ea\u80fd\u9009\u62e9\u4f20\u8f93\u534f\u8bae\uff08TCP\u6216UDP\uff09\u4ee5\u53ca\u8c03\u6574\u4f20\u8f93\u5c42\u76f8\u5173\u7684\u53c2\u6570\u3002</p> <p>\u5c31\u50cf\u6bcf\u4e2a\u4e3b\u673a\u5728\u7f51\u7edc\u4e2d\u90fd\u6709\u4e00\u4e2aIP\u5730\u5740\u5bf9\u5e94\uff0c\u4e00\u4e2a\u4e3b\u673a\u5f53\u4e2d\u4e5f\u6709\u591a\u4e2a\u8fdb\u7a0b\uff0c\u4e5f\u9700\u8981\u7c7b\u4f3c\u5730\u5740\u7684\u4fe1\u606f\u6765\u6807\u8bb0\u6bcf\u4e00\u4e2a\u8fdb\u7a0b\uff0c\u8fd9\u5c31\u662f\u7aef\u53e3\u53f7(port number)\u3002\u56e0\u6b64\u8981\u60f3\u548c\u5176\u4ed6\u4e3b\u673a\u4e2d\u7684\u67d0\u4e2a\u8fdb\u7a0b\u901a\u4fe1\uff0c\u9700\u8981\u4e24\u4e2a\u4fe1\u606f\uff1a\u4e3b\u673a\u7684IP\u5730\u5740\u548c\u8fdb\u7a0b\u7684\u7aef\u53e3\u53f7\u3002\u7aef\u53e3\u53f7\u901a\u5e38\u662f\u56fa\u5b9a\u5206\u914d\u7ed9\u5404\u4e2a\u5e94\u7528\u7684\u3002</p> <p>\u4e00\u4e2a\u8054\u7f51\u5e94\u7528\u5728\u6b63\u5e38\u5de5\u4f5c\u65f6\u53ef\u4ee5\u5206\u4e3a\u4e24\u90e8\u5206\uff1a\u4e00\u4e2a\u53d1\u8d77\u901a\u4fe1\u8bf7\u6c42\u7684\u5ba2\u6237\u8fdb\u7a0b\uff08\u5982\u6d4f\u89c8\u5668\uff09\u548c\u4e00\u4e2a\u63a5\u53d7\u901a\u4fe1\u8bf7\u6c42\u7684\u670d\u52a1\u8fdb\u7a0b\uff08\u670d\u52a1\u5668\u4e2d\u7684\u7a0b\u5e8f\uff09\u3002\u8fdb\u7a0b\u5728\u901a\u4fe1\u4e2d\u626e\u6f14\u4ec0\u4e48\u89d2\u8272\u5b8c\u5168\u662f\u7531\u5b83\u7684\u884c\u4e3a\u51b3\u5b9a\u7684\uff0c\u548c\u5b83\u5728\u4ec0\u4e48\u4e3b\u673a\u4e0a\u8fd0\u884c\u6ca1\u6709\u5173\u7cfb\u3002\u4f8b\u5982\u5728P2P\u6587\u4ef6\u4f20\u8f93\u4e2d\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u65e2\u53ef\u4ee5\u662f\u5ba2\u6237\u8fdb\u7a0b\uff0c\u4e5f\u53ef\u4ee5\u662f\u670d\u52a1\u8fdb\u7a0b\uff1b\u5b83\u5728\u4e0b\u8f7d\u6587\u4ef6\u65f6\u662f\u4f5c\u4e3a\u5ba2\u6237\u8fdb\u7a0b\uff0c\u800c\u5b83\u5728\u63d0\u4f9b\u6587\u4ef6\u5757\u65f6\u662f\u4f5c\u4e3a\u670d\u52a1\u8fdb\u7a0b\u3002\u4e3a\u4e86\u5f3a\u8c03\u8fd9\u4e2a\u5b9a\u4e49\u7684\u91cd\u8981\u6027\uff0c\u6b64\u5904\u5c06\u539f\u6587\u8d34\u4e0a\uff1a</p> <p>In the context of a communication seesion between a pair of processes, the process that initiates the communication (that is, initially contact other process at the beginning of the seesion) is labeled as the client. The process that waits to be contacted to begin the session is the server.  </p>"},{"location":"curriculum_study/TD_net/ch2/#_3","title":"\u9009\u62e9\u4f20\u8f93\u5c42\u534f\u8bae","text":""},{"location":"curriculum_study/TD_net/ch2/#_4","title":"\u9700\u6c42\u5206\u6790","text":"<p>\u524d\u9762\u63d0\u5230\uff0c\u5f00\u53d1\u8005\u5728\u4f20\u8f93\u5c42\u9700\u8981\u9009\u62e9\u4f20\u8f93\u534f\u8bae\u3002\u56e0\u6b64\u6211\u4eec\u9700\u8981\u9996\u5148\u4e86\u89e3\u624b\u5934\u7684\u8fd9\u4e2a\u5e94\u7528\u9700\u6c42\u51e0\u4f55\uff0c\u518d\u6839\u636e\u9700\u6c42\u6765\u9009\u62e9\u7279\u5b9a\u7684\u4f20\u8f93\u534f\u8bae\uff08\u5c31\u50cf\u65c5\u884c\u65f6\u9009\u62e9\u51fa\u884c\u65b9\u5f0f\u90a3\u6837\uff09\uff0c\u603b\u7684\u6765\u8bf4\uff0c\u5e94\u7528\u7684\u9700\u6c42\u53ef\u4ee5\u6982\u62ec\u4e3a\u4ee5\u4e0b\u56db\u79cd\uff1a</p> <ul> <li>\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93</li> </ul> <p>\u4e00\u4e9b\u5e94\u7528\u8981\u6c42\u6570\u636e\u7684\u5b8c\u5168\u6b63\u786e\uff0c\u5728\u8fd9\u4e9b\u5e94\u7528\u4e2d\u6570\u636e\u7684\u4e22\u5931\u6216\u8005\u9519\u8bef\u4f1a\u9020\u6210\u4e0d\u53ef\u5bb9\u5fcd\u7684\u9519\u8bef\uff0c\u56e0\u6b64\u8981\u6c42\u4f20\u8f93\u534f\u8bae\u901a\u8fc7\u67d0\u79cd\u624b\u6bb5\u6765\u4fdd\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u548c\u6b63\u786e\u3002\u6709\u8fd9\u79cd\u9700\u6c42\u7684\u5e94\u7528\u6709\u6d4f\u89c8\u5668\u3001\u6587\u4ef6\u4f20\u8f93\u7a0b\u5e8f\u3001\u7535\u5b50\u90ae\u7bb1\u7b49\u7b49\u3002\u6ce8\u610f\uff0c\u4e0d\u80fd\u4e00\u53a2\u60c5\u613f\u5730\u8ba4\u4e3a\u6240\u6709\u8054\u7f51\u5e94\u7528\u90fd\u8981\u6c42\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93\uff0c\u5b9e\u9645\u4e0a\u5f88\u591a\u5b9e\u65f6\u5e94\u7528\u5bf9\u4e8e\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u6b63\u786e\u6027\u8981\u6c42\u5f88\u4f4e\uff0c\u4f8b\u5982\u5b9e\u65f6\u804a\u5929\u8f6f\u4ef6\uff0c\u5728\u804a\u5929\u65f6\u753b\u9762\u548c\u58f0\u97f3\u7684\u5076\u7136\u5931\u771f\u662f\u53ef\u4ee5\u63a5\u53d7\u7684\uff0c\u4f46\u662f\u4e3a\u4fee\u590d\u8fd9\u4e9b\u5931\u771f\u800c\u5bfc\u81f4\u7684\u5ef6\u8fdf\u5374\u5f80\u5f80\u662f\u7528\u6237\u6240\u4e0d\u5e0c\u671b\u7684\u3002</p> <ul> <li>\u7a33\u5b9a\u7684\u541e\u5410\u91cf</li> </ul> <p>\u7f51\u7edc\u7684\u541e\u5410\u91cf\u5e76\u4e0d\u662f\u4e00\u6210\u4e0d\u53d8\u7684\uff0c\u5b9e\u9645\u4e0a\u4ece\u4e0a\u4e00\u7ae0\u7684\u8ba8\u8bba\u53ef\u4ee5\u770b\u51fa\uff0c\u7f51\u7edc\u4e2d\u7684\u201c\u4ea4\u901a\u72b6\u51b5\u201d\u603b\u662f\u5728\u6ce2\u52a8\u53d8\u5316\u7740\uff0c\u52a0\u4e4b\u4e3b\u673a\u4e2d\u5176\u4ed6\u7684\u8054\u7f51\u8fdb\u7a0b\uff0c\u4e00\u4e2a\u8fdb\u7a0b\u5f97\u5230\u7684\u541e\u5410\u91cf\u4e5f\u603b\u662f\u5728\u6ce2\u52a8\u53d8\u5316\u3002\u8fd9\u662f\u90e8\u5206\u5e94\u7528\u6240\u4e0d\u5e0c\u671b\u770b\u5230\u7684\uff0c\u5b83\u4eec\u5bf9\u4e8e\u541e\u5410\u91cf\u6709\u57fa\u672c\u7684\u8981\u6c42\uff0c\u82e5\u541e\u5410\u91cf\u4f4e\u4e8e\u67d0\u4e2a\u6570\u503c\uff0c\u5219\u5b83\u4eec\u65e0\u6cd5\u6b63\u786e\u5de5\u4f5c\uff0c\u4f8b\u5982\u5bf9\u4e8e\u8bed\u8a00\u901a\u8bdd\u6765\u8bf4\uff0c\u5047\u8bbe\u5b83\u4ee5\u56fa\u5b9a\u7684\u901f\u7387r bits/sec\u7f16\u7801\u8bed\u97f3\u4fe1\u606f\uff0c\u90a3\u4e48\u4e3a\u4e86\u4fdd\u8bc1\u6570\u636e\u7684\u6b63\u786e\u53d1\u9001\uff0c\u63d0\u4f9b\u7ed9\u8fd9\u4e2a\u8fdb\u7a0b\u7684\u541e\u5410\u91cf\u4e5f\u81f3\u5c11\u8981\u662fr bits/sec\u3002</p> <ul> <li>\u4f4e\u5ef6\u8fdf</li> </ul> <p>\u4f4e\u5ef6\u8fdf\u662f\u8bb8\u591a\u5b9e\u65f6\u5e94\u7528\u7684\u57fa\u672c\u8981\u6c42\u4e4b\u4e00\uff0c\u8fd8\u662f\u4ee5\u8bed\u97f3\u901a\u8bdd\u4e3a\u4f8b\uff0c\u7528\u6237\u5e0c\u671b\u901a\u8bdd\u7684\u5ef6\u8fdf\u80fd\u591f\u4f4e\u81f3\u65e0\u6cd5\u5bdf\u89c9\u7684\u7a0b\u5ea6\uff0c\u5426\u5219\u8fd9\u4f1a\u7ed9\u901a\u8bdd\u7684\u53cc\u65b9\u5e26\u6765\u4e0d\u81ea\u7136\u7684\u505c\u987f\uff0c\u6ca1\u6709\u4eba\u5e0c\u671b\u81ea\u5df1\u8bf4\u5b8c\u4e4b\u540e\u8981\u7b49\u5f85\u534a\u5206\u949f\u624d\u5f97\u5230\u56de\u5e94\u3002</p> <ul> <li>\u5b89\u5168</li> </ul> <p>\u5b89\u5168\u662f\u4e92\u8054\u7f51\u4e2d\u8001\u751f\u5e38\u8c08\u7684\u95ee\u9898\u3002\u4f20\u8f93\u534f\u8bae\u901a\u5e38\u7ecf\u8fc7\u53d1\u9001\u7aef\u52a0\u5bc6\uff0c\u63a5\u6536\u7aef\u89e3\u5bc6\u7684\u65b9\u5f0f\u6765\u4fdd\u8bc1\u5b89\u5168\uff0c\u8fd9\u6837\u505a\u53ef\u4ee5\u4fdd\u8bc1\u5373\u4f7f\u5305\u88f9\u88ab\u4e2d\u9014\u62e6\u622a\uff0c\u62e6\u622a\u8005\u4e5f\u96be\u4ee5\u83b7\u5f97\u5176\u4e2d\u4fe1\u606f\u3002\u9664\u4e86\u52a0\u5bc6\u8fd9\u4e00\u4f20\u7edf\u7684\u4fdd\u5bc6\u624b\u6bb5\uff0c\u4f20\u8f93\u534f\u8bae\u8fd8\u4f1a\u4f7f\u7528\u8bf8\u5982\u7aef\u70b9\u8ba4\u8bc1(end-point authentication) \u8fd9\u7c7b\u6280\u672f\u6765\u63d0\u5347\u5b89\u5168\u6027\u3002</p> <p></p> <p>\u73b0\u5b9e\u4e2d\uff0c\u4f20\u8f93\u534f\u8bae\u65e0\u5916\u4e4eTCP\u548cUDP\u4e24\u5927\u79cd\u7c7b\uff0c\u6211\u4eec\u6765\u770b\u770bTCP\u548cUDP\u63d0\u4f9b\u4e86\u54ea\u4e9b\u7279\u6027\u3002</p> <ul> <li> <p>TCP     TCP\u534f\u8bae\u5728\u5206\u7ec4\u4ea4\u6362\u7f51\u7edc\u4e2d\u6a21\u4eff\u7535\u8def\u4ea4\u6362\u7f51\u7edc\uff0c\u4f7f\u7528\u4e86TCP\u8fde\u63a5\u8fd9\u4e00\u6982\u5ff5\u3002\u82e5\u9700\u8981\u4f7f\u7528TCP\u534f\u8bae\u8fdb\u884c\u4f20\u8f93\uff0c\u9996\u5148\u9700\u8981\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u4e24\u4e2a\u4e3b\u673a\u7ecf\u8fc7\u201c\u4e09\u6b21\u63e1\u624b\u201d\u6765\u4ea4\u6362\u5efa\u7acb\u8fde\u63a5\u6240\u5fc5\u9700\u7684\u4fe1\u606f\u3002\u5728\u901a\u4fe1\u5b8c\u6210\u4e4b\u540e\uff0c\u4e24\u4e2a\u4e3b\u673a\u4e5f\u9700\u8981\u5173\u95edTCP\u8fde\u63a5\u3002\u8fd9\u4e9b\u8fde\u63a5\u4fdd\u8bc1\u4e86TCP\u7684\u53ef\u9760\u6570\u636e\u4f20\u8f93\uff0c\u4efb\u4f55\u4e22\u5931\u7684\u6216\u8005\u51fa\u9519\u7684\u5305\u88f9\u90fd\u4f1a\u88ab\u68c0\u6d4b\u5230\u5e76\u91cd\u65b0\u53d1\u9001\u76f4\u5230\u63a5\u6536\u65b9\u987a\u5229\u63a5\u6536\u4e3a\u6b62\u3002\u5728\u540e\u9762\u6211\u4eec\u540c\u6837\u4f1a\u770b\u5230TCP\u7684\u62e5\u5835\u63a7\u5236(congestion-control)\u6280\u672f\u4f1a\u6700\u5927\u5316\u6574\u4e2a\u7f51\u7edc\u7684\u4f20\u8f93\u80fd\u529b\uff08\u5728\u5927\u90e8\u5206\u4f20\u8f93\u534f\u8bae\u90fd\u662fTCP\u7684\u60c5\u51b5\u4e0b\uff09\uff0c\u529b\u56fe\u4f7f\u6bcf\u4e2aTCP\u8fde\u63a5\u90fd\u80fd\u5747\u5206\u7f51\u7edc\u7684\u4f20\u8f93\u80fd\u529b\u3002     \u603b\u7684\u6765\u8bf4\uff0cTCP\u53ef\u4ee5\u63d0\u4f9b\u5b8c\u5168\u7684\u53ef\u9760\u6570\u636e\u4f20\u8f93\u3002  </p> </li> <li> <p>UDP  </p> </li> </ul> <p>UDP\u662f\u4e00\u4e2a\u6781\u5176\u7b80\u5355\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u603b\u7684\u6765\u8bf4\u5b83\u53ea\u505a\u4e86\u4e00\u4ef6\u4e8b\u60c5\uff1a\u628a\u5305\u88f9\u4f20\u7ed9\u4e0b\u4e00\u5c42\uff08\u4ee5\u53ca\u4e00\u4e2a\u6548\u679c\u5f88\u5f31\u7684\u9519\u8bef\u68c0\u67e5\u673a\u5236\uff09\u3002\u56e0\u6b64UDP\u5e76\u4e0d\u4fdd\u8bc1\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\uff0c\u5305\u88f9\u968f\u65f6\u53ef\u80fd\u4e22\u5931\uff0c\u6216\u8005\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u51fa\u73b0\u9519\u8bef\u5185\u5bb9\u3002UDP\u6ca1\u6709\u63d0\u4f9b\u4ee5\u4e0a\u4efb\u4f55\u7279\u6027\u4e4b\u4e00\u3002</p> <ul> <li>SSL</li> </ul> <p>\u7531\u4e8eTCP\u548cUDP\u90fd\u6ca1\u6709\u63d0\u4f9b\u4efb\u4f55\u5b89\u5168\u4fdd\u8bc1\uff0cSSL(Secure Sockets Layer)\u5e94\u8fd0\u800c\u751f\u3002\u5b83\u672c\u8d28\u4e0a\u53ea\u662fTCP\u7684\u52a0\u5f3a\u7248\uff0c\u9664\u53bbTCP\u63d0\u4f9b\u7684\u670d\u52a1\u4e4b\u5916\uff0c\u52a0\u5165\u4e86\u52a0\u5bc6\u3001\u6570\u636e\u5b8c\u6574\u6027\u68c0\u9a8c(data integrity)\u548c\u7aef\u70b9\u9a8c\u8bc1\u529f\u80fd\u3002SSL\u7684\u5b89\u5168\u90e8\u5206\u662f\u5728\u5e94\u7528\u5c42\u5b9e\u73b0\u7684\uff0c\u56e0\u6b64\u60f3\u8981\u4f7f\u7528SSL\u7684\u5f00\u53d1\u8005\u9700\u8981\u5728\u7a0b\u5e8f\u4e2d\u6dfb\u52a0\u5b9e\u73b0\u4e86SSL\u7684\u7b2c\u4e09\u65b9\u5e93\u3002</p> <p>\u7ecf\u8fc7\u4e0a\u8ff0\u4ecb\u7ecd\u6211\u4eec\u4f1a\u53d1\u73b0\u5f53\u4eca\u4e92\u8054\u7f51\u7684\u4f20\u8f93\u534f\u8bae\u7f3a\u5c11\u7a33\u5b9a\u541e\u5410\u91cf\u548c\u4f4e\u5ef6\u8fdf\u7684\u4fdd\u8bc1\u3002\u8fd9\u4e9b\u529f\u80fd\u5728\u5982\u4eca\u7684\u8054\u7f51\u5e94\u7528\u4e2d\u662f\u5728\u5e94\u7528\u5185\u90e8\u5b8c\u6210\u7684\uff0c\u5f00\u53d1\u8005\u5c3d\u5176\u6240\u80fd\u6700\u5927\u5316\u5229\u7528\u5df2\u6709\u7684\u7f51\u7edc\u6761\u4ef6\u6765\u7ed9\u7528\u6237\u63d0\u4f9b\u53ef\u9760\u7684\u670d\u52a1\uff0c\u5f53\u7136\u5728\u7f51\u7edc\u6761\u4ef6\u672c\u8eab\u8fc7\u4e8e\u5dee\u52b2\uff08\u7f51\u7edc\u5ef6\u8fdf\u9ad8\u3001\u5e26\u5bbd\u4e0d\u8db3\uff09\u65f6\uff0c\u6280\u672f\u4e5f\u65e0\u529b\u56de\u5929\u3002\u4e0b\u9762\u5217\u4e3e\u5404\u79cd\u5e94\u7528\u4f7f\u7528\u7684\u5e94\u7528\u5c42\u534f\u8bae\u548c\u4f20\u8f93\u5c42\u534f\u8bae\uff1a</p> <p></p>"},{"location":"curriculum_study/TD_net/ch2/#_5","title":"\u5e94\u7528\u5c42\u534f\u8bae","text":"<p>\u4e0a\u9762\u6211\u4eec\u8ba8\u8bba\u4e86\u5c06\u4fe1\u606f(message)\u901a\u8fc7\u7f51\u7edc\u63a5\u53e3\u4f20\u9012\u7ed9\u4f20\u8f93\u5c42\uff0c\u4f46\u4fe1\u606f\u4e0d\u662f\u51ed\u7a7a\u4ea7\u751f\u7684\uff0c\u5b83\u7684\u5177\u4f53\u5f62\u5f0f\u662f\u7531\u5e94\u7528\u5c42\u534f\u8bae\u89c4\u5b9a\u7684\uff0c\u603b\u4f53\u6765\u770b\uff0c\u5e94\u7528\u5c42\u534f\u8bae\u56de\u7b54\u4e86\u4ee5\u4e0b\u5173\u4e8e\u4fe1\u606f\u7684\u56db\u4e2a\u95ee\u9898\uff1a</p> <ul> <li>\u8fd9\u4efd\u4fe1\u606f\u7684\u79cd\u7c7b\u662f\u4ec0\u4e48\uff1f\u5b83\u662f\u4f5c\u4e3a\u56de\u590d\u8fd8\u662f\u8bf7\u6c42\uff1f</li> <li>\u4e0d\u540c\u7684\u6570\u636e\u662f\u5982\u4f55\u5728\u4fe1\u606f\u4e2d\u6392\u5e03\u7684\uff1f\u67d0\u4e00\u79cd\u6570\u636e\u5728\u4fe1\u606f\u5305\u88f9\u4e2d\u7684\u54ea\u4e2a\u4f4d\u7f6e\uff1f</li> <li>\u8fd9\u4e9b\u6570\u636e\u7684\u542b\u4e49\u662f\u4ec0\u4e48\uff1f\u5b83\u4eec\u9075\u5faa\u4ec0\u4e48\u6837\u7684\u8bed\u6cd5\uff1f</li> <li>\u5f53\u8fdb\u7a0b\u6536\u5230\u8fd9\u79cd\u4fe1\u606f\u65f6\u5e94\u8be5\u6267\u884c\u4ec0\u4e48\u52a8\u4f5c\uff1f\u53c8\u9700\u8981\u53d1\u9001\u4ec0\u4e48\u54cd\u5e94\u4fe1\u606f\uff1f</li> </ul> <p>\u63a5\u4e0b\u6765\uff0c\u6211\u4eec\u5c06\u5177\u4f53\u4ecb\u7ecd\u5f53\u4eca\u4e92\u8054\u7f51\u6700\u4e3a\u8457\u540d\u4e5f\u662f\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u51e0\u4e2a\u5e94\u7528\u5c42\u534f\u8bae\uff0c\u8ba9\u6211\u4eec\u5e26\u7740\u8fd9\u51e0\u4e2a\u95ee\u9898\u7ee7\u7eed\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_6","title":"\u4e07\u7ef4\u7f51\u548c\u8d85\u6587\u672c\u4f20\u8f93\u534f\u5b9a","text":"<p>\u4e00\u63d0\u5230\u4e92\u8054\u7f51\uff0c\u6211\u4eec\u9996\u5148\u6620\u5165\u8111\u6d77\u7684\u5f88\u53ef\u80fd\u662f\u4e07\u7ef4\u7f51(World Wide Web, Web)\uff0c\u867d\u7136\u5b83\u9738\u5360\u4e86\u6211\u4eec\u7edd\u5927\u591a\u6570\u7684\u7f51\u7edc\u4f53\u9a8c\uff08\u79fb\u52a8\u7aef\u5e94\u7528\u4e5f\u662f\u57fa\u4e8eWeb\u6280\u672f\u7684\uff09\uff0c\u4f46\u4e07\u7ef4\u7f51\u4e0d\u7b49\u4e8e\u7f51\u7edc\uff0c\u5b83\u53ea\u662f\u4e92\u8054\u7f51\u4e0a\u7684\u4e00\u4e2a\u5e9e\u5927\u7684\u5e94\u7528\u800c\u5df2\u3002\u800c\u652f\u6491\u8fd9\u4e2a\u5e9e\u7136\u5927\u7269\u91cd\u8981\u7684\u5e94\u7528\u5c42\u534f\u8bae\u4e4b\u4e00\u4fbf\u662f\u8d85\u6587\u672c\u4f20\u8f93\u534f\u8bae(Hypertext Transfer Protocol, HTTP)\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_7","title":"\u7f51\u9875","text":"<p>\u5728\u5f00\u59cb\u4ecb\u7ecdHTTP\u4e4b\u524d\uff0c\u6211\u4eec\u9700\u8981\u5148\u4e86\u89e3\u5e73\u65f6\u4f7f\u7528\u6d4f\u89c8\u5668\u6d4f\u89c8\u7684\u7f51\u9875\u7a76\u7adf\u662f\u4ec0\u4e48\u3002\u7f51\u9875\u662f\u7531\u4e00\u7ec4\u6587\u4ef6\u6784\u6210\u7684\uff0c\u8fd9\u4e9b\u6587\u4ef6\u53ef\u4ee5\u662f\u8d85\u6587\u672c\u6807\u8bb0\u8bed\u8a00(Hypertext Makeup Language, HTML)\u6587\u4ef6\u3001\u56fe\u7247\u3001\u53ef\u4ea4\u4e92\u7a0b\u5e8f\u3001\u89c6\u9891\u7b49\u7b49\uff0c\u5927\u90e8\u5206\u7684\u7f51\u9875\u90fd\u7531\u4e00\u4e2a\u57fa\u7840\u7684HTML\u6587\u4ef6\u52a0\u4e0a\u88ab\u8fd9\u4e2a\u6587\u4ef6\u5f15\u7528\u7684\u5176\u4ed6\u6587\u4ef6\u6784\u6210\u3002</p> <p>\u57fa\u7840HTML\u6587\u4ef6\u901a\u8fc7\u7f51\u5740(Uniform Resource Locator, URL)\u5f15\u7528\u5176\u4ed6\u6587\u4ef6\uff0c\u6211\u4eec\u4e5f\u901a\u8fc7\u7f51\u5740\u6765\u8bbf\u95ee\u7f51\u7ad9\u3002\u7f51\u5740\u53ef\u4ee5\u89c6\u4f5c\u4e07\u7ef4\u7f51\u4e2d\u7684\u5730\u5740\uff0c\u6d4f\u89c8\u5668\u4f7f\u7528\u8fd9\u4e9b\u5730\u5740\u6765\u627e\u5230\u9700\u8981\u7684\u7f51\u9875\uff0c\u800c\u7f51\u5740\u5b9e\u9645\u4e0a\u548cip\u5730\u5740\u6709\u5343\u4e1d\u4e07\u7f15\u7684\u5173\u7cfb\uff0c\u8fd9\u4e00\u5173\u7cfb\u4f1a\u5728\u4ecb\u7ecd\u57df\u540d\u7cfb\u7edf(Domain Name Systeam, DNS)\u7684\u90e8\u5206\u8be6\u7ec6\u4ecb\u7ecd\u3002\u4e0b\u9762\u5c55\u793a\u4e86\u4e00\u4e2a\u5178\u578b\u7684\u7f51\u5740\uff1a</p> <p>http://www.someschool.edu/someDepartment/picture.gif </p> <p>\u7f51\u5740\u7684\u7ed3\u6784\u5f88\u7b80\u5355\uff0c\u5b83\u7531\u670d\u52a1\u5668\u540d\u79f0(hostname)\u548c\u8def\u5f84\u7ec4\u6210\uff0c\u670d\u52a1\u5668\u540d\u79f0\u6307\u5b9a\u9700\u8981\u8bbf\u95ee\u7684\u670d\u52a1\u5668\uff0c\u800c\u8def\u5f84\u5219\u6307\u5b9a\u8fd9\u4e00\u6587\u4ef6\u5728\u670d\u52a1\u5668\u6587\u4ef6\u7cfb\u7edf\u4e2d\u7684\u4f4d\u7f6e\u3002\u5728\u4e0a\u9762\u8fd9\u4e2a\u7f51\u5740\u4e2d\uff0c<code>www.someschool.edu</code>\u662f\u670d\u52a1\u5668\u540d\u79f0\uff0c<code>someDepartment/picture.gif</code>\u662f\u6587\u4ef6\u8def\u5f84\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#http","title":"HTTP\u603b\u89c8","text":"<p>HTTP\u8fd9\u4e00\u5e94\u7528\u5c42\u534f\u8bae\u662f\u57fa\u4e8eTCP\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u4efb\u4f55\u60f3\u4f7f\u7528HTTP\u7684\u5e94\u7528\u90fd\u5fc5\u987b\u9009\u62e9TCP\u4f5c\u4e3a\u4f20\u8f93\u5c42\u534f\u8bae\u3002\u6211\u4eec\u8fd8\u662f\u4ee5\u6d4f\u89c8\u5668\u4e3a\u4f8b\uff0c\u5f53\u7528\u6237\u5728\u6d4f\u89c8\u5668\u4e2d\u70b9\u51fb\u4e86\u4e00\u4e2a\u8d85\u94fe\u63a5\u6216\u8005\u5728\u7f51\u5740\u680f\u4e2d\u8f93\u5165\u4e86\u7f51\u5740\u70b9\u51fb\u8bbf\u95ee\u65f6\uff0c\u6d4f\u89c8\u5668\u6240\u5728\u7684\u4e3b\u673a\u5c31\u4f1a\u5411\u7f51\u5740\u4e2d\u6307\u5b9a\u7684\u670d\u52a1\u5668\u53d1\u51faTCP\u8fde\u63a5\u8bf7\u6c42\uff0c\u5f53\u4e3b\u673a\u548c\u670d\u52a1\u5668\u5efa\u7acb\u4e86TCP\u8fde\u63a5\u540e\uff0c\u4e3b\u673a\u63a5\u7740\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u7f51\u5740\u4e2d\u6307\u5b9a\u7684\u6587\u4ef6\u8def\u5f84\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u670d\u52a1\u5668\u5728\u6536\u5230\u6587\u4ef6\u8def\u5f84\u4e4b\u540e\u5728\u672c\u5730\u5b58\u50a8\u4e2d\u627e\u5230\u8fd9\u4e2a\u6587\u4ef6\u5e76\u6253\u5305\u53d1\u9001\u7ed9\u4e3b\u673a\uff0c\u4e3b\u673a\u6536\u5230\u6587\u4ef6\u540e\u4fbf\u6309\u7167\u4e00\u5b9a\u7684\u903b\u8f91\u5c06\u5b83\u663e\u793a\u5728\u5c4f\u5e55\u4e0a\uff0c\u8fd9\u5c31\u662f\u6211\u4eec\u8bbf\u95ee\u4e00\u4e2a\u7f51\u9875\u7684\u5168\u8fc7\u7a0b\u3002</p> <p>HTTP\u534f\u8bae\u4e2d\u4e0d\u8981\u6c42\u5ba2\u6237\u7aef\u6216\u8005\u670d\u52a1\u5668\u4efb\u4f55\u4e00\u65b9\u4fdd\u5b58\u5173\u4e8e\u901a\u4fe1\u7684\u53e6\u4e00\u65b9\u7684\u4efb\u4f55\u4fe1\u606f\uff0c\u4f8b\u5982\u4e00\u4e2a\u4e3b\u673a\u5982\u679c\u5728\u51e0\u79d2\u5185\u591a\u6b21\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u540c\u4e00\u4e2a\u6587\u4ef6\uff0c\u670d\u52a1\u5668\u5e76\u4e0d\u4f1a\u56e0\u4e3a\u4e4b\u524d\u5df2\u7ecf\u53d1\u9001\u8fc7\u76f8\u540c\u7684\u6587\u4ef6\u800c\u505a\u51fa\u4e0d\u4e00\u6837\u7684\u54cd\u5e94\uff0c\u76f8\u53cd\uff0c\u670d\u52a1\u5668\u5b8c\u5168\u4e0d\u8bb0\u5f97\u4e4b\u524d\u7ed9\u8fd9\u4e2a\u4e3b\u673a\u53d1\u9001\u8fc7\u76f8\u540c\u7684\u6587\u4ef6\u8fd9\u4ef6\u4e8b\uff0c\u5b83\u53ea\u4f1a\u548c\u4e4b\u524d\u4e00\u6837\u5fe0\u5b9e\u5730\u5c65\u884c\u534f\u8bae\uff0c\u5c06\u76f8\u540c\u7684\u6587\u4ef6\u591a\u6b21\u53d1\u9001\u51fa\u53bb\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_8","title":"\u6301\u7eed\\\u975e\u6301\u7eed\u8fde\u63a5","text":"<p>\u6211\u4eec\u4e0a\u9762\u63d0\u5230\u4e86HTTP\u662f\u57fa\u4e8eTCP\u7684\uff0c\u5e76\u7b80\u5355\u4ecb\u7ecd\u4e86\u8bbf\u95ee\u7f51\u9875\u7684\u8fc7\u7a0b\uff0c\u4f46\u662f\u5ffd\u7565\u4e86\u4e00\u4e2a\u95ee\u9898\uff1a\u4f55\u65f6\u5173\u95edTCP\u8fde\u63a5\uff1f\u6d41\u884c\u7684TCP\u8fde\u63a5\u7684\u7ba1\u7406\u65b9\u5f0f\u6709\u4e24\u79cd\uff1a\u4f20\u8f93\u4e00\u4e2a\u6587\u4ef6\u5c31\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5\uff1b\u53ea\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5\u4f20\u8f93\u6240\u6709\u7684\u6587\u4ef6\u3002\u8fd9\u4e24\u79cd\u65b9\u5f0f\u5c31\u5206\u522b\u5bf9\u5e94\u975e\u6301\u7eed\u8fde\u63a5(Non-persistent connections)\u548c\u6301\u7eed\u8fde\u63a5(Persistent connections)\uff0cHTTP\u540c\u65f6\u652f\u6301\u4e24\u79cd\u8fde\u63a5\u7ba1\u7406\u65b9\u5f0f\uff0c\u5927\u90e8\u5206\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f7f\u7528\u540e\u8005\uff0c\u4f46\u4e5f\u53ef\u4ee5\u8c03\u6574\u4e3a\u4f7f\u7528\u975e\u6301\u7eed\u8fde\u63a5\u3002</p> <p>\u8ba9\u6211\u4eec\u4e00\u6b65\u4e00\u6b65\u89c2\u5bdf\u7f51\u9875\u8bbf\u95ee\u8fc7\u7a0b\u6765\u5bf9\u6bd4\u4e24\u79cd\u65b9\u5f0f\uff0c\u5047\u8bbe\u6211\u4eec\u9700\u8981\u8bbf\u95ee\u4e0b\u9762\u8fd9\u4e2a\u7f51\u5740\uff0c\u5b83\u5bf9\u5e94\u7684\u7f51\u9875\u7531\u4e00\u4e2a\u57fa\u7840HTML\u6587\u4ef6\u548c\u4e94\u4e2a\u56fe\u7247\u6587\u4ef6\u7ec4\u6210\uff1a</p> <p>http://www.someschool.edu/someDepartment/home.index </p> <p>\u5f53\u4f7f\u7528\u975e\u6301\u7eed\u8fde\u63a5\u65f6\uff1a</p> <ol> <li>\u6d4f\u89c8\u5668\u6240\u5728\u7684\u4e3b\u673a\u627e\u5230\u670d\u52a1\u5668\u540d\u79f0<code>www.someschool.edu</code>\u6240\u5bf9\u5e94\u7684ip\u5730\u5740\uff0c\u6d4f\u89c8\u5668\u8fdb\u7a0b\u901a\u8fc7\u7aef\u53e380\uff08\u9884\u7559\u7ed9HTTP\u7684\u9ed8\u8ba4\u7aef\u53e3\uff09\u548c\u4e3b\u673a\u5efa\u7acbTCP\u8fde\u63a5</li> <li>\u4e3b\u673a\u5411\u670d\u52a1\u5668\u53d1\u9001HTTP\u8bf7\u6c42\u4fe1\u606f\uff0c\u5176\u4e2d\u5305\u542b\u6587\u4ef6\u8def\u5f84<code>someDepartment/home.index</code></li> <li>\u670d\u52a1\u5668\u901a\u8fc7\u63a5\u53e3\u6536\u5230\u8bf7\u6c42\u4fe1\u606f\uff0c\u5728\u672c\u5730\u5b58\u50a8\u4e2d\u627e\u5230\u5bf9\u5e94\u6587\u4ef6\u653e\u5165\u54cd\u5e94\u4fe1\u606f\u4e2d\u4ea4\u7ed9\u63a5\u53e3</li> <li>\u670d\u52a1\u5668\u8bf7\u6c42\u5173\u95edTCP\u8fde\u63a5\uff0c\u7b49\u5f85\u786e\u8ba4\u4e3b\u673a\u5df2\u7ecf\u987a\u5229\u63a5\u6536\u5230\u54cd\u5e94\u4fe1\u606f\uff0c\u5982\u679c\u4e3b\u673a\u6ca1\u6709\u63a5\u6536\u5230\uff0c\u5219\u8fde\u63a5\u8fd8\u4e0d\u80fd\u5173\u95ed</li> <li>\u4e3b\u673a\u63a5\u6536\u5230\u54cd\u5e94\u4fe1\u606f\u5f97\u5230\u57fa\u7840HTML\u6587\u4ef6\uff0c\u5e76\u53d1\u9001\u4fe1\u606f\u544a\u8bc9\u670d\u52a1\u5668\u53ef\u4ee5\u5173\u95ed\u8fde\u63a5\uff0c\u8fde\u63a5\u5173\u95ed</li> <li>\u4e3b\u673a\u89e3\u6790\u8be5HTML\u6587\u4ef6\u53d1\u73b0\u5b83\u8fd8\u5f15\u7528\u4e86\u4e94\u4e2a\u56fe\u7247\u6587\u4ef6\uff0c\u4e8e\u662f\u91cd\u590d\u4e94\u904d\u4e0a\u8ff0\u6b65\u9aa4\u4ee5\u6b64\u5f97\u5230\u8fd9\u4e94\u4e2a\u56fe\u7247\u6587\u4ef6</li> </ol> <p>\u5bf9\u4e8e\u4e00\u4e2a\u7531\u516d\u4e2a\u6587\u4ef6\u7ec4\u6210\u7684\u7f51\u9875\u6765\u8bf4\uff0c\u4e3b\u673a\u9700\u8981\u548c\u670d\u52a1\u5668\u5efa\u7acb\u516d\u4e2aTCP\u8fde\u63a5\u6765\u83b7\u5f97\u5168\u90e8\u6587\u4ef6\u3002\u4f46\u4e0a\u9762\u7684\u6b65\u9aa4\u4e0d\u4e00\u5b9a\u662f\u5b8c\u5168\u6309\u987a\u5e8f\u8fdb\u884c\u7684\uff0c\u6d4f\u89c8\u5668\u53ef\u80fd\u5e76\u884c\u5730\u548c\u670d\u52a1\u5668\u5efa\u7acb\u591a\u4e2a\u8fde\u63a5\u6765\u63d0\u5347\u8bbf\u95ee\u901f\u5ea6\u3002\u5982\u4eca\u7684\u5927\u591a\u6570\u6d4f\u89c8\u5668\u9ed8\u8ba4\u4f1a\u540c\u65f6\u7ef4\u62a4\u4e94\u5230\u5341\u4e2aTCP\u8fde\u63a5\u3002</p> <p>\u4e3a\u4e86\u66f4\u65b9\u4fbf\u5730\u8861\u91cf\u8bbf\u95ee\u7f51\u9875\u6240\u9700\u7684\u65f6\u95f4\uff0c\u6211\u4eec\u5c06\u4ee5\u65f6\u95f4\u4e3a\u5355\u4f4d\u7684\u5ef6\u8fdf\u62bd\u8c61\u6210\u6765\u56de\u901a\u4fe1\u65f6\u95f4(Round-Trip Time, RTT)\uff0c\u4e00\u6b21\u6765\u56de\u901a\u4fe1\u65f6\u95f4\u6240\u5bf9\u5e94\u7684\u65f6\u957f\u5c31\u662f\u9001\u53d1\u9001\u4fe1\u53f7\u65b9\u53d1\u9001\u4fe1\u53f7\u5230\u63a5\u6536\u4fe1\u53f7\u65b9\u53d1\u9001\u7684\u54cd\u5e94\u4fe1\u53f7\u5230\u8fbe\u53d1\u9001\u4fe1\u53f7\u65b9\u6240\u8017\u8d39\u7684\u65f6\u95f4\uff1a</p> <p></p> <p>\u5bf9\u4e8e\u975e\u6301\u7eed\u8fde\u63a5\u6765\u8bf4\uff0c\u6bcf\u6b21\u63a5\u53d7\u4e00\u4e2a\u6587\u4ef6\u90fd\u9700\u8981\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5\uff0c\u5176\u4e2d\u5305\u542b\u201c\u4e09\u6b21\u63e1\u624b\u201d\uff0c\u524d\u4e24\u6b21\u63e1\u624b\u4fbf\u8017\u8d39\u4e86\u4e00\u6b21\u6765\u56de\u901a\u4fe1\u65f6\u95f4\uff0c\u5728\u6700\u540e\u4e00\u6b21\u63e1\u624b\u65f6\uff0c\u6d4f\u89c8\u5668\u6240\u5728\u7684\u4e3b\u673a\u53d1\u9001\u7684TCP\u56de\u5e94\u4fe1\u606f\u53ef\u4ee5\u540c\u65f6\u5305\u542bHTTP\u8bf7\u6c42\u4fe1\u606f\uff0c\u4e8e\u662f\u670d\u52a1\u5668\u63a5\u6536\u5230TCP\u56de\u5e94\u4fe1\u606f\u6210\u529f\u5efa\u7acbTCP\u8fde\u63a5\u7684\u540c\u65f6\u4e5f\u63a5\u6536\u5230\u4e86HTTP\u8bf7\u6c42\u4fe1\u606f\uff0c\u4e8e\u662f\u53d1\u9001\u5bf9\u5e94\u7684\u6587\u4ef6\u7ed9\u4e3b\u673a\u3002\u6574\u4e2a\u8bf7\u6c42\u5355\u4e2a\u6587\u4ef6\u7684\u8fc7\u7a0b\u8017\u8d39\u4e86\u4e24\u6b21\u6765\u56de\u901a\u4fe1\u65f6\u95f4\uff1a</p> <p></p> <p>\u975e\u6301\u7eed\u8fde\u63a5\u6bcf\u4e00\u6b21\u5efa\u7acbTCP\u8fde\u63a5\u90fd\u4f1a\u6d88\u8017\u989d\u5916\u7684\u65f6\u95f4\uff08\u6bcf\u6b21\u5efa\u7acb\u8fde\u63a5\u90fd\u9700\u8981\u4e00\u6b21\u6765\u56de\u901a\u4fe1\u65f6\u95f4\uff09\u4ee5\u53ca\u670d\u52a1\u5668\u7684\u8d44\u6e90\uff08TCP\u7f13\u51b2\u533a\u3001\u7aef\u53e3\u7b49\u7b49\uff09\uff0c\u76f8\u6bd4\u8f83\u800c\u8a00\uff0c\u6301\u7eed\u8fde\u63a5\u4f7f\u7528\u4e00\u4e2aTCP\u8fde\u63a5\u6765\u5b8c\u6210\u4e00\u4e2a\u7f51\u9875\u6240\u6709\u6587\u4ef6\u7684\u4f20\u8f93\uff0c\u8282\u7701\u4e86\u65f6\u95f4\u548c\u8d44\u6e90\u3002\u6301\u7eed\u8fde\u63a5\u4f1a\u81ea\u52a8\u5173\u95ed\u6301\u7eed\u4e00\u6bb5\u65f6\u95f4\u95f2\u7f6e\u7684TCP\u8fde\u63a5\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#http_1","title":"HTTP\u4fe1\u606f\u683c\u5f0f","text":""},{"location":"curriculum_study/TD_net/ch2/#http-request-message","title":"\u8bf7\u6c42\u4fe1\u606f(HTTP request message)","text":"<p>\u9996\u5148\u770b\u4e00\u4e2a\u8bf7\u6c42\u4fe1\u606f\u7684\u4f8b\u5b50\uff1a</p> <pre><code>GET /somedir/page.html HTTP/1.1\nHost: www.someschool.edu\nConnection: close\nUser-agent: Mozilla/5.0\nAccept-language: fr\n</code></pre> <p>\u8fd9\u4e2a\u8bf7\u6c42\u4fe1\u606f\u53ea\u6709\u4e94\u884c\uff0c\u5176\u4e2d\u7b2c\u4e00\u884c\u662f\u8bf7\u6c42\u884c(request line)\uff0c\u5269\u4e0b\u56db\u884c\u90fd\u662f\u8bf7\u6c42\u5934(header lines)\u3002\u8bf7\u6c42\u884c\u5728\u8bf7\u6c42\u4fe1\u606f\u683c\u5f0f\u4e2d\u53ea\u6709\u4e00\u884c\uff0c\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a\u8bf7\u6c42\u65b9\u6cd5\u3001\u7f51\u5740\u4e2d\u7684\u6587\u4ef6\u7d22\u5f15\u548c\u4f7f\u7528\u7684HTTP\u7248\u672c\u3002\u63a5\u4e0b\u6765\u7684Host\u5c31\u662f\u670d\u52a1\u5668\u540d\u79f0\uff1bConnection: close\u544a\u8bc9\u670d\u52a1\u5668\u4f7f\u7528\u975e\u6301\u7eed\u8fde\u63a5\uff0c\u5728\u53d1\u9001\u5b8c\u8bf7\u6c42\u884c\u4e2d\u6307\u5b9a\u7684\u6587\u4ef6\u540e\u5c31\u5173\u95edTCP\u8fde\u63a5\uff1bUser-agent\u544a\u8bc9\u670d\u52a1\u5668\u53d1\u9001\u8fd9\u4e2a\u8bf7\u6c42\u7684\u6d4f\u89c8\u5668\u662f\u4ec0\u4e48\u7248\u672c\uff0c\u4e0a\u8ff0\u4f8b\u5b50\u4e2d\u7684Mozilla/5.0\u5bf9\u5e94FireFox\u6d4f\u89c8\u5668\uff1bAccept-language\u544a\u8bc9\u670d\u52a1\u5668\u7528\u6237\u5e0c\u671b\u83b7\u5f97\u4ec0\u4e48\u8bed\u8a00\u7248\u672c\u7684\u6587\u4ef6\uff0c\u5982\u679c\u6ca1\u6709\u8fd9\u4e2a\u7248\u672c\u7684\u6587\u4ef6\uff0c\u5219\u670d\u52a1\u5668\u53d1\u9001\u9ed8\u8ba4\u7684\u8bed\u8a00\u7248\u672c\uff0cHTTP\u4e2d\u8fd8\u6709\u5f88\u591a\u672c\u5730\u5316\u76f8\u5173\u7684\u8bf7\u6c42\u5934\u3002\u4e0b\u9762\u662fHTTP\u8bf7\u6c42\u4fe1\u606f\u7684\u683c\u5f0f\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\uff0cHTTP\u4e2d\u6240\u6709\u7684\u884c\u90fd\u662f\u4ee5\u4e00\u4e2a\u56de\u8f66\u7b26\u548c\u4e00\u4e2a\u6362\u884c\u7b26\u7ed3\u5c3e\u7684\uff0c\u5e76\u4e14\u5728\u5934\u90e8\u4fe1\u606f\u7684\u6700\u540e\u4e00\u884c\u4e0b\u9762\u8fd8\u6709\u7a7a\u767d\u7684\u4e00\u884c\u3002\u63a5\u4e0b\u6765\u7684Entity body\u4f7f\u7528\u4e0e\u5426\u548c\u8bf7\u6c42\u65b9\u6cd5\u6709\u5173\uff0cGET\u65b9\u6cd5\u5e76\u4e0d\u4f7f\u7528\u8fd9\u4e2a\u4fe1\u606f\u57df\u3002</p> <p>HTTP\u4e2d\u7684\u8bf7\u6c42\u65b9\u6cd5\u53ea\u6709GET, POST, HEAD, PUT\u548cDELETE\u8fd9\u4e94\u79cd\uff0c\u4e0b\u9762\u5206\u522b\u4ecb\u7ecd\u8fd9\u4e94\u79cd\u8bf7\u6c42\u65b9\u6cd5\uff1a</p> <ul> <li>GET</li> </ul> <p>GET\u65b9\u6cd5\u662f\u6700\u5e38\u7528\u7684\u8bf7\u6c42\u65b9\u6cd5\uff0c\u5b83\u7528\u4e8e\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8bf7\u6c42\u884c\u4e2d\u6587\u4ef6\u7d22\u5f15\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u5728\u4f7f\u7528GET\u65b9\u6cd5\u65f6\uff0cEntity body\u4e3a\u7a7a</p> <ul> <li>POST</li> </ul> <p>POST\u65b9\u6cd5\u548cGET\u65b9\u6cd5\u529f\u80fd\u57fa\u672c\u76f8\u540c\uff0c\u4f46\u5b83\u7528\u4e8e\u5e26\u8f93\u5165\u7684HTTP\u8bf7\u6c42\uff0c\u4f8b\u5982\u7528\u6237\u5728\u641c\u7d22\u5f15\u64ce\u4e2d\u641c\u7d22\u67d0\u6837\u4e1c\u897f\u65f6\uff0c\u8f93\u5165\u7684\u641c\u7d22\u5173\u952e\u5b57\u5c31\u5b58\u50a8\u5728Entity body\u4e2d\u3002\u6ce8\u610f\uff0c\u5e26\u8f93\u5165\u7684HTTP\u8bf7\u6c42\u5e76\u4e0d\u662f\u53ea\u80fd\u4f7f\u7528POST\u65b9\u6cd5\uff0c\u6211\u4eec\u4e00\u6837\u53ef\u4ee5\u4f7f\u7528GET\u65b9\u6cd5\u6765\u5b8c\u6210\u7c7b\u4f3c\u641c\u7d22\u7684\u529f\u80fd\uff0c\u8fd9\u662f\u901a\u8fc7\u5728\u7f51\u5740\u672b\u6dfb\u52a0\u641c\u7d22\u5173\u952e\u5b57\u4e2d\u5b8c\u6210\u7684\u3002\u4f8b\u5982\u5f53\u6211\u4eec\u8bbf\u95ee\u8c37\u6b4c\u65f6\uff0c\u7f51\u5740\u4e3ahttps://www.google.com.hk\uff0c\u7136\u540e\u6211\u4eec\u5728\u8f93\u5165\u6846\u4e2d\u8f93\u5165\"HTTP\"\u5e76\u8fdb\u884c\u641c\u7d22\uff0c\u6b64\u65f6\u8bbf\u95ee\u7684\u7f51\u5740\u5c31\u4f1a\u53d8\u6210https://www.google.com.hk/search?q=HTTP\uff08\u5b9e\u9645\u4e0a\u7684\u7f51\u5740\u53ef\u80fd\u5f88\u957f\uff09</p> <ul> <li>HEAD</li> </ul> <p>HEAD\u65b9\u6cd5\u4e5f\u662f\u8bf7\u6c42\u4e00\u4e2a\u6587\u4ef6\uff0c\u4f46\u662f\u5b83\u8981\u6c42\u54cd\u5e94\u4fe1\u606f\u4e2d\u53ea\u5305\u542b\u4fe1\u606f\u5934\uff0c\u8fd9\u4e00\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u5f00\u53d1\u8c03\u8bd5</p> <ul> <li>PUT</li> </ul> <p>\u7528\u4e8e\u5c06\u6587\u4ef6\u653e\u5165\u7279\u5b9a\u7684\u670d\u52a1\u5668\u4e2d\uff0c\u6587\u4ef6\u5185\u5bb9\u5728Entity body\u4e2d</p> <ul> <li>DELETE</li> </ul> <p>\u7528\u4e8e\u5220\u9664\u670d\u52a1\u5668\u4e2d\u7684\u7279\u5b9a\u6587\u4ef6</p>"},{"location":"curriculum_study/TD_net/ch2/#http-respond-message","title":"\u54cd\u5e94\u4fe1\u606f(HTTP respond message)","text":"<p>\u548c\u4e0a\u4e00\u8282\u76f8\u540c\uff0c\u6211\u4eec\u5148\u7ed9\u51fa\u4e00\u4e2a\u5177\u4f53\u7684\u54cd\u5e94\u4fe1\u606f\u4f5c\u4e3a\u4f8b\u5b50\uff1a</p> <pre><code>HTTP/1.1 200 OK\nConnection: close\nDate: Tue, 18 Aug 2015 15:44:04 GMT\nServer: Apache/2.2.3 (CentOS)\nLast-Modified: Tue, 18 Aug 2015 15:11:03 GMT\nContent-Length: 6821\nContent-Type: text/html\n\n(data data data data data ......)\n</code></pre> <p>\u7c7b\u4f3c\u8bf7\u6c42\u4fe1\u606f\uff0c\u54cd\u5e94\u4fe1\u606f\u7684\u7b2c\u4e00\u884c\u88ab\u79f0\u4e3a\u72b6\u6001\u884c(status line)\uff0c\u5269\u4e0b\u7684\u516d\u884c\u90fd\u662f\u54cd\u5e94\u5934(header line)\uff0c\u72b6\u6001\u5934\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1aHTTP\u7248\u672c\u3001\u72b6\u6001\u7801\u548c\u4e0e\u4e4b\u5bf9\u5e94\u7684\u72b6\u6001\u4fe1\u606f\uff0c\u4f8b\u5b50\u4e2d\u7684\u72b6\u6001\u7801\u4e3a200\uff0c\u72b6\u6001\u4fe1\u606f\u4e3aOK\uff0c\u610f\u5473\u7740\u4e00\u5207\u6b63\u5e38\uff0c\u6d4f\u89c8\u5668\u53ef\u4ee5\u987a\u5229\u5f97\u5230\u8bf7\u6c42\u7684\u6587\u4ef6\u3002\u63a5\u4e0b\u6765\u7684Connection: close\u544a\u8bc9\u6d4f\u89c8\u5668\u670d\u52a1\u5668\u5c06\u8981\u5173\u95ed\u8fd9\u4e2aTCP\u8fde\u63a5\uff1bDate\u8868\u660e\u4e86\u8fd9\u4e2a\u54cd\u5e94\u4fe1\u606f\u88ab\u521b\u5efa\u7684\u65f6\u95f4\uff0c\u800c\u4e0d\u662f\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684\u6587\u4ef6\u88ab\u521b\u5efa\u6216\u8005\u4e0a\u4e00\u6b21\u4fee\u6539\u7684\u65f6\u95f4\uff1bServer\u548c\u8bf7\u6c42\u4fe1\u606f\u4e2d\u7684User-agent\u7c7b\u4f3c\uff0c\u544a\u8bc9\u6d4f\u89c8\u5668\u521b\u5efa\u8fd9\u4e2a\u54cd\u5e94\u4fe1\u606f\u7684\u670d\u52a1\u5668\u7248\u672c\uff1bLast-Modified\u662f\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684\u6587\u4ef6\u88ab\u521b\u5efa\u6216\u8005\u4e0a\u4e00\u6b21\u4fee\u6539\u7684\u65f6\u95f4\uff1bContent-Length\u662f\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684\u6587\u4ef6\u7684\u5927\u5c0f\uff0c\u5355\u4f4d\u662fbyte\uff1bContent-Type\u8868\u660e\u76f8\u5e94\u4fe1\u606f\u4e2d\u6587\u4ef6\u7684\u7c7b\u578b\uff0c\u5728\u8fd9\u91cc\u662fhtml\u6587\u672c\u6587\u4ef6\uff1b\u6700\u540e\u7684(data ...)\u5c31\u4ee3\u8868\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684\u6587\u4ef6\u3002\u54cd\u5e94\u4fe1\u606f\u7684\u7ed3\u6784\u5982\u4e0b\u6240\u793a\uff1a</p> <p></p> <p>\u4e0b\u9762\u4ecb\u7ecd\u4e00\u4e9b\u5e38\u89c1\u7684\u72b6\u6001\u7801\u548c\u72b6\u6001\u4fe1\u606f\u7ec4\u5408\uff1a</p> <ul> <li>200 OK: \u8bf7\u6c42\u6210\u529f</li> <li>301 Moved Permanently: \u8bf7\u6c42\u7684\u6587\u4ef6\u5df2\u7ecf\u88ab\u6c38\u4e45\u79fb\u52a8\u5230\u5176\u4ed6\u4f4d\u7f6e\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u65b0\u4f4d\u7f6e\u653e\u5728\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684Location\u54cd\u5e94\u5934\u4e2d\uff0c\u6d4f\u89c8\u5668\u4f1a\u636e\u6b64\u81ea\u52a8\u53d1\u8d77\u7b2c\u4e8c\u6b21\u8bf7\u6c42</li> <li>400 Bad Request: \u4e00\u4e2a\u975e\u5e38\u5bbd\u6cdb\u7684\u9519\u8bef\u7801\uff0c\u8868\u793a\u670d\u52a1\u5668\u65e0\u6cd5\u7406\u89e3\u8bf7\u6c42\u4fe1\u606f</li> <li>404 Not Found: \u670d\u52a1\u5668\u4e2d\u65e0\u6cd5\u627e\u5230\u8bf7\u6c42\u7684\u6587\u4ef6</li> <li>505 HTTP Version Not Supported: \u670d\u52a1\u5668\u4e0d\u652f\u6301\u8bf7\u6c42\u4fe1\u606f\u6307\u5b9a\u7684HTTP\u7248\u672c</li> </ul>"},{"location":"curriculum_study/TD_net/ch2/#cookies","title":"Cookies","text":"<p>\u524d\u9762\u63d0\u5230\uff0cWeb\u670d\u52a1\u5668\u662f\u4e0d\u4f1a\u4fdd\u5b58\u5ba2\u6237\u7aef\u7684\u4fe1\u606f\u7684\uff0c\u8fd9\u662f\u51fa\u4e8e\u6027\u80fd\u7684\u8003\u8651\u624d\u8fd9\u4e48\u8bbe\u8ba1\u7684\u3002\u4f46\u662f\u968f\u7740\u4e92\u8054\u7f51\u53d1\u5c55\uff0c\u7f51\u9875\u9010\u6e10\u6709\u4e86\u8bc6\u522b\u4e0d\u540c\u7528\u6237\u7684\u9700\u6c42\uff0c\u8bc6\u522b\u4e0d\u540c\u7528\u6237\u5c31\u53ef\u4ee5\u8fdb\u4e00\u6b65\u63d0\u4f9b\u66f4\u597d\u7684\u4e2a\u6027\u5316\u670d\u52a1\u3002Cookies\u6280\u672f\u5c31\u662f\u8bc6\u522b\u7528\u6237\u7684\u6280\u672f\u4e4b\u4e00\uff0c\u5b83\u5c06cookie\u4fe1\u606f\u4fdd\u5b58\u5728\u5ba2\u6237\u7aef\u672c\u5730\uff0c\u5728\u9700\u8981\u65f6\u53d1\u9001\u7ed9\u670d\u52a1\u5668\u6765\u8ba9\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u518d\u901a\u8fc7\u5176\u7ef4\u62a4\u7684\u6570\u636e\u5e93\u6765\u8bc6\u522b\u4e0d\u540c\u7528\u6237\uff0ccookie\u4fe1\u606f\u53ef\u4ee5\u770b\u4f5c\u670d\u52a1\u5668\u4e2d\u6570\u636e\u5e93\u91cc\u7684\u7528\u6237\u4fe1\u606f\u7d22\u5f15\u3002</p> <p>cookie\u63d0\u4f9b\u591a\u9879\u6709\u7528\u7684\u529f\u80fd\uff0c\u5b83\u4f7fWeb\u670d\u52a1\u5668\u80fd\u591f\u5728\u5ba2\u6237\u7aef\u4e0a\u4fdd\u5b58\u7528\u6237\u5728\u7f51\u7ad9\u4e0a\u7684\u884c\u4e3a\uff08\u6bd4\u5982\u6dfb\u52a0\u8d2d\u7269\u8f66\uff09\uff0c\u8ddf\u8e2a\u7528\u6237\u7684\u6d4f\u89c8\u6d3b\u52a8\uff08\u70b9\u51fb\u7279\u5b9a\u94fe\u63a5\u3001\u767b\u5f55\uff09\uff1b\u5b83\u8fd8\u4f7f\u6d4f\u89c8\u5668\u80fd\u591f\u4fdd\u5b58\u7528\u6237\u5728\u8868\u5355\u4e2d\u8f93\u5165\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u767b\u9646\u7528\u7684\u7528\u6237\u540d\u548c\u5bc6\u7801\u7b49\uff0c\u65b9\u4fbf\u7528\u6237\u4f7f\u7528\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u4f7f\u7528cookie\u7684\u5177\u4f53\u4f8b\u5b50\u3002Susan\u662febay\u7684\u5fe0\u5b9e\u7528\u6237\uff0c\u7ecf\u5e38\u4f7f\u7528ebay\u8fdb\u884c\u7f51\u4e0a\u8d2d\u7269\uff0c\u4f46\u5979\u4eca\u5929\u7b2c\u4e00\u6b21\u4f7f\u7528Amazon\u3002\u5f53\u5979\u8bbf\u95eeAmazon\u7684\u8bf7\u6c42\u5230\u8fbe\u670d\u52a1\u5668\u4e4b\u540e\uff0cAmazon\u7684\u670d\u52a1\u5668\u4f1a\u8bc6\u522b\u5230\u8fd9\u4e2a\u4e3b\u673a\u5728\u6570\u636e\u5e93\u4e2d\u6ca1\u6709\u5bf9\u5e94\u7684\u7528\u6237\u4fe1\u606f\uff0c\u968f\u540e\u5b83\u4f1a\u5728\u6570\u636e\u5e93\u4e2d\u65b0\u589e\u4e00\u4e2a\u6761\u76ee\uff0c\u5bf9\u5e94\u4e00\u4e2a\u65b0\u7684\u7d22\u5f15\u503c\u3002\u968f\u540e\u670d\u52a1\u5668\u5c06\u8fd9\u4e2a\u7d22\u5f15\u503c\u653e\u5165\u54cd\u5e94\u4fe1\u606f\u4e2d\u53d1\u7ed9Susan\u7684\u7535\u8111\uff0c\u8fd9\u4e2a\u7d22\u5f15\u503c\u53ef\u80fd\u662f\u8fd9\u6837\u7684\uff1a</p> <pre><code>Set-cookie: 1678\n</code></pre> <p>Susan\u7684\u6d4f\u89c8\u5668\u5728\u54cd\u5e94\u4fe1\u606f\u4e2d\u53d1\u73b0\u8fd9\u4e00\u884c\u4e4b\u540e\uff0c\u5c31\u5c06\u8fd9\u4e2a\u503c\u653e\u5165\u5176\u7ef4\u62a4\u7684cookie\u6587\u4ef6\u4e2d\uff0c\u5bf9\u5e94Amazon\u8fd9\u4e2a\u7f51\u7ad9\u3002\u5728Susan\u540e\u7eed\u8bbf\u95eeAmazon\u65f6\uff0c\u6d4f\u89c8\u5668\u90fd\u4f1a\u5728\u5176\u7ef4\u62a4\u7684cookie\u6587\u4ef6\u4e2d\u5bfb\u627eAmazon\u5bf9\u5e94\u7684cookie\u503c\u5e76\u63d2\u5165\u8bf7\u6c42\u4fe1\u606f\u4e2d\uff0c\u4e8e\u662f\u5728\u6d4f\u89c8\u5668\u53d1\u9001\u7684\u6bcf\u4e2a\u8bf7\u6c42\u4fe1\u606f\u5728\u8bf7\u6c42\u5934\u4e2d\u90fd\u6709\u8fd9\u6837\u4e00\u884c\uff08\u53ea\u8981\u5979\u6ca1\u6709\u6e05\u7a7acookie\u8bb0\u5f55\uff09\uff1a</p> <pre><code>Cookie: 1678\n</code></pre> <p>\u800c\u6bcf\u6b21Susan\u5728Amazon\u7f51\u7ad9\u4e0a\u7684\u884c\u4e3a\u90fd\u53ef\u4ee5\u88abAmazon\u7684\u670d\u52a1\u5668\u8bb0\u5f55\u52301678\u5bf9\u5e94\u7684\u6761\u76ee\u4e2d\uff08\u60f3\u60f3\u6216\u8bb8\u6709\u70b9\u53ef\u6015\uff09\uff0c\u8fd9\u6837Susan\u5c31\u80fd\u4eceAmazon\u7f51\u7ad9\u4e0a\u83b7\u5f97\u66f4\u52a0\u4e2a\u6027\u5316\u7684\u670d\u52a1\uff0c\u800cAmazon\u4e5f\u6709\u529e\u6cd5\u4eceSusan\u90a3\u91cc\u8d5a\u66f4\u591a\u94b1\u4e86\u3002\u5f53Susan\u5728Amazon\u7f51\u7ad9\u4e0a\u6ce8\u518c\u4e86\u4e00\u4e2a\u65b0\u7684\u5e10\u53f7\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u4e2d\u533f\u540d\u7684cookie\u6761\u76ee\u5c31\u4f1a\u548c\u8fd9\u4e2a\u5e10\u53f7\u7684\u6761\u76ee\u5408\u5e76\u3002\u4e0a\u8ff0cookie\u7684\u8fd0\u4f5c\u8fc7\u7a0b\u56fe\u793a\u5982\u4e0b\uff1a</p> <p></p>"},{"location":"curriculum_study/TD_net/ch2/#web-caching","title":"\u7f51\u9875\u7f13\u5b58(Web Caching)","text":"<p>\u7f13\u5b58\u5c31\u662f\u7528\u4e8e\u63d0\u5347\u8bbf\u95ee\u901f\u5ea6\u7684\u5b58\u50a8\u6570\u636e\u7684\u786c\u4ef6\u6216\u8005\u8f6f\u4ef6\u7ec4\u4ef6\u3002\u7f51\u9875\u7f13\u5b58\uff0c\u53c8\u540d\u4ee3\u7406\u670d\u52a1\u5668(Proxy Server)\uff0c\u6307\u4ee3\u66ff\u539fWeb\u670d\u52a1\u5668\u54cd\u5e94\u4e3b\u673a\u7684\u8bf7\u6c42\u4fe1\u606f\u7684\u670d\u52a1\u5668\uff0c\u5176\u901a\u5e38\u7531\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546(ISP)\u90e8\u7f72\u5728\u8ddd\u79bb\u4e3b\u673a\u66f4\u8fd1\u7684\u5730\u65b9\uff0c\u53ef\u4ee5\u63d0\u5347\u9644\u8fd1\u8fd9\u7247\u533a\u57df\u8bbf\u95ee\u7f51\u9875\u7684\u901f\u5ea6\uff0c\u81f3\u4e8e\u7f51\u9875\u7f13\u5b58\u662f\u5982\u4f55\u505a\u5230\u8fd9\u4e00\u70b9\u7684\uff0c\u8ba9\u6211\u4eec\u770b\u4e00\u4e2a\u4f8b\u5b50\u3002\u5047\u8bbe\u6211\u4eec\u60f3\u8981\u8bbf\u95ee<code>www.bing.com</code>\u8fd9\u4e2a\u7f51\u7ad9\uff1a</p> <ol> <li>\u6d4f\u89c8\u5668\u9996\u5148\u548c\u7f51\u9875\u7f13\u5b58\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u53d1\u51fa\u8bf7\u6c42\u4fe1\u606f</li> <li>\u7f51\u9875\u7f13\u5b58\u5728\u5176\u5b58\u50a8\u4e2d\u5bfb\u627e\u8fd9\u4e2a\u8bf7\u6c42\u4fe1\u606f\u5bf9\u5e94\u7684\u6587\u4ef6\uff0c\u5982\u679c\u627e\u5230\u4e86\u7684\u8bdd\u5c31\u53d1\u7ed9\u6d4f\u89c8\u5668</li> <li>\u5982\u679c\u6ca1\u6709\u627e\u5230\uff0c\u5219\u7f51\u9875\u7f13\u5b58\u548c\u539fWeb\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u63a5\u7740\u8bf7\u6c42\u6d4f\u89c8\u5668\u6240\u8bf7\u6c42\u7684\u6587\u4ef6\uff0c\u539fWeb\u670d\u52a1\u5668\u5c06\u6587\u4ef6\u653e\u5165\u54cd\u5e94\u4fe1\u606f\u4e2d\u53d1\u56de\u7ed9\u7f51\u9875\u7f13\u5b58</li> <li>\u7f51\u9875\u7f13\u5b58\u63a5\u6536\u5230\u54cd\u5e94\u4fe1\u606f\uff0c\u5c06\u5176\u4e2d\u7684\u6587\u4ef6\u5b58\u50a8\u5728\u672c\u5730\u5185\u5b58\u4e2d\uff0c\u7136\u540e\u518d\u7ed9\u6d4f\u89c8\u5668\u4ee5\u54cd\u5e94\u4fe1\u606f\u7684\u5f62\u5f0f\u53d1\u9001\u4e00\u4efd\u62f7\u8d1d\uff0c\u6d4f\u89c8\u5668\u6700\u7ec8\u63a5\u6536\u5230\u54cd\u5e94\u4fe1\u606f</li> </ol> <p></p> <p>\u7531\u4e8e\u4e3b\u673a\u548c\u7f51\u9875\u7f13\u5b58\u7684\u901a\u4fe1\u4e0d\u9700\u8981\u7ecf\u8fc7\u4e92\u8054\u7f51\uff0c\u800c\u662f\u5728\u63a5\u5165\u7f51\u5185\u5b8c\u6210\u7684\uff0c\u56e0\u6b64\u901f\u5ea6\u8981\u6bd4\u76f4\u63a5\u8bbf\u95ee\u539fWeb\u670d\u52a1\u5668\u8981\u5feb\u5f97\u591a\uff0c\u5e76\u4e14\u7531\u4e8e\u663e\u8457\u5730\u51cf\u5c11\u4e86\u63a5\u5165\u7f51\u548c\u4e92\u8054\u7f51\u901a\u4fe1\u7684\u6d41\u91cf\uff0c\u4e5f\u53d8\u76f8\u63d0\u5347\u4e86\u63a5\u5165\u7f51\u7684\u7f51\u7edc\u8fde\u63a5\u8d28\u91cf\u3002</p> <p>\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\u6765\u611f\u53d7\u7f51\u9875\u7f13\u5b58\u7684\u4f18\u52bf\uff0c\u5047\u8bbe\u4e00\u6240\u5927\u5b66\u7684\u7f51\u7edc\u7531\u4e00\u4e2a\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u63d0\u4f9b\uff0c\u63a5\u5165\u7f51\u4e2d\u8fde\u63a5\u7684\u901f\u5ea6\u4e3a100Mbps\uff0c\u800c\u63a5\u5165\u7f51\u548c\u4e92\u8054\u7f51\u7684\u8fde\u63a5\u901f\u5ea6\u4e3a15Mbps\uff1a</p> <p></p> <p>\u540c\u65f6\u5047\u8bbe\u8be5\u63a5\u5165\u7f51\u4e2d\u53ea\u6709Web\u76f8\u5173\u7684\u6d41\u91cf\uff0c\u5ffd\u7565\u8bf7\u6c42\u4fe1\u606f\uff0c\u63a5\u5165\u7f51\u4e2d\u5e73\u5747\u6bcf\u79d2\u670915\u6b21\u7f51\u9875\u8bf7\u6c42\uff0c\u6bcf\u6b21\u8bf7\u6c42\u7684\u54cd\u5e94\u4fe1\u606f\u5927\u5c0f\u5e73\u5747\u4e3a1Mbits\uff1b\u5e76\u4e14\u8ba4\u4e3a\u4e92\u8054\u7f51\u7684\u5e73\u5747\u5ef6\u8fdf\u4e3a2s\u3002\u90a3\u4e48\u63a5\u5165\u7f51\u4e2d\u8fde\u63a5\u7684\u6d41\u91cf\u5f3a\u5ea6\u4e3a\uff1a\u00a0</p> <p>\u800c\u5728\u63a5\u5165\u7f51\u5230\u4e92\u8054\u7f51\u7684\u8fde\u63a5\u4e2d\u7684\u6d41\u91cf\u5f3a\u5ea6\u4e3a\uff1a\u00a0</p> <p>\u8fd9\u53ef\u4e0d\u5f97\u4e86\uff0c\u6211\u4eec\u5728\u4e0a\u4e00\u7ae0\u8bf4\u8fc7\uff0c\u5f53\u6d41\u91cf\u5f3a\u5ea6\u8d8b\u5411\u4e8e1\u65f6\uff0c\u901a\u4fe1\u5ef6\u8fdf\u5c06\u8d8b\u5411\u4e8e\u65e0\u7a77\uff0c\u6211\u4eec\u9700\u8981\u5347\u7ea7\u63a5\u5165\u7f51\u7684\u89c4\u683c\u6765\u964d\u4f4e\u5ef6\u8fdf\uff0c\u73b0\u5728\u6211\u4eec\u6709\u4e24\u4e2a\u9009\u62e9\uff1a1\uff09\u5347\u7ea7\u63a5\u5165\u7f51\u5230\u4e92\u8054\u7f51\u7684\u8fde\u63a5\u81f3100Mbps 2\uff09\u5728\u63a5\u5165\u7f51\u4e2d\u8bbe\u7f6e\u7f51\u9875\u7f13\u5b58\u3002</p> <p>\u7b2c\u4e00\u4e2a\u9009\u62e9\u53ef\u4ee5\u5c06\u63a5\u5165\u7f51\u5230\u4e92\u8054\u7f51\u7684\u8fde\u63a5\u7684\u6d41\u91cf\u5f3a\u5ea6\u964d\u81f30.15\uff0c\u6b64\u65f6\u603b\u7684\u901a\u4fe1\u5ef6\u8fdf\u5927\u7ea6\u4e3a2s\u3002</p> <p>\u7b2c\u4e8c\u4e2a\u9009\u62e9\u76f8\u6bd4\u800c\u8a00\u66f4\u52a0\u7ecf\u6d4e\uff0c\u8981\u4f30\u7b97\u8fd9\u4e2a\u60c5\u51b5\u4e0b\u7684\u5ef6\u8fdf\uff0c\u6211\u4eec\u9700\u8981\u77e5\u9053\u7f13\u5b58\u7684\u547d\u4e2d\u7387\uff0c\u5728\u5b9e\u8df5\u4e2d\u8fd9\u4e2a\u503c\u901a\u5e38\u57280.2\u81f30.7\u4e4b\u95f4\uff0c\u6211\u4eec\u5f80\u4f4e\u4e86\u53d6\uff0c\u8ba4\u4e3a\u547d\u4e2d\u7387\u4e3a0.4\uff0c\u4e5f\u5c31\u662f\u8bf4\u670960%\u7684\u7f51\u9875\u8bbf\u95ee\u9700\u8981\u7ecf\u8fc7\u4e92\u8054\u7f51\uff0c\u800c\u5269\u4e0b\u7684\u53ea\u9700\u8981\u5728\u63a5\u5165\u7f51\u5185\u5b8c\u6210\u3002\u6b64\u65f6\u63a5\u5165\u7f51\u5230\u4e92\u8054\u7f51\u7684\u8fde\u63a5\u7684\u6d41\u91cf\u5f3a\u5ea6\u964d\u81f30.6\uff0c\u800c\u53ef\u4ee5\u8ba4\u4e3a\u63a5\u5165\u7f51\u5185\u7684\u901a\u4fe1\u5ef6\u8fdf\u53ea\u6709\u4f20\u8f93\u5ef6\u8fdf\uff0c\u90a3\u4e48\u603b\u7684\u5ef6\u8fdf\u5c31\u662f\uff1a\u00a0</p> <p>\u8fd9\u4e2a\u6570\u503c\u751a\u81f3\u6bd4\u76f4\u63a5\u5347\u7ea7\u8fde\u63a5\u5f97\u5230\u7684\u5ef6\u8fdf\u8fd8\u8981\u4f4e\u5f88\u591a\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#getthe-conditional-get","title":"\u6761\u4ef6\u6027GET(The Conditional GET)","text":"<p>\u7f51\u9875\u7f13\u5b58\u751a\u597d\uff0c\u4f46\u8fd9\u4e00\u7cfb\u7edf\u8fd8\u6709\u4e00\u4e2a\u95ee\u9898\u9700\u8981\u6211\u4eec\u89e3\u51b3\uff1a\u5b58\u50a8\u5728\u5176\u4e2d\u7684\u6587\u4ef6\u53ef\u80fd\u8fc7\u671f\u3002\u7f51\u9875\u968f\u65f6\u53ef\u80fd\u66f4\u65b0\uff0c\u5f53\u6d4f\u89c8\u5668\u8bf7\u6c42\u7f51\u9875\u65f6\uff0c\u82e5\u7f51\u9875\u7f13\u5b58\u6ca1\u6709\u53ca\u65f6\u66f4\u65b0\u6587\u4ef6\u800c\u628a\u8fc7\u671f\u7684\u6587\u4ef6\u4f20\u7ed9\u4e86\u7528\u6237\uff0c\u90a3\u5c31\u662f\u5e2e\u4e86\u5012\u5fd9\uff0c\u6211\u4eec\u9700\u8981\u4e00\u4e2a\u529e\u6cd5\u6765\u66f4\u65b0\u7f51\u9875\u7f13\u5b58\u4e2d\u7684\u6587\u4ef6\uff0c\u8fd9\u5c31\u662f\u6761\u4ef6\u6027GET.\u00a0</p> <p>\u8fd8\u662f\u6765\u770b\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5047\u8bbe\u6211\u4eec\u7528\u6d4f\u89c8\u5668\u8bbf\u95ee<code>www.exotiquecuisine.com/fruit/kiwi.gif</code>\uff0c\u6d4f\u89c8\u5668\u5411\u7f51\u9875\u7f13\u5b58\u8bf7\u6c42\u8fd9\u4e2a\u6587\u4ef6\uff0c\u672a\u547d\u4e2d\uff0c\u4e8e\u662f\u7f51\u9875\u7f13\u5b58\u63a5\u7740\u5411\u539fWeb\u670d\u52a1\u5668\u53d1\u51fa\u8bf7\u6c42\uff1a</p> <pre><code>GET /fruit/kiwi.gif HTTP/1.1\nHost: www.exotiquecuisine.com\n</code></pre> <p>Web\u670d\u52a1\u5668\u53d1\u56de\u54cd\u5e94\u4fe1\u606f\uff1a</p> <pre><code>HTTP/1.1 200 OK\nDate: Sat, 3 Oct 2015 15:39:29\nServer: Apache/1.3.0 (Unix)\nLast-Modified: Wed, 9 Sep 2015 09:23:24\nContent-Type: image/gif\n\n(data data data data data ...)\n</code></pre> <p>\u7f51\u9875\u7f13\u5b58\u5c06\u6587\u4ef6\u548c\u6700\u540e\u4fee\u6539\u65f6\u95f4Last-Modified\u4e00\u8d77\u5b58\u50a8\u5728\u672c\u5730\uff0c\u7136\u540e\u518d\u5c06\u62f7\u8d1d\u653e\u5165\u54cd\u5e94\u4fe1\u606f\u53d1\u7ed9\u6d4f\u89c8\u5668\u3002\u5047\u8bbe\u4e09\u5468\u540e\u6d4f\u89c8\u5668\u53c8\u5411\u7f51\u9875\u7f13\u5b58\u8bf7\u6c42\u76f8\u540c\u7684\u6587\u4ef6\uff0c\u8fd9\u65f6\u5019\u7f51\u9875\u7f13\u5b58\u9700\u8981\u5148\u786e\u5b9a\u672c\u5730\u5b58\u50a8\u4e2d\u7684\u6587\u4ef6\u662f\u5426\u8fc7\u671f\uff0c\u4e8e\u662f\u5b83\u5411\u539fWeb\u670d\u52a1\u5668\u53d1\u9001\u8bf7\u6c42\u4fe1\u606f\uff0c\u5176\u4e2d\u8bf7\u6c42\u65b9\u6cd5\u4e3a\u6761\u4ef6\u6027GET\uff1a</p> <pre><code>GET /fruit/kiwi.gif HTTP/1.1\nHost: www.exotiquecuisine.com\nIf-modified-since: Wed, 9 Sep 2015 09:23:24\n</code></pre> <p>If-modified-since\u662f\u6761\u4ef6\u6027GET\u4e2d\u5fc5\u987b\u7684\u4e00\u884c\u8bf7\u6c42\u5934\uff0c\u5176\u4e2d\u503c\u548c\u4e09\u5468\u524d\u7f51\u9875\u7f13\u5b58\u63a5\u6536\u5230\u7684\u54cd\u5e94\u4fe1\u606f\u4e2d\u7684Last-Modified\u4e2d\u7684\u503c\u76f8\u540c\u3002\u5728\u4f7f\u7528\u6761\u4ef6\u6027GET\u65f6\uff0c\u53ea\u6709\u6587\u4ef6\u5728\u8fd9\u4e2a\u65f6\u95f4\u4e4b\u540e\u88ab\u4fee\u6539\u8fc7\uff0c\u670d\u52a1\u5668\u624d\u4f1a\u53d1\u9001\u6587\u4ef6\uff0c\u5426\u5219\u5982\u679c\u8be5\u6587\u4ef6\u5e76\u6ca1\u6709\u88ab\u66f4\u65b0\uff0c\u670d\u52a1\u5668\u53ea\u4f1a\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94\u5934\uff1a</p> <pre><code>HTTP/1.1 304 Not Modified\nDate: Sat, 10 Oct 2015 15:39:29\nServer: Apache/1.3.0 (Unix)\n\n(empty entity body)\n</code></pre> <p>\u7f51\u9875\u7f13\u5b58\u6839\u636e\u72b6\u6001\u7801304 Not Modified\u5f97\u77e5\u672c\u5730\u5b58\u50a8\u4e2d\u7684\u6587\u4ef6\u662f\u6700\u65b0\u7684\uff0c\u4e8e\u662f\u5c06\u5176\u62f7\u8d1d\u653e\u5165\u54cd\u5e94\u4fe1\u606f\u4e2d\u53d1\u7ed9\u6d4f\u89c8\u5668\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#electronic-mail","title":"\u7535\u5b50\u90ae\u7bb1(Electronic Mail)","text":"<p>\u4e0a\u4e00\u8282\u4ecb\u7ecd\u7684HTTP\u662f\u8fd1\u4e8c\u5341\u5e74\u624d\u51fa\u73b0\u7684\u65b0\u73a9\u610f\uff0c\u800c\u8fd9\u4e00\u8282\u8981\u4ecb\u7ecd\u7684\u7535\u5b50\u90ae\u7bb1\u5219\u662f\u4e92\u8054\u7f51\u8bde\u751f\u65e9\u671f\u5c31\u5df2\u7ecf\u6210\u5f62\u7684\u5143\u8001\u7ea7\u5e94\u7528\u3002\u548c\u4f20\u7edf\u7684\u90ae\u653f\u670d\u52a1\u7c7b\u4f3c\uff0c\u7535\u5b50\u90ae\u7bb1\u662f\u5f02\u6b65\u901a\u4fe1\u7684\uff0c\u5b83\u4e3b\u8981\u7531\u4e09\u4e2a\u90e8\u5206\u7ec4\u6210\uff1a\u7528\u6237\u4ee3\u7406(user agent)\u3001\u90ae\u7bb1\u670d\u52a1\u5668(mail server)\u548c\u7b80\u5355\u90ae\u4ef6\u4f20\u8f93\u534f\u8bae(Simple Mail Transfer Protocol, SMTP)\uff0c\u548cHTTP\u4e00\u6837\uff0cSMTP\u8fd9\u4e00\u534f\u8bae\u662f\u57fa\u4e8eTCP\u7684\u3002</p> <p>\u7528\u6237\u4ee3\u7406\u5141\u8bb8\u7528\u6237\u9605\u8bfb\u3001\u56de\u590d\u3001\u8f6c\u53d1\u3001\u4fdd\u5b58\u548c\u64b0\u5199\u4fe1\u606f\uff0c\u5fae\u8f6f\u7684Outlook\u548c\u5404\u7c7b\u7f51\u9875\u7aef\u7684\u90ae\u7bb1\u90fd\u5c5e\u4e8e\u7528\u6237\u4ee3\u7406\u3002\u90ae\u7bb1\u670d\u52a1\u5668\u662f\u6267\u884cSMTP\u7684\u57fa\u7840\u8bbe\u65bd\uff0c\u5b83\u7684\u5b58\u50a8\u533a\u57df\u5206\u4e3a\u5355\u72ec\u5c5e\u4e8e\u5404\u4e2a\u7528\u6237\u7684\u90ae\u7bb1\u548c\u5171\u7528\u7684\u6d88\u606f\u961f\u5217(message queue)\uff0c\u524d\u8005\u5b58\u653e\u7528\u6237\u8fd8\u672a\u67e5\u770b\u7684\u90ae\u4ef6\uff0c\u540e\u8005\u5b58\u653e\u7b49\u5f85\u88ab\u4f20\u8f93\u7684\u7528\u6237\u53d1\u9001\u51fa\u53bb\u7684\u90ae\u4ef6\u3002\u90ae\u7bb1\u670d\u52a1\u5668\u4e4b\u95f4\u4f7f\u7528SMTP\u8fdb\u884c\u901a\u4fe1\uff0c\u7535\u5b50\u90ae\u7bb1\u7684\u6574\u4f53\u7ed3\u6784\u5982\u4e0b\uff1a</p> <p></p> <p>\u5f53\u7528\u6237A\u901a\u8fc7\u7535\u5b50\u90ae\u7bb1\u670d\u52a1\u5411\u7528\u6237B\u53d1\u9001\u90ae\u4ef6\u65f6\uff0cA\u5148\u901a\u8fc7\u7528\u6237\u4ee3\u7406\u5c06\u5199\u597d\u7684\u90ae\u4ef6\u53d1\u9001\u7ed9A\u7684\u90ae\u7bb1\u670d\u52a1\u5668\uff08\u90ae\u7bb1\u670d\u52a1\u5668\u5f80\u5f80\u662f\u5171\u4eab\u7684\uff0c\u6b64\u5904\u6240\u8bf4\u201cA\u7684\u201d\u5e76\u975e\u6697\u793aA\u62e5\u6709\u8fd9\u4e2a\u670d\u52a1\u5668\uff09\uff0c\u540e\u8005\u518d\u901a\u8fc7SMTP\u548cB\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u8fdb\u884c\u901a\u4fe1\u3002\u5982\u679c\u4e00\u5207\u987a\u5229\uff0c\u90a3\u4e48A\u7684\u90ae\u4ef6\u5f88\u5feb\u5c31\u4f1a\u51fa\u73b0\u5728B\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u4e2d\uff0c\u7b49\u5f85B\u901a\u8fc7\u7528\u6237\u4ee3\u7406\u53bb\u67e5\u9605\uff1b\u5982\u679cA\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u548cB\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u901a\u4fe1\u51fa\u73b0\u4e86\u9519\u8bef\uff0c\u90a3\u4e48A\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u4f1a\u5c06\u8fd9\u5c01\u90ae\u4ef6\u6682\u65f6\u5b58\u50a8\u5728\u6d88\u606f\u961f\u5217\u4e2d\uff0c\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\uff08\u6bd4\u598230\u5206\u949f\uff09\u4e4b\u540e\u518d\u5c1d\u8bd5\u91cd\u65b0\u53d1\u9001\u3002\u82e5\u5c1d\u8bd5\u4e00\u76f4\u5931\u8d25\uff0c\u90a3\u4e48A\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u4f1a\u5c06\u8fd9\u5c01\u90ae\u4ef6\u4ece\u6d88\u606f\u961f\u5217\u4e2d\u79fb\u9664\u5e76\u7ed9A\u53d1\u9001\u4e00\u5c01\u90ae\u4ef6\u544a\u8bc9\u4ed6\u53d1\u9001\u5931\u8d25\u4e86\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#smtp","title":"SMTP","text":"<p>\u524d\u9762\u63d0\u5230\uff0c\u7535\u5b50\u90ae\u7bb1\u670d\u52a1\u5728\u4e92\u8054\u7f51\u7684\u65e9\u671f\u5c31\u5df2\u7ecf\u6210\u5f62\u4e86\uff0c\u56e0\u6b64SMTP\u4e2d\u5b58\u5728\u8bf8\u591a\u8fc7\u65f6\u7684\u89c4\u5b9a\u3002\u5176\u4e2d\u5f71\u54cd\u6700\u5927\u7684\u53ef\u4ee5\u8bf4\u662f\u5bf9\u5b57\u7b26\u96c6\u7684\u9650\u5236\u4e86\uff1aSMTP\u89c4\u5b9a\u90ae\u4ef6\u7684\u4fe1\u606f\u5fc5\u987b\u4ee57bit\u7684ASCII\u7f16\u7801\u5f62\u5f0f\u4f20\u8f93\uff0c\u8fd9\u5728\u65e9\u671f\u7f51\u7edc\u5e26\u5bbd\u6709\u9650\uff0c\u4e14\u591a\u5a92\u4f53\u5c1a\u4e0d\u53d1\u8fbe\u7684\u6761\u4ef6\u4e0b\u662f\u5408\u7406\u7684\u9650\u5236\uff0c\u4f46\u5230\u4e86\u73b0\u5728\u8fd9\u4e2a\u65f6\u4ee3\uff0c7\u6bd4\u7279\u7684\u9650\u5236\u5c31\u663e\u5f97\u6beb\u65e0\u5fc5\u8981\u751a\u81f3\u8fc2\u8150\u4e86\u3002\u56e0\u4e3a\u8fd9\u4e2a\u9650\u5236\u7684\u5b58\u5728\uff0c\u6240\u6709\u90ae\u4ef6\u4e2d\u7684\u591a\u5a92\u4f53\u5185\u5bb9\u5728\u53d1\u9001\u524d\u90fd\u5fc5\u987b\u5148\u8f6c\u7801\u6210ASCII\u518d\u8fdb\u884c\u53d1\u9001\uff0c\u63a5\u6536\u8005\u5728\u6536\u5230\u90ae\u4ef6\u4e4b\u540e\u53c8\u9700\u8981\u5c06\u7f16\u7801\u6210ASCII\u7684\u5185\u5bb9\u89e3\u7801\u56de\u53bb\u3002\u76f8\u6bd4\u8f83\u800c\u8a00HTTP\u5c31\u6ca1\u6709\u8fd9\u79cd\u9650\u5236\u3002</p> <p>\u8ba9\u6211\u4eec\u66f4\u8be6\u7ec6\u5730\u770b\u770bA\u662f\u5982\u4f55\u5c06\u90ae\u4ef6\u53d1\u9001\u7ed9B\u7684\uff1a</p> <ol> <li>A\u6253\u5f00\u4e86\u4ed6\u7684\u7528\u6237\u4ee3\u7406\uff0c\u64b0\u5199\u90ae\u4ef6\u5e76\u63d0\u4f9b\u4e86B\u7684\u90ae\u7bb1\u5730\u5740\uff0c\u7136\u540e\u8ba9\u7528\u6237\u4ee3\u7406\u53d1\u9001\u8fd9\u5c01\u90ae\u4ef6\u7ed9B</li> <li>A\u7684\u7528\u6237\u4ee3\u7406\u5c06\u8fd9\u5c01\u90ae\u4ef6\u53d1\u7ed9\u4e86A\u7684\u90ae\u7bb1\u670d\u52a1\u5668\uff0c\u90ae\u7bb1\u670d\u52a1\u5668\u5c06\u8fd9\u5c01\u90ae\u4ef6\u653e\u5165\u6d88\u606f\u961f\u5217\u4e2d</li> <li>A\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u4f5c\u4e3a\u5ba2\u6237\u7aef\uff08\u56de\u5fc6\u670d\u52a1\u5668\u548c\u5ba2\u6237\u7aef\u7684\u5b9a\u4e49\uff09\u548cB\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5</li> <li>A\u7684\u670d\u52a1\u5668\u5c06\u90ae\u4ef6\u901a\u8fc7TCP\u8fde\u63a5\u53d1\u9001\u7ed9B\u7684\u90ae\u7bb1\u670d\u52a1\u5668</li> <li>B\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u6536\u5230\u7ed9B\u7684\u90ae\u4ef6\uff0c\u5c06\u5b83\u653e\u5165B\u7684\u90ae\u7bb1\u4e2d</li> <li>B\u6253\u5f00\u7528\u6237\u4ee3\u7406\uff0c\u770b\u5230\u4e86\u8fd9\u5c01\u6765\u81eaA\u7684\u90ae\u4ef6</li> </ol> <p></p> <p>\u53ef\u4ee5\u6ce8\u610f\u5230\u5728\u7b2c\u56db\u6b65\uff0cA\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u76f4\u63a5\u548cB\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u5efa\u7acb\u4e86TCP\u8fde\u63a5\uff0c\u4e5f\u5c31\u662f\u8bf4SMTP\u6ca1\u6709\u4f7f\u7528\u4efb\u4f55\u4e2d\u95f4\u670d\u52a1\u5668\uff0c\u800c\u662f\u76f4\u63a5\u901a\u8fc7\u7aef\u5230\u7aef\u7684\u901a\u4fe1\u6765\u5b8c\u6210\u90ae\u4ef6\u7684\u4f20\u8f93\u3002</p> <p>SMTP\u4f20\u8f93\u4fe1\u606f\u7684\u65b9\u5f0f\u548c\u4eba\u7c7b\u4ea4\u8c08\u7684\u65b9\u5f0f\u5f88\u76f8\u4f3c\uff0c\u901a\u4fe1\u7684\u53cc\u65b9\u5728TCP\u8fde\u63a5\u5efa\u7acb\u4ee5\u540e\u4ee5\u4e00\u79cd\u7c7b\u4f3c\u201c\u5bd2\u6684\u201d\u7684\u65b9\u5f0f\u4ea4\u6362\u4fe1\u606f\u3002\u5728\u4e0b\u9762\u7684\u4f8b\u5b50\u4e2d\uff0cC\u4ee3\u8868\u5ba2\u6237\u7aef\uff0cS\u4ee3\u8868\u670d\u52a1\u5668\uff1a</p> <pre><code>S: 220 hamburger.edu\nC: HELO creps.fr\nS: 250 Hello creps.fr, pleased to meet you\nC: MAIL FROM: &lt;alice@creps.fr&gt;\nS: 250 alice@creps.fr ... Sender ok\nC: RCPT TO: &lt;bob@hamburger.edu&gt;\nS: 250 bob@hamburger.edu ... Recipient ok\nC: DATA\nS: 354 Enter mail, end with \".\" on a line by itself\nC: Do you like ketchup?\nC: How about pickles?\nC: .\nS: 250 Message accepted for delivery\nC: QUIT\nS: 221 hamburger.edu closing connection\n</code></pre> <p>\u4e0a\u9762\u8fd9\u6bb5\u901a\u4fe1\u4e2d\u53ea\u4f20\u8f93\u4e86\u4e00\u5c01\u90ae\u4ef6\uff0c\u662f\u4ece\u90ae\u7bb1\u5730\u5740alice@creps.fr\u53d1\u5230\u90ae\u7bb1\u5730\u5740bob@hamburger.edu\u7684\uff0c\u5185\u5bb9\u4e3a\uff1a</p> <p>Do you like ketchup? How about pickles?  </p> <p>\u800c\u6b63\u5982\u670d\u52a1\u5668\u5bf9\u5ba2\u6237\u7aef\u8bf4\u7684\u90a3\u6837\uff0c\u90ae\u4ef6\u6b63\u6587\u5185\u5bb9\u4ee5\".\"\u4f5c\u4e3a\u7ed3\u675f\u3002</p> <p>\u5ba2\u6237\u7aef\u5728\u4e0a\u8ff0\u901a\u4fe1\u4e2d\u4f7f\u7528\u4e86HELO, MAIL FROM, RCPT TO, DATA, QUIT\u8fd9\u4e94\u4e2a\u547d\u4ee4\uff0c\u5b83\u4eec\u7684\u542b\u4e49\u4e0d\u8a00\u800c\u55bb\u3002\u800c\u670d\u52a1\u5668\u7684\u6bcf\u6761\u56de\u590d\u7684\u683c\u5f0f\u90fd\u662f\u201c\u56de\u590d\u7801 \u82f1\u6587\u4fe1\u606f\u201d\uff0c\u540e\u534a\u90e8\u5206\u7684\u82f1\u6587\u4fe1\u606f\u662f\u7528\u4e8e\u89e3\u91ca\u56de\u590d\u7801\u7684\uff0c\u56e0\u6b64\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u53ea\u53d1\u9001\u56de\u590d\u7801\uff0c\u5bf9\u673a\u5668\u6765\u8bf4\u5176\u610f\u4e49\u5df2\u7ecf\u8db3\u591f\u660e\u786e\u3002</p> <p>SMTP\u4f7f\u7528\u7684\u662f\u6301\u7eed\u8fde\u63a5\uff0c\u8fd9\u4e5f\u5c31\u662f\u8bf4\u540c\u4e00\u4e2a\u53d1\u4ef6\u4eba\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\u53d1\u9001\u7684\u6240\u6709\u90ae\u4ef6\u90fd\u4f1a\u5728\u8fd9\u4e00\u6b21TCP\u8fde\u63a5\u4e2d\u5168\u90e8\u53d1\u9001\u7ed9\u6536\u4ef6\u65b9\u3002\u5728\u6240\u6709\u90ae\u4ef6\u53d1\u9001\u5b8c\u6bd5\u4e4b\u540e\uff0c\u5ba2\u6237\u7aef\u4ee5QUIT\u547d\u4ee4\u7ed3\u675f\u8fde\u63a5\u3002</p> <p>\u4ece\u8fd9\u4e2a\u4f8b\u5b50\u6211\u4eec\u53ef\u4ee5\u611f\u53d7\u5230SMTP\u5b8c\u5168\u4ee5\u6587\u672c\u4e3a\u4e2d\u5fc3\u7684\u8bbe\u8ba1\u601d\u8def\uff0c\u8fd9\u4e5f\u89e3\u91ca\u4e86\u4e3a\u4ec0\u4e48\u591a\u5a92\u4f53\u5185\u5bb9\u5fc5\u987b\u8981\u8f6c\u6362\u62107-bit ASCII\u683c\u5f0f\u624d\u80fd\u8fdb\u884c\u4f20\u8f93\uff0c\u5728SMTP\u4e2d\uff0c\u6240\u6709\u5185\u5bb9\u90fd\u4e0d\u505a\u533a\u5206\u5730\u88ab\u89c6\u4f5c\u6587\u672c\u6d41\u3002</p> <p>\u4e00\u4e2a\u5178\u578b\u7684\u7535\u5b50\u90ae\u4ef6\u6709\u5982\u4e0b\u683c\u5f0f\uff1a</p> <pre><code>From: alice@crepes.fr\nTo: bob@hamburger.edu\nSubject: Searching for the meaning of life\n\n(text text text text text ......)\n</code></pre> <p>\u6b63\u6587\u90e8\u5206\u90fd\u662fASCII\u683c\u5f0f\u7684\u6570\u636e\uff0c\u5728\u4fe1\u606f\u5934\u548c\u6b63\u6587\u4e4b\u95f4\u9694\u7740\u7a7a\u767d\u7684\u4e00\u884c\u3002\u4fe1\u606f\u5934\u4e2d\u5fc5\u987b\u5305\u542bFrom\u548cTo\uff0cSubject\u662f\u53ef\u9009\u7684\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#mail-access-protocol","title":"\u90ae\u4ef6\u8bbf\u95ee\u534f\u8bae(Mail Access Protocol)","text":"<p>SMTP\u662f\u4e00\u4e2a\u63a8\u9001\u534f\u8bae(push protocol)\uff0c\u4e5f\u5c31\u662f\u8bf4\u8fd9\u65f6\u5ba2\u6237\u7aef\u4f1a\u5c06\u6587\u4ef6\u4e0a\u4f20\u5230\u670d\u52a1\u5668\uff1b\u76f8\u6bd4\u8f83\u4e4b\u4e0bHTTP\u662f\u4e00\u4e2a\u62c9\u53d6\u534f\u8bae(pull protocol)\uff0c\u8fd9\u65f6\u5ba2\u6237\u7aef\u4f1a\u4ece\u670d\u52a1\u5668\u4e0b\u8f7d\u6587\u4ef6\u3002\u8fd9\u65f6\u5019\u5c31\u5e26\u6765\u4e86\u95ee\u9898\uff0c\u56de\u5fc6\u6211\u4eec\u7b80\u7565\u4ecb\u7ecd\u8fc7\u7684\u90ae\u4ef6\u4f20\u8f93\u8fc7\u7a0b\uff1a\u6211\u4eec\u53ef\u4ee5\u7528SMTP\u5c06\u90ae\u4ef6\u4ece\u53d1\u4ef6\u4eba\u7535\u8111\u53d1\u9001\u5230\u53d1\u4ef6\u4eba\u7684\u90ae\u7bb1\u670d\u52a1\u5668\uff0c\u7136\u540e\u518d\u7528SMTP\u5c06\u90ae\u4ef6\u53d1\u9001\u5230\u6536\u4ef6\u4eba\u7684\u90ae\u7bb1\u670d\u52a1\u5668\uff0c\u4f46\u662f\u6536\u4ef6\u4eba\u5374\u65e0\u6cd5\u4f7f\u7528SMTP\u4ece\u670d\u52a1\u5668\u5f97\u5230\u90ae\u4ef6\uff0c\u56e0\u4e3aSMTP\u4e0d\u662f\u4e00\u4e2a\u62c9\u53d6\u534f\u8bae\uff01</p> <p>\u4e0b\u9762\u6211\u4eec\u7b80\u5355\u4ecb\u7ecd\u7528\u4e8e\u8bfb\u53d6\u90ae\u4ef6\u7684\u4e09\u79cd\u534f\u8bae\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#pop3post-office-protocol-version3","title":"POP3(Post Office Protocol - Version3)","text":"<p>\u8fd9\u662f\u4e00\u4e2a\u975e\u5e38\u7b80\u5355\u540c\u65f6\u529f\u80fd\u4e5f\u5f88\u5c11\u7684\u534f\u8bae\uff0c\u5728\u8fd9\u4e2a\u534f\u8bae\u4e2d\uff0c\u5ba2\u6237\u7aef\u901a\u8fc7\u7aef\u53e3110\u548c\u90ae\u7bb1\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u7136\u540e\u4f9d\u6b21\u7ecf\u5386\u767b\u5f55(authorization)\u3001\u4e0b\u8f7d(transaction)\u548c\u66f4\u65b0(update)\u4e09\u4e2a\u9636\u6bb5\u3002\u534f\u8bae\u89c4\u5b9a\u670d\u52a1\u5668\u53ea\u6709\u4e24\u79cd\u56de\u590d\u4fe1\u606f\uff1a+OK\u4ee3\u8868\u4e00\u5207\u6b63\u5e38\uff0c-ERR\u6cdb\u6307\u51fa\u73b0\u9519\u8bef\u3002</p> <p>\u767b\u9646\u9636\u6bb5\u9700\u8981\u5ba2\u6237\u7aef\u63d0\u4f9b\u7528\u6237\u540d\u548c\u5bc6\u7801\uff0c\u5982\u679c\u5728\u547d\u4ee4\u884c\u4e2d\u4f7f\u7528telnet\u548c\u4e00\u4e2aPOP3\u670d\u52a1\u5668\u901a\u4fe1\uff0c\u53ef\u80fd\u4f1a\u6536\u5230\u8fd9\u6837\u7684\u5185\u5bb9\uff1a</p> <pre><code>$ telnet mailServer 110\n+OK POP3 server ready\n$ user bob\n+OK\n$ pass hungry\n+OK user successfully logged in\n</code></pre> <p>\u5982\u679c\u6572\u9519\u4e86\u547d\u4ee4\uff0c\u90a3\u4e48\u670d\u52a1\u5668\u5c31\u56de\u590d-ERR.\u00a0</p> <p>\u63a5\u4e0b\u6765\u5728\u4e0b\u8f7d\u9636\u6bb5\u4e2d\uff0c\u7528\u6237\u6709\u4e24\u79cd\u6a21\u5f0f\u9009\u62e9\uff1a\u4e0b\u8f7d\u5e76\u5220\u9664(download and delete)\u548c\u4e0b\u8f7d\u5e76\u4fdd\u5b58(download and keep)\uff0c\u5982\u679c\u9009\u62e9\u7b2c\u4e00\u79cd\u6a21\u5f0f\uff0c\u90a3\u4e48\u5ba2\u6237\u7aef\u4f1a\u4f7f\u7528list, retr\u548cdele\u8fd9\u4e09\u4e2a\u547d\u4ee4\uff0c\u7528\u6cd5\u5982\u4e0b\uff1a</p> <pre><code>C: list\nS: 1 498\nS: 2 912\nS: .\nC: retr 1\nS: (text text\nS: ...... ...\nS: ...... text)\nS: .\nC: dele 1\nC: retr 2\nS: (text \nS: ...... ......\nS: ... ......\nS: ...... text)\nS: .\nC: dele 2\nC: quit\nS: +OK POP3 server signing off\n</code></pre> <p>\u5728\u5ba2\u6237\u7aef\u4f7f\u7528quit\u547d\u4ee4\u4e4b\u540e\uff0c\u670d\u52a1\u5668\u4f1a\u5c06\u628a\u88ab\u6807\u8bb0\u4e3a\u5220\u9664\u7684\u90ae\u4ef6\u4ece\u672c\u5730\u5220\u9664\u3002\u53ef\u4ee5\u770b\u5230\u8fd9\u4e00\u6a21\u5f0f\u4f1a\u5728\u5c06\u90ae\u4ef6\u4fdd\u5b58\u5728\u5ba2\u6237\u7aef\u4e4b\u540e\u5c06\u5176\u4ece\u670d\u52a1\u5668\u4e2d\u5220\u9664\uff0c\u5982\u679c\u60f3\u8981\u5728\u591a\u4e2a\u8bbe\u5907\u4e0a\u9605\u8bfb\u540c\u4e00\u5c01\u90ae\u4ef6\u7684\u8bdd\uff0c\u6211\u4eec\u9700\u8981\u7528\u4e0b\u8f7d\u5e76\u4fdd\u5b58\u6a21\u5f0f\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#imapinternet-mail-access-protcol","title":"IMAP(Internet Mail Access Protcol)","text":"<p>POP3\u6ca1\u6709\u63d0\u4f9b\u4efb\u4f55\u8fdc\u7a0b\u7684\u90ae\u4ef6\u7ba1\u7406\u529f\u80fd\uff0c\u7528\u6237\u53ea\u80fd\u5c06\u90ae\u4ef6\u4e0b\u8f7d\u5230\u672c\u5730\u7136\u540e\u52a0\u4ee5\u6574\u7406\uff0c\u800cIMAP\u5c31\u5f25\u8865\u4e86POP3\u7684\u8fd9\u4e00\u7f3a\u9677\uff0c\u5141\u8bb8\u7528\u6237\u8fdc\u7a0b\u7ba1\u7406\u90ae\u4ef6\uff0c\u5c06\u670d\u52a1\u5668\u4e0a\u4e0d\u540c\u7684\u90ae\u4ef6\u5f52\u6863\u4ee5\u53ca\u67e5\u627e\u90ae\u4ef6\u3002IMAP\u8fd8\u5141\u8bb8\u7528\u6237\u4e0b\u8f7d\u90ae\u4ef6\u7684\u4e00\u90e8\u5206\uff08\u4fe1\u606f\u5934\u4ee5\u53ca\u5404\u79cd\u591a\u5a92\u4f53\u9644\u4ef6\uff09\u800c\u4e0d\u662f\u50cfPOP3\u90a3\u6837\u9ed8\u8ba4\u4e0b\u8f7d\u6574\u4e2a\u90ae\u4ef6\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#http_2","title":"HTTP","text":"<p>\u76ee\u524d\u4e3b\u6d41\u7684\u90ae\u4ef6\u8bbf\u95ee\u65b9\u5f0f\u5c31\u662fHTTP\uff0c\u5728\u57fa\u4e8eWeb\u7684\u7535\u5b50\u90ae\u7bb1\u4e2d\uff0c\u65e0\u8bba\u662f\u53d1\u4ef6\u4eba\u8fd8\u662f\u6536\u4ef6\u4eba\uff0c\u90fd\u901a\u8fc7HTTP\u548c\u5404\u81ea\u7684\u90ae\u7bb1\u670d\u52a1\u5668\u901a\u4fe1\uff0c\u53ea\u6709\u90ae\u7bb1\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u4f7f\u7528SMTP.</p>"},{"location":"curriculum_study/TD_net/ch2/#domain-name-system-dns","title":"\u57df\u540d\u7cfb\u7edf(Domain Name System, DNS)","text":"<p>\u524d\u9762\u6211\u4eec\u63d0\u5230\u8fc7IP\u5730\u5740\u548c\u7f51\u5740\u4e2d\u7684\u670d\u52a1\u5668\u540d\u79f0\u6709\u5173\u8054\uff0c\u5b9e\u9645\u4e0a\u670d\u52a1\u5668\u540d\u79f0\u5c31\u662f\u7528\u4e8e\u4ee3\u66ffIP\u5730\u5740\u7684\uff0c\u5b83\u4f5c\u4e3aWeb\u670d\u52a1\u5668\u7684\u522b\u540d\u5b58\u5728\uff0c\u4ec5\u4ec5\u53ea\u662f\u4e3a\u4e86\u8ba9\u7f51\u5740\u66f4\u597d\u8bb0\u2014\u2014http://google.com\u603b\u662f\u6bd4142.251.33.196\u8fd9\u4e00\u4e32\u65e0\u610f\u4e49\u7684\u6570\u5b57\u8981\u597d\u8bb0\u5f97\u591a\uff0c\u800c\u5c06\u4e24\u8005\u8f93\u5165\u5230\u6d4f\u89c8\u5668\u7684url\u680f\u4e2d\u7684\u6548\u679c\u662f\u4e00\u6837\u7684\u3002DNS\u5c31\u5728\u5176\u4e2d\u53d1\u6325\u7c7b\u4f3c\u5b57\u5178\u7684\u4f5c\u7528\uff0c\u5f53\u6d4f\u89c8\u5668\u9047\u5230http://google.com\u8fd9\u6837\u7684\u7f51\u5740\u65f6\uff0c\u5b83\u5c31\u201c\u67e5\u9605\u201d\u6700\u8fd1\u7684DNS\u670d\u52a1\u5668\u5f97\u5230\u5bf9\u5e94\u7684IP\u5730\u5740\uff0c\u63a5\u7740\u624d\u80fd\u8bbf\u95ee\u5bf9\u5e94\u7684Web\u670d\u52a1\u5668\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#dns","title":"DNS\u670d\u52a1","text":"<p>HTTP\u548cSMTP\u7684\u5b9e\u73b0\u90fd\u6709\u8d56\u4e8eDNS\u670d\u52a1\u7684\u6b63\u786e\u8fd0\u4f5c\uff0cDNS\u662f\u57fa\u4e8eUDP\u8fd0\u4f5c\u7684\uff0c\u5360\u7528\u7aef\u53e353\u3002</p> <p>\u8bf8\u591a\u534f\u8bae\u90fd\u4f9d\u8d56\u4e8eDNS\u670d\u52a1\uff0c\u5c31\u50cfHTTP\u90a3\u6837\uff0cDNS\u670d\u52a1\u9700\u8981\u4f7f\u7528\u5408\u7406\u7684\u670d\u52a1\u5668\u67b6\u6784\u548c\u7f13\u5b58\u7b56\u7565\u6765\u5c3d\u53ef\u80fd\u5730\u51cf\u5c11\u901a\u4fe1\u538b\u529b\uff0c\u540e\u9762\u5c06\u4f1a\u8c08\u5230\u8fd9\u4e9b\u6280\u672f\u3002DNS\u4e3b\u8981\u63d0\u4f9b\u8fd9\u4e9b\u670d\u52a1\uff1a</p> <ul> <li>\u4e3b\u673a\u522b\u540d(Host aliasing)</li> </ul> <p>\u4e00\u4e2a\u4e3b\u673a\u53ea\u6709\u4e00\u4e2aIP\u5730\u5740\uff0c\u4f46\u662f\u5374\u53ef\u4ee5\u6709\u591a\u4e2a\u670d\u52a1\u5668\u540d\u79f0\u3002\u4e00\u822c\u6765\u8bf4\u6bcf\u4e2aWeb\u670d\u52a1\u5668\u90fd\u6709\u4e00\u4e2a\u8f83\u957f\u7684\u89c4\u8303\u670d\u52a1\u5668\u540d\u79f0(Canonical hostname)\uff0c\u7136\u540e\u8fd8\u6709\u5176\u4ed6\u8f83\u77ed\u670d\u52a1\u5668\u540d\u79f0\u4ee5\u7c7b\u4f3c\u52a9\u8bb0\u7b26\u7684\u5f62\u5f0f\u5b58\u5728\uff0c\u56e0\u6b64DNS\u4e0d\u4ec5\u53ef\u4ee5\u67e5\u8be2IP\u5730\u5740\uff0c\u4e5f\u53ef\u4ee5\u67e5\u8be2\u89c4\u8303\u670d\u52a1\u5668\u540d\u79f0</p> <ul> <li>\u90ae\u7bb1\u670d\u52a1\u5668\u522b\u540d(Mail server aliasing)</li> </ul> <p>\u76f8\u4fe1\u5927\u5bb6\u90fd\u9047\u5230\u8fc7\u201c\u7528\u6237\u540d\u88ab\u5360\u7528\u201d\u7684\u60e8\u75db\u7ecf\u5386\uff0c\u800cDNS\u670d\u52a1\u8ba9\u6211\u4eec\u5728\u7535\u5b50\u90ae\u7bb1\u4e0a\u514d\u4e8e\u91cd\u540d\u7684\u75db\u82e6\uff0c\u4e00\u4e2a\u7c7b\u4f3c<code>bob@yahoo.com</code>\u7684\u90ae\u7bb1\u5730\u5740\u7684\u5b9e\u9645\u5730\u5740\u53ef\u80fd\u662f<code>bob@relay1.west-coast.yahoo.com</code>\u3002\u800c\u8fd9\u4e00\u670d\u52a1\u8fd8\u5141\u8bb8\u90ae\u7bb1\u670d\u52a1\u5668\u548cWeb\u670d\u52a1\u5668\u91cd\u540d\uff0c\u67d0\u4e2a\u516c\u53f8\u7684Web\u670d\u52a1\u5668\u548c\u90ae\u7bb1\u670d\u52a1\u5668\u7684\u540d\u79f0\u53ef\u80fd\u90fd\u662f<code>enterprise.com</code></p> <ul> <li>\u8d1f\u8f7d\u5747\u8861(Load distribution)</li> </ul> <p>\u4e00\u4e2a\u670d\u52a1\u5668\u53ef\u4ee5\u6709\u591a\u4e2a\u540d\u79f0\uff0c\u540c\u65f6\u4e00\u4e2a\u540d\u79f0\u4e5f\u53ef\u4ee5\u4ee3\u8868\u591a\u4e2a\u670d\u52a1\u5668\uff0c\u901a\u8fc7\u8fd9\u4e2a\u673a\u5236\uff0cDNS\u80fd\u591f\u5e2e\u52a9\u964d\u4f4e\u670d\u52a1\u5668\u7684\u901a\u4fe1\u538b\u529b\u3002\u5728\u4e00\u4e2a\u670d\u52a1\u5668\u540d\u79f0\u5bf9\u5e94\u591a\u4e2aIP\u5730\u5740\u65f6\uff0cDNS\u670d\u52a1\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2aIP\u5730\u5740\u7684\u5217\u8868\uff0c\u5176\u4e2d\u6392\u5728\u524d\u9762\u7684\u5730\u5740\u4f1a\u88ab\u4f18\u5148\u8bbf\u95ee\u3002\u5982\u6b64\uff0c\u4e92\u8054\u7f51\u516c\u53f8\u5c31\u53ef\u4ee5\u901a\u8fc7\u8c03\u6574DNS\u670d\u52a1\u5668\u53d1\u9001\u7684\u5217\u8868\u7684\u987a\u5e8f\u6765\u63a7\u5236\u4e3b\u673a\u8bbf\u95ee\u670d\u52a1\u5668\u7684\u4f18\u5148\u7ea7\uff0c\u5c06\u901a\u4fe1\u538b\u529b\u5e73\u5747\u5206\u914d\u7ed9\u4e0d\u540c\u7684\u670d\u52a1\u5668</p>"},{"location":"curriculum_study/TD_net/ch2/#dns_1","title":"DNS\u670d\u52a1\u5668\u67b6\u6784","text":"<p>DNS\u662f\u5982\u4f55\u6784\u5efa\u4e00\u4e2a\u5206\u5e03\u5f0f\u6570\u636e\u5e93\u7cfb\u7edf\u7684\u7edd\u4f73\u4f8b\u5b50\u3002\u4e00\u5171\u6709\u4e09\u4e2a\u5c42\u7ea7\u7684DNS\u670d\u52a1\u5668\uff1a\u6839\u57df\u540d\u670d\u52a1\u5668(root DNS servers)\u3001\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668(top-levle domain DNS server, TLD DNS server)\u548c\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668(authoritative DNS servers)\uff0c\u5b83\u4eec\u4e00\u8d77\u5f62\u6210\u4e86\u6811\u72b6\u7684DNS\u670d\u52a1\u5668\u67b6\u6784\uff1a</p> <p></p> <ul> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\uff1a\u5168\u4e16\u754c\u4e00\u5171\u6709400\u591a\u4e2a\u6839\u57df\u540d\u670d\u52a1\u5668\uff0c\u5206\u522b\u753113\u4e2a\u7ec4\u7ec7\u7ba1\u7406\uff0c\u6839\u57df\u540d\u670d\u52a1\u5668\u8d1f\u8d23\u63d0\u4f9b\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740</li> <li>\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\uff1a\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u5bf9\u5e94\u4e0d\u540c\u7684\u4e00\u7ea7\u57df\u540d\uff0c\u5982com, org, net, edu, gov\u7b49\uff0c\u8fd8\u6709\u5404\u4e2a\u56fd\u5bb6\u548c\u5730\u533a\u7684\u4e00\u7ea7\u57df\u540d\u5982uk, fr, ca\u7b49\uff0c\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u8d1f\u8d23\u63d0\u4f9b\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740</li> <li>\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff1a\u8fd9\u4e00\u5c42\u624d\u662f\u771f\u6b63\u63d0\u4f9b\u4e86\u7ffb\u8bd1\u670d\u52a1\u7684\u90e8\u5206\uff0c\u6bcf\u4e2a\u62e5\u6709\u53ef\u516c\u5f00\u8bbf\u95ee\u7684\u670d\u52a1\u5668\u7684\u7ec4\u7ec7\u90fd\u9700\u8981\u7ec4\u5efa\u81ea\u5df1\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c\u5c06\u57df\u540d\u6620\u5c04\u5230\u670d\u52a1\u5668\u7684IP\u5730\u5740\u4e0a</li> </ul> <p>\u4e0d\u8003\u8651\u7f13\u5b58\uff0c\u5728\u4e0a\u8ff0\u7ed3\u6784\u4e2d\u4e00\u53f0\u7535\u8111\u901a\u8fc7\u6d4f\u89c8\u5668\u8bbf\u95ee<code>www.yahoo.com</code>\u65f6\uff0c\u9996\u5148\u4f1a\u8bbf\u95ee\u6839\u57df\u540d\u670d\u52a1\u5668\u5f97\u5230com\u8fd9\u4e2a\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff1b\u63a5\u7740\u8bbf\u95eecom\u9876\u7ea7\u57df\u540d\u670d\u52a1\u5668\u5f97\u5230yahoo\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740\uff1b\u6700\u540e\u8bbf\u95ee\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u624d\u5f97\u5230\u9700\u8981\u8bbf\u95ee\u7684Web\u670d\u52a1\u5668\u7684IP\u5730\u5740\u3002</p> <p>\u5728\u5b9e\u8df5\u4e2d\u8fd8\u6709\u4e00\u5c42\u670d\u52a1\u5668\u88ab\u79f0\u4e3a\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u5b83\u4eec\u901a\u5e38\u7531\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u8bbe\u7f6e\u5728\u8ddd\u79bb\u7528\u6237\u6700\u8fd1\u7684\u4f4d\u7f6e\uff0c\u5f53\u4e3b\u673a\u9700\u8981DNS\u670d\u52a1\u65f6\uff0c\u9996\u9009\u4fbf\u662f\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u968f\u540e\u672c\u5730DNS\u670d\u52a1\u5668\u518d\u4f5c\u4e3a\u4ee3\u7406\u4eba\u53bb\u4ece\u6839\u57df\u540d\u670d\u52a1\u5668\u5f00\u59cb\u4f9d\u6b21\u5411\u4e0b\u5bfb\u627e\u5230\u5bf9\u5e94\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c\u624d\u80fd\u5f97\u5230\u9700\u8981\u7684IP\u5730\u5740\u5e76\u6700\u7ec8\u53d1\u7ed9\u4e3b\u673a\uff0c\u4e0b\u9762\u5c55\u793a\u4e86\u4e00\u4e2a\u7e41\u7410\u7684\u4f8b\u5b50\uff1a</p> <p></p> <ol> <li>\u4e3b\u673a\u8bbf\u95ee\u7f51\u5740<code>gaia.cs.umass.edu</code>\uff0c\u5411\u672c\u5730DNS\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230edu\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411edu\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>edu\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230\u9ebb\u7701\u5927\u5b66\u963f\u9ed8\u65af\u7279\u5206\u6821\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230<code>gaia.cs.umass.edu</code>\u5bf9\u5e94\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u5c06IP\u5730\u5740\u53d1\u56de\u7ed9\u4e3b\u673a</li> </ol> <p>\u5e76\u4e0d\u662f\u53ea\u6709\u672c\u5730DNS\u80fd\u591f\u4f5c\u4e3a\u4ee3\u7406\u4eba\uff0c\u5176\u4ed6\u670d\u52a1\u5668\u4e5f\u53ef\u4ee5\u4f5c\u4e3a\u4ee3\u7406\u4eba\uff0c\u4e0b\u9762\u5c55\u793a\u4e86\u4e00\u4e2a\u6bd4\u8f83\u53e6\u7c7b\u7684\u4f8b\u5b50\uff1a</p> <p></p> <p>\u4e00\u822c\u6765\u8bf4\uff0cDNS\u670d\u52a1\u7684\u8fd0\u884c\u662f\u9075\u5faa\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u7684\u903b\u8f91\u7684\u3002</p> <p>\u5728\u4e0a\u9762\u7684\u4f8b\u5b50\u4e2d\u4e3a\u4e86\u8bf4\u660e\u4e0d\u540c\u5c42\u7ea7\u7684\u529f\u80fd\uff0c\u6211\u4eec\u6709\u610f\u5ffd\u7565\u4e86DNS\u7f13\u5b58(DNS Caching)\uff0c\u7b80\u5355\u6765\u8bf4\uff0cDNS\u7f13\u5b58\u5c31\u662f\u4ee4\u4f5c\u4e3a\u4ee3\u7406\u4eba\u7684DNS\u670d\u52a1\u5668\u7f13\u5b58\u5b83\u63a5\u6536\u5230\u7684\u4efb\u4f55\u57df\u540d\u5230IP\u5730\u5740\u7684\u6620\u5c04\u4fe1\u606f\u3002\u4f8b\u5982\u5728\u4e0a\u9762\u7b2c\u4e00\u4e2a\u4f8b\u5b50\u4e2d\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u4e2d\u53ef\u80fd\u5c31\u7f13\u5b58\u4e86\u5927\u91cf\u672c\u6821\u5b66\u751f\u7ecf\u5e38\u8bbf\u95ee\u7684\u57df\u540d\u7684IP\u4fe1\u606f\uff0c\u4e3b\u673a\u53ea\u9700\u8981\u8bbf\u95ee\u672c\u5730DNS\u670d\u52a1\u5668\u5c31\u53ef\u4ee5\u76f4\u63a5\u5f97\u5230IP\u5730\u5740\u3002\u540c\u65f6\u7f13\u5b58\u4fe1\u606f\u5b58\u5728\u65f6\u6548\u6027\uff0c\u6620\u5c04\u4fe1\u606f\u968f\u65f6\u53ef\u80fd\u5931\u6548\uff0cDNS\u670d\u52a1\u5668\u56e0\u6b64\u4f1a\u7ed9\u6bcf\u4e2a\u7f13\u5b58\u4fe1\u606f\u8bbe\u7f6e\u65f6\u9650\uff08\u901a\u5e38\u662f\u4e24\u5929\uff09\uff0c\u8d85\u8fc7\u4e86\u65f6\u9650\u4e4b\u540e\u76f4\u63a5\u4e22\u5f03\u8be5\u4fe1\u606f\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#dnsdns-recordsdnsdns-messages","title":"DNS\u8bb0\u5f55(DNS Records)\u548cDNS\u4fe1\u606f(DNS Messages)","text":"<p>DNS\u4fe1\u606f\u662f\u4ee5\u8d44\u6e90\u8bb0\u5f55(Resource Records, RRs)\u7684\u5f62\u5f0f\u5b58\u50a8\u5728DNS\u670d\u52a1\u5668\u4ee5\u53caDNS\u4fe1\u606f\u5f53\u4e2d\u7684\uff0c\u4e00\u6761\u8d44\u6e90\u8bb0\u5f55\u6709\u5982\u4e0b\u7ed3\u6784\uff1a</p> <p><code>resource records (Name, Value, Type, TTL)</code></p> <p>\u6700\u540e\u4e00\u6761TTL\u4ee3\u8868time to live\uff0c\u5b83\u89c4\u5b9a\u4e86\u8fd9\u6761\u8bb0\u5f55\u5c06\u4f1a\u5728\u5b58\u50a8\u4e2d\u5b58\u5728\u591a\u4e45\uff0c\u5728\u4e0b\u9762\u7684\u8ba8\u8bba\u4e2d\u6211\u4eec\u5ffd\u7565\u8fd9\u4e00\u9879\u3002Name\u548cValue\u7c7b\u4f3c\u5b57\u5178\u5bf9\uff0c\u5b83\u4eec\u7684\u610f\u4e49\u53d6\u51b3\u4e8eType\u7684\u503c\uff1a</p> <ul> <li>Type=A\uff0c\u8fd9\u65f6Name\u662f\u57df\u540d\uff0cValue\u662f\u8fd9\u4e2a\u57df\u540d\u5bf9\u5e94\u7684IP\u5730\u5740\uff0c\u4f8b\u5b50(google.com, 142.251.33.196, A)</li> <li>Type=NS\uff0c\u8fd9\u65f6Name\u662f\u57df\u540d\uff0cValue\u662f\u77e5\u9053\u5982\u4f55\u83b7\u5f97\u8fd9\u4e2a\u57df\u540d\u5bf9\u5e94\u7684IP\u5730\u5740\u7684\u670d\u52a1\u5668\u7684\u57df\u540d\uff0c\u8fd9\u4e2a\u670d\u52a1\u5668\u53ef\u4ee5\u662f\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\uff0c\u4e5f\u53ef\u4ee5\u662f\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c\u7531\u4e8e\u8fd9\u4e2a\u7c7b\u578b\u7684\u8bb0\u5f55\u53ea\u6709\u57df\u540d\uff0c\u56e0\u6b64\u8fd8\u9700\u8981\u4e00\u4e2a\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55\u6765\u8bb0\u5f55\u8fd9\u4e2a\u57df\u540d\u5bf9\u5e94\u7684IP\u5730\u5740\uff1a\u4f8b\u5982edu\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u4f1a\u6709\u4e00\u6761\u8bb0\u5f55\u4e3a(umass.edu, dns.umass.edu, NS)\uff0c\u4e0e\u4e4b\u5bf9\u5e94\u7684\u7c7b\u578bA\u8d44\u6e90\u8bb0\u5f55\u4e3a(dns.umass.edu, 128.119.40.111, A)</li> <li>Type=CNAME\uff0c\u8fd9\u65f6Name\u662f\u57df\u540d\uff0cValue\u662f\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u7684\u89c4\u8303\u670d\u52a1\u5668\u540d\u79f0\uff0c\u4f8b\u5b50(foo.com, relay1.bar.foo.comm, CNAME)</li> <li>Type=MX\uff0c\u8fd9\u65f6Name\u662f\u4e00\u4e2a\u90ae\u7bb1\u670d\u52a1\u5668\u57df\u540d\uff0cValue\u662f\u540c\u4e00\u4e2a\u670d\u52a1\u5668\u7684\u89c4\u8303\u670d\u52a1\u5668\u540d\u79f0\uff0c\u4f8b\u5b50(foo.com, mail.bar.foo.com, MX)\u3002A\u548cMX\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u8d44\u6e90\u8bb0\u5f55\u7c7b\u578b\uff0c\u8fd9\u5c31\u662f\u4e00\u4e2a\u7ec4\u7ec7\u7684Web\u670d\u52a1\u5668\u548c\u90ae\u7bb1\u670d\u52a1\u5668\u53ef\u4ee5\u62e5\u6709\u76f8\u540c\u57df\u540d\u7684\u539f\u7406</li> </ul> <p>DNS\u4fe1\u606f\u7684\u683c\u5f0f\u5982\u4e0b\uff1a</p> <p></p> <p>\u5176\u4e2dIdentification\u662f\u72ec\u5c5e\u4e8e\u4e00\u5bf9\u8bf7\u6c42\u548c\u54cd\u5e94\u4fe1\u606f\u7684\u4e00\u4e32\u6570\u5b57\uff0c\u5728\u4e3b\u673a\u53d1\u51fa\u8bf7\u6c42\u4fe1\u606f\u65f6\u751f\u6210\uff0c\u670d\u52a1\u5668\u518d\u5c06\u8bf7\u6c42\u4fe1\u606f\u4e2d\u7684Identification\u590d\u5236\u5230\u54cd\u5e94\u4fe1\u606f\u4e2d\u518d\u53d1\u56de\u7ed9\u4e3b\u673a\u3002\u8fd9\u4e48\u505a\u662f\u56e0\u4e3aDNS\u670d\u52a1\u662f\u57fa\u4e8eUDP\u6784\u5efa\u7684\uff0c\u5176\u6ca1\u6709\u63d0\u4f9b\u533a\u5206\u4e0d\u540c\u8fde\u63a5\u7684\u529f\u80fd\u3002</p> <p>Flags\u987e\u540d\u601d\u4e49\uff0c\u6211\u4eec\u53ea\u4ecb\u7ecd\u5176\u4e2d\u6bd4\u8f83\u91cd\u8981\u7684\u51e0\u4e2a\u6bd4\u7279\u4f4d\u3002\u4e00\u4e2a\u6bd4\u7279\u4f4d\u8868\u660e\u8fd9\u662f\u8bf7\u6c42\u4fe1\u606f(0)\u8fd8\u662f\u54cd\u5e94\u4fe1\u606f(1)\uff1b\u4e00\u4e2a\u6bd4\u7279\u4f4d\u6307\u51fa\u8fd9\u4e2a\u54cd\u5e94\u4fe1\u606f\u662f\u5426\u662f\u7531\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u53d1\u51fa\u7684\uff1b\u4e00\u4e2a\u6bd4\u7279\u4f4d\u6307\u793a\u4e3b\u673a\u662f\u5426\u5e0c\u671b\u8fd9\u4e2a\u670d\u52a1\u5668\u5728\u5b83\u6ca1\u6709\u6240\u9700\u7684\u8d44\u6e90\u8bb0\u5f55\u65f6\u4f5c\u4e3a\u4ee3\u7406\u4eba\uff1b\u4e00\u4e2a\u6bd4\u7279\u4f4d\u544a\u8bc9\u4e3b\u673a\u670d\u52a1\u5668\u662f\u5426\u80fd\u591f\u4f5c\u4e3a\u4ee3\u7406\u4eba\u3002</p> <p>Questions\u81ea\u7136\u662f\u7559\u7ed9DNS\u8bf7\u6c42\u4fe1\u606f\u7684\uff0c\u5176\u7531\u4e24\u90e8\u5206\u7ec4\u6210\uff1a\u9700\u8981\u67e5\u8be2\u7684\u57df\u540d\u548c\u8bf7\u6c42\u7684\u7c7b\u578b\uff08\u4e5f\u5c31\u662f\u8d44\u6e90\u8bb0\u5f55\u4e2d\u7684Type\uff09\uff1bAnswers\u5bf9\u5e94\u54cd\u5e94\u4fe1\u606f\uff0c\u5176\u4e2d\u5b58\u653e\u6570\u4e2a\u8d44\u6e90\u8bb0\u5f55\uff08\u4e4b\u524d\u8ba8\u8bba\u8fc7\u8fd4\u56de\u6570\u4e2aIP\u5730\u5740\u7684\u60c5\u51b5\uff09\uff1bAuthority\u8bb0\u5f55\u5176\u4ed6\u53ef\u4ee5\u54cd\u5e94\u540c\u4e00\u4e2a\u7c7b\u578bA\u8bf7\u6c42\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff1bAdditional information\u8bb0\u5f55\u4e00\u4e9b\u989d\u5916\u7684\u4fe1\u606f\uff0c\u4f8b\u5982\u5f53\u8bf7\u6c42\u4e3aMX\u7c7b\u578b\u65f6\uff0c\u8fd9\u4e2a\u533a\u57df\u53ef\u80fd\u4f1a\u6709\u5bf9\u5e94\u7684IP\u5730\u5740\uff0c\u4e5f\u5373\u8bf7\u6c42\u8981\u6c42\u7684\u89c4\u8303\u90ae\u7bb1\u670d\u52a1\u5668\u540d\u79f0\u5bf9\u5e94\u7684\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55</p> <p>\u5728\u8be6\u7ec6\u4ecb\u7ecd\u4e86DNS\u4fe1\u606f\u4e4b\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u518d\u6765\u770b\u770b\u6211\u4eec\u7a76\u7adf\u662f\u5982\u4f55\u8bbf\u95ee\u7f51\u9875\u7684\u3002\u4ece\u521b\u5efa\u7f51\u7ad9\u5f00\u59cb\uff0c\u4e00\u4e2a\u7ec4\u7ec7\u6216\u4e2a\u4eba\u9700\u8981\u4e3a\u4ed6\u7684\u7f51\u7ad9\u5efa\u7acb\u6570\u4e2a\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c\u63a5\u7740\u5411\u67d0\u4e2a\u57df\u540d\u6ce8\u518c\u5546(Domain Name Registrar)\u7f34\u7eb3\u4e00\u5b9a\u7684\u8d39\u7528\u5e76\u63d0\u4f9b\u8fd9\u4e9bDNS\u670d\u52a1\u5668\u7684\u57df\u540d\u548cIP\u5730\u5740\uff0c\u8fd9\u6837\u4ed6\u4eec\u5c31\u53ef\u4ee5\u5c06\u5bf9\u5e94\u7684\u7c7b\u578bNS\u548c\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55\uff08\u4e5f\u8bb8\u8fd8\u6709\u90ae\u7bb1\u670d\u52a1\u5668\u7684MX\u7c7b\u578b\u8d44\u6e90\u8bb0\u5f55\uff09\u8ba1\u5165\u4ed6\u4eec\u7684\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u4e2d\u4e86\u3002</p> <p>\u63a5\u4e0b\u6765\u8fd9\u4e2a\u7f51\u7ad9\u5c31\u53ef\u4ee5\u88ab\u516c\u4f17\u8bbf\u95ee\u4e86\uff0c\u8003\u8651DNS\u4fe1\u606f\u7684\u7c7b\u578b\uff0c\u6211\u4eec\u8bbf\u95ee\u8fd9\u4e2a\u65b0\u5efa\u7acb\u7684\u7f51\u7ad9\u53ef\u80fd\u7ecf\u8fc7\u5982\u4e0b\u6b65\u9aa4\uff1a</p> <ol> <li>\u4e3b\u673a\u8bbf\u95ee\u7f51\u5740\uff0c\u5411\u672c\u5730DNS\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411\u6839\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u6839\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230\u7c7b\u578bNS\u548c\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55\uff0c\u83b7\u5f97\u4e00\u7ea7\u57df\u540d\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>edu\u4e00\u7ea7\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230\u7c7b\u578bNS\u548c\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55\uff0c\u83b7\u5f97\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5411\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u53d1\u51faDNS\u8bf7\u6c42</li> <li>\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\u54cd\u5e94\uff0c\u672c\u5730DNS\u670d\u52a1\u5668\u5f97\u5230\u5f97\u5230\u7c7b\u578bA\u7684\u8d44\u6e90\u8bb0\u5f55\uff0c\u83b7\u5f97\u5bf9\u5e94\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u5c06IP\u5730\u5740\u53d1\u56de\u7ed9\u4e3b\u673a</li> </ol>"},{"location":"curriculum_study/TD_net/ch2/#peer-to-peer-file-distribution","title":"\u70b9\u5bf9\u70b9\u6587\u4ef6\u4f20\u8f93(Peer-to-Peer File Distribution)","text":"<p>\u524d\u9762\u6240\u8ba8\u8bba\u7684\u534f\u8bae\u90fd\u662f\u57fa\u4e8e\u4e3b\u4ece\u5f0f\u67b6\u6784\u7684\uff0c\u800c\u8fd9\u4e00\u8282\u8981\u8ba8\u8bba\u7684\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u5219\u662f\u57fa\u4e8e\u70b9\u5bf9\u70b9\u67b6\u6784\u7684\u3002\u76ee\u524d\u6700\u6d41\u884c\u7684\u70b9\u5bf9\u70b9\u6587\u4ef6\u4f20\u8f93\u534f\u8bae\u662fBitTorrent\uff0c\u76ee\u524d\u6709\u5f88\u591a\u57fa\u4e8e\u8fd9\u4e2a\u534f\u8bae\u5f00\u53d1\u7684\u70b9\u5bf9\u70b9\u6587\u4ef6\u4f20\u8f93\u8f6f\u4ef6\uff0c\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\u5c31\u548c\u5404\u79cd\u4e0d\u540c\u7684\u6d4f\u89c8\u5668\u4e4b\u95f4\u7684\u5173\u7cfb\u4e00\u6837\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_9","title":"\u901f\u5ea6\u4f18\u52bf","text":"<p>\u6211\u4eec\u5df2\u7ecf\u77e5\u9053\u70b9\u5bf9\u70b9\u67b6\u6784\u7684\u53ef\u6269\u5c55\u6027\u975e\u5e38\u597d\uff0c\u5e76\u4e14\u968f\u7740\u52a0\u5165\u7684\u4e3b\u673a\u589e\u591a\uff0c\u63d0\u4f9b\u7684\u670d\u52a1\u6027\u80fd\u53cd\u800c\u63d0\u5347\uff0c\u5728\u8fd9\u4e00\u70b9\u4e0a\u4e3b\u4ece\u5f0f\u67b6\u6784\u662f\u76f8\u53cd\u7684\u3002\u6211\u4eec\u901a\u8fc7\u4e00\u4e2a\u5177\u4f53\u7684\u4f8b\u5b50\u6765\u91cf\u5316\u8fd9\u4e2a\u95ee\u9898\uff0c\u5047\u8bbe\u4e00\u4e2a\u670d\u52a1\u5668\u8981\u5c06\u4e00\u4efd\u5927\u5c0f\u4e3aF bits\u7684\u6587\u4ef6\u53d1\u9001\u7ed9\u7f51\u7edc\u4e2d\u7684N\u4e2a\u4e3b\u673a\uff0c\u5404\u4e2a\u8fde\u63a5\u7684\u901f\u5ea6\u5982\u56fe\u6240\u793a\uff0c\u5047\u8bbe\u4e92\u8054\u7f51\u8db3\u591f\u5feb\uff0c\u4e14\u7f51\u7edc\u4e2d\u53ea\u6709\u4f20\u8f93\u8fd9\u4efd\u6587\u4ef6\u7684\u6d41\u91cf\uff08\u5373\u4f20\u8f93\u901f\u5ea6\u7684\u74f6\u9888\u4e3a\u63a5\u5165\u7f51\uff09\uff1a</p> <p></p> <p>\u6211\u4eec\u6765\u770b\u770b\u4e24\u79cd\u67b6\u6784\u4e0b\uff0c\u5b8c\u6210\u8fd9\u4e2a\u4f20\u8f93\u4efb\u52a1\u5927\u81f4\u9700\u8981\u7684\u65f6\u95f4\uff1a</p> <p>\u5047\u8bbe\u4e3b\u4ece\u5f0f\u67b6\u6784\u4e0b\u9700\u8981\u7684\u4f20\u8f93\u65f6\u95f4\u4e3a\u00a0  </p> <ul> <li> <p>\u5728\u4e3b\u4ece\u5f0f\u67b6\u6784\u4e0b\uff0c\u670d\u52a1\u5668\u627f\u62c5\u4e86\u6240\u6709\u7684\u4f20\u8f93\u4efb\u52a1\uff0c\u4e5f\u5373\u670d\u52a1\u5668\u8981\u4e0a\u4f20NF bits\u6570\u636e\uff0c\u56e0\u6b64\u4f20\u8f93\u65f6\u95f4\u4e0d\u4f1a\u5c0f\u4e8e\u603b\u7684\u4e0a\u4f20\u65f6\u95f4\uff0c\u00a0  </p> </li> <li> <p>\u540c\u65f6\u6bcf\u4e2a\u4e3b\u673a\u90fd\u8981\u63a5\u53d7F bits\u6570\u636e\uff0c\u5b83\u4eec\u7684\u4e0b\u8f7d\u901f\u5ea6\u4e5f\u662f\u5f71\u54cd\u4f20\u8f93\u65f6\u95f4\u7684\u56e0\u7d20\u4e4b\u4e00\uff0c\u8bbe\u00a0\u00a0\uff0c\u4f20\u8f93\u65f6\u95f4\u4e0d\u4f1a\u5c0f\u4e8e\u6700\u6162\u7684\u4e0b\u8f7d\u65f6\u95f4\uff0c\u00a0</p> </li> </ul> <p>\u56e0\u6b64\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u4f20\u8f93\u65f6\u95f4\u7684\u4e0b\u786e\u754c\uff0c\u5373\u00a0\u00a0\uff0c\u800c\u901a\u8fc7\u5408\u7406\u5b89\u6392\u4f20\u8f93\u6211\u4eec\u662f\u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e2a\u4e0b\u786e\u754c\u7684\uff0c\u56e0\u6b64\u8ba4\u4e3a\u00a0\u00a0\uff0c\u5f53N\u8db3\u591f\u5927\u65f6\uff0c\u4f20\u8f93\u65f6\u95f4\u5c31\u662f\u00a0\u00a0\uff0c\u6b64\u65f6\u662fN\u7684\u7ebf\u6027\u51fd\u6570</p> <p>\u5047\u8bbe\u70b9\u5bf9\u70b9\u67b6\u6784\u4e0b\u9700\u8981\u7684\u4f20\u8f93\u65f6\u95f4\u4e3a\u00a0  </p> <ul> <li> <p>\u5728\u70b9\u5bf9\u70b9\u67b6\u6784\u4e0b\uff0c\u867d\u7136\u4e3b\u673a\u4e5f\u63d0\u4f9b\u4e0a\u4f20\u670d\u52a1\uff0c\u4f46\u9996\u5148\u670d\u52a1\u5668\u81f3\u5c11\u9700\u8981\u4e0a\u4f20\u4e00\u4efd\u5b8c\u6574\u7684\u6587\u4ef6\u5230\u7f51\u7edc\u4e2d\uff0c\u56e0\u6b64\u4f20\u8f93\u65f6\u95f4\u4e0d\u4f1a\u5c0f\u4e8e\u4e0a\u4f20\u4e00\u4efd\u6587\u4ef6\u7684\u65f6\u95f4\uff0c\u00a0  </p> </li> <li> <p>\u548c\u4e3b\u4ece\u5f0f\u67b6\u6784\u65f6\u7684\u60c5\u51b5\u4e00\u6837\uff0c\u6bcf\u4e2a\u4e3b\u673a\u7684\u4e0b\u8f7d\u901f\u5ea6\u4e5f\u4f1a\u5f71\u54cd\u4f20\u8f93\u65f6\u95f4\uff0c\u00a0</p> </li> <li>\u6574\u4f53\u89c2\u5bdfP2P\u7f51\u7edc\uff0c\u5b83\u7684\u603b\u4e0a\u4f20\u80fd\u529b\u4e3a\u00a0\u00a0\uff0c\u800c\u603b\u5171\u9700\u8981\u4f20\u8f93NF bits\u6570\u636e\uff0c\u56e0\u6b64\u4f20\u8f93\u65f6\u95f4\u4e0d\u4f1a\u5c0f\u4e8e\u00a0\u00a0\uff0c\u00a0</li> </ul> <p>\u7c7b\u4f3c\u5730\uff0c\u6211\u4eec\u5f97\u5230\u4e86\u4f20\u8f93\u65f6\u95f4\u7684\u4e0b\u786e\u754c\uff0c\u00a0\u00a0\uff0c\u901a\u8fc7\u5408\u7406\u5b89\u6392\u4f20\u8f93\u6211\u4eec\u53ef\u4ee5\u8fbe\u5230\u8fd9\u4e2a\u4e0b\u786e\u754c\uff0c\u8ba4\u4e3a\u00a0\u00a0\uff0c\u6700\u540e\u4e00\u9879\u00a0\u00a0\u867d\u7136\u5206\u5b50\u968f\u7740N\u589e\u5927\u800c\u7ebf\u6027\u589e\u5927\uff0c\u4f46\u5206\u6bcd\u4e5f\u968f\u4e4b\u589e\u5927\uff0c\u589e\u957f\u901f\u5ea6\u8981\u4f4e\u4e8e\u7ebf\u6027\u589e\u957f</p> <p>\u4e0b\u9762\u5047\u8bbe\u5404\u4e2a\u4e3b\u673a\u7684\u4e0a\u4f20\u80fd\u529b\u76f8\u540c\uff0c\u8d4b\u4e88\u5408\u9002\u7684\u6570\u503c\u53ef\u4ee5\u5f97\u5230\u4e0b\u9762\u7684\u56fe\u8868\uff1a</p> <p></p> <p>\u53ef\u4ee5\u770b\u5230\u4e3b\u4ece\u5f0f\u67b6\u6784\u7684\u4f20\u8f93\u65f6\u95f4\u7684\u589e\u957f\u8d8b\u5411\u4e8e\u7ebf\u6027\uff0c\u800c\u70b9\u5bf9\u70b9\u67b6\u6784\u7684\u4f20\u8f93\u65f6\u95f4\u7684\u589e\u957f\u6bd4\u7ebf\u6027\u589e\u957f\u8981\u6162\u5f97\u591a\uff0c\u4e14\u968f\u7740N\u589e\u5927\u589e\u957f\u901f\u5ea6\u53cd\u800c\u964d\u4f4e\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#bittorrent","title":"BitTorrent","text":"<p>BitTorrent\u7f51\u7edc\u7531\u53c2\u4e0e\u4f20\u8f93\u7684\u8bf8\u591a\u4e3b\u673a\u548c\u4e00\u4e2a\u4f5c\u4e3a\u8ffd\u8e2a\u5668(Tracker)\u7684\u670d\u52a1\u5668\u7ec4\u6210\uff0c\u8ffd\u8e2a\u5668\u4e0d\u53c2\u4e0e\u6587\u4ef6\u4f20\u8f93\uff0c\u800c\u662f\u8bb0\u5f55\u5f53\u524d\u53c2\u4e0e\u4f20\u8f93\u4e3b\u673a\u7684IP\u4fe1\u606f\u3002\u4e00\u4e2aBitTorrent\u7f51\u7edc\u4e13\u95e8\u7528\u4e8e\u4f20\u8f93\u4e00\u4e2a\u7279\u5b9a\u7684\u6587\u4ef6\uff0c\u5b83\u88ab\u62c6\u5206\u6210\u8bb8\u591a\u6587\u4ef6\u5757(chunks)\uff0c\u5b83\u4eec\u5927\u5c0f\u76f8\u7b49\uff08\u901a\u5e38\u4e3a256KB\uff09\uff0c\u6587\u4ef6\u5757\u5c31\u662f\u8fd9\u4e2a\u6587\u4ef6\u4f20\u8f93\u7f51\u7edc\u7684\u57fa\u672c\u4f20\u8f93\u5355\u4f4d\u3002</p> <p>\u5f53\u4e00\u4e2a\u4e3b\u673a\u52a0\u5165\u6587\u4ef6\u4f20\u8f93\u7f51\u7edc\u65f6\uff0c\u5b83\u4f1a\u9996\u5148\u544a\u77e5\u8ffd\u8e2a\u5668\u81ea\u5df1\u7684\u5b58\u5728\uff0c\u7136\u540e\u8ffd\u8e2a\u5668\u4f1a\u968f\u673a\u9009\u62e9\u7f51\u7edc\u4e2d\u7684\u4e00\u90e8\u5206\u4e3b\u673a\u7684IP\u4fe1\u606f\u5236\u4f5c\u6210\u4e00\u5f20\u8868\u63d0\u4f9b\u7ed9A\uff0cA\u4f1a\u5c3d\u53ef\u80fd\u548c\u8868\u4e2d\u6240\u6709\u7684\u4e3b\u673a\u5efa\u7acbTCP\u8fde\u63a5\uff08\u79f0\u8fd9\u4e9b\u4e3b\u673a\u4e3a\u4e0eA\u76f8\u90bb\u7684\u4e3b\u673a\uff09\u3002A\u4f1a\u9636\u6bb5\u6027\u7684\u5411\u6240\u6709\u76f8\u90bb\u7684\u4e3b\u673a\u8be2\u95ee\u5b83\u4eec\u62e5\u6709\u7684\u6587\u4ef6\u5757\uff0c\u5728\u6536\u5230\u6240\u6709\u76f8\u90bb\u7684\u4e3b\u673a\u62e5\u6709\u7684\u6587\u4ef6\u5757\u7684\u5217\u8868\u4e4b\u540e\uff0cA\u5c31\u8981\u8bf7\u6c42\u5176\u4e2d\u5b83\u8fd8\u672a\u62e5\u6709\u7684\u6587\u4ef6\u5757\uff1b\u540c\u65f6A\u8fd8\u8981\u4e0a\u4f20\u81ea\u5df1\u5df2\u7ecf\u6709\u7684\u6587\u4ef6\u5757\u3002</p> <p>\u90a3\u4e48\u5bf9A\u6765\u8bf4\uff0c\u5c31\u9700\u8981\u505a\u51fa\u4e24\u4e2a\u9009\u62e9\uff1a\u8bf7\u6c42\u54ea\u4e00\u4e2a\u6587\u4ef6\u5757\uff0c\u4ee5\u53ca\u5411\u54ea\u4e00\u4e2a\u76f8\u90bb\u7684\u4e3b\u673a\u4f20\u8f93\u6587\u4ef6\u5757\uff0c\u6216\u8005\u8bf4\u54cd\u5e94\u54ea\u4e00\u4e2a\u76f8\u90bb\u4e3b\u673a\u7684\u8bf7\u6c42\u3002</p> <p>A\u9996\u5148\u4f1a\u9009\u62e9\u672a\u62e5\u6709\u7684\u6587\u4ef6\u5757\u4e2d\u6700\u7a00\u6709\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4\u5728A\u7684\u90bb\u5c45\u5f53\u4e2d\uff0c\u62e5\u6709\u8fd9\u4e2a\u6587\u4ef6\u5757\u7684\u4eba\u6570\u6700\u5c11\u3002\u968f\u7740\u65f6\u95f4\u6d41\u901d\uff0cA\u7684\u90bb\u5c45\u53ef\u80fd\u4f1a\u9000\u51fa\u7f51\u7edc\uff0c\u800c\u65b0\u7684\u4e3b\u673a\u53c8\u4f1a\u8bd5\u56fe\u548cA\u5efa\u7acb\u8fde\u63a5\uff0c\u90a3\u4e48A\u7684\u5f53\u52a1\u4e4b\u6025\u5c31\u662f\u5148\u83b7\u5f97\u6700\u6709\u53ef\u80fd\u4e4b\u540e\u5c31\u65e0\u6cd5\u83b7\u5f97\u6587\u4ef6\u5757\u3002\u8fd9\u4e00\u7b56\u7565\u4e5f\u6709\u52a9\u4e8e\u5e73\u8861\u4e0d\u540c\u6587\u4ef6\u5757\u5728\u6574\u4e2a\u7f51\u7edc\u5f53\u4e2d\u7684\u5206\u5e03\u3002</p> <p>\u5bf9\u4e8e\u76f8\u90bb\u4e3b\u673a\u5bf9\u6587\u4ef6\u5757\u7684\u8bf7\u6c42\uff0cBitTorrent\u63d0\u4f9b\u7684\u7b56\u7565\u662f\u201c\u4eba\u4eba\u4e3a\u6211\uff0c\u6211\u4e3a\u4eba\u4eba\u201d\uff0cA\u4f1a\u7ed9\u4ee5\u9ad8\u901f\u7387\u5411\u5b83\u4f20\u8f93\u6587\u4ef6\u5757\u7684\u90bb\u5c45\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u6bcf10\u79d2\u949fA\u90fd\u4f1a\u68c0\u67e5\u90bb\u5c45\u5411\u5176\u4f20\u8f93\u6587\u4ef6\u7684\u901f\u7387\uff0c\u7136\u540e\u9009\u62e9\u5176\u4e2d\u901f\u7387\u6700\u9ad8\u7684\u56db\u4e2a\u90bb\u5c45\u5e76\u54cd\u5e94\u5b83\u4eec\u7684\u6587\u4ef6\u5757\u8bf7\u6c42\uff1b\u540c\u65f6\u5728\u8fd9\u56db\u4e2a\u90bb\u5c45\u4e4b\u5916\uff0cA\u8fd8\u4f1a\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u90bb\u5c45\u54cd\u5e94\u5b83\u7684\u6587\u4ef6\u5757\u8bf7\u6c42\uff0c\u8fd9\u4e2a\u968f\u673a\u9009\u62e9\u53ef\u4ee5\u8ba9\u4e0a\u4f20\u901f\u5ea6\u548c\u4e0b\u8f7d\u901f\u5ea6\u76f8\u5339\u914d\u7684\u4e24\u4e2a\u4e3b\u673a\u80fd\u591f\u627e\u5230\u5bf9\u65b9\uff0c\u63d0\u9ad8\u6574\u4e2a\u7f51\u7edc\u7684\u4f20\u8f93\u6548\u7387\u3002\u5e76\u4e14\u968f\u673a\u9009\u62e9\u8fd8\u8ba9\u65b0\u52a0\u5165\u7f51\u7edc\u800c\u6ca1\u6709\u5b58\u50a8\u4efb\u4f55\u6587\u4ef6\u5757\u7684\u4e3b\u673a\u80fd\u591f\u83b7\u5f97\u6587\u4ef6\u5757\u800c\u4e0d\u81f3\u4e8e\u56e0\u4e3a\u65e0\u6cd5\u4f20\u8f93\u6587\u4ef6\u5757\u800c\u65e0\u6cd5\u83b7\u5f97\u6587\u4ef6\u5757\uff0c\u9677\u5165\u6b7b\u5faa\u73af\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#_10","title":"\u6d41\u5a92\u4f53\u4e0e\u5185\u5bb9\u5206\u53d1\u7f51\u7edc","text":""},{"location":"curriculum_study/TD_net/ch2/#viedo-streaming","title":"\u6d41\u5a92\u4f53(Viedo Streaming)","text":"<p>\u5728\u4eca\u5929\u7684\u4e92\u8054\u7f51\u4e2d\uff0c\u89c6\u9891\u548c\u76f4\u64ad\u5360\u636e\u4e86\u4e3b\u5bfc\u5730\u4f4d\uff0c\u5b83\u4eec\u7684\u6d41\u91cf\u6784\u6210\u4e86\u4e92\u8054\u7f51\u6d41\u91cf\u7684\u7edd\u5927\u90e8\u5206\u3002\u8fd9\u4e9b\u89c6\u9891\u662f\u600e\u4e48\u88ab\u4f20\u8f93\u7684\uff1f\u7b80\u5355\u6765\u8bf4\uff0c\u89c6\u9891\u662f\u4e00\u7cfb\u5217\u56fe\u7247\u7ec4\u6210\u7684\u6587\u4ef6\uff0c\u9891\u7387\u901a\u5e38\u4e3a\u6bcf\u79d224\u81f330\u5f20\u7167\u7247\uff0c\u800c\u7167\u7247\u672c\u8eab\u53c8\u662f\u7531\u50cf\u7d20\u7ec4\u6210\uff0c\u6bcf\u4e2a\u50cf\u7d20\u90fd\u7531\u4e00\u7ec4\u6570\u503c\u8868\u793a\u5176\u989c\u8272\u3002\u6b63\u5982\u56fe\u7247\u53ef\u4ee5\u88ab\u538b\u7f29\u4e00\u6837\uff0c\u5982\u4eca\u7684\u5404\u79cd\u538b\u7f29\u7b97\u6cd5\u53ef\u4ee5\u5c06\u89c6\u9891\u538b\u7f29\u81f3\u4efb\u610f\u5927\u5c0f\u3002</p> <p>\u538b\u7f29\u4f1a\u964d\u4f4e\u89c6\u9891\u8d28\u91cf\uff0c\u8fd9\u663e\u7136\u4e0d\u662f\u6211\u4eec\u7684\u4e3b\u89c2\u613f\u671b\uff0c\u8fd9\u4e00\u64cd\u4f5c\u7684\u4e3b\u8981\u76ee\u7684\u5c31\u662f\u964d\u4f4e\u89c6\u9891\u7684\u7801\u7387(bit rate)\u3002\u5728\u5ba2\u6237\u7aef\uff0c\u89c6\u9891\u662f\u4ee5\u6052\u5b9a\u901f\u7387\u64ad\u653e\u7684\uff0c\u56e0\u6b64\u7f51\u7edc\u4f20\u8f93\u89c6\u9891\u6587\u4ef6\u7684\u901f\u5ea6\u5fc5\u987b\u8ddf\u4e0a\u8fd9\u4e2a\u901f\u5ea6\uff0c\u5426\u5219\u4f1a\u4ea7\u751f\u4ee4\u4eba\u70e6\u8e81\u7684\u52a0\u8f7d\uff0c\u6240\u8c13\u7801\u7387\u5c31\u662f\u4fdd\u8bc1\u8fd9\u4e2a\u89c6\u9891\u6d41\u7545\u64ad\u653e\u7684\u6700\u4f4e\u7684\u6587\u4ef6\u4f20\u8f93\u901f\u7387\u3002\u901a\u8fc7\u538b\u7f29\u89c6\u9891\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u89c6\u9891\u7684\u7801\u7387\u548c\u5ba2\u6237\u7aef\u7684\u7f51\u7edc\u541e\u5410\u91cf\u76f8\u5339\u914d\uff0c\u4ece\u800c\u51cf\u5c11\u5361\u987f\u3002\u6b63\u5982\u6211\u4eec\u5728\u5404\u7c7b\u89c6\u9891\u7f51\u7ad9\u4e0a\u90fd\u80fd\u591f\u770b\u5230\u201c\u6e05\u6670\u5ea6\u201d\u7684\u9009\u9879\uff0c\u7528\u6237\u53ef\u4ee5\u6839\u636e\u81ea\u5df1\u7684\u7f51\u7edc\u60c5\u51b5\u9009\u62e9\u5408\u9002\u7684\u6e05\u6670\u5ea6\uff0c\u670d\u52a1\u5668\u968f\u540e\u5c06\u672c\u5730\u9884\u5148\u538b\u7f29\u7684\u6587\u4ef6\u53d1\u9001\u7ed9\u7528\u6237\u3002</p> <p>\u4f46\u7528\u6237\u53ef\u6ca1\u6cd5\u7cbe\u786e\u5730\u77e5\u9053\u81ea\u5df1\u7684\u7f51\u901f\u7a76\u7adf\u9002\u5408\u54ea\u4e2a\u6e05\u6670\u5ea6\uff0c\u8fd9\u4ef6\u4e8b\u8fd8\u662f\u4ea4\u7ed9\u7535\u8111\u6765\u505a\u66f4\u597d\uff0c\u7531\u6b64\u8bde\u751f\u4e86\u57fa\u4e8eHTTP\u7684\u52a8\u6001\u81ea\u9002\u5e94\u6d41(Dynamic Adptive Streaming over HTTP, DASH)\u4e3a\u7528\u6237\u81ea\u52a8\u9009\u62e9\u5408\u9002\u7684\u6e05\u6670\u5ea6\u3002\u6b64\u65f6Web\u670d\u52a1\u5668\u4e2d\u4e0d\u540c\u8d28\u91cf\u7684\u89c6\u9891\u7248\u672c\u5bf9\u5e94\u4e0d\u540c\u7684URL\uff0c\u5e76\u4e14\u4e3a\u6bcf\u4e2a\u89c6\u9891\u90fd\u7ef4\u62a4\u4e86\u4e00\u5f20\u8868(manifest file)\uff0c\u5176\u4e0a\u8bb0\u5f55\u4e86\u6e05\u6670\u5ea6\u548c\u5bf9\u5e94\u7684URL. \u5728\u7528\u6237\u8bf7\u6c42\u89c6\u9891\u6587\u4ef6\u524d\uff0c\u4f1a\u9996\u5148\u5411\u670d\u52a1\u5668\u8bf7\u6c42\u8fd9\u5f20\u8868\uff0c\u7136\u540e\u518d\u9009\u62e9\u5bf9\u5e94\u7684URL\uff0c\u5728\u4e4b\u540e\u7684\u4e00\u7cfb\u5217\u8bf7\u6c42\u4e2d\uff0c\u5ba2\u6237\u7aef\u4f1a\u4e0d\u65ad\u8ba1\u7b97\u5f53\u524d\u53ef\u7528\u5e26\u5bbd\u7136\u540e\u8c03\u6574\u9009\u62e9\u7684\u89c6\u9891\u7248\u672c\u3002</p>"},{"location":"curriculum_study/TD_net/ch2/#content-distribution-network-cdn","title":"\u5185\u5bb9\u5206\u53d1\u7f51\u7edc(Content Distribution Network, CDN)","text":"<p>\u4e0a\u9762\u6211\u4eec\u5df2\u7ecf\u591a\u6b21\u8ba8\u8bba\u8fc7\u5206\u5e03\u670d\u52a1\u5668\u7684\u597d\u5904\uff0c\u800c\u5bf9\u4e8e\u89c6\u9891\u670d\u52a1\u5668\u4e5f\u4e0d\u4f8b\u5916\u3002\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\u901a\u8fc7\u5c06\u670d\u52a1\u5668\u90e8\u7f72\u5728\u4e16\u754c\u5404\u5730\u6765\u63d0\u5347\u7f51\u7edc\u6027\u80fd\uff0c\u6bcf\u4e2a\u670d\u52a1\u5668\u4e0a\u90fd\u6709\u4e00\u90e8\u5206\u89c6\u9891\u7684\u62f7\u8d1d\uff0c\u8fd9\u6837\u5927\u90e8\u5206\u7528\u6237\u5c31\u53ef\u4ee5\u8bbf\u95ee\u5230\u8ddd\u79bb\u66f4\u8fd1\u3001\u5e26\u5bbd\u66f4\u5145\u88d5\u3001\u7f51\u7edc\u72b6\u51b5\u66f4\u4f18\u7684\u670d\u52a1\u5668\u3002</p> <p>\u6709\u4e24\u79cd\u90e8\u7f72\u670d\u52a1\u5668\u7684\u7b56\u7565\uff0c\u4e00\u79cd\u662f\u5c06\u670d\u52a1\u5668\u90e8\u7f72\u5728\u5c3d\u53ef\u80fd\u8fd1\uff08\u8ddd\u79bb\u7528\u6237\u7684\u8fde\u63a5\u6570\u66f4\u5c11\uff09\u7684\u5730\u65b9\uff0c\u4e5f\u5373\u90e8\u7f72\u5230\u63a5\u5165\u7f51\u7f51\u7edc\u670d\u52a1\u63d0\u4f9b\u5546\u5904\uff0c\u8fd9\u662f\u670d\u52a1\u5668\u6240\u80fd\u90e8\u7f72\u7684\u79bb\u7528\u6237\u6700\u8fd1\u7684\u5730\u65b9\u4e86\uff0c\u8fd9\u79cd\u7b56\u7565\u80fd\u591f\u6700\u5927\u7a0b\u5ea6\u63d0\u5347\u7528\u6237\u8bbf\u95ee\u4f53\u9a8c\uff0c\u4f46\u540c\u65f6\u4e5f\u9700\u8981\u5728\u4e16\u754c\u5404\u5730\u90e8\u7f72\u5927\u91cf\u7684\u670d\u52a1\u5668\uff0c\u5efa\u8bbe\u4ee5\u53ca\u7ef4\u62a4\u5f00\u9500\u5341\u5206\u53ef\u89c2\uff1b\u53e6\u4e00\u79cd\u662f\u5c06\u670d\u52a1\u5668\u90e8\u7f72\u5230\u8ddd\u79bb\u7528\u6237\u76f8\u5bf9\u8fd1\u7684\u5730\u65b9\uff0c\u4e5f\u5373\u90e8\u7f72\u5230\u4e92\u8054\u7f51\u4ea4\u6362\u4e2d\u5fc3(IXPs)\u5904\uff0c\u8fd9\u4e2a\u7b56\u7565\u7684\u597d\u5904\u662f\u90e8\u7f72\u7684\u670d\u52a1\u5668\u8f83\u5c11\uff0c\u5f00\u9500\u4e5f\u56e0\u6b64\u964d\u4f4e\uff0c\u4f46\u8fd9\u662f\u4ee5\u76f8\u5bf9\u5dee\u7684\u7528\u6237\u4f53\u9a8c\u4f5c\u4e3a\u4ee3\u4ef7\u7684\u3002</p> <p>\u5e76\u4e0d\u662f\u6bcf\u4e2a\u670d\u52a1\u5668\u4e2d\u90fd\u6709\u6240\u6709\u89c6\u9891\u8d44\u6e90\u7684\u62f7\u8d1d\uff0c\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\u7684\u903b\u8f91\u7c7b\u4f3c\u7f51\u9875\u7f13\u5b58\uff0c\u5728\u7528\u6237\u5411\u5176\u8bf7\u6c42\u6587\u4ef6\u65f6\uff0c\u82e5\u672c\u5730\u5b58\u50a8\u4e2d\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5219\u53d1\u9001\uff1b\u82e5\u672c\u5730\u5b58\u50a8\u6ca1\u6709\u8fd9\u4e2a\u6587\u4ef6\uff0c\u5219\u5411\u4e2d\u592e\u670d\u52a1\u5668\u6216\u5176\u4ed6\u670d\u52a1\u5668\u8bf7\u6c42\u8fd9\u4e2a\u6587\u4ef6\uff0c\u7136\u540e\u5c06\u8fd9\u4e2a\u6587\u4ef6\u5b58\u50a8\u5230\u672c\u5730\uff0c\u518d\u5c06\u62f7\u8d1d\u53d1\u9001\u7ed9\u7528\u6237\u3002\u5f53\u672c\u5730\u5b58\u50a8\u88c5\u6ee1\u65f6\uff0c\u79fb\u9664\u88ab\u8bbf\u95ee\u6b21\u6570\u6700\u5c11\u7684\u89c6\u9891\u62f7\u8d1d\u3002</p> <p>\u548c\u5f80\u5e38\u4e00\u6837\uff0c\u8ba9\u6211\u4eec\u6765\u770b\u4e00\u4e2a\u5177\u4f53\u4f8b\u5b50\u3002\u5047\u8bbe\u4e00\u4e2a\u7528\u6237\u8981\u8bbf\u95ee<code>http://video.netcinema.com/6Y7B23V</code>\u8fd9\u4e2a\u94fe\u63a5\uff0c\u800cNetCinema\u8fd9\u4e2a\u516c\u53f8\u901a\u8fc7\u7b2c\u4e09\u65b9\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\u670d\u52a1\u5546KingCDN\u642d\u5efa\u4e86\u81ea\u5df1\u7684\u89c6\u9891\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\uff1a</p> <ol> <li>\u6d4f\u89c8\u5668\u5411\u672c\u5730DNS\u670d\u52a1\u5668\u8bf7\u6c42\u8fd9\u4e2a\u7f51\u5740\u5bf9\u5e94\u7684IP\u5730\u5740</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u8bbe\u6cd5\u627e\u5230\u4e86NetCinema\u7684\u6743\u5a01\u57df\u540d\u670d\u52a1\u5668\uff0c\u540e\u8005\u53d1\u73b0\u8fd9\u662f\u4e2a\u89c6\u9891\u94fe\u63a5\uff0c\u5c06KingCDN\u4e2d\u7684\u4e00\u4e2a\u4e3b\u673a\u57df\u540d<code>a1105.kingcdn.com</code>\u53d1\u7ed9\u4e86\u672c\u5730DNS\u670d\u52a1\u5668</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u8bbf\u95ee<code>a1105.kingcdn.com</code>\u5bf9\u5e94\u7684\u4e3b\u673a\uff0c\u540e\u8005\u5728NetCinema\u7684\u89c6\u9891\u5185\u5bb9\u5206\u53d1\u7f51\u7edc\u5185\u90e8\u9009\u62e9\u4e86\u6700\u9002\u5408\u54cd\u5e94\u8fd9\u4e2a\u7528\u6237\u7684\u8bf7\u6c42\u7684\u670d\u52a1\u5668\uff0c\u7136\u540e\u5c06IP\u5730\u5740\u53d1\u7ed9\u4e86\u672c\u5730DNS\u670d\u52a1\u5668</li> <li>\u672c\u5730DNS\u670d\u52a1\u5668\u5c06IP\u5730\u5740\u53d1\u7ed9\u4e3b\u673a\uff0c\u4e3b\u673a\u548c\u5bf9\u5e94\u7684\u670d\u52a1\u5668\u5efa\u7acbTCP\u8fde\u63a5\uff0c\u89c6\u9891\u5f00\u59cb\u5728\u6d4f\u89c8\u5668\u4e0a\u64ad\u653e</li> </ol> <p>\u4ee5\u4e0a\u6b65\u9aa4\u7701\u7565\u4e86\u9009\u62e9\u670d\u52a1\u5668\u7684\u7b56\u7565\uff0c\u603b\u7684\u6765\u8bf4\uff0c\u5927\u81f4\u6709\u4e24\u79cd\u9009\u62e9\u6700\u4f18\u670d\u52a1\u5668\u7684\u7b56\u7565\uff1a</p> <ul> <li>\u9009\u62e9\u5730\u7406\u4f4d\u7f6e\u6700\u8fd1\u7684\u670d\u52a1\u5668\u3002\u8fd9\u662f\u4e00\u4e2a\u76f8\u5f53\u7b80\u5355\u7684\u7b56\u7565\uff0c\u670d\u52a1\u5668\u53ea\u9700\u8981\u67e5\u8be2\u8bf7\u6c42\u6240\u5728IP\u4f4d\u7f6e\uff08\u4e5f\u5c31\u662f\u672c\u5730DNS\u670d\u52a1\u5668\u7684\u4f4d\u7f6e\uff09\uff0c\u7136\u540e\u5728\u53ef\u7528\u7684\u670d\u52a1\u5668\u4e2d\u9009\u4e00\u4e2a\u8ddd\u79bb\u6700\u8fd1\u7684\u5373\u53ef\u3002\u8fd9\u5728\u5927\u591a\u6570\u65f6\u5019\u90fd\u662f\u594f\u6548\u7684\uff0c\u4f46\u662f\u6709\u51e0\u4e2a\u95ee\u9898\uff0c\u7b2c\u4e00\uff0c\u5730\u7406\u8ddd\u79bb\u5c0f\u4e0d\u4ee3\u8868\u4f20\u8f93\u7ecf\u8fc7\u7684\u8ddd\u79bb\u77ed\uff0c\u901a\u4fe1\u53ef\u80fd\u53cd\u800c\u7ecf\u8fc7\u4e86\u66f4\u591a\u8fde\u63a5\uff1b\u7b2c\u4e8c\uff0c\u6709\u7684\u7528\u6237\u53ef\u80fd\u4f1a\u4f7f\u7528\u5176\u4ed6\u533a\u57df\u7684\u672c\u5730DNS\u670d\u52a1\u5668\uff0c\u8fd9\u65f6\u5019\u672c\u5730DNS\u670d\u52a1\u5668\u6240\u5728\u7684\u4f4d\u7f6e\u548c\u7528\u6237\u7684\u4f4d\u7f6e\u5dee\u4e86\u5341\u4e07\u516b\u5343\u91cc\uff1b\u7b2c\u4e09\uff0c\u8fd9\u4e2a\u7b56\u7565\u65e0\u89c6\u4e86\u6ce2\u52a8\u7684\u7f51\u7edc\u72b6\u51b5\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u9009\u62e9\u4e86\u7e41\u5fd9\u7684\u670d\u52a1\u5668\u6216\u5e26\u5bbd\u4f4e\u7684\u8fde\u63a5</li> <li>\u53e6\u4e00\u79cd\u7b56\u7565\u5c31\u662f\u52a8\u6001\u5730\u6d4b\u91cf\u6bcf\u4e2a\u672c\u5730DNS\u670d\u52a1\u5668\u7684\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\uff0c\u8fd9\u6837\u5185\u5bb9\u5206\u53d1\u670d\u52a1\u5668\u53ef\u4ee5\u5b9e\u65f6\u638c\u63e1\u5404\u4e2a\u533a\u57df\u7684\u7f51\u7edc\u60c5\u51b5\uff0c\u5e76\u9009\u62e9\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u4f4e\u7684\u670d\u52a1\u5668\u63d0\u4f9b\u670d\u52a1\u3002\u8fd9\u79cd\u52a8\u6001\u6d4b\u91cf\u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u5668\u5b9a\u65f6\u5411\u5404\u4e2a\u672c\u5730DNS\u670d\u52a1\u5668\u53d1\u9001\u7c7b\u4f3cping\u4fe1\u606f\u7684\u6570\u636e\u5305\u6765\u5b9e\u73b0\uff0c\u4f46\u5f88\u9057\u61be\u7684\u662f\uff0c\u8bb8\u591a\u672c\u5730DNS\u670d\u52a1\u5668\u90fd\u62d2\u7edd\u63a5\u53d7\u8fd9\u79cd\u6570\u636e\u5305\u3002</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/","title":"Chapter3 \u4f20\u8f93\u5c42","text":""},{"location":"curriculum_study/TD_net/ch3/#31","title":"3.1 \u7b80\u4ecb","text":"<p>\u8fd0\u8f93\u5c42\u534f\u8bae\u4e3a\u8fd0\u884c\u5728\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u5e94\u7528\u8fdb\u7a0b\u4e4b\u95f4\u63d0\u4f9b\u4e86\u903b\u8f91\u901a\u4fe1\u3002</p> <p>\u903b\u8f91\u901a\u4fe1\uff0c\u4e0d\u76f8\u8fde\u7684\u4e3b\u673a\u50cf\u4eff\u4f5b\u76f8\u8fde\u4e00\u6837\uff0c\u53ef\u4ee5\u76f4\u63a5\u901a\u4fe1\u3002</p> <p>\u8fd0\u8f93\u5c42\u534f\u8bae\u5b9e\u73b0\u5728\u7aef\u7cfb\u7edf\u4e2d\u3002\u8fd0\u8f93\u5c42\u5c06\u4ece\u53d1\u9001\u5e94\u7528\u7a0b\u5e8f\u8fdb\u7a0b\u6536\u5230\u7684\u62a5\u6587\u8f6c\u6362\u6210\u8fd0\u8f93\u5c42\u5206\u7ec4\uff08\u62a5\u6587\u6bb5\uff09\uff0c\u7f51\u7edc\u5c42\u5c06\u62a5\u6587\u6bb5\u5c01\u88c5\u79f0\u6570\u636e\u62a5\uff0c\u5411\u76ee\u7684\u5730\u53d1\u9001\u3002 \u7f51\u7edc\u8def\u7531\u5668\u4ec5\u4f5c\u7528\u4e8e\u8be5\u6570\u636e\u62a5\u7684\u7f51\u7edc\u5c42\u5b57\u6bb5\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#311","title":"3.1.1 \u8fd0\u8f93\u5c42\u4e0e\u7f51\u7edc\u5c42\u7684\u5173\u7cfb","text":"<p>\u7f51\u7edc\u5c42\u63d0\u4f9b\u4e86\u4e3b\u673a\u4e4b\u95f4\u7684\u903b\u8f91\u901a\u4fe1\u3002</p> <p>\u8fd0\u8f93\u5c42\u4e3a\u8fd0\u884c\u5728\u4e0d\u540c\u4e3b\u673a\u4e0a\u7684\u8fdb\u7a0b\u4e4b\u95f4\u63d0\u4f9b\u4e86\u903b\u8f91\u901a\u4fe1\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#312","title":"3.1.2 \u56e0\u7279\u7f51\u8fd0\u8f93\u5c42\u6982\u8ff0","text":""},{"location":"curriculum_study/TD_net/ch3/#_1","title":"\u8fd0\u8f93\u5c42\u534f\u8bae","text":"<p>UDP\uff08\u7528\u6237\u6570\u636e\u62a5\u534f\u8bae\uff09</p> <ul> <li>\u4e0d\u53ef\u9760\u3001\u65e0\u8fde\u63a5</li> </ul> <p>TCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09</p> <ul> <li>\u53ef\u9760\u3001\u9762\u5411\u8fde\u63a5</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#tcp","title":"TCP","text":"<p>TCP\u670d\u52a1\u53ef\u4ee5\u63d0\u4f9b\uff1a</p> <p>1\u3002\u9762\u5411\u8fde\u63a5\u7684\u670d\u52a1</p> <ul> <li>\u5efa\u7acbTCP\u8fde\u63a5\u5728\u4e24\u4e2a\u901a\u4fe1\u8fdb\u7a0b\u7684\u5957\u63a5\u5b57\u4e4b\u95f4\u3002</li> <li>\u8be5\u8fde\u63a5\u5168\u53cc\u5de5\uff0c\u62a5\u6587\u53d1\u9001\u7ed3\u675f\u62c6\u9664\u8fde\u63a5\u3002</li> </ul> <p>2\u3002\u53ef\u9760\u6570\u636e\u4f20\u8f93\u670d\u52a1</p> <ul> <li> <p>\u4f20\u8f93\u4fdd\u8bc1</p> </li> <li> <p>\u65e0\u5dee\u9519</p> </li> <li>\u6309\u9002\u5f53\u987a\u5e8f\u4ea4\u4ed8</li> <li>\u65e0\u5b57\u8282\u7684\u4e22\u5931\u548c\u5197\u4f59</li> </ul> <p>3\u3002\u62e5\u585e\u63a7\u5236</p> <p>\u7f51\u7edc\u51fa\u73b0\u62e5\u585e\u65f6\uff0c\u6291\u5236\u53d1\u9001\u7aef\u53d1\u9001\u6570\u636e\uff0c\u6539\u5584\u7f51\u7edc\u73af\u5883</p>"},{"location":"curriculum_study/TD_net/ch3/#udp","title":"UDP","text":"<p>\u4ec5\u63d0\u4f9b\u4e86\u6700\u5c0f\u670d\u52a1\u7684\u8f7b\u91cf\u7ea7\u8fd0\u8f93\u534f\u8bae\uff0c\u63d0\u4f9b\u65e0\u8fde\u63a5\u3001\u4e0d\u53ef\u9760\u3001\u4e0d\u4fdd\u8bc1\u987a\u5e8f\u7684\u6570\u636e\u4f20\u8f93\u670d\u52a1\uff0c\u4e14\u6ca1\u6709\u62e5\u585e\u63a7\u5236\u673a\u5236\u3002</p> <p>UDP\u53ef\u4ee5\u9009\u5b9a\u4efb\u4f55\u901f\u7387\u5411\u7f51\u7edc\u5c42\u6ce8\u5165\u6570\u636e\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#_2","title":"\u7f51\u7edc\u5c42\u534f\u8bae","text":"<p>IP\uff08\u7f51\u9645\u534f\u8bae\uff09</p> <ul> <li> <p>\u670d\u52a1\u6a21\u578b\uff1a\u5c3d\u529b\u800c\u4e3a\u4ea4\u4ed8\u670d\u52a1\uff0cIP\u5c3d\u5176\u6700\u5927\u52aa\u529b\uff0c\u5728\u901a\u4fe1\u7684\u4e3b\u673a\u4e4b\u95f4\u4ea4\u4ed8\u62a5\u6587\u6bb5\uff0c\u4f46\u4e0d\u505a\u4efb\u4f55\u786e\u4fdd\uff1a</p> </li> <li> <p>\u4e0d\u786e\u4fdd\u62a5\u6587\u6bb5\u662f\u5426\u80fd\u4ea4\u4ed8</p> </li> <li> <p>\u4e0d\u786e\u4fdd\u6309\u5e8f\u4ea4\u4ed8</p> </li> <li> <p>\u53ef\u9760\u6027\uff1a\u4e0d\u53ef\u9760</p> </li> <li>\u552f\u4e00\u6027\uff1a\u6bcf\u53f0\u4e3b\u673a\u53ea\u6709\u4e00\u4e2aIP\u5730\u5740</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#32","title":"3.2 \u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3","text":"<p>UDP\u548cTCP\u7684\u57fa\u672c\u804c\u8d23\uff1a</p> <p>\u5c06\u7aef\u7cfb\u7edf\u4e4b\u95f4\uff08\u4e3b\u673a\u4e4b\u95f4\uff09IP\u7684\u4ea4\u4ed8\u670d\u52a1\u62d3\u5c55\u4e3a\u8fd0\u884c\u5728\u7aef\u7cfb\u7edf\u4e0a\u7684\u4e24\u4e2a\u8fdb\u7a0b\u4e4b\u95f4\u7684\u4ea4\u4ed8\u670d\u52a1\uff0c\u8fd9\u4e2a\u53c8\u88ab\u79f0\u4e3a\u8fd0\u8f93\u5c42\u7684\u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3\u3002</p> <p>\u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3\u5373\u4e00\u79cd\u804c\u8d23\uff0c\u662f\u8fd0\u8f93\u5c42\u534f\u8bae\u7684\u57fa\u672c\u8d23\u4efb\u3002</p> <p>\u591a\u8def\u5206\u89e3\uff1a\u5c06\u8fd0\u8f93\u5c42\u62a5\u6587\u6bb5\u4e2d\u7684\u6570\u636e\u4ea4\u4ed8\u5230\u6b63\u786e\u7684\u5957\u63a5\u5b57\u7684\u5de5\u4f5c\u3002</p> <p>\u591a\u8def\u590d\u7528\uff1a</p> <ul> <li>\u4ece\u6e90\u4e3b\u673a\u7684\u4e0d\u540c\u5957\u63a5\u5b57\u4e2d\u6536\u96c6\u6570\u636e\u5757</li> <li>\u5e76\u4e3a\u6bcf\u4e2a\u6570\u636e\u5757\u5c01\u88c5\u4e0a\u9996\u90e8\u4fe1\u606f\uff0c\u4ece\u800c\u751f\u6210\u62a5\u6587\u6bb5</li> <li>\u518d\u4f20\u9012\u81f3\u7f51\u7edc\u5c42</li> </ul> <p>\u5982\u679c\u8981\u6ee1\u8db3\u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3\u5219\u9700\u8981\uff1a</p> <ol> <li>\u5957\u63a5\u5b57\u6709\u552f\u4e00\u6807\u8bc6\u7b26</li> <li>\u6bcf\u4e2a\u62a5\u6587\u6bb5\u8981\u80fd\u6307\u51fa\u88ab\u4ea4\u4ed8\u5230\u7684\u5957\u63a5\u5b57</li> </ol> <p>\u4e8e\u662f\u5728\u62a5\u6587\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u589e\u52a0\u6e90\u7aef\u53e3\u53f7\u3001\u76ee\u7684\u7aef\u53e3\u53f7\u6765\u8fdb\u884c\u6807\u8bc6\uff0c\u6bcf\u4e2a\u5b57\u6bb516bits\uff0c\u5927\u5c0f\u57280-65535\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#_3","title":"\u65e0\u8fde\u63a5\u7684\u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3","text":"<p>\u4e00\u4e2aUDP\u7684\u5957\u63a5\u5b57\u662f\u7531\u4e00\u4e2a\u4e8c\u5143\u7ec4\u6765\u6807\u8bc6\u7684\uff0c\u8fd9\u4e2a\u4e8c\u5143\u7ec4\u5305\u542b\u76ee\u7684IP\u5730\u5740\u548c\u76ee\u7684\u7aef\u53e3\u53f7\uff0c\u4e0d\u540c\u7684\u6e90\u7aef\u53e3\u53d1\u9001\u7684\u4fe1\u606f\uff0c\u53ea\u8981\u76ee\u7684IP\u5730\u5740\u4e0e\u7aef\u53e3\u4e00\u81f4\uff0c\u5c06\u4f1a\u88ab\u9001\u5230\u540c\u4e00\u8fdb\u7a0b\u3002</p> <p>\u6e90\u7aef\u53e3\u53f7\u7528\u4e8e\u56de\u4f20\u4fe1\u606f\uff0c\u662f\u8fd4\u56de\u5730\u5740\u7684\u4e00\u90e8\u5206\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#_4","title":"\u9762\u5411\u8fde\u63a5\u7684\u591a\u8def\u590d\u7528&amp;\u591a\u8def\u5206\u89e3","text":"<p>TCP\u7684\u5957\u63a5\u5b57\u662f\u4e00\u4e2a\u56db\u5143\u7ec4\uff0c\u5305\u62ec\u76ee\u7684IP\u5730\u5740\uff0c\u76ee\u7684\u7aef\u53e3\u53f7\uff0c\u6e90IP\u5730\u5740\u548c\u6e90\u7aef\u53e3\u53f7\u3002</p> <p>\u4e24\u4e2a\u4e0d\u540c\u6e90\u76f8\u540c\u76ee\u7684\u5730\u5740\u7684\u62a5\u6587\u6bb5\u5c06\u88ab\u5b9a\u4f4d\u5230\u4e0d\u540c\u7684\u5957\u63a5\u5b57\uff0c\u9664\u975eTCP\u62a5\u6587\u6bb5\u643a\u5e26\u4e86\u521d\u59cb\u521b\u5efa\u8fde\u63a5\u7684\u8bf7\u6c42\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#33-udp","title":"3.3 \u65e0\u8fde\u63a5\u8fd0\u8f93\uff1aUDP","text":"<p>\u76f8\u6bd4\u8f83\u4e8eIP\u534f\u8bae\uff0cUDP\u63d0\u4f9b\u4e86\u591a\u4e00\u70b9\u7684\u590d\u7528\u5206\u89e3\u670d\u52a1\uff0c\u4ee5\u4fbf\u7f51\u7edc\u5c42\u4e0e\u6b63\u786e\u7684\u5e94\u7528\u8fdb\u7a0b\u4e4b\u95f4\u4f20\u9012\u6570\u636e\uff08\u53ef\u4ee5\u5b9a\u4f4d\u5230\u7ed9\u90a3\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff09\u3002</p> <p>\u4f7f\u7528\u8fc7\u7a0b\uff1a</p> <ul> <li>\u4ece\u5e94\u7528\u7a0b\u5e8f\u83b7\u5f97\u6570\u636e</li> <li>\u5c01\u88c5\u4e0a\u6e90\u3001\u76ee\u7684\u7aef\u53e3\u53f7</li> <li>\u5c06\u62a5\u6587\u6bb5\u4ea4\u7ed9\u7f51\u7edc\u5c42</li> </ul> <p>UDP\u4f18\u70b9\uff1a</p> <ul> <li>\u53ef\u4ee5\u8f83\u4e3a\u7cbe\u7ec6\u7684\u63a7\u5236\u4f20\u8f93\u4f20\u8f93\u65f6\u95f4\uff0c\u76f8\u6bd4\u8f83\u4e8eTCP\u800c\u8a00</li> <li>\u65e0\u9700\u5efa\u7acb\u8fde\u63a5</li> <li>\u4e0d\u9700\u8981\u7ef4\u62a4\u8fde\u63a5\u72b6\u6001</li> <li>\u9996\u90e8\u5f00\u9500\u5c0f\uff08TCP\u62a5\u6587\u6bb5\u9996\u90e8\u5f00\u950020\u5b57\u8282\uff0cUDP\u62a5\u6587\u6bb5\u9996\u90e8\u5f00\u95008\u5b57\u8282\uff09</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#331","title":"3.3.1 \u62a5\u6587\u6bb5\u7ed3\u6784","text":"<p>UDP\u9996\u90e8\u56db\u4e2a\u5b57\u6bb5\uff0c\u6bcf\u4e2a\u5b57\u6bb52\u4e2a\u5b57\u8282\u3002</p> <p></p> <ul> <li>\u6e90\u7aef\u53e3\u53f7</li> <li>\u76ee\u7684\u7aef\u53e3\u53f7</li> <li>\u957f\u5ea6</li> </ul> <p>\u957f\u5ea6\u5b57\u6bb5\u6307\u793a\u4e86UDP\u62a5\u6587\u6bb5\u4e2d\u7684\u5b57\u8282\u6570\uff08\u9996\u90e8+\u6570\u636e\uff09</p> <ul> <li>\u68c0\u9a8c\u548c</li> </ul> <p>\u68c0\u9a8c\u662f\u5426\u51fa\u73b0\u5dee\u9519</p>"},{"location":"curriculum_study/TD_net/ch3/#332","title":"3.3.2 \u68c0\u9a8c\u548c","text":"<p>\u7565</p>"},{"location":"curriculum_study/TD_net/ch3/#34","title":"3.4 \u53ef\u9760\u6570\u636e\u4f20\u8f93\u539f\u7406","text":"<p>\u8fd9\u91cc\u7814\u7a76\uff0c\u5982\u4f55\u501f\u52a9\u4e0d\u53ef\u9760\u7684\u534f\u8bae\u6784\u5efa\u4e00\u4e2a\u53ef\u9760\u7684\u4f20\u8f93\u4fe1\u9053\u3002\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b\u4e66\u63d0\u51fa\u4e86\u51e0\u79cd\u534f\u8bae\uff0c\u9010\u6b65\u63a8\u5bfc\u51fa\u4e00\u4e2a\u53ef\u9760\u7684\u4f20\u8f93\u534f\u8bae\u3002\u8be5\u4e66\u4e0a\u4f7f\u7528\u4ee3\u7801\u8fdb\u884c\u8868\u793a\uff0c\u300a\u81ea\u9876\u5411\u4e0b\u300b\u4f7f\u7528FSM\uff08\u6709\u9650\u72b6\u6001\u673a\uff09\u8868\u793a\u3002</p> <p>\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b\uff08\u5373\u6559\u6750\u4e2d\uff09\u603b\u5171\u6784\u5efa\u4e866\u79cd\u534f\u8bae\uff0c\u8fd9\u91cc\u90fd\u4f1a\u6d89\u53ca\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#341","title":"3.4.1 \u6784\u5efa\u53ef\u9760\u6570\u636e\u4f20\u8f93\u534f\u8bae","text":""},{"location":"curriculum_study/TD_net/ch3/#1","title":"\u534f\u8bae1\uff1a\u7406\u60f3\u72b6\u6001\u4e0b\u5b8c\u5168\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93","text":"<p>\u5728\u8fd9\u4e2a\u534f\u8bae\u4e2d,\u6570\u636e\u53ea\u80fd\u5355\u5411\u4f20\u8f93\u3002\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u7684\u7f51\u7edc\u5c42\u603b\u662f\u5904\u4e8e\u51c6\u5907\u5c31\u7eea \u72b6\u6001\u3002\u6570\u636e\u5904\u7406\u7684\u65f6\u95f4\u5ffd\u7565\u4e0d\u8ba1\u3002\u53ef\u7528\u7684\u7f13\u5b58\u7a7a\u95f4\u65e0\u7a77\u5927\u3002\u6700\u5f3a\u7684\u4e00\u4e2a\u6761\u4ef6\u662f\u6570\u636e\u94fe\u8def\u5c42 \u4e4b\u95f4\u7684\u901a\u4fe1\u4fe1\u9053\u6c38\u8fdc\u4e0d\u4f1a\u635f\u574f\u5e27\u6216\u8005\u4e22\u5931\u5e27\u3002\u8fd9\u4e2a\u5b8c\u5168\u4e0d\u73b0\u5b9e\u7684\u534f\u8bae\u6211\u4eec\u7ed9\u5b83\u4e00\u4e2a\u6635\u79f0\u201c\u4e4c\u6258\u90a6\u201d( Utopia)</p> <p></p>"},{"location":"curriculum_study/TD_net/ch3/#2-","title":"\u534f\u8bae2\uff1a\u65e0\u9519\u4fe1\u9053\u4e0a\u7684\u5355\u5de5\u505c-\u7b49\u5f0f\u534f\u8bae","text":"<p>\u5904\u7406\u8fd9\u6837\u7684\u95ee\u9898:</p> <p>\u53d1\u9001\u65b9\u4ee5\u9ad8\u4e8e\u63a5\u6536\u65b9\u80fd\u5904\u7406\u5230\u8fbe\u5e27\u7684\u901f\u5ea6\u53d1\u9001\u5e27\uff0c\u5bfc\u81f4\u63a5\u6536\u65b9\u88ab\u6df9\u6ca1\u3002\u8fd9\u79cd\u60c5\u5f62\u5b9e\u9645\u4e0a\u5f88\u5bb9\u6613\u51fa\u73b0\uff0c\u56e0\u6b64\u534f\u8bae\u662f\u5426\u80fd\u591f\u9632\u6b62\u5b83\u975e\u5e38\u91cd\u8981\u3002</p> <p>\u7136\u800c, \u6211\u4eec\u4ecd\u7136\u5047\u8bbe\u901a\u4fe1\u4fe1\u9053\u4e0d\u4f1a\u51fa\u9519\uff0c\u5e76\u4e14\u6570\u636e\u6d41\u91cf\u8fd8\u662f\u5355\u5de5\u7684\u3002</p> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <ol> <li>\u5efa\u7acb\u8db3\u591f\u5f3a\u5927\u7684\u63a5\u6536\u5668,\u4f7f\u5176\u5f3a\u5927\u5230\u80fd\u5904\u7406\u4e00\u4e2a\u63a5\u7740\u4e00\u4e2a\u5e27\u7ec4\u6210\u7684\u8fde\u7eed\u6d41\u3002</li> <li>\u8ba9\u63a5\u6536\u65b9\u7ed9\u53d1\u9001\u65b9\u63d0\u4f9b\u53cd\u9988\u4fe1\u606f\u3002\u63a5\u6536\u65b9\u5c06\u6570\u636e\u5305\u4f20\u9012\u7ed9\u7f51\u7edc\u5c42\u4e4b\u540e\u7ed9\u53d1\u9001\u65b9\u8fd4\u56de\u4e00\u4e2a\u5c0f\u7684\u54d1\u5e27\uff0c\u5b9e\u9645\u4e0a\u8fd9\u4e00\u5e27\u7684\u4f5c\u7528\u662f\u7ed9\u53d1\u9001\u65b9\u4e00\u4e2a\u8bb8\u53ef\uff0c\u5141\u8bb8\u5b83\u53d1\u9001\u4e0b\u4e00\u5e27\u3002\u53d1\u9001\u65b9\u5728\u53d1\u51fa\u4e00\u5e27\u4e4b\u540e\uff0c\u6839\u636e\u534f\u8bae\u8981\u6c42\uff0c\u5b83\u5fc5\u987b\u7b49\u5f85\u4e00\u6bb5\u65f6\u95f4\u76f4\u5230\u77ed\u54d1\u5e27\uff08\u5373\u786e\u8ba4\uff09\u5230\u8fbe\u3002</li> </ol> <p>\u53d1\u9001\u65b9\u53d1\u9001\u4e00\u5e27\uff0c\u7b49\u5f85\u5bf9\u65b9\u786e\u8ba4\u5230\u8fbe\u540e\u624d\u80fd\u7ee7\u7eed\u53d1\u9001,\u8fd9\u6837\u7684\u534f\u8bae\u79f0\u4e3a\u505c\u00b7\u7b49\u5f0f\u534f\u8bae</p> <p></p>"},{"location":"curriculum_study/TD_net/ch3/#3-","title":"\u534f\u8bae3\uff1a\u6709\u9519\u4fe1\u9053\u4e0a\u7684\u5355\u5de5\u505c-\u7b49\u5f0f\u534f\u8bae","text":"<p>\u5e38\u89c1\u95ee\u9898\u7684\u60c5\u5f62\uff1a</p> <p>\u901a\u4fe1\u4fe1\u9053\u53ef\u80fd\u4f1a\u51fa\u9519\u3002\u5e27\u53ef\u80fd\u4f1a\u88ab\u635f\u574f\uff0c\u4e5f\u53ef\u80fd\u5b8c\u5168\u88ab\u4e22\u5931\u3002\u7136\u800c\uff0c\u6211\u4eec\u5047\u8bbe\uff0c\u5982\u679c\u4e00\u5e27\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u88ab\u635f\u574f\uff0c\u5219\u63a5\u6536\u65b9\u786c\u4ef6\u5728\u8ba1\u7b97\u6821\u9a8c\u548c\u65f6\u80fd\u68c0\u6d4b\u51fa\u6765\u3002</p> <p>\u5982\u679c\u4e00\u5e27\u88ab\u635f\u574f\u4e86\u4e4b\u540e\u6821\u9a8c\u548c\u4ecd\u7136\u662f\u6b63\u786e\u7684\uff08\u6570\u636e\u9519\u8bef\u4f46\u662f\u6ca1\u80fd\u68c0\u6d4b\u51fa\uff09\uff0c\u90a3\u4e48\u8fd9\u4e2a\u534f\u8bae\uff08\u4ee5\u53ca\u6240\u6709\u5176\u4ed6\u7684\u534f\u8bae\uff09\u5c06\u4f1a\u5931\u8d25\uff08\u5373\u7ed9\u7f51\u7edc\u5c42\u9012\u4ea4\u4e86\u4e00\u4e2a\u4e0d\u6b63\u786e\u7684\u6570\u636e\u5305\uff09\u3002</p> <p>\u91cd\u7533\uff1a</p> <ul> <li>\u6570\u636e\u94fe\u8def\u5c42\u76ee\u6807\uff1a</li> </ul> <p>\u673a\u5668A\u4e0a\u7684\u7f51\u7edc\u5c42\u5c06\u6570\u636e\u4ea4\u7ed9A\u7684\u6570\u636e\u94fe\u8def\u5c42\uff0c\u60f3\u8981\u628a\u6570\u636e\u4f20\u9012\u7ed9\u673a\u5668B\u3002</p> <p>\u6570\u636e\u94fe\u8def\u5c42A\u5fc5\u987b\u5c06\u6570\u636e\u5305\u4e1d\u6beb\u4e0d\u5dee\u5730\u4f20\u9012\u7ed9\u6570\u636e\u94fe\u8def\u5c42B\uff0c\u5e76\u7531\u5b83\u4f20\u9012\u7ed9\u673a\u5668B\u7684\u7f51\u7edc\u5c42\u3002</p> <p>\u4e1d\u6beb\u4e0d\u5dee\uff1a</p> <ul> <li>\u9519\u5305</li> <li>\u91cd\u590d</li> <li>\u4e22\u5931</li> </ul> <p>\u534f\u8bae\u5f85\u89e3\u51b3\u95ee\u9898</p> <ul> <li>\u5305\u5b8c\u6574\u6027\u786e\u8ba4</li> </ul> <p>\u91c7\u7528\u63a5\u6536\u7aef\u8fd4\u56de\u786e\u8ba4\u5e27\u8fdb\u884c\u786e\u8ba4\u7684\u65b9\u5f0f\u3002</p> <ul> <li>\u786e\u8ba4\u5e27\u7684\u9632\u4e22\u5931\u5904\u7406</li> </ul> <p>\u89e3\u51b3\u65b9\u6848\uff1a</p> <p>\u5728\u4e00\u4e2a\u534f\u8bae\u4e2d\uff0c\u53d1\u9001\u65b9\u5728\u53d1\u9001\u4e0b\u4e00\u4e2a\u6570\u636e\u4e4b\u524d\u5fc5\u987b\u7b49\u5f85\u4e00\u4e2a\u80af\u5b9a\u786e\u8ba4\u3002</p> <p>\u8fd9\u6837\u7684\u534f\u8bae\u79f0\u4e3a\u81ea\u52a8\u91cd\u590d\u8bf7\u6c42( ARQ , Automatic Repeat reQuest)\u6216\u5e26\u6709\u91cd\u4f20\u7684\u80af\u5b9a\u786e\u8ba4( PAR, Positive Acknowledgement with Retransmission)\u3002</p> <p></p> <p></p> <ul> <li>\u5e27\u5e8f\u53f7</li> </ul> <p>\u5e27\u5e8f\u53f7\u53ea\u67090\u548c1\u3002\u539f\u56e0\u662f\uff0c\u53d1\u9001\u4e00\u4e2a\u5e27\u662f\u5efa\u7acb\u5728\u524d\u4e00\u4e2a\u5e27\u5df2\u7ecf\u53d1\u9001\u7684\u60c5\u51b5\u4e0b\u7684\uff0c\u6bd4\u5982\u76ee\u524d\u5df2\u7ecf\u63a5\u6536\u5230\u4e86\u5e8f\u53f7\u4e3a0\u7684\u5e27\uff0c\u76ee\u6807\u63a5\u6536\u662f\u5e8f\u53f7\u4e3a1\u7684\u65b0\u5e27\uff0c\u6b64\u65f6\u4f20\u6765\u5e8f\u53f7\u4e3a0\u7684\u5e27\u5373\u8ba4\u4e3a\u662f\u91cd\u590d\u5e27\u3002</p> <ul> <li>event</li> </ul> <p>\u534f\u8bae3\u4e2d\u6709\u4e09\u79cd\u4e8b\u4ef6</p> <ul> <li><code>frame_arrival</code></li> </ul> <p>\u4e00\u5e27\u6570\u636e\u5230\u8fbe\u63a5\u6536\u65b9\u7136\u540e\u51fa\u53d1\u6b64\u4e8b\u4ef6\u3002</p> <ul> <li> <p><code>cksum_err</code></p> </li> <li> <p><code>timeout</code></p> </li> <li> <p>\u5b9a\u65f6\u5668timer</p> </li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#342","title":"3.4.2 \u6d41\u6c34\u7ebf\u53ef\u9760\u6570\u636e\u4f20\u8f93\u534f\u8bae","text":"<p>\u534f\u8bae\u4e09\u7684\u6027\u80fd\u74f6\u9888\u5728\u4e8e\u5b83\u662f\u4e00\u4e2a\u505c\u7b49\u534f\u8bae\u3002\u89e3\u51b3\u65b9\u5f0f\u662f\u6539\u9020\u6210\u6d41\u6c34\u7ebf\u7684\u6a21\u5f0f\uff0c\u4e0d\u518d\u7b49\u5f85\u4e00\u4e2a\u54cd\u5e94\u3002</p> <p>\u9700\u8981\u89e3\u51b3\u7684\u95ee\u9898\uff1a</p> <ul> <li>\u5fc5\u987b\u589e\u52a0\u5e8f\u53f7\u7684\u8303\u56f4</li> <li>\u534f\u8bae\u7684\u53d1\u9001\u63a5\u6536\u65b9\u5fc5\u987b\u53ef\u4ee5\u7f13\u5b58\u591a\u4e2a\u5206\u7ec4</li> <li>\u6240\u9700\u5e8f\u53f7\u8303\u56f4\u548c\u5bf9\u7f13\u51b2\u7684\u8981\u6c42\u53d6\u51b3\u4e8e\u6570\u636e\u4f20\u8f93\u534f\u8bae\u5982\u4f55\u5904\u7406\u4e22\u5931\u3001\u635f\u574f\u548c\u5ef6\u65f6\u6253\u7684\u5206\u7ec4\u3002</li> </ul> <p>\u89e3\u51b3\u6d41\u6c34\u7ebf\u7684\u5dee\u9519\u6062\u590d\uff0c\u6709\u4e24\u79cd\u529e\u6cd5\uff1a</p> <ul> <li>\u56de\u9000N\u6b65</li> <li>\u9009\u62e9\u91cd\u4f20</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#41","title":"\u534f\u8bae4\uff1a1\u4f4d\u6ed1\u52a8\u7a97\u53e3\u534f\u8bae","text":"<p>\u548c\u534f\u8bae\u4e09\u6548\u679c\u76f8\u540c\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#5n","title":"\u534f\u8bae5\uff1a\u56de\u9000N\u534f\u8bae","text":""},{"location":"curriculum_study/TD_net/ch3/#_5","title":"\u6982\u5ff5","text":"<p>\u56de\u9000N\u6b65\uff08GBN\uff09\u534f\u8bae\u4e2d\uff0c\u5141\u8bb8\u53d1\u9001\u65b9\u53d1\u9001\u591a\u4e2a\u5206\u7ec4\u800c\u4e0d\u9700\u7b49\u5f85\u786e\u8ba4\uff0c\u6d41\u6c34\u7ebf\u4e2d\u672a\u786e\u8ba4\u7684\u5206\u7ec4\u6570\u4e0d\u80fd\u8d85\u8fc7\u67d0\u4e2a\u6700\u5927\u7684\u5141\u8bb8\u503cN\u3002</p> <p></p> <p>\u4e00\u4e2a\u7a97\u53e3\u5927\u5c0f\u4e3a4\u7684\u4f8b\u5b50\uff1a</p> <p></p> <p>GBN\u4e2d\uff0c\u63a5\u6536\u65b9\u4e22\u5f03\u6240\u6709\u5931\u5e8f\u5206\u7ec4\u3002 \u6ed1\u52a8\u7a97\u53e3\u6307\u7684\u662f\u53d1\u9001\u65b9\u7a97\u53e3\u7684\u6ed1\u52a8\uff0c\u5f53\u53d1\u9001\u65b9\u63a5\u6536\u5230\u8fde\u7eed\u7684ACK\u65f6\uff0c\u7a97\u53e3\u8fdb\u884c\u6ed1\u52a8\u3002 \u8d85\u65f6\u4e4b\u540e\u53d1\u9001\u6240\u6709\u5206\u7ec4\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#_6","title":"\u7a97\u53e3\u5927\u5c0f","text":"<p>\u7a97\u53e3\u5927\u5c0fw\u9009\u62e9\u591a\u5927\u5408\u9002\u5462\uff1f</p> <p></p> <p></p> <p>\u5373 \u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#6","title":"\u534f\u8bae6\uff1a\u9009\u62e9\u91cd\u4f20\u534f\u8bae","text":""},{"location":"curriculum_study/TD_net/ch3/#_7","title":"\u6982\u5ff5","text":"<p>\u89e3\u51b3GBN\u7684\u6027\u80fd\u95ee\u9898\uff0c\u56e0\u4e3a\u4e00\u4e2a\u5206\u7ec4\u7684\u5931\u6548\uff0c\u5fc5\u987b\u91cd\u4f20\u5176\u540e\u6240\u6709\u7684\u5206\u7ec4\uff0c\u6548\u7387\u5f88\u4f4e\u3002</p> <p>\u9009\u62e9\u91cd\u4f20\u4ec5\u91cd\u4f20\u4e86\u6709\u9519\u7684\u5206\u7ec4\u3002</p> <p></p> <p>\u6ce8\u610f\uff1a\u300a\u8ba1\u7b97\u673a\u7f51\u7edc \u7b2c\u4e94\u7248\u300b P181\u9875\u914d\u56fe\u6709\u8bef\u3002 \u56feb\u8868\u793a\u9009\u62e9\u91cd\u4f20\u3002 \u63a5\u65363\u5206\u7ec4\u5230\u540e\u8fd4\u56deNAK\u662f\u5bf92\u5206\u7ec4\u4e22\u5931\u7684\u56de\u5e94\u3002\u5728\u63a5\u6536\u5230NAK\u4e4b\u540e\uff0c\u53d1\u9001\u65b9\u7acb\u5373\u91cd\u4f20\u6709\u95ee\u9898\u7684\u5206\u7ec4\u3002\u63a5\u6536\u5230\u5206\u7ec42\u4e4b\u540e\uff0c\u8fd4\u56deACK5\u7684\u539f\u56e0\u662f\uff0c\u4e4b\u524d\u7684\u5df2\u7ecf\u6392\u5e8f\u597d\u4e86\uff0c\u53d1\u9001ACK5\u63d0\u793a\u53d1\u9001\u65b9\u4e4b\u524d\u4f20\u9001\u7684\u5df2\u7ecf\u6ca1\u6709\u95ee\u9898\u3002 \u8fd9\u662f\u4e00\u79cdSR\u7684\u7b56\u7565\u3002</p> <p>\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <p></p> <p>\u8fd9\u91cc\u6211\u4eec\u8ba4\u4e3a\uff0c\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u90fd\u6709\u4e00\u4e2a\u7a97\u53e3\uff0c\u53d1\u9001\u65b9\u53ea\u6709\u63a5\u6536\u5230ACK\u56de\u5e94\uff0c\u624d\u4f1a\u79fb\u52a8\u53d1\u9001\u7a97\u53e3\uff1b\u63a5\u6536\u65b9\u53ea\u6709\u6700\u5c0f\u5e8f\u53f7\u63a5\u6536\u5230\u5206\u7ec4\uff0c\u624d\u4f1a\u5411\u540e\u6ed1\u52a8\u3002 \u8fd9\u662f\u53e6\u4e00\u79cdSR\u7b56\u7565\u3002 \u503c\u5f97\u6ce8\u610f\u7684\u662f\uff0c\u300a\u81ea\u9876\u5411\u4e0b\u300b\u548c\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b\u5173\u4e8eSR\u7684\u8bba\u8ff0\u6709\u4e0d\u4e00\u6837\u7684\u5730\u65b9\uff0c\u300a\u8ba1\u7b97\u673a\u7f51\u7edc\u300b\u5f15\u5165NAK\u7684\u6982\u5ff5\uff0c\u8fd9\u4e5f\u662f\u8fd9\u4e00\u8282\u7b2c\u4e00\u4e2a\u56fe\u7684\u6765\u6e90\u539f\u56e0\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#_8","title":"\u7a97\u53e3\u957f\u5ea6","text":"<p>\u7a97\u53e3\u957f\u5ea6\u5fc5\u987b\u5c0f\u4e8e\u7b49\u4e8e\u5e8f\u53f7\u7a7a\u95f4\u5927\u5c0f\u7684\u4e00\u534a\u3002</p> <p></p> <p>\u5728\u8fd9\u4e2a\u6817\u5b50\u4e2d\uff0c\u5982\u679c\u53ea\u770b\u4e2d\u95f4\u7ad6\u9762\u7684\u53f3\u4fa7\u90e8\u5206\uff0c\u53d1\u73b0\u7ed3\u679c\u662f\u4e00\u6837\u7684\uff0c\u7136\u800c\u9020\u6210\u8fd9\u6837\u7ed3\u679c\u7684\u53d1\u9001\u65b9\u4f20\u9012\u65b9\u5f0f\u5374\u5b58\u5728\u6b67\u4e49\u3002 \u6240\u4ee5\u7a97\u53e3\u957f\u5ea6\u4e0d\u5b9c\u8fc7\u5927\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#35-tcp","title":"3.5 \u9762\u5411\u8fde\u63a5\u7684\u8fd0\u8f93\uff1aTCP","text":""},{"location":"curriculum_study/TD_net/ch3/#351-tcp","title":"3.5.1 TCP\u8fde\u63a5","text":"<p>TCP\u8fde\u63a5\u9700\u8981\u8fdb\u884c\u76f8\u4e92\u201c\u63e1\u624b\u201d\uff0c\u76ee\u7684\u662f\u4e3a\u4e86\u786e\u4fdd\u6570\u636e\u4f20\u8f93\u7684\u53c2\u6570\u3002TCP\u8fde\u63a5\u63d0\u4f9b\u70b9\u5bf9\u70b9\u7684\u5168\u53cc\u5de5\u670d\u52a1\u3002 </p> <p>TCP\u53ef\u4ee5\u4ece\u7f13\u5b58\u4e2d\u53d6\u51fa\u5e76\u653e\u5165\u62a5\u6587\u6bb5\u4e2d\u7684\u6570\u636e\u6570\u91cf\uff0c\u53d7\u9650\u4e8e\u6700\u5927\u62a5\u6587\u6bb5\u957f\u5ea6\uff08MSS\uff09\u3002TCP\u8fde\u63a5\u7684\u7ec4\u6210\u5305\u62ec\uff1a</p> <ul> <li>\u4e24\u53f0\u4e3b\u673a\u4e0a\u7684\u7f13\u5b58</li> <li>\u53d8\u91cf</li> <li>\u4e0e\u8fdb\u7a0b\u8fde\u63a5\u7684\u5957\u63a5\u5b57</li> </ul> <p>MSS\u548cMTU\u5404\u662f\u4ec0\u4e48\uff0c\u4e8c\u8005\u662f\u4ec0\u4e48\u5173\u7cfb\uff1f \u7b54\u6848\uff1aMSS\u662fTCP\u6700\u5927\u62a5\u6587\u6bb5\u957f\u5ea6\uff0c\u5c31\u662fTCP\u53d1\u9001\u6570\u636e\u9700\u8981\u5bf9\u6570\u636e\u5206\u6bb5\u65f6\uff0c\u6700\u5927\u7684\u6bb5\u7684\u5b57\u8282\u6570\u3002MTU\u662f\u6700\u5927\u4f20\u8f93\u5355\u5143\uff0c\u901a\u5e38\u7531\u7f51\u5361\u7684\u786c\u4ef6\u7279\u6027\u89c4\u5b9a\uff0c\u8868\u793a\u901a\u8fc7\u8be5\u7f51\u5361\u4f20\u8f93\u7684\u6570\u636e\u5355\u5143\u6700\u5927\u7684\u5b57\u8282\u6570\u3002 MSS\u8981\u53d7\u540c\u4e00\u53f0\u673a\u5668\u4e0a\u7684MTU\u9650\u5236\u3002\u6bd4\u5982MTU\u4e3a1500\u5b57\u8282\uff0c\u90a3\u4e48MSS\u5c31\u53ea\u80fd\u662f1460\u5b57\u8282\uff0c\u8fd9\u662f\u56e0\u4e3a1460\u5b57\u8282\u7684\u6570\u636e\u5728\u901a\u8fc7\u7f51\u5361\u5411\u5916\u4f20\u8f93\u65f6\uff0c\u4f1a\u52a0\u4e0a20\u5b57\u8282\u7684ip\u5934\u548c20\u5b57\u8282\u7684tcp\u5934\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#352-tcp","title":"3.5.2 TCP\u62a5\u6587\u6bb5\u7ed3\u6784","text":"<p>TCP\u9996\u90e8\u4e00\u822c\u4e3a20\u5b57\u8282\u3002</p> <p></p> <ul> <li>32bits\u5e8f\u53f7\u5b57\u6bb5\uff0c\u786e\u8ba4\u53f7\u5b57\u6bb5</li> </ul> <p>\u5b9e\u73b0\u53ef\u9760\u6570\u636e\u4f20\u8f93\u670d\u52a1\u3002</p> <p>TCP\u5c06\u6570\u636e\u770b\u6210\u4e00\u4e2a\u65e0\u7ed3\u6784\u7684\u3001\u6709\u5e8f\u7684\u5b57\u8282\u6d41\u3002</p> <p>\u5047\u8bbe\u4e3b\u673aA\u901a\u8fc7TCP\u7ed9\u4e3b\u673aB\u53d1\u9001\u6570\u636e\u6d41\u3002</p> <ul> <li>A\u9690\u5f0f\u7684\u5bf9\u6570\u636e\u6d41\u4e2d\u7684\u6bcf\u4e00\u4e2a\u5b57\u8282\u7f16\u53f7</li> <li>\u5047\u8bbeMSS\u4e3a1000\u5b57\u8282</li> <li>\u6570\u636e\u6d41\u7684\u9996\u5b57\u8282\u4e3a0\u53f7</li> </ul> <p>\u8fd9\u4e2a\u53f7\u7801\u5c31\u662f\u5e8f\u53f7\u5b57\u6bb5\u3002</p> <p></p> <p>\u4e3b\u673aA\u586b\u5145\u8fdb\u62a5\u6587\u6bb5\u6bb5\u786e\u8ba4\u53f7\uff0c\u662f\u4e3b\u673aA\u671f\u671b\u4ece\u4e3b\u673aB\u6536\u5230\u7684\u4e0b\u4e00\u5b57\u8282\u7684\u5e8f\u53f7\u3002\u4e00\u4e2a\u4f8b\u5b50\uff1a</p> <p></p> <ul> <li>16bits\u63a5\u6536\u7a97\u53e3</li> </ul> <p>\u7528\u4e8e\u6d41\u91cf\u63a7\u5236\uff0c\u8868\u793a\u63a5\u6536\u65b9\u613f\u610f\u63a5\u53d7\u7684\u5b57\u8282\u6570\u91cf\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#353","title":"3.5.3 \u65f6\u95f4\u4f30\u8ba1","text":"<p>\u7565</p>"},{"location":"curriculum_study/TD_net/ch3/#354","title":"3.5.4 \u53ef\u9760\u6570\u636e\u4f20\u8f93","text":"<p>\u7531\u5e8f\u53f7\u5b57\u6bb5\u548c\u786e\u8ba4\u5b57\u6bb5\u884d\u751f\u51fa\u6765\u7684\u51e0\u4e2a\u4f20\u8f93\u786e\u8ba4\u7684\u4f8b\u5b50\uff1a</p> <p></p> <p></p>"},{"location":"curriculum_study/TD_net/ch3/#355","title":"3.5.5 \u6d41\u91cf\u63a7\u5236","text":"<p>TCP\u901a\u8fc7\u8ba9\u53d1\u9001\u65b9\u7ef4\u62a4\u4e00\u4e2a\u6210\u4e3a\u63a5\u53d7\u7a97\u53e3\u7684\u53d8\u91cf\uff0c\u6765\u63d0\u4f9b\u6d41\u91cf\u63a7\u5236\u7684\u6548\u679c\u3002</p>"},{"location":"curriculum_study/TD_net/ch3/#356-tcp","title":"3.5.6 TCP\u8fde\u63a5\u7ba1\u7406","text":""},{"location":"curriculum_study/TD_net/ch3/#tcp_1","title":"\u5efa\u7acb\u4e00\u4e2aTCP\u8fde\u63a5","text":"<p>1.</p> <ul> <li>\u5ba2\u6237\u7aefTCP\u5411\u670d\u52a1\u5668\u7aefTCP\u53d1\u9001\u4e00\u4e2a\u7279\u6b8a\u7684TCP\u62a5\u6587\u6bb5\uff08\u88ab\u79f0\u4e3aSYN\u62a5\u6587\u6bb5\uff09</li> </ul> <p>\u8be5\u62a5\u6587\u6bb5\u4e2d\u4e0d\u5305\u542b\u5e94\u7528\u5c42\u6570\u636e\uff08\u5b9e\u9645\u4f20\u8f93\u7684\u6570\u636e\uff09\uff0c\u5728\u9996\u90e8\u7684\u4e00\u4e2a\u6807\u8bc6\u4f4d\uff08\u5373SYN\u6bd4\u7279\uff09\u88ab\u7f6e\u4e3a1\u3002</p> <ul> <li>\u5ba2\u6237\u968f\u673a\u9009\u62e9\u4e00\u4e2a\u521d\u59cb\u5e8f\u53f7\uff08client_isn\uff09\uff0c\u5c06\u6b64\u7f16\u53f7\u653e\u7f6e\u4e8e\u8be5\u5176\u5b9e\u7684TCP SYN\u62a5\u6587\u6bb5\u7684\u5e8f\u53f7\u5b57\u6bb5\u4e2d\u3002</li> </ul> <p>2.\u00a0</p> <ul> <li>TCP SYN\u62a5\u6587\u6bb5\u5230\u8fbe\u670d\u52a1\u5668\u4e3b\u673a\uff0c\u670d\u52a1\u5668\u4ece\u6570\u636e\u62a5\u4e2d\u63d0\u53d6\u51faTCP SYN\u62a5\u6587\u6bb5\uff0c\u5e76\u4e3a\u5176\u5206\u914dTCP\u7f13\u5b58\u4e0e\u53d8\u91cf\uff08TCP\u8fde\u63a5\u5efa\u7acb\u524d\u5206\u914d\u8d44\u6e90\uff0c\u5bb9\u6613\u53d7\u5230SYN\u6d2a\u6cdb\u653b\u51fb\uff09</li> <li> <p>\u5411\u8be5TCP\u5ba2\u6237\u7aef\u53d1\u9001\u5141\u8bb8\u8fde\u63a5\u7684\u62a5\u6587\u6bb5\uff08\u88ab\u79f0\u4f5cSYNACK\u62a5\u6587\u6bb5\uff09\uff0c\u62a5\u6587\u6bb5\u4e2d\uff1a</p> </li> <li> <p>SYN\u6bd4\u7279\u88ab\u7f6e\u4e3a1</p> </li> <li>TCP\u62a5\u6587\u9996\u90e8\u786e\u8ba4\u53f7\u5b57\u6bb5\u88ab\u7f6e\u4e3a client_isn + 1</li> <li>\u670d\u52a1\u5668\u9009\u62e9\u81ea\u5df1\u7684\u5e8f\u53f7server_isn\uff0c\u653e\u5165\u5e8f\u53f7\u5b57\u6bb5\u4e2d\u3002</li> </ul> <p>3.</p> <ul> <li>\u6536\u5230SYNACK\u62a5\u6587\u6bb5\u540e\uff0c\u5ba2\u670d\u7aef\u5206\u914dTCP\u7f13\u5b58\u4e0e\u53d8\u91cf</li> <li> <p>\u5ba2\u6237\u7aef\u4e3b\u673a\u5411\u670d\u52a1\u5668\u53d1\u9001\u4e00\u4e2a\u62a5\u6587\u6bb5</p> </li> <li> <p>\u5c06server_isn + 1 \u4f5c\u4e3a\u786e\u8ba4\u53f7\u5b57\u6bb5</p> </li> <li>SYN\u6bd4\u7279\u7f6e\u4e3a0</li> <li>\u5e8f\u53f7\u5b57\u6bb5\u4e3a client_isn + 1</li> <li>\u53ef\u643a\u5e26\u9700\u8981\u4f20\u8f93\u7684\u6570\u636e</li> </ul>"},{"location":"curriculum_study/TD_net/ch3/#tcp_2","title":"\u62c6\u9664\u4e00\u4e2aTCP\u8fde\u63a5","text":"<p>\u53c2\u4e0eTCP\u8fde\u63a5\u7684\u4e24\u7aef\u90fd\u53ef\u4ee5\u9009\u62e9\u7ec8\u6b62\u8fde\u63a5\u3002</p> <ol> <li> <p>\u5ba2\u6237\u5e94\u7528\u8fdb\u7a0b\u60f3\u8981\u5173\u95ed\u8fde\u63a5\uff0c\u4e8e\u662f\u53d1\u9001\u4e00\u4e2a\u7279\u6b8a\u7684TCP\u62a5\u6587\u6bb5\u3002</p> </li> <li> <p>\u62a5\u6587\u6bb5\u4e2d\u9996\u90e8\u6709\u4e00\u4e2aFIN\u6bd4\u7279\u6807\u8bc6\u4f4d\uff0c\u88ab\u8bbe\u7f6e\u4e3a1</p> </li> <li> <p>\u670d\u52a1\u5668\u6536\u5230\u62a5\u6587\u6bb5\u540e\uff0c\u8fd4\u56de\u4e00\u4e2a\u786e\u8ba4\u62a5\u6587\u6bb5</p> </li> <li> <p>\u670d\u52a1\u5668\u53d1\u9001\u81ea\u5df1\u7684\u7ec8\u6b62\u62a5\u6587\u6bb5</p> </li> <li> <p>\u62a5\u6587\u6bb5\u4e2d\u9996\u90e8\u6709\u4e00\u4e2aFIN\u6bd4\u7279\u6807\u8bc6\u4f4d\uff0c\u88ab\u8bbe\u7f6e\u4e3a1</p> </li> <li> <p>\u5ba2\u6237\u7aef\u5bf9\u7ec8\u6b62\u62a5\u6587\u6bb5\u8fdb\u884c\u786e\u8ba4</p> </li> </ol>"},{"location":"curriculum_study/TD_net/ch3/#36-37","title":"3.6-3.7 \u62e5\u585e\u63a7\u5236","text":"<p>\u8be6\u89c1\u300aRDMA...\u300b\u90a3\u7bc7\u8bba\u6587\u7684\u89e3\u8bfb</p>"},{"location":"curriculum_study/TD_net/ch4/","title":"Chapter4 \u7f51\u7edc\u5c42\uff1a\u6570\u636e\u5e73\u9762","text":"<p>\u7531\u4e8e\u672c\u4eba\u79d1\u7814\u8be6\u505a\u8fd9\u65b9\u9762\uff0c\u672c\u7ae0\u5185\u5bb9\u6574\u7406\u7684\u8f83\u4e3a\u201c\u63d0\u7eb2\u6308\u9886\u201d\uff0c\u66f4\u591a\u8be6\u7ec6\u673a\u5236\u53c2\u89c1\u4e66\u672c</p>"},{"location":"curriculum_study/TD_net/ch4/#1","title":"1\uff09\u5f15\u5165","text":""},{"location":"curriculum_study/TD_net/ch4/#_1","title":"\u57fa\u7840\uff1a","text":"<ul> <li>\u5728\u7f51\u7edc\u4e2d\u7684\u6bcf\u4e00\u53f0\u4e3b\u673a\u548c\u8def\u7531\u5668\u4e2d\u90fd\u6709\u4e00\u4e2a\u7f51\u7edc\u5c42\u90e8\u5206\uff0c\u5b83\u80fd\u88ab\u5206\u4e3a\u4e24\u4e2a\u4e92\u76f8\u4f5c\u7528\u7684\u90e8\u5206\uff1a\u6570\u636e\u5e73\u9762 + \u63a7\u5236\u5e73\u9762</li> <li>\u6570\u636e\u5e73\u9762\u529f\u80fd\uff1a\u51b3\u5b9a\u5230\u8fbe\u8def\u7531\u5668\u8f93\u5165\u94fe\u8def\u4e4b\u4e00\u7684\u6570\u636e\u62a5\uff08\u5373\uff1a\u7f51\u7edc\u5c42\u4e2d\u7684\u5206\u7ec4\uff09\u5982\u4f55\u8f6c\u53d1\u5230\u8be5\u8def\u7531\u5668\u7684\u8f93\u51fa\u94fe\u8def\u4e4b\u4e00</li> <li>\u63a7\u5236\u5e73\u9762\u529f\u80fd\uff1a\u63a7\u5236\u6570\u636e\u62a5\u6cbf\u7740\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u7684\u4e3b\u673a\u7684\u7aef\u5230\u7aef\u8def\u5f84\u7684\u8def\u7531\u5668\u4e4b\u95f4\u7684\u8def\u7531\u65b9\u5f0f</li> <li>\u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc(Software-Defined Network , SDN)\uff1a\u5c06\u8fd9\u4e9b\u63a7\u5236\u5e73\u9762\u7684\u529f\u80fd\u4f5c\u4e3a\u4e00\u79cd\u5355\u72ec\u670d\u52a1\uff0c\u660e\u786e\u5730\u5206\u79bb\u6570\u636e\u5e73\u9762\u548c\u63a7\u5236\u5e73\u9762</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#_2","title":"\u6982\u8ff0\uff1a","text":""},{"location":"curriculum_study/TD_net/ch4/#1_1","title":"\uff081\uff09\u8f6c\u53d1\u548c\u8def\u7531\u9009\u62e9","text":"<ul> <li>\u8f6c\u53d1\uff1a\u5f53\u4e00\u4e2a\u5206\u7ec4\u5230\u8fbe\u67d0\u8def\u7531\u5668\u7684\u4e00\u6761\u8f93\u5165\u94fe\u8def\u65f6\uff0c\u8be5\u8def\u7531\u5668\u5fc5\u987b\u5c06\u8be5\u5206\u7ec4\u79fb\u52a8\u5230\u9002\u5f53\u7684\u8f93\u51fa\u94fe\u8def\u3010\u6570\u636e\u5e73\u9762\u5185\u7684\u552f\u4e00\u529f\u80fd\u3011</li> <li> <p>\u8def\u7531\u9009\u62e9\uff1a\u5f53\u5206\u7ec4\u4ece\u53d1\u9001\u65b9\u6d41\u5411\u63a5\u6536\u65b9\u65f6\uff0c\u7f51\u7edc\u5c42\u5fc5\u987b\u51b3\u5b9a\u8fd9\u4e9b\u5206\u7ec4\u6240\u91c7\u7528\u7684\u8def\u7531or\u8def\u5f84\uff0c\u8ba1\u7b97\u8fd9\u4e9b\u8def\u5f84\u7684\u7b97\u6cd5\u88ab\u79f0\u4e3a\u201c\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u201d(routing algorithm)\u3010\u5728\u63a7\u5236\u5e73\u9762\u5185\u5b9e\u73b0\u3011</p> </li> <li> <p>\u8f6c\u53d1\uff08forwarding\uff09</p> <p>\u662f\u6307\uff1a\u5c06\u4e00\u4e2a\u5206\u7ec4\u4ece\u4e00\u4e2a\u8f93\u5165\u94fe\u8def\u63a5\u53e3 \u8f6c\u79fb\u5230\u9002\u5f53\u7684\u8f93\u51fa\u94fe\u8def\u63a5\u53e3 \u7684==\u8def\u7531\u5668\u672c\u5730\u64cd\u4f5c==\uff0c\u8017\u65f6\u77ed\uff0c\u5e38\u91c7\u7528\u786c\u4ef6\u5b9e\u73b0</p> </li> <li>\u8def\u7531\u9009\u62e9\uff08routing\uff09 <p>\u786e\u5b9a\u5206\u7ec4\u4ece\u6e90\u5230\u76ee\u7684\u5730\u6240\u91c7\u53d6\u7684\u7aef\u5230\u7aef\u8def\u5f84\u7684\u7f51\u7edc\u8303\u56f4\u5904\u7406\u8fc7\u7a0b\uff0c\u65f6\u95f4\u5c3a\u5ea6\u957f\uff0c\u5e38\u91c7\u7528\u8f6f\u4ef6\u5f62\u5f0f</p> </li> <li>\u6bcf\u4e2a\u7f51\u7edc\u8def\u7531\u5668\u4e2d\u90fd\u8574\u542b\u7740\u4e00\u4e2a\u5173\u952e\u5143\u7d20\uff1a\u8f6c\u53d1\u8868(forwarding table) <p>\u8def\u7531\u5668\u68c0\u67e5\u5230\u8fbe\u5206\u7ec4\u9996\u90e8\u7684\u4e00\u4e2a\u6216\u591a\u4e2a\u5b57\u6bb5\u503c\uff0c\u8fdb\u800c==\u4f7f\u7528\u8fd9\u4e9b\u9996\u90e8\u503c\u5728\u5176\u8f6c\u53d1\u8868\u4e2d\u7d22\u5f15(raise ques: \u8f6c\u53d1\u8868\u5982\u4f55\u914d\u7f6e\uff1f\u8be6\u89c1\u4e0b\u6587\uff01)==\uff0c\u8fd9\u4e9b\u503c\u5bf9\u5e94\u7740\u5b58\u50a8\u5728\u8f6c\u53d1\u8868\u9879\u4e2d\u7684\u503c\uff0c\u6307\u51fa\u4e86\u8be5\u5206\u7ec4\u5c06\u88ab\u8f6c\u53d1\u7684\u8def\u7531\u5668\u7684\u8f93\u51fa\u94fe\u8def\u63a5\u53e3</p> </li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#2","title":"\uff082\uff09\u63a7\u5236\u5e73\u9762\u3010\u4f20\u7edf\u65b9\u6cd5\u3011","text":"<ul> <li>\u4e0a\u6587\u5f15\u51fa\u4e86\u95ee\u9898\uff1a\u8f6c\u53d1\u8868\u4e00\u5f00\u59cb\u662f\u5982\u4f55\u914d\u7f6e\u7684\uff1f</li> <li>Ans\uff1a\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u51b3\u5b9a\u4e86\u63d2\u5165\u8be5\u8def\u7531\u5668\u8f6c\u53d1\u8868\u7684\u5185\u5bb9</li> <li>\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u8fd0\u884c\u5728\u6bcf\u53f0\u8def\u7531\u5668\u4e2d\uff0c\u5e76\u4e14\u5728\u6bcf\u53f0\u8def\u7531\u5668\u4e2d\u90fd\u5305\u542b\u8f6c\u53d1 \u548c\u8def\u7531\u9009\u62e9 \u4e24\u79cd\u529f\u80fd</li> <li>\u4e00\u53f0\u8def\u7531\u5668\u4e2d\u7684\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u548c\u5176\u4ed6\u8def\u7531\u5668\u7684\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u5f62\u6210\u201ccommunication\u201d\uff0c\u4ee5\u8ba1\u7b97\u51fa\u5b83\u7684\u8f6c\u53d1\u8868\u7684\u503c</li> <li>\u8fd9\u79cd\u201ccommunication\u201d\u5efa\u7acb\u5728\uff1a\u8def\u7531\u5668\u6839\u636e\u8def\u7531\u9009\u62e9\u534f\u8bae \u4ea4\u6362\u5305\u62ec\u8def\u7531\u9009\u62e9\u4fe1\u606f\u7684\u8def\u7531\u9009\u62e9\u62a5\u6587</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#3sdn","title":"\uff083\uff09\u63a7\u5236\u5e73\u9762\u3010SDN\u65b9\u6cd5\u3011","text":"<ul> <li>\u8f6f\u4ef6\u5b9a\u4e49\u7f51\u7edc\u2014\u2014SDN</li> <li>\u63a7\u5236\u5e73\u9762\u7684\u8def\u7531\u9009\u62e9\u529f\u80fd\u4e0e\u7269\u7406\u7684\u8def\u7531\u5668\u662f\u5206\u79bb\u7684\uff0c\u5373\uff1a\u8def\u7531\u9009\u62e9\u8bbe\u5907\u4ec5\u6267\u884c\u8f6c\u53d1\uff0c\u800c\u8fdc\u7a0b\u63a7\u5236\u5668\u8ba1\u7b97\u5e76\u5206\u53d1\u8f6c\u53d1\u8868</li> <li>\u8fdc\u7a0b\u63a7\u5236\u5668\u53ef\u80fd\u5b9e\u73b0\u5728\u5177\u6709\u9ad8\u53ef\u9760\u6027\u548c\u5197\u4f59\u7684\u8fdc\u7a0b\u6570\u636e\u4e2d\u5fc3\u4e2d\uff0c\u5e76\u53ef\u80fd\u7531ISP\u6216\u7b2c\u4e09\u65b9\u7ba1\u7406</li> <li>\u8def\u7531\u5668\u4e0e\u8fdc\u7a0b\u63a7\u5236\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\uff1a\u901a\u8fc7\u4ea4\u6362\u5305\u542b\u8f6c\u53d1\u8868\u548c\u5176\u4ed6\u8def\u7531\u9009\u62e9\u4fe1\u606f\u7684\u62a5\u6587</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#4network-service-model","title":"\uff084\uff09\u7f51\u7edc\u670d\u52a1\u6a21\u578b(network service model)","text":"<ol> <li>\u5b9a\u4e49\u4e86\u5206\u7ec4\u5728\u53d1\u9001\u548c\u63a5\u6536\u4e3b\u673a\u4e4b\u95f4\u7684\u7aef\u5230\u7aef\u4f20\u8f93\u7279\u6027</li> <li> <p>\u670d\u52a1\u5305\u542b\uff1a</p> <p>[1] \u786e\u4fdd\u4ea4\u4ed8 [2] \u5177\u6709\u65f6\u5ef6\u4e0a\u9650\u7684\u786e\u4fdd\u4ea4\u4ed8 [3] \u6709\u5e8f\u5206\u7ec4\u652f\u4ed8  [4] \u786e\u4fdd\u6700\u5c0f\u5e26\u5bbd [5] \u5b89\u5168\u6027</p> </li> <li> <p>\u4e92\u8054\u7f51\u7684\u7f51\u7edc\u5c42\u63d0\u4f9b\u7684\u662f\u201c\u5c3d\u529b\u800c\u4e3a\u670d\u52a1\u201d(best-effort service)\uff0c\u4e0a\u8ff0\u670d\u52a1\u4e0d\u4e00\u5b9a\u80fd\u6709\u7edd\u5bf9\u7684\u4fdd\u969c\u7387\uff0c\u4f46\u662f\u80af\u5b9a\u4f1a\u5c3d\u6700\u5927\u7684\u529b\u3010\u867d\u7136\u770b\u4e0a\u53bb\u5f88\u4e0d\u9760\u8c31\uff0c\u4f46\u662f\u4e8b\u5b9e\u8bc1\u660e\u5b83\u5df2\u7ecf\u201c\u8db3\u591f\u597d\u201d\u3011</p> </li> </ol>"},{"location":"curriculum_study/TD_net/ch4/#2_1","title":"2\uff09\u8def\u7531\u5668\u5de5\u4f5c\u539f\u7406","text":""},{"location":"curriculum_study/TD_net/ch4/#1_2","title":"1. \u8f93\u5165\u7aef\u53e3\uff1a","text":"<ul> <li>\uff081\uff09\uff1a\u4e0e\u4f4d\u4e8e\u5165\u94fe\u8def\u8fdc\u7aef\u7684\u6570\u636e\u94fe\u8def\u5c42\u4ea4\u4e92\uff0c\u6765\u6267\u884c\u6570\u636e\u94fe\u8def\u5c42\u7684\u529f\u80fd</li> <li>\uff082\uff09\uff1a\u5728\u8f93\u5165\u7aef\u53e3\u6267\u884c\u67e5\u627e \u529f\u80fd\uff0c\u5728\u8fd9\u91cc\u901a\u8fc7\u67e5\u8be2\u8f6c\u53d1\u8868\u51b3\u5b9a\u8def\u7531\u5668\u7684\u8f93\u51fa\u7aef\u53e3\uff0c\u5230\u8fbe\u7684\u5206\u7ec4\u901a\u8fc7\u8def\u7531\u5668\u4ea4\u6362\u7ed3\u6784\u8f6c\u53d1\u5230\u5bf9\u5e94\u7684\u8f93\u51fa\u7aef\u53e3</li> <li>\uff083\uff09\uff1a\u63a7\u5236\u5206\u7ec4(eg\uff1a\u643a\u5e26\u8def\u7531\u9009\u62e9\u534f\u8bae\u4fe1\u606f\u7684\u5206\u7ec4)\u4ece\u8f93\u5165\u7aef\u53e3\u8f6c\u53d1\u5230\u201c\u8def\u7531\u9009\u62e9\u5904\u7406\u5668\u201d\uff0c\u8fdb\u5165\u201c\u63a7\u5236\u5e73\u9762\u201d</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#2_2","title":"2. \u4ea4\u6362\u7ed3\u6784\uff1a","text":"<ul> <li>\u5c06\u8def\u7531\u5668\u7684\u8f93\u5165\u7aef\u53e3\u8fde\u63a5\u5230\u5b83\u7684\u8f93\u51fa\u7aef\u53e3</li> <li>\u67d0\u79cd\u610f\u4e49\u4e0a\uff0c\u5b83\u662f\u7f51\u7edc\u8def\u7531\u5668\u4e2d\u7684\u7f51\u7edc</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#3","title":"3. \u8f93\u51fa\u7aef\u53e3\uff1a","text":"<ul> <li>\u30101\u3011\u5b58\u50a8\u4ece\u63a5\u6536\u4ea4\u6362\u7ed3\u6784\u63a5\u6536\u7684\u5206\u7ec4</li> <li>\u30102\u3011\u901a\u8fc7\u6267\u884c\u5fc5\u8981\u7684\u94fe\u8def\u4e0e\u7269\u7406\u5c42\u529f\u80fd\u5b9e\u73b0\uff1a\u5728\u8f93\u51fa\u94fe\u8def\u4e0a\u4f20\u8f93\u8fd9\u4e9b\u5206\u7ec4</li> <li>ps\uff1a\u5f53\u4e00\u6761\u94fe\u8def\u662f\u53cc\u5411\u7684\uff08\u5373\uff1a\u627f\u8f7d\u4e24\u4e2a\u65b9\u5411\u4e0a\u7684\u6d41\u91cf\uff09\u65f6\uff0c\u8f93\u51fa\u7aef\u53e3\u4e0e\u8f93\u5165\u7aef\u53e3\u6210\u5bf9\u51fa\u73b0\u5728\u540c\u4e00\u7ebf\u8def\u5361\u4e0a</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#4","title":"4. \u8def\u7531\u9009\u62e9\u5904\u7406\u5668\uff1a","text":"<ul> <li>\u6267\u884c\u63a7\u5236\u5e73\u9762\u7684\u529f\u80fd</li> <li>\u5728\u4f20\u7edf\u7684\u8def\u7531\u5668\u4e2d\uff1a1. \u6267\u884c\u8def\u7531\u9009\u62e9\u534f\u8bae\uff1b2. \u7ef4\u62a4\u8def\u7531\u4fe1\u606f\u8868\u4e0e\u5173\u8054\u94fe\u8def\u72b6\u6001\u4fe1\u606f\uff1b\uff083\uff09\u4e3a\u8be5\u8def\u7531\u5668\u8ba1\u7b97\u8f6c\u53d1\u8868</li> <li>\u5728SDN\u4e2d\uff1a\u8d1f\u8d23\u4e0e\u8fdc\u7a0b\u63a7\u5236\u5668communicate\uff0c\u76ee\u7684\u662f\u63a5\u6536\u7531\u8fdc\u7a0b\u63a7\u5236\u5668\u8ba1\u7b97\u7684\u8f6c\u53d1\u8868\u9879\uff1b\u5e76\u5728\u8f93\u5165\u7aef\u53e3\u5b89\u88c5\u8fd9\u4e9b\u8868\u9879</li> <li>\u8fd8\u4f1a\u6267\u884c\u4e00\u4e9b\u57fa\u672c\u7684\u201c\u7f51\u7edc\u7ba1\u7406\u201d\u529f\u80fd</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#3ipv4ipv6","title":"3\uff09\u7f51\u9645\u534f\u8bae\uff1aIPv4\u3001\u5bfb\u5740\u3001IPv6\u53ca\u5176\u4ed6","text":"<ul> <li>[ ] IPv4\u7684\u6570\u636e\u62a5\u683c\u5f0f\uff1a\u7279\u522b\u7ec6\u8282\uff0c\u6b64\u5904\u7565\uff0c\u8be6\u89c1\u539f\u4e66</li> <li>[ ] IPv4\u7f16\u5740\uff1a\u7279\u522b\u7ec6\u8282\uff0c\u6b64\u5904\u7565\uff0c\u8be6\u89c1\u539f\u4e66</li> <li>[ ] \u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff1a\u7f51\u7edc\u5730\u5740\u8f6c\u6362\u673a\u5236(Network Address Translation\uff0cNAT)\uff1bNAT\u8f6c\u6362\u8868</li> <li>[ ] IPv6\u7684\u6570\u636e\u62a5\u683c\u5f0f\uff1a\u8be6\u89c1\u539f\u4e66</li> <li>[ ] IPv4-&gt;IPv6\u7684\u8fc1\u79fb\u8fc7\u7a0b\uff1a[1] \u201c\u6807\u5fd7\u65e5\u201d\uff1b[2] \u5efa\u96a7\u9053(tunneling)\u673a\u5236\uff1a\u5f88\u795e\u5947\u7684\u201c\u6697\u6e21\u9648\u4ed3\u201d\u673a\u5236\ud83e\udd23\ud83e\udd21</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#4sdn","title":"4\uff09\u6cdb\u5316\u8f6c\u53d1\u4e0eSDN","text":""},{"location":"curriculum_study/TD_net/ch4/#1_3","title":"1. \u4e4b\u524d\u4ecb\u7ecd\u7684\u8def\u7531\u5668\u662f\u57fa\u4e8e\u76ee\u7684\u5730\u8f6c\u53d1\uff1a","text":"<ul> <li>step1\uff1a\u67e5\u627e\u76ee\u7684IP\u5730\u5740(\"\u5339\u914d\")</li> <li>step2\uff1a\u5c06\u5206\u7ec4\u53d1\u9001\u5230\u6709\u7279\u5b9a\u8f93\u51fa\u7aef\u53e3\u7684\u4ea4\u6362\u7ed3\u6784(\"\u64cd\u4f5c\")</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#2_3","title":"2. \u6211\u4eec\u73b0\u5728\u8003\u8651\u201c\u5339\u914d+\u64cd\u4f5c\u201d\u7684\u683c\u5f0f\uff1a","text":"<ul> <li>\u5339\u914d\u4e0e\u8f6c\u53d1\u8868called\uff1a\u6d41\u8868\uff08flow table\uff09</li> <li>\u6d41\u8868\uff1a\u63a8\u5e7f\u4e86\u4e4b\u524d\u63d0\u5230\u7684\u57fa\u4e8e\u76ee\u7684\u5730\u7684\u8f6c\u53d1\u8868\u7684concept\uff0c\u7531\u4e8e\u8f6c\u53d1\u7b56\u7565\u53ef\u80fd\u4f7f\u7528\u7f51\u7edc\u5c42/\u94fe\u8def\u5c42\u6e90\u5730\u5740\u4e0e\u76ee\u6807\u5730\u5740\uff0c\u56e0\u6b64\u6b64\u65f6\u7684\u8f6c\u53d1\u8bbe\u5907\u517c\u5177\u4e86\u7b2c\u4e8c\u5c42\u201c\u4ea4\u6362\u673a\u201d\u4e0e\u7b2c\u4e09\u5c42\u201c\u8def\u7531\u5668\u201d\u7684\u7279\u6027\uff0c\u6211\u4eec\u4eca\u540e\u7edf\u79f0\u5b83\u4e3a\u201c\u5206\u7ec4\u4ea4\u6362\u673a\u201d</li> <li>\u6bcf\u53f0\u5206\u7ec4\u4ea4\u6362\u673a\u4e2d\u6709\u4e00\u5f20\u5339\u914d\u4e0e\u8f6c\u53d1\u8868(\u5373\uff1a\u6d41\u8868\uff0cflow table)\uff0c\u8be5\u8868\u7531\u8fdc\u7a0b\u63a7\u5236\u5668\u8ba1\u7b97\u3001\u5b89\u88c5\u3001\u66f4\u65b0</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#3_1","title":"3. \u5339\u914d\uff1a","text":""},{"location":"curriculum_study/TD_net/ch4/#key","title":"key\uff01","text":"<ul> <li>\u6e90\u548c\u76ee\u7684MAC\u5730\u5740\u662f\u4e0e\u5e27\u7684\u53d1\u9001\u548c\u63a5\u6536\u63a5\u53e3\u76f8\u5173\u8054\u7684\u94fe\u8def\u5c42\u5730\u5740</li> <li>\u901a\u8fc7\u57fa\u4e8e\u4ee5\u592a\u7f51\u5730\u5740\u800c\u4e0d\u662fIP\u5730\u5740\u8fdb\u884c\u8f6c\u53d1</li> <li>\u5f88\u663e\u7136\uff1a\u6b64\u8bbe\u5907\u7b49\u4ef7\u4e8e\u8def\u7531\u5668(layer3 device)\u8f6c\u53d1\u6570\u636e\u62a5 + \u4ea4\u6362\u673a(layer2 device)\u8f6c\u53d1\u5e27 </li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#general","title":"general\uff1a","text":"<ul> <li>\u5165\u7aef\u53e3\u662f\u6307\u5206\u7ec4\u4ea4\u6362\u673a\u4e0a\u63a5\u6536\u5206\u7ec4\u7684\u8f93\u5165\u7aef\u53e3</li> <li>\u6d41\u8868\u9879 \u4e5f\u53ef\u4ee5\u6709\u901a\u914d\u7b26\uff1a\u4f8b\u5982\u4e00\u4e2a\u6d41\u8868\u4e2d\u7684\u5730\u5740\u4e3a128.119.*\uff0c*\u5c06\u5339\u914d\u5176\u5730\u5740\u7684\u524d16bit\u4e3a128.119\u7684\u4efb\u4f55\u6570\u636e\u62a5\u6240\u5bf9\u5e94\u7684\u5730\u5740\u5b57\u6bb5\uff1b</li> <li>\u6bcf\u4e2a\u6d41\u8868\u9879 \u4e5f\u5177\u6709\u76f8\u5e94\u7684\u4f18\u5148\u6743\uff0c\u5982\u679c\u4e00\u4e2a\u5206\u7ec4\u5339\u914d\u591a\u4e2a\u6d41\u8868\u9879\uff0c\u9009\u5b9a\u7684\u5339\u914d\u548c\u5bf9\u5e94\u7684\u64cd\u4f5c\u5c06\u662f\u5176\u4e2d\u6709\u6700\u9ad8\u4f18\u5148\u6743\u7684\u90a3\u4e2a</li> </ul>"},{"location":"curriculum_study/TD_net/ch4/#4_1","title":"4. \u64cd\u4f5c\uff1a","text":"<p>\u6bcf\u4e2a\u6d41\u8868\u9879\u90fd\u67090\u4e2a\u6216\u591a\u4e2a\u64cd\u4f5c\u5217\u8868\uff0c\u5982\u6709\u591a\u4e2a\u5219\u6309\u7167\u5728\u8868\u4e2d\u89c4\u5b9a\u7684\u6b21\u5e8f\u6267\u884c</p>"},{"location":"curriculum_study/TD_net/ch4/#1_4","title":"1\uff09\u8f6c\u53d1\uff1a\u5bf9\u4e8e\u4e00\u4e2a\u5165\u5206\u7ec4\u800c\u8a00","text":"<p>[1] \u8f6c\u53d1\u5230\u4e00\u4e2a\u7279\u5b9a\u7684\u7269\u7406\u8f93\u51fa\u7aef\u53e3 [2] \u5e7f\u64ad\u5230\u6240\u6709\u7aef\u53e3 [3] \u901a\u8fc7\u6240\u9009\u7684\u7aef\u53e3\u96c6\u5408\u8fdb\u884c\u591a\u64ad [4] \u8be5\u5206\u7ec4\u53ef\u80fd\u88ab\u5c01\u88c5\u5e76\u53d1\u9001\u5230\u8be5\u8bbe\u5907\u7684\u8fdc\u7a0b\u63a7\u5236\u5668\uff0c\u8be5\u63a7\u5236\u5668may(also may not)\u5bf9\u5206\u7ec4\u91c7\u53d6\u67d0\u4e9b\u64cd\u4f5c</p>"},{"location":"curriculum_study/TD_net/ch4/#2_4","title":"2\uff09\u4e22\u5f03\uff1a","text":"<p>\u6ca1\u6709\u64cd\u4f5c\u7684\u6d41\u8868\u9879\u8868\u660e\u67d0\u4e2a\u5339\u914d\u7684\u5206\u7ec4\u5e94\u5f53\u88ab\u4e22\u5f03(discard)</p>"},{"location":"curriculum_study/TD_net/ch4/#3_2","title":"3\uff09\u4fee\u6539\u5b57\u6bb5\uff1a","text":"<p>\u5728\u5206\u7ec4\u88ab\u8f6c\u53d1\u5230\u6240\u9009\u7684\u8f93\u51fa\u7aef\u53e3\u4e4b\u524d\uff0c\u5206\u7ec4\u9996\u90e810\u4e2a\u5b57\u6bb5\u4e2d\u7684\u503c\u53ef\u4ee5\u91cd\u5199</p>"},{"location":"curriculum_study/TD_net/ch5/","title":"Chapter5 \u7f51\u7edc\u5c42\uff1a\u63a7\u5236\u5e73\u9762","text":""},{"location":"curriculum_study/TD_net/ch5/#1","title":"1\uff09\u6982\u8ff0","text":""},{"location":"curriculum_study/TD_net/ch5/#_1","title":"\u63a7\u5236\u5e73\u9762","text":"<p>\u4e00\u79cd\u7f51\u7edc\u8303\u56f4\u7684\u903b\u8f91\uff0c\u4e0d\u4ec5\u63a7\u5236\u6cbf\u7740\u4ece\u6e90\u4e3b\u673a\u5230\u76ee\u7684\u4e3b\u673a\u7684\u7aef\u5230\u7aef\u8def\u5f84\u95f4\u8def\u7531\u5668\u5982\u4f55\u8f6c\u53d1\u6570\u636e\u62a5\uff0c\u800c\u4e14\u63a7\u5236\u7f51\u7edc\u5c42\u7ec4\u4ef6\u548c\u670d\u52a1\u5982\u4f55\u914d\u7f6e\u4e0e\u7ba1\u7406</p>"},{"location":"curriculum_study/TD_net/ch5/#_2","title":"\u8f6c\u53d1\u8868(\u57fa\u4e8e\u76ee\u7684\u5730\u8f6c\u53d1\u7684\u573a\u666f)\u4e0e\u6d41\u8868(\u5728\u6cdb\u5316\u8f6c\u53d1\u7684\u573a\u666f)\u5982\u4f55\u8ba1\u7b97/\u7ef4\u62a4/\u5b89\u88c5","text":""},{"location":"curriculum_study/TD_net/ch5/#1_1","title":"\uff081\uff09\u6bcf\u8def\u7531\u5668\u63a7\u5236\uff1a","text":"<ol> <li>\u6bcf\u53f0\u8def\u7531\u5668\u90fd\u5305\u542b\u8f6c\u53d1\u4e0e\u8def\u7531\u9009\u62e9\u529f\u80fd\uff1b</li> <li>\u6bcf\u53f0\u8def\u7531\u5668\u90fd\u6709\u4e00\u4e2a\u8def\u7531\u9009\u62e9\u7ec4\u4ef6\uff0c\u7528\u4e8e\u548c\u5176\u4ed6\u8def\u7531\u5668\u4e2d\u7684\u8def\u7531\u9009\u62e9\u7ec4\u4ef6\u901a\u4fe1\uff0c\u4ee5\u8ba1\u7b97\u5176\u8f6c\u53d1\u8868\u7684\u503c\uff1b</li> <li>OSPF\u534f\u8bae \u4e0e BGP\u534f\u8bae \u90fd\u662f\u57fa\u4e8e\u6b64\u65b9\u6cd5\u8fdb\u884c\u63a7\u5236\u7684</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#2","title":"\uff082\uff09\u903b\u8f91\u96c6\u4e2d\u5f0f\u63a7\u5236\uff1a","text":"<ol> <li>\u6cdb\u5316\u7684\u201c\u5339\u914d+\u64cd\u4f5c\u201d\u62bd\u8c61\u5141\u8bb8\u6267\u884c\u4f20\u7edf\u7684IP\u8f6c\u53d1\u4ee5\u53ca\u5176\u4ed6\u529f\u80fd\uff1b</li> <li>\u8be5\u63a7\u5236\u5668\u7ecf\u4e00\u79cd\u5b9a\u4e49\u826f\u597d\u7684\u534f\u8bae\u4e0e\u6bcf\u53f0\u8def\u7531\u5668\u4e2d\u7684\u4e00\u4e2a\u63a7\u5236\u4ee3\u7406 (Control-Agent , CA) \u8fdb\u884c\u4ea4\u4e92\uff0c\u4ee5\u914d\u7f6e/\u7ba1\u7406\u8be5\u8def\u7531\u5668\u7684\u8f6c\u53d1\u8868\uff1b</li> <li>CA\u7684\u4efb\u52a1\u5f88\u7b80\u5355\uff0c\u5c31\u662f\u4e0e\u63a7\u5236\u5668\u8fdb\u884c\u901a\u4fe1\u5e76\u4e14\u6309\u63a7\u5236\u5668\u7684\u547d\u4ee4\u884c\u4e8b</li> <li>\u8fd9\u4e9bCA\u65e2\u4e0d\u80fd\u76f4\u63a5\u76f8\u4e92\u4ea4\u4e92\uff0c\u4e5f\u4e0d\u80fd\u4e3b\u52a8\u53c2\u4e0e\u8ba1\u7b97\u8f6c\u53d1\u8868 \u2014\u2014\uff08\u5b83\u5c31\u662f\u63a7\u5236\u5668\u5c0f\u59d0\u7684\ud83d\udc36\uff0c\ud83e\udd21\uff09</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#2routing-algorithm","title":"2\uff09\u8def\u7531\u9009\u62e9\u7b97\u6cd5(routing algorithm)","text":""},{"location":"curriculum_study/TD_net/ch5/#1_2","title":"\uff081\uff09\u7b80\u4ecb\uff1a","text":"<ul> <li>\u76ee\u7684\u662f\u4ece\u53d1\u9001\u65b9\u5230\u63a5\u6536\u65b9\u7684\u8fc7\u7a0b\u4e2d\u9009\u62e9\u4e00\u6761\u901a\u8fc7\u8def\u7531\u5668\u7f51\u7edc\u7684\u597d\u7684\u8def\u5f84( &lt;=&gt; \u8def\u7531 )</li> <li>Generally\uff0c\u4e00\u6761\u597d\u7684\u8def\u5f84\u6307\uff1a\u5177\u6709\u6700\u4f4e\u5f00\u9500\u7684\u8def\u5f84</li> <li>\u6709\u4e00\u6761\u201c\u754c\u9650\u611f\u201d\u89c4\u5219\uff1a\u5c5e\u4e8e\u7ec4\u7ec7Y\u7684\u8def\u7531\u5668x\u4e0d\u5e94\u8be5\u8f6c\u53d1\u4efb\u4f55\u6765\u6e90\u4e8e\u7ec4\u7ec7Z\u6240\u5c5e\u7f51\u7edc\u7684\u5206\u7ec4</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#2_1","title":"\uff082\uff09\u5206\u7c7b\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#1_3","title":"\u30101\u3011\u6309\u7167\u96c6\u4e2d\u5f0f\u548c\u5206\u6563\u5f0f\u6765\u5212\u5206","text":""},{"location":"curriculum_study/TD_net/ch5/#centralized-routing-algorithm","title":"\u96c6\u4e2d\u5f0f\u8def\u7531\u9009\u62e9\u7b97\u6cd5(centralized routing algorithm)\uff1a","text":"<p>[1] \u7528\u5b8c\u6574\u6027\u7684\u3001\u5168\u5c40\u6027\u7684\u7f51\u7edc\u77e5\u8bc6\u8ba1\u7b97\u51fa\u4ece\u6e90\u5230\u76ee\u7684\u5730\u4e4b\u95f4\u7684\u6700\u4f4e\u5f00\u9500\u8def\u5f84; [2] \u8981\u6c42\u7b97\u6cd5\u5728\u5f00\u59cb\u524d\uff0c\u8981\u4ee5\u67d0\u79cd\u9884\u5904\u7406\u83b7\u5f97\u6574\u4f53\u7f51\u7edc\u5e03\u5c40\u7684\u4fe1\u606f; called\uff1a\u94fe\u8def\u72b6\u6001\u7b97\u6cd5(Link State, LS)\uff0c\u56e0\u4e3a\u8be5\u7b97\u6cd5\u5fc5\u987b\u8981\u77e5\u9053\u7f51\u7edc\u4e2d\u7684\u6bcf\u6761\u94fe\u8def\u7684\u5f00\u9500</p>"},{"location":"curriculum_study/TD_net/ch5/#decentralized-routing-algorithm","title":"\u5206\u6563\u5f0f\u8def\u7531\u9009\u62e9\u7b97\u6cd5(decentralized routing algorithm)\uff1a","text":"<p>[1] \u6ca1\u6709\u8282\u70b9\u62e5\u6709\u6574\u4e2a\u7f51\u7edc\u94fe\u8def\u5f00\u9500\u7684\u5b8c\u6574\u4fe1\u606f; [2] \u6bcf\u4e2a\u8282\u70b9\u4ec5\u6709\u4e0e\u5176\u76f4\u63a5\u76f8\u8fde\u94fe\u8def\u7684\u5f00\u9500\u77e5\u8bc6\u5373\u53ef\u5f00\u59cb\u5de5\u4f5c; [3] \u7136\u540e\u901a\u8fc7\u8fed\u4ee3\u8ba1\u7b97\u8fc7\u7a0b\u4ee5\u53ca\u4e0e\u76f8\u90bb\u8282\u70b9\u7684\u4fe1\u606f\u4ea4\u6362\uff0c\u4e00\u4e2a\u8282\u70b9\u5f00\u59cb\u9010\u6e10\u8ba1\u7b97\u51fa\u5230\u8fbe\u67d0\u76ee\u7684\u8282\u70b9or\u4e00\u7ec4\u76ee\u7684\u8282\u70b9\u7fa4\u7684\u6700\u4f4e\u5f00\u9500\u8def\u5f84 called\uff1a\u8ddd\u79bb\u5411\u91cf\u7b97\u6cd5(Distance-Vector, DV)</p>"},{"location":"curriculum_study/TD_net/ch5/#2or","title":"\u30102\u3011\u6309\u7167\u7b97\u6cd5\u662f\u9759\u6001\u7684or\u52a8\u6001\u7684\u6765\u5212\u5206","text":""},{"location":"curriculum_study/TD_net/ch5/#static-routing-algorithm","title":"\u9759\u6001\u8def\u7531\u9009\u62e9\u7b97\u6cd5(static routing algorithm)\uff1a","text":"<p>\u8def\u7531\u968f\u65f6\u95f4\u53d8\u5316\u975e\u5e38\u7f13\u6162\uff0c\u5e38\u662f\u4eba\u5de5\u8fdb\u884c\u8c03\u6574</p>"},{"location":"curriculum_study/TD_net/ch5/#dynamic-routing-algorithm","title":"\u52a8\u6001\u8def\u7531\u9009\u62e9\u7b97\u6cd5(dynamic routing algorithm)\uff1a","text":"<p>\u968f\u7740\u7f51\u7edc\u8d1f\u8f7d/\u62d3\u6251\u7ed3\u6784\u53d1\u751f\u53d8\u5316\u800c\u6539\u53d8\u8def\u7531\u9009\u62e9\u8def\u5f84</p> <ul> <li>ps\uff1a\u867d\u7136\u52a8\u6001\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u6613\u4e8e\u5bf9\u7f51\u7edc\u7684\u53d8\u5316\u4f5c\u51fa\u53cd\u5e94\uff0c\u4f46\u4e5f\u5bb9\u6613\u53d7\u5230\u8bf8\u5982 \u8def\u7531\u9009\u62e9\u5faa\u73af or \u8def\u7531\u632f\u8361 \u4e4b\u7c7b\u7684\u95ee\u9898</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#3or","title":"\u30103\u3011\u6309\u7167\u662f\u8d1f\u8f7d\u654f\u611f\u7684or\u8d1f\u8f7d\u8fdf\u949d\u7684\u8fdb\u884c\u5212\u5206\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#load-sensitive-routing-algorithm","title":"\u8d1f\u8f7d\u654f\u611f\u7b97\u6cd5(load-sensitive routing algorithm)\uff1a","text":"<ol> <li>\u94fe\u8def\u5f00\u9500\u4f1a\u52a8\u6001\u5730\u53d8\u5316\u4ee5\u53cd\u6620\u51fa\u5e95\u5c42\u94fe\u8def\u7684\u5f53\u524d\u62e5\u585e\u6c34\u5e73\uff1b</li> <li>\u5982\u679c\u62e5\u585e\u7684\u4e00\u6761\u94fe\u8def\u4e0e\u9ad8\u5f00\u9500\u76f8\u8054\u7cfb\uff0c\u5219\u8def\u7531\u9009\u62e9\u7b97\u6cd5\u8d8b\u5411\u4e8e\u7ed5\u5f00\u8be5\u62e5\u585e\u94fe\u8def\u6765\u9009\u62e9\u8def\u7531</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#load-insensitive-routing-algorithm","title":"\u8d1f\u8f7d\u8fdf\u949d\u7b97\u6cd5(load-insensitive routing algorithm)\uff1a","text":"<p>\u5f53\u4eca\u7684internet\u8def\u7531\u9009\u62e9\u7b97\u6cd5\uff08\u6bd4\u5982OSPF\u4e0eBGP\uff09\u90fd\u662f\u8d1f\u8f7d\u8fdf\u949d\u7684\uff0c\u56e0\u4e3a\u67d0\u6761\u94fe\u8def\u7684\u5f00\u9500\u5e76\u4e0d\u660e\u786e\u5730\u53cd\u6620\u5176\u5f53\u524d(or \u6700\u8fd1)\u7684\u62e5\u585e\u6c34\u5e73</p>"},{"location":"curriculum_study/TD_net/ch5/#_3","title":"\u4e0a\u8ff0\u7b97\u6cd5\u7684\u5177\u4f53\u673a\u7406\u7565\uff0c\u8be6\u89c1\u539f\u4e66\uff01","text":""},{"location":"curriculum_study/TD_net/ch5/#3ospf","title":"3\uff09\u56e0\u7279\u7f51\u4e2d\u81ea\u6cbb\u7cfb\u7edf\u5185\u90e8\u7684\u8def\u7531\u9009\u62e9\uff1aOSPF","text":""},{"location":"curriculum_study/TD_net/ch5/#1_4","title":"1. \u5f15\u5165\uff1a","text":"<p>\u5f53\u524d\u4e92\u8054\u7f51\u8def\u7531\u5668\u96c6\u5408\u9762\u4e34\u4e24\u4e2a\u91cd\u8981\u95ee\u9898\uff1a - \u89c4\u6a21 - \u7ba1\u7406\u81ea\u6cbb</p> <ul> <li>[1] \u8fd9\u4e24\u4e2a\u95ee\u9898\u90fd\u53ef\u4ee5\u901a\u8fc7\u5c06\u8def\u7531\u5668\u7ec4\u7ec7\u8fdb \u81ea\u6cbb\u7cfb\u7edf(Autonomous System, AS) \u6765\u89e3\u51b3\uff0c\u5176\u4e2d\u6bcf\u4e2aAS\u7531\u4e00\u7ec4\u901a\u5e38\u5904\u5728\u76f8\u540c\u7ba1\u7406\u4e0b\u7684\u8def\u7531\u5668\u7ec4\u6210</li> <li>[2] Generally\uff1a\u5728\u4e00\u4e2aISP\u4e2d\u7684\u8def\u7531\u5668\u4ee5\u53ca\u4e92\u8054\u5b83\u4eec\u7684\u94fe\u8def\u6784\u6210\u4e00\u4e2aAS</li> <li>[3] But\uff1a\u4e5f\u5b58\u5728\u67d0\u4e9bISP\uff08\u901a\u5e38\u662f\u5de8\u65e0\u9738\u4e00\u7ea7ISP\uff09\u5c06\u5b83\u4eec\u7684\u7f51\u7edc\u5212\u5206\u4e3a\u591a\u4e2aAS</li> <li>[4] \u4e00\u4e2a\u81ea\u6cbb\u7cfb\u7edf\u7531\u5176\u5168\u5c40\u552f\u4e00\u7684 AS\u53f7(ASN) \u6240\u6807\u8bc6\uff0c\u5c31\u50cfIP\u5730\u5740\u90a3\u6837\uff0cASN\u7531ICANN\u533a\u57df\u6ce8\u518c\u673a\u6784\u6240\u5206\u914d</li> <li>[5] \u5728\u76f8\u540c\u7684AS\u4e2d\u7684\u8def\u7531\u5668\u90fd \u8fd0\u884c\u76f8\u540c\u7684\u8def\u7531\u9009\u62e9\u7b97\u6cd5 \u5e76 \u542b\u6709\u5f7c\u6b64\u7684\u4fe1\u606f</li> <li>[6] \u5728\u4e00\u4e2a==\u81ea\u6cbb\u7cfb\u7edf\u5185\u8fd0\u884c==\u7684routing algorithm\u53eb\u4f5c\uff1a\u81ea\u6cbb\u7cfb\u7edf\u5185\u90e8\u8def\u7531\u9009\u62e9\u534f\u8bae(intra-autonomous system routing algorithm)</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#2-ospf","title":"2. \u5f00\u653e\u6700\u77ed\u8def\u4f18\u5148\uff08OSPF\uff09","text":"<ol> <li>\u5168\u79f0\uff1aOpen Shortest Path First\uff08\u5f00\u653e\u6700\u77ed\u8def\u5f84\u4f18\u5148\uff09</li> <li>OSPF\u662f\u4e00\u79cd\u94fe\u8def\u72b6\u6001\u8def\u7531\u534f\u8bae\uff0c\u5b83\u4f7f\u7528==Dijkstra\u7b97\u6cd5==\u6765\u8ba1\u7b97\u6700\u77ed\u8def\u5f84\uff0c\u4ece\u800c\u786e\u5b9a\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u7684\u4f20\u8f93\u8def\u5f84</li> <li> <p>\u5404\u6761\u94fe\u8def\u7684\u5f00\u9500\u662f\u7531\u7f51\u7edc\u7ba1\u7406\u5458\u8fdb\u884c\u914d\u7f6e\u7684\uff1a</p> <ul> <li>\u5982\u679c\u5c06\u6240\u6709\u94fe\u8def\u5f00\u9500\u914d\u7f6e\u62101\uff0c\u53ef\u4ee5\u5b9e\u73b0\u6700\u5c0f\u8df3\u6570\u7684\u8def\u7531\u9009\u62e9;</li> <li>\u5982\u679c\u5c06\u94fe\u8def\u6743\u503c\u6309\u4e0e\u94fe\u8def\u5bb9\u91cf\u6210\u53cd\u6bd4\u6765\u914d\u7f6e\uff0c\u53ef\u4ee5\u5b9e\u73b0\u4e0d\u9f13\u52b1\u6d41\u91cf\u4f7f\u7528\u4f4e\u5bbd\u5e26\u94fe\u8def</li> </ul> </li> <li> <p>\u4f7f\u7528OSPF\u65f6\uff0c\u8def\u7531\u5668\u5411\u81ea\u6cbb\u7cfb\u7edf\u5185\u7684==\u6240\u6709==\u5176\u4ed6\u8def\u7531\u5668 \u5e7f\u64ad\u8def\u7531\u9009\u62e9\u4fe1\u606f\uff0c\u800c\u4e0d\u4ec5\u4ec5\u662f\u5411\u5176\u76f8\u90bb\u8def\u7531\u5668 \u5e7f\u64ad</p> </li> <li>\u66f4\u65b0\u4e0e\u81ea\u66f4\u65b0\uff1a <ul> <li>\u6bcf\u5f53\u4e00\u6761\u94fe\u8def\u7684\u72b6\u6001\u53d1\u751f\u53d8\u5316\u65f6(eg:\u5f00\u9500\u53d8\u5316/\u8fde\u63a5or\u4e2d\u65ad\u72b6\u6001\u53d8\u5316)\uff0c\u8def\u7531\u5668\u5c31\u4f1a\u5e7f\u64ad\u94fe\u8def\u72b6\u6001\u4fe1</li> <li>\u5373\u4f7f\u94fe\u8def\u72b6\u6001\u6ca1\u53d1\u751f\u53d8\u5316\uff0c\u5b83\u4e5f\u8981\u5468\u671f\u6027\u5730(min duration: 30min)\u5e7f\u64ad\u94fe\u8def\u72b6\u6001</li> </ul> </li> <li>OSPF\u4f18\u70b9\uff1a</li> <li>\u5b89\u5168</li> <li>\u591a\u6761\u76f8\u540c\u5f00\u9500\u7684\u8def\u5f84</li> <li>\u5bf9\u5355\u64ad\u548c\u591a\u64ad\u8def\u7531\u9009\u62e9\u63d0\u4f9b\u7efc\u5408\u652f\u6301</li> <li>\u652f\u6301\u5728\u5355\u4e2aAS\u4e2d\u7684\u5c42\u6b21\u7ed3\u6784</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#4ispbgp","title":"4\uff09ISP\u4e4b\u95f4\u7684\u8def\u7531\u9009\u62e9\uff1aBGP","text":""},{"location":"curriculum_study/TD_net/ch5/#1-bgp","title":"[1] BGP\u7684\u5f15\u5165\uff1a","text":"<ol> <li>ISP\uff1a\u4e92\u8054\u7f51\u670d\u52a1\u63d0\u4f9b\u5546\uff08Internet Service Provider\uff0cISP\uff09</li> <li>BGP\uff1a\u8fb9\u754c\u7f51\u5173\u534f\u8bae\uff08Border Gateway Protocol\uff0cBGP\uff09</li> <li>\u5f15\u5165\uff1a <ul> <li>\u521a\u521a\u8c08\u5230\u7684OSPF\u662f\u4e00\u4e2aAS\u5185\u90e8\u7684\u8def\u7531\u9009\u62e9\u534f\u8bae\uff0c\u5f53\u5728\u76f8\u540c\u7684AS\u5185\u5bf9\u6e90\u548c\u76ee\u7684\u5730\u4e4b\u95f4\u8fdb\u884c\u5206\u7ec4\u9009\u8def\u5f84\u65f6\uff0c\u5206\u7ec4\u9075\u5faa\u7684\u8def\u5f84\u5b8c\u5168\u7531AS\u5185\u8def\u7531\u9009\u62e9\u534f\u8bae\u6240\u51b3\u5b9a</li> <li>But\uff01\u5f53\u5206\u7ec4==\u8de8\u8d8a\u591a\u4e2aAS==\u8fdb\u884c\u8def\u7531\u65f6\uff0c\u5c31\u9700\u8981\u4e00\u4e2a\u81ea\u6cbb\u7cfb\u7edf\u95f4\u8def\u7531\u9009\u62e9\u534f\u8bae(inter-autonomous system routing protocol)</li> </ul> </li> <li>\u663e\u7136AS\u95f4\u8def\u7531\u9009\u62e9\u534f\u8bae\u6d89\u53ca\u591a\u4e2aAS\u4e4b\u95f4\u7684\u534f\u8c03\uff0c\u6240\u4ee5==AS\u901a\u4fe1\u5fc5\u987b\u8fd0\u884c\u76f8\u540c\u7684AS\u95f4\u8def\u7531\u9009\u62e9\u534f\u8bae==</li> <li>\u5728\u56e0\u7279\u7f51\u4e2d\uff0c\u6240\u6709\u7684AS\u8fd0\u884c\u76f8\u540c\u7684AS\u95f4\u8def\u7531\u9009\u62e9\u534f\u8bae\uff0c\u79f0\u4e3a\u8fb9\u754c\u7f51\u5173\u534f\u8bae(BGP)</li> <li>\u5f88\u663e\u7136\uff0cBGP\u4f5c\u4e3a\u201c\u80f6\u6c34\u201d\uff0c\u5c06\u6210\u5343\u4e0a\u4e07\u7684ISP\u201c\u7c98\u5408\u201d\u5728\u4e00\u8d77\uff01</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#2-bgp","title":"[2] BGP\u7684\u4f5c\u7528\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#bgp","title":"BGP\u5f62\u5f0f","text":"<ol> <li>review\uff1a\u8003\u8651\u4e00\u4e2aAS\u548c\u8be5AS\u5185\u7684\u4efb\u4e00\u8def\u7531\u5668\uff0c\u6bcf\u53f0\u8def\u7531\u5668\u90fd\u5177\u6709\u4e00\u5f20\u8f6c\u53d1\u8868\uff0c\u8be5\u8f6c\u53d1\u8868\u5728\u5c06\u5230\u8fbe\u5206\u7ec4\u8f6c\u53d1\u5230\u8def\u7531\u5668\u94fe\u8def\u7684\u8fc7\u7a0b\u4e2d\u8d77\u7740\u91cd\u8981\u4f5c\u7528\uff1b\u5bf9\u4e8e\u4f4d\u4e8e\u76f8\u540c\u7684AS\u4e2d\u7684\u76ee\u7684\u5730\u800c\u8a00\uff0c\u5728\u8def\u7531\u5668\u8f6c\u53d1\u8868\u4e2d\u7684\u8868\u9879\u7531AS\u5185\u90e8\u8def\u7531\u9009\u62e9\u534f\u8bae\u51b3\u5b9a</li> <li>\u5728BGP\u4e2d\uff0c\u5206\u7ec4\u5e76\u4e0d\u662f\u8def\u7531\u5230\u4e00\u4e2a\u7279\u5b9a\u7684\u76ee\u7684\u5730\u5740\uff0c\u800c\u662f\u8def\u7531\u5230CIDR\u5316\u7684\u524d\u7f00\uff0c\u5176\u4e2d\u6bcf\u4e2a\u524d\u7f00\u8868\u793a\u4e00\u4e2a\u5b50\u7f51or\u4e00\u4e2a\u5b50\u7f51\u7684\u96c6\u5408</li> <li>\u56e0\u6b64\uff1a\u6bcf\u4e2a\u8def\u7531\u5668\u8f6c\u53d1\u8868\u7684\u8868\u9879\uff0c\u5b9e\u8d28\u4e0a\u5f62\u5f0f\u4e3a\uff1a( x , I )\uff0c\u5176\u4e2d x \u662f\u524d\u7f00\uff0cI \u662f\u8be5\u8def\u7531\u5668\u63a5\u53e3\u4e4b\u4e00\u7684\u501f\u53e3\u53f7\u3010\u7406\u89e3\uff1a\u54ea\u4e2a\u5b50\u7f51 + \u5b50\u7f51\u4e2d\u7684who\u3011</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#bgprouter","title":"BGP\u4e3a\u6bcf\u53f0router\u63d0\u4f9b\u4e86\u4e00\u79cd\u5b8c\u6210\u4e0b\u5217\u4efb\u52a1\u7684\u624b\u6bb5","text":"<ul> <li>\u4ece\u90bb\u5c45AS\u83b7\u5f97\u524d\u7f00\u7684\u53ef\u8fbe\u6027\u4fe1\u606f\uff1a <p>BGP\u5141\u8bb8\u6bcf\u4e2a\u5b50\u7f51 \u5411internet\u7684\u5176\u4f59\u90e8\u5206\u901a\u544a\u5b83 \u7684\u5b58\u5728\uff1b\u800cBGP\u786e\u4fdd\u5728internet\u4e2d\u7684\u6240\u6709AS\u77e5\u9053\u8be5\u5b50\u7f51</p> </li> <li>\u786e\u5b9a\u5230\u8be5\u524d\u7f00\u7684\u201c\u6700\u597d\u201d\u8def\u7531\uff1a <p>\u4e00\u53f0\u8def\u7531\u5668 \u53ef\u80fd\u77e5\u9053\u4e24\u6761\u6216\u66f4\u591a\u6761\u5230\u7279\u5b9a\u524d\u7f00\u7684\u4e0d\u540c\u8def\u7531\uff0c\u4e3a\u4e86\u786e\u5b9a\u8fd9\u662fbest\uff0c\u5b83 \u5c06\u672c\u5730\u8fd0\u884c\u4e00\u4e2aBGP\u7684\u8def\u7531\u9009\u62e9\u8fc7\u7a0b</p> </li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#3-bgp","title":"[3] \u901a\u544aBGP\u7684\u8def\u7531\u4fe1\u606f\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#_4","title":"\u7ec4\u5206\uff1a","text":"<ul> <li>\u6709\u4e09\u4e2a\u81ea\u6cbb\u7cfb\u7edf\uff1aAS1 &amp; AS2 &amp; AS3</li> <li>AS3\u5305\u542b\u4e00\u4e2a\u5177\u6709\u524d\u7f00 x \u7684\u5b50\u7f51</li> <li>\u6bcf\u4e2aAS\u4e2d\u7684\u5b50\u7f51\u4e2d\u7684\u8def\u7531\u5668\u6709\u4e24\u91cd\u8eab\u4efd\uff1a[1] \u7f51\u5173\u8def\u7531\u5668(gateway router) \uff0c\u5904\u4e8eAS\u8fb9\u7f18; [2] \u5185\u90e8\u8def\u7531\u5668(internal router)</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#as3x","title":"\u901a\u544a\u8fc7\u7a0b\uff1a\uff08\u6bd4\u5982AS3\u8981\u5411\u5176\u4ed6\u6240\u6709\u8def\u7531\u5668\u901a\u544a\u5bf9\u4e8e\u524d\u7f00x\u7684\u53ef\u8fbe\u6027\u4fe1\u606f\uff09","text":"<ul> <li>AS3\u5411AS2\u53d1\u9001\u4e00\u4e2aBGP\u62a5\u6587\uff0c\u8bf4\u201cx\u5b58\u5728\uff0c\u800c\u4e14\u5c31\u5728AS3\u5185\u90e8\u201d\uff0c\u5c06\u6b64\u62a5\u6587\u8bb0\u4f5c\uff1a\u201c AS3 x \u201d</li> <li>AS2\u5411AS1\u53d1\u9001\u4e00\u4e2aBGP\u62a5\u6587\uff0c\u8bf4\u201cx\u5b58\u5728\uff0c\u4f60\u80fd\u591f\u5148\u901a\u8fc7AS2\uff0c\u518d\u8fdb\u5165AS3\uff0c\u8fdb\u800c\u83b7\u53d6x\u201d\uff0c\u5c06\u6b64\u62a5\u6587\u8bb0\u4f5c\uff1a\u201c AS2 AS3 x \u201d</li> <li>\u4ee5\u8fd9\u79cd\u65b9\u5f0f\uff0c\u6bcf\u4e2a\u81ea\u6cbb\u7cfb\u7edf\u4e0d\u4ec5\u77e5\u9053x\u7684\u5b58\u5728\uff0c\u800c\u4e14\u77e5\u9053\u901a\u5411x\u7684\u81ea\u6cbb\u7cfb\u7edf(AS)\u8def\u5f84</li> <li>\u5177\u4f53\u673a\u7406\u7565\uff0c\u8be6\u89c1\u539f\u4e66\uff01</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#4","title":"[4] \u786e\u5b9a\u6700\u597d\u7684\u8def\u7531\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#raise-ques","title":"raise ques\uff1a","text":"<p>\u6b63\u5982\u6211\u4eec\u521a\u521a\u6240\u4e86\u89e3\u7684\u90a3\u6837\uff0c\u4ece\u4e00\u4e2a\u7ed9\u5b9a\u7684\u8def\u7531\u5668\u5230\u4e00\u4e2a\u76ee\u7684\u5b50\u7f51\u53ef\u80fd\u6709\u591a\u6761\u8def\u5f84\uff0c\u90a3\u4e48\u4e00\u53f0\u8def\u7531\u5668\u5982\u4f55\u5728\u8fd9\u4e9b\u8def\u5f84\u4e4b\u95f4\u8fdb\u884c\u9009\u62e9\uff08\u5e76\u4e14\u518d\u76f8\u5e94\u5730\u914d\u7f6e\u5b83\u7684\u8f6c\u53d1\u8868\uff09\u5462\uff1f</p>"},{"location":"curriculum_study/TD_net/ch5/#noun","title":"noun\u89e3\u91ca\uff1a","text":"<ol> <li>\u5f53\u8def\u7531\u5668\u901a\u8fc7BGP\u8fde\u63a5\u901a\u544a\u524d\u7f00\u65f6\uff0c\u5b83\u5728\u524d\u7f00\u4e2d\u5305\u62ec\u4e00\u4e9bBGP\u5c5e\u6027(BGP attribute)\u3002\u7528BGP\u7684\u672f\u8bed\u6765\u8bf4\uff0c\u524d\u7f00\u53ca\u5176\u5c5e\u6027\u79f0\u4e3a\u8def\u7531(route)</li> <li>\u6709\u4e24\u4e2a\u91cd\u8981\u7684\u5c5e\u6027\u503c\u5f97\u5173\u6ce8\uff1aAS-PATH \u548c NEXT-HOP</li> <li>AS-PATH\uff1a\u5305\u542b\u901a\u544a\u5df2\u7ecf\u901a\u8fc7\u7684AS\u7684\u5217\u8868 <ul> <li>\u4e3a\u4e86\u751f\u6210AS-PATH\u7684\u503c\uff0c\u5f53\u4e00\u4e2a\u524d\u7f00\u901a\u8fc7\u67d0AS\u65f6\uff0c\u8be5AS\u5c06\u5176ASN\u52a0\u5165AS-PATH\u7684\u73b0\u6709\u5217\u8868\u4e2d</li> <li>BGP\u8def\u7531\u5668\u8fd8\u4f7f\u7528AS-PATH\u5c5e\u6027\u6765\u68c0\u6d4b\u548c\u9632\u6b62\u901a\u544a\u73af\u8def</li> </ul> </li> <li>NEXT-HOP\uff1a\u5177\u6709\u654f\u611f\u800c\u91cd\u8981\u7684\u4f5c\u7528 <p>NEXT-HOP\u662fAS-PATH\u8d77\u59cb\u7684\u8def\u7531\u5668\u63a5\u53e3\u7684IP\u5730\u5740</p> </li> <li>\u663e\u7136\uff0c\u6bcf\u6761BGP\u8def\u7531\u5305\u542b\u4e09\u4e2a\u7ec4\u4ef6\uff1aNEXT-HOP + ASPATH + \u76ee\u7684\u5730\u524d\u7f00</li> </ol>"},{"location":"curriculum_study/TD_net/ch5/#_5","title":"\u9009\u62e9\u7b56\u7565\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#1_5","title":"\u30101\u3011\u4ecb\u7ecd\u201c\u70ed\u571f\u8c46\u8def\u7531\u9009\u62e9\u201d\uff1a","text":"<ul> <li>\u70ed\u571f\u8c46\u8def\u7531\u9009\u62e9\uff1ahot potato routing</li> <li>main theme\uff1a \u5bf9\u4e8e\u4e00\u4e2a\u8def\u7531\u5668\u6765\u8bf4\uff0c\u9700\u8981\u5c3d\u53ef\u80fd\u5feb\u5730\u5c06\u5206\u7ec4\u9001\u51fa\u5176AS\uff0c\u800c\u4e0d\u62c5\u5fc3\u5176AS\u5916\u90e8\u5230\u76ee\u7684\u5730\u7684\u4f59\u4e0b\u90e8\u5206\u7684\u5f00\u9500</li> <li>\u56e0\u6b64\uff0c\u70ed\u571f\u8c46\u8def\u7531\u9009\u62e9\u662f\uff1a\u81ea\u79c1\u7684\u7b97\u6cd5\u3002\u5373\uff1a\u5b83\u8bd5\u56fe\u51cf\u5c0f\u5728\u5b83\u81ea\u5df1AS\u5185\u90e8\u7684\u5f00\u9500\uff0c\u800c\u5ffd\u7565\u5728\u5176AS\u4e4b\u5916\u7684\u7aef\u5230\u7aef\u5f00\u9500\u7684\u5176\u4ed6\u90e8\u5206</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#2_2","title":"\u30102\u3011\u8def\u7531\u5668\u9009\u62e9\u7b97\u6cd5\uff1a","text":"<ul> <li>\u5982\u679c\u4ec5\u6709\u4e00\u6761\u8def\u7531\uff0c\u90a3\u4e48BGP\u663e\u7136\u9009\u62e9\u8be5\u8def\u7531</li> <li>\u5982\u679c\u5230\u76f8\u540c\u7684\u524d\u7f00\u6709\u4e24\u6761\u53ca\u4ee5\u4e0a\uff0c\u8def\u7531\u5219\u6309\u987a\u5e8f\u8c03\u7528\u4e0b\u9762\u7684\u6d88\u9664\u89c4\u5219\uff0c\u76f4\u5230\u4f59\u4e0b\u4e00\u6761\u8def\u7531\uff01</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#_6","title":"\u6d88\u9664\u89c4\u5219\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#5","title":"[5] \u77e5\u8bc6\u6c47\u603b\uff1a\u5f53\u4f60\u9700\u8981\u5f00\u4e92\u8054\u7f51\u516c\u53f8\u65f6\uff0c\u9700\u8981\u505a\u4e9b\u4ec0\u4e48\uff1f","text":"<p>\u8fd9\u4e00\u90e8\u5206\u76f8\u5f53\u7cbe\u5f69\uff0c\u6d89\u53ca\u4e86IP.addr / DNS / BGP \uff01\u5185\u5bb9\u4e30\u5bcc\uff0c\u5efa\u8bae\u5927\u5bb6\u8be6\u89c1\u539f\u4e66\uff01</p>"},{"location":"curriculum_study/TD_net/ch5/#5sdn","title":"5\uff09SDN\u63a7\u5236\u5e73\u9762","text":""},{"location":"curriculum_study/TD_net/ch5/#1_6","title":"\uff081\uff09\u590d\u4e60\uff1a","text":"<ul> <li>\u7f51\u7edc\u4e2d\u7684\u8f6c\u53d1\u8bbe\u5907called\uff1a\u5206\u7ec4\u4ea4\u6362\u673a</li> <li>SDN\u4f53\u7cfb\u7ed3\u6784\u5177\u67094\u4e2a\u5173\u952e\u7279\u5f81\uff1a <ul> <li>\u57fa\u4e8e\u6d41\u7684\u8f6c\u53d1</li> <li>\u6570\u636e\u5e73\u9762\u4e0e\u63a7\u5236\u5e73\u9762\u5206\u79bb</li> <li>\u7f51\u7edc\u63a7\u5236\u529f\u80fd</li> <li>\u53ef\u7f16\u7a0b\u7684\u7f51\u7edc</li> </ul> </li> <li>\u4e4b\u524d\u63d0\u5230\u7684SDN\u4ee5\u5916\u7684\u7f51\u7edc\u6a21\u5f0f\u4e2d\uff0c\u4ea4\u6362\u673a/\u8def\u7531\u5668\u4f5c\u4e3a\u4e00\u4e2a\u6574\u4f53\uff0c\u5b83\u662f\u5782\u76f4\u7684/\u7efc\u5408\u7684\uff0c\u5e76\u4e14\u7531\u5355\u4e00\u7684\u5382\u5546\u6240\u9500\u552e\uff1bSDN\u5b8c\u5168\u4e0d\u540c\uff0c\u5b83\u63d0\u4f9b\u4e86\u4e00\u4e2a\u66f4\u52a0\u4e30\u5bcc\u3001\u5f00\u653e\u7684\u751f\u6001\u7cfb\u7edf</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#2sdnsdn-sdn","title":"\uff082\uff09SDN\u63a7\u5236\u5e73\u9762\uff1aSDN\u63a7\u5236\u5668 + SDN\u7f51\u7edc\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f","text":""},{"location":"curriculum_study/TD_net/ch5/#_7","title":"\u901a\u4fe1\u5c42","text":"<p>\u8d1f\u8d23\uff1aSDN\u63a7\u5236\u5668\u548c\u53d7\u63a7devices\u4e4b\u95f4\u7684\u901a\u4fe1 - SDN\u63a7\u5236\u5668\u901a\u8fc7\u4e00\u4e2a\u534f\u8bae\u6765\u4f20\u9001\u6307\u4ee4\u7b49\u4fe1\u606f - \u8bbe\u5907\u5fc5\u987b\u80fd\u591f\u5411\u63a7\u5236\u5668\u4f20\u9012\u672c\u5730\u89c2\u5bdf\u5230\u7684\u4e8b\u4ef6</p>"},{"location":"curriculum_study/TD_net/ch5/#_8","title":"\u7f51\u7edc\u8303\u56f4\u72b6\u6001\u7ba1\u7406\u5c42","text":"<p>\u7531SDN\u63a7\u5236\u5e73\u9762\u6240\u505a\u51fa\u7684\u6700\u7ec8\u63a7\u5236\u51b3\u5b9a</p>"},{"location":"curriculum_study/TD_net/ch5/#_9","title":"\u5bf9\u4e8e\u7f51\u7edc\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u5c42\u7684\u63a5\u53e3","text":"<p>\u63a7\u5236\u5668\u901a\u8fc7\u5b83\u7684\u201c\u5317\u5411\u63a5\u53e3\u201d\u4e0e\u7f51\u7edc\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u4ea4\u4e92\uff0c\u8be5API\u5141\u8bb8\u7f51\u7edc\u63a7\u5236\u5e94\u7528\u7a0b\u5e8f\u5728\u72b6\u6001\u7ba1\u7406\u5c42\u4e4b\u95f4\u8bfb/\u5199\u7f51\u7edc\u72b6\u6001\u548c\u6d41\u8868</p>"},{"location":"curriculum_study/TD_net/ch5/#3openflow","title":"\uff083\uff09OpenFlow\u534f\u8bae\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#sdn-sdn-openflowapi","title":"\u8fd0\u884c\u5728 SDN\u63a7\u5236\u5668 \u548c SDN\u63a7\u5236\u7684\u4ea4\u6362\u673a \u6216\u5176\u4ed6\u5b9e\u73b0OpenFlowAPI\u7684\u8bbe\u5907\u4e4b\u95f4","text":""},{"location":"curriculum_study/TD_net/ch5/#_10","title":"\u4ece\u63a7\u5236\u5668\u6d41\u5411\u53d7\u63a7\u4ea4\u6362\u673a\u7684\u91cd\u8981\u62a5\u6587\u5982\u4e0b\uff1a","text":"<ul> <li>\u914d\u7f6e\uff1a\u8be5\u62a5\u6587\u5141\u8bb8\u63a7\u5236\u5668\u67e5\u8be2\u5e76\u8bbe\u7f6e\u4ea4\u6362\u673a\u7684\u914d\u7f6e\u53c2\u6570</li> <li>\u4fee\u6539\u72b6\u6001\uff1a\u8be5\u62a5\u6587\u7531\u63a7\u5236\u5668\u4f7f\u7528\uff0c\u4ee5\u589e\u52a0or\u5220\u51cf/\u4fee\u6539\u4ea4\u6362\u673a\u6d41\u8868\u4e2d\u7684\u8868\u9879</li> <li>\u8bfb\u72b6\u6001\uff1a\u8be5\u62a5\u6587\u88ab\u63a7\u5236\u5668\u7528\u4e8e\u5728\u53d7\u63a7\u4ea4\u6362\u673a\u4ece\u7279\u5b9a\u7684\u7aef\u53e3\u53d1\u9001\u51fa\u4e00\u4e2a\u7279\u5b9a\u7684\u62a5\u6587 <p>\u4e0a\u8ff0\"\u7279\u5b9a\u7684\u62a5\u6587\"\u6709\uff1a - \u6d41\u5220\u9664 - \u7aef\u53e3\u72b6\u6001 - \u5206\u7ec4\u5165(packet-in)</p> </li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#6icmp","title":"6\uff09ICMP\uff1a\u56e0\u7279\u7f51\u63a7\u5236\u62a5\u6587\u534f\u8bae","text":"<ul> <li>\u56e0\u7279\u7f51\u63a7\u5236\u62a5\u6587\u534f\u8bae (Internet Control Message Protocol)</li> <li>\u4f5c\u7528\uff1a\u88ab\u4e3b\u673a\u548c\u8def\u7531\u5668\u7528\u6765\u5f7c\u6b64\u6c9f\u901a\u7f51\u7edc\u5c42\u7684\u4fe1\u606f</li> <li>\u7ecf\u5178\u7528\u5904\uff1a\u5dee\u9519\u62a5\u544a</li> <li>ICMP\u88ab\u8ba4\u4e3a\u662fIP\u7684\u4e00\u90e8\u5206\uff0c\u4f46\u4ece\u4f53\u7cfb\u7ed3\u6784\u4e0a\u6765\u8bf4\u5b83\u4f4d\u4e8eIP\u4e4b\u4e0a\uff1aICMP_message\u662f\u627f\u8f7d\u5728IP\u5206\u7ec4\u4e2d\u7684\uff0c\u8fd9\u5c31\u662f\u8bf4\uff0cICMP\u662fIP\u7684\u6709\u6548\u8f7d\u8377\u627f\u8f7d\u7684\uff0c\u5c31\u50cfTCP/UDP\u62a5\u6587\u6bb5\u4f5c\u4e3aIP\u6bb5\u6709\u6548\u8f7d\u8377\u4e00\u6837\uff1b\u5f53\u4e00\u53f0\u4e3b\u673a\u6536\u5230\u4e00\u4e2a\u6307\u660e\u4e0a\u5c42\u534f\u8bae\u4e3aICMP\u7684IP\u6570\u636e\u62a5\u65f6\uff0c\u5b83\u5206\u89e3\u51fa\u8be5\u6570\u636e\u62a5\u7684\u5185\u5bb9\u7ed9ICMP\uff0c\u5c31\u50cf\u5206\u89e3\u51fa\u4e00\u4e2a\u6570\u636e\u62a5\u5185\u5bb9\u7ed9TCP\u6216UDP\u4e00\u6837</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#7","title":"7\uff09\u7f51\u7edc\u7ba1\u7406","text":""},{"location":"curriculum_study/TD_net/ch5/#1-def","title":"(1) def\uff1a\u7f51\u7edc\u7ba1\u7406\u5458\u5728\u6267\u884c\u4efb\u52a1\u65f6\u6240\u4f7f\u7528\u7684\u4f53\u7cfb\u7ed3\u6784\u3001\u534f\u8bae\u3001\u4fe1\u606f\u5e93","text":""},{"location":"curriculum_study/TD_net/ch5/#2_3","title":"(2) \u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff1a","text":""},{"location":"curriculum_study/TD_net/ch5/#manage-server","title":"\u7ba1\u7406\u670d\u52a1\u5668\uff08manage server\uff09\uff1a","text":"<ul> <li>\u662f\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\uff0c\u8fd0\u884c\u5728\u7f51\u7edc\u8fd0\u8425\u4e2d\u5fc3\uff08Network Operations Center\uff0cNOC\uff09\u7684\u96c6\u4e2d\u5f0f\u7f51\u7edc\u7ba1\u7406\u5de5\u4f5c\u7ad9\u4e0a</li> <li>\u9700\u8981\u7f51\u7edc\u7ba1\u7406\u5458(human)\u5728\u73af\u8def\u4e2d</li> <li>\u5b83\u662f\u6267\u884c\u7f51\u7edc\u7ba1\u7406\u6d3b\u52a8\u7684\u5730\u65b9</li> <li>\u5b83\u63a7\u5236\u7f51\u7edc\u7ba1\u7406\u4fe1\u606f\u4e0e\u547d\u4ee4\u7684\u6536\u96c6\u3001\u5904\u7406\u3001\u5206\u6790\u3001\u663e\u793a</li> <li>\u5b83\u5728\u8fd9\u91cc\u53d1\u8d77\u914d\u7f6e\u3001\u76d1\u89c6\u3001\u63a7\u5236\u7f51\u7edc\u7684\u88ab\u7ba1\u8bbe\u5907\u7684\u64cd\u4f5c</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#managed-devices","title":"\u88ab\u7ba1\u8bbe\u5907\uff08managed devices\uff09\uff1a","text":"<ul> <li>\u663e\u800c\u6613\u89c1\u5c31\u662f\u6211\u4eec\u65e5\u5e38\u7684devices\uff0c\u6bd4\u5982\uff1a\u4e3b\u673a\u3001\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u3001\u4e2d\u95f4\u76d2...\u5176\u4ed6\u8054\u7f51\u8bbe\u5907</li> <li>\u8bbe\u5907\u672c\u8eab\u5177\u6709\u53ef\u7ba1\u7406\u7684\u7ec4\u4ef6\uff08\u7f51\u7edc\u63a5\u53e3\uff09\uff0c\u4ee5\u53ca\u8fd9\u4e9b\u786c\u4ef6\u548c\u8f6f\u4ef6\u7ec4\u4ef6\u7684\u914d\u7f6e\u53c2\u6570\uff08OSPF\u4e4b\u7c7b\u7684\u534f\u8bae\uff09</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#network-management-agent","title":"\u7f51\u7edc\u7ba1\u7406\u4ee3\u7406\uff08network management agent\uff09\uff1a","text":"<ul> <li>\u662f\u4e00\u4e2a\u8fd0\u884c\u5728\u88ab\u7ba1\u8bbe\u5907\u4e0a\u7684\u8f6f\u4ef6\u8fdb\u7a0b</li> <li>\u5b83\u4e0e\u7ba1\u7406\u670d\u52a1\u5668\u76f4\u63a5\u901a\u4fe1\uff0c\u5728\u5176\u547d\u4ee4\u4e0e\u63a7\u5236\u4e0b\u5728\u88ab\u7ba1\u8bbe\u5907\u4e0a\u6267\u884c\u672c\u5730\u64cd\u4f5c</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#network-management-protocol","title":"\u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff08network management protocol\uff09\uff1a","text":"<ul> <li>\u8be5\u534f\u8bae\u8fd0\u884c\u5728 \u7ba1\u7406\u670d\u52a1\u5668 \u4e0e \u88ab\u7ba1\u8bbe\u5907 \u4e4b\u95f4</li> <li>\u5141\u8bb8 \u7ba1\u7406\u670d\u52a1\u5668 \u67e5\u8be2 \u88ab\u7ba1\u8bbe\u5907 \u7684\u72b6\u6001\uff0c\u5e76\u7ecf\u8fc7\u5176\u4ee3\u7406\u95f4\u63a5\u5728\u8fd9\u4e9bdevices\u4e0a\u6267\u884c\u64cd\u4f5c</li> <li>\u5141\u8bb8\u5411 \u7ba1\u7406\u670d\u52a1\u5668 \u62a5\u544a\u5f02\u5e38\u4e8b\u4ef6\uff08eg\uff1a\u7ec4\u4ef6\u6545\u969c\u3001\u8d85\u8fc7\u6027\u80fd\u9608\u503c\uff09</li> <li>\u5b83\u81ea\u5df1\u6ca1\u529e\u6cd5\u7ba1\u7406\u7f51\u7edc\uff0c\u5b83\u53ea\u662f\u6865\u6881\ud83e\udd21</li> </ul>"},{"location":"curriculum_study/TD_net/ch5/#_11","title":"\u73b0\u5b9e\u4e2d\uff1a\u8fd0\u8425\u5546\u6267\u884c\u7ba1\u7406\u7f51\u7edc\u7684\u4e09\u79cd\u65b9\u5f0f","text":"<ul> <li>CLI\uff08Command Line Interface\uff0cCLI\uff09\uff1a\u76f4\u63a5\u5411\u8bbe\u5907\u53d1\u51fa\u547d\u4ee4\u884c\u63a5\u53e3</li> <li>SNMP / MIB\uff1a <ul> <li>[1] SNMP\uff08Simple Network Management Protocol \uff0cSNMP\uff09\u7b80\u5355\u7f51\u7edc\u7ba1\u7406\u534f\u8bae\uff0c\u7528\u4e8e\u5728 \u7ba1\u7406\u670d\u52a1\u5668 \u548c \u4ee3\u8868\u7ba1\u7406\u670d\u52a1\u5668\u6267\u884c\u7684\u4ee3\u7406 \u4e4b\u95f4\u4f20\u9012\u7f51\u7edc\u7ba1\u7406\u63a7\u5236\u548c\u4fe1\u606f\u62a5\u6587\uff0c\u6700\u5e38\u4f7f\u7528\u7684\u5c31\u662f\u201c\u8bf7\u6c42\u54cd\u5e94\u6a21\u5f0f\u201d\uff1b</li> <li>[2] MIB (Management Information Base , MIB) \u7ba1\u7406\u4fe1\u606f\u5e93\uff1b</li> <li>[3] \u7f51\u7edc\u8fd0\u8425\u5546\u53ef\u901a\u8fc7SNMP\u67e5\u8be2/\u8bbe\u7f6edevices\u7684MIB\u5bf9\u8c61\u4e2d\u5305\u542b\u7684\u6570\u636e</li> </ul> </li> <li>NETCONF / YANG\uff1a\u7565</li> </ul>"},{"location":"curriculum_study/TD_net/ch6/","title":"Chapter6 \u94fe\u8def\u5c42","text":"<ul> <li>\u8bf4\u660e\uff1a\u8fd9\u4e00\u7ae0\u8282\u5185\u5bb9\u91cf\u8fc7\u4e8e\u5e9e\u5927\uff0c\u5f88\u591a\u7ec6\u8282\u70b9\u9700\u8981\u6ce8\u610f\uff0c\u63a8\u8350\u53bb\u770b\u539f\u4e66</li> <li>\u6211\u8fd9\u4e00\u7ae0\u6574\u7406\u7684\u5e76\u4e0d\u7ec6\u81f4\uff0c\u56e0\u4e3a\u6211\u6574\u7406\u7684\u300aRDMA...\u300b\u90a3\u7bc7\u8bba\u6587\u6db5\u76d6\u4e86\u5f88\u591a\u8fd9\u65b9\u9762\u7684\u77e5\u8bc6\uff0c\u57fa\u672c\u5df2\u7ecf\u6574\u7406\u8fc7\u4e00\u904d\u4e86\uff0c\u51cf\u5c11\u4f4e\u6548\u7684\u91cd\u590d\u52b3\u52a8</li> </ul>"},{"location":"curriculum_study/TD_net/ch6/#_1","title":"\u4e00\u3001\u94fe\u8def\u5c42","text":"<p>\u70b9\u5bf9\u70b9\u94fe\u8def\uff1a \u94fe\u8def\u4e00\u7aef\u7684\u5355\u4e2a\u53d1\u9001\u65b9\u548c\u94fe\u8def\u53e6\u4e00\u7aef\u7684\u5355\u4e2a\u63a5\u6536\u65b9\u7ec4\u6210\u3002</p> <p>1\u3001\u5206\u7c7b\uff1a</p> <p>\u2460\u5e7f\u64ad\u578b\u4fe1\u9053\uff1a\u901a\u5e38\u7528\u5728\u5c40\u57df\u7f51\u3001\u65e0\u7ebfLAN\uff08WIFI\uff09\u3001\u536b\u661f\u7f51\u548c\u6df7\u5408\u5149\u7ea4\u7535\u7f06\u3002</p> <p>\u2461\u70b9\u5bf9\u70b9\u901a\u4fe1\u94fe\u8def</p> <p>\u8282\u70b9\uff1a \u5c06\u8fd0\u884c\u94fe\u8def\u5c42\u534f\u8bae\u7684\u4efb\u4f55\u8bbe\u5907\u79f0\u4e3a\u8282\u70b9\uff0c\u5305\u62ec\u4e3b\u673a\uff0c\u8def\u7531\u5668\uff0c\u4ea4\u6362\u673a\u548cWiFi\u63a5\u5165\u70b9\u3002 \u94fe\u8def\uff1a \u5c06\u6cbf\u7740\u901a\u4fe1\u8def\u5f84\u8fde\u63a5\u76f8\u90bb\u8282\u70b9\u7684\u901a\u4fe1\u4fe1\u9053\u79f0\u4e3a\u94fe\u8def\u3002</p> <p>2\u3001\u670d\u52a1\uff1a</p> <p>\u2460\u6210\u5e27\uff1a\u628a\u6570\u636e\u62a5\u7528\u94fe\u8def\u5c42\u5e27\u5c01\u88c5\u8d77\u6765\u3002</p> <p>\u94fe\u8def\u5c42\u7684\u4e3b\u4f53\u90e8\u5206\u662f\u5728\u7f51\u7edc\u9002\u914d\u5668\u4e2d\u5b9e\u73b0\u7684\uff0c\u4e5f\u7f51\u7edc\u63a5\u53e3\u5361\uff08Network Interface Card\uff0c NIC\uff09\u3002\u7f51\u7edc\u9002\u914d\u5668\u7684\u6838\u5fc3\u662f\u94fe\u8def\u5c42\u63a7\u5236\u5668\uff0c\u8be5\u63a7\u5236\u5668\u901a\u5e38\u662f\u4e00\u4e2a\u5b9e\u73b0\u4e86\u8bb8\u591a\u94fe\u8def\u5c42\u670d\u52a1\uff08\u6210\u5e27\u3001\u94fe\u8def\u63a5\u5165\u3001\u5dee\u9519\u68c0\u6d4b\u7b49\uff09\u7684\u4e13\u7528\u82af\u7247\u3002\u94fe\u8def\u5c42\u63a7\u5236\u5668\u7684\u8bb8\u591a\u529f\u80fd\u662f\u7528\u786c\u4ef6\u5b9e\u73b0\u7684</p> <p>\u4ee5\u592a\u7f51\u5e27\u7684\u7ed3\u6784\uff1a</p> <p>(1)\u00a0\u6570\u636e\u5b57\u6bb5\uff1a\u627f\u8f7dIP\u6570\u636e\u62a5\u3002\u4ee5\u592a\u7f51\u6700\u5927\u4f20\u8f93\u5355\u51431500\u5b57\u8282\u3002\u6570\u636e\u5b57\u6bb5\u6700\u5c0f\u957f\u5ea6\u662f46\u5b57\u8282\u3002\u5982\u679c\u6570\u636e\u62a5\u6bd4\u8fd9\u4e2a\u5c0f\uff0c\u5c31\u586b\u5145\u3002\u53bb\u9664\u586b\u5145\u662f\u9760\u7f51\u7edc\u5c42\u9996\u90e8\u7684\u6570\u636e\u957f\u5ea6\u5b57\u6bb5\u3002</p> <p>(2)\u00a0\u5730\u5740\uff1a\u539f\u5730\u5740\u548c\u76ee\u7684\u5730\u5740\uff08MAC\u5730\u5740\uff09\u3002</p> <p>(3)\u00a0\u7c7b\u578b\u5b57\u6bb5\uff1a\u4e0a\u5c42\u534f\u8bae\uff08\u7f51\u7edc\u5c42\uff09\u7c7b\u578b\u3002ARP\u534f\u8bae\u7684\u5e27\u6709\u81ea\u5df1\u7684\u7c7b\u7f16\u53f7\u3002</p> <p>(4)\u00a0\u5faa\u73af\u5197\u4f59\u68c0\u6d4b\uff1a\u4e24\u8fb9\u63d0\u524d\u7ea6\u5b9a\u597d\u4e00\u4e2a\u9664\u6570\uff08n+1\u4f4d\uff09\u3002\u53d1\u9001\u65b9\u8ba1\u7b97n\u4f4d\u7684\u5197\u4f59\u7801\uff1a\u5f85\u53d1\u9001\u6570\u636e\u672b\u5c3e\u586b\u52a0n\u4e2a0\uff08\u5047\u8bbe\u5f85\u53d1\u9001\u6570\u636e\u4e3a10010\uff0cn=3\uff0c\u5219\u6b64\u65f6\u53d8\u621010010000\uff09\uff0c\u7136\u540e\u9664\u4ee5\u4e4b\u524d\u7ea6\u5b9a\u597d\u7684\u9664\u6570\uff0c\u5f97\u5230\u4e00\u4e2a\u4f59\u6570\u653e\u5230\u5f85\u53d1\u9001\u5e27\u7684\u672b\u5c3e\uff08\u5047\u8bbe\u5f97\u5230\u7684\u4f59\u6570\u4e3a110\uff0c\u5219\u6700\u540e\u53d1\u900110010110\uff09.\u63a5\u6536\u65b9\u5c06\u5f97\u5230\u7684\u6570\u636e\u9664\u4ee5\u9664\u6570\uff0c\u80fd\u6574\u9664\u5c31\u8bf4\u660e\u6ca1\u51fa\u73b0\u5dee\u9519\u3002</p> <p>(5)\u00a0\u524d\u540c\u6b65\u7801\uff1a\u524d\u4e03\u4e2a\u5b57\u6bb5\u7528\u4e8e\u5524\u9192\u63a5\u6536\u9002\u914d\u5668\uff0c\u8ba9\u5b83\u4eec\u7684\u65f6\u949f\u548c\u53d1\u9001\u65b9\u4e00\u81f4\u3002\u524d\u540c\u6b65\u7801\u7b2c\u516b\u4e2a\u5b57\u8282\u6700\u540e\u4e24\u4e2a\u6bd4\u7279\u8b66\u544a\u9002\u914d\u5668\u201c\u91cd\u8981\u7684\u5185\u5bb9\u6765\u4e86\u201d\u3002</p> <p>(6)\u00a0\u8bb8\u591a\u4ee5\u592a\u7f51\u6280\u672f\u7528\u66fc\u5f7b\u65af\u7279\u7f16\u7801\uff1a\u6bcf\u4e2a\u6bd4\u7279\u542b\u4e00\u6b21\u8df3\u53d8\uff0c1\u662f\u4ece\u9ad8\u7535\u5e73\u8df3\u5230\u4f4e\u7535\u5e73\uff0c0\u76f8\u53cd\u3002\u4e3a\u7684\u662f\u53d1\u9001\u9002\u914d\u5668\u548c\u63a5\u53d7\u9002\u914d\u5668\u80fd\u7cbe\u786e\u540c\u6b65\u3002</p> <p>\u2461\u53ef\u9760\u4ea4\u4ed8\uff1a\u5e38\u7528\u4e8e\u6613\u4ea7\u751f\u5dee\u9519\u7684\u94fe\u8def\uff0c\u6bd4\u5982\u65e0\u7ebf\u94fe\u8def\u3002\u800c\u5bf9\u4e8e\u4e0d\u6613\u4ea7\u751f\u5dee\u9519\u7684\u94fe\u8def\u8fd9\u662f\u4e0d\u5fc5\u8981\u7684\u5f00\u9500\u3002</p> <p>\u2462\u6d41\u91cf\u63a7\u5236\uff1a\u94fe\u8def\u5c42\u534f\u8bae\u63d0\u4f9b\u6d41\u91cf\u63a7\u5236\u3002</p> <p>\u2463\u5dee\u9519\u68c0\u6d4b\u4e0e\u4fee\u6b63\uff1a\u5faa\u73af\u5197\u4f59\u68c0\u6d4b\uff08CRC\uff09\uff1bTCP\u548cUDP\u7528\u68c0\u9a8c\u548c\u65b9\u6cd5\uff1b\u5947\u5076\u6821\u9a8c\u601d\u60f3\uff08\u4e8c\u7ef4\u5947\u5076\u6821\u9a8c\uff09\u3002</p> <p>\u2464\u94fe\u8def\u63a5\u5165\uff08\u8981\u89e3\u51b3\u591a\u8def\u8bbf\u95ee\u95ee\u9898\uff09\uff1a\u901a\u5e38\u78b0\u649e\uff08\u4e24\u4e2a\u4ee5\u4e0a\u7684\u8282\u70b9\u540c\u65f6\u4f20\u5e27\uff09\u4f7f\u63a5\u6536\u70b9\u90fd\u4e0d\u80fd\u83b7\u5f97\u6709\u6548\u7684\u4f20\u8f93\u5e27\u3002\u89e3\u51b3\u529e\u6cd5\uff1a</p> <p>(1)\u00a0\u4fe1\u9053\u5212\u5206\u534f\u8bae\uff1a\u65f6\u5206\u591a\u8def\u590d\u7528\u3001\u9891\u5206\u591a\u8def\u590d\u7528\u4ee5\u53ca\u7801\u5206\u591a\u5740\uff08\u7ed9\u6bcf\u4e2a\u8282\u70b9\u5206\u914d\u4e0d\u540c\u00a0\u7f16\u7801\uff0c\u5b9e\u73b0\u4e0d\u540c\u8282\u70b9\u80fd\u540c\u65f6\u4f20\u8f93\uff0c\u4e0d\u4f1a\u76f8\u4e92\u5e72\u6270\uff09\u3002</p> <p>\u7f3a\u70b9\uff1a\u4f20\u8f93\u901f\u7387\u53ea\u80fd\u662fR / M\uff1b\u800c\u4e14\u5373\u65f6\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\u8981\u4f20\u8f93\uff0c\u4e5f\u53ea\u8f6e\u5230\u5b83\u624d\u80fd\u4f20\u8f93\u3002</p> <p>(2)\u00a0\u968f\u673a\u63a5\u5165\u534f\u8bae\uff1a\u53d1\u751f\u78b0\u649e\u540e\u7b49\u4e00\u6bb5\u65f6\u95f4\uff08\u968f\u673a\u503c\uff09\u91cd\u4f20\u3002</p> <p>ALOHA\u548c\u65f6\u9699ALOHA\uff1a\u540e\u8005\u628a\u65f6\u95f4\u5212\u5206\u4e3a\u4e00\u6bb5\u6bb5\u65f6\u9699\uff0c\u6240\u6709\u4f20\u8f93\u90fd\u5f97\u5f00\u59cb\u4e8e\u65f6\u9699\u5f00\u59cb\uff1b\u524d\u8005\u7684\u5e27\u9996\u6b21\u5230\u8fbe\u65f6\u7acb\u5373\u4f20\u8f93\uff0c\u540e\u8005\u9700\u8981\u7b49\u5f85\u5230\u6700\u8fd1\u7684\u65f6\u9699\u5f00\u59cb\u3002\u540e\u8005\u6548\u7387\u66f4\u9ad8\u3002\u5b9e\u73b0\u5982\u679c\u53ea\u6709\u4e00\u4e2a\u4fe1\u9053\u4f20\u8f93\u5e27\u53ef\u4ee5\u5168\u901f\u4f20\u8f93\u3002</p> <p>\u8f7d\u6ce2\u4fa6\u542c\u591a\u8def\u8bbf\u95ee\uff1a</p> <p>\u8f7d\u6ce2\u4fa6\u542c\uff1a\u4fa6\u542c\u4fe1\u9053\uff0c\u5982\u679c\u4fe1\u9053\u88ab\u5360\u7528\u5c31\u7b49\u5f85\u3002</p> <p>\u78b0\u649e\u68c0\u6d4b\uff1a\u68c0\u6d4b\u5230\u78b0\u649e\u7acb\u5373\u505c\u6b62\u3002</p> <p>(3)\u00a0\u8f6e\u6d41\u534f\u8bae\uff1a\u540c\u4e00\u6761\u5e7f\u64ad\u94fe\u8def\u4e0a\u7684\u8282\u70b9\u4ee5\u4f20\u9012\u4ee4\u724c\u7684\u5f62\u5f0f\u8f6e\u6d41\u83b7\u5f97\u4f20\u8f93\u7684\u6743\u5229\u3002\u5982\u679c\u5f97\u5230\u4ee4\u724c\u7684\u8282\u70b9\u6ca1\u6709\u4e1c\u897f\u8981\u4f20\uff0c\u8fc5\u901f\u4f20\u7ed9\u4e0b\u4e00\u4e2a\u3002</p> <p>\u8f6e\u8be2\u534f\u8bae\uff1a\u4e00\u4e2a\u4e3b\u8282\u70b9\u4e00\u6b21\u628a\u4ee4\u724c\u53d1\u4e0b\u53bb\uff0c\u8be2\u95ee\u5176\u5b83\u8282\u70b9\uff0c\u5e76\u7ed9\u51fa\u6700\u5927\u6570\u91cf\u5e27\uff08\u9632\u6b62\u4e00\u4e2a\u8282\u70b9\u5360\u7528\u65f6\u95f4\u8fc7\u957f\uff09\u3002\u7f3a\u70b9\u662f\u6709\u8f6e\u8be2\u5ef6\u8fdf\uff1a\u5373\u4f7f\u53ea\u6709\u4e00\u4e2a\u8282\u70b9\u5728\u4f20\u8f93\uff0c\u4e0d\u80fd\u5168\u901f\u4f20\u8f93\uff0c\u56e0\u4e3a\u4e3b\u8282\u70b9\u8981\u5728\u5176\u4f20\u8f93\u5b8c\u6700\u5927\u6570\u91cf\u5e27\u540e\u8f6e\u8be2\uff1b\u800c\u4e14\u4e00\u65e6\u4e3b\u8282\u70b9\u51fa\u95ee\u9898\uff0c\u6574\u4e2a\u4fe1\u9053\u4e0d\u80fd\u7528\u3002</p> <p>\u4ee4\u724c\u4f20\u9012\u534f\u8bae\uff1a\u6ca1\u6709\u4e3b\u8282\u70b9\uff0c\u4ee4\u724c\u4e92\u76f8\u4f20\u3002\u7f3a\u70b9\uff1a\u4e00\u65e6\u67d0\u4e2a\u8282\u70b9\u51fa\u4e86\u95ee\u9898\uff0c\u4fe1\u9053\u5c06\u4e0d\u80fd\u7528\u3002</p> <p>\u2465\u534a\u53cc\u5de5\u548c\u5168\u53cc\u5de5\uff1a\u91c7\u7528\u5168\u53cc\u5de5\u4f20\u8f93\u65f6\uff0c\u94fe\u8def\u4e24\u7aef\u8282\u70b9\u53ef\u4ee5\u540c\u65f6\u4f20\u8f93\u5206\u7ec4\uff1b\u91c7\u7528\u534a\u53cc\u5de5\u65f6\uff0c\u4e00\u4e2a\u8282\u70b9\u4e0d\u53ef\u4ee5\u540c\u65f6\u4f20\u8f93\u548c\u63a5\u6536\u5206\u7ec4\u3002</p> <p>3\u3001\u7f16\u5740\uff08MAC\u5730\u5740\uff09\uff1a</p> <p>\u2460\u539f\u56e0\uff1a\u4fdd\u6301\u9694\u5c42\u72ec\u7acb\uff0c\u800c\u4e14\u94fe\u8def\u5c42\u5e76\u4e0d\u662f\u53ea\u4e3aIP\u534f\u8bae\u670d\u52a1\u7684\u3002</p> <p>\u2461MAC\u5730\u5740\u8be6\u60c5\uff1a\u5b83\u662f\u6241\u5e73\u7ed3\u6784\u800c\u4e0d\u662fIP\u5730\u5740\u90a3\u6837\u7684\u5c42\u6b21\u7ed3\u6784\uff1b\u5e26\u6709\u4ee5\u592a\u7f51\u7f51\u5361\u7684\u4fbf\u643a\u673a\u603b\u6709\u76f8\u540cMAC\u5730\u5740\uff0c\u65e0\u8bba\u5728\u54ea\u91cc\uff1b</p> <p>\u2462\u53d1\u9001\u8fc7\u7a0b\uff1a\u53d1\u9001\u9002\u914d\u5668\u5c06\u76ee\u7684\u9002\u914d\u5668\u7684MAC\u5730\u5740\u653e\u5230\u76ee\u7684\u5730\u5740\u5b57\u6bb5\u4e2d\uff0c\u5c06\u8be5\u5e27\u53d1\u5230\u5c40\u57df\u7f51\u4e0a\u3002\u5982\u679c\u5c40\u57df\u7f51\u662f\u5e7f\u64ad\u5c40\u57df\u7f51\uff0c\u5219\u8be5\u5e7f\u64ad\u5c40\u57df\u7f51\u6240\u6709\u9002\u914d\u5668\u63a5\u6536\uff1a\u5982\u679c\u76ee\u7684MAC\u5730\u5740\u662f\u81ea\u5df1\uff0c\u5c31\u63a5\u53d7\uff0c\u5426\u5219\u4e22\u5f03\u3002\u4e5f\u6709\u5e7f\u64adMAC\u5730\u5740\uff1aFFFFFFFFFFFF\u3002\u5c40\u57df\u7f51\u7684\u6bcf\u4e2a\u9002\u914d\u5668\u90fd\u4f1a\u63a5\u6536\u3002</p> <p>\u2463\u5730\u5740\u89e3\u6790\u534f\u8bae\uff08ARP\uff09\uff1a</p> <p>(1)\u00a0ARP\u8868\uff1a\u6bcf\u4e2a\u4e3b\u673a\u6216\u8def\u7531\u5668\u7684ARP\u6a21\u5757RAM\u90fd\u6709ARP\u8868\u8bb0\u5f55IP\u5730\u5740\u3001MAC\u5730\u5740\u548c\u65f6\u95f4\u3002\u4e0d\u7528\u8bb0\u5f55\u6240\u6709\u5b50\u7f51\u4e0a\u7684\u8282\u70b9\u3002\u4f20\u5e27\u7684\u65f6\u5019\u67e5ARP\u8868\uff0c\u5982\u679c\u91cc\u9762\u6709\u6620\u5c04\u5c31\u53d1\u5230\u76f8\u5e94\u7684MAC\u5730\u5740\u3002\u5982\u679c\u901a\u8fc7\u8def\u7531\u5668\u53d1\u5230\u522b\u7684\u5b50\u7f51\uff0cARP\u8868\u91cc\u5b58\u50a8\u7684\u662f\u76ee\u7684IP\u5730\u5740\u548c\u9700\u8981\u901a\u8fc7\u7684\u8def\u7531\u5668\u63a5\u53e3\u9002\u914d\u5668\u5730\u5740\uff08\u8def\u7531\u5668\u6bcf\u4e2a\u63a5\u53e3\u90fd\u6709IP\u5730\u5740\u3001\u9002\u914d\u5668\u3001MAC\u5730\u5740\uff01\uff09\uff0c\u5e27\u4f1a\u4f20\u5230\u8def\u7531\u5668\uff0c\u7136\u540e\u8def\u7531\u5668\u6839\u636e\u5e27\u7684\u76ee\u7684IP\u5730\u5740\uff0c\u67e5\u81ea\u5df1\u7684ARP\u8868\uff0c\u627e\u5230\u76ee\u7684\u5730\u7684MAC\u5730\u5740\u8fdb\u884c\u4f20\u8f93\u3002</p> <p>(2)\u00a0\u76ee\u7684\u5730\u5740ARP\u8868\u91cc\u6ca1\u6709\u76ee\u7684\u5730MAC\u5730\u5740\uff1a\u53d1\u9001ARP\u5206\u7ec4\uff08\u8fdb\u884c\u5e7f\u64ad\uff09\uff0c\u76ee\u7684\u5730\u9002\u914d\u5668\u4f1a\u8fd4\u56de\u4e00\u4e2a\u54cd\u5e94ARP\u5206\u7ec4\u3002\u7136\u540e\u53d1\u9001\u9002\u914d\u5668\u66f4\u65b0ARP\u8868\u3002ARP\u8868\u662f\u5373\u63d2\u5373\u7528\u7684\uff0c\u5373\u81ea\u52a8\u5efa\u7acb\uff0c\u4e0d\u9700\u4eba\u4e3a\u63d2\u5165\u3002</p> <p>4\u3001\u94fe\u8def\u5c42\u4ea4\u6362\u673a\uff1a\u4efb\u52a1\u662f\u63a5\u6536\u5165\u94fe\u8def\u5c42\u5e27\u5e76\u628a\u5b83\u4eec\u8f6c\u53d1\u5230\u51fa\u94fe\u8def\u3002\u4ea4\u6362\u673a\u662f\u900f\u660e\u7684\u3002\u4ea4\u6362\u673a\u8f93\u51fa\u63a5\u53e3\u6709\u7f13\u5b58\u3002</p> <p>\u2460\u8f6c\u53d1\u548c\u8fc7\u6ee4\uff1a\u501f\u52a9\u4ea4\u6362\u673a\u8868\uff08\u8bb0\u5f55\u4e86\u67d0\u5c40\u57df\u7f51\u4e0a\u67d0\u4e9b\u8282\u70b9\u800c\u4e0d\u4e00\u5b9a\u662f\u5168\u90e8\u8282\u70b9\u7684MAC\u5730\u5740\u548c\u5230\u8fbe\u8be5\u8282\u70b9\u7684\u4ea4\u6362\u673a\u63a5\u53e3\u4ee5\u53ca\u65f6\u95f4\uff09\u3002\u5982\u679c\u4ea4\u6362\u673a\u8868\u4e2d\u6ca1\u6709\u76ee\u7684\u5730\u5740\uff0c\u5e7f\u64ad\u3002\u5982\u679c\u6536\u5230\u7684\u5e27\u76ee\u7684\u5730\u5740\u548c\u6e90\u5730\u5740\u76f8\u540c\uff0c\u8bf4\u660e\u662f\u5176\u5b83\u4ea4\u6362\u673a\u5e7f\u64ad\u8fc7\u6765\u7684\uff0c\u8fc7\u6ee4\u3002</p> <p>\u2461\u4ea4\u6362\u673a\u8868\u81ea\u5b66\u4e60\uff08\u5373\u63d2\u5373\u7528\uff09\uff1a\u6bcf\u6536\u5230\u4e00\u4e2a\u5e27\uff0c\u90fd\u4f1a\u5b58\u50a8\u5b83\u7684\u6e90\u5730\u5740\u3001\u63a5\u53e3\u548c\u65f6\u95f4\u3002\u8fc7\u4e86\u4e00\u5b9a\u65f6\u95f4\u6ca1\u6536\u5230\u8be5\u5730\u5740\u7684\u5e27\u5c31\u4f1a\u5220\u9664\u3002</p> <p>\u2462\u4ea4\u6362\u673a\u4f18\u70b9\uff1a</p> <p>(1)\u00a0\u6d88\u9664\u78b0\u649e\uff1a\u4ea4\u6362\u673a\u7f13\u5b58\u5e27\u4e14\u4e0d\u4f1a\u540c\u65f6\u4f20\u8f93\u591a\u4e8e\u4e00\u5e27\u3002</p> <p>(2)\u00a0\u5f02\u8d28\u94fe\u8def\uff1a\u4ea4\u6362\u673a\u5c06\u94fe\u8def\u5f7c\u6b64\u9694\u79bb\uff0c\u6240\u4ee5\u4e0d\u540c\u94fe\u8def\u80fd\u4ee5\u4e0d\u540c\u901f\u7387\u8fd0\u884c\u800c\u4e14\u53ef\u4ee5\u5728\u4e0d\u540c\u5a92\u4f53\u8fd0\u884c\u3002</p> <p>(3)\u00a0\u7ba1\u7406\uff1a\u5982\u679c\u4e00\u4e2a\u9002\u914d\u5668\u5f02\u5e38\u53d1\u9001\uff0c\u4ea4\u6362\u673a\u4f1a\u5c06\u5b83\u77ed\u5f00\uff1b\u5982\u679c\u4e00\u4e2a\u8282\u70b9\u77ed\u5f00\u4e86\uff0c\u4ea4\u6362\u673a\u4f1a\u6536\u96c6\u6570\u636e\u4f9b\u5206\u6790\u3002</p> <p>\u2463\u548c\u8def\u7531\u5668\u6bd4\u8f83\uff1a</p> <p>\u4ea4\u6362\u673a\u662f\u7b2c\u4e8c\u5c42\u7684\uff0c\u4ea4\u6362\u673a\u8868\u5b58\u50a8\u5730\u5740\u4e3aMAC\u5730\u5740\uff1b\u8def\u7531\u5668\u662f\u7b2c\u4e09\u5c42\u7684\uff0c\u8f6c\u53d1\u8868\u5b58\u50a8IP\u5730\u5740\u3002\u4e24\u8005\u90fd\u662f\u5206\u7ec4\u4ea4\u6362\u673a\u3002</p> <p>\u4ea4\u6362\u673a\u5373\u63d2\u5373\u7528\uff0c\u4e14\u6548\u7387\u8f83\u9ad8\u3002</p> <p>\u8def\u7531\u5668\u5bf9\u7b2c\u4e8c\u5c42\u5e7f\u64ad\u98ce\u66b4\u63d0\u4f9b\u9632\u706b\u5899\u4fdd\u62a4\uff0c\u5b89\u5168\u6027\u66f4\u9ad8\u3002</p> <p>\u51e0\u767e\u4e2a\u4e3b\u673a\u7ec4\u6210\u7684\u5c0f\u7f51\u7edc\u901a\u5e38\u6709\u51e0\u4e2a\u5c40\u57df\u7f51\u7f51\u6bb5\uff0c\u8fd9\u79cd\u5c0f\u7f51\u7edc\u7528\u4ea4\u6362\u673a\uff1b\u51e0\u5343\u53f0\u4e3b\u673a\u7ec4\u6210\u7684\u5927\u7f51\u7edc\u7528\u8def\u7531\u5668\u3002</p> <p>\u5076\u6821\u9a8c\uff1a \u5047\u8bbe\u53d1\u9001\u65b9\u8981\u53d1\u9001\u7684\u4fe1\u606f\u4e2d\u542b\u6709d\u6bd4\u7279\uff0c\u53d1\u9001\u65b9\u53ea\u9700\u8981\u5305\u542b\u4e00\u4e2a\u9644\u52a0\u6bd4\u7279\uff0c\u9009\u62e9\u5b83\u7684\u503c\uff0c\u4f7f\u5f97\u8fd9d+1\u6bd4\u7279\u4e2d1\u7684\u4e2a\u6570\u662f\u5076\u6570\u3002</p> <p>\u5947\u6821\u9a8c\uff1a\u5047\u8bbe\u53d1\u9001\u65b9\u8981\u53d1\u9001\u7684\u4fe1\u606f\u4e2d\u542b\u6709d\u6bd4\u7279\uff0c\u53d1\u9001\u65b9\u53ea\u9700\u8981\u5305\u542b\u4e00\u4e2a\u9644\u52a0\u6bd4\u7279\uff0c\u9009\u62e9\u5b83\u7684\u503c\uff0c\u4f7f\u5f97\u8fd9d+1\u6bd4\u7279\u4e2d1\u7684\u4e2a\u6570\u662f\u5947\u6570\u3002</p>"},{"location":"curriculum_study/TD_net/ch6/#_2","title":"\u4e8c\u3001\u5c40\u57df\u7f51\uff08\u4e3b\u8981\u4ee5\u592a\u7f51\uff09","text":"<p>1\u3001\u4ee5\u592a\u7f51\u5e27</p> <p>2\u3001\u591a\u8def\u8bbf\u95ee\u534f\u8bae\uff1a\u8f7d\u6ce2\u4fa6\u542c\u534f\u8bae\uff08\u6ca1\u6709\u65f6\u9699\uff09\u3002</p> <p>\u6307\u6570\u540e\u9000\uff1a\u78b0\u649e\u68c0\u6d4b\u8fc7\u7a0b\u4e2d\u68c0\u6d4b\u51fa\u78b0\u649e\u4f1a\u53d1\u9001\u963b\u585e\u4fe1\u53f7\uff0c\u53d7\u5230n\u6b21\u78b0\u649e\u540e\u968f\u673a\u7b49\u5f85</p> <p>(0~ 2 ^ m - 1) * 512\uff08m = min(10,n)\uff09\u6bd4\u7279\u65f6\u95f4\u91cd\u4f20\u3002</p> <p>3\u3001\u4ee5\u592a\u7f51\u4f7f\u7528\u94fe\u8def\u4ea4\u6362\u673a\u3002</p> <p>4\u3001\u4ee5\u592a\u7f51\u94fe\u8def\u5c42\u5dee\u9519\u68c0\u9a8c\u53d1\u73b0\u9519\u8bef\u7acb\u5373\u4e22\u5f03\uff0c\u53d1\u9001\u65b9\u4e0d\u4f1a\u77e5\u9053\u3002\u5168\u9760\u8fd0\u8f93\u5c42\u4fdd\u969c\u3002</p>"},{"location":"sci/","title":"\u4f18\u79c0\u8bba\u6587\u6574\u7406","text":""},{"location":"sci/#_2","title":"\u70b9\u51fb\u5de6\u4fa7\u76ee\u5f55\u6253\u5f00\u6587\u7ae0","text":""},{"location":"sci/#from","title":"\u65b0\u624b\u8bfb\u8bba\u6587\u7684\u5c0f\u6280\u5de7\uff08from\u674e\u6c90\uff09\uff1a","text":""},{"location":"sci/#1","title":"(1) \u8bba\u6587\u7ed3\u6784\u4e0e\u6846\u67b6\uff1a","text":"<ol> <li>title                     </li> <li>abstruct             </li> <li>introduction                   </li> <li>method                            </li> <li>experiment</li> <li>conclusion    </li> </ol>"},{"location":"sci/#2","title":"(2) \u9605\u8bfb\u65b9\u5f0f\uff1a","text":"<p>\u5982\u4f55\u9605\u8bfb\u8bba\u6587</p>"},{"location":"sci/#_3","title":"\u8fd9\u4e00\u90e8\u5206\u5747\u7531\u7b14\u8005\u8fdb\u884c\u6574\u7406\uff0c\u4e0d\u8db3\u4e4b\u5904\u8bf7\u591a\u591a\u6307\u6b63\uff01","text":""},{"location":"sci/#_4","title":"\u7b14\u8005\u79d1\u7814\u8def\u7ebf\u4e3b\u8981\u56f4\u7ed5\u8ba1\u7b97\u673a\u7f51\u7edc\uff0c\u56e0\u6b64\u8bba\u6587\u6574\u7406\u4e3b\u8981\u56f4\u7ed5\u7f51\u7edc\u5c55\u5f00\uff1b\u95f2\u6687\u4e4b\u4f59\u4e5f\u4f1a\u770b\u4e00\u4e9b\u673a\u5668\u5b66\u4e60\u7684\u6587\u7ae0\uff0c\u65e8\u5728\u62d3\u5bbd\u89c6\u91ce\uff0c\u6d3b\u8dc3\u601d\u7ef4","text":""},{"location":"sci/#_5","title":"\u8bba\u6587\u89e3\u8bfb\u4ec5\u4ee3\u8868\u7b14\u8005\u89c2\u70b9\uff0c\u6c34\u5e73\u6709\u9650\uff0c\u4ec5\u4f9b\u53c2\u8003\uff01","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/","title":"Abstruct","text":"<p>In datacenters, lossless network is very attractive as it can achieve ultra-low latency. In commodity Ethernet, lossless forwarding is achieved by hop-by-hop Priority-based Flow Control (PFC). ==To avoid buffer overflow, PFC-enabled switches need to reserve some buffer as headroom, which is for absorbing in-flight packets during the delay for backpressure messages to take effect==. However, with the growing link speed in production networks, the buffer becomes increasingly insufficient, ==and the headroom can occupy a considerable fraction of buffer==. As a result, the remaining buffer for absorbing normal traffic bursts is significantly squeezed, leading to frequent PFC messages that degrade the network performance. However, ==the current static and queue-independent headroom allocation scheme is inherently inefficient in solving this problem==. In light of this, we propose Dynamic and Shared Headroom allocation scheme (DSH), which dynamically allocates headroom to congested queues and enables the allocated headroom to be shared among different queues. By statistical multiplexing, DSH needs much less headroom to ensure lossless forwarding. Furthermore, DSH can be implemented on switching chips with moderate modifications. Extensive simulations show that DSH can absorb 4\u00d7 more bursts without triggering PFC messages and reduce the flow completion time by up to \u223c31%.</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#index-termspriority-based-flow-control-bursty-traffic-buffer-management","title":"Index Terms\u2014Priority-based Flow Control, Bursty Traffic, Buffer Management","text":"<ul> <li>\u5728\u6570\u636e\u4e2d\u5fc3\uff0c\u65e0\u635f\u7f51\u7edc\u975e\u5e38\u6709\u5438\u5f15\u529b\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5b9e\u73b0\u8d85\u4f4e\u5ef6\u8fdf\u3002 \u5728\u5546\u7528\u4ee5\u592a\u7f51\u4e2d\uff0c\u65e0\u635f\u8f6c\u53d1\u662f\u901a\u8fc7\u9010\u8df3\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff08PFC\uff09\u6765\u5b9e\u73b0\u7684\u3002 \u4e3a\u4e86\u907f\u514d\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u542f\u7528 PFC \u7684\u4ea4\u6362\u673a\u9700\u8981\u4fdd\u7559\u4e00\u4e9b \u7f13\u51b2\u533a(buffer) \u4f5c\u4e3a\u4f59\u91cf\uff0c\u7528\u4e8e\u5728 \u53cd\u538b\u6d88\u606f(backpressure messages) \u751f\u6548\u7684\u5ef6\u8fdf\u671f\u95f4\u5438\u6536 \u6b63\u5728\u4f20\u8f93\u7684\u6570\u636e\u5305(in-flight packets) \u3002 \u7136\u800c\uff0c\u968f\u7740\u751f\u4ea7\u7f51\u7edc\u4e2d\u94fe\u8def\u901f\u5ea6\u7684\u4e0d\u65ad\u589e\u957f\uff0c\u7f13\u51b2\u533a\u53d8\u5f97\u8d8a\u6765\u8d8a\u4e0d\u8db3\uff0c\u5e76\u4e14 \u5934\u90e8\u7a7a\u95f4 \u53ef\u80fd\u4f1a\u5360\u7528\u7f13\u51b2\u533a\u7684\u76f8\u5f53\u4e00\u90e8\u5206\u3002 \u7ed3\u679c\uff0c\u7528\u4e8e\u5438\u6536\u6b63\u5e38\u6d41\u91cf\u7a81\u53d1\u7684\u5269\u4f59\u7f13\u51b2\u533a\u88ab\u201c\u6324\u538b\u201d\uff0c\u5bfc\u81f4\u9891\u7e41\u7684 PFC \u6d88\u606f\u964d\u4f4e\u7f51\u7edc\u6027\u80fd\u3002</li> <li>\u7136\u800c\uff0c\u5f53\u524d\u7684\u9759\u6001\u4e14\u4e0e\u961f\u5217\u65e0\u5173\u7684\u4f59\u91cf\u5206\u914d\u65b9\u6848\u5728\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u65b9\u9762\u672c\u8d28\u4e0a\u662f\u4f4e\u6548\u7684\u3002 \u9274\u4e8e\u6b64\uff0c\u6211\u4eec\u63d0\u51fa\u52a8\u6001\u5171\u4eab\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08DSH\uff09\uff0c\u8be5\u65b9\u6848\u52a8\u6001\u5730\u5c06\u4f59\u91cf\u5206\u914d\u7ed9\u62e5\u585e\u961f\u5217\uff0c\u5e76\u4f7f\u5206\u914d\u7684\u4f59\u91cf\u5728\u4e0d\u540c\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u3002 \u901a\u8fc7\u7edf\u8ba1\u590d\u7528\uff0cDSH \u9700\u8981\u66f4\u5c11\u7684\u5934\u90e8\u7a7a\u95f4\u6765\u786e\u4fdd\u65e0\u635f\u8f6c\u53d1\u3002 \u6b64\u5916\uff0cDSH\u53ef\u4ee5\u5728\u9002\u5f53\u4fee\u6539\u7684\u4ea4\u6362\u82af\u7247\u4e0a\u5b9e\u73b0\u3002 \u5e7f\u6cdb\u7684\u6a21\u62df\u8868\u660e\uff0cDSH \u53ef\u4ee5\u5728\u4e0d\u89e6\u53d1 PFC \u6d88\u606f\u7684\u60c5\u51b5\u4e0b\u5438\u6536 4 \u500d\u4ee5\u4e0a\u7684\u7a81\u53d1\uff0c\u5e76\u5c06\u6d41\u5b8c\u6210\u65f6\u95f4\u51cf\u5c11\u9ad8\u8fbe~31%\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#_1","title":"\u7d22\u5f15\u672f\u8bed\u2014\u2014\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\u3001\u7a81\u53d1\u6d41\u91cf\u3001\u7f13\u51b2\u533a\u7ba1\u7406","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#1-pfc","title":"(1) \"\u4e3a\u4e86\u907f\u514d\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u542f\u7528 PFC \u7684\u4ea4\u6362\u673a\u9700\u8981\u4fdd\u7559\u4e00\u4e9b\u7f13\u51b2\u533a\u4f5c\u4e3a\u4f59\u91cf\uff0c\u7528\u4e8e\u5728\u53cd\u538b\u6d88\u606f\u751f\u6548\u7684\u5ef6\u8fdf\u671f\u95f4\u5438\u6536\u6b63\u5728\u4f20\u8f93\u7684\u6570\u636e\u5305\"","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#askpfc","title":"Ask\uff1a\u5f53\u524d\u201cPFC\u4ea4\u6362\u673a\u7f13\u51b2\u533a\u201d\u673a\u5236","text":"<ol> <li>PFC\u673a\u5236\u603b\u4f53\u89e3\u8bfb PFC\uff08Priority Flow Control\uff09\u662f\u4e00\u79cd\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u4e0a\u7684\u6d41\u63a7\u5236\u673a\u5236\uff0c\u7528\u4e8e\u89e3\u51b3\u7f51\u7edc\u62e5\u585e\u548c\u6d41\u91cf\u7ba1\u7406\u7684\u95ee\u9898\u3002PFC\u4e3b\u8981\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u7279\u522b\u662f\u5728\u4f7f\u7528Ethernet\u7684\u6570\u636e\u4e2d\u5fc3\u4e2d\uff0c\u4ee5\u786e\u4fdd\u5bf9\u5ef6\u8fdf\u654f\u611f\u7684\u6d41\u91cf\uff08\u5982\u5b58\u50a8\u6d41\u91cf\uff09\u7684\u4f4e\u5ef6\u8fdf\u4f20\u8f93\u3002</li> </ol> <p>PFC\u7684\u6838\u5fc3\u601d\u60f3\u662f\u901a\u8fc7\u5bf9\u4ea4\u6362\u673a==\u7aef\u53e3\u4e0a\u7684\u4e0d\u540c\u4f18\u5148\u7ea7\u8fdb\u884c\u6d41\u63a7\u5236==\uff0c==\u9632\u6b62\u4f4e\u4f18\u5148\u7ea7\u6d41\u91cf\u5f71\u54cd\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf==\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u76ee\u6807\uff0cPFC\u4f7f\u7528\u4e86\u4ea4\u6362\u673a\u4e0a\u7684\u7f13\u51b2\u533a\u673a\u5236\u3002</p> <p>PFC\u7684\u7f13\u51b2\u533a\u673a\u5236\u7684\u5173\u952e\u70b9\u5305\u62ec\uff1a 1. \u7f13\u51b2\u533a\u5212\u5206\uff1a \u4ea4\u6362\u673a\u4e0a\u7684\u7f13\u51b2\u533a\u88ab\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u5bf9\u5e94\u4e00\u79cd\u4f18\u5148\u7ea7\u3002==\u9ad8\u4f18\u5148\u7ea7\u7684\u961f\u5217\u901a\u5e38\u4f1a\u88ab\u5206\u914d\u66f4\u591a\u7684\u7f13\u51b2\u533a\u7a7a\u95f4==\uff0c\u4ee5\u786e\u4fdd\u5bf9\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u5feb\u901f\u54cd\u5e94\u3002 2. \u6d41\u63a7\u5236\uff1a \u5f53==\u7f51\u7edc\u62e5\u585e\u6216\u4ea4\u6362\u673a\u7f13\u51b2\u533a\u5373\u5c06\u6ea2\u51fa==\u65f6\uff0cPFC\u53ef\u4ee5\u901a\u8fc7\u53d1\u9001==\u63a7\u5236\u5e27\u6765\u6682\u505c\u6216\u6062\u590d\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6d41\u91cf==\u3002\u8fd9\u6837\u53ef\u4ee5 \u9632\u6b62\u4f4e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u538b\u5236\u9ad8\u4f18\u5148\u7ea7 \u7684\u6d41\u91cf\u3002 3. IEEE 802.1Qbb\u6807\u51c6\uff1a PFC\u7684\u5b9e\u73b0\u901a\u5e38\u9075\u5faaIEEE 802.1Qbb\u6807\u51c6\uff0c\u8be5\u6807\u51c6\u5b9a\u4e49\u4e86\u7528\u4e8e\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u7684\u4f18\u5148\u7ea7\u6d41\u63a7\u5236\u673a\u5236\u3002 4. \u914d\u7f6e\uff1a PFC\u7684\u914d\u7f6e\u6d89\u53ca\u5230\u4ea4\u6362\u673a\u548c\u8fde\u63a5\u5230\u4ea4\u6362\u673a\u7684\u8bbe\u5907\u7684\u8bbe\u7f6e\u3002\u7ba1\u7406\u5458\u53ef\u4ee5\u914d\u7f6e\u6bcf\u4e2a\u7aef\u53e3\u4e0a\u7684\u4e0d\u540c\u4f18\u5148\u7ea7\uff0c\u4ee5\u53ca\u4f55\u65f6\u542f\u7528\u6216\u7981\u7528PFC\u3002</p> <p>\u603b\u4f53\u800c\u8a00\uff0cPFC\u901a\u8fc7\u4f7f\u7528\u7f13\u51b2\u533a\u673a\u5236\uff0c\u786e\u4fdd\u4e86\u5728\u7f51\u7edc\u62e5\u585e\u60c5\u51b5\u4e0b\u5bf9\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u4f18\u5148\u5904\u7406\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u6027\u80fd\u548c\u53ef\u9760\u6027\u3002\u8fd9\u5728\u8981\u6c42\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4e2d\u5fc3\u73af\u5883\u4e2d\u5c24\u4e3a\u91cd\u8981\u3002</p> <ol> <li>PFC\u5173\u4e8e\u7f13\u51b2\u533a\u201c\u4f59\u91cf\u201d\u7684\u8be6\u7ec6\u4ecb\u7ecd \u4e0a\u8ff0\u63cf\u8ff0\u6307\u7684\u662f\u5728\u542f\u7528PFC\uff08Priority Flow Control\uff09\u7684\u60c5\u51b5\u4e0b\uff0c\u4e3a\u4e86\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u4ea4\u6362\u673a\u9700\u8981\u5728\u7f13\u51b2\u533a\u4e2d\u9884\u7559\u4e00\u4e9b\u7a7a\u95f4\u4f5c\u4e3a\u5907\u7528\uff08\u4f59\u91cf\uff09\u3002\u8fd9\u4e2a\u5907\u7528\u7a7a\u95f4\u7684\u76ee\u7684\u662f\u5728\uff1a\u542f\u52a8\u4e86PFC\u7684\u53cd\u538b\uff08backpressure\uff09\u673a\u5236\u540e\uff0c\u6709\u8db3\u591f\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\u7528\u4e8e\u5728\u4e00\u6bb5\u65f6\u95f4\u5185\u5438\u6536\u6b63\u5728\u4f20\u8f93\u7684\u6570\u636e\u5305\uff0c\u4ece\u800c\u7f13\u89e3\u6f5c\u5728\u7684\u7f51\u7edc\u62e5\u585e\u3002</li> </ol> <p>\u5177\u4f53\u89e3\u8bfb\u5982\u4e0b\uff1a 1. \u7f13\u51b2\u533a\u6ea2\u51fa\uff1a \u7f13\u51b2\u533a\u6ea2\u51fa\u662f\u6307\u5f53\u4ea4\u6362\u673a\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u8d85\u8fc7\u5176\u7f13\u51b2\u533a\u7684\u5bb9\u91cf\u65f6\uff0c\u5bfc\u81f4\u65e0\u6cd5\u5b58\u50a8\u66f4\u591a\u7684\u6570\u636e\u5305\uff0c\u4ece\u800c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u4e22\u5931\u3002 2. PFC\u7684\u53cd\u538b\u673a\u5236\uff1a \u5f53\u7f51\u7edc\u62e5\u585e\u6216\u4ea4\u6362\u673a\u7f13\u51b2\u533a\u4f7f\u7528\u7387\u8fc7\u9ad8\u65f6\uff0cPFC\u53ef\u4ee5\u53d1\u9001\u63a7\u5236\u5e27\u901a\u77e5\u53d1\u9001\u7aef\u505c\u6b62\u53d1\u9001\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6570\u636e\u5305\uff0c\u4ece\u800c\u51cf\u7f13\u6d41\u91cf\uff0c\u907f\u514d\u8fdb\u4e00\u6b65\u52a0\u5267\u62e5\u585e\u3002\u8fd9\u79cd\u53cd\u538b\u673a\u5236\u7684\u4f5c\u7528\u662f\u4fdd\u62a4\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u514d\u53d7\u4f4e\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u5f71\u54cd\u3002 3. \u4f59\u91cf\u7a7a\u95f4\uff1a \u4e3a\u4e86\u786e\u4fdd\u5728\u542f\u7528\u4e86PFC\u5e76\u53d1\u751f\u53cd\u538b\u7684\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6362\u673a\u4ecd\u6709\u8db3\u591f\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\u7528\u4e8e\u5438\u6536\u6b63\u5728\u4f20\u8f93\u7684\u6570\u636e\u5305\uff0c\u9700\u8981\u5728\u7f13\u51b2\u533a\u4e2d\u9884\u7559\u4e00\u4e9b\u5907\u7528\u7a7a\u95f4\u3002\u8fd9\u4e2a==\u5907\u7528\u7a7a\u95f4\u53ef\u4ee5\u5728\u53cd\u538b\u6d88\u606f\u751f\u6548\u7684\u5ef6\u8fdf\u671f\u95f4==\uff0c==\u5373\u5728\u53d1\u9001\u53cd\u538b\u6d88\u606f\u548c\u53d1\u9001\u7aef\u505c\u6b62\u53d1\u9001\u4e4b\u95f4\u7684\u65f6\u95f4\u6bb5\u5185==\uff0c\u6682\u65f6\u5b58\u50a8\u90e8\u5206\u6570\u636e\u5305\uff0c\u4ee5\u514d\u9020\u6210\u6570\u636e\u5305\u4e22\u5931\u3002 \u603b\u4f53\u6765\u8bf4\uff0c\u8fd9\u79cd\u8bbe\u8ba1\u65e8\u5728\u5e73\u8861\u7f51\u7edc\u7684\u6027\u80fd\u548c\u53ef\u9760\u6027\u3002\u901a\u8fc7\u9884\u7559\u4e00\u4e9b\u7f13\u51b2\u533a\u7a7a\u95f4\u4f5c\u4e3a\u4f59\u91cf\uff0c\u4ea4\u6362\u673a\u5728\u542f\u7528PFC\u7684\u60c5\u51b5\u4e0b\u80fd\u591f\u66f4\u6709\u6548\u5730\u5e94\u5bf9\u62e5\u585e\uff0c\u4fdd\u62a4\u9ad8\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u514d\u53d7\u4f4e\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u5e72\u6270\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#2","title":"(2) \"\u5e76\u4e14\u51c0\u7a7a\u7a7a\u95f4\u53ef\u80fd\u4f1a\u5360\u7528\u7f13\u51b2\u533a\u7684\u76f8\u5f53\u4e00\u90e8\u5206\"","text":"<p>Ask\uff1a\u4ec0\u4e48\u662f\u201c\u51c0\u7a7a\u7a7a\u95f4\u201d 1. headroom\uff1a \u8fd9\u53e5\u8bdd\u7684\u610f\u601d\u662f\uff0c\u968f\u7740\u751f\u4ea7\u7f51\u7edc\u4e2d\u94fe\u8def\u901f\u5ea6\u7684\u589e\u957f\uff0c\u7f13\u51b2\u533a\u53d8\u5f97\u8d8a\u6765\u8d8a\u4e0d\u8db3\uff0c\u800c\u7f13\u51b2\u533a\u4e2d\u7684\"headroom\"\uff08\u5934\u90e8\u4f59\u91cf\uff09\u53ef\u80fd\u5360\u636e\u76f8\u5f53\u5927\u7684\u4e00\u90e8\u5206\u3002 \u8ba9\u6211\u66f4\u8be6\u7ec6\u5730\u89e3\u91ca\uff1a 1. \u94fe\u8def\u901f\u5ea6\u589e\u957f\uff1a \u968f\u7740\u751f\u4ea7\u7f51\u7edc\u4e2d\u4f7f\u7528\u7684\u94fe\u8def\u901f\u5ea6\u589e\u52a0\uff0c\u6570\u636e\u7684\u4f20\u8f93\u901f\u7387\u4e5f\u968f\u4e4b\u589e\u52a0\u3002\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u7f51\u7edc\u9700\u6c42\u7684\u589e\u52a0\u3001\u6280\u672f\u7684\u8fdb\u6b65\u6216\u8005\u5176\u4ed6\u56e0\u7d20\u5bfc\u81f4\u7684\u3002 2. \u7f13\u51b2\u533a\u4e0d\u8db3\uff1a \u7f13\u51b2\u533a\u662f\u7528\u4e8e\u5b58\u50a8\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u7684\u4e34\u65f6\u5b58\u50a8\u7a7a\u95f4\u3002\u7136\u800c\uff0c\u5f53\u94fe\u8def\u901f\u5ea6\u589e\u52a0\u65f6\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u5bb9\u91cf\u76f8\u5bf9\u4e0d\u8db3\uff0c\u56e0\u4e3a\u6570\u636e\u5305\u7684\u5230\u8fbe\u901f\u7387\u8d85\u8fc7\u4e86\u7f51\u7edc\u8bbe\u5907\u5904\u7406\u6216\u4f20\u8f93\u7684\u901f\u7387\u3002 3. \u5934\u90e8\u4f59\u91cf\u5360\u6bd4\u5927\uff1a \"headroom\" \u6216 \"\u5934\u90e8\u4f59\u91cf\" \u6307\u7684\u662f==\u5728\u7f13\u51b2\u533a\u4e2d==\u4e3a\u5e94\u5bf9\u7f51\u7edc\u6ce2\u52a8\u800c\u9884\u7559\u7684\u4e00\u90e8\u5206\u989d\u5916\u7a7a\u95f4\u3002==\u8fd9\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\u53ef\u4ee5\u7528\u4e8e\u6682\u65f6\u5b58\u50a8\u7a81\u53d1\u6027\u7684\u6570\u636e\u5305\uff0c\u4ee5\u9632\u6b62\u53d1\u751f\u4e22\u5305\u6216\u7f51\u7edc\u62e5\u585e==\u3002\u5f53\u8bf4\u5934\u90e8\u4f59\u91cf\u5360\u636e\u7f13\u51b2\u533a\u76f8\u5f53\u5927\u7684\u4e00\u90e8\u5206\u65f6\uff0c\u610f\u5473\u7740\u4e3a\u4e86\u5e94\u5bf9\u7f51\u7edc\u7684\u4e0d\u786e\u5b9a\u6027\uff0c\u7f51\u7edc\u8bbe\u5907\u5728\u7f13\u51b2\u533a\u4e2d\u9884\u7559\u4e86\u8f83\u591a\u7684\u989d\u5916\u7a7a\u95f4\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u7f13\u51b2\u533a\u7684\u6709\u6548\u5229\u7528\u7387\u964d\u4f4e\u3002 \u7efc\u5408\u8d77\u6765\uff0c\u8fd9\u53e5\u8bdd\u8868\u8fbe\u7684\u89c2\u70b9\u662f\uff0c\u968f\u7740\u94fe\u8def\u901f\u5ea6\u7684\u589e\u52a0\uff0c\u7f13\u51b2\u533a\u5bb9\u91cf\u53ef\u80fd\u4e0d\u8db3\u4ee5\u5e94\u5bf9\u9ad8\u901f\u4f20\u8f93\u7684\u6570\u636e\u6d41\uff0c\u800c\u4e3a\u4e86\u5e94\u5bf9\u4e0d\u786e\u5b9a\u6027\uff0c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u9700\u8981\u9884\u7559\u5927\u91cf\u7684\u5934\u90e8\u4f59\u91cf\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u7f13\u51b2\u533a\u7684\u4e00\u90e8\u5206\u7a7a\u95f4\u4e0d\u80fd\u88ab\u5145\u5206\u5229\u7528\u3002\u8fd9\u53ef\u80fd\u4f1a\u5f15\u53d1\u4e00\u7cfb\u5217\u4e0e\u7f51\u7edc\u6027\u80fd\u548c\u62e5\u585e\u7ba1\u7406\u76f8\u5173\u7684\u95ee\u9898\u3002</p> <ol> <li>headroom\u4e0ebuffer\u7684\u5173\u7cfb\uff1a \u5728\u7f51\u7edc\u901a\u4fe1\u4e2d\uff0c\"headroom\"\uff08\u5934\u90e8\u4f59\u91cf\uff09\u548c\"buffer\"\uff08\u7f13\u51b2\u533a\uff09\u662f\u4e24\u4e2a\u6982\u5ff5\uff0c\u5b83\u4eec\u4e4b\u95f4\u5b58\u5728\u4e00\u5b9a\u7684\u5173\u7cfb\u3002\u4e0b\u9762\u6211\u5c06\u8be6\u7ec6\u89e3\u91ca\u5b83\u4eec\u4e4b\u95f4\u7684\u5173\u7cfb\uff1a</li> <li>\u7f13\u51b2\u533a\uff08Buffer\uff09\uff1a<ul> <li>\u5b9a\u4e49\uff1a \u7f13\u51b2\u533a\u662f\u4e00\u79cd\u7528\u4e8e==\u5b58\u50a8\u6570\u636e\u7684\u4e34\u65f6\u5b58\u50a8\u533a\u57df==\u3002\u5728\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\uff09\u4e2d\uff0c\u7f13\u51b2\u533a\u7528\u4e8e\u5b58\u50a8\u4ece\u4e00\u4e2a\u63a5\u53e3\u6536\u5230\u7684\u6570\u636e\u5305\uff0c\u8fd9\u4e9b\u6570\u636e\u5305\u5728\u88ab\u5904\u7406\u6216\u4f20\u8f93\u5230\u4e0b\u4e00\u4e2a\u63a5\u53e3\u4e4b\u524d\u9700\u8981\u6682\u65f6\u5b58\u50a8\u3002</li> <li>\u4f5c\u7528\uff1a \u7f13\u51b2\u533a\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5904\u7406 \u4f20\u8f93\u901f\u7387\u4e0d\u5339\u914d \u7684\u60c5\u51b5\u3002\u5f53\u6570\u636e\u5305\u4ee5\u8f83\u5feb\u7684\u901f\u5ea6\u8fdb\u5165\u7f51\u7edc\u8bbe\u5907\uff0c\u800c\u8bbe\u5907\u7684\u5904\u7406\u6216\u8f93\u51fa\u901f\u5ea6\u76f8\u5bf9\u8f83\u6162\u65f6\uff0c\u7f13\u51b2\u533a\u53ef\u4ee5\u6682\u65f6\u5b58\u50a8 \u8fd9\u4e9b\u6570\u636e\u5305\uff0c\u4ee5\u9632\u6b62\u4e22\u5305\u6216\u7f51\u7edc\u62e5\u585e\u3002</li> </ul> </li> <li>\u5934\u90e8\u4f59\u91cf\uff08Headroom\uff09\uff1a<ul> <li>\u5b9a\u4e49\uff1a \u5934\u90e8\u4f59\u91cf\u662f\u6307\u5728\u7f13\u51b2\u533a\u4e2d\u4e3a\u4e86\u5e94\u5bf9\u7f51\u7edc\u4e0d\u786e\u5b9a\u6027\u800c==\u9884\u7559\u7684\u4e00\u90e8\u5206\u989d\u5916\u7a7a\u95f4==\u3002\u8fd9\u90e8\u5206\u7a7a\u95f4\u901a\u5e38\u88ab\u7528\u4e8e\u5b58\u50a8\u7a81\u53d1\u6027\u7684\u6570\u636e\u5305\uff0c\u4ee5\u9632\u6b62\u7531\u4e8e\u7f51\u7edc\u6ce2\u52a8\u800c\u5bfc\u81f4\u7684\u4e22\u5305\u6216\u62e5\u585e\u3002</li> <li>\u4f5c\u7528\uff1a \u5934\u90e8\u4f59\u91cf\u7684\u5b58\u5728\u4f7f\u5f97\u7f51\u7edc\u8bbe\u5907\u80fd\u591f\u66f4\u597d\u5730\u5e94\u5bf9\u7a81\u53d1\u6027\u7684\u7f51\u7edc\u6d41\u91cf\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u6297\u5e72\u6270\u6027\u548c\u9c81\u68d2\u6027\u3002</li> </ul> </li> <li> <p>\u5173\u7cfb\uff1a</p> <ul> <li>\u9884\u7559\u7a7a\u95f4\uff1a \u5934\u90e8\u4f59\u91cf\u5b9e\u9645\u4e0a\u662f\u7f13\u51b2\u533a\u4e2d\u7684\u4e00\u90e8\u5206\u9884\u7559\u7a7a\u95f4\u3002\u8fd9\u4e2a\u989d\u5916\u7684\u7a7a\u95f4\u53ef\u4ee5\u770b\u4f5c\u662f\u7f13\u51b2\u533a\u5bb9\u91cf\u4e2d\u7684\u4e00\u90e8\u5206\uff0c\u4e13\u95e8\u7528\u4e8e\u5b58\u50a8\u5934\u90e8\u4f59\u91cf\uff0c\u4ee5\u786e\u4fdd\u5728\u7f51\u7edc\u4e0d\u786e\u5b9a\u6027\u7684\u60c5\u51b5\u4e0b\u80fd\u591f\u66f4\u597d\u5730\u5904\u7406\u6570\u636e\u6d41\u3002</li> <li>\u6709\u6548\u5229\u7528\uff1a ==\u5934\u90e8\u4f59\u91cf\u7684\u5b58\u5728\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u5bb9\u91cf\u7684\u4e00\u90e8\u5206\u7a7a\u95f4\u672a\u88ab\u5145\u5206\u5229\u7528==\u3002\u8fd9\u662f\u56e0\u4e3a\u4e3a\u4e86\u4fdd\u8bc1\u7f51\u7edc\u8bbe\u5907\u5728\u4e0d\u786e\u5b9a\u7684\u60c5\u51b5\u4e0b\u5177\u6709\u8db3\u591f\u7684\u7075\u6d3b\u6027\uff0c\u4e00\u5b9a\u7a0b\u5ea6\u4e0a\u727a\u7272\u4e86\u7f13\u51b2\u533a\u7684\u6709\u6548\u5229\u7528\u7387\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u5934\u90e8\u4f59\u91cf\u548c\u7f13\u51b2\u533a\u90fd\u662f\u4e3a\u4e86\u4f18\u5316\u7f51\u7edc\u6027\u80fd\u800c\u91c7\u53d6\u7684\u7b56\u7565\uff0c\u7f13\u51b2\u533a\u7528\u4e8e\u5b58\u50a8\u6570\u636e\uff0c\u800c\u5934\u90e8\u4f59\u91cf\u662f\u7f13\u51b2\u533a\u4e2d\u4e13\u95e8\u4e3a\u5e94\u5bf9\u4e0d\u786e\u5b9a\u6027\u800c\u9884\u7559\u7684\u989d\u5916\u7a7a\u95f4\u3002\u5728==\u8bbe\u8ba1\u7f51\u7edc\u65f6\uff0c\u9700\u8981\u6743\u8861\u7f13\u51b2\u533a\u5927\u5c0f\u548c\u5934\u90e8\u4f59\u91cf\u7684\u5206\u914d\uff0c\u4ee5\u4fbf\u5728\u9ad8\u6548\u5229\u7528\u7f13\u51b2\u533a\u7684\u540c\u65f6\u786e\u4fdd\u7f51\u7edc\u7684\u7a33\u5b9a\u6027\u548c\u53ef\u9760\u6027\u3002==</li> </ul> </li> <li> <p>\u6211\u7684\u7406\u89e3\uff1abuffer\u662f\u6d41\u91cf\u6570\u636e\u7684\u201c\u5907\u80ce\u201d\uff1bheadroom\u662fbuffer\u7684\u201c\u5907\u80ce\u201d \u2705</p> </li> <li> <p>\u7f13\u51b2\u533abuffer\u4e2d\u9664\u4e86headroom\u4e4b\u5916\u8fd8\u6709\u54ea\u4e9b\u4e1c\u897f\uff1f \u5728\u7f51\u7edc\u8bbe\u5907\u7684\u7f13\u51b2\u533a\u4e2d\uff0c\u9664\u4e86\u5934\u90e8\u4f59\u91cf\uff08headroom\uff09\uff0c\u8fd8\u53ef\u80fd\u5305\u542b\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <ol> <li>\u6570\u636e\u5305\u5b58\u50a8\u533a\uff1a \u7f13\u51b2\u533a\u7684\u4e3b\u8981\u4f5c\u7528\u662f\u5b58\u50a8\u7f51\u7edc\u8bbe\u5907\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u3002\u8fd9\u4e9b\u6570\u636e\u5305\u5728\u5230\u8fbe\u8bbe\u5907\u540e\uff0c\u9700\u8981\u6682\u65f6\u5b58\u50a8\u4ee5\u7b49\u5f85\u5904\u7406\u6216\u4f20\u8f93\u5230\u4e0b\u4e00\u4e2a\u63a5\u53e3\u3002</li> <li>\u63a7\u5236\u4fe1\u606f\uff1a \u7f13\u51b2\u533a\u4e2d\u53ef\u80fd\u5305\u542b\u4e0e\u6570\u636e\u5305\u76f8\u5173\u7684\u63a7\u5236\u4fe1\u606f\uff0c\u4f8b\u5982\u65f6\u95f4\u6233\u3001\u6570\u636e\u5305\u7684\u4f18\u5148\u7ea7\u3001\u6765\u6e90\u5730\u5740\u7b49\u3002\u8fd9\u4e9b\u4fe1\u606f\u6709\u52a9\u4e8e\u8bbe\u5907\u5728\u5904\u7406\u548c\u8f6c\u53d1\u6570\u636e\u5305\u65f6\u6267\u884c\u9002\u5f53\u7684\u64cd\u4f5c\u3002</li> <li>\u7f13\u5b58\uff1a \u6709\u4e9b\u7f13\u51b2\u533a\u8fd8\u53ef\u80fd\u5305\u542b\u7f13\u5b58\u6570\u636e\uff0c\u7528\u4e8e\u5b58\u50a8\u6700\u8fd1\u6216\u9891\u7e41\u8bbf\u95ee\u7684\u6570\u636e\uff0c\u4ee5\u63d0\u9ad8\u6570\u636e\u8bbf\u95ee\u901f\u5ea6\u3002</li> <li>\u961f\u5217\uff1a \u7f13\u51b2\u533a\u901a\u5e38\u88ab\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u53ef\u80fd\u7528\u4e8e\u5b58\u50a8\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u6570\u636e\u5305\u3002\u8fd9\u6709\u52a9\u4e8e\u5b9e\u73b0\u5bf9\u4e0d\u540c\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u8981\u6c42\u7684\u652f\u6301\u3002</li> <li>\u4e34\u65f6\u5b58\u50a8\u7a7a\u95f4\uff1a \u7f13\u51b2\u533a\u8fd8\u53ef\u4ee5\u7528\u4e8e\u5b58\u50a8\u4e00\u4e9b\u9700\u8981\u88ab\u4e34\u65f6\u4fdd\u7559\u7684\u6570\u636e\uff0c\u4f8b\u5982\u7531\u4e8e\u7f51\u7edc\u62e5\u585e\u800c\u5bfc\u81f4\u7684\u6570\u636e\u5305\u5ef6\u8fdf\u4f20\u8f93\u3002</li> </ol> </li> <li> <p>review\u300aRDMA\u300b\u4e2d\u63d0\u53ca\u7684headroom\uff0c\u4e32\u8054\u4e00\u4e0b\uff1a</p> <p>During this time, the upstream port will continue to transmit packets. Thus, the ingress port must reserve buffer space for each priority to absorb packets that arrive during this \u201cgray period\u201d. This reserved buffer is called headroom. The size of the headroom is decided by the MTU size, the PFC reaction time of the egress port, and most importantly, the propagation delay between the sender and the receiver</p> </li> </ol> <p>\u5728\u8fd9\u6bb5\u65f6\u95f4\u5185\uff0c\u4e0a\u884c\u7aef\u53e3\u5c06\u7ee7\u7eed\u4f20\u8f93\u6570\u636e\u5305\u3002\u56e0\u6b64\uff0c\u5165\u53e3\u7aef\u53e3\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u4f18\u5148\u7ea7\u9884\u7559\u7f13\u51b2\u533a\u7a7a\u95f4\uff0c\u4ee5\u5438\u6536\u5728\u8fd9\u4e2a \u201c\u7070\u8272\u671f\u95f4\u201d \u5185\u5230\u8fbe\u7684\u6570\u636e\u5305\u3002==\u8fd9\u4e2a\u9884\u7559\u7684\u7f13\u51b2\u533a\u88ab\u79f0\u4e3a\u5934\u90e8\u4f59\u91cf==\u3002\u5934\u90e8\u4f59\u91cf\u7684\u5927\u5c0f\u7531\u6700\u5927\u4f20\u8f93\u5355\u5143\uff08MTU\uff09\u5927\u5c0f\u3001\u51fa\u53e3\u7aef\u53e3\u7684PFC\u54cd\u5e94\u65f6\u95f4\uff0c\u6700\u91cd\u8981\u7684\u662f\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\u4e4b\u95f4\u7684\u4f20\u64ad\u5ef6\u8fdf\u51b3\u5b9a\u3002</p> <ol> <li>\u9762\u5bf9\u6d41\u91cf\u8fc7\u591a\u7684\u60c5\u51b5\uff0cPFC\u7684\u7f13\u5b58\u533a\u4e2d\u8d77\u4e3b\u529b\u7684\u662f\u4e0d\u662fheadroom \u662f\u7684\uff0cPFC\uff08Priority Flow Control\uff09\u5728\u9762\u5bf9==\u6d41\u91cf\u8fc7\u591a\u7684\u60c5\u51b5\u65f6\uff0cheadroom\uff08\u5934\u90e8\u4f59\u91cf\uff09\u901a\u5e38\u4f1a\u8d77\u5230\u4e3b\u8981\u7684\u4f5c\u7528==\u3002\u5728PFC\u4e2d\uff0c\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u6570\u636e\u6d41\u901a\u8fc7\u4ea4\u6362\u673a\u65f6\uff0c\u53ef\u4ee5\u4f7f\u7528PFC\u673a\u5236\u6765\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u4ee5\u4fdd\u62a4\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u4e0d\u53d7\u4f4e\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u5f71\u54cd\u3002</li> </ol> <p>\u5934\u90e8\u4f59\u91cf\u662f\u4e3a\u4e86\u5904\u7406\u7279\u5b9a\u65f6\u95f4\u6bb5\u5185\u7a81\u53d1\u6d41\u91cf\u800c\u5728\u7f13\u51b2\u533a\u4e2d\u9884\u7559\u7684\u989d\u5916\u7a7a\u95f4\u3002\u5728PFC\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c==\u5934\u90e8\u4f59\u91cf\u53ef\u4ee5\u7528\u4e8e\u4e34\u65f6\u5b58\u50a8\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\uff0c\u4ee5\u9632\u6b62\u5728\u7f51\u7edc\u62e5\u585e\u7684\u60c5\u51b5\u4e0b\u4e22\u5931\u8fd9\u4e9b\u5173\u952e\u6570\u636e\u5305==\u3002\u5f53PFC\u751f\u6548\u65f6\uff0c\u4f1a\u53d1\u9001\u63a7\u5236\u5e27\u901a\u77e5\u53d1\u9001\u7aef\u505c\u6b62\u53d1\u9001\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\uff0c\u4ece\u800c\u5728\u8fd9\u4e2a\u201c\u7070\u8272\u671f\u95f4\u201d\u5185\uff0c\u5934\u90e8\u4f59\u91cf\u7684\u7a7a\u95f4\u53ef\u4ee5\u7528\u4e8e\u7f13\u5b58\u6765\u81ea\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u6570\u636e\u5305\uff0c\u4ee5\u514d\u53d1\u751f\u7f13\u51b2\u533a\u6ea2\u51fa\u3002</p> <p>\u56e0\u6b64\uff0c\u53ef\u4ee5\u8bf4\u5728PFC\u4e2d\uff0c\u5934\u90e8\u4f59\u91cf\u662f\u5e94\u5bf9\u6d41\u91cf\u8fc7\u591a\u60c5\u51b5\u7684\u5173\u952e\u56e0\u7d20\uff0c\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u53ef\u9760\u4f20\u8f93\u3002\u8fd9\u79cd\u673a\u5236\u6709\u52a9\u4e8e\u7ef4\u6301\u7f51\u7edc\u7684\u6027\u80fd\u548c\u670d\u52a1\u8d28\u91cf\uff0c\u7279\u522b\u662f\u5728\u5bf9\u5ef6\u8fdf\u654f\u611f\u7684\u5e94\u7528\u4e2d\uff0c\u5982\u5b9e\u65f6\u97f3\u89c6\u9891\u6216\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\u7b49\u3002</p> <ol> <li> <p>\u201cgray period\u201d\u65f6\uff0c\u5176\u4ed6\u5143\u4ef6\u5728\u5e72\u4ec0\u4e48\uff1f \u5728\u6587\u4e2d\u63d0\u5230\u7684 \"\u7070\u8272\u671f\u95f4\" \u5185\uff0c\u6307\u7684\u662f\u5728\u542f\u7528PFC\uff08Priority Flow Control\uff09\u673a\u5236\u7684\u60c5\u51b5\u4e0b\uff0c\u5f53\u53d1\u751f\u6d41\u91cf\u63a7\u5236\uff0c\u6682\u65f6\u505c\u6b62\u4e86\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u4f20\u8f93\u7684\u65f6\u95f4\u6bb5\u3002\u5728\u8fd9\u4e2a\u65f6\u95f4\u6bb5\u5185\uff0c\u7f13\u51b2\u533a\u4e2d\u7684\u5176\u4ed6\u5143\u4ef6\u53ef\u80fd\u4f1a\u6267\u884c\u4ee5\u4e0b\u4e00\u4e9b\u64cd\u4f5c\uff1a [1] \u4f4e\u4f18\u5148\u7ea7\u6570\u636e\u7684\u7f13\u5b58\uff1a \u5728PFC\u751f\u6548\u671f\u95f4\uff0c\u4f4e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u4f1a\u88ab\u6682\u505c\u6216\u9650\u5236\u3002\u7f13\u51b2\u533a\u4e2d\u53ef\u80fd\u4f1a\u7ee7\u7eed\u5b58\u50a8\u8fd9\u4e9b\u4f4e\u4f18\u5148\u7ea7\u7684\u6570\u636e\u5305\uff0c\u7b49\u5f85 PFC \u89e3\u9664\u65f6\u518d\u8fdb\u884c\u4f20\u8f93\u3002 [2] \u63a7\u5236\u4fe1\u606f\u5904\u7406\uff1a \u7f13\u51b2\u533a\u4e2d\u53ef\u80fd\u5305\u542b\u4e0e\u6570\u636e\u5305\u4f20\u8f93\u548c\u6d41\u63a7\u5236\u76f8\u5173\u7684\u63a7\u5236\u4fe1\u606f\u3002\u8fd9\u4e9b\u4fe1\u606f\u53ef\u80fd\u5305\u62ec PFC \u63a7\u5236\u5e27\u3001\u4f18\u5148\u7ea7\u4fe1\u606f\u3001\u65f6\u95f4\u6233\u7b49\u3002 [3] \u961f\u5217\u7ba1\u7406\uff1a \u7f13\u51b2\u533a\u901a\u5e38\u4f1a\u5212\u5206\u4e3a\u4e0d\u540c\u7684\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u5bf9\u5e94\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u3002\u5728 \"\u7070\u8272\u671f\u95f4\" \u5185\uff0c\u961f\u5217\u7ba1\u7406\u53ef\u80fd\u7ee7\u7eed\u8fdb\u884c\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5305\u7684\u6709\u5e8f\u4f20\u8f93\u3002 [4] \u5934\u90e8\u4f59\u91cf\u7684\u5229\u7528\uff1a \u5934\u90e8\u4f59\u91cf\u662f\u4e3a\u4e86\u5e94\u5bf9\u7f51\u7edc\u4e0d\u786e\u5b9a\u6027\u800c\u9884\u7559\u7684\u989d\u5916\u7a7a\u95f4\u3002\u5728 \"\u7070\u8272\u671f\u95f4\" \u5185\uff0c\u5934\u90e8\u4f59\u91cf\u53ef\u80fd\u88ab\u7528\u4e8e\u5b58\u50a8\u4e34\u65f6\u7684\u9ad8\u4f18\u5148\u7ea7\u6570\u636e\u5305\uff0c\u4ee5\u5145\u5206\u5229\u7528\u8fd9\u6bb5\u65f6\u95f4\uff0c\u4fdd\u62a4\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u4f20\u8f93\u3002 [5] \u9519\u8bef\u5904\u7406\uff1a \u7f13\u51b2\u533a\u4e2d\u53ef\u80fd\u5305\u542b\u6709\u5173\u6570\u636e\u5305\u4f20\u8f93\u7684\u9519\u8bef\u4fe1\u606f\u3002\u5728 \"\u7070\u8272\u671f\u95f4\" \u5185\uff0c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u4f1a\u6267\u884c\u9519\u8bef\u5904\u7406\u548c\u7ea0\u6b63\u64cd\u4f5c\uff0c\u4ee5\u786e\u4fdd\u540e\u7eed\u7684\u6570\u636e\u4f20\u8f93\u4e0d\u53d7\u5f71\u54cd\u3002</p> </li> <li> <p>PFC \u95e8\u9650\u914d\u7f6e\uff1a \u901a\u8fc7\u914d\u7f6e PFC \u7f13\u5b58\u95e8\u9650\u53ef\u4ee5\u6709\u6548\u89e3\u51b3\u56e0\u7f13\u51b2\u7a7a\u95f4\u4e0d\u8db3\u548c\u5165\u6d41\u91cf\u961f\u5217\u6570\u91cf\u8fc7\u5927\uff0c \u5bfc\u81f4\u53d1\u9001\u6570\u636e\u7f13\u51b2\u533a\u5c3e\u4e22\u5f03\u7b49\u95ee\u9898\u3002</p> </li> </ol> <p>\u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u63a5\u53e3\u7684\u7f13\u51b2\u7a7a\u95f4\u8bbe\u7f6e\u3002\u63a5\u53e3\u7684\u7f13\u51b2\u7a7a\u95f4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\uff1a</p> <p>step1: Guaranteed\u5b58\u50a8\u7a7a\u95f4\uff1a \u56fa\u5b9a\u7f13\u51b2\u533a\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u4f18\u5148\u7ea7\u961f\u5217\u548c\u7aef\u53e3\u63d0\u4f9b\u6700\u5c0f\u7684\u7f13\u5b58\u4fdd\u8bc1\u3002 \u7cfb\u7edf\u4f1a\u6839\u636e\u7528\u6237\u7684\u914d\u7f6e\u7ed9\u961f\u5217\u9884\u7559\u6307\u5b9a\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u5373\u4fbf\u8be5\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5176\u4ed6\u961f\u5217\u4e5f\u4e0d\u80fd\u62a2\u5360\u3002==\u7ed9\u961f\u5217\u9884\u7559\u7684\u7a7a\u95f4\u5747\u5206\u7ed9\u6bcf\u4e2a\u7aef\u53e3\u7684==\uff0c\u5373\u4f7f\u67d0\u7aef\u53e3\u7684\u67d0\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5176\u4ed6\u7aef\u53e3\u4e5f\u4e0d\u80fd\u62a2\u5360\u3002</p> <p>step2: Shared\u5b58\u50a8\u7a7a\u95f4\uff1a \u5171\u4eab\u7f13\u51b2\u533a\uff0c==\u5f53==\u7aef\u53e3\u6216\u4f18\u5148\u7ea7\u7684==\u56fa\u5b9a\u7f13\u51b2\u533a\u4e0d\u591f\u7528==\u65f6\uff0c \u4f7f\u7528 Shared \u5b58\u50a8\u7a7a\u95f4\uff0c==\u7cfb\u7edf\u4f1a\u6839\u636e\u7528\u6237\u914d\u7f6e\u4ee5\u53ca\u5b9e\u9645\u9700\u8981\u6536\u53d1\u62a5\u6587\u7684\u6570\u91cf\u51b3\u5b9a\u6bcf\u4e2a\u961f\u5217\u5b9e\u9645\u53ef\u5360\u7528\u7684\u7f13\u51b2\u533a\u7684\u5927\u5c0f==\u3002\u5982\u679c\u67d0\u4e2a\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5219\u5176\u4ed6\u961f\u5217\u4f1a\u62a2\u5360\u8be5\u961f\u5217\u7684\u914d\u989d\u3002\u5bf9\u4e8e\u67d0\u4e2a\u961f\u5217\u7684\u7f13\u51b2\u533a\uff0c\u6240\u6709\u7aef\u53e3\u63a5\u6536\u6216\u53d1\u9001\u7684\u62a5\u6587==\u91c7\u7528\u62a2\u5360\u7684\u65b9\u5f0f\uff0c\u5148\u5230\u5148\u5f97\uff0c\u5982\u679c\u8d44\u6e90\u8017\u5c3d\uff0c\u5219\u540e\u5230\u8fbe\u7684\u62a5\u6587\u5c06\u88ab\u4e22\u5f03\u3002==</p> <p>step3: Headroom\u5b58\u50a8\u7a7a\u95f4\uff1a Headroom \u7f13\u51b2\u533a\uff0c\u5f53\u7aef\u53e3PFC\u529f\u80fd\u751f\u6548\u5e76\u89e6\u53d1PFC\u53cd\u538b\u5e27\u95e8\u9650\u540e\uff0c\u672c\u7aef\u8bbe\u5907\u53d1\u9001PFC PAUSE\u5e27\u5230\u5bf9\u7aef\u8bbe\u5907\u8ba9\u5bf9\u7aef\u505c\u6b62\u6d41\u91cf\u53d1\u9001\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u5728\u9014\u7684\u8fd9\u90e8\u5206\u6d41\u91cf\u7684\u7f13\u5b58\u7a7a\u95f4\uff0c\u8bbe\u5907\u9700\u8981\u8fd9\u4e9b\u7f13\u51b2\u7a7a\u95f4\u6765\u4fdd\u8bc1 PFC \u6d41\u7a0b\u7684\u4e0d\u4e22\u5305\u3002</p> <p>PFC \u76ee\u524d\u63d0\u4f9b\u4ee5\u4e0b\u95e8\u9650\u8bbe\u7f6e\uff1a</p> <p>Headroom \u7f13\u5b58\u95e8\u9650\uff1a Headroom \u5b58\u50a8\u7a7a\u95f4\u4e2d\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u7684\u6700\u5927\u4f7f\u7528cell\u8d44\u6e90\u3002\u5f53\u8fbe\u5230\u4f7f\u7528\u7684 cell \u8d44\u6e90\u540e\uff0c\u8be5\u63a5\u53e3\u4f1a\u4e22\u5f03\u6536\u5230\u7684\u62a5\u6587\u3002</p> <p>\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a Shared \u5b58\u50a8\u7a7a\u95f4\u4e2d\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u5728\u8be5\u5b58\u50a8\u7a7a\u95f4\u4f7f\u7528 cell \u8d44\u6e90\u4e0a\u9650\u3002\u8fbe\u5230\u4e0a\u9650\u540e\uff0c\u4f1a\u89e6\u53d1 PFC \u529f\u80fd\u53d1\u9001 PAUSE \u5e27\u3002 \u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\u53c8\u5206\u4e3a\u52a8\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\u548c\u9759\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a1\uff09\u52a8\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a\u8bbe\u7f6e\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u89e6\u53d1 PFC PAUSE \u5e27\u7684\u53ef\u7528 cell \u8d44\u6e90\u7684\u767e\u5206\u6bd4\u30022\uff09\u9759\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a\u8bbe\u7f6e\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u89e6\u53d1 PFC PAUSE \u5e27\u7684\u53ef\u7528 cell \u8d44\u6e90\u95e8\u9650\u4e3a\u4e00\u4e2a\u56fa\u5b9a\u503c\u3002</p> <p>\u53cd\u538b\u5e27\u505c\u6b62\u95e8\u9650\u4e0e\u89e6\u53d1\u95e8\u9650\u95f4\u7684\u504f\u79fb\u91cf\uff1a\u5f53\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u4f7f\u7528\u7684 cell \u8d44\u6e90\u51cf\u5c0f\u4e86\u4e00\u4e2a\u56fa\u5b9a\u503c\u65f6\uff0c \u505c\u6b62\u53d1\u9001 PFC PAUSE \u5e27\uff0c \u4f7f\u5bf9\u7aef\u8bbe\u5907\u6062\u590d\u6d41\u91cf\u53d1\u9001\u3002</p> <p>PFC\u9884\u7559\u95e8\u9650\uff1a Guaranteed\u5b58\u50a8\u7a7a\u95f4\u4e2d\u4e3a\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u9884\u7559\u7684cell\u8d44\u6e90\u3002</p> <p>Headroom\u6700\u5927\u53ef\u7528\u7684 cell \u8d44\u6e90\uff1a\u914d\u7f6e\u67d0\u7f13\u5b58\u6c60\uff08pool\uff0c\u4ea7\u54c1\u5177\u4f53\u652f\u6301\u7684poolID\u4e0e\u4ea7\u54c1\u578b\u53f7\u6709\u5173\uff0c\u8bf7\u4ee5\u8bbe\u5907\u7684\u5b9e\u9645\u60c5\u51b5\u4e3a\u51c6\uff09 \u4e2d\uff0c\u5206\u914d\u7ed9Headroom\u5b58\u50a8\u7a7a\u95f4\u7684cell\u8d44\u6e90\u7684\u5927\u5c0f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#3","title":"(3) \"\u5f53\u524d\u7684\u9759\u6001\u4e14\u4e0e\u961f\u5217\u65e0\u5173\u7684\u4f59\u91cf\u5206\u914d\u65b9\u6848\"","text":"<p>Ask\uff1a\u590d\u4e60\u4e0a\u8ff0\u673a\u5236\u4e0e\u961f\u5217\u673a\u5236 1. \u5f53\u524d\u4f7f\u7528\u7684\u4f4e\u6548\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\u8bc4\u4ef7\uff1a</p> <ol> <li>\u9759\u6001\u548c\u72ec\u7acb\u4e8e\u961f\u5217\u7684\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff1a \u63cf\u8ff0\u7684\u662f\u4e00\u79cd\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff0c\u5176\u5206\u914d\u662f\u9759\u6001\u7684\uff0c\u5373\u4e0d\u968f\u7740\u7f51\u7edc\u6d41\u91cf\u548c\u62e5\u585e\u60c5\u51b5\u7684\u53d8\u5316\u800c\u52a8\u6001\u8c03\u6574\u3002\u540c\u65f6\uff0c\u8be5\u65b9\u6848\u4e0e\u961f\u5217\u4e4b\u95f4\u7684\u5173\u7cfb\u662f\u72ec\u7acb\u7684\uff0c\u610f\u5473\u7740\u4e0d\u8003\u8651\u4e0d\u540c\u961f\u5217\u7684\u4e0d\u540c\u7279\u6027\u548c\u9700\u6c42\u3002</li> <li>\u56fa\u6709\u7684\u4f4e\u6548\u6027\uff1a \u4f7f\u7528 \"inherently inefficient\" \u8868\u793a\u8fd9\u79cd\u65b9\u6848\u7684\u56fa\u6709\u4f4e\u6548\u6027\uff0c\u5373\u8fd9\u79cd\u65b9\u6cd5\u5728\u89e3\u51b3\u95ee\u9898\u65f6\u672c\u8d28\u4e0a\u4e0d\u662f\u9ad8\u6548\u7684\u3002\u53ef\u80fd\u5b58\u5728\u4ee5\u4e0b\u4e00\u4e9b\u95ee\u9898\uff1a</li> <li>\u4e0d\u9002\u5e94\u52a8\u6001\u53d8\u5316\uff1a \u7531\u4e8e\u662f\u9759\u6001\u5206\u914d\uff0c\u8be5\u65b9\u6848\u53ef\u80fd\u65e0\u6cd5\u7075\u6d3b\u5730\u5e94\u5bf9\u7f51\u7edc\u6d41\u91cf\u7684\u52a8\u6001\u53d8\u5316\uff0c\u5bfc\u81f4\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\u6d6a\u8d39\u4e86\u5934\u90e8\u4f59\u91cf\uff0c\u800c\u5728\u5176\u4ed6\u60c5\u51b5\u4e0b\u53ef\u80fd\u4e0d\u8db3\u3002</li> <li>\u672a\u8003\u8651\u961f\u5217\u7279\u6027\uff1a \u4e0d\u8003\u8651\u961f\u5217\u4e4b\u95f4\u7684\u5dee\u5f02\u53ef\u80fd\u5bfc\u81f4\u8d44\u6e90\u5206\u914d\u4e0d\u8db3\u6216\u4e0d\u5408\u7406\uff0c\u56e0\u4e3a\u4e0d\u540c\u961f\u5217\u53ef\u80fd\u5177\u6709\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u6216\u6d41\u91cf\u6a21\u5f0f\uff0c\u9700\u8981\u66f4\u7075\u6d3b\u7684\u5206\u914d\u7b56\u7565\u3002</li> </ol> <p>\u95ee\u9898\u7684\u80cc\u666f\uff1a \u8be5\u53e5\u63d0\u5230\u8fd9\u79cd\u4f4e\u6548\u6027\u662f\u5728\u89e3\u51b3\u67d0\u4e2a\u95ee\u9898\u65f6\u51fa\u73b0\u7684\u3002\u8fd9\u4e2a\u95ee\u9898\u7684\u5177\u4f53\u6027\u8d28\u53ef\u80fd\u5728\u6587\u672c\u7684\u524d\u540e\u90e8\u5206\u6709\u6240\u63cf\u8ff0\uff0c\u4f46\u5728\u8fd9\u53e5\u8bdd\u4e2d\u6ca1\u6709\u8be6\u7ec6\u8bf4\u660e\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/#4-dsh","title":"(4) \u52a8\u6001\u5171\u4eab\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08DSH\uff09","text":"<p>Need\uff1a\u7b80\u8981\u641c\u7d22\u4e86\u89e3\u8fd9\u4e2a\u65b9\u6848</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Background/","title":"Background","text":"<p>In this section, we introduce the background of PFC and switch buffer</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Background/#a-priority-based-flow-control","title":"A. Priority-based Flow Control","text":"<p>Ethernet-based datacenter networks rely on Priority-based Flow Control (PFC) [20] to guarantee lossless packet forwarding. PFC is a hop-by-hop flow control mechanism (as shown in Fig. 1). In a PFC-enabled switch, once the length of an ingress queue exceeds a preset threshold ( i.e., \\(Xoff\\) ), the switch sends a PAUSE frame to the upstream device. Receiving the PAUSE frame, the upstream device suspends the packet transmission for some duration specified by the PAUSE frame. When the ingress queue length falls below another threshold ( i.e., \\(Xon\\) ), the device sends a PAUSE frame with zero duration (we refer to it as RESUME frame in this paper) to the upstream device, which recovers the packet transmission.</p> <p>\u4ee5\u4ee5\u592a\u7f51\u4e3a\u57fa\u7840\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4f9d\u8d56\u4e8e\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u63a7\u5236\uff08PFC\uff09[20]\u6765\u4fdd\u8bc1\u65e0\u4e22\u5305\u7684\u6570\u636e\u8f6c\u53d1\u3002PFC\u662f\u4e00\u79cd\u9010\u8df3\u7684\u6d41\u63a7\u5236\u673a\u5236\uff08\u5982\u56fe1\u6240\u793a\uff09\u3002\u5728\u542f\u7528\u4e86PFC\u7684\u4ea4\u6362\u673a\u4e2d\uff0c\u4e00\u65e6\u5165\u53e3\u961f\u5217\u7684\u957f\u5ea6\u8d85\u8fc7\u9884\u8bbe\u9608\u503c\uff08\u5373\\(Xoff\\)\uff09\uff0c\u4ea4\u6362\u673a\u5c31\u4f1a\u5411\u4e0a\u6e38\u8bbe\u5907\u53d1\u9001\u4e00\u4e2a==\u6682\u505c\u5e27\uff08PAUSE frame\uff09== \u3002\u63a5\u6536\u5230\u6682\u505c\u5e27\u540e\uff0c\u4e0a\u6e38\u8bbe\u5907\u4f1a\u6682\u505c\u4e00\u5b9a\u65f6\u95f4\uff0c\u8be5\u65f6\u95f4\u7531\u6682\u505c\u5e27\u4e2d\u6307\u5b9a\u3002\u5f53\u5165\u53e3\u961f\u5217\u957f\u5ea6\u964d\u5230\u53e6\u4e00\u4e2a\u9608\u503c\u4ee5\u4e0b\uff08\u5373\\(Xon\\)\uff09\u65f6\uff0c\u8bbe\u5907\u4f1a\u5411\u4e0a\u6e38\u8bbe\u5907\u53d1\u9001\u4e00\u4e2a\u6682\u505c\u5e27\uff0c\u4f46\u8be5\u5e27\u7684\u6301\u7eed\u65f6\u95f4\u4e3a\u96f6\uff08\u6211\u4eec\u5728\u672c\u6587\u4e2d\u79f0\u4e4b\u4e3a==\u6062\u590d\u5e27\uff0cRESUME frame==\uff09\uff0c\u4ece\u800c\u6062\u590d\u6570\u636e\u4f20\u8f93\u3002</p> <p>To prevent packet dropping, \\(Xoff\\) should be set conservatively. This is because it takes time for the PAUSE frame to arrive at the upstream device and take effect. To prevent buffer overflow, enough buffer beyond \\(Xoff\\) should be reserved to accommodate in-flight packets during this time. The reserved buffer beyond \\(Xoff\\) is called buffer headroom.</p> <p>\u4e3a\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\uff0c\\(Xoff\\) \u5e94\u8be5\u88ab\u8c28\u614e\u8bbe\u7f6e\u3002\u8fd9\u662f\u56e0\u4e3aPAUSE\u5e27\u9700\u8981\u65f6\u95f4\u4f20\u8f93\u5230\u4e0a\u6e38\u8bbe\u5907\u5e76\u751f\u6548\u3002\u4e3a\u4e86\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u5728\\(Xoff\\) \u4e4b\u5916\u9700\u8981\u4fdd\u7559\u8db3\u591f\u7684\u7f13\u51b2\u533a\u6765\u5bb9\u7eb3\u5728\u6b64\u671f\u95f4\u7684\u5728\u9014\u6570\u636e\u5305\u3002\u5728\\(Xoff\\) \u4e4b\u5916\u7684\u4fdd\u7559\u7f13\u51b2\u533a\u88ab\u79f0\u4e3a\u7f13\u51b2\u5934\u90e8\u4f59\u91cf\u3002</p> <p>In the PFC standard [20], traffic can be classified into 8 priority classes. Each priority class is mapped to a separate queue and packets belonging to different priority classes are placed into different queues. The PFC messages carry the priority information and can only pause/resume a specific traffic class.</p> <p>\u5728PFC\u6807\u51c6[20]\u4e2d\uff0c\u6d41\u91cf\u53ef\u4ee5\u88ab\u5206\u7c7b\u4e3a8\u4e2a\u4f18\u5148\u7ea7\u7c7b\u522b\u3002\u6bcf\u4e2a\u4f18\u5148\u7ea7\u7c7b\u522b\u88ab\u6620\u5c04\u5230\u4e00\u4e2a\u5355\u72ec\u7684\u961f\u5217\uff0c\u4e0d\u540c\u4f18\u5148\u7ea7\u7c7b\u522b\u7684\u6570\u636e\u5305\u88ab\u653e\u7f6e\u5230\u4e0d\u540c\u7684\u961f\u5217\u4e2d\u3002PFC\u6d88\u606f\u643a\u5e26\u4f18\u5148\u7ea7\u4fe1\u606f\uff0c\u53ea\u80fd\u6682\u505c/\u6062\u590d\u7279\u5b9a\u6d41\u91cf\u7c7b\u522b\u3002 ![[Pasted image 20231125105256.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Background/#b-buffer-architecture-in-pfc-enabled-switches","title":"B. Buffer Architecture in PFC-enabled Switches","text":"<p>On a switching chip, the packets waiting to be transmitted are stored in a packet buffer. Today\u2019s commodity high-speed switching chips usually employ on-chip shared memory for high-bandwidth and low-latency packet access [3], [13], [21]\u2013 [28].</p> <p>\u5728\u4e00\u4e2a\u4ea4\u6362\u82af\u7247\u4e0a\uff0c\u7b49\u5f85\u4f20\u8f93\u7684\u6570\u636e\u5305\u5b58\u50a8\u5728\u6570\u636e\u5305\u7f13\u51b2\u533a\u4e2d\u3002\u5982\u4eca\u7684\u901a\u7528\u9ad8\u901f\u4ea4\u6362\u82af\u7247\u901a\u5e38\u91c7\u7528\u82af\u7247\u5185\u5171\u4eab\u5185\u5b58\u6765\u5b9e\u73b0\u9ad8\u5e26\u5bbd\u548c\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u5305\u8bbf\u95ee[3]\uff0c[13]\uff0c[21]\u2013[28]\u3002</p> <p>Basically, in a PFC-enabled switch, the buffer is partitioned into two pools [25], [29], [30] (as shown in Fig. 2). One pool is dedicated to lossless traffic that relies on PFC to avoid congestion loss. The other pool is dedicated to lossy traffic that is allowed to be dropped due to buffer overflow. Buffer is hard partitioned in such way to ensure performance isolation between two kinds of traffic. In this paper, we mainly focus on the lossless pool.</p> <p>\u57fa\u672c\u4e0a\uff0c\u5728\u542f\u7528PFC\u7684\u4ea4\u6362\u673a\u4e2d\uff0c\u7f13\u51b2\u533a\u88ab\u5206\u4e3a\u4e24\u4e2a\u6c60[25]\uff0c[29]\uff0c[30]\uff08\u5982\u56fe2\u6240\u793a\uff09\u3002\u4e00\u4e2a\u6c60\u4e13\u7528\u4e8e\u4f9d\u8d56PFC\u907f\u514d\u62e5\u585e\u4e22\u5305\u7684\u65e0\u4e22\u5305\u6d41\u91cf\u3002\u53e6\u4e00\u4e2a\u6c60\u4e13\u7528\u4e8e\u5141\u8bb8\u7531\u4e8e\u7f13\u51b2\u533a\u6ea2\u51fa\u800c\u4e22\u5f03\u7684\u6709\u4e22\u5305\u6d41\u91cf\u3002\u7f13\u51b2\u533a\u88ab\u786c\u6027\u5212\u5206\uff0c\u4ee5\u786e\u4fdd\u4e24\u79cd\u6d41\u91cf\u4e4b\u95f4\u7684\u6027\u80fd\u9694\u79bb\u3002\u5728==\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u4e3b\u8981\u5173\u6ce8\u65e0\u4e22\u5305\u6c60==\u3002</p> <p>In the lossless pool, the buffer is further partitioned into three segments: - Private buffer: buffer space reserved for each queue, which guarantees each queue\u2019s minimum buffer resource. - Shared buffer: buffer space shared among all queues.  - Headroom buffer: buffer space reserved for each queue, which absorbs in-flight packets after sending PAUSE  frames.</p> <p>\u5728\u65e0\u4e22\u5305\u6c60\u4e2d\uff0c\u7f13\u51b2\u533a\u8fdb\u4e00\u6b65\u5206\u4e3a\u4e09\u4e2a\u90e8\u5206\uff1a - \u79c1\u6709\u7f13\u51b2\u533a\uff1a\u4e3a\u6bcf\u4e2a\u961f\u5217\u4fdd\u7559\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\uff0c\u4ee5\u4fdd\u8bc1\u6bcf\u4e2a\u961f\u5217\u7684\u6700\u5c0f\u7f13\u51b2\u8d44\u6e90\u3002 - \u5171\u4eab\u7f13\u51b2\u533a\uff1a\u5728\u6240\u6709\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\u3002 - \u5934\u90e8\u7f13\u51b2\u533a\uff1a\u4e3a\u6bcf\u4e2a\u961f\u5217\u4fdd\u7559\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\uff0c\u7528\u4e8e\u5728\u53d1\u9001PAUSE\u5e27\u540e\u5438\u6536\u5728\u9014\u6570\u636e\u5305\u3002 ![[Pasted image 20231125105318.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Background/#c-buffer-allocation-and-management-in-the-lossless-pool","title":"C. Buffer Allocation and Management in the Lossless Pool","text":"<p>The switching chip utilizes a Memory Management Unit (MMU) to allocate the buffer to arriving packets. For lossless traffic, MMU manages the buffer from the ingress perspective [29]\u2013[31] (i.e., allocating buffer to ingress ports/queues). The sizes of private buffer and headroom buffer are explicitly configured. The remaining buffer serves as shared buffer.</p> <p>\u4ea4\u6362\u82af\u7247\u5229\u7528\u5185\u5b58\u7ba1\u7406\u5355\u5143\uff08Memory Management Unit\uff0cMMU\uff09 \u6765\u4e3a\u5230\u8fbe\u7684\u6570\u636e\u5305\u5206\u914d\u7f13\u51b2\u533a\u3002\u5bf9\u4e8e\u65e0\u4e22\u5305\u6d41\u91cf\uff0cMMU\u4ece\u5165\u53e3\u7684\u89d2\u5ea6\u8fdb\u884c\u7f13\u51b2\u533a\u7ba1\u7406[29]\u2013[31]\uff08\u5373\u4e3a\u5165\u53e3\u7aef\u53e3/\u961f\u5217\u5206\u914d\u7f13\u51b2\u533a\uff09\u3002\u79c1\u6709\u7f13\u51b2\u533a\u548c\u5934\u90e8\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u662f\u663e\u5f0f\u914d\u7f6e\u7684\uff0c\u800c\u5269\u4f59\u7684\u7f13\u51b2\u533a\u7528\u4f5c\u5171\u4eab\u7f13\u51b2\u533a\u3002</p> <p>Private buffer\uff1a. There is no explicit rule specifying how to configure the private buffer size. Nevertheless, the amount of private buffer is relatively small (e.g., 16% in Arista 7050X3 switches [26]).</p> <p>\u79c1\u6709\u7f13\u51b2\u533a\uff1a \u6ca1\u6709\u660e\u786e\u7684\u89c4\u5219\u89c4\u5b9a\u5982\u4f55\u914d\u7f6e\u79c1\u6709\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u7136\u800c\uff0c\u79c1\u6709\u7f13\u51b2\u533a\u7684\u91cf\u76f8\u5bf9\u8f83\u5c0f\uff08\u4f8b\u5982\uff0c\u5728Arista 7050X3\u4ea4\u6362\u673a\u4e2d\u4e3a16%\uff09\u3002</p> <p>Headroom buffer\uff1a Different from the private buffer, the size of the headroom buffer should be carefully configured to prevent packet loss. This is because it takes some delay for a PAUSE frame to take effect, and the MMU needs to reserve enough headroom to absorb the arriving traffic during this delay. According to [1], [3], [32], [33], the headroom size for each ingress queue (denoted by \u03b7) is given by</p> <p>\u5934\u90e8\u7f13\u51b2\u533a\uff1a \u4e0e\u79c1\u6709\u7f13\u51b2\u533a\u4e0d\u540c\uff0c\u5934\u90e8\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u9700\u8981\u4ed4\u7ec6\u914d\u7f6e\u4ee5\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\u3002\u8fd9\u662f\u56e0\u4e3a==PAUSE\u5e27\u9700\u8981\u4e00\u4e9b\u5ef6\u8fdf\u624d\u80fd\u751f\u6548\uff0c\u800cMMU\u9700\u8981\u4fdd\u7559\u8db3\u591f\u7684\u5934\u90e8\u4f59\u91cf\u6765\u5438\u6536\u5728\u6b64\u5ef6\u8fdf\u671f\u95f4\u5230\u8fbe\u7684\u6d41\u91cf==\u3002\u6839\u636e[1]\uff0c[3]\uff0c[32]\uff0c[33]\uff0c\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u7684\u5934\u90e8\u5927\u5c0f\uff08\u7528\u03b7\u8868\u793a\uff09\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> <p>\\(\u03b7 = 2 (C \u00b7 Dprop + L[MTU] ) + 3840B\\)</p> <p>where C is the capacity of the upstream link, \\(Dprop\\) is the propagation delay of the upstream link, and \\(L[MTU]\\) is the length of an MTU-sized packet. The rationale of such a setting is as follows. The delay for PFC pause to take effect comprises the following five parts:</p> <p>ps\uff1a\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0cMTU\u4ee3\u8868\u6700\u5927\u4f20\u8f93\u5355\u5143\uff08Maximum Transmission Unit\uff09\u3002MTU\u662f\u6307\u5728\u901a\u4fe1\u4e2d\u80fd\u591f\u4e00\u6b21\u6027\u4f20\u8f93\u7684\u6570\u636e\u5305\u7684\u6700\u5927\u5c3a\u5bf8\u3002\u901a\u5e38\uff0cMTU\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\u8868\u793a\uff0c\u5b83\u51b3\u5b9a\u4e86\u7f51\u7edc\u4e2d\u80fd\u591f\u4f20\u8f93\u7684\u6700\u5927\u6570\u636e\u5305\u7684\u5927\u5c0f\u3002</p> <p>\u5176\u4e2d\uff0cC\u662f\u4e0a\u884c\u94fe\u8def\u7684\u5bb9\u91cf\uff0c\\(D_{prop}\\)\u662f\u4e0a\u884c\u94fe\u8def\u7684\u4f20\u64ad\u5ef6\u8fdf\uff0c\\(L[MTU]\\)\u662f\u4e00\u4e2a\u4ee5MTU\u4e3a\u5927\u5c0f\u7684\u6570\u636e\u5305\u7684\u957f\u5ea6\u3002\u8fd9\u79cd\u8bbe\u7f6e\u7684\u57fa\u672c\u539f\u7406\u5982\u4e0b\u3002PFC\u6682\u505c\u751f\u6548\u6240\u9700\u7684\u5ef6\u8fdf\u5305\u62ec\u4ee5\u4e0b\u4e94\u4e2a\u90e8\u5206\uff1a</p> <ol> <li>Waiting delay: A port may be busy transmitting another packet when a PAUSE frame is generated. The PAUSE frame needs to wait for the transmission to be finished. In the worst case, the port just begins to transmit the first bit of an MTU-sized packet, and thus the PAUSE frame needs to wait for LMTU/C time.</li> <li>Propagation delay (of PAUSE frame): It takes \\(Dprop\\) time for the PAUSE frame to arrive at the upstream device. \\(Dprop\\) depends on the cable length and propagation speed of signals. In data centers, the distance between two connected switches can be as large as 300 meters [3]. For single-mode fibers, the speed of light is 65% of that in a vacuum. As a result, the propagation delay is \u223c1.5\u03bcs.</li> <li>Processing delay: It takes some time for the switch to process the PAUSE frame and stop the transmission. The PFC definition has capped this time to 3840B/C [32].</li> <li>Response delay: When the upstream port decides to execute the pause action, it might be sending another packet. In the worst case, the switch just begins to transmit the first bit of an MTU-sized packet. Thus, it takes LMTU/C for the pause action to truly take effect.</li> <li> <p>Propagation delay (of the last packet): When the upstream device stops sending packets, there are still some in-flight packets on the link, which should also be absorbed by the headroom. It takes another Dprop time for the last sent packet to arrive at the downstream switch. Combining the above five parts results in Eq. (1).</p> </li> <li> <p>\u7b49\u5f85\u5ef6\u8fdf\uff1a\u5f53\u751f\u6210\u4e00\u4e2aPAUSE\u5e27\u65f6\uff0c\u7aef\u53e3\u53ef\u80fd\u6b63\u5728\u4f20\u8f93\u53e6\u4e00\u4e2a\u6570\u636e\u5305\u3002PAUSE\u5e27\u9700\u8981\u7b49\u5f85\u4f20\u8f93\u5b8c\u6210\u3002\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u7aef\u53e3\u521a\u5f00\u59cb\u4f20\u8f93\u4e00\u4e2a\u4ee5MTU\u4e3a\u5927\u5c0f\u7684\u6570\u636e\u5305\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\uff0c\u56e0\u6b64PAUSE\u5e27\u9700\u8981\u7b49\u5f85LMTU/C\u7684\u65f6\u95f4\u3002\u2705</p> </li> <li>\u4f20\u64ad\u5ef6\u8fdf\uff08PAUSE\u5e27\u7684\uff09\uff1aPAUSE\u5e27\u5230\u8fbe\u4e0a\u6e38\u8bbe\u5907\u9700\u8981\\(Dprop\\)\u7684\u65f6\u95f4\u3002\\(Dprop\\)\u53d6\u51b3\u4e8e\u7535\u7f06\u957f\u5ea6\u548c\u4fe1\u53f7\u4f20\u64ad\u901f\u5ea6\u2705\u3002\u5728\u6570\u636e\u4e2d\u5fc3\uff0c\u4e24\u4e2a\u76f8\u8fde\u4ea4\u6362\u673a\u4e4b\u95f4\u7684\u8ddd\u79bb\u53ef\u80fd\u957f\u8fbe300\u7c73[3]\u3002\u5bf9\u4e8e\u5355\u6a21\u5149\u7ea4\uff0c\u5149\u901f\u662f\u771f\u7a7a\u4e2d\u768465%\u3002\u56e0\u6b64\uff0c\u4f20\u64ad\u5ef6\u8fdf\u7ea6\u4e3a1.5\u5fae\u79d2\u3002</li> <li>\u5904\u7406\u5ef6\u8fdf\uff1a\u4ea4\u6362\u673a\u5904\u7406PAUSE\u5e27\u5e76\u505c\u6b62\u4f20\u8f93\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u3002PFC\u5b9a\u4e49\u5c06\u6b64\u65f6\u95f4\u9650\u5236\u4e3a3840B/C\u2705 [32]\u3002</li> <li>\u54cd\u5e94\u5ef6\u8fdf\uff1a\u5f53\u4e0a\u6e38\u7aef\u53e3\u51b3\u5b9a\u6267\u884c\u6682\u505c\u64cd\u4f5c\u65f6\uff0c\u5b83\u53ef\u80fd\u6b63\u5728\u53d1\u9001\u53e6\u4e00\u4e2a\u6570\u636e\u5305\u3002\u5728\u6700\u574f\u7684\u60c5\u51b5\u4e0b\uff0c\u4ea4\u6362\u673a\u521a\u5f00\u59cb\u4f20\u8f93\u4e00\u4e2a\u4ee5MTU\u4e3a\u5927\u5c0f\u7684\u6570\u636e\u5305\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\u3002\u56e0\u6b64\uff0c\u6267\u884c\u6682\u505c\u64cd\u4f5c\u771f\u6b63\u751f\u6548\u9700\u8981LMTU/C\u7684\u65f6\u95f4\u3002\u2705</li> <li>\u4f20\u64ad\u5ef6\u8fdf\uff08\u6700\u540e\u4e00\u4e2a\u6570\u636e\u5305\u7684\uff09\uff1a\u5f53\u4e0a\u6e38\u8bbe\u5907\u505c\u6b62\u53d1\u9001\u6570\u636e\u5305\u65f6\uff0c\u94fe\u8def\u4e0a\u4ecd\u7136\u5b58\u5728\u4e00\u4e9b\u5728\u9014\u6570\u636e\u5305\uff0c\u8fd9\u4e9b\u6570\u636e\u5305\u4e5f\u5e94\u8be5\u88ab\u5934\u90e8\u4f59\u91cf\u5438\u6536\u3002\u6700\u540e\u4e00\u4e2a\u53d1\u9001\u7684\u6570\u636e\u5305\u5230\u8fbe\u4e0b\u6e38\u4ea4\u6362\u673a\u9700\u8981\u53e6\u5916\u7684Dprop\u65f6\u95f4\u3002\u2705 \u6211\u7684\u8ba1\u7b97\uff1a\u00df = \u5bb9\u91cf = \u603b\u7528\u65f6 x c(\u5149\u901f\uff0c\u4f20\u8f93\u901f\u5ea6) \u7ed3\u5408\u8fd9\u4e94\u4e2a\u65b9\u9762\uff0c\u53ef\u4ee5\u5f97\u51fa\u4e0a\u8ff0\u516c\u5f0f(1)</li> </ol> <p>Shared buffer\uff1a The shared buffer is available to all queues. MMU utilizes a buffer management scheme to ensure fair and efficient allocation of the shared buffer among all queues. Among various buffer management schemes, Dynamic Threshold (DT) is the most common one on commodity switching chips [3], [4], [21]\u2013[23], [26], [29], [34]\u2013[36]. DT uses a threshold to restrict the length of each queue. The threshold is dynamically adjusted according to the remainingbuffer size. Specifically, let T(t) denote the threshold at time t, \\(w^{(i,j)}{(t)}\\) denote the amount of shared buffer occupation for s queue j in port i at time t, and Bs denote the buffer size of the shared segment. The threshold is given by\uff1a</p> <p>\u5171\u4eab\u7f13\u51b2\u533a\uff1a \u5171\u4eab\u7f13\u51b2\u533a\u5bf9\u6240\u6709\u961f\u5217\u90fd\u662f\u53ef\u7528\u7684\u3002MMU\u5229\u7528\u4e00\u79cd\u7f13\u51b2\u533a\u7ba1\u7406\u65b9\u6848\u6765\u786e\u4fdd\u5728\u6240\u6709\u961f\u5217\u4e4b\u95f4\u516c\u5e73\u4e14\u9ad8\u6548\u5730\u5206\u914d\u5171\u4eab\u7f13\u51b2\u533a\u3002\u5728\u5404\u79cd\u7f13\u51b2\u533a\u7ba1\u7406\u65b9\u6848\u4e2d\uff0c\u52a8\u6001\u9608\u503c\uff08Dynamic Threshold\uff0cDT\uff09 \u662f\u901a\u7528\u4ea4\u6362\u82af\u7247\u4e0a\u6700\u5e38\u89c1\u7684\u65b9\u6848\u4e4b\u4e00[3]\uff0c[4]\uff0c[21]\u2013[23]\uff0c[26]\uff0c[29]\uff0c[34]\u2013[36]\u3002DT\u4f7f\u7528\u9608\u503c\u6765\u9650\u5236\u6bcf\u4e2a\u961f\u5217\u7684\u957f\u5ea6\u3002\u8be5\u9608\u503c\u6839\u636e\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u8fdb\u884c\u52a8\u6001\u8c03\u6574\u3002\u5177\u4f53\u800c\u8a00\uff0c\u8ba9==T(t)\u8868\u793a\u65f6\u95f4t\u65f6\u7684\u9608\u503c==\uff0c==\\(w^{(i,j)}{(t)}\\)\u8868\u793a\u65f6\u95f4t\u65f6\u7aef\u53e3i\u4e2d\u961f\u5217j\u7684\u5171\u4eab\u7f13\u51b2\u533a\u5360\u7528\u91cf==\uff0c\\(Bs\\)\u8868\u793a\u5171\u4eab\u6bb5\u7684total\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u9608\u503c\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> <p>![[Pasted image 20231125113126.png]]</p> <p>where \u03b1 is a control parameter. The rationale behind DT is as follows. When the network is less congested, the amount of buffer occupancy is low and thus the remaining buffer size is high. DT adjusts the threshold to a higher value, which enables each queue to occupy more buffer, making the buffer efficiently used. On the contrary, when the network is more congested, the amount of buffer occupancy is high and thus the remaining buffer size is low. DT adjusts the threshold to a lower value, which restricts the buffer occupations of each queue, making the buffer fairly shared among different queues.</p> <p>\u5176\u4e2d\uff0c\u03b1\u662f\u4e00\u4e2a\u63a7\u5236\u53c2\u6570\u3002==DT\u80cc\u540e\u7684\u539f\u7406==\u5982\u4e0b\u3002\u5f53\u7f51\u7edc\u62e5\u585e\u8f83\u5c11\u65f6\uff0c\u7f13\u51b2\u533a\u5360\u7528\u91cf\u8f83\u4f4e\uff0c\u56e0\u6b64\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u8f83\u5927\u3002DT\u5c06\u9608\u503c\u8c03\u6574\u5230\u8f83\u9ad8\u7684\u503c\uff0c\u4f7f\u6bcf\u4e2a\u961f\u5217\u80fd\u591f\u5360\u7528\u66f4\u591a\u7f13\u51b2\u533a\uff0c\u4ece\u800c\u6709\u6548\u5229\u7528\u7f13\u51b2\u533a\u3002\u76f8\u53cd\uff0c\u5f53\u7f51\u7edc\u62e5\u585e\u8f83\u591a\u65f6\uff0c\u7f13\u51b2\u533a\u5360\u7528\u91cf\u8f83\u9ad8\uff0c\u56e0\u6b64\u5269\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u8f83\u5c0f\u3002DT\u5c06\u9608\u503c\u8c03\u6574\u5230\u8f83\u4f4e\u7684\u503c\uff0c\u9650\u5236\u6bcf\u4e2a\u961f\u5217\u7684\u7f13\u51b2\u533a\u5360\u7528\uff0c\u4f7f\u7f13\u51b2\u533a\u5728\u4e0d\u540c\u961f\u5217\u4e4b\u95f4\u516c\u5e73\u5171\u4eab\u3002[\u771f\u7684\u5999\uff01\uff01\uff01\uff01\uff01\uff01]</p> <p>MMU workflow with PFC enabled\uff1a With PFC enabled, MMU monitors the ingress queue lengths (denoted by qi,j(t)) and decides where to place each arriving packet. Further- more, MMU generates PFC PAUSE messages to upstream devices based on the amount of shared buffer occupancy and Xof f /Xon thresholds1 . The PFC mechanism can be described as the state transition diagram in Fig.3.</p> <p>\u542f\u7528PFC\u7684MMU\u5de5\u4f5c\u6d41\u7a0b\uff1a \u542f\u7528PFC\u540e\uff0cMMU\u76d1\u89c6\u5165\u53e3\u961f\u5217\u957f\u5ea6\uff08\u7528\\(q_{i,j}(t)\\)\u8868\u793a\uff09\uff0c\u5e76\u51b3\u5b9a\u5c06\u6bcf\u4e2a\u5230\u8fbe\u7684\u6570\u636e\u5305\u653e\u7f6e\u5728\u4f55\u5904\u3002\u6b64\u5916\uff0cMMU\u6839\u636e\u5171\u4eab\u7f13\u51b2\u533a\u5360\u7528\u91cf\u548c\\(X_{off}/X_{on}\\) \u9608\u503c\u751f\u6210PFC PAUSE\u6d88\u606f\u53d1\u9001\u7ed9\u4e0a\u6e38\u8bbe\u5907\u3002PFC\u673a\u5236\u53ef\u4ee5\u63cf\u8ff0\u4e3a\u56fe32\u4e2d\u7684\u72b6\u6001\u8f6c\u6362\u56fe\u3002 ![[Pasted image 20231125123217.png]]</p> <ol> <li>With private buffer, the Xoff / Xon thresholds are compared with the amount of shared buffer occupancy, rather than queue length.</li> <li> <p>Note that the PFC standard uses pause timers to suspend the traffic transmission rather than ON/OFF states. Nonetheless, it is logically identical to the ON/OFF signals as the pause duration specified by a PAUSE frame is usually longer than the duration for the queue length to fall bellow the Xon threshold. Thus, we use ON/OFF states to describe the PFC mechanism for the ease of understanding.</p> </li> <li> <p>\u5bf9\u4e8e==\u79c1\u6709\u7f13\u51b2\u533a\uff0cXoff/Xon\u9608\u503c\u4e0e\u5171\u4eab\u7f13\u51b2\u533a\u5360\u7528\u91cf\u8fdb\u884c\u6bd4\u8f83==\uff0c\u800c\u4e0d\u662f\u961f\u5217\u957f\u5ea6\u3002</p> </li> <li>\u8bf7\u6ce8\u610f\uff0cPFC\u6807\u51c6==\u4f7f\u7528\u6682\u505c\u8ba1\u65f6\u5668\u6765\u6682\u505c\u6d41\u91cf\u4f20\u8f93\uff0c\u800c\u4e0d\u662fON/OFF\u72b6\u6001==\u3002\u5c3d\u7ba1\u5982\u6b64\uff0c\u4ece\u903b\u8f91\u4e0a\u8bb2\uff0c\u5b83\u4e0eON/OFF\u4fe1\u53f7\u662f\u76f8\u540c\u7684\uff0c\u56e0\u4e3a\u7531PAUSE\u5e27\u6307\u5b9a\u7684\u6682\u505c\u6301\u7eed\u65f6\u95f4\u901a\u5e38\u6bd4\u961f\u5217\u957f\u5ea6\u4e0b\u964d\u5230Xon\u9608\u503c\u4ee5\u4e0b\u6240\u9700\u7684\u65f6\u95f4\u957f\u3002\u56e0\u6b64\uff0c\u6211\u4eec==\u4f7f\u7528ON/OFF\u72b6\u6001\u6765\u63cf\u8ff0PFC\u673a\u5236\uff0c\u4ee5\u4fbf\u66f4\u5bb9\u6613\u7406\u89e3==\u3002</li> </ol> <p>Specifically, for each arriving packet, there are four cases: 1. \\(qi,j\u200b(t)&lt;\u03d5\\) : (where \u03d5\u03d5 is the amount of private buffer reserved for each ingress queue): MMU puts the packet into the private buffer. 2. \\(\u03d5\u2264qi,j(t)&lt;\u03d5+T(t)\u03d5\u2264qi,j\u200b(t)&lt;\u03d5+T(t)\\) : MMU puts the packet into the shared buffer of port i,ji,j. Furthermore, if the ingress queue is in OFF state and \u03c9i,j(t)&lt;Xon, MMU triggers a RESUME frame (i.e., PFC PAUSE frame with zero pause duration) to the upstream device and makes the ingress queue turn into ON state. 3. \\(\u03d5+T(t)\u2264qi,j(t)&lt;\u03d5+T(t)+\u03b7\u03d5+T(t)\u2264qi,j\u200b(t)&lt;\u03d5+T(t)+\u03b7\\) :  MMU puts the packet into the headroom buffer. Furthermore, if the ingress queue is in ON state, MMU triggers a PAUSE frame to the upstream device and makes the ingress queue turn into OFF state. 4. \\(qi,j(t)\u2265\u03d5+T(t)+\u03b7qi,j\u200b(t)\u2265\u03d5+T(t)+\u03b7\\) :  MMU drops the packet.</p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u5230\u8fbe\u7684\u6570\u636e\u5305\uff0c\u5b58\u5728\u4ee5\u4e0b\u56db\u79cd\u60c5\u51b5\uff1a 1. \\(q_{i,j}(t) &lt; \\phi\\)\uff08\u5176\u4e2d\\(\\phi\\)\u662f\u4e3a\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u4fdd\u7559\u7684\u79c1\u6709\u7f13\u51b2\u533a\u91cf\uff09\uff1aMMU\u5c06\u6570\u636e\u5305\u653e\u5165\u79c1\u6709\u7f13\u51b2\u533a\u3002\u2705 2. \\(\\phi \\leq q_{i,j}(t) &lt; \\phi+T(t)\\)\uff1aMMU\u5c06\u6570\u636e\u5305\u653e\u5165\u5171\u4eab\u7f13\u51b2\u533a\u3002\u6b64\u5916\uff0c\u5982\u679c\u5165\u53e3\u961f\u5217\u5904\u4e8eOFF\u72b6\u6001\u4e14\\(\\omega_{i,j}(t) &lt; Xon\\)\uff0cMMU\u89e6\u53d1\u4e00\u4e2aRESUME\u5e27\uff08\u5373\uff0c\u5e26\u6709\u96f6\u6682\u505c\u6301\u7eed\u65f6\u95f4\u7684PFC PAUSE\u5e27\uff09\u53d1\u9001\u7ed9\u4e0a\u6e38\u8bbe\u5907\uff0c\u5e76\u4f7f\u5f97\u5165\u53e3\u961f\u5217\u8fdb\u5165ON\u72b6\u6001\u3002 3. \\(\\phi+T(t) \\leq q_{i,j}(t) &lt; \\phi+T(t)+\\eta\\)\uff1aMMU\u5c06\u6570\u636e\u5305\u653e\u5165\u5934\u90e8\u7f13\u51b2\u533a\u3002\u6b64\u5916\uff0c\u5982\u679c\u5165\u53e3\u961f\u5217\u5904\u4e8eON\u72b6\u6001\uff0cMMU\u89e6\u53d1\u4e00\u4e2aPAUSE\u5e27\u53d1\u9001\u7ed9\u4e0a\u6e38\u8bbe\u5907\uff0c\u5e76\u4f7f\u5f97\u5165\u53e3\u961f\u5217\u8fdb\u5165OFF\u72b6\u6001\u3002 4. \\(q_{i,j}(t) \\geq \\phi + T(t) + \\eta\\)\uff1aMMU\u4e22\u5f03\u6570\u636e\u5305\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Conclusion/","title":"Conclusion","text":"<p>In datacenter networks, PFC-enabled switches need to re-serve some buffer as headroom to avoid buffer overflow. How-ever, with the growing link speed, the buffer becomes increas-ingly inadequate, and the headroom occupies a considerable fraction of buffer, significantly squeezing the buffer space for accommodating normal traffic. As a result, PFC messages can be frequently generated, bringing about serious performance impairments. In this paper, we argue that the current static and queue-independent headroom allocation scheme is inherently inefficient. We propose Dynamic and Shared Headroom (DSH) allocation scheme, which dynamically allocates headroom to congested queues and enables allocated headroom to be shared among different queues. Extensive simulations show that DSH can significantly reduce the PFC messages and improve the network performance.</p> <p>\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u542f\u7528PFC\u7684\u4ea4\u6362\u673a\u9700\u8981\u91cd\u65b0\u4fdd\u7559\u4e00\u4e9b\u7f13\u51b2\u533a\u4f5c\u4e3a\u5934\u90e8\u7a7a\u95f4\uff0c\u4ee5\u907f\u514d\u7f13\u51b2\u533a\u6ea2\u51fa\u3002 \u7136\u800c\uff0c\u968f\u7740\u94fe\u8def\u901f\u5ea6\u7684\u589e\u957f\uff0c\u7f13\u51b2\u533a\u53d8\u5f97\u8d8a\u6765\u8d8a\u4e0d\u8db3\uff0c\u5934\u90e8\u7a7a\u95f4\u5360\u636e\u4e86\u7f13\u51b2\u533a\u7684\u76f8\u5f53\u5927\u4e00\u90e8\u5206\uff0c\u663e\u8457\u6324\u538b\u4e86\u7528\u4e8e\u5bb9\u7eb3\u6b63\u5e38\u6d41\u91cf\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\u3002 \u7ed3\u679c\uff0cPFC\u6d88\u606f\u53ef\u80fd\u4f1a\u9891\u7e41\u751f\u6210\uff0c\u5bfc\u81f4\u4e25\u91cd\u7684\u6027\u80fd\u635f\u5bb3\u3002</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u8ba4\u4e3a\u5f53\u524d\u7684\u9759\u6001\u548c\u4e0e\u961f\u5217\u65e0\u5173\u7684\u5934\u90e8\u7a7a\u95f4\u5206\u914d\u65b9\u6848\u672c\u8d28\u4e0a\u662f\u4f4e\u6548\u7684\u3002 \u6211\u4eec\u63d0\u51fa\u4e86\u4e00\u79cd\u52a8\u6001\u548c\u5171\u4eab\u7684\u5934\u90e8\u7a7a\u95f4\uff08DSH\uff09\u5206\u914d\u65b9\u6848\uff0c\u8be5\u65b9\u6848\u52a8\u6001\u5730\u4e3a\u62e5\u585e\u7684\u961f\u5217\u5206\u914d\u5934\u90e8\u7a7a\u95f4\uff0c\u5e76\u4f7f\u5206\u914d\u7684\u5934\u90e8\u7a7a\u95f4\u53ef\u4ee5\u5728\u4e0d\u540c\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u3002</p> <p>\u5927\u91cf\u7684\u4eff\u771f\u7ed3\u679c\u8868\u660e\uff0cDSH\u80fd\u591f\u663e\u8457\u51cf\u5c11PFC\u6d88\u606f\u5e76\u6539\u5584\u7f51\u7edc\u6027\u80fd\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/","title":"DSH_Design","text":"<p>To address the inefficiency problem of SIH, we propose Dynamic and Shared Headroom (DSH) allocation, which aims to efficiently allocate headroom while ensuring no congestion loss. In this section, we first explain the key ideas behind DSH (\u00a7IV-A). Then we present the details of our design (\u00a7IV-B), and theoretically analyze DSH\u2019s ability of burst absorption (\u00a7IV-C). Finally, we show that DSH is easy to be implemented on switching chips (\u00a7IV-D).</p> <p>\u4e3a\u4e86\u89e3\u51b3SIH\uff08Static and Individual Headroom\uff09\u7684\u4f4e\u6548\u95ee\u9898\uff0c\u6211\u4eec\u63d0\u51fa\u4e86==\u52a8\u6001\u548c\u5171\u4eab\u7684\u5934\u90e8\u7a7a\u95f4\uff08Dynamic and Shared Headroom\uff0cDSH\uff09\u5206\u914d\u65b9\u6848==\uff0c\u65e8\u5728\u6709\u6548\u5206\u914d\u5934\u90e8\u7a7a\u95f4 \u7684\u540c\u65f6\u786e\u4fdd\u6ca1\u6709\u62e5\u585e\u4e22\u5931 \u3002 \u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u9996\u5148\u89e3\u91caDSH\u80cc\u540e\u7684\u5173\u952e\u601d\u60f3\uff08\u00a7IV-A\uff09\u3002\u7136\u540e\uff0c\u6211\u4eec\u4ecb\u7ecd\u6211\u4eec\u8bbe\u8ba1\u7684\u8be6\u7ec6\u5185\u5bb9\uff08\u00a7IV-B\uff09\uff0c\u5e76\u7406\u8bba\u4e0a\u5206\u6790DSH\u5bf9\u4e8e\u5438\u6536\u7a81\u53d1\u6d41\u91cf\u7684\u80fd\u529b\uff08\u00a7IV-C\uff09\u3002\u6700\u540e\uff0c\u6211\u4eec\u5c55\u793aDSH\u5728\u4ea4\u6362\u82af\u7247\u4e0a\u6613\u4e8e\u5b9e\u73b0\uff08\u00a7IV-D\uff09\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#a-key-ideas","title":"A. Key Ideas","text":"<p>DSH utilizes two ideas to achieve efficient headroom allo- cation while ensuring no congestion loss.  DSH\u91c7\u7528\u4e24\u4e2a\u601d\u60f3\u6765\u5b9e\u73b0\u9ad8\u6548\u7684\u5934\u90e8\u7a7a\u95f4\u5206\u914d\uff0c\u540c\u65f6\u786e\u4fdd\u6ca1\u6709\u62e5\u585e\u4e22\u5931\u3002</p> <p>(1) DSH proactively reserves a small amount of buffer as insurance headroom to avoid packet loss. Different ingress queues in the same port share the uplink capacity. Thus, to avoid buffer overflow under any circumstances, there is no need to allocate \u03b7 headroom for each ingress queue. Rather, we only need to reserve \u03b7 buffer for each port. When any ingress queue in a port starts to occupy the insurance buffer, the port pauses the entire upstream port. In this way, the amount of reserved headroom is significantly reduced. Of course, this can violate performance isolation among different traffic classes. Thus, we also have the following mechanism to make the port- wise pause rarely triggered. </p> <p>\uff081\uff09DSH\u4e3b\u52a8==\u4fdd\u7559\u4e00\u5c0f\u90e8\u5206\u7f13\u51b2\u4f5c\u4e3a\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4==\uff0c\u4ee5\u907f\u514d\u6570\u636e\u5305\u4e22\u5931\u3002\u540c\u4e00\u7aef\u53e3\u4e2d\u7684\u4e0d\u540c\u5165\u53e3\u961f\u5217\u5171\u4eab\u4e0a\u884c\u5bb9\u91cf\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u90fd\u907f\u514d\u7f13\u51b2\u6ea2\u51fa\uff0c==\u6ca1\u6709\u5fc5\u8981\u4e3a\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u5206\u914d \u03b7 \u5934\u90e8\u7a7a\u95f4==\u3002\u76f8\u53cd\uff0c\u6211\u4eec==\u53ea\u9700\u8981\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559 \u03b7 \u7f13\u51b2==\u3002==\u5f53\u7aef\u53e3\u4e2d\u7684\u4efb\u4f55\u5165\u53e3\u961f\u5217\u5f00\u59cb\u5360\u7528\u4fdd\u9669\u7f13\u51b2\u65f6\uff0c\u7aef\u53e3\u5c06\u6682\u505c\u6574\u4e2a\u4e0a\u884c\u7aef\u53e3==\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4fdd\u7559\u5934\u90e8\u7a7a\u95f4\u7684\u91cf\u5f97\u5230\u4e86\u663e\u8457\u51cf\u5c11\u3002\u5f53\u7136\uff0c\u8fd9\u53ef\u80fd\u4f1a\u8fdd\u53cd\u4e0d\u540c\u6d41\u91cf\u7c7b\u4e4b\u95f4\u7684\u6027\u80fd\u9694\u79bb\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u8fd8\u6709\u4ee5\u4e0b\u673a\u5236\uff0c\u4f7f\u5f97\u7aef\u53e3\u6682\u505c\u5f88\u5c11\u89e6\u53d1\u3002</p> <p>(2) DSH dynamically allocates the headroom to congested queues and makes the allocated headroom shared among different ingress queues. An ingress queue needs to occupy headroom only when it is congested. Thus, rather than wasting headroom for uncongested queues, DSH tries to allocate headroom to a queue only when it becomes congested. In this way, when few queues are congested, most buffer can serve as \u201cfootroom\u201d to absorb bursty traffic without triggering PFC pauses. Furthermore, as the allocated headroom buffer is not necessarily used up, DSH enables the headroom buffer to be shared among ingress queues. In this way, DSH can take advantage of statistical multiplexing to improve the buffer efficiency.</p> <p>\uff082\uff09DSH\u52a8\u6001==\u5206\u914d\u5934\u90e8\u7a7a\u95f4\u7ed9\u62e5\u585e\u7684\u961f\u5217==\uff0c\u5e76==\u4f7f\u5206\u914d\u7684\u5934\u90e8\u7a7a\u95f4\u5728\u4e0d\u540c\u7684\u5165\u53e3\u961f\u5217\u4e4b\u95f4\u5171\u4eab==\u3002\u53ea\u6709\u5728\u5165\u53e3\u961f\u5217\u62e5\u585e\u65f6\uff0c\u5b83\u624d\u9700\u8981\u5360\u7528\u5934\u90e8\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u4e0e\u5176\u4e3a\u975e\u62e5\u585e\u961f\u5217\u6d6a\u8d39\u5934\u90e8\u7a7a\u95f4\uff0cDSH\u8bd5\u56fe\u53ea\u5728\u961f\u5217\u62e5\u585e\u65f6\u4e3a\u5176\u5206\u914d\u5934\u90e8\u7a7a\u95f4\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u5f53\u5f88\u5c11\u7684\u961f\u5217\u62e5\u585e\u65f6\uff0c\u5927\u591a\u6570\u7f13\u51b2\u53ef\u4ee5\u7528\u4f5c\uff08footroom\uff09\u201c\u4f59\u91cf\u7a7a\u95f4\u201d\uff0c\u7528\u4e8e\u5438\u6536\u7a81\u53d1\u6d41\u91cf\u800c\u4e0d\u89e6\u53d1PFC\u6682\u505c\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u5206\u914d\u7684\u5934\u90e8\u7a7a\u95f4\u7f13\u51b2\u672a\u5fc5\u4f1a\u7528\u5b8c\uff0cDSH\u4f7f\u5934\u90e8\u7a7a\u95f4\u7f13\u51b2\u80fd\u591f\u5728\u5165\u53e3\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0cDSH\u53ef\u4ee5\u5229\u7528\u7edf\u8ba1\u590d\u7528\u63d0\u9ad8\u7f13\u51b2\u6548\u7387\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#b-dsh-mechanisms","title":"B. DSH Mechanisms","text":"<p>![[Pasted image 20231125192801.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#buffer-organization","title":"Buffer organization\uff1a","text":"<p>Fig. 7 shows the buffer organization with DSH. In addition to the traditional buffer partitions, DSH further divides the headroom into two parts: shared headroom and insurance headroom. The insurance headroom is statically reserved for each port to guarantee no congestion loss. The shared headroom is dynamically allocated as needed and shared among different ingress queues. </p> <p>Furthermore, as both shared headroom and shared buffer are dynamically shared and allocated, DSH integrates them into a single segment, collectively called shared buffer. </p> <p>Such a design brings two benefits: (1) It facilitates the implementation of DSH on switching chips, as the buffer partition is the same as the existing one on commodity switching chips. (2) It improves the buffer utilization. By integrating two kinds of buffer, both headroom and footroom share the same piece of buffer, increasing the degree of statistical multiplexing. As a result, the buffer can be more efficiently utilized. </p> <p>\u7f13\u51b2\u533a\u7ec4\u7ec7\uff1a  \u56fe7\u5c55\u793a\u4e86DSH\u7684\u7f13\u51b2\u533a\u7ec4\u7ec7\u3002\u9664\u4e86\u4f20\u7edf\u7684\u7f13\u51b2\u533a\u5206\u533a\u5916\uff0cDSH==\u5c06\u5934\u90e8\u7a7a\u95f4\u8fdb\u4e00\u6b65\u5212\u5206\u4e3a\u4e24\u4e2a\u90e8\u5206\uff1a\u5171\u4eab\u5934\u90e8\u7a7a\u95f4\u548c\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4==\u3002\u4e3a\u4e86\u786e\u4fdd\u6ca1\u6709\u62e5\u585e\u4e22\u5931\uff0c\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u9759\u6001\u9884\u7559\u4e86\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4\u3002\u5171\u4eab\u5934\u90e8\u7a7a\u95f4\u6839\u636e\u9700\u8981\u8fdb\u884c\u52a8\u6001\u5206\u914d\uff0c\u5e76\u5728\u4e0d\u540c\u7684\u5165\u53e3\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u3002</p> <p>\u6b64\u5916\uff0c==\u7531\u4e8e\u5171\u4eab\u5934\u90e8\u7a7a\u95f4\u548c\u5171\u4eab\u7f13\u51b2\u533a\u90fd\u662f\u52a8\u6001\u5171\u4eab\u548c\u5206\u914d\u7684\uff0cDSH\u5c06\u5b83\u4eec\u96c6\u6210\u5230\u4e00\u4e2a\u5355\u4e00\u7684\u6bb5\u4e2d\uff0c\u79f0\u4e3a\u5171\u4eab\u7f13\u51b2\u533a\uff08new meaning\uff09==\u3002</p> <p>\u8fd9\u79cd\u8bbe\u8ba1\u5e26\u6765\u4e86\u4e24\u4e2a\u597d\u5904\uff1a \uff081\uff09\u5b83\u6709\u52a9\u4e8e\u5728\u4ea4\u6362\u82af\u7247\u4e0a\u5b9e\u73b0DSH\uff0c\u56e0\u4e3a\u7f13\u51b2\u533a\u5206\u533a\u4e0e\u901a\u7528\u4ea4\u6362\u82af\u7247\u4e0a\u7684\u73b0\u6709\u5206\u533a\u76f8\u540c\u3002  \uff082\uff09\u5b83\u63d0\u9ad8\u4e86\u7f13\u51b2\u533a\u7684\u5229\u7528\u7387\u3002\u901a\u8fc7\u6574\u5408\u4e24\u79cd\u7c7b\u578b\u7684\u7f13\u51b2\u533a\uff0c\u5934\u90e8\u7a7a\u95f4\u548c\u811a\u90e8\u7a7a\u95f4\u5171\u4eab\u540c\u4e00\u7247\u7f13\u51b2\u533a\uff0c\u589e\u52a0\u4e86\u7edf\u8ba1\u590d\u7528\u7684\u7a0b\u5ea6\u3002\u56e0\u6b64\uff0c\u7f13\u51b2\u533a\u53ef\u4ee5\u66f4\u6709\u6548\u5730\u5229\u7528\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#buffer-allocation-and-management","title":"Buffer allocation and management\uff1a","text":"<p>The management of the private buffer keeps unchanged. For insurance headroom, DSH statically reserves some memory for each ingress port. Assume that there are Np ports, the insurance headroom size (denoted by Bi) is given by Bi = Np \u00d7 \u03b7 (4) where \u03b7 is given by Eq. (1). The remaining memory is for shared buffer, which is dynamically allocated to ingress queues. DSH uses a threshold T(t) to restrict the buffer occupancy (including both shared headroom and shared footroom) for each ingress queue. Furthermore, DSH adopts DT to dynamically adjust the threshold T(t) based on the remaining buffer. DT has been widely used in commodity switching chips for decades. It can make DSH adaptive and efficient while simple to be implemented. The calculation of threshold T(t) is the same as that in existing switching chip (i.e., Eq. (2)), except that the amount of shared buffer occupancy (i.e., \u03c9i,j(t)) should in- s clude the buffer occupancy of both shared headroom and shared footroom. Thus, DSH does not need to modify the existing hardware logic of threshold maintenance, facilitating its implementation.</p> <p>\u7f13\u51b2\u533a\u5206\u914d\u548c\u7ba1\u7406\uff1a  \u79c1\u6709\u7f13\u51b2\u533a\u7684\u7ba1\u7406\u4fdd\u6301\u4e0d\u53d8\u3002==\u5bf9\u4e8e\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4\uff0cDSH\u4e3a\u6bcf\u4e2a\u5165\u53e3\u7aef\u53e3\u9759\u6001\u4fdd\u7559\u4e86\u4e00\u4e9b\u5185\u5b58==\u3002\u5047\u8bbe\u6709 \\(N_p\\) \u4e2a\u7aef\u53e3\uff0c\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4\u5927\u5c0f\uff08\u7528 \\(B_i\\) \u8868\u793a\uff09\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a </p> <p>\\(B_i = N_p * \u03b7\\) (4)  \u5176\u4e2d\uff0c\u03b7\u7531\u65b9\u7a0b. 1\uff09\u7ed9\u51fa\uff1a review[background]: \u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u7684\u5934\u90e8\u5927\u5c0f\uff08\u7528\u03b7\u8868\u793a\uff09\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a \\(\u03b7 = 2 (C \u00b7 Dprop + L[MTU] ) + 3840B\\)</p> <p>==\u5269\u4f59\u7684\u5185\u5b58\u7528\u4e8e\u5171\u4eab\u7f13\u51b2\u533a\uff0c\u5b83\u52a8\u6001\u5206\u914d\u7ed9\u5165\u53e3\u961f\u5217==\u3002DSH\u4f7f\u7528\u9608\u503cT(t)\u6765\u9650\u5236\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u7684\u7f13\u51b2\u533a\u5360\u7528\u60c5\u51b5\uff08\u5305\u62ec \u5171\u4eab\u5934\u90e8\u7a7a\u95f4 headroom \u548c\u5171\u4eab\u4f59\u91cf\u7a7a\u95f4 footroom\uff09\u3002</p> <p>\u6b64\u5916\uff0c==DSH\u91c7\u7528DT\u6765\u6839\u636e\u5269\u4f59\u7f13\u51b2\u533a\u52a8\u6001\u8c03\u6574\u9608\u503cT(t)==\u3002DT\u5728\u901a\u7528\u4ea4\u6362\u82af\u7247\u4e0a\u5df2\u5e7f\u6cdb\u4f7f\u7528\u4e86\u6570\u5341\u5e74\u3002\u5b83\u4f7fDSH\u5177\u6709\u81ea\u9002\u5e94\u548c\u9ad8\u6548\u7684\u7279\u6027\uff0c\u540c\u65f6\u5b9e\u73b0\u7b80\u5355\u3002</p> <p>\u9608\u503c==T(t)\u7684\u8ba1\u7b97\u4e0e\u73b0\u6709\u4ea4\u6362\u82af\u7247\u4e2d\u7684\u8ba1\u7b97\u76f8\u540c\uff08\u5373\u65b9\u7a0b\uff082\uff09\uff09\uff0c\u53ea\u662f\u5171\u4eab\u7f13\u51b2\u533a\u5360\u7528\u91cf\uff08\u5373\u03c9i,j(t)\uff09\u5e94\u5305\u62ec\u5171\u4eab\u5934\u90e8\u7a7a\u95f4\u548c\u5171\u4eab\u811a\u90e8\u7a7a\u95f4\u7684\u7f13\u51b2\u533a\u5360\u7528\u91cf==\u3002\u56e0\u6b64\uff0cDSH\u65e0\u9700\u4fee\u6539\u73b0\u6709\u7684\u9608\u503c\u7ef4\u62a4\u786c\u4ef6\u903b\u8f91\uff0c\u6709\u52a9\u4e8e\u5176\u5b9e\u73b0\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#flow-control","title":"Flow Control\uff1a","text":"<p>DSH has two types of flow control mechanisms to guarantee against packet loss: queue-level flow control and port-level flow control. </p> <p>\u6d41\u63a7\u5236\u673a\u5236\uff1a DSH\u62e5\u6709\u4e24\u79cd\u7c7b\u578b\u7684\u6d41\u63a7\u5236\u673a\u5236\uff0c\u4ee5\u786e\u4fdd\u4e0d\u53d1\u751f\u6570\u636e\u5305\u4e22\u5931\uff1a\u961f\u5217\u7ea7\u6d41\u63a7\u5236 \u548c \u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#1-control-way-1","title":"[1] control way 1: \u961f\u5217\u7ea7\u6d41\u63a7\u5236","text":"<p>The queue-level flow control is similar to the PFC mechanism. Specifically, a PFC PAUSE frame is sent to the upstream port when the amount of shared buffer occupancy for an ingress queue becomes higher than the pause threshold (denoted by \\(X_{qoff}\\)). Arriving at the upstream port, the PFC PAUSE frame will suspend the packet transmission of the corresponding traffic class. </p> <p>\u961f\u5217\u7ea7\u6d41\u63a7\u5236\u7c7b\u4f3c\u4e8ePFC\u673a\u5236\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5f53\u5165\u53e3\u961f\u5217\u7684==\u5171\u4eab\u7f13\u51b2\u533a==\u5360\u7528\u91cf\u8d85\u8fc7==\u6682\u505c\u9608\u503c==\uff08\u7531\\(X_{qoff}\\)\u8868\u793a\uff09\u65f6\uff0c\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001PFC PAUSE\u5e27\u3002\u5230\u8fbe\u4e0a\u884c\u7aef\u53e3\u65f6\uff0cPFC PAUSE\u5e27\u5c06\u6682\u505c\u76f8\u5e94\u6d41\u91cf\u7c7b\u522b\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002</p> <p>The only difference is the setting of Xqoff threshold. With DSH, the Xqoff(t) threshold is set as Xqof f (t) = T (t) \u2212 \u03b7 (5) </p> <p>\u552f\u4e00\u7684\u533a\u522b\u662fXqoff\u9608\u503c\u7684\u8bbe\u7f6e\u3002\u4f7f\u7528DSH\u65f6\uff0cXqoff(t)\u9608\u503c\u8bbe\u7f6e\u4e3a:</p> <p>\\(X_{qoff}(t) = T(t) - \\eta\\)</p> <p>The rationale is two-fold. (1) When an ingress queue becomes congested, DSH tries to reserve enough headroom (i.e., \u03b7) for it. (2) When an ingress queue is less congested, it contributes the unused buffer to other congested queues. Specifically, the buffer occupancy of an uncongested queue is much lower than T (t). In other words, it occupies less buffer and leaves much room as free buffer, which raises the value of T (t) (recall that T (t) is proportional to the free buffer size). Accordingly, this raises the Xqoff threshold and enables other congested queues to occupy more buffer before triggering PFC messages. In summary, DSH tries to reserve enough headroom for an ingress queue if and only if it becomes congested. </p> <p>\u5176\u539f\u7406\u6709\u4e24\u4e2a\u65b9\u9762\uff1a\uff081\uff09==\u5f53\u5165\u53e3\u961f\u5217\u62e5\u585e\u65f6\uff0cDSH\u8bd5\u56fe\u4e3a\u5176\u4fdd\u7559\u8db3\u591f\u7684\u5934\u90e8\u7a7a\u95f4\uff08\u5373\u03b7\uff09==\u3002 \uff082\uff09\u5f53\u5165\u53e3\u961f\u5217\u62e5\u585e\u8f83\u8f7b\u65f6\uff0c\u5b83\u5c06\u672a\u4f7f\u7528\u7684\u7f13\u51b2\u533a\u8d21\u732e\u7ed9\u5176\u4ed6\u62e5\u585e\u961f\u5217\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u975e\u62e5\u585e\u961f\u5217\u7684\u7f13\u51b2\u533a\u5360\u7528\u8fdc\u4f4e\u4e8eT(t)\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5b83\u5360\u7528\u7684\u7f13\u51b2\u533a\u8f83\u5c11\uff0c\u5e76\u7559\u4e0b\u4e86\u5927\u91cf\u7a7a\u4f59\u7f13\u51b2\u533a\uff0c\u8fd9\u63d0\u9ad8\u4e86T(t)\u7684\u503c\uff08\u56de\u987e\u4e00\u4e0bT(t)\u4e0e\u7a7a\u4f59\u7f13\u51b2\u533a\u5927\u5c0f\u6210\u6b63\u6bd4\uff09\u3002</p> <p>[review]: ![[Pasted image 20231125113126.png]] \u56e0\u6b64\uff0c\u8fd9\u63d0\u9ad8\u4e86\\(X_{qoff}\\) \u9608\u503c\uff0c\u5e76\u4f7f\u5176\u4ed6\u62e5\u585e\u961f\u5217\u5728\u89e6\u53d1PFC\u6d88\u606f\u4e4b\u524d\u80fd\u591f\u5360\u7528\u66f4\u591a\u7f13\u51b2\u533a\u3002\u603b\u4e4b\uff0cDSH\u8bd5\u56fe\u53ea\u6709\u5728\u5165\u53e3\u961f\u5217\u62e5\u585e\u65f6\u624d\u4e3a\u5176\u4fdd\u7559\u8db3\u591f\u7684\u5934\u90e8\u7a7a\u95f4\u3002</p> <p>Of course, DSH cannot guarantee that every ingress queue can get \u03b7 headroom when becoming congested, as the shared headroom is dynamically allocated as needed rather than stati- cally reserved beforehand. Thus, DSH also contains port-level flow control to avoid buffer overflow under any circumstances. </p> <p>==\u5f53\u7136\uff0cDSH\u4e0d\u80fd\u4fdd\u8bc1\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u5728\u62e5\u585e\u65f6\u90fd\u80fd\u83b7\u5f97\u03b7\u5934\u90e8\u7a7a\u95f4==\uff0c\u56e0\u4e3a\u5171\u4eab\u5934\u90e8\u7a7a\u95f4\u662f\u6839\u636e\u9700\u8981\u52a8\u6001\u5206\u914d\u7684\uff0c\u800c\u4e0d\u662f\u4e8b\u5148\u9759\u6001\u4fdd\u7559\u7684\u3002\u56e0\u6b64\uff0cDSH\u8fd8\u5305\u542b\u4e86\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\uff0c\u4ee5\u5728\u4efb\u4f55\u60c5\u51b5\u4e0b\u907f\u514d\u7f13\u51b2\u533a\u6ea2\u51fa\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#2-control-way-2","title":"[2] control way 2: \u7aef\u53e3\u7ea7\u6d41\u63a7\u5236","text":"<p>The port-level flow control is triggered when the total occupancy of shared footroom and headroom of all queues in a port becomes higher than a pause threshold (denoted by Xpoff). When triggered, the ingress port sends a port- level PAUSE frame (i.e., a PFC PAUSE frame with all pause timers of priorities set) to the upstream port. Arriving at the upstream port, the port-level PAUSE frame (i.e., a PFC PAUSE frame with all pause timers of priorities unset) will suspend the packet transmissions of all traffic classes. </p> <p>\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\u5728\u4ee5\u4e0b\u60c5\u51b5\u4e0b\u89e6\u53d1\uff1a\u5f53\u7aef\u53e3\u4e2d\u6240\u6709\u961f\u5217\u7684\u5171==\u4eab\u811a\u90e8\u7a7a\u95f4\u548c\u5934\u90e8\u7a7a\u95f4==\u7684\u603b\u5360\u7528\u91cf\u8d85\u8fc7==\u6682\u505c\u9608\u503c==\uff08\u7531\\(X_{poff}\\)\u8868\u793a\uff09\u65f6\u3002\u89e6\u53d1\u65f6\uff0c\u5165\u53e3\u7aef\u53e3\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001\u7aef\u53e3\u7ea7PAUSE\u5e27\uff08\u5373\uff0c\u6240\u6709\u4f18\u5148\u7ea7\u7684\u6682\u505c\u5b9a\u65f6\u5668\u5747\u88ab\u8bbe\u7f6e\uff09\u3002\u5230\u8fbe\u4e0a\u884c\u7aef\u53e3\u65f6\uff0c\u7aef\u53e3\u7ea7PAUSE\u5e27\uff08\u5373\uff0c\u6240\u6709\u4f18\u5148\u7ea7\u7684\u6682\u505c\u5b9a\u65f6\u5668\u5747\u672a\u8bbe\u7f6e\uff09\u5c06\u6682\u505c\u6240\u6709\u6d41\u91cf\u7c7b\u522b\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002</p> <p>The \\(X_{poff}(t)\\) threshold is set as \\(X_{poff}(t)\\) = \\(N_q\\) \u00d7 T(t) (6)  \\(X_{poff}(t)\\) \u9608\u503c\u8bbe\u7f6e\u4e3a\uff1a</p> <p>\\(X_{poff}(t) = N_q \\times T(t)\\)</p> <p>The intuition is simple. DSH allocates T(t) buffer as footroom and headroom for each ingress queue. Thus, for all ingress queues in a port, the total allocated buffer is Nq \u00d7T (t). The rationale behind the intuition is that DSH allows the ingress queues in the same port to share the allocated buffer, especially headroom. Specifically, by restricting the port-level buffer occupancy (rather than queue-level), a congested queue can occupy the headroom allocated to other queues (in the same port) if it has used up its allocated headroom. As the traffic heading for the ingress queues in the same port naturally shares the capacity of uplink, port-level buffer share is both efficient and fair. In this way, not only can DSH utilize the shared buffer more efficiently, but also the port-level flow control can be less triggered.</p> <p>\u5176\u76f4\u89c9\u5f88\u7b80\u5355\u3002DSH\u4e3a\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u5206\u914dT(t)\u7f13\u51b2\u533a\u4f5c\u4e3a\u811a\u90e8\u7a7a\u95f4\u548c\u5934\u90e8\u7a7a\u95f4\u3002\u56e0\u6b64\uff0c\u5bf9\u4e8e\u7aef\u53e3\u4e2d\u7684\u6240\u6709\u5165\u53e3\u961f\u5217\uff0c\u603b\u5206\u914d\u7684\u7f13\u51b2\u533a\u662f\\(Nq \\times T(t)\\)\u3002 \u8fd9\u4e00\u76f4\u89c2\u80cc\u540e\u7684\u539f\u7406\u662f\uff0cDSH\u5141\u8bb8\u540c\u4e00\u7aef\u53e3\u4e2d\u7684\u5165\u53e3\u961f\u5217\u5171\u4eab\u5206\u914d\u7684\u7f13\u51b2\u533a\uff0c\u5c24\u5176\u662f\u5934\u90e8\u7a7a\u95f4\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u901a\u8fc7\u9650\u5236\u7aef\u53e3\u7ea7\u7f13\u51b2\u533a\u5360\u7528\uff08\u800c\u4e0d\u662f\u961f\u5217\u7ea7\uff09\uff0c\u5982\u679c\u62e5\u585e\u961f\u5217\u5df2\u7528\u5b8c\u5176\u5206\u914d\u7684\u5934\u90e8\u7a7a\u95f4\uff0c\u5b83\u53ef\u4ee5\u5360\u7528\u5206\u914d\u7ed9\u5176\u4ed6\u961f\u5217\uff08\u5728\u540c\u4e00\u7aef\u53e3\u4e2d\uff09\u7684\u5934\u90e8\u7a7a\u95f4\u3002\u7531\u4e8e\u524d\u5f80\u540c\u4e00\u7aef\u53e3\u7684\u5165\u53e3\u961f\u5217\u7684\u6d41\u91cf\u81ea\u7136\u5171\u4eab\u4e0a\u884c\u94fe\u8def\u7684\u5bb9\u91cf\uff0c\u7aef\u53e3\u7ea7\u7f13\u51b2\u533a\u5171\u4eab\u65e2\u9ad8\u6548\u53c8\u516c\u5e73\u3002\u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0c\u4e0d\u4ec5DSH\u53ef\u4ee5\u66f4\u6709\u6548\u5730\u5229\u7528\u5171\u4eab\u7f13\u51b2\u533a\uff0c\u800c\u4e14\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\u89e6\u53d1\u8f83\u5c11\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#mmu-workflow-with-dsh","title":"MMU workflow with DSH\uff1a","text":"<p>Putting all together, the workflow of DSH can be described as state transition diagrams depicted in Fig. 8 (at ingress side) and Fig. 9 (at egress side).  \u5c06\u6240\u6709\u5185\u5bb9\u7efc\u5408\u8d77\u6765\uff0cDSH\u7684\u5de5\u4f5c\u6d41\u7a0b\u53ef\u4ee5\u7528\u56fe8\uff08\u5728\u5165\u53e3\u7aef\uff09\u548c\u56fe9\uff08\u5728\u51fa\u53e3\u7aef\uff09\u4e2d\u63cf\u7ed8\u7684\u72b6\u6001\u8f6c\u79fb\u56fe\u6765\u63cf\u8ff0\u3002</p> <p>![[Pasted image 20231125202646.png]]</p> <p>![[Pasted image 20231125202701.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#at-ingress-side-there-are-two-queue-level-states-for-each-ingress-queue","title":"At ingress side, there are two queue-level states for each ingress queue:","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#_1","title":"\u5728\u5165\u53e3\u7aef\uff0c\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u6709\u4e24\u4e2a\u961f\u5217\u7ea7\u72b6\u6001\uff1a","text":"<ul> <li>QON: The ingress queue is not congested. The upstream port is allowed to send packets of the corresponding traffic class to the ingress queue. Arriving packets are put into either private buffer (if \\(q_{i,j}\u2264\u03d5\\)\uff09 or shared buffer(if \\(q_{i,j}&gt;\u03d5\\)\uff09</li> <li> <p>QOFF: The ingress queue is congested. The correspond- ing traffic class in the upstream port is being paused. Arriving packets are put into the shared buffer.</p> </li> <li> <p>QON\uff1a\u5165\u53e3\u961f\u5217\u672a\u62e5\u585e\u3002\u5141\u8bb8\u4e0a\u884c\u7aef\u53e3\u5c06\u76f8\u5e94\u6d41\u91cf\u7c7b\u522b\u7684\u6570\u636e\u5305\u53d1\u9001\u5230\u5165\u53e3\u961f\u5217\u3002\u5230\u8fbe\u7684\u6570\u636e\u5305\u88ab\u653e\u5165\u79c1\u6709\u7f13\u51b2\u533a\uff08\u5982\u679c \\(q_{i,j}\u2264\u03d5\\)\uff09 \u6216\u8005\u5171\u4eab\u7f13\u51b2\u533a\uff08\u5982\u679c\\(q_{i,j}&gt;\u03d5\\)\uff09\u3002</p> </li> <li>QOFF\uff1a\u5165\u53e3\u961f\u5217\u62e5\u585e\u3002\u4e0a\u884c\u7aef\u53e3\u4e2d\u76f8\u5e94\u7684\u6d41\u91cf\u7c7b\u522b\u6b63\u5728\u88ab\u6682\u505c\u3002\u5230\u8fbe\u7684\u6570\u636e\u5305\u88ab\u653e\u5165\u5171\u4eab\u7f13\u51b2\u533a\u3002</li> </ul> <p>Without congestion, an ingress queue is in QON state. It turns into the QOFF state when its shared buffer occupancy becomes higher than Xqoff(t). During the transition, a PFC PAUSE frame is sent to the upstream port to suspend the packet transmission of the corresponding traffic class. If the congestion is mitigated and the buffer occupancy of the ingress queue becomes lower than Xqon(t), the ingress queue turns into the QON state. During the transition, a queue-level RESUME frame (i.e., PFC PAUSE frame with zero pause duration) is sent to the upstream port to recover the packet transmission of the corresponding traffic class.</p> <p>\u5728\u6ca1\u6709\u62e5\u585e\u7684\u60c5\u51b5\u4e0b\uff0c\u5165\u53e3\u961f\u5217\u5904\u4e8e QON \u72b6\u6001\u3002\u5f53\u5176\u5171\u4eab\u7f13\u51b2\u533a\u5360\u7528\u91cf\u8d85\u8fc7 Xqoff(t) \u65f6\uff0c\u5b83\u8f6c\u6362\u4e3a QOFF \u72b6\u6001\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001 PFC PAUSE \u5e27\uff0c\u4ee5\u6682\u505c==\u76f8\u5e94\u6d41\u91cf\u7c7b\u522b==\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002\u5982\u679c\u62e5\u585e\u5f97\u5230\u7f13\u89e3\uff0c\u5165\u53e3\u961f\u5217\u7684\u7f13\u51b2\u533a\u5360\u7528\u91cf\u964d\u4f4e\u5230\u5c0f\u4e8e Xqon(t)\uff0c\u5219\u5165\u53e3\u961f\u5217\u8f6c\u4e3a QON \u72b6\u6001\u3002\u5728\u6b64\u8fc7\u6e21\u671f\u95f4\uff0c\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001\u961f\u5217\u7ea7 RESUME \u5e27\uff08\u5373\uff0c\u5e26\u6709\u96f6\u6682\u505c\u6301\u7eed\u65f6\u95f4\u7684 PFC PAUSE \u5e27\uff09\uff0c\u4ee5\u6062\u590d\u76f8\u5e94\u6d41\u91cf\u7c7b\u522b\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#furthermore-for-each-ingress-port-there-are-two-port-level-states","title":"Furthermore, for each ingress port, there are two port-level states:","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#_2","title":"\u6b64\u5916\uff0c\u5bf9\u4e8e\u6bcf\u4e2a\u5165\u53e3\u7aef\u53e3\uff0c\u6709\u4e24\u4e2a\u7aef\u53e3\u7ea7\u72b6\u6001\uff1a","text":"<ul> <li>PON: The ingress port is not congested. The upstream port is allowed to send packets if the corresponding traffic class is not paused by queue-level flow control. Arriving packets are put into either private buffer (if qi,j  \u03c6) or shared buffer</li> <li> <p>PON\uff1a\u5165\u53e3\u7aef\u53e3\u672a\u62e5\u585e\u3002\u5141\u8bb8\u4e0a\u884c\u7aef\u53e3\u53d1\u9001\u6570\u636e\u5305\uff0c==\u524d\u63d0\u662f\u76f8\u5e94\u7684\u6d41\u91cf\u7c7b\u522b\u672a\u88ab\u961f\u5217\u7ea7\u6d41\u63a7\u5236\u6682\u505c==\u3002\u5230\u8fbe\u7684\u6570\u636e\u5305\u88ab\u653e\u5165\u79c1\u6709\u7f13\u51b2\u533a\uff08\u5982\u679c qi,j\u2260\u03d5qi,j\u200b\ue020=\u03d5\uff09\u6216\u8005\u5171\u4eab\u7f13\u51b2\u533a\u3002</p> </li> <li> <p>POFF: The ingress port is congested. All traffic classes in the upstream port are being paused. Arriving packets are put into the insurance headroom.</p> </li> <li>POFF\uff1a\u5165\u53e3\u7aef\u53e3\u62e5\u585e\u3002\u4e0a\u884c\u7aef\u53e3\u4e2d\u7684\u6240\u6709\u6d41\u91cf\u7c7b\u522b\u90fd\u88ab\u6682\u505c\u3002\u5230\u8fbe\u7684\u6570\u636e\u5305\u88ab\u653e\u5165\u4fdd\u9669\u5934\u90e8\u7a7a\u95f4\u3002</li> </ul> <p>Without congestion, the port is in PON state. If the total buffer occupancy of an ingress port becomes higher than Xpoff, the ingress port turns into POFF state. During the transition, a port-level PAUSE frame is sent to the upstream port to suspend the packet transmission of all traffic classes. When the congestion of the port is mitigated and its buffer occupancy becomes lower than Xpon, the ingress port turns into PON State. During the transition, a port-level RESUME frame (i.e., PFC PAUSE frame with all pause timers unset) is sent to cease the previous (port-level) pause action. The egress-side workflow is similar except for the condi- tions/actions of state transitions, which is omitted due to space limitations.</p> <p>\u5728\u6ca1\u6709\u62e5\u585e\u7684\u60c5\u51b5\u4e0b\uff0c\u7aef\u53e3\u5904\u4e8e PON \u72b6\u6001\u3002\u5982\u679c\u5165\u53e3\u7aef\u53e3\u7684\u603b\u7f13\u51b2\u533a\u5360\u7528\u91cf\u8d85\u8fc7 XpoffX\uff0c\u5219\u5165\u53e3\u7aef\u53e3\u8f6c\u4e3a POFF \u72b6\u6001\u3002\u5728\u6b64\u8fc7\u7a0b\u4e2d\uff0c\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001\u7aef\u53e3\u7ea7 PAUSE \u5e27\uff0c\u4ee5\u6682\u505c==\u6240\u6709\u6d41\u91cf\u7c7b\u522b==\u7684\u6570\u636e\u5305\u4f20\u8f93\u3002\u5f53\u7aef\u53e3\u7684\u62e5\u585e\u5f97\u5230\u7f13\u89e3\uff0c\u5176\u7f13\u51b2\u533a\u5360\u7528\u91cf\u964d\u4f4e\u5230\u5c0f\u4e8e Xpon \u65f6\uff0c\u5165\u53e3\u7aef\u53e3\u8f6c\u4e3a PON \u72b6\u6001\u3002 \u5728\u6b64\u8fc7\u6e21\u671f\u95f4\uff0c\u5c06\u5411\u4e0a\u884c\u7aef\u53e3\u53d1\u9001\u7aef\u53e3\u7ea7 RESUME \u5e27\uff08\u5373\uff0c\u6240\u6709\u6682\u505c\u5b9a\u65f6\u5668\u5747\u672a\u8bbe\u7f6e\u7684 PFC PAUSE \u5e27\uff09\uff0c\u4ee5\u505c\u6b62\u5148\u524d\u7684\uff08\u7aef\u53e3\u7ea7\uff09\u6682\u505c\u64cd\u4f5c\u3002\u51fa\u53e3\u7aef\u7684\u5de5\u4f5c\u6d41\u7a0b\u7c7b\u4f3c\uff0c\u9664\u4e86\u72b6\u6001\u8f6c\u6362\u7684\u6761\u4ef6/\u52a8\u4f5c\u4e4b\u5916\uff0c\u7531\u4e8e\u7a7a\u95f4\u9650\u5236\uff0c\u7701\u7565\u4e86\u8fd9\u90e8\u5206\u5185\u5bb9\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#c-dsh-analysis","title":"C. DSH Analysis","text":"<p>\u8fd9\u4e00\u90e8\u5206\u90fd\u662f\u8bc1\u660e\uff0c\u76f4\u63a5\u767d\u7eb8\u9ed1\u5b57\u81ea\u884c\u64cd\u4f5c\u4e86\uff0c\u6b64\u5904\u7565\u53bb\uff01\u5efa\u8bae\u5168\u90e8\u81ea\u5df1\u624b\u8bc1\u4e00\u904d\uff01</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/#d-dsh-implementation","title":"D. DSH Implementation","text":"<p>In this part, we discuss the feasibility of implementing DSH on switching chips. We show that DSH is very easy to be implemented, as it does not need to change the existing buffer architecture and only needs some moderate changes to existing flow control mechanisms.</p> <p>\u5728\u8fd9\u90e8\u5206\u4e2d\uff0c\u6211\u4eec\u8ba8\u8bba\u5728\u4ea4\u6362\u82af\u7247\u4e0a\u5b9e\u73b0DSH\u7684\u53ef\u884c\u6027\u3002\u6211\u4eec\u5c55\u793aDSH\u975e\u5e38\u5bb9\u6613\u5b9e\u73b0\uff0c\u56e0\u4e3a\u5b83\u4e0d\u9700\u8981\u6539\u53d8\u73b0\u6709\u7684\u7f13\u51b2\u533a\u67b6\u6784\uff0c\u53ea\u9700\u8981\u5bf9\u73b0\u6709\u7684\u6d41\u63a7\u5236\u673a\u5236\u8fdb\u884c\u4e00\u4e9b\u9002\u5ea6\u7684\u66f4\u6539\u3002</p> <p>Queue-level flow control. As shown in \u00a7II-B, existing PFC mechanism triggers PFC PAUSE messages when the queue length reaches T(t) and PFC RESUME message when the queue length reaches T(t) \u2212 \u03b4, where \u03b4 is a configurable parameter. DSH\u2019s queue-level flow control mechanism is the same except that the threshold to trigger a PFC PAUSE message (i.e., Xqof f ) is T (t) \u2212 \u03b7, and the threshold to trigger a PFC RESUME message (i.e., Xqon) is T(t) \u2212 \u03b7 \u2212 \u03b4q. Thus, we only need to change the conditions of generating PFC message. Specifically, the switching chip needs two extra subtractors. One is for calculating the Xqoff threshold, whose inputs are T(t) and \u03b7. The other is for calculating the Xqon threshold, whose inputs are Xqof f and \u03b4q</p> <p>\u961f\u5217\u7ea7\u6d41\u63a7\u5236\u3002\u5982\u7b2cII-B\u8282\u6240\u793a\uff0c\u73b0\u6709\u7684PFC\u673a\u5236\u5728\u961f\u5217\u957f\u5ea6\u8fbe\u5230T(t)\u65f6\u89e6\u53d1PFC PAUSE\u6d88\u606f\uff0c\u5728\u961f\u5217\u957f\u5ea6\u8fbe\u5230T(t)\u2212\u03b4\u65f6\u89e6\u53d1PFC RESUME\u6d88\u606f\uff0c\u5176\u4e2d\u03b4\u662f\u53ef\u914d\u7f6e\u7684\u53c2\u6570\u3002DSH\u7684\u961f\u5217\u7ea7\u6d41\u63a7\u5236\u673a\u5236\u76f8\u540c\uff0c\u53ea\u662f\u89e6\u53d1PFC PAUSE\u6d88\u606f\u7684\u9608\u503c\uff08\u5373\uff0cXqoff\u200b)\u4e3aT(t)\u2212\u03b7\uff0c\u800c\u89e6\u53d1PFC RESUME\u6d88\u606f\u7684\u9608\u503c\uff08\u5373\uff0cXqon\u200b)\u4e3aT(t)\u2212\u03b7\u2212\u03b4q\u200b\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8\u751f\u6210PFC\u6d88\u606f\u7684\u6761\u4ef6\u3002\u5177\u4f53\u800c\u8a00\uff0c\u4ea4\u6362\u82af\u7247\u9700\u8981\u4e24\u4e2a\u989d\u5916\u7684\u51cf\u6cd5\u5668\u3002\u4e00\u4e2a\u7528\u4e8e\u8ba1\u7b97Xqoff\u200b\u7684\u9608\u503c\uff0c\u5176\u8f93\u5165\u4e3aT(t)\u548c\u03b7\u3002\u53e6\u4e00\u4e2a\u7528\u4e8e\u8ba1\u7b97Xqon\u200b\u7684\u9608\u503c\uff0c\u5176\u8f93\u5165\u4e3aXqoff\u200b\u548c\u03b4q\u200b\u3002</p> <p>Port-level flow control. Lots of commodity switching chips have already supported port-level flow control based on port- wise buffer occupancy [29], [35]. Thus, to achieve port- level flow control, we only need to change the conditions of generating port-level PAUSE/RESUME messages. The pause threshold (i.e., Xpof f ) is Nq \u00b7 T (t), where Nq is the number of queues per port. The switching chip needs a multiplier, whose inputs are Nq and T(t), to calculate the pause threshold. In particular, if N is a power of two, only a shift register is needed for the calculation. The resume threshold (i.e., Xpon) is Xpff - \u03b4p, where \u03b4p is a configurable parameter. The switching chip needs a subtractor, whose inputs are Xpoff and \u03b4p, to calculate the resume threshold.</p> <p>\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\u3002\u8bb8\u591a\u901a\u7528\u4ea4\u6362\u82af\u7247\u5df2\u7ecf\u652f\u6301\u57fa\u4e8e\u7aef\u53e3\u7f13\u51b2\u533a\u5360\u7528\u7684\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236[29]\uff0c[35]\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u5b9e\u73b0\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8\u751f\u6210\u7aef\u53e3\u7ea7PAUSE/RESUME\u6d88\u606f\u7684\u6761\u4ef6\u3002\u6682\u505c\u9608\u503c\uff08\u5373\uff0cXpoff\u200b)\u4e3a Nq\u200b\u22c5T(t)\uff0c\u5176\u4e2dNq\u200b\u662f\u6bcf\u4e2a\u7aef\u53e3\u7684\u961f\u5217\u6570\u3002\u4ea4\u6362\u82af\u7247\u9700\u8981\u4e00\u4e2a\u4e58\u6cd5\u5668\uff0c\u5176\u8f93\u5165\u4e3aNq\u200b\u548cT(t)\uff0c\u4ee5\u8ba1\u7b97\u6682\u505c\u9608\u503c\u3002\u7279\u522b\u5730\uff0c\u5982\u679cNq\u662f2\u7684\u5e42\u6b21\u65b9\uff0c\u5219\u53ea\u9700\u8981\u4e00\u4e2a\u79fb\u4f4d\u5bc4\u5b58\u5668\u8fdb\u884c\u8ba1\u7b97\u3002\u6062\u590d\u9608\u503c\uff08\u5373\uff0cXpon\u200b)\u4e3aXpoff\u200b\u2212\u03b4p\u200b\uff0c\u5176\u4e2d\u03b4p\u200b\u662f\u53ef\u914d\u7f6e\u7684\u53c2\u6570\u3002\u4ea4\u6362\u82af\u7247\u9700\u8981\u4e00\u4e2a\u51cf\u6cd5\u5668\uff0c\u5176\u8f93\u5165\u4e3aXpoff\u200b\u548c\u03b4p\u200b\uff0c\u4ee5\u8ba1\u7b97\u6062\u590d\u9608\u503c\u3002</p> <p>Consolidating two kinds of flow controls. For the down- stream port, two kinds of flow control work independently, and thus no further modifications are required to consolidate them. For the upstream port, we only need to change the condition of suspending packet transmissions. Specifically, each egress queue suspends packet transmissions if the egress queue is in QOFF state or the egress port is in POFF state. To realize this, the switching chip needs to maintain a queue-level state per egress queue and a port-level state per egress port as Fig. 9 shows. Then the pause condition can be easily generated by an OR gate.</p> <p>\u6574\u5408\u4e24\u79cd\u6d41\u63a7\u5236\u3002\u5bf9\u4e8e\u4e0b\u884c\u7aef\u53e3\uff0c\u4e24\u79cd\u6d41\u63a7\u5236\u5de5\u4f5c\u72ec\u7acb\uff0c\u56e0\u6b64\u65e0\u9700\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u4fee\u6539\u6765\u6574\u5408\u5b83\u4eec\u3002\u5bf9\u4e8e\u4e0a\u884c\u7aef\u53e3\uff0c\u6211\u4eec\u53ea\u9700\u8981\u6539\u53d8\u6682\u505c\u6570\u636e\u5305\u4f20\u8f93\u7684\u6761\u4ef6\u3002\u5177\u4f53\u6765\u8bf4\uff0c\u5982\u679c\u51fa\u53e3\u961f\u5217\u5904\u4e8e QOFF \u72b6\u6001 \u6216\u8005 \u51fa\u53e3\u7aef\u53e3\u5904\u4e8ePOFF\u72b6\u6001\uff0c\u6bcf\u4e2a\u51fa\u53e3\u961f\u5217\u90fd\u4f1a\u6682\u505c\u6570\u636e\u5305\u4f20\u8f93\u3002\u4e3a\u4e86\u5b9e\u73b0\u8fd9\u4e00\u70b9\uff0c\u4ea4\u6362\u82af\u7247\u9700\u8981\u7ef4\u62a4==\u6bcf\u4e2a\u51fa\u53e3\u961f\u5217\u7684\u961f\u5217\u7ea7\u72b6\u6001==\u548c==\u6bcf\u4e2a\u51fa\u53e3\u7aef\u53e3\u7684\u7aef\u53e3\u7ea7\u72b6\u6001==\uff0c\u5982\u56fe9\u6240\u793a\u3002\u7136\u540e\uff0c\u901a\u8fc7\u4e00\u4e2a OR\u95e8 \u53ef\u4ee5\u8f7b\u677e\u751f\u6210\u6682\u505c\u6761\u4ef6\u3002 ![[Pasted image 20231125202701.png]] review\uff1aOR\u95e8</p> <p>OR\u95e8\u662f\u6570\u5b57\u7535\u8def\u4e2d\u7684\u4e00\u79cd\u903b\u8f91\u95e8\uff0c\u7528\u4e8e\u6267\u884c\u903b\u8f91\u8fd0\u7b97\u3002\u5bf9\u4e8e\u4e24\u4e2a\u8f93\u5165\uff08\u901a\u5e38\u88ab\u79f0\u4e3aA\u548cB\uff09\uff0cOR\u95e8\u7684\u8f93\u51fa\u4e3a\uff1a Q=A\u00a0\u6216\u00a0BQ=A\u00a0\u6216\u00a0B \u4e5f\u5c31\u662f\u8bf4\uff0c\u5982\u679c\u8f93\u5165A\u6216B\u81f3\u5c11\u6709\u4e00\u4e2a\u662f1\uff08\u9ad8\u7535\u5e73\uff09\uff0c\u90a3\u4e48\u8f93\u51faQ\u5c31\u662f1\u3002\u53ea\u6709\u5f53A\u548cB\u90fd\u662f0\u65f6\uff0c\u8f93\u51faQ\u624d\u662f0\u3002\u8fd9\u79cd\u903b\u8f91\u8fd0\u7b97\u5bf9\u5e94\u4e8e\u201c\u6216\u201d\u5173\u7cfb\uff0c\u56e0\u6b64\u5b83\u7684\u8f93\u51fa\u662f\u8f93\u5165\u4e2d\u4efb\u4f55\u4e00\u4e2a\u4e3a\u771f\uff081\uff09\u5373\u4e3a\u771f\uff081\uff09\u3002</p> <p>Overall resource increments to the switch ASIC. Based on the above analysis, we argue that DSH brings acceptable resource increments to switch ASIC due to the following rea- sons. (1) DSH does not require additional counters/registers. DSH only requires the buffer occupancy of each queue/port, which is already available in existing switch ASIC. (2) DSH does not touch the memory allocation and management mech- anisms. DSH\u2019s physical memory architecture (Fig. 7) is the same as the existing one in commodity switches (Fig. 2). Furthermore, DSH does not modify the the memory allocation and management mechanisms of footroom buffer, while the al- location of headroom buffer can be realized by additional flow control mechanisms. Thus, implementing DSH does not need to modify the existing memory allocation and management mechanisms. (3) Simple and cheap comparison/arithmetic op- erations are required to realize the conditions of triggering PFC messages. DSH can be implemented by modifying the conditions of triggering PFC messages, while all conditions are based on comparison between buffer occupancy (and its derivatives) and thresholds. Thus, DSH only requires compar- ison and simple arithmetic operations (i.e., subtraction).</p> <p>\u603b\u4f53\u800c\u8a00\uff0c\u5bf9\u4ea4\u6362\u82af\u7247\u7684\u8d44\u6e90\u589e\u52a0\u3002\u57fa\u4e8e\u4ee5\u4e0a\u5206\u6790\uff0c\u6211\u4eec\u8ba4\u4e3aDSH\u5bf9\u4ea4\u6362\u82af\u7247\u5e26\u6765\u4e86\u53ef\u63a5\u53d7\u7684\u8d44\u6e90\u589e\u52a0\uff0c\u539f\u56e0\u5982\u4e0b\uff1a 1. DSH\u4e0d\u9700\u8981\u989d\u5916\u7684\u8ba1\u6570\u5668/\u5bc4\u5b58\u5668\u3002DSH\u53ea\u9700\u8981\u6bcf\u4e2a\u961f\u5217/\u7aef\u53e3\u7684\u7f13\u51b2\u533a\u5360\u7528\u60c5\u51b5\uff0c\u800c\u8fd9\u5728\u73b0\u6709\u7684\u4ea4\u6362\u82af\u7247\u4e2d\u5df2\u7ecf\u662f\u53ef\u7528\u7684\u3002 2. DSH\u4e0d\u6d89\u53ca\u5185\u5b58\u5206\u914d\u548c\u7ba1\u7406\u673a\u5236\u3002DSH\u7684\u7269\u7406\u5185\u5b58\u67b6\u6784\uff08\u56fe7\uff09\u4e0e\u901a\u7528\u4ea4\u6362\u673a\u4e2d\u7684\u73b0\u6709\u67b6\u6784\uff08\u56fe2\uff09\u76f8\u540c\u3002\u6b64\u5916\uff0cDSH\u4e0d\u4fee\u6539\u811a\u90e8\u7f13\u51b2\u533a\u7684\u5185\u5b58\u5206\u914d\u548c\u7ba1\u7406\u673a\u5236\uff0c\u800c\u5934\u90e8\u7f13\u51b2\u533a\u7684\u5206\u914d\u53ef\u4ee5\u901a\u8fc7\u989d\u5916\u7684\u6d41\u63a7\u5236\u673a\u5236\u5b9e\u73b0\u3002\u56e0\u6b64\uff0c\u5b9e\u65bdDSH\u4e0d\u9700\u8981\u4fee\u6539\u73b0\u6709\u7684\u5185\u5b58\u5206\u914d\u548c\u7ba1\u7406\u673a\u5236\u3002 3. \u5b9e\u73b0\u89e6\u53d1PFC\u6d88\u606f\u7684\u6761\u4ef6\u53ea\u9700\u8981\u7b80\u5355\u4e14\u5ec9\u4ef7\u7684\u6bd4\u8f83/\u7b97\u672f\u64cd\u4f5c\u3002DSH\u53ef\u4ee5\u901a\u8fc7\u4fee\u6539\u89e6\u53d1PFC\u6d88\u606f\u7684\u6761\u4ef6\u6765\u5b9e\u73b0\uff0c\u800c\u6240\u6709\u6761\u4ef6\u90fd\u57fa\u4e8e\u7f13\u51b2\u533a\u5360\u7528\uff08\u53ca\u5176\u6d3e\u751f\u503c\uff09\u4e0e\u9608\u503c\u4e4b\u95f4\u7684\u6bd4\u8f83\u3002\u56e0\u6b64\uff0cDSH\u53ea\u9700\u8981\u6bd4\u8f83\u548c\u7b80\u5355\u7684\u7b97\u672f\u64cd\u4f5c\uff08\u5373\u51cf\u6cd5\uff09\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/","title":"Evaluation","text":"<p>In this section, we evaluate DSH\u2019s performance with extensive packet-level simulations on the ns-3 platform [44]. We summarize the results below. \u5728\u8fd9\u4e00\u90e8\u5206\u4e2d\uff0c\u6211\u4eec\u901a\u8fc7\u5728ns-3\u5e73\u53f0\u4e0a\u8fdb\u884c\u5927\u91cf\u7684\u5206\u7ec4\u7ea7\u6a21\u62df\u6765\u8bc4\u4f30DSH\u7684\u6027\u80fd[44]\u3002\u6211\u4eec\u5c06\u7ed3\u679c\u603b\u7ed3\u5982\u4e0b\u3002</p> <ul> <li>DSH can absorb 4\u00d7 more bursty traffic without triggering PFC messages. </li> <li>DSH can effectively mitigate the performance impair-ments (i.e., collateral damage and deadlock) brought by PFC messages. </li> <li> <p>DSH can reduce the ==FCT== by up to 57.7% for ==short fan-in flows== and up to 31.1% for ==one-to-one background flows== in large-scale DCN topology.</p> </li> <li> <p>DSH\u80fd\u591f\u5438\u65364\u500d\u4ee5\u4e0a\u7684\u7a81\u53d1\u6d41\u91cf\uff0c\u800c\u4e0d\u89e6\u53d1PFC\u6d88\u606f\u3002</p> </li> <li>DSH\u80fd\u591f\u6709\u6548\u51cf\u8f7b\u7531PFC\u6d88\u606f\u5f15\u8d77\u7684\u6027\u80fd\u635f\u5bb3\uff08\u5373\uff0c\u9644\u5e26\u635f\u5bb3\u548c\u6b7b\u9501\uff09\u3002</li> <li>DSH\u5728\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u62d3\u6251\u4e2d\uff0c\u5bf9 \u77edfan-in\u6d41 \u548c \u4e00\u5bf9\u4e00\u540e\u53f0\u6d41 \u7684FCT\u80fd\u591f\u5206\u522b\u51cf\u5c11\u6700\u591a57.7%\u548c31.1%\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#psfct","title":"ps\uff1aFCT","text":"<p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0cFCT\uff08Flow Completion Time\uff09\u662f\u6307\u5b8c\u6210\u4e00\u4e2a\u6570\u636e\u6d41\u4f20\u8f93\u6240\u9700\u7684\u65f6\u95f4\u3002\u5b83\u662f\u8861\u91cf\u7f51\u7edc\u6027\u80fd\u7684\u91cd\u8981\u6307\u6807\uff0c\u6d89\u53ca\u5230 \u4ece\u53d1\u9001\u7aef\u53d1\u9001\u6570\u636e \u5230 \u63a5\u6536\u7aef\u5b8c\u6210\u63a5\u6536 \u7684\u6574\u4e2a\u65f6\u95f4\u8fc7\u7a0b\u3002FCT\u5305\u62ec\u4e86\u591a\u4e2a\u9636\u6bb5\uff0c\u5982\u6570\u636e\u4f20\u8f93\u5ef6\u8fdf\u3001\u4f20\u8f93\u961f\u5217\u7b49\u5f85\u65f6\u95f4\u4ee5\u53ca\u5176\u4ed6\u53ef\u80fd\u7684\u5ef6\u8fdf\u56e0\u7d20\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#psshort-fan-in-flows-one-to-one-background-flows","title":"PS\uff1a\u201cshort fan-in flows\" \u548c \"one-to-one background flows\"","text":"<p>\u5728\u4e0a\u4e0b\u6587\u4e2d\uff0c\"short fan-in flows\" \u548c \"one-to-one background flows\" \u662f\u5173\u4e8e\u7f51\u7edc\u6d41\u91cf\u6a21\u578b\u7684\u63cf\u8ff0\u3002 1. Short Fan-in Flows: - \"Short fan-in flows\" \u610f\u5473\u7740\u8fd9\u662f\u4e00\u79cd\u6d41\u91cf\u6a21\u578b\uff0c\u5176\u4e2d\u6d89\u53ca\u5230==\u77ed\u6682\u4e14\u6c47\u805a\uff08fan-in\uff09\u7684\u6570\u636e\u6d41==\u3002 - \"Short\" \u8868\u793a\u8fd9\u4e9b\u6570\u636e\u6d41\u7684\u6301\u7eed\u65f6\u95f4\u76f8\u5bf9\u8f83\u77ed\u3002 - \"Fan-in\" \u8868\u793a\u8fd9\u4e9b\u6d41\u91cf\u6e90\u81ea\u4e0d\u540c\u7684\u5165\u53e3\uff08ingress\uff09\u7aef\u53e3\uff0c\u4f46\u6700\u7ec8\u6c47\u805a\u5230\u540c\u4e00\u4e2a\u51fa\u53e3\uff08egress\uff09\u7aef\u53e3\u3002 2. One-to-One Background Flows: - \"One-to-one background flows\" \u610f\u5473\u7740\u8fd9\u662f\u4e00\u79cd\u6d41\u91cf\u6a21\u578b\uff0c\u5176\u4e2d\u6bcf\u4e2a\u540e\u53f0\u6d41\u90fd\u4e0e\u53e6\u4e00\u4e2a\u7279\u5b9a\u7684\u6d41\u76f8\u5bf9\u5e94\u3002 - \"One-to-one\" \u8868\u793a\u6bcf\u4e2a\u540e\u53f0\u6d41\u4e0e\u4e00\u4e2a\u7279\u5b9a\u7684\u76ee\u6807\u6d41\u76f8\u5bf9\u5e94\uff0c\u53ef\u80fd\u8868\u793a\u6bcf\u4e2a\u540e\u53f0\u6d41\u6709\u4e00\u4e2a\u72ec\u7acb\u7684\u901a\u4fe1\u5173\u7cfb\u3002 - ==\"Background flows\" \u901a\u5e38\u6307\u7684\u662f\u90a3\u4e9b\u4e0d\u592a\u7d27\u6025\u6216\u4e0d\u592a\u91cd\u8981\u7684\u6d41\u91cf==\uff0c\u53ef\u80fd\u662f\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e9b\u5e38\u89c4\u901a\u4fe1\u3002</p> <p>\u5728\u4f60\u63d0\u5230\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\u4f5c\u8005\u53ef\u80fd\u4f7f\u7528\u8fd9\u4e9b\u672f\u8bed\u6765\u63cf\u8ff0\u4ed6\u4eec\u5728\u8bc4\u4f30DSH\u6027\u80fd\u65f6\u6240\u4f7f\u7528\u7684\u6d41\u91cf\u6a21\u578b\uff0c\u4ee5\u4fbf\u66f4\u6e05\u6670\u5730\u7406\u89e3\u7cfb\u7edf\u5728\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u6d41\u91cf\u65f6\u7684\u884c\u4e3a\u548c\u6027\u80fd\u8868\u73b0\u3002</p> <p>FCT\u7684\u8ba1\u7b97\u901a\u5e38\u5305\u62ec\u4ee5\u4e0b\u4e3b\u8981\u7ec4\u6210\u90e8\u5206\uff1a 1. \u53d1\u9001\u5ef6\u8fdf\uff08Send Delay\uff09\uff1a \u4ece\u6570\u636e\u6d41\u5f00\u59cb\u53d1\u9001\u5230\u7b2c\u4e00\u4e2a\u6bd4\u7279\u79bb\u5f00\u53d1\u9001\u7aef\u6240\u7ecf\u5386\u7684\u65f6\u95f4\u3002 2. \u4f20\u8f93\u5ef6\u8fdf\uff08Transmission Delay\uff09\uff1a \u6570\u636e\u5728\u4f20\u8f93\u4ecb\u8d28\u4e2d\u4f20\u64ad\u6240\u9700\u7684\u65f6\u95f4\uff0c\u901a\u5e38\u4e0e\u5e26\u5bbd\u548c\u8ddd\u79bb\u6709\u5173\u3002 3. \u6392\u961f\u5ef6\u8fdf\uff08Queueing Delay\uff09\uff1a \u6570\u636e\u5728\u7f51\u7edc\u4e2d\u7b49\u5f85\u4f20\u8f93\u7684\u65f6\u95f4\uff0c\u4e0e\u7f51\u7edc\u62e5\u585e\u7a0b\u5ea6\u548c\u961f\u5217\u957f\u5ea6\u6709\u5173\u3002 4. \u5904\u7406\u5ef6\u8fdf\uff08Processing Delay\uff09\uff1a \u6570\u636e\u5728\u8def\u7531\u5668\u6216\u4ea4\u6362\u673a\u4e2d\u8fdb\u884c\u5904\u7406\u6240\u9700\u7684\u65f6\u95f4\uff0c\u5305\u62ec\u8def\u7531\u8ba1\u7b97\u3001\u67e5\u627e\u8f6c\u53d1\u8868\u7b49\u64cd\u4f5c\u3002 5. \u63a5\u6536\u5ef6\u8fdf\uff08Receive Delay\uff09\uff1a \u63a5\u6536\u7aef\u4ece\u63a5\u6536\u5230\u6570\u636e\u7684\u7b2c\u4e00\u4e2a\u6bd4\u7279\u5230\u6574\u4e2a\u6570\u636e\u6d41\u88ab\u63a5\u6536\u5b8c\u6210\u6240\u9700\u7684\u65f6\u95f4\u3002</p> <p>\u7efc\u5408\u8003\u8651\u4e0a\u8ff0\u5ef6\u8fdf\uff0cFCT\u7684\u8ba1\u7b97\u516c\u5f0f\u53ef\u4ee5\u8868\u793a\u4e3a\uff1a \\(FCT = \\text{\u53d1\u9001\u5ef6\u8fdf} + \\text{\u4f20\u8f93\u5ef6\u8fdf} + \\text{\u6392\u961f\u5ef6\u8fdf} + \\text{\u5904\u7406\u5ef6\u8fdf} + \\text{\u63a5\u6536\u5ef6\u8fdf}\\) \u4f18\u5316FCT\u662f\u7f51\u7edc\u8bbe\u8ba1\u548c\u7ba1\u7406\u4e2d\u7684\u91cd\u8981\u76ee\u6807\uff0c\u7279\u522b\u662f\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7b49\u5bf9\u6027\u80fd\u8981\u6c42\u8f83\u9ad8\u7684\u573a\u666f\u4e2d\u3002\u51cf\u5c11FCT\u6709\u52a9\u4e8e\u63d0\u9ad8\u7f51\u7edc\u7684\u54cd\u5e94\u6027\u3001\u964d\u4f4e\u4f20\u8f93\u5ef6\u8fdf\uff0c\u4ece\u800c\u6539\u5584\u7528\u6237\u4f53\u9a8c\u548c\u5e94\u7528\u6027\u80fd\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#a-microbenchmarks","title":"A. Microbenchmarks\uff08\u5fae\u57fa\u51c6\u6d4b\u8bd5\uff09","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#ps","title":"ps\uff1a\u5fae\u57fa\u51c6\u6d4b\u8bd5","text":"<p>\u5fae\u57fa\u51c6\u6d4b\u8bd5\u6307\u7684\u662f\u9488\u5bf9\u7cfb\u7edf\u6216\u7ec4\u4ef6 \u7279\u5b9a\u4e14\u5b64\u7acb\u65b9\u9762\u8fdb\u884c\u8bc4\u4f30\u7684\u5c0f\u89c4\u6a21\u6027\u80fd\u6d4b\u8bd5\u3002\u8fd9\u4e9b\u6d4b\u8bd5\u65e8\u5728\u6d4b\u91cf\u5355\u4e2a\u529f\u80fd\u3001\u6a21\u5757\u6216\u64cd\u4f5c\u7684\u6027\u80fd\uff0c\u4ee5\u8bc6\u522b\u6f5c\u5728\u74f6\u9888\u3001\u8bc4\u4f30\u6548\u7387\uff0c\u5e76\u4e86\u89e3\u7cfb\u7edf\u5728\u7279\u5b9a\u6761\u4ef6\u4e0b\u7684\u884c\u4e3a\u3002\u5fae\u57fa\u51c6\u6d4b\u8bd5\u5bf9\u4e8e\u7cbe\u7ec6\u7c92\u5ea6\u7684\u6027\u80fd\u5206\u6790\u548c\u4f18\u5316\u975e\u5e38\u6709\u4ef7\u503c\u3002</p> <p>\u5fae\u57fa\u51c6\u6d4b\u8bd5\u7684\u5173\u952e\u7279\u70b9\u5305\u62ec\uff1a 1. \u9694\u79bb\u6027\uff1a \u5fae\u57fa\u51c6\u6d4b\u8bd5\u9694\u79bb\u4e86\u7279\u5b9a\u7684\u529f\u80fd\u6216\u7ec4\u4ef6\uff0c\u5141\u8bb8\u6709\u9488\u5bf9\u6027\u5730\u8bc4\u4f30\uff0c\u800c\u4e0d\u53d7\u5176\u4ed6\u7cfb\u7edf\u5143\u7d20\u7684\u5e72\u6270\u3002 2. \u7cbe\u786e\u6027\uff1a \u8fd9\u4e9b\u57fa\u51c6\u6d4b\u8bd5\u65e8\u5728\u7cbe\u786e\u6d4b\u91cf\u7279\u5b9a\u529f\u80fd\u6216\u64cd\u4f5c\u7684\u6027\u80fd\uff0c\u63d0\u4f9b\u5bf9\u5176\u6548\u7387\u548c\u6267\u884c\u7279\u6027\u7684\u8be6\u7ec6\u4e86\u89e3\u3002 3. \u53ef\u91cd\u73b0\u6027\uff1a \u5fae\u57fa\u51c6\u6d4b\u8bd5\u901a\u5e38\u88ab\u8bbe\u8ba1\u4e3a\u6613\u4e8e\u91cd\u73b0\uff0c\u786e\u4fdd\u91cd\u590d\u6d4b\u8bd5\u80fd\u591f\u4ea7\u751f\u4e00\u81f4\u7684\u7ed3\u679c\u3002 4. \u5173\u6ce8\u5ea6\u91cf\u6807\u51c6\uff1a \u5b83\u4eec\u901a\u5e38\u5173\u6ce8\u5b9a\u91cf\u6307\u6807\uff0c\u5982\u6267\u884c\u65f6\u95f4\u3001\u541e\u5410\u91cf\u3001\u5ef6\u8fdf\u6216\u8d44\u6e90\u5229\u7528\u7387\uff0c\u4ee5\u91cf\u5316\u76ee\u6807\u65b9\u9762\u7684\u6027\u80fd\u3002 5. \u7b80\u5355\u6027\uff1a \u5fae\u57fa\u51c6\u6d4b\u8bd5\u901a\u5e38\u76f8\u5bf9\u7b80\u5355\uff0c\u56e0\u4e3a\u5b83\u4eec\u65e8\u5728\u5b64\u7acb\u8bc4\u4f30\u7279\u5b9a\u529f\u80fd\u3002\u8fd9\u79cd\u7b80\u5355\u6027\u6709\u52a9\u4e8e\u5206\u6790\u7279\u5b9a\u7ec4\u4ef6\uff0c\u800c\u65e0\u9700\u6574\u4e2a\u7cfb\u7edf\u7684\u590d\u6742\u6027\u3002</p> <p>\u5fae\u57fa\u51c6\u6d4b\u8bd5\u5e7f\u6cdb\u7528\u4e8e\u8f6f\u4ef6\u5f00\u53d1\u3001\u7cfb\u7edf\u4f18\u5316\u548c\u6027\u80fd\u8c03\u6574\u3002\u5b83\u4eec\u5728\u8bc6\u522b\u6027\u80fd\u74f6\u9888\u3001\u9a8c\u8bc1\u4f18\u5316\u5de5\u4f5c\u4ee5\u53ca\u6307\u5bfc\u8f6f\u4ef6\u548c\u786c\u4ef6\u8bbe\u8ba1\u65b9\u9762\u53d1\u6325\u7740\u5173\u952e\u4f5c\u7528\u3002\u6b64\u5916\uff0c\u8fd9\u4e9b\u57fa\u51c6\u6d4b\u8bd5\u5bf9\u6bd4\u8f83\u4e0d\u540c\u7b97\u6cd5\u5b9e\u73b0\u6216\u7248\u672c\uff0c\u4ee5\u53ca\u8bc4\u4f30\u53d8\u66f4\u5bf9\u7cfb\u7edf\u7279\u5b9a\u7ec4\u4ef6\u7684\u5f71\u54cd\u90fd\u975e\u5e38\u6709\u4ef7\u503c\u3002</p> <p>In this part, we evaluate DSH\u2019s basic performance with care-fully constructed microbenchmarks. We emulate the Broadcom Tomahawk switching chip, which has 32 100Gbps ports and 16MB shared memory. Each port has 8 queues. One queue is reserved for ACK packets and PAUSE/RESUME messages, and has the highest priority. Other seven queues are scheduled by the DWRR algorithm with a quantum of 1600B. The link delay is 2\u03bcs and thus \u03b7 = 56840B. The total headroom size for SIH is 56840B \u00d7 32 \u00d7 7=12MB. The private buffer size is 672KB (3KB for each DWRR-scheduled queue). For DT, \u03b1 is set to 1/16 according to [3]. The Xqon/Xpon threshold is the same as the Xqoff /Xpoff threshold.</p> <p>\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u901a\u8fc7\u7cbe\u5fc3\u6784\u5efa\u7684\u5fae\u57fa\u51c6\u6d4b\u8bd5\u8bc4\u4f30\u4e86DSH\u7684\u57fa\u672c\u6027\u80fd\u3002 \u6211\u4eec\u6a21\u62df\u4e86Broadcom Tomahawk\u4ea4\u6362\u82af\u7247\uff0c\u8be5\u82af\u7247\u5177\u670932\u4e2a100Gbps\u7aef\u53e3\u548c16MB\u5171\u4eab\u5185\u5b58\u3002 \u6bcf\u4e2a\u7aef\u53e3\u67098\u4e2a\u961f\u5217\u3002\u5176\u4e2d\u4e00\u4e2a\u961f\u5217\u7528\u4e8eACK\u6570\u636e\u5305\u548cPAUSE/RESUME\u6d88\u606f\uff0c\u5177\u6709\u6700\u9ad8\u4f18\u5148\u7ea7\u3002  \u5176\u4ed6\u4e03\u4e2a\u961f\u5217\u7531==DWRR\u7b97\u6cd5==\u8c03\u5ea6\uff0c\u6bcf\u4e2a\u961f\u5217\u7684\u6743\u91cd\u4e3a1600B\u3002 \u94fe\u8def\u5ef6\u8fdf\u4e3a2\u03bcs\uff0c\u56e0\u6b64\u03b7 = 56840B\u3002 SIH\u7684\u603b\u50a8\u5907\u7a7a\u95f4\u5927\u5c0f\u4e3a56840B \u00d7 32 \u00d7 7 = 12MB\u3002 \u79c1\u6709\u7f13\u51b2\u533a\u5927\u5c0f\u4e3a672KB\uff08\u6bcf\u4e2aDWRR\u8c03\u5ea6\u961f\u5217\u4e3a3KB\uff09\u3002 \u5bf9\u4e8eDT\uff0c\u6839\u636e[3]\uff0c\u03b1\u8bbe\u7f6e\u4e3a1/16\u3002Xqon/Xpon\u9608\u503c\u4e0eXqoff/Xpoff\u9608\u503c\u76f8\u540c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#psdwrr_algorithm","title":"ps\uff1aDWRR_Algorithm","text":"<p>DWRR\uff08Deficit Weighted Round Robin\uff09\u7b97\u6cd5\u662f\u4e00\u79cd\u6d41\u91cf\u8c03\u5ea6\u7b97\u6cd5\uff0c\u5e38\u7528\u4e8e\u7f51\u7edc\u4e2d\u7684\u961f\u5217\u7ba1\u7406\u3002\u5b83\u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u901a\u8fc7\u52a8\u6001\u8c03\u6574\u6743\u91cd\u6765\u5b9e\u73b0\u516c\u5e73\u6027\u548c\u7075\u6d3b\u6027\uff0c\u786e\u4fdd\u8d44\u6e90\u5206\u914d\u66f4\u7b26\u5408\u6d41\u91cf\u7684\u9700\u6c42\u3002\u4ee5\u4e0b\u662fDWRR\u7b97\u6cd5\u7684\u57fa\u672c\u539f\u7406\uff1a 1. \u6743\u91cd\u5206\u914d\uff1a \u6bcf\u4e2a\u961f\u5217\u90fd\u88ab\u5206\u914d\u4e00\u4e2a\u6743\u91cd\u503c\uff0c\u8868\u793a\u5176\u5728\u8c03\u5ea6\u65f6\u83b7\u5f97\u670d\u52a1\u7684\u76f8\u5bf9\u4f18\u5148\u7ea7\u3002\u8f83\u9ad8\u6743\u91cd\u7684\u961f\u5217\u5728\u6bcf\u8f6e\u8c03\u5ea6\u4e2d\u83b7\u5f97\u66f4\u591a\u7684\u670d\u52a1\u673a\u4f1a\u3002 2. \u7f3a\u989d\u8ba1\u6570\uff1a \u6bcf\u4e2a\u961f\u5217\u90fd\u6709\u4e00\u4e2a\u7f3a\u989d\u8ba1\u6570\u5668\uff0c\u521d\u59cb\u5316\u4e3a\u96f6\u3002\u5728\u6bcf\u8f6e\u8c03\u5ea6\u4e2d\uff0c\u961f\u5217\u672a\u4f7f\u7528\u7684\u6743\u91cd\u5c06\u88ab\u7d2f\u79ef\u5230\u7f3a\u989d\u8ba1\u6570\u5668\u4e2d 3. \u8c03\u5ea6\u8fc7\u7a0b\uff1a \u5728\u6bcf\u4e2a\u8c03\u5ea6\u5468\u671f\u4e2d\uff0cDWRR\u6309\u7167\u961f\u5217\u7684\u6743\u91cd\u4f9d\u6b21\u4e3a\u6bcf\u4e2a\u961f\u5217\u5206\u914d\u670d\u52a1\u673a\u4f1a\u3002\u961f\u5217\u88ab\u5141\u8bb8\u53d1\u9001\u7684\u6570\u636e\u91cf\u7531\u5176\u7f3a\u989d\u8ba1\u6570\u51b3\u5b9a\u3002\u6bcf\u4e2a\u961f\u5217\u5728\u83b7\u5f97\u670d\u52a1\u673a\u4f1a\u540e\uff0c\u5176\u7f3a\u989d\u8ba1\u6570\u5c06\u88ab\u51cf\u53bb\u5176\u6743\u91cd\u503c\u3002 4. \u52a8\u6001\u8c03\u6574\uff1a \u5982\u679c\u67d0\u4e2a\u961f\u5217\u672a\u7528\u5b8c\u5176\u670d\u52a1\u673a\u4f1a\uff0c\u5269\u4f59\u7684\u6743\u91cd\u5c06\u88ab\u4fdd\u7559\u5230\u4e0b\u4e00\u8f6e\u8c03\u5ea6\u3002\u8fd9\u4f7f\u5f97DWRR\u80fd\u591f\u52a8\u6001\u9002\u5e94\u6d41\u91cf\u7684\u53d8\u5316\uff0c\u66f4\u597d\u5730\u5904\u7406\u4e0d\u540c\u4f18\u5148\u7ea7\u548c\u5e26\u5bbd\u9700\u6c42\u7684\u6d41\u3002</p> <p>\u5728\u6587\u4e2d\u63d0\u5230\u7684\u60c5\u5883\u4e2d\uff0cDWRR\u7b97\u6cd5\u88ab\u7528\u4e8e\u8c03\u5ea6Broadcom Tomahawk\u4ea4\u6362\u82af\u7247\u4e0a\u7684\u4e03\u4e2a\u961f\u5217\uff0c\u6bcf\u4e2a\u961f\u5217\u7684\u6743\u91cd\u4e3a1600B\u3002\u8fd9\u6837\u7684\u8bbe\u7f6e\u5141\u8bb8\u5bf9\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5305\u8fdb\u884c\u516c\u5e73\u8c03\u5ea6\uff0c\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u961f\u5217\u80fd\u591f\u66f4\u53ca\u65f6\u5730\u83b7\u5f97\u670d\u52a1\u3002</p> <p>https://blog.csdn.net/lsl_zhulin/article/details/115643382</p> <p>PFC avoidance\uff1a First, we evaluate the ability of DSH to avoid PFC messages. As shown in Fig. 11a, we start two background flows at the beginning, which are from ingress port 0 and ingress port 1, respectively, and head for egress port 31. At t =0.1s, we start 16 fan-in bursty flows, which are from ingress port 2-17 to egress port 30. Fig. 11b shows the total pause duration of all fan-in flows. DSH can avoid PAUSE messages when the burst size is no larger than 40% of buffer size, which is over 4\u00d7 better than SIH.\u5b66\u672f\u5316\u7ffb\u8bd1\u6210\u4e2d\u6587</p> <p>PFC\uff08Priority Flow Control\uff09\u7684\u89c4\u907f\u3002\u9996\u5148\uff0c\u6211\u4eec\u8bc4\u4f30DSH\u89c4\u907fPFC\u6d88\u606f\u7684\u80fd\u529b\u3002\u5982\u56fe11a\u6240\u793a\uff0c\u6211\u4eec\u5728\u5f00\u59cb\u65f6\u542f\u52a8\u4e86\u4e24\u4e2a\u540e\u53f0\u6d41[background flows]\uff0c\u5206\u522b\u6765\u81ea\u5165\u53e3\u7aef\u53e30\u548c\u5165\u53e3\u7aef\u53e31\uff0c\u76ee\u7684\u5730\u662f\u51fa\u53e3\u7aef\u53e331\u3002\u5728t=0.1s\u65f6\uff0c\u6211\u4eec\u542f\u52a8\u4e8616\u4e2a\u77ed\u65f6\u7a81\u53d1\u6d41[fan-in flows]\uff0c\u5b83\u4eec\u4ece\u5165\u53e3\u7aef\u53e32-17\u5230\u8fbe\u51fa\u53e3\u7aef\u53e330\u3002\u56fe11b\u663e\u793a\u4e86\u6240\u6709\u77ed\u65f6\u7a81\u53d1\u6d41\u7684\u603b\u6682\u505c\u6301\u7eed\u65f6\u95f4\u3002\u5f53\u7a81\u53d1\u5927\u5c0f\u4e0d\u8d85\u8fc7\u7f13\u51b2\u533a\u5927\u5c0f\u768440%\u65f6\uff0cDSH\u53ef\u4ee5\u907f\u514dPAUSE\u6d88\u606f\uff0c\u8fd9\u6bd4SIH\u597d\u4e864\u500d\u4ee5\u4e0a\u3002</p> <p>![[Pasted image 20231126154314.png]]</p> <p>Deadlock avoidance\uff1a One impairment brought by PFC mes-sages is deadlock [3], [6]\u2013[8], [11], which is a serious problem as it can make a large part of network unusable. In this part, we evaluate the ability of DSH to avoid deadlock. We consider a topology shown in Fig. 12a, which is a leaf-spine topology with two link failures marked with dashed lines (i.e., S0-L3 and S1-L0). In the topology, there are two spine switches (S0 and S1) and four leaf switches (L0 \u2212 L3). Each leaf switch is connected to 16 hosts with 100Gbps downlinks, and connected to two spine switches with 400Gbps uplinks. The link delay is 2\u03bcs. We generate fan-in flows, which are from L0 to L3, from L3 to L0, from L1 to L2, and from L2 to L1, respectively. As a result, there is a cyclic buffer dependency marked as red lines: S0 \u2192 L1 \u2192 S1 \u2192 L2 \u2192 S0. The fan-in ratio (i.e., the number of flows) ranges from 1 to 15. The flow size is randomly chosen based on the Hadoop workload [28], and flow arrivals follow a Poisson process. The network load is 0.5 at the downlinks of each leaf switch. Each scheme is tested 100 times and each simulation lasts for 100ms. Fig. 12b shows the CDF of deadlock onset time. With SIH, deadlock occurs for all simulations either with DCQCN [1] or PowerTCP [37]. In comparison, DSH can avoid 96% deadlocks with DCQCN and all deadlocks with PowerTCP. This is because DSH can leave more \u201cfootroom\u201d to absorb bursty traffic, avoiding PFC messages.</p> <p>\u6b7b\u9501\u89c4\u907f\u3002PFC\uff08Priority Flow Control\uff09\u6d88\u606f\u5f15\u5165\u7684\u4e00\u4e2a\u95ee\u9898\u662f\u6b7b\u9501[3]\uff0c[6]\u2013[8]\uff0c[11]\uff0c\u8fd9\u662f\u4e00\u4e2a\u4e25\u91cd\u7684\u95ee\u9898\uff0c\u56e0\u4e3a\u5b83\u53ef\u80fd\u5bfc\u81f4\u7f51\u7edc\u7684\u5927\u90e8\u5206\u65e0\u6cd5\u4f7f\u7528\u3002\u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u8bc4\u4f30DSH\u89c4\u907f\u6b7b\u9501\u7684\u80fd\u529b\u3002</p> <p>\u6211\u4eec\u8003\u8651\u4e86\u56fe12a\u4e2d\u663e\u793a\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u8fd9\u662f\u4e00\u4e2a\u5177\u6709\u4e24\u4e2a\u865a\u7ebf\u6807\u8bb0\u7684\u94fe\u8def\u6545\u969c\u7684\u53f6\u810a\u62d3\u6251\u7ed3\u6784\uff08\u5373\uff0cS0-L3\u548cS1-L0\uff09\u3002 \u5728\u62d3\u6251\u7ed3\u6784\u4e2d\uff0c\u6709\u4e24\u4e2a\u810a\u4ea4\u6362\u673a\uff08S0\u548cS1\uff09\u548c\u56db\u4e2a\u53f6\u4ea4\u6362\u673a\uff08L0 \u2212 L3\uff09\u3002 \u6bcf\u4e2a\u53f6\u4ea4\u6362\u673a\u8fde\u63a5\u523016\u4e2a\u5177\u6709100Gbps\u4e0b\u884c\u94fe\u8def\u7684\u4e3b\u673a\uff0c\u5e76\u901a\u8fc7400Gbps\u4e0a\u884c\u94fe\u8def\u8fde\u63a5\u5230\u4e24\u4e2a\u810a\u4ea4\u6362\u673a\u3002 \u94fe\u8def\u5ef6\u8fdf\u4e3a2\u03bcs\u3002\u6211\u4eec\u751f\u6210\u6c47\u805a\u6d41\uff0c\u5206\u522b\u4eceL0\u5230L3\uff0c\u4eceL3\u5230L0\uff0c\u4eceL1\u5230L2\uff0c\u4ee5\u53ca\u4eceL2\u5230L1\u3002\u56e0\u6b64\uff0c\u5b58\u5728\u4e00\u4e2a\u88ab\u6807\u8bb0\u4e3a\u7ea2\u7ebf\u7684\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u5173\u7cfb\uff1aS0 \u2192 L1 \u2192 S1 \u2192 L2 \u2192 S0\u3002  \u6c47\u805a\u6bd4\u7387\uff08\u5373:\u6d41\u7684\u6570\u91cf\uff09\u4ece1\u523015\u4e0d\u7b49\u3002\u6d41\u91cf\u5927\u5c0f==\u57fa\u4e8eHadoop\u5de5\u4f5c\u8d1f\u8f7d[28]\u968f\u673a\u9009\u62e9==\uff0c==\u6d41\u5230\u8fbe\u9075\u5faa\u6cca\u677e\u8fc7\u7a0b==\u3002\u6bcf\u4e2a\u53f6\u4ea4\u6362\u673a\u4e0b\u884c\u94fe\u8def\u7684\u7f51\u7edc\u8d1f\u8f7d\u4e3a0.5\u3002\u6bcf\u4e2a\u65b9\u6848\u6d4b\u8bd5100\u6b21\uff0c\u6bcf\u6b21\u6a21\u62df\u6301\u7eed100\u6beb\u79d2\u3002</p> <p>\u56fe12b\u663e\u793a\u4e86\u6b7b\u9501\u53d1\u751f\u65f6\u95f4\u7684\u7d2f\u79ef\u5206\u5e03\u51fd\u6570\u3002\u5bf9\u4e8eSIH\uff0c\u65e0\u8bba\u4f7f\u7528DCQCN[1]\u8fd8\u662fPowerTCP[37]\uff0c\u90fd\u4f1a\u5728\u6240\u6709\u6a21\u62df\u4e2d\u53d1\u751f\u6b7b\u9501\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0cDSH\u5728\u4f7f\u7528DCQCN\u65f6\u53ef\u4ee5\u907f\u514d96%\u7684\u6b7b\u9501\uff0c\u5728\u4f7f\u7528PowerTCP\u65f6\u53ef\u4ee5\u907f\u514d\u6240\u6709\u6b7b\u9501\u3002\u8fd9\u662f\u56e0\u4e3aDSH\u53ef\u4ee5\u7559\u51fa\u66f4\u591a\u7684\u201c\u4f59\u5730\u201d\u6765\u5438\u6536\u7a81\u53d1\u6d41\u91cf\uff0c\u4ece\u800c\u907f\u514dPFC\u6d88\u606f\u3002</p> <p>![[Pasted image 20231126160536.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#psflowpoisson","title":"PS\uff1aflow\u9075\u4ecepoisson\u5206\u5e03","text":"<p>\"\u6d41\u5230\u8fbe\u9075\u5faa\u6cca\u677e\u8fc7\u7a0b\"\u6307\u7684\u662f\u6d41\u91cf\u5230\u8fbe\u7684\u6a21\u5f0f\uff0c\u5176\u4e2d\u6d41\u7684\u53d1\u751f\u7b26\u5408\u6cca\u677e\u8fc7\u7a0b\u3002\u6cca\u677e\u8fc7\u7a0b\u662f\u4e00\u79cd\u968f\u673a\u8fc7\u7a0b\uff0c\u63cf\u8ff0\u4e86\u4e00\u7cfb\u5217\u72ec\u7acb\u4e8b\u4ef6\u5728\u65f6\u95f4\u4e0a\u7684\u53d1\u751f\uff0c\u4e14\u5176\u53d1\u751f\u7684\u95f4\u9694\u65f6\u95f4\u9075\u5faa\u6307\u6570\u5206\u5e03\u3002</p> <p>\u5728\u7f51\u7edc\u9886\u57df\u4e2d\uff0c\u6cca\u677e\u8fc7\u7a0b\u901a\u5e38\u7528\u4e8e\u6a21\u62df\u6d41\u91cf\u7684\u5230\u8fbe\u6a21\u5f0f\u3002\u5177\u4f53\u800c\u8a00\uff0c\u5982\u679c\u6d41\u5230\u8fbe\u9075\u5faa\u6cca\u677e\u8fc7\u7a0b\uff0c\u8fd9\u610f\u5473\u7740\u6d41\u91cf\u7684\u5230\u8fbe\u65f6\u95f4\u662f\u968f\u673a\u7684\u4e14\u4e8b\u4ef6\u4e4b\u95f4\u7684\u95f4\u9694\u65f6\u95f4\u662f\u6307\u6570\u5206\u5e03\u7684\u3002\u4ee5\u4e0b\u662f\u5173\u4e8e\u6cca\u677e\u8fc7\u7a0b\u7684\u4e00\u4e9b\u5173\u952e\u6982\u5ff5\uff1a \u30101\u3011\u72ec\u7acb\u6027\uff1a \u5728\u6cca\u677e\u8fc7\u7a0b\u4e2d\uff0c\u4e8b\u4ef6\u7684\u53d1\u751f\u662f\u76f8\u4e92\u72ec\u7acb\u7684\uff0c\u4e00\u4e2a\u4e8b\u4ef6\u7684\u53d1\u751f\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u4e8b\u4ef6\u7684\u53d1\u751f\u3002 \u30102\u3011\u6052\u5b9a\u901f\u7387\uff1a \u6cca\u677e\u8fc7\u7a0b\u5047\u8bbe\u4e8b\u4ef6\u7684\u5e73\u5747\u53d1\u751f\u901f\u7387\u662f\u6052\u5b9a\u7684\uff0c\u5373\u5728\u4efb\u4f55\u56fa\u5b9a\u65f6\u95f4\u6bb5\u5185\u53d1\u751f\u4e8b\u4ef6\u7684\u6982\u7387\u662f\u76f8\u540c\u7684\u3002 \u30103\u3011\u6307\u6570\u5206\u5e03\uff1a \u4e8b\u4ef6\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\uff08\u5230\u8fbe\u65f6\u95f4\uff09\u5728\u6cca\u677e\u8fc7\u7a0b\u4e2d\u9075\u5faa\u6307\u6570\u5206\u5e03\u3002\u6307\u6570\u5206\u5e03\u7684\u6982\u7387\u5bc6\u5ea6\u51fd\u6570\uff08PDF\uff09\u8868\u73b0\u4e3a\u6025\u5267\u4e0b\u964d\uff0c\u9002\u5408\u63cf\u8ff0\u77ed\u65f6\u95f4\u5185\u591a\u6b21\u4e8b\u4ef6\u53d1\u751f\u7684\u60c5\u51b5\u3002</p> <p>\u5728\u63d0\u5230\u6d41\u5230\u8fbe\u9075\u5faa\u6cca\u677e\u8fc7\u7a0b\u65f6\uff0c\u4f5c\u8005\u53ef\u80fd\u5728\u63cf\u8ff0\u6d41\u91cf\u5230\u8fbe\u7684\u6a21\u578b\uff0c\u5176\u4e2d\u6d41\u7684\u5230\u8fbe\u65f6\u95f4\u662f\u968f\u673a\u7684\uff0c\u4e14\u5230\u8fbe\u4e4b\u95f4\u7684\u95f4\u9694\u65f6\u95f4\u7b26\u5408\u6307\u6570\u5206\u5e03\u3002\u8fd9\u79cd\u6a21\u62df\u53ef\u4ee5\u7528\u4e8e\u8bc4\u4f30\u7f51\u7edc\u5728\u5b9e\u9645\u8fd0\u884c\u73af\u5883\u4e2d\u9762\u5bf9\u968f\u673a\u6027\u6d41\u91cf\u65f6\u7684\u6027\u80fd\u8868\u73b0\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#ps_1","title":"PS\uff1a\u4e3a\u4ec0\u4e48\u7f51\u7edc\u9886\u57df\u4e2d\uff0c\u6cca\u677e\u8fc7\u7a0b\u901a\u5e38\u7528\u4e8e\u6a21\u62df\u6d41\u91cf\u7684\u5230\u8fbe\u6a21\u5f0f","text":"<p>\u5728==\u7f51\u7edc\u9886\u57df\u4e2d\uff0c\u6cca\u677e\u8fc7\u7a0b\u901a\u5e38\u7528\u4e8e\u6a21\u62df\u6d41\u91cf\u7684\u5230\u8fbe\u6a21\u5f0f==\uff0c\u539f\u56e0\u5982\u4e0b\uff1a 1. \u72ec\u7acb\u6027\u548c\u6052\u5b9a\u901f\u7387\uff1a \u6cca\u677e\u8fc7\u7a0b\u7684\u4e24\u4e2a\u5173\u952e\u7279\u6027\u662f\u4e8b\u4ef6\u7684\u72ec\u7acb\u6027 \u548c\u6052\u5b9a\u901f\u7387\u3002\u8fd9\u4e24\u4e2a\u7279\u6027\u4f7f\u5f97\u6cca\u677e\u8fc7\u7a0b\u6210\u4e3a\u6a21\u62df\u968f\u673a\u4e8b\u4ef6\u5230\u8fbe\u7684\u7406\u60f3\u9009\u62e9\u3002\u5728\u7f51\u7edc\u4e2d\uff0c\u4f8b\u5982\uff0c\u7528\u6237\u8bf7\u6c42\u3001\u6570\u636e\u5305\u5230\u8fbe\u3001\u4efb\u52a1\u63d0\u4ea4\u7b49\u4e8b\u4ef6\u53ef\u80fd\u5177\u6709\u72ec\u7acb\u6027\uff0c\u5e76\u4e14\u5176\u5e73\u5747\u5230\u8fbe\u901f\u7387\u53ef\u80fd\u5728\u4e00\u5b9a\u65f6\u95f4\u8303\u56f4\u5185\u662f\u76f8\u5bf9\u7a33\u5b9a\u7684\u3002\u8fd9\u6837\u7684\u6a21\u578b\u5bf9\u4e8e\u63cf\u8ff0\u8fd9\u4e9b\u968f\u673a\u4e8b\u4ef6\u7684\u5230\u8fbe\u6a21\u5f0f\u662f\u5408\u9002\u7684\u3002 2. \u6570\u5b66\u7b80\u5355\u6027\uff1a \u6cca\u677e\u8fc7\u7a0b\u5177\u6709\u6570\u5b66\u4e0a\u7684\u7b80\u5355\u6027\uff0c\u5176\u6982\u7387\u5206\u5e03\u51fd\u6570\u548c\u7d2f\u79ef\u5206\u5e03\u51fd\u6570\u90fd\u6709\u5c01\u95ed\u5f62\u5f0f\u7684\u8868\u8fbe\u5f0f\u3002\u8fd9\u4f7f\u5f97\u5bf9\u4e8e\u8fd9\u79cd\u7c7b\u578b\u7684\u8fc7\u7a0b\u8fdb\u884c\u5206\u6790\u548c\u8ba1\u7b97\u53d8\u5f97\u76f8\u5bf9\u5bb9\u6613\u3002 3. \u6307\u6570\u5206\u5e03\u7279\u6027\uff1a \u6cca\u677e\u8fc7\u7a0b\u4e2d\u4e8b\u4ef6\u5230\u8fbe\u7684\u65f6\u95f4\u95f4\u9694\u7b26\u5408\u6307\u6570\u5206\u5e03\u3002\u6307\u6570\u5206\u5e03\u7684\u7279\u6027\u4f7f\u5f97\u6a21\u578b\u66f4\u5bb9\u6613\u5904\u7406\uff0c\u800c\u4e14\u5bf9\u4e8e\u63cf\u8ff0\u968f\u673a\u4e8b\u4ef6\u7684\u5230\u8fbe\u65f6\u95f4\u5177\u6709\u5408\u7406\u7684\u6570\u5b66\u57fa\u7840\u3002 4. \u9002\u7528\u6027\u5e7f\u6cdb\uff1a \u6cca\u677e\u8fc7\u7a0b\u4e0d\u4ec5\u5728\u7f51\u7edc\u9886\u57df\u4e2d\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u8fd8\u5728\u5176\u4ed6\u9886\u57df\uff0c\u5982\u6392\u961f\u7406\u8bba\u3001\u901a\u4fe1\u7cfb\u7edf\u3001\u751f\u7269\u5b66\u7b49\u65b9\u9762\u5f97\u5230\u4e86\u5e7f\u6cdb\u5e94\u7528\u3002\u8fd9\u79cd\u5e7f\u6cdb\u7684\u9002\u7528\u6027\u4f7f\u5f97\u4eba\u4eec\u80fd\u591f\u66f4\u5bb9\u6613\u5730\u5c06\u5404\u79cd\u7cfb\u7edf\u7684\u6027\u80fd\u5efa\u6a21\u4e0e\u5206\u6790\u4e0e\u6cca\u677e\u8fc7\u7a0b\u76f8\u7ed3\u5408\u3002</p> <p>\u603b\u4f53\u800c\u8a00\uff0c\u6cca\u677e\u8fc7\u7a0b\u4e3a\u6a21\u62df\u548c\u7814\u7a76\u7f51\u7edc\u4e2d\u7684\u968f\u673a\u4e8b\u4ef6\u63d0\u4f9b\u4e86\u4e00\u79cd\u7b80\u5355\u800c\u6709\u6548\u7684\u6570\u5b66\u5de5\u5177\u3002\u867d\u7136\u5b9e\u9645\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\u5f80\u5f80\u66f4\u4e3a\u590d\u6742\uff0c\u4f46\u6cca\u677e\u8fc7\u7a0b\u63d0\u4f9b\u4e86\u4e00\u4e2a\u521d\u59cb\u7684\u8fd1\u4f3c\uff0c\u5bf9\u4e8e\u7406\u89e3\u7f51\u7edc\u6027\u80fd\u3001\u8bc4\u4f30\u7cfb\u7edf\u5bb9\u91cf\u548c\u8fdb\u884c\u6027\u80fd\u5206\u6790\u4ecd\u7136\u662f\u6709\u7528\u7684\u3002</p> <p>Collateral damage mitigation\uff1aAnother impairment brought by PFC messages is that it can lead to performance degradation of innocent flows, which is known as collateral damage [3]. In this part, we show that DSH can mitigate this problem by avoiding PFC PAUSEs. We consider a typical scenario shown in Fig. 13a, which is a common unit in datacenters and widely adopted by other work [9], [45], [46]. All links are 100Gbps and the propagation delay is 2\u03bcs. Two long-lived flows, F0 and F1, are sending traffic from H0 and H1 to R0 and R1, respectively. After their throughputs reach 50Gbps, H2-H25 generate 24 concurrent fan-in flows to R1. Each flow has a size of 64KB, which is smaller than a BDP and thus the fan-in traffic is uncontrolled by congestion control algorithms. At this time, the congestion point is S1 and both F1 and fan-in flows contribute to the congestion. On the other hand, F0 is an innocent flow that does not contribute to the congestion. Ideally, the throughput of F0 should not be reduced. Fig. 13 shows the throughput of F0. With SIH, the through-put of F0 is significantly reduced. This is because the pause threshold Xpoff is very low and thus PFC PAUSEs can be easily triggered. As a result, switch S0 is paused and the packet transmission of F0 is suspended. In comparison, DSH can effectively avoid performance degradation for F0. This is because it can efficiently utilize the headroom and leave enough \u201cfootroom\u201d for PFC avoidance. Besides, we observe that the state-of-the-art congestion control algorithms (Fig. 13c and Fig. 13d) are not able to avoid the collateral damage. This is because end-to-end congestion control requires at least 1 RTT to react to traffic changes. Within 1 RTT, it is the buffer management scheme that determines whether PFC messages can be avoided.</p> <p>\u7f13\u89e3\u9644\u5e26\u635f\u5bb3\uff1aPFC\u6d88\u606f\u5f15\u8d77\u7684\u53e6\u4e00\u4e2a\u95ee\u9898\u662f\u5b83\u53ef\u80fd\u5bfc\u81f4\u65e0\u8f9c\u6d41\u7684\u6027\u80fd\u4e0b\u964d\uff0c\u8fd9\u88ab\u79f0\u4e3a\"collateral damage\"\uff08\u9644\u5e26\u635f\u5bb3\uff09[3]\u3002 \u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u5c55\u793a\u4e86DSH\u901a\u8fc7\u907f\u514dPFC PAUSE\u53ef\u4ee5\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\u3002 \u6211\u4eec\u8003\u8651\u4e86\u56fe13a\u4e2d\u663e\u793a\u7684\u5178\u578b\u573a\u666f\uff0c\u8fd9\u662f\u6570\u636e\u4e2d\u5fc3\u4e2d\u5e38\u89c1\u7684\u5355\u5143\uff0c\u4e5f\u88ab\u5176\u4ed6\u7814\u7a76\u5e7f\u6cdb\u91c7\u7528[9]\uff0c[45]\uff0c[46]\u3002 \u6240\u6709\u94fe\u8def\u901f\u5ea6\u4e3a100Gbps\uff0c\u4f20\u64ad\u5ef6\u8fdf\u4e3a2\u03bcs\u3002 \u4e24\u4e2a\u957f\u5bff\u547d\u6d41\uff0cF0\u548cF1\uff0c\u5206\u522b\u4eceH0\u548cH1\u53d1\u9001\u6d41\u91cf\u5230R0\u548cR1\u3002 \u5728\u5b83\u4eec\u7684\u541e\u5410\u91cf\u8fbe\u523050Gbps\u540e\uff0cH2-H25\u751f\u6210\u4e8624\u4e2a\u5e76\u53d1\u7684\u6c47\u805a\u6d41\u5230\u8fbeR1\u3002 \u6bcf\u4e2a\u6d41\u7684\u5927\u5c0f\u4e3a64KB\uff0c==\u5c0f\u4e8eBDP\uff0c\u56e0\u6b64\u6c47\u805a\u6d41\u91cf\u4e0d\u53d7\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u63a7\u5236==\u3002 \u6b64\u65f6\uff0c\u62e5\u585e\u70b9\u662fS1\uff0cF1\u548c\u6c47\u805a\u6d41\u90fd\u5bfc\u81f4\u4e86\u62e5\u585e\u3002\u53e6\u4e00\u65b9\u9762\uff0cF0\u662f\u4e00\u4e2a\u65e0\u8f9c\u6d41\uff0c\u4e0d\u4f1a\u5bfc\u81f4\u62e5\u585e\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0cF0\u7684\u541e\u5410\u91cf\u4e0d\u5e94\u51cf\u5c11\u3002 \u56fe13\u663e\u793a\u4e86F0\u7684\u541e\u5410\u91cf\u3002\u4f7f\u7528SIH\u65f6\uff0cF0\u7684\u541e\u5410\u91cf\u663e\u8457\u51cf\u5c11\u3002\u8fd9\u662f\u56e0\u4e3a\u6682\u505c\u9608\u503cXpoff\u975e\u5e38\u4f4e\uff0c\u56e0\u6b64\u53ef\u4ee5\u5f88\u5bb9\u6613\u5730\u89e6\u53d1PFC PAUSE\u3002\u7ed3\u679c\uff0c\u4ea4\u6362\u673aS0\u88ab\u6682\u505c\uff0cF0\u7684\u6570\u636e\u5305\u4f20\u8f93\u88ab\u4e2d\u6b62\u3002 \u76f8\u6bd4\u4e4b\u4e0b\uff0cDSH\u53ef\u4ee5\u6709\u6548\u907f\u514dF0\u6027\u80fd\u4e0b\u964d\u3002\u8fd9\u662f\u56e0\u4e3a\u5b83\u53ef\u4ee5\u9ad8\u6548\u5229\u7528\u5934\u90e8\u7a7a\u95f4\uff0c\u5e76\u4e3aPFC\u89c4\u907f\u7559\u51fa\u8db3\u591f\u7684\"\u4f59\u5730\"\u3002\u6b64\u5916\uff0c\u6211\u4eec\u89c2\u5bdf\u5230\u73b0\u4ee3\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff08\u56fe13c\u548c\u56fe13d\uff09\u4e0d\u80fd\u907f\u514d\u9644\u5e26\u635f\u5bb3\u3002\u8fd9\u662f\u56e0\u4e3a\u7aef\u5230\u7aef\u7684\u62e5\u585e\u63a7\u5236\u9700\u8981\u81f3\u5c111\u4e2a\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u6765\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94\u3002\u57281\u4e2aRTT\u5185\uff0c\u786e\u5b9a\u662f\u5426\u53ef\u4ee5\u907f\u514dPFC\u6d88\u606f\u7684\u662f\u7f13\u51b2\u533a\u7ba1\u7406\u65b9\u6848\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#pscollateral-damage-mitigation","title":"PS\uff1aCollateral damage mitigation","text":"<ul> <li>\"Collateral damage mitigation\" \u610f\u6307\u51cf\u8f7b\u6216\u7f13\u89e3\u5728\u67d0\u4e2a\u8fc7\u7a0b\u3001\u51b3\u7b56\u6216\u64cd\u4f5c\u4e2d\u4ea7\u751f\u7684\u9644\u5e26\u635f\u5bb3\u3002\u5728\u7279\u5b9a\u7684\u4e0a\u4e0b\u6587\u4e2d\uff0c\"collateral damage\"\uff08\u9644\u5e26\u635f\u5bb3\uff09\u662f\u6307\u5728\u5b9e\u65bd\u67d0\u9879\u51b3\u7b56\u6216\u64cd\u4f5c\u65f6\u53ef\u80fd\u5bf9\u5176\u4ed6\u65b9\u9762\u4ea7\u751f\u7684\u4e0d\u826f\u5f71\u54cd\u6216\u989d\u5916\u7684\u635f\u5bb3\u3002\u56e0\u6b64\uff0c\"collateral damage mitigation\" \u5f3a\u8c03\u91c7\u53d6\u63aa\u65bd\u6765\u6700\u5c0f\u5316\u6216\u907f\u514d\u8fd9\u4e9b\u9644\u5e26\u7684\u4e0d\u826f\u5f71\u54cd\u3002</li> <li>\u5728\u63d0\u5230\u7f51\u7edc\u4e2d\u7684 \"collateral damage mitigation\" \u65f6\uff0c\u53ef\u80fd\u6307\u7684\u662f\u91c7\u53d6\u4e00\u4e9b\u7b56\u7565\u6216\u8bbe\u8ba1\u6765\u51cf\u8f7b\u5728\u7f51\u7edc\u64cd\u4f5c\u4e2d\u4ea7\u751f\u7684\u9644\u5e26\u635f\u5bb3\uff0c==\u7279\u522b\u662f\u5728\u6d89\u53ca\u5230 PFC\uff08Priority Flow Control\uff09\u6d88\u606f\u5f15\u8d77\u7684\u95ee\u9898\u65f6\u3002\u5728\u7f51\u7edc\u901a\u4fe1\u4e2d\uff0c\u4e00\u4e9b\u4f18\u5316\u6216\u8c03\u6574\u53ef\u80fd\u4f1a\u5f71\u54cd\u5230\u6574\u4f53\u7f51\u7edc\u6027\u80fd\uff0c\u5c24\u5176\u662f\u53ef\u80fd\u5bf9\u4e0d\u76f8\u5173\u7684\u6d41\u91cf\u6216\u4efb\u52a1\u9020\u6210\u4e0d\u5229\u5f71\u54cd==\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c==\u91c7\u53d6\u63aa\u65bd\u4ee5\u51cf\u8f7b\u6216\u907f\u514d\u8fd9\u4e9b\u989d\u5916\u7684\u4e0d\u826f\u5f71\u54cd\u5c31\u662f \"collateral damage mitigation\" \u7684\u76ee\u6807==\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#psbdp","title":"PS\uff1aBDP","text":"<p>\"BDP\" \u662f\u7f51\u7edc\u4e2d\u7684\u4e00\u4e2a\u672f\u8bed\uff0c\u8868\u793a\u5e26\u5bbd\u5ef6\u8fdf\u79ef\uff08Bandwidth-Delay Product\uff09\u3002\u5e26\u5bbd\u5ef6\u8fdf\u79ef\u662f\u6307\u5728\u7f51\u7edc\u901a\u4fe1\u4e2d\uff0c==\u901a\u8fc7\u4e58\u4ee5\u5e26\u5bbd\uff08\u6570\u636e\u4f20\u8f93\u901f\u7387\uff09\u548c\u5f80\u8fd4\u65f6\u95f4\uff08Round-Trip Time, RTT\uff09\uff0c\u5f97\u5230\u4e00\u4e2a\u8861\u91cf \u7f51\u7edc\u5bb9\u91cf \u7684\u503c==\u3002\u6570\u5b66\u4e0a\uff0cBDP\u53ef\u4ee5\u7528\u4ee5\u4e0b\u516c\u5f0f\u8868\u793a\uff1a</p> <p>\\(BDP = \\text{\u5e26\u5bbd} \\times \\text{\u5f80\u8fd4\u65f6\u95f4 (RTT)}\\)</p> <p>\u5728\u4e0a\u8ff0\u4e0a\u4e0b\u6587\u4e2d\uff0c\u63d0\u5230\u6bcf\u4e2a\u6d41\u7684\u5927\u5c0f\u4e3a64KB\uff0c\u5c0f\u4e8e BDP\uff0c\u610f\u5473\u7740\u6bcf\u4e2a\u6d41\u7684\u6570\u636e\u91cf\u76f8\u5bf9\u8f83\u5c0f\uff0c\u4e0d\u8db3\u4ee5\u5145\u5206\u5229\u7528\u7f51\u7edc\u7684\u5e26\u5bbd\u5bb9\u91cf\u3002\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6d41\u7684\u5927\u5c0f\u4e0d\u4f1a\u5bfc\u81f4\u7f51\u7edc\u51fa\u73b0\u62e5\u585e\uff0c\u56e0\u4e3a\u5176\u6570\u636e\u91cf\u672a\u8fbe\u5230\u7f51\u7edc\u5728\u7ed9\u5b9a\u65f6\u95f4\u5185\u53ef\u4ee5\u5bb9\u7eb3\u7684\u6700\u5927\u6570\u636e\u91cf\uff08\u7531BDP\u51b3\u5b9a\uff09\u3002 \u5f53\u6d41\u7684\u5927\u5c0f\u5c0f\u4e8e BDP \u65f6\uff0c\u5c31\u8bf4\u660e\u7f51\u7edc\u5728\u5355\u4f4d\u65f6\u95f4\u5185\u80fd\u591f\u5bb9\u7eb3\u66f4\u591a\u7684\u6570\u636e\uff0c\u56e0\u6b64\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u80fd\u4e0d\u4f1a\u88ab\u89e6\u53d1\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u901a\u5e38\u6839\u636e\u7f51\u7edc\u7684\u8d1f\u8f7d\u60c5\u51b5\u6765\u8c03\u6574\u6570\u636e\u7684\u53d1\u9001\u901f\u7387\uff0c\u4ee5\u907f\u514d\u7f51\u7edc\u62e5\u585e\u3002\u5728\u8fd9\u4e2a\u7279\u5b9a\u7684\u573a\u666f\u4e2d\uff0c\u7531\u4e8e\u6d41\u7684\u5927\u5c0f\u76f8\u5bf9\u8f83\u5c0f\uff0c\u53ef\u80fd\u8ba4\u4e3a\u5b83\u4eec\u4e0d\u592a\u53ef\u80fd\u5bf9\u7f51\u7edc\u4ea7\u751f\u660e\u663e\u7684\u62e5\u585e\u6548\u5e94\uff0c\u56e0\u6b64\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u80fd\u4e0d\u4f1a\u4ecb\u5165\u5bf9\u8fd9\u4e9b\u6d41\u8fdb\u884c\u8c03\u6574\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#ps_2","title":"PS\uff1a\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u88ab\u89e6\u53d1\u7684\u6761\u4ef6","text":"<p>\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u88ab\u89e6\u53d1\u901a\u5e38\u9700\u8981\u6ee1\u8db3\u4ee5\u4e0b\u4e00\u4e9b\u6761\u4ef6\uff1a 1. \u7f51\u7edc\u8d1f\u8f7d\u9ad8\uff1a \u5f53\u7f51\u7edc\u4e2d\u7684\u6570\u636e\u6d41\u91cf\u8f83\u5927\uff0c\u63a5\u8fd1\u6216\u8fbe\u5230\u7f51\u7edc\u5bb9\u91cf\u7684\u4e0a\u9650\u65f6\uff0c\u53ef\u80fd\u4f1a\u53d1\u751f\u62e5\u585e\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u4f1a\u76d1\u6d4b\u7f51\u7edc\u7684\u8d1f\u8f7d\u60c5\u51b5\uff0c\u5f53\u7f51\u7edc\u8d1f\u8f7d\u8fbe\u5230\u4e00\u5b9a\u7684\u9608\u503c\u65f6\uff0c\u5c31\u53ef\u80fd\u89e6\u53d1\u62e5\u585e\u63a7\u5236\u673a\u5236\u3002 2. \u961f\u5217\u6ea2\u51fa\uff1a \u5728\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u8def\u7531\u5668\u6216\u4ea4\u6362\u673a\uff09\u4e2d\uff0c\u6570\u636e\u5305\u901a\u5e38\u4f1a\u5b58\u50a8\u5728\u7f13\u51b2\u961f\u5217\u4e2d\u7b49\u5f85\u4f20\u8f93\u3002\u5982\u679c\u8fd9\u4e9b\u961f\u5217\u53d8\u5f97\u8fc7\u4e8e\u62e5\u6324\uff0c\u5bfc\u81f4\u961f\u5217\u6ea2\u51fa\uff0c\u5c31\u53ef\u80fd\u89e6\u53d1\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u3002\u961f\u5217\u6ea2\u51fa\u662f\u62e5\u585e\u7684\u4e00\u4e2a\u6307\u793a\uff0c\u8868\u660e\u7f51\u7edc\u8bbe\u5907\u65e0\u6cd5\u53ca\u65f6\u5904\u7406\u6240\u6709\u4f20\u5165\u7684\u6570\u636e\u3002 3. \u4e22\u5305\u7387\u5347\u9ad8\uff1a \u62e5\u585e\u901a\u5e38\u4e0e\u6570\u636e\u5305\u7684\u4e22\u5931\u76f8\u5173\u3002\u5f53\u7f51\u7edc\u8bbe\u5907\u65e0\u6cd5\u5904\u7406\u6240\u6709\u5230\u8fbe\u7684\u6570\u636e\u5305\u65f6\uff0c\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e22\u5305\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u4ee5\u6839\u636e\u4e22\u5305\u7387\u7684\u5347\u9ad8\u6765\u5224\u65ad\u7f51\u7edc\u662f\u5426\u5904\u4e8e\u62e5\u585e\u72b6\u6001\uff0c\u5e76\u91c7\u53d6\u76f8\u5e94\u7684\u63aa\u65bd\u51cf\u7f13\u6570\u636e\u4f20\u8f93\u901f\u7387\u3002 4. \u5ef6\u8fdf\u589e\u52a0\uff1a \u62e5\u585e\u8fd8\u53ef\u80fd\u5bfc\u81f4\u7f51\u7edc\u7684\u5f80\u8fd4\u65f6\u95f4\uff08Round-Trip Time, RTT\uff09\u589e\u52a0\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u4f1a\u76d1\u6d4b\u5ef6\u8fdf\u7684\u53d8\u5316\uff0c\u5f53\u5ef6\u8fdf\u589e\u52a0\u5230\u4e00\u5b9a\u7a0b\u5ea6\u65f6\uff0c\u53ef\u80fd\u4f1a\u542f\u52a8\u62e5\u585e\u63a7\u5236\u673a\u5236\u3002 5. ECN\uff08\u663e\u5f0f\u62e5\u585e\u901a\u77e5\uff09\u6807\u8bb0\uff1a \u5728\u4e00\u4e9b\u7f51\u7edc\u4e2d\uff0c\u8def\u7531\u5668\u6216\u4ea4\u6362\u673a\u53ef\u4ee5\u4f7f\u7528 ECN \u6807\u8bb0\u6765\u6307\u793a\u7f51\u7edc\u7684\u62e5\u585e\u72b6\u6001\u3002\u5f53\u6570\u636e\u5305\u7ecf\u8fc7\u67d0\u4e2a\u62e5\u585e\u7684\u7f51\u7edc\u8282\u70b9\u65f6\uff0c\u8be5\u8282\u70b9\u53ef\u4ee5\u8bbe\u7f6e ECN \u6807\u8bb0\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u4ee5\u6839\u636e ECN \u6807\u8bb0\u6765\u5224\u65ad\u7f51\u7edc\u72b6\u6001\uff0c\u5e76\u76f8\u5e94\u5730\u8fdb\u884c\u8c03\u6574\u3002</p> <p>\u8fd9\u4e9b\u6761\u4ef6\u7684\u7ec4\u5408\u53ef\u80fd\u56e0\u7f51\u7edc\u8bbe\u8ba1\u548c\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u5177\u4f53\u5b9e\u73b0\u800c\u6709\u6240\u4e0d\u540c\u3002\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u5728\u7f51\u7edc\u8d1f\u8f7d\u9ad8\u7684\u60c5\u51b5\u4e0b\u7ef4\u6301\u7a33\u5b9a\u7684\u6027\u80fd\uff0c\u5e76\u907f\u514d\u56e0\u8fc7\u5ea6\u62e5\u585e\u800c\u5bfc\u81f4\u7684\u6027\u80fd\u4e0b\u964d\u3002</p> <p>![[Pasted image 20231126163009.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#b-benchmark-traffic","title":"B. Benchmark Traffic\uff08\u57fa\u51c6\u6d41\u91cf\uff09","text":"<p>\u5728\u7f51\u7edc\u9886\u57df\u4e2d\uff0c\"Benchmark Traffic\"\uff08\u57fa\u51c6\u6d41\u91cf\uff09\u901a\u5e38\u6307\u7528\u4e8e\u6027\u80fd\u8bc4\u4f30\u548c\u6d4b\u8bd5\u7684==\u6807\u51c6\u5316\u6d41\u91cf\u6a21\u578b==\u3002\u8fd9\u79cd\u6d41\u91cf\u6a21\u578b\u8bbe\u8ba1\u5f97\u8db3\u591f\u7b80\u5355\u548c\u5177\u6709\u4ee3\u8868\u6027\uff0c\u4ee5\u4fbf\u8bc4\u4f30\u7f51\u7edc\u8bbe\u5907\u3001\u534f\u8bae\u6216\u7cfb\u7edf\u7684\u6027\u80fd\u3002\u57fa\u51c6\u6d41\u91cf\u53ef\u7528\u4e8e\u6bd4\u8f83\u4e0d\u540c\u7cfb\u7edf\u4e4b\u95f4\u7684\u6027\u80fd\uff0c\u8fdb\u884c\u57fa\u51c6\u6d4b\u8bd5\u548c\u9a8c\u8bc1\u7cfb\u7edf\u5728\u4e0d\u540c\u8d1f\u8f7d\u6761\u4ef6\u4e0b\u7684\u8868\u73b0\u3002</p> <p>\u57fa\u51c6\u6d41\u91cf\u7684\u7279\u70b9\u53ef\u80fd\u5305\u62ec\uff1a 1. \u5df2\u77e5\u6d41\u91cf\u6a21\u5f0f\uff1a \u57fa\u51c6\u6d41\u91cf\u901a\u5e38\u5177\u6709\u5df2\u77e5\u7684\u6d41\u91cf\u6a21\u5f0f\uff0c\u4f8b\u5982\u7279\u5b9a\u5927\u5c0f\u7684\u6570\u636e\u5305\u3001\u7279\u5b9a\u7684\u5230\u8fbe\u7387\u6216\u6d41\u7684\u6570\u91cf\u3002\u8fd9\u6709\u52a9\u4e8e\u5728\u6d4b\u8bd5\u4e2d\u7cbe\u786e\u5730\u63a7\u5236\u548c\u6d4b\u91cf\u6d41\u91cf\u3002 2. \u53ef\u91cd\u73b0\u6027\uff1a \u57fa\u51c6\u6d41\u91cf\u7684\u751f\u6210\u5e94\u5177\u6709\u53ef\u91cd\u73b0\u6027\uff0c\u4ee5\u786e\u4fdd\u5728\u4e0d\u540c\u7684\u6d4b\u8bd5\u73af\u5883\u4e2d\u80fd\u591f\u4ea7\u751f\u76f8\u4f3c\u7684\u6d41\u91cf\uff0c\u4ece\u800c\u5b9e\u73b0\u53ef\u9760\u7684\u6bd4\u8f83\u3002 3. \u5178\u578b\u7528\u4f8b\uff1a \u57fa\u51c6\u6d41\u91cf\u901a\u5e38\u8bbe\u8ba1\u4e3a\u6a21\u62df\u7f51\u7edc\u4e2d\u7684\u5178\u578b\u4f7f\u7528\u60c5\u51b5\uff0c\u4ee5\u4fbf\u8bc4\u4f30\u7cfb\u7edf\u5728\u5b9e\u9645\u5de5\u4f5c\u8d1f\u8f7d\u4e0b\u7684\u8868\u73b0\u3002 4. \u5bb9\u6613\u5206\u6790\uff1a \u57fa\u51c6\u6d41\u91cf\u901a\u5e38\u8bbe\u8ba1\u4e3a\u6613\u4e8e\u5206\u6790\uff0c\u4ee5\u4fbf\u8bc4\u4f30\u7f51\u7edc\u8bbe\u5907\u6216\u7cfb\u7edf\u7684\u6027\u80fd\u7279\u5f81\uff0c\u4f8b\u5982\u541e\u5410\u91cf\u3001\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u3002 5. \u4ee3\u8868\u6027\uff1a \u57fa\u51c6\u6d41\u91cf\u5e94\u5f53\u5177\u6709\u4ee3\u8868\u6027\uff0c\u53cd\u6620\u51fa\u7f51\u7edc\u4e2d\u5e38\u89c1\u7684\u6d41\u91cf\u7279\u5f81\uff0c\u4ee5\u786e\u4fdd\u6d4b\u8bd5\u7ed3\u679c\u5bf9\u4e8e\u5b9e\u9645\u5e94\u7528\u573a\u666f\u5177\u6709\u4e00\u5b9a\u7684\u53ef\u9760\u6027\u3002</p> <p>\u5728\u7814\u7a76\u548c\u6d4b\u8bd5\u4e2d\uff0c\u57fa\u51c6\u6d41\u91cf\u88ab\u5e7f\u6cdb\u7528\u4e8e\u8bc4\u4f30\u5404\u79cd\u7f51\u7edc\u6280\u672f\u548c\u89e3\u51b3\u65b9\u6848\u7684\u6027\u80fd\u3002\u8fd9\u79cd\u6d41\u91cf\u53ef\u4ee5\u662f\u4e8b\u5148\u5b9a\u4e49\u7684\uff0c\u4e5f\u53ef\u4ee5\u6839\u636e\u7279\u5b9a\u7684\u6d4b\u8bd5\u9700\u6c42\u8fdb\u884c\u5b9a\u5236\u3002</p> <p>In this part, we evaluate DSH in a large-scale DCN topology. \u5728\u8fd9\u4e00\u90e8\u5206\uff0c\u6211\u4eec\u5bf9DSH\u5728\u4e00\u4e2a\u5927\u89c4\u6a21\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\uff08DCN\uff09\u62d3\u6251\u7ed3\u6784\u4e2d\u7684\u6027\u80fd\u8fdb\u884c\u8bc4\u4f30\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#topology","title":"Topology.","text":"<p>We build a leaf-spine topology with 16 leaf switches, 16 spine switches, and 256 servers. Each leaf switch is connected to 16 servers with 100Gbps downlinks and 16 spine switches with 100Gbps uplinks, forming a full-bisection network. The link delay is 2\u03bcs and thus the base RTT is 16\u03bcs across the spine. We employ ECMP for load balancing.</p> <p>\u62d3\u6251\u7ed3\u6784\u3002\u6211\u4eec\u6784\u5efa\u4e86\u4e00\u4e2a\u5305\u542b16\u4e2a\u53f6\u4ea4\u6362\u673a\u300116\u4e2a\u810a\u4ea4\u6362\u673a\u548c256\u4e2a\u670d\u52a1\u5668\u7684\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u3002 \u6bcf\u4e2a\u53f6\u4ea4\u6362\u673a\u901a\u8fc7100Gbps\u4e0b\u884c\u94fe\u8def\u8fde\u63a5\u523016\u53f0\u670d\u52a1\u5668\uff0c\u5e76\u901a\u8fc7100Gbps\u4e0a\u884c\u94fe\u8def\u8fde\u63a5\u523016\u4e2a\u810a\u4ea4\u6362\u673a\uff0c\u5f62\u6210\u4e00\u4e2a\u5168\u5206\u5272\u7f51\u7edc\u3002 \u94fe\u8def\u5ef6\u8fdf\u4e3a2\u03bcs\uff0c\u56e0\u6b64\u6cbf\u810a\u7684\u57fa\u672c\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u4e3a16\u03bcs\u3002\u6211\u4eec\u91c7\u7528ECMP\u8fdb\u884c\u8d1f\u8f7d\u5747\u8861\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#switch","title":"Switch.","text":"<p>We emulate the Broadcom Tomahawk switching chip. The settings are the same as those in previous simulations.</p> <p>\u4ea4\u6362\u673a\u3002\u6211\u4eec\u6a21\u62df\u4e86Broadcom Tomahawk\u4ea4\u6362\u82af\u7247\uff0c\u5176\u8bbe\u7f6e\u4e0e\u4e4b\u524d\u7684\u4eff\u771f\u76f8\u540c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#transport","title":"Transport.","text":"<p>We consider two end-to-end congestion control algorithms: DCQCN [1] and PowerTCP [37]. We use the default parameter settings in their open-source simulations.</p> <p>\u4f20\u8f93\u3002\u6211\u4eec\u8003\u8651\u4e86\u4e24\u79cd\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff1aDCQCN [1] \u548cPowerTCP [37]\u3002\u6211\u4eec\u4f7f\u7528\u5b83\u4eec\u5728\u5f00\u6e90\u4eff\u771f\u4e2d\u7684\u9ed8\u8ba4\u53c2\u6570\u8bbe\u7f6e\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#workload","title":"Workload.","text":"<p>We generate two kinds of traffic: background traffic and bursty fan-in traffic. The background traffic follows one-to-one pattern. The sender and receiver are randomly chosen. The flow sizes are generated according to a web search workload [27]. The fan-in traffic follows many-to-one pattern, where 16 senders simultaneously transmit 64KB data to the same receiver. The senders are randomly chosen and are in different racks from the receiver. Fan-in flows are classified into the same traffic class. Background flows are randomly classified into other traffic classes. Flow arrivals follow a Poisson process. The total network load is 0.9.</p> <p>\u5de5\u4f5c\u8d1f\u8f7d\u3002\u6211\u4eec\u751f\u6210\u4e24\u79cd\u7c7b\u578b\u7684\u6d41\u91cf\uff1a\u540e\u53f0\u6d41\u91cf\uff08background flows\uff09\u548c \u7a81\u53d1\u7684\u6c47\u805a\u6d41\u91cf\uff08fan-in flows\uff09\u3002 \u540e\u53f0\u6d41\u91cf\u9075\u5faa\u4e00\u5bf9\u4e00\u7684\u6a21\u5f0f\u3002\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u662f\u968f\u673a\u9009\u62e9\u7684\u3002\u6d41\u5927\u5c0f\u6839\u636eWeb\u641c\u7d22\u5de5\u4f5c\u8d1f\u8f7d[27]\u751f\u6210\u3002 \u6c47\u805a\u6d41\u91cf\u9075\u5faa\u591a\u5bf9\u4e00\u7684\u6a21\u5f0f\uff0c\u5176\u4e2d16\u4e2a\u53d1\u9001\u65b9\u540c\u65f6\u5411\u540c\u4e00\u63a5\u6536\u65b9\u4f20\u8f9364KB\u7684\u6570\u636e\u3002\u53d1\u9001\u65b9\u662f\u968f\u673a\u9009\u62e9\u7684\uff0c\u5e76\u4e14\u4f4d\u4e8e\u63a5\u6536\u65b9\u4e0d\u540c\u7684\u673a\u67b6\u4e2d\u3002 \u6c47\u805a\u6d41\u88ab\u5206\u7c7b\u4e3a\u76f8\u540c\u7684\u6d41\u91cf\u7c7b\u522b\u3002\u540e\u53f0\u6d41\u88ab\u968f\u673a\u5206\u7c7b\u4e3a\u5176\u4ed6\u6d41\u91cf\u7c7b\u522b\u3002\u6d41\u5230\u8fbe\u9075\u5faa\u6cca\u677e\u8fc7\u7a0b\u3002\u603b\u7f51\u7edc\u8d1f\u8f7d\u4e3a0.9\u3002</p> <p>![[Pasted image 20231126165516.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#results","title":"Results.","text":"<p>Fig. 14 shows the flow completion time (FCT) under different loads of background traffic. For clear comparison, we normalize each FCT to the value achieved by SIH. The results show that both fan-in flows and background flows can benefit from DSH. With DCQCN, DSH can reduce the average FCTs of background traffic and fan-in traffic by up to 10.1% and 43.3%, respectively. With PowerTCP, DSH can reduce the average FCTs of background traffic and fan-in traffic by up to 31.1% and 57.7%, respectively. This is because DSH can provide more footroom to absorb transient bursty traffic and avoid PFC messages. Furthermore, we evaluate DSH across different DCN ap-plications and network architectures. Besides the web search workload, we also consider other three realistic workloads: a data mining workload [47], a cache workload [28], and a Hadoop workload [28]. Besides leaf-spine topology, we also consider fat-tree topology (k=16) [48]. Other settings keep unchanged. Fig. 15 shows the FCT of background traffic across different workloads and topologies with DCQCN. The results confirm that DSH can improve FCT with different DCN workloads and network topologies.</p> <p>\u7ed3\u679c\u3002\u56fe14\u663e\u793a\u4e86\u5728\u4e0d\u540c\u80cc\u666f\u6d41\u91cf\u8d1f\u8f7d\u4e0b\u7684\u6d41\u5b8c\u6210\u65f6\u95f4\uff08FCT\uff09\u3002 \u4e3a\u4e86\u8fdb\u884c\u6e05\u6670\u6bd4\u8f83\uff0c\u6211\u4eec\u5c06\u6bcf\u4e2aFCT\u6807\u51c6\u5316\u4e3aSIH\u5b9e\u73b0\u7684\u503c\u3002 \u7ed3\u679c\u663e\u793a\uff0cDSH\u5bf9\u6c47\u805a\u6d41\u548c\u540e\u53f0\u6d41\u5747\u80fd\u4ea7\u751f\u76ca\u5904\uff1a - \u4f7f\u7528DCQCN\uff0cDSH\u53ef\u4ee5\u5c06\u540e\u53f0\u6d41\u91cf\uff08bgd flow\uff09\u548c\u6c47\u805a\u6d41\u91cf\uff08fan-in flow\uff09\u7684\u5e73\u5747FCT\u5206\u522b\u964d\u4f4e10.1%\uff08b\uff09\u548c43.3%\uff08a\uff09\u3002 - \u4f7f\u7528PowerTCP\uff0cDSH\u53ef\u4ee5\u5c06\u540e\u53f0\u6d41\u91cf\u548c\u6c47\u805a\u6d41\u91cf\u7684\u5e73\u5747FCT\u5206\u522b\u964d\u4f4e31.1%\uff08d\uff09\u548c57.7%\uff08c\uff09\u3002</p> <p>\u8fd9\u662f\u56e0\u4e3aDSH\u53ef\u4ee5\u63d0\u4f9b\u66f4\u591a\u4f59\u5730\u6765\u5438\u6536\u77ac\u6001\u7684\u7a81\u53d1\u6d41\u91cf\u5e76\u907f\u514dPFC\u6d88\u606f\u3002</p> <p>![[Pasted image 20231126170101.png]]</p> <p>\u6b64\u5916\uff0c\u6211\u4eec\u5728\u4e0d\u540c\u7684DCN\u5e94\u7528\u548c\u7f51\u7edc\u67b6\u6784\u4e2d\u8bc4\u4f30\u4e86DSH\u3002\u9664\u4e86Web\u641c\u7d22\u5de5\u4f5c\u8d1f\u8f7d\u5916\uff0c\u6211\u4eec\u8fd8\u8003\u8651\u4e86\u5176\u4ed6\u4e09\u79cd\u771f\u5b9e\u7684\u5de5\u4f5c\u8d1f\u8f7d\uff1a\u6570\u636e\u6316\u6398\u5de5\u4f5c\u8d1f\u8f7d[47]\u3001\u7f13\u5b58\u5de5\u4f5c\u8d1f\u8f7d[28]\u548cHadoop\u5de5\u4f5c\u8d1f\u8f7d[28]\u3002\u9664\u4e86\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u5916\uff0c\u6211\u4eec\u8fd8\u8003\u8651\u4e86\u8102\u80aa\u6811\u62d3\u6251\u7ed3\u6784\uff08k=16\uff09[48]\u3002\u5176\u4ed6\u8bbe\u7f6e\u4fdd\u6301\u4e0d\u53d8\u3002</p> <p>\u56fe15\u663e\u793a\u4e86\u5728\u4e0d\u540c\u5de5\u4f5c\u8d1f\u8f7d\u548c\u62d3\u6251\u7ed3\u6784\u4e0b\u4f7f\u7528DCQCN\u7684\u540e\u53f0\u6d41\u91cf\u7684FCT\u3002\u7ed3\u679c\u8bc1\u5b9e\u4e86DSH\u5728\u4e0d\u540c\u7684DCN\u5de5\u4f5c\u8d1f\u8f7d\u548c\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\u4e0b\u90fd\u80fd\u6539\u5584FCT\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_1","title":"\u9644\u6ce8\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_2","title":"\u6570\u636e\u6316\u6398\u5de5\u4f5c\u8d1f\u8f7d","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_3","title":"\u7f13\u5b58\u5de5\u4f5c\u8d1f\u8f7d","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#hadoop","title":"Hadoop\u5de5\u4f5c\u8d1f\u8f7d","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_4","title":"\u53f6\u810a\u62d3\u6251\u7ed3\u6784","text":"<p>DCN\uff08\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\uff09\u7684\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u662f\u4e00\u79cd\u5e7f\u6cdb\u7528\u4e8e\u6784\u5efa\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u8bbe\u8ba1\u3002\u8fd9\u79cd\u62d3\u6251\u7ed3\u6784\u7684\u76ee\u6807\u662f\u63d0\u4f9b\u9ad8\u5e26\u5bbd\u3001\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u5ea6\u53ef\u6269\u5c55\u6027\uff0c\u4ee5\u6ee1\u8db3\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u7684\u9700\u6c42\u3002</p> <p>\u5728\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u4e2d\uff0c\u7f51\u7edc\u7531\u4e24\u79cd\u7c7b\u578b\u7684\u4ea4\u6362\u673a\u7ec4\u6210\uff1a\u53f6\u4ea4\u6362\u673a\uff08Leaf Switches\uff09 \u548c \u810a\u4ea4\u6362\u673a\uff08Spine Switches\uff09\u3002\u4ee5\u4e0b\u662f\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u7684\u57fa\u672c\u7279\u5f81\uff1a 1. \u53f6\u4ea4\u6362\u673a\uff1a \u53f6\u4ea4\u6362\u673a\u8fde\u63a5\u5230\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u7684\u670d\u52a1\u5668\u3002\u6bcf\u4e2a\u53f6\u4ea4\u6362\u673a\u901a\u5e38\u8fde\u63a5\u5230\u591a\u4e2a\u670d\u52a1\u5668\uff0c\u5f62\u6210\u4e86\u4e00\u4e2a\u805a\u5408\u70b9\u3002\u8fd9\u4e9b\u8fde\u63a5\u901a\u5e38\u662f\u9ad8\u5e26\u5bbd\u7684\uff0c\u4f8b\u5982100Gbps\u6216\u66f4\u9ad8\u3002 2. \u810a\u4ea4\u6362\u673a\uff1a \u810a\u4ea4\u6362\u673a\u5219\u8fde\u63a5\u5230\u6240\u6709\u7684\u53f6\u4ea4\u6362\u673a\uff0c\u5f62\u6210\u4e00\u4e2a\u810a\u4e0e\u53f6\u7684\u7f51\u72b6\u7ed3\u6784\u3002\u8fd9\u6837\u7684\u8bbe\u8ba1\u4f7f\u5f97\u4efb\u610f\u4e24\u4e2a\u670d\u52a1\u5668\u4e4b\u95f4\u90fd\u6709\u591a\u6761\u8def\u5f84\u53ef\u9009\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5197\u4f59\u6027\u548c\u53ef\u7528\u6027\u3002\u810a\u4ea4\u6362\u673a\u4e4b\u95f4\u7684\u8fde\u63a5\u4e5f\u901a\u5e38\u662f\u9ad8\u5e26\u5bbd\u7684\u3002 3. \u5168\u53cc\u5de5\u901a\u4fe1\uff1a \u5728\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u4e2d\uff0c\u901a\u5e38\u91c7\u7528\u5168\u53cc\u5de5\u901a\u4fe1\uff0c\u5141\u8bb8\u6570\u636e\u540c\u65f6\u5728\u4e24\u4e2a\u65b9\u5411\u4e0a\u4f20\u8f93\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u541e\u5410\u91cf\u3002 4. \u4f4e\u5ef6\u8fdf\uff1a \u53f6\u810a\u62d3\u6251\u7ed3\u6784\u7684\u8bbe\u8ba1\u65e8\u5728\u4fdd\u6301\u4f4e\u5ef6\u8fdf\u3002\u7531\u4e8e\u5b58\u5728\u591a\u8def\u5f84\uff0c\u6570\u636e\u53ef\u4ee5\u9009\u62e9\u6700\u77ed\u8def\u5f84\u4f20\u8f93\uff0c\u51cf\u5c11\u4e86\u4f20\u8f93\u5ef6\u8fdf\u3002 5. \u53ef\u6269\u5c55\u6027\uff1a \u53f6\u810a\u62d3\u6251\u7ed3\u6784\u662f\u53ef\u6269\u5c55\u7684\uff0c\u53ef\u4ee5\u8f7b\u677e\u5730\u6dfb\u52a0\u66f4\u591a\u7684\u53f6\u4ea4\u6362\u673a\u548c\u810a\u4ea4\u6362\u673a\u6765\u589e\u52a0\u7f51\u7edc\u7684\u89c4\u6a21\uff0c\u9002\u5e94\u4e0d\u65ad\u589e\u957f\u7684\u6570\u636e\u4e2d\u5fc3\u9700\u6c42\u3002</p> <p>\u603b\u4f53\u800c\u8a00\uff0c\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u662f\u4e00\u79cd\u6709\u6548\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u8bbe\u8ba1\uff0c\u5177\u6709\u9ad8\u6027\u80fd\u3001\u53ef\u6269\u5c55\u6027\u548c\u5197\u4f59\u6027\uff0c\u4f7f\u5176\u6210\u4e3a\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u7684\u7406\u60f3\u9009\u62e9\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#fat-treek16","title":"\u8102\u80aa\u6811\uff08fat-tree\uff09\u62d3\u6251\u7ed3\u6784\uff08k=16\uff09","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_5","title":"\u7b80\u4ecb\uff1a","text":"<p>\u8102\u80aa\u6811\u662f\u4e00\u79cd\u7528\u4e8e\u6784\u5efa\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u62d3\u6251\u7ed3\u6784\uff0c\u65e8\u5728\u63d0\u4f9b\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u5ea6\u5197\u4f59\u7684\u7f51\u7edc\u8fde\u63a5\u3002\u5b83\u88ab\u5e7f\u6cdb\u5e94\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\uff0c\u652f\u6301\u5927\u91cf\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_6","title":"\u4e3b\u8981\u7279\u5f81\uff1a","text":"<ol> <li>\u591a\u5c42\u7ed3\u6784\uff1a \u8102\u80aa\u6811\u62d3\u6251\u7ed3\u6784\u901a\u5e38\u5305\u542b\u591a\u4e2a\u5c42\u6b21\uff0c\u5176\u4e2d\u5305\u62ec\u6838\u5fc3\uff08Core\uff09\u3001\u6c47\u805a\uff08Aggregation\uff09\u3001\u8fb9\u754c\uff08Edge\uff09\u548c\u7aef\u70b9\uff08Leaf\uff09\u5c42\u3002\u6bcf\u4e2a\u5c42\u6b21\u90fd\u6709\u5176\u7279\u5b9a\u7684\u529f\u80fd\u548c\u8fde\u63a5\u3002</li> <li>\u5168\u53cc\u5de5\u901a\u4fe1\uff1a \u8102\u80aa\u6811\u7f51\u7edc\u4e2d\u901a\u5e38\u91c7\u7528\u5168\u53cc\u5de5\u901a\u4fe1\uff0c\u5141\u8bb8\u540c\u65f6\u8fdb\u884c\u53cc\u5411\u6570\u636e\u4f20\u8f93\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u541e\u5410\u91cf\u3002</li> <li>\u5197\u4f59\u8def\u5f84\uff1a \u8102\u80aa\u6811\u7684\u8bbe\u8ba1\u4f7f\u5f97\u4efb\u610f\u4e24\u4e2a\u8282\u70b9\u4e4b\u95f4\u5b58\u5728\u591a\u6761\u5197\u4f59\u8def\u5f84\uff0c\u63d0\u9ad8\u4e86\u7f51\u7edc\u7684\u5197\u4f59\u6027\u548c\u53ef\u7528\u6027\u3002\u5373\u4f7f\u67d0\u4e9b\u8def\u5f84\u53d1\u751f\u6545\u969c\uff0c\u4ecd\u7136\u6709\u5907\u7528\u8def\u5f84\u53ef\u7528\u3002</li> <li>\u4f4e\u5ef6\u8fdf\uff1a \u7531\u4e8e\u5b58\u5728\u591a\u6761\u8def\u5f84\uff0c\u6570\u636e\u53ef\u4ee5\u9009\u62e9\u6700\u77ed\u8def\u5f84\u4f20\u8f93\uff0c\u4ece\u800c\u51cf\u5c11\u4e86\u4f20\u8f93\u5ef6\u8fdf\u3002</li> <li>\u53ef\u6269\u5c55\u6027\uff1a \u8102\u80aa\u6811\u662f\u53ef\u6269\u5c55\u7684\uff0c\u53ef\u4ee5\u901a\u8fc7\u589e\u52a0\u66f4\u591a\u7684\u4ea4\u6362\u673a\u548c\u8fde\u63a5\u6765\u6269\u5c55\u7f51\u7edc\u89c4\u6a21\uff0c\u9002\u5e94\u4e0d\u65ad\u589e\u957f\u7684\u6570\u636e\u4e2d\u5fc3\u9700\u6c42\u3002</li> <li>\u5bb9\u9519\u6027\uff1a \u8102\u80aa\u6811\u7684\u5197\u4f59\u6027\u548c\u591a\u8def\u5f84\u8bbe\u8ba1\u63d0\u4f9b\u4e86\u4e00\u5b9a\u7a0b\u5ea6\u7684\u5bb9\u9519\u6027\uff0c\u4f7f\u7f51\u7edc\u66f4\u5177\u7a33\u5b9a\u6027\u3002</li> </ol> <p>\u603b\u4f53\u800c\u8a00\uff0c\u8102\u80aa\u6811\u62d3\u6251\u7ed3\u6784\u662f\u4e00\u79cd\u4f18\u79c0\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u8bbe\u8ba1\uff0c\u63d0\u4f9b\u4e86\u9ad8\u6027\u80fd\u3001\u5197\u4f59\u6027\u548c\u53ef\u6269\u5c55\u6027\uff0c\u9002\u7528\u4e8e\u5927\u89c4\u6a21\u7684\u8ba1\u7b97\u548c\u5b58\u50a8\u9700\u6c42</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/#_7","title":"\u5177\u4f53\u8fc7\u7a0b\uff1a","text":"<p>Fat-Tree\u662f\u4ee5\u4ea4\u6362\u673a\u4e3a\u4e2d\u5fc3\u7684\u62d3\u6251\u3002\u652f\u6301\u5728\u6a2a\u5411\u62d3\u5c55\u7684\u540c\u65f6\u62d3\u5c55\u8def\u5f84\u6570\u76ee\uff1b\u4e14\u6240\u6709\u4ea4\u6362\u673a\u5747\u4e3a\u76f8\u540c\u7aef\u53e3\u6570\u91cf\u7684\u666e\u901a\u8bbe\u5907\uff0c\u964d\u4f4e\u4e86\u7f51\u7edc\u5efa\u8bbe\u6210\u672c\u3002</p> <p>Fat-Tree\u7ed3\u6784\u5171\u5206\u4e3a\u4e09\u5c42\uff1a\u6838\u5fc3\u5c42\u3001\u6c47\u805a\u5c42\u3001\u63a5\u5165\u5c42\u3002\u4e00\u4e2ak\u5143\u7684Fat-Tree\u53ef\u4ee5\u5f52\u7eb3\u4e3a5\u4e2a\u7279\u5f81\uff1a</p> <p>\u6bcf\u53f0\u4ea4\u6362\u673a\u90fd\u6709k\u4e2a\u7aef\u53e3\uff1b 1. \u6838\u5fc3\u5c42\u4e3a\u9876\u5c42\uff0c\u4e00\u5171\u6709(k/2)^2\u4e2a\u4ea4\u6362\u673a\uff1b 2. \u4e00\u5171\u6709k\u4e2apod\uff0c\u6bcf\u4e2apod\u6709k\u53f0\u4ea4\u6362\u673a\u7ec4\u6210\u3002\u5176\u4e2d\u6c47\u805a\u5c42\u548c\u63a5\u5165\u5c42\u5404\u5360k/2\u53f0\u4ea4\u6362\u673a\uff1b 3. \u63a5\u5165\u5c42\u6bcf\u4e2a\u4ea4\u6362\u673a\u53ef\u4ee5\u5bb9\u7eb3k/2\u53f0\u670d\u52a1\u5668\uff0c\u56e0\u6b64\uff0ck\u5143Fat-Tree\u4e00\u5171\u6709k\u4e2apod\uff0c\u6bcf\u4e2apod\u5bb9\u7eb3kk/4\u4e2a\u670d\u52a1\u5668\uff0c\u6240\u6709pod\u5171\u80fd\u5bb9\u7eb3kk*k/4\u53f0\u670d\u52a1\u5668\uff1b 4. \u4efb\u610f\u4e24\u4e2apod\u4e4b\u95f4\u5b58\u5728k\u6761\u8def\u5f84\u3002</p> <p>\u5e38\u89c1\u7684\u67092\u5143\u30014\u5143\u30016\u5143\u7b49\u7ed3\u6784\uff1a ![[Pasted image 20231126173115.png]] ![[Pasted image 20231126173125.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/","title":"Introduction","text":"<p>Lossless network is increasingly attractive in datacenters as it can provide ultra-low latency for applications [1]\u2013[5]. In commodity Ethernet, lossless transmission is achieved by the hop-by-hop Priority-based Flow Control (PFC) mechanism. To avoid packet dropping, a PFC-enabled switch sends a PAUSE frame to its upstream device when its buffer is about to over- flow. Receiving the PAUSE frame, the upstream device holds back the packet transmission. To prevent buffer overflow, a fraction of buffer should be reserved as headroom to absorb in- flight packets before the PAUSE frame takes effect. However, in large-scale networks, PFC messages can result in serious performance issues, such as head-of-line blocking, congestion spreading, collateral damage, and even deadlocks [3], [4], [6]\u2013[12]. Therefore, it is a common belief that PFC should be triggered as few as possible. Ideally, PFC should only serve as a backup method to ensure lossless packet transmissions. However, due to the recent industrial trends, it is more and more likely that datacenter networks (DCNs) suffer from frequent PFC messages. Specifically, the link speed of DCN has rapidly grown from 1Gbps to 40Gbps/100Gbps and will continuously increase to 400Gbps in the near future [3], [13]. The amount of required headroom is increasingly large as it is positively related to the link speed. Unfortunately, the memorysize in the switching chip cannot keep pace with the link capacity [14]\u2013[16]. This is because datacenter switches usually employ on-chip memory for high-speed and low-latency mem- ory access, and the memory size is limited by the chip area and cost. Specifically, the buffer size (related to switching capacity) has decreased by 4\u00d7 over the past decade (\u00a7III-A). With these trends, a considerable amount of buffer should be reserved as headroom, significantly squeezing the buffer space for accommodating normal traffic. As a result, the queue length can easily hit the PFC pause threshold and PFC messages will be frequently generated. Although recent advances in end-to-end congestion control (CC) algorithms [1]\u2013[4] can keep persistent buffer occupancy low, they cannot completely tackle this issue. This is because end-to-end CC takes at least 1 round-trip time (RTT) to react to traffic changes, and has no control over short-term congestion events, which are very common in DCNs. Specifically, studies have shown that most flows will be finished within 1 RTT in future DCNs [17], [18] and most congestion events will be caused by sub-RTT traffic bursts [19]. Within 1 RTT, it is the buffer management scheme that determines whether PFC messages can be avoided. In face of the considerable headroom requirement, we find that the current headroom allocation scheme (which is called SIH in this paper) is quite inefficient in headroom utilization. Our experiments show that 75% of headroom keeps unused 99% of the time even when the network load is up to 90% (\u00a7III-B). This is because SIH reserves a static amount of worst- case headroom independently for every ingress queue in every port, which wastes a substantial amount of memory due to the following two reasons: (1) Not all ingress queues need to occupy the headroom. An ingress queue takes up the headroom only when it becomes congested and it is very unlikely that all ports/queues are con- gested at the same time. Thus in most cases, most headroom keeps unused and is wasted. (2) Every ingress queue is allocated with the worst-case headroom, while the worst case rarely occurs for all ingress queues simultaneously. The worst-case headroom requirement assumes that traffic arrives at the highest rate. In reality, queues of the same ingress port share the common uplink capacity, and thus it is impossible that all ingress queues are receiving traffic at line rate. Note that SIH\u2019s inefficiency is inherent, lying in its queue- independent and static headroom allocation method. Thus, the problem cannot be simply addressed by adjusting the amount of reserved headroom, which may lead to unacceptable packet loss for lossless networks. In this case, a brand-new headroom allocation scheme is needed to radically resolve this issue. In light of this, we propose Dynamic and Shared Headroom allocation scheme (DSH) (\u00a7IV) to significantly reduce the headroom allocation without risking packet loss. To this end, DSH combines port-level flow control and queue-level flow control. The port-level flow control performs flow control operations on port-wise, which enables DSH to guarantee lossless transmission with a small amount of reserved head- room. It is based on the observation that different ingress queues in the same port naturally share the common uplink capacity. Thus, to avoid packet overflow, there is no need to independently reserve headroom for each ingress queue. Instead, DSH only needs to reserve headroom for each port and make the ingress queues in the same port share the reserved headroom. However, the headroom reduction comes at a cost. Occupying the headroom reserved for each port will pause the entire traffic from the upstream link, which is harmful to performance as performance isolation is violated. Thus, DSH also utilizes queue-level flow control most of the time and makes port-level flow control merely an insurance method against packet loss. The queue-level flow control performs flow control actions on queue-wise, which is the same as PFC. It is based on the observation that not all queues need to occupy headroom at the same time. Thus, DSH dynamically allocates headroom to each queue only when the queue gets congested. In this way, the headroom is allocated only when truly needed, and thus will not be wasted. Furthermore, DSH enables the headroom to be shared among different ingress queues. In this way, DSH can take advantage of statistical multiplexing to efficiently utilize the allocated headroom. We evaluate DSH with extensive ns-3 simulations (\u00a7V). Our microbenchmarks show that DSH can absorb over 4\u00d7 more bursty traffic without triggering PFC messages, and can effectively mitigate the impairments (including collateral damage and deadlock) induced by PFC (\u00a7V-A). Our large- scale simulations show that DSH reduces the flow completion time by up to \u223c57.7% for short fan-in flows and up to \u223c31.1% for other flows (\u00a7V-B). The rest of the paper is organized as follows. \u00a7II introduces the background of PFC and switch buffer. \u00a7III discusses the problem of the current headroom allocation scheme. Next, \u00a7IV describes the design of DSH. In \u00a7V, we present the evaluations of DSH. Finally, \u00a7VII concludes the paper.</p> <p>\u65e0\u635f\u7f51\u7edc\u5728\u6570\u636e\u4e2d\u5fc3\u4e2d\u8d8a\u6765\u8d8a\u6709\u5438\u5f15\u529b\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u8d85\u4f4e\u5ef6\u8fdf[1]-[5]\u3002 \u5728\u5546\u7528\u4ee5\u592a\u7f51\u4e2d\uff0c\u65e0\u635f\u4f20\u8f93\u662f\u901a\u8fc7\u9010\u8df3\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff08PFC\uff09\u673a\u5236\u6765\u5b9e\u73b0\u7684\u3002  \u4e3a\u4e86\u907f\u514d\u4e22\u5305\uff0c\u542f\u7528 PFC \u7684\u4ea4\u6362\u673a \u4f1a\u5728\u7f13\u51b2\u533a\u5373\u5c06\u6ea2\u51fa\u65f6\u5411\u5176\u4e0a\u6e38\u8bbe\u5907\u53d1\u9001 PAUSE \u5e27\u3002\u4e0a\u6e38\u8bbe\u5907\u6536\u5230PAUSE\u5e27\u540e\uff0c\u6682\u505c\u62a5\u6587\u53d1\u9001\u3002  \u4e3a\u4e86\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u5e94\u4fdd\u7559\u4e00\u5c0f\u90e8\u5206\u7f13\u51b2\u533a\u4f5c\u4e3a\u4f59\u91cf\uff0c\u4ee5\u5728\u6682\u505c\u5e27\u751f\u6548\u4e4b\u524d\u5438\u6536\u6b63\u5728\u4f20\u8f93\u7684\u6570\u636e\u5305\u3002  \u7136\u800c\uff0c\u5728\u5927\u89c4\u6a21\u7f51\u7edc\u4e2d\uff0cPFC \u6d88\u606f\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e25\u91cd\u7684\u6027\u80fd\u95ee\u9898\uff0c\u4f8b\u5982\u961f\u5934\u963b\u585e\u3001\u62e5\u585e\u6269\u6563\u3001\u9644\u5e26\u635f\u5bb3\uff0c\u751a\u81f3\u6b7b\u9501 [3]\u3001[4]\u3001[6]\u2013[12] \u3002  \u56e0\u6b64\uff0c\u4eba\u4eec\u666e\u904d\u8ba4\u4e3a\u5e94\u5c3d\u53ef\u80fd\u5c11\u5730\u89e6\u53d1 PFC\u3002 \u7406\u60f3\u60c5\u51b5\u4e0b\uff0cPFC \u5e94\u8be5\u4ec5\u4f5c\u4e3a\u786e\u4fdd\u65e0\u635f\u6570\u636e\u5305\u4f20\u8f93\u7684\u5907\u4efd\u65b9\u6cd5\u3002 \u7136\u800c\uff0c\u7531\u4e8e\u6700\u8fd1\u7684\u884c\u4e1a\u8d8b\u52bf\uff0c\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\uff08DCN\uff09\u8d8a\u6765\u8d8a\u6709\u53ef\u80fd\u53d7\u5230\u9891\u7e41\u7684PFC\u6d88\u606f\u7684\u5f71\u54cd\u3002  \u5177\u4f53\u6765\u8bf4\uff0cDCN\u7684\u94fe\u8def\u901f\u5ea6\u5df2\u4ece1Gbps\u5feb\u901f\u589e\u957f\u523040Gbps/100Gbps\uff0c\u5e76\u4e14\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5c06\u7ee7\u7eed\u63d0\u9ad8\u5230400Gbps[3]\u3001[13]\u3002 \u6240\u9700\u7684\u51c0\u7a7a\u91cf(headroom)\u8d8a\u6765\u8d8a\u5927\uff0c\u56e0\u4e3a\u5b83\u4e0e\u94fe\u8def\u901f\u5ea6\u6b63\u76f8\u5173\u3002  \u4e0d\u5e78\u7684\u662f\uff0c\u8bb0\u5fc6\u4ea4\u6362\u82af\u7247\u7684\u5c3a\u5bf8\u65e0\u6cd5\u8ddf\u4e0a\u94fe\u8def\u5bb9\u91cf[14]-[16]\u3002 \u8fd9\u662f\u56e0\u4e3a\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u901a\u5e38\u91c7\u7528\u7247\u4e0a\u5b58\u50a8\u5668\u6765\u5b9e\u73b0\u9ad8\u901f\u3001\u4f4e\u5ef6\u8fdf\u7684\u5b58\u50a8\u5668\u8bbf\u95ee\uff0c\u800c\u5b58\u50a8\u5668\u5927\u5c0f\u53d7\u5230\u82af\u7247\u9762\u79ef\u548c\u6210\u672c\u7684\u9650\u5236\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u7f13\u51b2\u533a\u5927\u5c0f\uff08\u4e0e\u5f00\u5173\u5bb9\u91cf\u76f8\u5173\uff09\u5728\u8fc7\u53bb\u5341\u5e74\u4e2d\u51cf\u5c11\u4e86 4 \u500d (\u00a7III-A)\u3002 \u8003\u8651\u5230\u8fd9\u4e9b\u8d8b\u52bf\uff0c\u9700\u8981\u9884\u7559\u76f8\u5f53\u5927\u7684\u7f13\u51b2\u533a\u4f5c\u4e3a\u51c0\u7a7a(headroom)\uff0c\u4ece\u800c\u5927\u5927\u6324\u538b\u4e86\u5bb9\u7eb3\u6b63\u5e38\u6d41\u91cf\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\u3002</p> <p>\u56e0\u6b64\uff0c\u961f\u5217\u957f\u5ea6\u5f88\u5bb9\u6613\u8fbe\u5230PFC\u6682\u505c\u9608\u503c\uff0c\u5e76\u4e14\u4f1a\u9891\u7e41\u751f\u6210PFC\u6d88\u606f\u3002 \u5c3d\u7ba1==\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\uff08CC\uff09\u7b97\u6cd5==[1]-[4]\u7684\u6700\u65b0\u8fdb\u5c55\u53ef\u4ee5\u4fdd\u6301\u8f83\u4f4e\u7684\u6301\u4e45\u7f13\u51b2\u533a\u5360\u7528\u7387\uff0c\u4f46\u5b83\u4eec\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u8fd9\u662f\u56e0\u4e3a\u7aef\u5230\u7aef CC \u81f3\u5c11\u9700\u8981 1 \u4e2a\u5f80\u8fd4\u65f6\u95f4 (RTT) \u624d\u80fd\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94\uff0c\u5e76\u4e14\u65e0\u6cd5\u63a7\u5236 DCN \u4e2d\u5e38\u89c1\u7684\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u3002 \u5177\u4f53\u6765\u8bf4\uff0c\u7814\u7a76\u8868\u660e\uff0c\u5728\u672a\u6765\u7684DCN\u4e2d\uff0c\u5927\u591a\u6570\u6d41\u91cf\u5c06\u57281\u4e2aRTT\u5185\u5b8c\u6210[17]\u3001[18]\uff0c\u5e76\u4e14==\u5927\u591a\u6570\u62e5\u585e\u4e8b\u4ef6\u5c06\u7531\u4e9aRTT\u6d41\u91cf\u7a81\u53d1\u5f15\u8d77[19]\u3002 \u57281\u4e2aRTT\u5185\uff0c\u7f13\u51b2\u533a\u7ba1\u7406\u65b9\u6848\u51b3\u5b9a\u662f\u5426\u53ef\u4ee5\u907f\u514dPFC\u6d88\u606f==\u3002 \u9762\u5bf9\u76f8\u5f53\u5927\u7684\u4f59\u91cf\u9700\u6c42\uff0c\u6211\u4eec\u53d1\u73b0==\u5f53\u524d\u7684\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08\u672c\u6587\u79f0\u4e3aSIH\uff09==\u5728\u4f59\u91cf\u5229\u7528\u7387\u65b9\u9762\u76f8\u5f53\u4f4e\u6548\u3002 \u6211\u4eec\u7684\u5b9e\u9a8c\u8868\u660e\uff0c\u5373\u4f7f\u7f51\u7edc\u8d1f\u8f7d\u9ad8\u8fbe 90%\uff0c\u4ecd\u6709 75% \u7684\u51c0\u7a7a(headroom)\u5728 99% \u7684\u65f6\u95f4\u5185\u4fdd\u6301\u672a\u4f7f\u7528\u72b6\u6001 (\u00a7III-B)\u3002 ==\u8fd9\u662f\u56e0\u4e3a SIH \u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4e2d\u7684\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u72ec\u7acb\u4fdd\u7559\u9759\u6001\u91cf\u7684\u6700\u574f\u60c5\u51b5\u4f59\u91cf\uff0c\u7531\u4e8e\u4ee5\u4e0b\u4e24\u4e2a\u539f\u56e0\uff0c\u8fd9\u6d6a\u8d39\u4e86\u5927\u91cf\u5185\u5b58\uff1a== (1) \u5e76\u975e\u6240\u6709\u5165\u53e3\u961f\u5217\u90fd\u9700\u8981\u5360\u7528\u51c0\u7a7a(headroom)\u3002 \u5165\u53e3\u961f\u5217\u4ec5\u5728\u53d8\u5f97\u62e5\u585e\u65f6\u624d\u5360\u7528\u51c0\u7a7a\uff0c\u5e76\u4e14\u6240\u6709\u7aef\u53e3/\u961f\u5217\u540c\u65f6\u62e5\u585e\u7684\u53ef\u80fd\u6027\u5f88\u5c0f\u3002 \u56e0\u6b64\uff0c\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5927\u90e8\u5206\u51c0\u7a7a\u90fd\u672a\u4f7f\u7528\u5e76\u88ab\u6d6a\u8d39\u3002\u3010\u8fd9\u65f6\u5019headroom\u662f\u6309\u7167\u7aef\u53e3\u5185\u7684\u961f\u5217\u9010\u4e00\u5206\u914d\u7684\u3011 (2) \u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u90fd\u5206\u914d\u6709\u6700\u574f\u60c5\u51b5\u7684\u4f59\u91cf\uff0c\u800c\u6700\u574f\u60c5\u51b5\u5f88\u5c11\u4f1a\u540c\u65f6\u51fa\u73b0\u5728\u6240\u6709\u5165\u53e3\u961f\u5217\u4e2d\u3002 \u6700\u574f\u60c5\u51b5\u7684\u51c0\u7a7a\u8981\u6c42\u5047\u8bbe\u6d41\u91cf\u4ee5\u6700\u9ad8\u901f\u7387\u5230\u8fbe\u3002 \u5b9e\u9645\u4e0a\uff0c\u540c\u4e00\u5165\u53e3\u7aef\u53e3\u7684\u961f\u5217\u5171\u4eab\u5171\u540c\u7684\u4e0a\u884c\u94fe\u8def\u5bb9\u91cf\uff0c\u56e0\u6b64\u4e0d\u53ef\u80fd\u6240\u6709\u5165\u53e3\u961f\u5217\u90fd\u4ee5\u7ebf\u901f\u63a5\u6536\u6d41\u91cf\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0cSIH \u7684\u4f4e\u6548\u7387\u662f==\u56fa\u6709\u7684\uff0c\u5728\u4e8e\u5176\u4e0e\u961f\u5217\u65e0\u5173\u7684\u9759\u6001\u4f59\u91cf\u5206\u914d\u65b9\u6cd5==\u3002 \u56e0\u6b64\uff0c\u8fd9\u4e2a\u95ee\u9898\u4e0d\u80fd\u7b80\u5355\u5730\u901a\u8fc7\u8c03\u6574\u4fdd\u7559\u4f59\u91cf\u6765\u89e3\u51b3\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u65e0\u635f\u7f51\u7edc\u65e0\u6cd5\u63a5\u53d7\u7684\u6570\u636e\u5305\u4e22\u5931\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5c31\u9700\u8981\u4e00\u79cd\u5168\u65b0\u7684\u51c0\u7a7a\u5206\u914d\u65b9\u6848\u6765\u4ece\u6839\u672c\u4e0a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002 \u9274\u4e8e\u6b64\uff0c\u6211\u4eec\u63d0\u51fa\u52a8\u6001\u548c\u5171\u4eab\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08DSH\uff09\uff08\u00a7IV\uff09\uff0c\u4ee5\u663e\u7740\u51cf\u5c11\u4f59\u91cf\u5206\u914d\uff0c\u800c\u4e0d\u4f1a\u6709\u4e22\u5305\u7684\u98ce\u9669\u3002  \u4e3a\u6b64\uff0cDSH\u7ed3\u5408\u4e86\u7aef\u53e3\u7ea7\u6d41\u63a7\u548c\u961f\u5217\u7ea7\u6d41\u63a7\u3002 ==\u7aef\u53e3\u7ea7\u6d41\u63a7\u6309\u7aef\u53e3\u8fdb\u884c\u6d41\u63a7\u64cd\u4f5c\uff0c\u4f7f\u5f97DSH\u80fd\u591f\u5728\u4fdd\u7559\u5c11\u91cf\u4f59\u91cf\u7684\u60c5\u51b5\u4e0b\u4fdd\u8bc1\u65e0\u635f\u4f20\u8f93==\u3002</p> <p>\u5b83\u57fa\u4e8e\u4ee5\u4e0b\u89c2\u5bdf\uff1a\u540c\u4e00\u7aef\u53e3\u4e2d\u7684\u4e0d\u540c\u5165\u53e3\u961f\u5217\u81ea\u7136\u5730\u5171\u4eab\u5171\u540c\u7684\u4e0a\u884c\u94fe\u8def\u5bb9\u91cf\u3002 \u56e0\u6b64\uff0c\u4e3a\u4e86\u907f\u514d\u6570\u636e\u5305\u6ea2\u51fa\uff0c\u4e0d\u9700\u8981\u4e3a\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u72ec\u7acb\u4fdd\u7559\u51c0\u7a7a\u3002 \u76f8\u53cd\uff0cDSH \u53ea\u9700\u8981\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u9884\u7559\u4f59\u91cf\uff0c\u5e76\u4f7f\u540c\u4e00\u7aef\u53e3\u4e2d\u7684\u5165\u53e3\u961f\u5217\u5171\u4eab\u9884\u7559\u7684\u4f59\u91cf\u3002 \u3010\u6bd4\u55bb\u4e00\u4e0b\uff1a\u7aef\u53e3\u662f\u4e00\u4e2a\u9759\u6001\u5927\u6c60\u5b50\uff0c\u6bcf\u4e2a\u961f\u5217\u662f\u74e2\uff0c\u53ef\u4ee5\u52a8\u6001\u6539\u53d8\u81ea\u8eab\u7684\u50a8\u6c34\u91cf\u3011\u3002 \u7136\u800c\uff0c==\u51c0\u7a7a\u7684\u51cf\u5c11\u662f\u6709\u4ee3\u4ef7\u7684\u3002 \u5360\u7528\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559\u7684\u4f59\u91cf\u5c06\u6682\u505c\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6574\u4e2a\u6d41\u91cf\uff0c\u8fd9\u5bf9\u6027\u80fd\u6709\u5bb3\uff0c\u56e0\u4e3a\u8fdd\u53cd\u4e86\u6027\u80fd\u9694\u79bb==\u3002 \u56e0\u6b64\uff0c==DSH\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\u4e5f\u5229\u7528\u961f\u5217\u7ea7\u6d41\u63a7\u5236\uff0c\u5e76\u4f7f\u7aef\u53e3\u7ea7\u6d41\u63a7\u5236\u4ec5\u4ec5\u4f5c\u4e3a\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\u7684\u4fdd\u9669\u65b9\u6cd5\u3002\u3010point\uff01\u3011==</p> <p>\u961f\u5217\u7ea7\u6d41\u63a7\u6309\u961f\u5217\u8fdb\u884c\u6d41\u63a7\u52a8\u4f5c\uff0c\u4e0ePFC\u76f8\u540c\u3002 \u8fd9\u662f\u57fa\u4e8e\u89c2\u5bdf\uff0c\u5e76\u975e\u6240\u6709\u961f\u5217\u90fd\u9700\u8981\u540c\u65f6\u5360\u7528\u51c0\u7a7a\u3002 \u56e0\u6b64\uff0c\u4ec5\u5f53\u961f\u5217\u53d1\u751f\u62e5\u585e\u65f6\uff0cDSH \u624d\u4f1a\u4e3a\u6bcf\u4e2a\u961f\u5217\u52a8\u6001\u5206\u914d\u7a7a\u95f4\u3002 \u8fd9\u6837\uff0c\u53ea\u6709\u5728\u771f\u6b63\u9700\u8981\u65f6\u624d\u5206\u914d\u51c0\u7a7a\uff0c\u4e0d\u4f1a\u9020\u6210\u6d6a\u8d39\u3002 \u6b64\u5916\uff0cDSH \u5141\u8bb8\u5728\u4e0d\u540c\u7684\u5165\u53e3\u961f\u5217\u4e4b\u95f4\u5171\u4eab\u51c0\u7a7a\u3002 \u901a\u8fc7\u8fd9\u79cd\u65b9\u5f0f\uff0cDSH \u53ef\u4ee5\u5229\u7528\u7edf\u8ba1\u590d\u7528\u6765\u6709\u6548\u5730\u5229\u7528\u5206\u914d\u7684\u4f59\u91cf\u3002</p> <p>\u6211\u4eec\u901a\u8fc7\u5e7f\u6cdb\u7684 ns-3 \u6a21\u62df\u6765\u8bc4\u4f30 DSH (\u00a7V)\u3002 \u6211\u4eec\u7684\u5fae\u57fa\u51c6\u6d4b\u8bd5\u8868\u660e\uff0cDSH \u53ef\u4ee5\u5728\u4e0d\u89e6\u53d1 PFC \u6d88\u606f\u7684\u60c5\u51b5\u4e0b\u5438\u6536\u8d85\u8fc7 4 \u500d\u7684\u7a81\u53d1\u6d41\u91cf\uff0c\u5e76\u4e14\u53ef\u4ee5\u6709\u6548\u51cf\u8f7b PFC \u5f15\u8d77\u7684\u635f\u5bb3\uff08\u5305\u62ec\u9644\u5e26\u635f\u5bb3\u548c\u6b7b\u9501\uff09\uff08\u00a7V-A\uff09\u3002 \u6211\u4eec\u7684\u5927\u89c4\u6a21\u6a21\u62df\u8868\u660e\uff0c\u5bf9\u4e8e\u77ed\u6247\u5165\u6d41\uff0cDSH \u53ef\u4ee5\u5c06\u6d41\u5b8c\u6210\u65f6\u95f4\u51cf\u5c11\u9ad8\u8fbe \u223c57.7%\uff0c\u5bf9\u4e8e\u5176\u4ed6\u6d41\uff0c\u5219\u53ef\u4ee5\u51cf\u5c11\u9ad8\u8fbe \u223c31.1% (\u00a7V-B</p> <p>\u672c\u6587\u7684\u5176\u4f59\u90e8\u5206\u5b89\u6392\u5982\u4e0b\u3002 \u00a7II\u4ecb\u7ecdPFC\u548c\u5f00\u5173\u7f13\u51b2\u5668\u7684\u80cc\u666f\u3002 \u00a7III\u8ba8\u8bba\u4e86\u5f53\u524d\u51c0\u7a7a\u5206\u914d\u65b9\u6848\u7684\u95ee\u9898\u3002 \u63a5\u4e0b\u6765\uff0c\u7b2c IV \u8282\u63cf\u8ff0\u4e86 DSH \u7684\u8bbe\u8ba1\u3002 \u5728\u00a7V \u4e2d\uff0c\u6211\u4eec\u63d0\u51fa\u4e86 DSH \u7684\u8bc4\u4f30\u3002 \u6700\u540e\uff0c\u7b2c\u4e03\u8282\u603b\u7ed3\u4e86\u672c\u6587\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#1-although-recent-advances-in-end-to-end-congestion-control-cc-algorithms-14-can-keep-persistent-buffer-occupancy-low-they-cannot-completely-tackle-this-issue-this-is-because-end-to-end-cc-takes-at-least-1-round-trip-time-rtt-to-react-to-traffic-changes-and-has-no-control-over-short-term-congestion-events-which-are-very-common-in-dcns","title":"1. Although recent advances in end-to-end congestion control (CC) algorithms [1]\u2013[4] can keep persistent buffer occupancy low, they cannot completely tackle this issue. This is because end-to-end CC takes at least 1 round-trip time (RTT) to react to traffic changes, and has no control over short-term congestion events, which are very common in DCNs.","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#1","title":"1. \u7b80\u8981\u5206\u6790\uff1a","text":"<p>\u8fd9\u6bb5\u6587\u5b57\u8ba8\u8bba\u4e86\u8fd1\u671f\u5728\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u65b9\u9762\u7684\u8fdb\u5c55\uff0c\u6307\u51fa\u5c3d\u7ba1\u8fd9\u4e9b\u7b97\u6cd5\u80fd\u591f\u4fdd\u6301\u6301\u4e45\u6027\u7f13\u51b2\u533a\u5360\u7528\u7387\u8f83\u4f4e\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\u3002\u8fd9\u662f\u56e0\u4e3a\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236==\u81f3\u5c11\u9700\u89811\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u6765\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94==\uff0c\u5e76\u4e14\u5bf9\u4e8e\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\uff08\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u975e\u5e38\u5e38\u89c1\uff09\uff0c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u65e0\u6cd5\u8fdb\u884c\u6709\u6548\u7684\u63a7\u5236\u3002</p> <p>\u5177\u4f53\u89e3\u8bfb\u5982\u4e0b\uff1a 1. \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u8fdb\u5c55\uff1a \u63d0\u5230\u4e86\u6700\u8fd1\u5728\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u65b9\u9762\u7684\u8fdb\u5c55\uff0c\u8fd9\u4e9b\u7b97\u6cd5\u65e8\u5728\u786e\u4fdd\u7f51\u7edc\u4e2d\u6301\u7eed\u7684\u7f13\u51b2\u533a\u5360\u7528\u7387\u8f83\u4f4e\u3002\u8fd9\u662f\u4e3a\u4e86\u63d0\u9ad8\u7f51\u7edc\u6027\u80fd\u548c\u51cf\u5c11\u62e5\u585e\u5bfc\u81f4\u7684\u95ee\u9898\u3002 2. \u65e0\u6cd5\u5b8c\u5168\u89e3\u51b3\u95ee\u9898\uff1a \u5c3d\u7ba1\u8fd9\u4e9b\u7b97\u6cd5\u5728\u7ef4\u6301\u6301\u4e45\u6027\u7f13\u51b2\u533a\u5360\u7528\u7387\u65b9\u9762\u8868\u73b0\u826f\u597d\uff0c\u4f46\u5b83\u4eec\u5e76\u4e0d\u80fd\u5b8c\u5168\u89e3\u51b3\u95ee\u9898\u3002\u8fd9\u91cc\u6240\u6307\u7684\u95ee\u9898\u53ef\u80fd\u6d89\u53ca\u5230\u7f51\u7edc\u62e5\u585e\u548c\u6d41\u91cf\u7ba1\u7406\u7684\u6311\u6218\u3002 3. \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7684\u9650\u5236\uff1a \u63d0\u5230\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7684\u9650\u5236\uff0c\u5176\u4e2d==\u6700\u4e3b\u8981\u7684\u9650\u5236\u662f\u5b83\u9700\u8981\u81f3\u5c111\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u6765\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94==\u3002\u5728==\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u8fd9\u79cd\u53cd\u5e94\u65f6\u95f4\u53ef\u80fd\u4f1a\u5bfc\u81f4\u5728\u77ed\u65f6\u95f4\u5185\u53d1\u751f\u7684\u62e5\u585e\u4e8b\u4ef6\u65e0\u6cd5\u5f97\u5230\u6709\u6548\u63a7\u5236==\u3002 4. \u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u7684\u666e\u904d\u6027\uff1a \u5f3a\u8c03\u4e86\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u7684\u666e\u904d\u6027\u3002\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u4e2d\u53ef\u80fd\u4f1a\u53d1\u751f\u4e00\u4e9b\u77ed\u6682\u7684\u62e5\u585e\uff0c\u800c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u65e0\u6cd5\u5728\u77ed\u65f6\u95f4\u5185\u505a\u51fa\u6709\u6548\u53cd\u5e94\u3002 \u7efc\u5408\u6765\u770b\uff0c\u6587\u672c\u6307\u51fa\u4e86\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u4e00\u4e9b\u9650\u5236\uff0c\u5c24\u5176\u662f\u5bf9\u4e8e\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u7684\u5904\u7406\u4e0d\u8db3\uff0c\u8fd9\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u662f\u6bd4\u8f83\u5e38\u89c1\u7684\u60c5\u51b5\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#2-end-to-end-cc-algorithm","title":"2. end-to-end CC Algorithm\uff1a","text":"<p>\"\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\"\uff08end-to-end congestion control algorithms\uff09\u662f\u4e00\u7c7b\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u62e5\u585e\u7684\u7b97\u6cd5\u3002\u8fd9\u4e9b\u7b97\u6cd5\u7684\u76ee\u6807\u662f\u786e\u4fdd\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\u5728\u9ad8\u8d1f\u8f7d\u60c5\u51b5\u4e0b\u4ecd\u7136\u80fd\u591f\u6709\u6548\u4f20\u8f93\uff0c\u5e76\u9632\u6b62\u56e0\u62e5\u585e\u800c\u5bfc\u81f4\u7684\u6570\u636e\u5305\u4e22\u5931\u548c\u7f51\u7edc\u6027\u80fd\u4e0b\u964d\u3002\u4ee5\u4e0b\u662f\u8fd9\u4e9b\u7b97\u6cd5\u7684\u4e00\u4e9b\u4e3b\u8981\u7279\u5f81\uff1a 1. \u6d41\u91cf\u76d1\u6d4b\uff1a \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u901a\u5e38\u4f1a\u76d1\u6d4b\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\uff0c\u4ee5\u4fbf\u4e86\u89e3\u5f53\u524d\u7f51\u7edc\u7684\u72b6\u6001\u3002\u8fd9\u53ef\u80fd\u6d89\u53ca\u5230\u6d4b\u91cf\u6570\u636e\u5305\u4f20\u8f93\u7684\u901f\u7387\u3001\u5ef6\u8fdf\u7b49\u3002 2. \u62e5\u585e\u4fe1\u53f7\uff1a \u5f53\u7b97\u6cd5\u68c0\u6d4b\u5230\u7f51\u7edc\u62e5\u585e\u65f6\uff0c\u5b83\u4f1a\u751f\u6210\u62e5\u585e\u4fe1\u53f7\u6216\u6807\u8bb0\uff0c\u901a\u77e5\u7f51\u7edc\u4e2d\u7684\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u6709\u5173\u62e5\u585e\u72b6\u6001\u7684\u4fe1\u606f\u3002 3. \u6d41\u91cf\u8c03\u6574\uff1a \u7b97\u6cd5\u4f1a\u6839\u636e\u62e5\u585e\u4fe1\u53f7\u8c03\u6574\u6d41\u91cf\uff0c\u4ee5\u964d\u4f4e\u7f51\u7edc\u62e5\u585e\u7684\u7a0b\u5ea6\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u51cf\u6162\u6570\u636e\u5305\u7684\u53d1\u9001\u901f\u7387\u3001\u5b9e\u65bd\u6d41\u91cf\u63a7\u5236\u7b56\u7565\u7b49\u3002 4. \u62e5\u585e\u7a97\u53e3\u63a7\u5236\uff1a \u4e00\u4e9b\u7b97\u6cd5\u4f7f\u7528\u62e5\u585e\u7a97\u53e3\u63a7\u5236\u673a\u5236\uff0c\u8be5\u673a\u5236\u8c03\u6574\u5728\u4efb\u4f55\u7ed9\u5b9a\u65f6\u95f4\u5185\u53ef\u4ee5\u5728\u7f51\u7edc\u4e0a\u5b58\u5728\u7684\u672a\u786e\u8ba4\u6570\u636e\u5305\u7684\u6570\u91cf\uff0c\u4ee5\u9002\u5e94\u7f51\u7edc\u7684\u5bb9\u91cf\u3002 5. \u53cd\u9988\u673a\u5236\uff1a \u7b97\u6cd5\u53ef\u80fd\u4f7f\u7528\u53cd\u9988\u673a\u5236\uff0c\u6536\u96c6\u6765\u81ea\u7f51\u7edc\u7684\u4fe1\u606f\uff0c\u5e76\u5c06\u5176\u7528\u4e8e\u8c03\u6574\u6d41\u91cf\u63a7\u5236\u53c2\u6570\uff0c\u4ee5\u66f4\u597d\u5730\u9002\u5e94\u7f51\u7edc\u7684\u52a8\u6001\u53d8\u5316\u3002 6. \u5feb\u901f\u54cd\u5e94\uff1a \u5c3d\u7ba1\u6587\u672c\u4e2d\u63d0\u5230\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5==\u53ef\u80fd\u9700\u8981\u81f3\u5c111\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u6765\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94==\uff0c\u4f46\u8fd9\u4e9b\u7b97\u6cd5\u901a\u5e38\u4f1a\u88ab\u8bbe\u8ba1\u4e3a\u80fd\u591f\u5c3d\u5feb\u5730\u9002\u5e94\u7f51\u7edc\u53d8\u5316\u3002</p> <p>\u5e38\u89c1\u7684\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u5305\u62ecTCP\uff08Transmission Control Protocol\uff09\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236\uff0c\u5982\u6162\u542f\u52a8\u3001\u62e5\u585e\u907f\u514d\u548c\u5feb\u901f\u91cd\u4f20\u7b49\u3002\u8fd9\u4e9b\u7b97\u6cd5\u5728\u4e92\u8054\u7f51\u4e2d\u7684\u5e7f\u6cdb\u5e94\u7528\u6709\u52a9\u4e8e\u786e\u4fdd\u7f51\u7edc\u5728\u9ad8\u8d1f\u8f7d\u65f6\u4ecd\u80fd\u63d0\u4f9b\u7a33\u5b9a\u7684\u6027\u80fd\u3002\u5728\u6570\u636e\u4e2d\u5fc3\u7b49\u73af\u5883\u4e2d\uff0c\u4e5f\u53ef\u80fd\u4f7f\u7528\u5176\u4ed6\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u4ee5\u6ee1\u8db3\u7279\u5b9a\u7684\u7f51\u7edc\u9700\u6c42\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#3-rtt","title":"3. \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u80fd\u9700\u8981\u81f3\u5c11\u4e00\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u6765\u5bf9\u6d41\u91cf\u53d8\u5316\u505a\u51fa\u53cd\u5e94\uff0c\u4e3b\u8981\u662f\u7531\u4e8e\u4ee5\u4e0b\u539f\u56e0\uff1a","text":"<ol> <li>\u4fe1\u606f\u4f20\u64ad\u65f6\u5ef6\uff1a RTT\u4ee3\u8868\u4e86\u4ece\u53d1\u9001\u7aef\u53d1\u9001\u6570\u636e\u5230\u63a5\u6536\u7aef\u6536\u5230\u786e\u8ba4\u7684\u65f6\u95f4\u3002\u5728\u62e5\u585e\u63a7\u5236\u4e2d\uff0c\u53d1\u9001\u65b9\u9700\u8981\u6536\u5230\u6765\u81ea\u63a5\u6536\u65b9\u7684\u786e\u8ba4\u4fe1\u606f\uff0c\u4ee5\u4e86\u89e3\u5f53\u524d\u7f51\u7edc\u72b6\u6001\u3002\u7531\u4e8eRTT\u5305\u62ec\u4e86\u6570\u636e\u4f20\u8f93\u3001\u4f20\u64ad\u548c\u5904\u7406\u7684\u65f6\u95f4\uff0c\u4fe1\u606f\u4f20\u64ad\u7684\u65f6\u5ef6\u4f1a\u5f71\u54cd\u62e5\u585e\u63a7\u5236\u7684\u53cd\u5e94\u901f\u5ea6\u3002</li> <li>\u5f80\u8fd4\uff1a ==\u62e5\u585e\u63a7\u5236\u662f\u4e00\u4e2a\u7aef\u5230\u7aef\u7684\u8fc7\u7a0b\uff0c\u9700\u8981\u5728\u6570\u636e\u7684\u53d1\u9001\u7aef\u548c\u63a5\u6536\u7aef\u4e4b\u95f4\u8fdb\u884c\u5f80\u8fd4\u7684\u901a\u4fe1==\u3002\u53d1\u9001\u65b9\u53d1\u9001\u6570\u636e\uff0c\u63a5\u6536\u65b9\u6536\u5230\u6570\u636e\u540e\u8fdb\u884c\u786e\u8ba4\uff0c\u5e76\u5c06\u786e\u8ba4\u4fe1\u606f\u8fd4\u56de\u7ed9\u53d1\u9001\u65b9\u3002\u8fd9\u4e2a==\u5f80\u8fd4\u7684\u8fc7\u7a0b\u9700\u8981\u81f3\u5c11\u4e00\u4e2aRTT\u7684\u65f6\u95f4\u3002==</li> <li>\u52a8\u6001\u7f51\u7edc\u73af\u5883\uff1a \u7f51\u7edc\u6761\u4ef6\u53ef\u80fd\u5728\u65f6\u95f4\u4e0a\u53d1\u751f\u53d8\u5316\uff0c\u4f8b\u5982\u5e26\u5bbd\u5229\u7528\u7387\u3001\u62e5\u585e\u72b6\u6001\u7b49\u3002\u4e3a\u4e86\u53cd\u6620\u8fd9\u4e9b\u53d8\u5316\u5e76\u91c7\u53d6\u76f8\u5e94\u7684\u63aa\u65bd\uff0c\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4\u6765\u6536\u96c6\u8db3\u591f\u7684\u4fe1\u606f\u5e76\u505a\u51fa\u9002\u5f53\u7684\u8c03\u6574\u3002RTT\u63d0\u4f9b\u4e86\u4e00\u4e2a\u57fa\u672c\u7684\u65f6\u95f4\u5355\u4f4d\uff0c\u7528\u4e8e\u6d4b\u91cf\u7f51\u7edc\u73af\u5883\u7684\u53d8\u5316\u3002</li> <li>\u6d41\u91cf\u8c03\u6574\u7684\u9002\u5ea6\u6027\uff1a \u8fc7\u4e8e\u9891\u7e41\u5730\u8fdb\u884c\u6d41\u91cf\u8c03\u6574\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7f51\u7edc\u4e0d\u7a33\u5b9a\u548c\u6548\u7387\u4f4e\u4e0b\u3002\u901a\u8fc7\u4f7f\u7528RTT\uff0c\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u53ef\u4ee5\u66f4\u4e3a\u9002\u5ea6\u5730\u8c03\u6574\u6d41\u91cf\uff0c\u907f\u514d\u5728\u77ed\u65f6\u95f4\u5185\u505a\u51fa\u8fc7\u4e8e\u6fc0\u8fdb\u7684\u53cd\u5e94\u3002</li> </ol> <p>\u5c3d\u7ba1\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u5728\u5e94\u5bf9\u7f51\u7edc\u53d8\u5316\u65f6\u53ef\u80fd\u9700\u8981\u7b49\u5f85\u81f3\u5c11\u4e00\u4e2aRTT\uff0c\u4f46\u73b0\u4ee3\u7684\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u901a\u5e38\u4f1a\u88ab\u8bbe\u8ba1\u4e3a\u5c3d\u91cf\u51cf\u5c0f\u8fd9\u79cd\u5ef6\u8fdf\uff0c\u4ee5\u4fbf\u66f4\u8fc5\u901f\u5730\u9002\u5e94\u7f51\u7edc\u7684\u52a8\u6001\u53d8\u5316\u3002\u4e00\u4e9b\u6539\u8fdb\u7684\u7b97\u6cd5\uff0c\u5982\u5feb\u901f\u91cd\u4f20\u3001\u5feb\u901f\u542f\u52a8\u7b49\uff0c\u88ab\u5f15\u5165\u4ee5\u52a0\u901f\u5bf9\u62e5\u585e\u7684\u54cd\u5e94\u3002 </p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#4","title":"4. \u5bf9\u4e8e\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\uff0c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u53ef\u80fd\u65e0\u6cd5\u8fdb\u884c\u6709\u6548\u7684\u63a7\u5236\uff0c\u539f\u56e0\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u70b9\uff1a","text":"<ol> <li>\u53cd\u5e94\u65f6\u95f4\u8f83\u6162\uff1a \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7684\u7b97\u6cd5\u901a\u5e38\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4\u6765\u68c0\u6d4b\u62e5\u585e\u5e76\u505a\u51fa\u8c03\u6574\u3002\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u7684\u7279\u70b9\u662f\u53d1\u751f\u548c\u7ed3\u675f\u90fd\u5f88\u8fc5\u901f\uff0c\u800c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u53ef\u80fd\u9700\u8981\u81f3\u5c11\u4e00\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u6765\u5bdf\u89c9\u62e5\u585e\u5e76\u91c7\u53d6\u63aa\u65bd\u3002\u5728\u8fd9\u4e48\u77ed\u7684\u65f6\u95f4\u5185\uff0c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u53ef\u80fd\u65e0\u6cd5\u53ca\u65f6\u505a\u51fa\u53cd\u5e94\u3002</li> <li>\u62e5\u585e\u7a97\u53e3\u8c03\u6574\uff1a \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u4e2d\u4e00\u4e9b\u7b97\u6cd5\uff0c\u4f8b\u5982TCP\u7684\u6162\u542f\u52a8\u548c\u62e5\u585e\u907f\u514d\uff0c\u4f7f\u7528\u62e5\u585e\u7a97\u53e3\u6765\u8c03\u6574\u6570\u636e\u5305\u7684\u53d1\u9001\u901f\u7387\u3002\u5728\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\u4e2d\uff0c\u62e5\u585e\u7a97\u53e3\u53ef\u80fd\u6ca1\u6709\u8db3\u591f\u7684\u65f6\u95f4\u8fdb\u884c\u9002\u5ea6\u7684\u8c03\u6574\uff0c\u5bfc\u81f4\u53d1\u9001\u901f\u7387\u5728\u62e5\u585e\u4e8b\u4ef6\u53d1\u751f\u548c\u7ed3\u675f\u4e4b\u95f4\u65e0\u6cd5\u8fc5\u901f\u9002\u5e94\u3002</li> <li>\u7f3a\u4e4f\u5b9e\u65f6\u6027\uff1a \u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u901a\u5e38\u8bbe\u8ba1\u7528\u4e8e\u5904\u7406\u957f\u65f6\u95f4\u5c3a\u5ea6\u4e0a\u7684\u62e5\u585e\uff0c\u800c\u4e0d\u662f\u77ed\u6682\u7684\u62e5\u585e\u4e8b\u4ef6\u3002\u5176\u8bbe\u8ba1\u7406\u5ff5\u53ef\u80fd\u4e0d\u591f\u5173\u6ce8\u77ed\u671f\u53d8\u5316\uff0c\u56e0\u6b64\u65e0\u6cd5\u63d0\u4f9b\u8db3\u591f\u7684\u5b9e\u65f6\u6027\u6765\u6709\u6548\u5730\u63a7\u5236\u77ed\u671f\u62e5\u585e\u3002</li> <li>\u7f51\u7edc\u73af\u5883\u7684\u5feb\u901f\u53d8\u5316\uff1a \u5728\u6570\u636e\u4e2d\u5fc3\u7b49\u73af\u5883\u4e2d\uff0c\u7f51\u7edc\u53ef\u80fd\u56e0\u4e3a\u5e94\u7528\u4e4b\u95f4\u7684\u4ea4\u4e92\u3001\u4efb\u52a1\u8c03\u5ea6\u7b49\u539f\u56e0\u53d1\u751f\u77ac\u65f6\u7684\u62e5\u585e\u3002\u8fd9\u79cd\u5feb\u901f\u7684\u53d8\u5316\u53ef\u80fd\u8d85\u8fc7\u4e86\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u54cd\u5e94\u901f\u5ea6\u3002</li> </ol> <p>==\u4e3a\u4e86\u66f4\u6709\u6548\u5730\u5e94\u5bf9\u77ed\u671f\u62e5\u585e\u4e8b\u4ef6\uff0c\u4e00\u4e9b\u7279\u5b9a\u4e8e\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236\u6216\u8005\u66f4\u4e3a\u5b9e\u65f6\u7684\u53cd\u9988\u673a\u5236\u53ef\u80fd\u88ab\u5f15\u5165==\u3002\u8fd9\u6837\u7684\u673a\u5236\u53ef\u80fd\u66f4\u52a0\u7075\u6d3b\u548c\u654f\u611f\uff0c\u4ee5\u9002\u5e94\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u5e38\u89c1\u7684\u77ed\u671f\u62e5\u585e\u60c5\u51b5\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#2-within-1-rtt-it-is-the-buffer-management-scheme-that-determines-whether-pfc-messages-can-be-avoided","title":"2. Within 1 RTT, it is the buffer management scheme that determines whether PFC messages can be avoided.","text":"<p>\u89c1\u4e0a\u9762\u2705</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#3-most-congestion-events-will-be-caused-by-sub-rtt-traffic-bursts-19","title":"3.  most congestion events will be caused by sub-RTT traffic bursts [19]","text":"<ol> <li>\u62e5\u585e\u4e8b\u4ef6\uff1a \u6307\u7684\u662f\u7f51\u7edc\u4e2d\u53d1\u751f\u62e5\u585e\u7684\u60c5\u51b5\uff0c\u5373\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\u8fc7\u5927\uff0c\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3001\u6570\u636e\u5305\u4e22\u5931\u6216\u5ef6\u8fdf\u589e\u52a0\u7b49\u95ee\u9898\u3002</li> <li>\u4e9a\u5f80\u8fd4\u65f6\u5ef6\uff08sub-RTT\uff09\uff1a \u8fd9\u91cc\u6307\u7684\u662f==\u5c0f\u4e8e\u4e00\u4e2a\u5f80\u8fd4\u65f6\u5ef6\uff08RTT\uff09\u7684\u65f6\u95f4\u95f4\u9694==\u3002RTT\u662f\u4ece\u53d1\u9001\u6570\u636e\u5230\u63a5\u6536\u786e\u8ba4\u6240\u9700\u7684\u65f6\u95f4\u3002\u56e0\u6b64\uff0c\u4e9a\u5f80\u8fd4\u65f6\u5ef6\u8868\u793a\u5728\u4e00\u4e2a RTT \u5185\u7684\u76f8\u5bf9\u8f83\u77ed\u65f6\u95f4\u95f4\u9694\u3002</li> <li>\u6d41\u91cf\u7a81\u53d1\uff1a \u6307\u7684\u662f\u7f51\u7edc\u4e2d\u7a81\u7136\u6d8c\u5165\u5927\u91cf\u6570\u636e\u6d41\u91cf\u7684\u60c5\u51b5\uff0c\u8fd9\u53ef\u80fd\u662f\u7531\u4e8e\u67d0\u4e9b\u5e94\u7528\u7a0b\u5e8f\u7684\u4e34\u65f6\u6027\u5de5\u4f5c\u8d1f\u8f7d\u589e\u52a0\u3001\u4efb\u52a1\u8c03\u5ea6\u53d8\u5316\u7b49\u539f\u56e0\u5f15\u8d77\u7684\u3002</li> </ol> <p>\u7efc\u5408\u8d77\u6765\uff0c\u8fd9\u53e5\u8bdd\u8868\u8fbe\u4e86\u4e00\u4e2a\u89c2\u70b9\uff0c\u5373\u5728\u7f51\u7edc\u4e2d\uff0c==\u5927\u591a\u6570\u62e5\u585e\u4e8b\u4ef6\u662f\u7531\u4e8e\u5728\u76f8\u5bf9\u77ed\u7684\u65f6\u95f4\u5185\u53d1\u751f\u7684\u6d41\u91cf\u7a81\u53d1\uff0c\u800c\u8fd9\u4e9b\u6d41\u91cf\u7a81\u53d1\u7684\u65f6\u95f4\u95f4\u9694\u5c0f\u4e8e\u4e00\u4e2a\u5f80\u8fd4\u65f6\u5ef6==\u3002\u8fd9\u4e5f\u5f3a\u8c03\u4e86\u5bf9\u4e8e\u77ed\u65f6\u95f4\u5c3a\u5ea6\u4e0a\u7684\u62e5\u585e\u4e8b\u4ef6\uff0c\u7279\u522b\u662f\u7531\u4e8e\u6d41\u91cf\u5feb\u901f\u589e\u52a0\u5f15\u8d77\u7684\u4e8b\u4ef6\uff0c\u7aef\u5230\u7aef\u62e5\u585e\u63a7\u5236\u53ef\u80fd\u4f1a\u9762\u4e34\u4e00\u4e9b\u6311\u6218\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#4-we-find-that-the-current-headroom-allocation-scheme-which-is-called-sih-in-this-paper-is-quite-inefficient-in-headroom-utilization","title":"4. we find that the current headroom allocation scheme (which is called SIH in this paper) is quite inefficient in headroom utilization.","text":"<p>\u5728\u60a8\u7684\u63cf\u8ff0\u4e2d\u63d0\u5230\u7684\"PFC\u4ea4\u6362\u673a\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08SIH\uff09\"\u8868\u660e\u8fd9\u662f\u4e00\u79cd\u7279\u5b9a\u4e8e\u4f7f\u7528PFC\uff08Priority Flow Control\uff09\u7684\u4ea4\u6362\u673a\u4e2d\u7684\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\u3002\u8ba9\u6211\u5bf9\u8fd9\u4e2a\u672f\u8bed\u505a\u4e00\u4e2a\u57fa\u672c\u7684\u89e3\u91ca\uff1a 1. PFC\u4ea4\u6362\u673a\uff1a PFC\u662f\u4e00\u79cd\u7528\u4e8e\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u7684\u6d41\u63a7\u5236\u673a\u5236\uff0c\u7528\u4e8e\u7ba1\u7406\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u6570\u636e\u6d41\uff0c\u4ee5\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u548c\u62e5\u585e\u3002\u5728\u6570\u636e\u4e2d\u5fc3\u7b49\u73af\u5883\u4e2d\uff0cPFC\u901a\u5e38\u4e0e\u9ad8\u6027\u80fd\u8ba1\u7b97\u3001\u5b58\u50a8\u7b49\u5e94\u7528\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u786e\u4fdd\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u3002 2. \u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff08SIH\uff09\uff1a \"SIH\" \u53ef\u80fd\u662f\u7279\u5b9a\u7814\u7a76\u6216\u6587\u732e\u4e2d\u5f15\u5165\u7684\u672f\u8bed\uff0c\u6307\u4ee3\u4e00\u79cd\u5934\u90e8\u4f59\u91cf\u7684\u5206\u914d\u7b56\u7565\u3002\u8fd9\u79cd\u65b9\u6848\u53ef\u80fd\u5305\u62ec\u4e86\u4e3a\u6bcf\u4e2a\u4f18\u5148\u7ea7\u6216\u6d41\u91cf\u7c7b\u522b\u5206\u914d\u5934\u90e8\u4f59\u91cf\u7684\u65b9\u5f0f\uff0c\u4ee5\u5e94\u5bf9\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u9700\u6c42\u3002</p> <p>\u5177\u4f53\u7684\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\u53ef\u80fd\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u7f51\u7edc\u62d3\u6251\u3001PFC\u7684\u914d\u7f6e\u548c\u7f51\u7edc\u8d1f\u8f7d\u7b49\u56e0\u7d20\u3002\u8fd9\u4e9b\u65b9\u6848\u53ef\u80fd\u4f1a\u88ab\u8bbe\u8ba1\u4e3a\u66f4\u597d\u5730\u9002\u5e94\u7f51\u7edc\u7684\u7279\u5b9a\u9700\u6c42\uff0c\u4ee5\u63d0\u9ad8\u6027\u80fd\u548c\u907f\u514d\u62e5\u585e\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#5-this-is-because-sih-reserves-a-static-amount-of-worst-case-headroom-independently-for-every-ingress-queue-in-every-port-which-wastes-a-substantial-amount-of-memory","title":"5. This is because SIH reserves a static amount of worst- case headroom independently for every ingress queue in every port, which wastes a substantial amount of memory","text":"<p>\u8fd9\u6bb5\u6587\u5b57\u6307\u51fa\uff0c\u201c\u8fd9\u662f\u56e0\u4e3aSIH\uff08\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff09\u5728\u6bcf\u4e2a\u7aef\u53e3\u7684\u6bcf\u4e2a\u5165\u53e3\u961f\u5217==\u72ec\u7acb\u5730==\u4e3a\u6700\u5dee\u60c5\u51b5==\u9884\u7559==\u4e86==\u9759\u6001\u6570\u91cf\u7684\u5934\u90e8\u4f59\u91cf\uff08headroom\uff09==\uff0c\u8fd9\u6d6a\u8d39\u4e86\u76f8\u5f53\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u201d</p> <p>\u5177\u4f53\u89e3\u8bfb\u5982\u4e0b\uff1a 1. SIH\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\uff1a SIH\u662f\u5934\u90e8\u4f59\u91cf\u5206\u914d\u65b9\u6848\u7684\u7f29\u5199\uff0c\u662f\u4e00\u79cd\u7528\u4e8e\u7ba1\u7406\u5934\u90e8\u4f59\u91cf\u7684\u5177\u4f53\u7b56\u7565\u6216\u7b97\u6cd5\u3002 2. \u9759\u6001\u6570\u91cf\u7684\u5934\u90e8\u4f59\u91cf\uff1a SIH\u65b9\u6848\u91c7\u7528\u9759\u6001\u5206\u914d\u7684\u65b9\u5f0f\uff0c\u5373\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u7684\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u9884\u7559\u4e86\u4e00\u4e2a\u56fa\u5b9a\u6570\u91cf\u7684\u5934\u90e8\u4f59\u91cf\u3002\u8fd9\u79cd\u9884\u7559\u662f\u57fa\u4e8e\u6700\u5dee\u60c5\u51b5\u7684\u8003\u8651\uff0c\u5373\u5728\u53ef\u80fd\u7684\u6700\u574f\u60c5\u51b5\u4e0b\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u3002 3. \u72ec\u7acb\u5206\u914d\uff1a SIH\u5bf9\u4e8e\u6bcf\u4e2a\u7aef\u53e3\u7684\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u90fd\u72ec\u7acb\u5730\u8fdb\u884c\u5934\u90e8\u4f59\u91cf\u7684\u5206\u914d\u3002\u8fd9\u610f\u5473\u7740\u6bcf\u4e2a\u961f\u5217\u90fd\u6709\u81ea\u5df1\u72ec\u7acb\u7684\u5934\u90e8\u4f59\u91cf\uff0c\u800c\u4e0d\u53d7\u5176\u4ed6\u961f\u5217\u7684\u5f71\u54cd\u3002 4. \u6d6a\u8d39\u5927\u91cf\u5185\u5b58\uff1a \u7531\u4e8e\u91c7\u7528\u4e86\u9759\u6001\u5206\u914d\uff0c\u4e14\u4e3a\u6bcf\u4e2a\u961f\u5217\u90fd\u72ec\u7acb\u5206\u914d\u4e86\u5934\u90e8\u4f59\u91cf\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u6d6a\u8d39\u76f8\u5f53\u5927\u7684\u5185\u5b58\u7a7a\u95f4\u3002\u5728\u5b9e\u9645\u7f51\u7edc\u4f7f\u7528\u4e2d\uff0c\u53ef\u80fd\u5e76\u4e0d\u662f\u6bcf\u4e2a\u961f\u5217\u90fd\u5728\u540c\u4e00\u65f6\u95f4\u90fd\u9700\u8981\u9884\u7559\u6700\u5dee\u60c5\u51b5\u4e0b\u7684\u5934\u90e8\u4f59\u91cf\uff0c\u56e0\u6b64\u8fd9\u79cd\u72ec\u7acb\u7684\u3001\u9759\u6001\u7684\u5206\u914d\u65b9\u5f0f\u53ef\u80fd\u5bfc\u81f4\u5185\u5b58\u8d44\u6e90\u7684\u4f4e\u6548\u5229\u7528\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#6-however-the-headroom-reduction-comes-at-a-cost-occupying-the-headroom-reserved-for-each-port-will-pause-the-entire-traffic-from-the-upstream-link-which-is-harmful-to-performance-as-performance-isolation-is-violated","title":"6. However, the headroom reduction comes at a cost. Occupying the headroom reserved for each port will pause the entire traffic from the upstream link, which is harmful to performance as performance isolation is violated","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#1_1","title":"1. \u8be6\u7ec6\u89e3\u91ca\uff1a","text":"<p>\u8fd9\u6bb5\u6587\u5b57\u8868\u8fbe\u4e86\u4e00\u79cd\u6743\u8861\uff1a\u5c3d\u7ba1\u51cf\u5c11\u5934\u90e8\u4f59\u91cf\u53ef\u4ee5\u5e26\u6765\u4e00\u4e9b\u597d\u5904\uff0c\u4f46\u5374\u5b58\u5728\u4e00\u5b9a\u7684\u4ee3\u4ef7\u3002\u5177\u4f53\u6765\u8bf4\uff0c==\u5f53\u5360\u7528\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u65f6\uff0c\u4f1a\u6682\u505c\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6574\u4e2a\u6d41\u91cf==\uff0c\u800c\u8fd9\u5bf9\u6027\u80fd\u9020\u6210\u4e86\u4e0d\u5229\u7684\u5f71\u54cd\uff0c\u56e0\u4e3a\u6027\u80fd\u9694\u79bb\u53d7\u5230\u4e86\u4fb5\u72af\u3002</p> <p>\u8be6\u7ec6\u89e3\u91ca\u5982\u4e0b\uff1a 1. \u5934\u90e8\u4f59\u91cf\u51cf\u5c11\u7684\u4ee3\u4ef7\uff1a \u6587\u4e2d\u63d0\u5230 \"the headroom reduction comes at a cost\" \u610f\u5473\u7740\u5c3d\u7ba1\u51cf\u5c11\u5934\u90e8\u4f59\u91cf\u53ef\u80fd\u6709\u4e00\u4e9b\u597d\u5904\uff0c\u4f46\u4e0e\u6b64\u540c\u65f6\u4e5f\u4f34\u968f\u7740\u67d0\u79cd\u4ee3\u4ef7\u3002 2. \u5360\u7528\u5934\u90e8\u4f59\u91cf\u4f1a\u6682\u505c\u6574\u4e2a\u6d41\u91cf\uff1a ==\u5f53\u67d0\u4e2a\u7aef\u53e3\u5360\u7528\u4e86\u4e3a\u5176\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u65f6\uff0c\u6587\u4e2d\u63d0\u5230\u4f1a\u201c\u6682\u505c\u6574\u4e2a\u6d41\u91cf\u201d\uff0c\u8fd9\u610f\u5473\u7740\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6d41\u91cf\u5c06\u4f1a\u505c\u6b62\u4f20\u8f93==\u3002\u5934\u90e8\u4f59\u91cf\u901a\u5e38\u7528\u4e8e\u5904\u7406\u62e5\u585e\u6216\u4e34\u65f6\u7684\u6d41\u91cf\u7a81\u53d1\uff0c\u4f46\u5f53\u5b83\u88ab\u5360\u7528\u65f6\uff0c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u91c7\u53d6\u67d0\u79cd\u65b9\u5f0f\u6765\u505c\u6b62\u6d41\u91cf\uff0c\u4ee5\u9632\u6b62\u53ef\u80fd\u7684\u62e5\u585e\u3002 3. \u5bf9\u6027\u80fd\u7684\u4e0d\u5229\u5f71\u54cd\uff1a \u6587\u4e2d\u63d0\u5230\u8fd9\u79cd\u6682\u505c\u6574\u4e2a\u6d41\u91cf\u7684\u64cd\u4f5c\u201c\u5bf9\u6027\u80fd\u9020\u6210\u4e86\u4e0d\u5229\u7684\u5f71\u54cd\u201d\uff0c\u8fd9\u662f\u56e0\u4e3a\u5728\u8fd9\u4e2a\u8fc7\u7a0b\u4e2d\uff0c\u6027\u80fd\u9694\u79bb\u88ab\u8fdd\u53cd\u4e86\u3002==\u6027\u80fd\u9694\u79bb\u901a\u5e38\u662f\u6307\u5728\u4e00\u4e2a\u7aef\u53e3\u6216\u4e00\u4e2a\u6d41\u91cf\u7c7b\u522b\u7684\u5f71\u54cd\u4e0b\uff0c\u4e0d\u5e94\u8be5\u5f71\u54cd\u5176\u4ed6\u7aef\u53e3\u6216\u6d41\u91cf\u7c7b\u522b\u3002\u4f46\u5f53\u6574\u4e2a\u6d41\u91cf\u88ab\u6682\u505c\u65f6\uff0c\u8fd9\u79cd\u9694\u79bb\u88ab\u6253\u7834\uff0c\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3001\u5ef6\u8fdf\u589e\u52a0\u7b49\u95ee\u9898\u3002== 4. \u6743\u8861\uff1a \u8fd9\u6bb5\u6587\u5b57\u4f20\u8fbe\u7684\u662f\u4e00\u79cd\u6743\u8861\uff0c\u5373\u5728\u8ffd\u6c42\u51cf\u5c11\u5934\u90e8\u4f59\u91cf\u7684\u540c\u65f6\uff0c\u9700\u8981\u8003\u8651\u53ef\u80fd\u7684\u4ee3\u4ef7\uff0c\u5373\u6682\u505c\u6574\u4e2a\u6d41\u91cf\u53ef\u80fd\u5bf9\u6027\u80fd\u9020\u6210\u7684\u8d1f\u9762\u5f71\u54cd\u3002\u8fd9\u6837\u7684\u6743\u8861\u662f\u5728\u8bbe\u8ba1\u7f51\u7edc\u6216\u7cfb\u7edf\u65f6\u9700\u8981\u7efc\u5408\u8003\u8651\u7684\u91cd\u8981\u56e0\u7d20\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u6bb5\u6587\u5b57\u5f3a\u8c03\u4e86\u5934\u90e8\u4f59\u91cf\u7ba1\u7406\u4e2d\u7684\u4e00\u4e2a\u95ee\u9898\uff0c\u5373\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\u51cf\u5c11\u5934\u90e8\u4f59\u91cf\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u9694\u79bb\u7684\u7834\u574f\uff0c\u9700\u8981\u7efc\u5408\u8003\u8651\u6743\u8861\u53d6\u820d\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#2","title":"2. \u4e3a\u4ec0\u4e48\u5f53\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u88ab\u5360\u7528\u65f6\uff0c\u4f1a\u6682\u505c\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6574\u4e2a\u6d41\u91cf\uff1f","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/#headroomgrey-period","title":"\uff08\u7ffb\u8bd1\u95ee\u9898\uff0c\u8fd9\u4e2a\u95ee\u9898\u5f88\u663e\u7136\uff0c\u56e0\u4e3aheadroom\u5c31\u662f\u4e3a\u201cgrey period\u201d\u515c\u5e95\u7684\uff09","text":"<p>\u5f53\u5360\u7528\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u65f6\uff0c\u4f1a\u6682\u505c\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6574\u4e2a\u6d41\u91cf\uff0c\u8fd9\u901a\u5e38\u6d89\u53ca\u5230\u4f7f\u7528\u4e86\u4e00\u79cd\u6d41\u91cf\u63a7\u5236\u673a\u5236\uff0c\u53ef\u80fd\u662f PFC\uff08Priority Flow Control\uff09\u6216\u7c7b\u4f3c\u7684\u673a\u5236\u3002\u8fd9\u79cd\u6682\u505c\u7684\u539f\u56e0\u4e0e\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u63a7\u5236\u6709\u5173\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u539f\u56e0\uff1a 1. PFC\u673a\u5236\uff1a \u5982\u679c\u7f51\u7edc\u4e2d\u4f7f\u7528\u4e86==PFC\u673a\u5236==\uff0c\u8be5\u673a\u5236==\u5141\u8bb8\u7aef\u53e3\u901a\u8fc7\u53d1\u9001PFC\u5e27\u6765\u6682\u505c\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6d41\u91cf==\u3002PFC\u901a\u5e38\u4e0eEthernet\u4e2d\u7684802.1Qbb\u6807\u51c6\u4e00\u8d77\u4f7f\u7528\uff0c\u5b83\u5141\u8bb8\u901a\u8fc7\u53d1\u9001PFC\u5e27\u6765\u6682\u505c\u6216\u6062\u590d\u5177\u6709\u7279\u5b9a\u4f18\u5148\u7ea7\u7684\u6570\u636e\u6d41\u3002\u8fd9\u79cd\u673a\u5236\u7684==\u76ee\u7684\u662f\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u548c\u62e5\u585e==\u3002 2. \u5934\u90e8\u4f59\u91cf\u7528\u4e8ePFC\uff1a \u5934\u90e8\u4f59\u91cf\u901a\u5e38\u7528\u4e8e\u5904\u7406\u62e5\u585e\u548c\u6d41\u91cf\u7ba1\u7406\u3002==\u5f53\u4e3a\u6bcf\u4e2a\u7aef\u53e3\u4fdd\u7559\u7684\u5934\u90e8\u4f59\u91cf\u88ab\u5360\u7528\u65f6\uff0c\u53ef\u80fd\u662f\u56e0\u4e3aPFC\u673a\u5236\u89e6\u53d1\u4e86==\uff0c\u8981\u6c42\u6682\u505c\u6765\u81ea\u4e0a\u6e38\u94fe\u8def\u7684\u6574\u4e2a\u6d41\u91cf\u3002\u8fd9\u53ef\u80fd\u662f\u4e3a\u4e86\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u7279\u522b\u662f\u5728\u62e5\u585e\u6216\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u6d8c\u5165\u65f6\u3002 3. \u6027\u80fd\u9694\u79bb\u548c\u62e5\u585e\u63a7\u5236\uff1a \u8fd9\u79cd\u6682\u505c\u7684\u64cd\u4f5c\u53ef\u80fd\u662f\u4e3a\u4e86\u7ef4\u6301\u6027\u80fd\u9694\u79bb\u548c\u8fdb\u884c\u62e5\u585e\u63a7\u5236\u3002\u5f53\u67d0\u4e2a\u7aef\u53e3\u7684\u6d41\u91cf\u8d85\u51fa\u4e86\u9884\u7559\u7684\u5934\u90e8\u4f59\u91cf\uff0c\u7cfb\u7edf\u53ef\u80fd\u4f1a\u91c7\u53d6\u63aa\u65bd\u4ee5\u786e\u4fdd\u8fd9\u4e2a\u7aef\u53e3\u7684\u6d41\u91cf\u4e0d\u4f1a\u5bf9\u5176\u4ed6\u7aef\u53e3\u6216\u94fe\u8def\u4ea7\u751f\u4e0d\u5229\u5f71\u54cd\u3002</p> <p>\u603b\u7684\u6765\u8bf4\uff0c\u8fd9\u79cd\u6682\u505c\u7684\u884c\u4e3a\u662f\u51fa\u4e8e\u7f51\u7edc\u6027\u80fd\u548c\u62e5\u585e\u63a7\u5236\u7684\u8003\u8651\uff0c\u4ee5\u786e\u4fdd\u5728\u67d0\u4e2a\u7aef\u53e3\u6216\u94fe\u8def\u4e0a\u53d1\u751f\u62e5\u585e\u65f6\uff0c\u91c7\u53d6\u7684\u63aa\u65bd\u4e0d\u4f1a\u5f71\u54cd\u6574\u4e2a\u7f51\u7edc\u7684\u7a33\u5b9a\u6027\u548c\u6027\u80fd\u3002\u8fd9\u79cd\u673a\u5236\u6709\u52a9\u4e8e\u9632\u6b62\u62e5\u585e\u6269\u6563\uff0c\u5e76\u786e\u4fdd\u7f51\u7edc\u7684\u53ef\u9760\u6027\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/","title":"Motivation","text":"<p>In this section, we present the problem of the current headroom allocation scheme.</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#a-headroom-occupies-considerable-memory","title":"A. Headroom Occupies Considerable Memory","text":"<p>It is expected that most of the memory should serve as shared buffer to absorb bursty traffic without triggering PFC messages. However, with the current buffer allocation scheme, the headroom buffer occupies considerable memory, which can significantly squeeze \u201cfootroom\u201d buffer3 and result in frequent PFC messages.</p> <p>==\u9884\u671f\u5927\u591a\u6570\u5185\u5b58\u5e94\u8be5\u4f5c\u4e3a\u5171\u4eab\u7f13\u51b2\u533a\uff0c\u4ee5\u5438\u6536\u7a81\u53d1\u6d41\u91cf\uff0c\u800c\u4e0d\u89e6\u53d1PFC\u6d88\u606f!!!!!!==\u7136\u800c\uff0c\u4f7f\u7528\u5f53\u524d\u7684\u7f13\u51b2\u533a\u5206\u914d\u65b9\u6848\uff0c\u5934\u90e8\u7f13\u51b2\u533a\u5360\u7528\u4e86\u76f8\u5f53\u5927\u7684\u5185\u5b58\uff0c\u53ef\u80fd\u4f1a\u663e\u8457\u6324\u538b\u201c\u4f59\u5730\u201d\u7f13\u51b2\u533a\uff0c\u5bfc\u81f4\u9891\u7e41\u7684PFC\u6d88\u606f\u3002</p> <p>Specifically, the current buffer allocation scheme indepen- dently reserves a static headroom for every ingress queue [1], [3]. Assume that each ingress queue requires \u03b7 headroom. The total headroom size (denoted by h) is given by</p> <p>\u5177\u4f53\u800c\u8a00\uff0c\u5f53\u524d\u7684\u7f13\u51b2\u533a\u5206\u914d\u65b9\u6848\u72ec\u7acb\u4e3a==\u6bcf\u4e2a\u5165\u53e3\u961f\u5217==\u4fdd\u7559\u4e86\u4e00\u4e2a==\u9759\u6001\u7684\u5934\u90e8\u7f13\u51b2\u533a==[1]\uff0c[3]\u3002\u5047\u8bbe\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u90fd\u9700\u8981\u03b7\u7684\u5934\u90e8\u7f13\u51b2\u533a\u3002\u603b\u5934\u90e8\u7f13\u51b2\u533a\u5927\u5c0f\uff08\u7528h\u8868\u793a\uff09\u7531\u4ee5\u4e0b\u516c\u5f0f\u7ed9\u51fa\uff1a</p> <p>\\(h=Np \u00d7 Nq \u00d7 \u03b7\\)(3)</p> <p>where \\(Np\\) is the number of ingress ports, \\(Nq\\) is the number of queues per port, and \u03b7 is given by Eq. (1).</p> <p>\u5176\u4e2d\uff0c\\(Np\\)\u200b\u662f\u5165\u53e3\u7aef\u53e3\u7684\u6570\u91cf\uff0c\\(Nq\\)\u200b\u662f\u6bcf\u4e2a\u7aef\u53e3\u7684\u961f\u5217\u6570\u91cf\uff0c\u03b7\u7531\u65b9\u7a0b\uff081\uff09\u7ed9\u51fa\u3002</p> <p>With such method, MMU has to allocate worst-case head- room for every ingress queue, and headroom can occupy a large fraction of memory. For example, Broadcom Trident2 switching chip contains 12MB memory. It has 32 40GbE ports (i.e., Np = 32 and C = 40Gbps). For each port, the PFC standard supports 8 queues (i.e., Nq = 8). Assume that the MTU is 1500B (i.e., LM T U = 1500B) and Dprop = 1.5\u03bcs, MMU needs to allocate \u223c5.33MB memory for headroom buffer in total, which occupies 44.4% of total memory.</p> <p>\u91c7\u7528\u8fd9\u79cd\u65b9\u6cd5\uff0cMMU\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u5165\u53e3\u961f\u5217\u5206\u914d\u6700\u574f\u60c5\u51b5\u4e0b\u6240\u9700\u7684\u5934\u90e8\u7f13\u51b2\u533a\uff0c\u800c\u5934\u90e8\u7f13\u51b2\u533a\u53ef\u80fd\u5360\u7528\u5927\u91cf\u5185\u5b58\u3002\u4f8b\u5982\uff0cBroadcom Trident2\u4ea4\u6362\u82af\u7247\u5305\u542b12MB\u5185\u5b58\u3002\u5b83\u670932\u4e2a40GbE\u7aef\u53e3\uff08\u5373\uff0cNp=32Np\u200b=32\uff0cC=40GbpsC=40Gbps\uff09\u3002\u5bf9\u4e8e\u6bcf\u4e2a\u7aef\u53e3\uff0cPFC\u6807\u51c6\u652f\u63018\u4e2a\u961f\u5217\uff08\u5373\uff0cNq=8Nq\u200b=8\uff09\u3002\u5047\u8bbeMTU\u4e3a1500B\uff08\u5373\uff0cLMTU=1500BLMTU=1500B\uff09\u548cDprop=1.5\u03bcsDprop\u200b=1.5\u03bcs\uff0cMMU\u9700\u8981\u603b\u5171\u5206\u914d\u7ea65.33MB\u5185\u5b58\u7528\u4e8e\u5934\u90e8\u7f13\u51b2\u533a\uff0c\u5360\u7528\u603b\u5185\u5b58\u768444.4\uff05\u3002(\u6027\u4ef7\u6bd4\u592a\u4f4e)</p> <p>With the growing link capacity, this situation gets worse. The link speed of production DCN has grown from 1Gbps to 40Gbps and 100Gbps in the past decade [4], [13] and is continuously growing. With higher link speed, MMU needs to allocate more headroom to avoid buffer overflow. However, the buffer size is limited by the chip area and cost, and thus cannot scale with the switching capacity [14]\u2013[16]. As a result, the fraction of required headroom becomes increasingly large, significantly squeezing the footroom buffer. Fig. 4 depicts the trend of buffer size and the fraction of required headroom in Broadcom\u2019s switching chips. The switch buffer size per unit of capacity has decreased by 4\u00d7 in the last decade (from 157\u03bcs to 37\u03bcs), while the fraction of required headroom has increased by 56% (from 43% to 67%).</p> <p>\u968f\u7740\u94fe\u8def\u5bb9\u91cf\u7684\u589e\u957f\uff0c\u8fd9\u79cd\u60c5\u51b5\u53d8\u5f97\u66f4\u7cdf\u3002\u5728\u8fc7\u53bb\u7684\u5341\u5e74\u4e2d\uff0c\u751f\u4ea7\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u94fe\u8def\u901f\u5ea6\u5df2\u7ecf\u4ece1Gbps\u589e\u957f\u523040Gbps\u548c100Gbps[4]\uff0c[13]\uff0c\u5e76\u4e14\u4ecd\u5728\u6301\u7eed\u589e\u957f\u3002\u968f\u7740\u94fe\u8def\u901f\u5ea6\u7684\u63d0\u9ad8\uff0cMMU\u9700\u8981\u5206\u914d\u66f4\u591a\u7684\u5934\u90e8\u7f13\u51b2\u533a\u4ee5\u907f\u514d\u7f13\u51b2\u533a\u6ea2\u51fa\u3002\u7136\u800c\uff0c\u7531\u4e8e\u82af\u7247\u9762\u79ef\u548c\u6210\u672c\u7684\u9650\u5236\uff0c\u7f13\u51b2\u533a\u5927\u5c0f\u65e0\u6cd5\u968f\u7740\u4ea4\u6362\u5bb9\u91cf\u7684\u589e\u52a0\u800c\u6269\u5c55[14]\u2013[16]\u3002\u56e0\u6b64\uff0c\u6240\u9700\u5934\u90e8\u7f13\u51b2\u533a\u7684\u6bd4\u4f8b\u53d8\u5f97\u8d8a\u6765\u8d8a\u5927\uff0c\u4e25\u91cd\u6324\u538b\u4e86\u4f59\u5730\u7f13\u51b2\u533a\u3002\u56fe4\u63cf\u8ff0\u4e86Broadcom\u4ea4\u6362\u82af\u7247\u4e2d\u7f13\u51b2\u533a\u5927\u5c0f\u548c\u6240\u9700\u5934\u90e8\u7f13\u51b2\u533a\u6bd4\u4f8b\u7684\u8d8b\u52bf\u3002\u5728\u8fc7\u53bb\u7684\u5341\u5e74\u91cc\uff0c\u6bcf\u5355\u4f4d\u5bb9\u91cf\u7684\u4ea4\u6362\u673a\u7f13\u51b2\u533a\u5927\u5c0f\u5df2\u7ecf\u51cf\u5c0f\u4e864\u500d\uff08\u4ece157\u03bcs\u51cf\u5c11\u523037\u03bcs\uff09\uff0c\u800c\u6240\u9700\u5934\u90e8\u7f13\u51b2\u533a\u7684\u6bd4\u4f8b\u5df2\u589e\u52a0\u4e8656\uff05\uff08\u4ece43\uff05\u589e\u52a0\u523067\uff05\uff09\u3002</p> <p>Without enough \u201cfootroom\u201d buffer, PFC messages can be frequently triggered, which may result in serious performance impairments (e.g., head-of-line blocking, congestion spread- ing, collateral damage) and even network deadlocks.</p> <p>\u6ca1\u6709\u8db3\u591f\u7684\u201c\u4f59\u5730\u201d\u7f13\u51b2\u533a\uff0cPFC\u6d88\u606f\u53ef\u80fd\u4f1a\u7ecf\u5e38\u89e6\u53d1\uff08\u89c1background\u4e2d\u7684\u6700\u540e\u4e00\u6761\uff09\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4e25\u91cd\u7684\u6027\u80fd\u635f\u5bb3\uff08\u4f8b\u5982\uff0c\u5934\u90e8\u963b\u585e\uff0c\u62e5\u585e\u4f20\u64ad\uff0c\u9644\u5e26\u635f\u5bb3\uff09\uff0c\u751a\u81f3\u7f51\u7edc\u6b7b\u9501\u3002</p> <p>To quantitatively demonstrate the performance degradation brought by inadequate buffer, we perform a large-scale ns-3 simulation on a 256-server leaf-spine topology (more details in \u00a7V-B). The congestion control algorithm is PowerTCP [37], which can effectively keep persistent queue length low. We use the widely-used web search workload [27] to generate realistic DCN traffic. The total network load is 90%. Fig. 5 shows the average flow completion time (FCT) with different buffer sizes. The FCT with 14MB buffer is 78.1% worse than that with 30MB buffer.</p> <p>\u4e3a\u4e86\u5b9a\u91cf\u5730\u5c55\u793a\u7531\u4e0d\u8db3\u591f\u7684\u7f13\u51b2\u533a\u5f15\u8d77\u7684\u6027\u80fd\u964d\u4f4e\uff0c\u6211\u4eec\u5728\u4e00\u4e2a256\u670d\u52a1\u5668\u53f6\u810a\u62d3\u6251\u7ed3\u6784\u4e0a\u8fdb\u884c\u4e86\u5927\u89c4\u6a21\u7684ns-3\u6a21\u62df\uff08\u66f4\u591a\u7ec6\u8282\u89c1\u00a7V-B\uff09\u3002==\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u91c7\u7528PowerTCP== [37]\uff0c\u8be5\u7b97\u6cd5\u53ef\u4ee5\u6709\u6548\u5730\u4fdd\u6301\u6301\u7eed\u961f\u5217\u957f\u5ea6\u8f83\u4f4e\u3002\u6211\u4eec\u4f7f\u7528\u5e7f\u6cdb\u4f7f\u7528\u7684Web\u641c\u7d22\u5de5\u4f5c\u8d1f\u8f7d[27]\u751f\u6210\u771f\u5b9e\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u6d41\u91cf\u3002\u603b\u7f51\u7edc\u8d1f\u8f7d\u4e3a90\uff05\u3002\u56fe5\u663e\u793a\u4e86\u4e0d\u540c\u7f13\u51b2\u533a\u5927\u5c0f\u7684\u5e73\u5747\u6d41\u5b8c\u6210\u65f6\u95f4\uff08FCT\uff09\u3002\u5177\u670914MB\u7f13\u51b2\u533a\u7684FCT\u6bd4\u5177\u670930MB\u7f13\u51b2\u533a\u7684FCT\u5dee\u4e8678.1\uff05\u3002</p> <p>To alleviate this problem, current network operators have to restrict the number of priority queues [3]. However, this ad hoc approach can aggravate the head-of-line blocking problem, as different services cannot be isolated and the congestion of one point can spread to the entire network. Furthermore, lots of studies [17], [38]\u2013[41] have shown that multiple service queues can greatly improve the network performance. Restrict- ing the number of queues prevents the network applications from benefiting from them.</p> <p>==\u4e3a\u4e86\u7f13\u89e3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f53\u524d\u7684\u7f51\u7edc\u8fd0\u8425\u5546\u4e0d\u5f97\u4e0d\u9650\u5236\u4f18\u5148\u7ea7\u961f\u5217\u7684\u6570\u91cf==[3]\u3002\u7136\u800c\uff0c\u8fd9\u79cd\u4e34\u65f6\u7684\u65b9\u6cd5\u53ef\u80fd\u4f1a\u52a0\u5267\u5934\u90e8\u963b\u585e\u95ee\u9898\uff0c\u56e0\u4e3a\u65e0\u6cd5\u9694\u79bb\u4e0d\u540c\u670d\u52a1\uff0c\u4e00\u4e2a\u70b9\u7684\u62e5\u585e\u53ef\u80fd\u4f20\u64ad\u5230\u6574\u4e2a\u7f51\u7edc\u3002\u6b64\u5916\uff0c\u8bb8\u591a\u7814\u7a76[17]\uff0c[38]\u2013[41]\u8868\u660e\uff0c\u591a\u4e2a\u670d\u52a1\u961f\u5217\u53ef\u4ee5\u6781\u5927\u5730\u63d0\u9ad8\u7f51\u7edc\u6027\u80fd\u3002\u9650\u5236\u961f\u5217\u7684\u6570\u91cf\u4f1a\u963b\u6b62\u7f51\u7edc\u5e94\u7528\u7a0b\u5e8f\u4ece\u4e2d\u53d7\u76ca\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#b-current-headroom-allocation-scheme-is-inefficient","title":"B. Current Headroom Allocation Scheme is Inefficient","text":"<p>Despite the increasingly large fraction of headroom, the current static and independent headroom allocation scheme (referred to as SIH) is still quite inefficient and wasteful. This is due to three reasons:</p> <p>\u968f\u7740\u5934\u90e8\u7f13\u51b2\u533a\u7684\u5360\u7528\u6bd4\u4f8b\u8d8a\u6765\u8d8a\u5927\uff0c\u5f53\u524d\u7684\u9759\u6001\u4e14\u72ec\u7acb\u7684\u5934\u90e8\u5206\u914d\u65b9\u6848\uff08\u79f0\u4e3aSIH\uff09\u76f8\u5f53\u4f4e\u6548\u548c\u6d6a\u8d39\u3002\u8fd9\u662f\u7531\u4e8e\u4e09\u4e2a\u539f\u56e0\uff1a</p> <p>(1) Not all queues need to occupy headroom. An ingress queue needs to occupy headroom only when it is congested and its queue length is higher than the Xoff threshold. In reality, it is unlikely that all queues are congested at the same time [42]. Despite this, SIH conservatively allocates worst- case headroom size for all ingress queues. As a result, most headroom buffer keeps unused.</p> <p>(2) Traffic heading for different ingress queues at the same port shares the capacity of uplink. In a port, all ingress queues are connected to the same uplink and thus the traffic heading for them shares the link capacity. When a traffic class of a port needs to be paused, its traffic arriving rate should be lower than C as long as other traffic classes also have in-flight packets on the uplink. Thus, the actual required headroom size can be lower than \u03b7.</p> <p>(3) The upstream device is not always sending traffic at full rate. When allocating headroom buffer for an ingress queue, SIH assumes that the upstream device will always send packets at line rate before PAUSE frame takes effect. However, the upstream queue can be empty. As a result, the sending rate of upstream device can be lower than link capacity and the headroom can be over-allocated.</p> <p>(1) \u5e76\u975e\u6240\u6709\u961f\u5217\u90fd\u9700\u8981\u5360\u7528\u5934\u90e8\u7f13\u51b2\u533a\u3002\u53ea\u6709\u5728\u62e5\u585e\u65f6\uff0c\u5165\u53e3\u961f\u5217\u624d\u9700\u8981\u5360\u7528\u5934\u90e8\u7f13\u51b2\u533a\uff0c\u5e76\u4e14\u5176\u961f\u5217\u957f\u5ea6\u9ad8\u4e8eXoff\u9608\u503c\u3002\u5b9e\u9645\u4e0a\uff0c\u4e0d\u592a\u53ef\u80fd\u6240\u6709\u961f\u5217\u540c\u65f6\u62e5\u585e[42]\u3002\u5c3d\u7ba1\u5982\u6b64\uff0cSIH\u4e3a\u6240\u6709\u5165\u53e3\u961f\u5217\u4fdd\u5b88\u5730\u5206\u914d\u6700\u574f\u60c5\u51b5\u4e0b\u7684\u5934\u90e8\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u56e0\u6b64\uff0c\u5927\u591a\u6570\u5934\u90e8\u7f13\u51b2\u533a\u4fdd\u6301\u672a\u4f7f\u7528\u72b6\u6001\u3002</p> <p>(2) \u5728\u540c\u4e00\u7aef\u53e3\u524d\u5f80\u4e0d\u540c\u5165\u53e3\u961f\u5217\u7684\u6d41\u91cf\u5171\u4eab\u4e0a\u884c\u94fe\u8def\u7684\u5bb9\u91cf\u3002\u5728\u4e00\u4e2a\u7aef\u53e3\u4e2d\uff0c\u6240\u6709\u5165\u53e3\u961f\u5217\u90fd\u8fde\u63a5\u5230\u76f8\u540c\u7684\u4e0a\u884c\u94fe\u8def\uff0c\u56e0\u6b64\u524d\u5f80\u5b83\u4eec\u7684\u6d41\u91cf\u5171\u4eab\u94fe\u8def\u5bb9\u91cf\u3002==\u5f53\u7aef\u53e3\u7684\u67d0\u4e2a\u6d41\u91cf\u7c7b\u522b\u9700\u8981\u6682\u505c\u65f6\uff0c\u53ea\u8981\u5176\u4ed6\u6d41\u91cf\u7c7b\u522b\u5728\u94fe\u8def\u4e0a\u4ecd\u6709\u5728\u9014\u6570\u636e\u5305\uff0c\u5176\u5230\u8fbe\u901f\u7387\u5e94\u4f4e\u4e8eC==\u3002\u56e0\u6b64\uff0ctheoretically\uff01\u5b9e\u9645\u6240\u9700\u7684\u5934\u90e8\u7f13\u51b2\u533a\u5927\u5c0f\u53ef\u4ee5\u4f4e\u4e8e\u03b7\u3002\u3010review\uff1a\\(\u03b7 = 2 (C \u00b7 Dprop + L[MTU] ) + 3840B\\)\u3011</p> <p>(3) \u4e0a\u6e38\u8bbe\u5907\u5e76\u975e\u603b\u662f\u4ee5\u6ee1\u901f\u53d1\u9001\u6d41\u91cf\u3002\u5728\u4e3a\u5165\u53e3\u961f\u5217\u5206\u914d\u5934\u90e8\u7f13\u51b2\u533a\u65f6\uff0cSIH\u5047\u8bbe\u4e0a\u6e38\u8bbe\u5907\u5728PAUSE\u5e27\u751f\u6548\u4e4b\u524d\u59cb\u7ec8\u4ee5\u7ebf\u901f\u53d1\u9001\u6570\u636e\u5305\u3002==\u7136\u800c\uff0c\u4e0a\u6e38\u961f\u5217\u53ef\u4ee5\u4e3a\u7a7a\u3002\u56e0\u6b64\uff0c\u4e0a\u6e38\u8bbe\u5907\u7684\u53d1\u9001\u901f\u7387\u53ef\u80fd\u4f4e\u4e8e\u94fe\u8def\u5bb9\u91cf\uff0c\u5934\u90e8\u7f13\u51b2\u533a\u53ef\u80fd\u88ab\u8fc7\u5ea6\u5206\u914d\u3002==</p> <p>To quantitatively demonstrate the inefficiency, we perform a large-scale ns-3 simulation with the same settings as the previous one except that the congestion control algorithm is DCQCN [1], which has higher buffer occupancy. To examine the efficiency of headroom, we extract the local maximum values of headroom occupancy, which indicates the actual required headroom size. Fig. 6 shows the distribution of headroom utilization for a port at the local maximum point. The headroom utilization is only 4.96% at the median and 25.33% at the 99th percentile.</p> <p>\u4e3a\u4e86\u5b9a\u91cf\u5730\u5c55\u793a\u8fd9\u79cd\u4f4e\u6548\u6027\uff0c\u6211\u4eec\u8fdb\u884c\u4e86\u4e00\u6b21\u5927\u89c4\u6a21\u7684ns-3\u6a21\u62df\uff0c\u8bbe\u7f6e\u4e0e\u524d\u4e00\u6a21\u62df\u76f8\u540c\uff0c\u53ea\u662f==\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u4e3aDCQCN ==[1]\uff0c\u5176\u5177\u6709\u66f4\u9ad8\u7684\u7f13\u51b2\u533a\u5360\u7528\u7387\u3002\u4e3a\u4e86\u68c0\u67e5\u5934\u90e8\u7684\u6548\u7387\uff0c\u6211\u4eec\u63d0\u53d6\u4e86\u5934\u90e8\u5360\u7528\u7684\u5c40\u90e8\u6700\u5927\u503c\uff0c\u8fd9\u8868\u793a\u5b9e\u9645\u6240\u9700\u7684\u5934\u90e8\u7f13\u51b2\u533a\u5927\u5c0f\u3002\u56fe6\u663e\u793a\u4e86\u4e00\u4e2a\u7aef\u53e3\u5728\u5c40\u90e8\u6700\u5927\u70b9\u7684\u5934\u90e8\u5229\u7528\u7387\u5206\u5e03\u3002\u5728\u4e2d\u4f4d\u6570\u5904\uff0c\u5934\u90e8\u5229\u7528\u7387\u4ec5\u4e3a4.96\uff05\uff0c\u800c\u5728\u7b2c99\u767e\u5206\u4f4d\u5904\u4e3a25.33\uff05\u3002</p> <p>Note that the inefficiency of SIH is inherent and cannot be avoided by simply adjusting the headroom buffer size. This is because SIH has to allocate headroom buffer in the worst case to ensure that buffer never overflows, even though the worst case rarely occurs. Thus, to efficiently utilize the headroom buffer, we need to seek another headroom allocation scheme.</p> <p>\u8bf7\u6ce8\u610f\uff0cSIH\u7684\u4f4e\u6548\u6027\u662f\u56fa\u6709\u7684\uff0c\u4e0d\u80fd\u901a\u8fc7\u7b80\u5355\u8c03\u6574\u5934\u90e8\u7f13\u51b2\u533a\u5927\u5c0f\u6765\u907f\u514d\u3002\u8fd9\u662f\u56e0\u4e3aSIH\u5fc5\u987b\u5728\u6700\u574f\u60c5\u51b5\u4e0b\u5206\u914d\u5934\u90e8\u7f13\u51b2\u533a\uff0c\u4ee5\u786e\u4fdd\u7f13\u51b2\u533a\u6c38\u8fdc\u4e0d\u4f1a\u6ea2\u51fa\uff0c\u5373\u4f7f\u6700\u574f\u60c5\u51b5\u5f88\u5c11\u53d1\u751f\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u6709\u6548\u5229\u7528\u5934\u90e8\u7f13\u51b2\u533a\uff0c\u6211\u4eec\u9700\u8981\u5bfb\u627e\u53e6\u4e00\u79cd\u5934\u90e8\u5206\u914d\u65b9\u6848\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#ques1-powertcp","title":"ques1: \u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u91c7\u7528PowerTCP","text":"<p>https://blog.csdn.net/qq_45577173/article/details/131988302</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#ques2-dcqcn","title":"ques2: \u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u4e3aDCQCN","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#1","title":"1. \u7b80\u4ecb\uff1a","text":"<p>DCQCN\uff08Distributed Congestion Control for Quantum Network\uff09\u662f\u4e00\u79cd\u4e13\u4e3a\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u8bbe\u8ba1\u7684\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u3002\u5b83\u4e3b\u8981\u7528\u4e8e\u4ee5\u592a\u7f51\u7f51\u7edc\uff0c\u7279\u522b\u662f\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u7684\u9ad8\u901f\u3001\u4f4e\u5ef6\u8fdf\u7f51\u7edc\u3002</p> <p>\u4ee5\u4e0b\u662fDCQCN\u7684\u4e00\u4e9b\u5173\u952e\u7279\u70b9\u548c\u539f\u5219\uff1a 1. \u5206\u5e03\u5f0f\u63a7\u5236\uff1a DCQCN\u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u610f\u5473\u7740\u7f51\u7edc\u4e2d\u7684\u591a\u4e2a\u8282\u70b9\u534f\u540c\u5de5\u4f5c\u4ee5\u68c0\u6d4b\u548c\u7f13\u89e3\u62e5\u585e\u3002==\u6bcf\u4e2a\u8282\u70b9\u90fd\u80fd\u591f\u76d1\u6d4b\u7f51\u7edc\u7684\u72b6\u6001\u5e76\u91c7\u53d6\u76f8\u5e94\u7684\u63aa\u65bd==\u6765\u51cf\u8f7b\u62e5\u585e\u3002 2. Quantum Flow Control\uff1a DCQCN\u4f7f\u7528Quantum Flow Control\u7684\u6982\u5ff5\uff0c\u901a\u8fc7==\u76d1\u6d4b\u961f\u5217\u7684\u6df1\u5ea6\u548c\u5ef6\u8fdf\u7b49\u4fe1\u606f==\uff0c\u52a8\u6001\u8c03\u6574\u53d1\u9001\u901f\u7387\uff0c\u4ee5\u907f\u514d\u62e5\u585e\u7684\u53d1\u751f\u3002\u8fd9\u79cd\u65b9\u6cd5\u6709\u52a9\u4e8e\u786e\u4fdd\u7f51\u7edc\u7684\u9ad8\u6027\u80fd\u548c\u4f4e\u5ef6\u8fdf\u3002 3. \u901f\u7387\u9650\u5236\uff1a DCQCN\u901a\u8fc7\u5728\u7f51\u7edc\u4e2d\u7684\u8282\u70b9\u4e4b\u95f4\u4ea4\u6362\u4fe1\u606f\uff0c\u5b9e\u65bd==\u901f\u7387\u9650\u5236==\uff0c\u4ee5\u786e\u4fdd\u6bcf\u4e2a\u8282\u70b9\u90fd\u4ee5\u9002\u5f53\u7684\u901f\u7387\u53d1\u9001\u6570\u636e\uff0c\u4ee5\u9632\u6b62\u7f51\u7edc\u62e5\u585e\u3002 4. \u81ea\u9002\u5e94\u6027\uff1a DCQCN\u662f\u81ea\u9002\u5e94\u7684\uff0c\u80fd\u591f\u6839\u636e\u7f51\u7edc\u72b6\u51b5\u7684\u53d8\u5316==\u8c03\u6574\u81ea\u8eab\u7684\u53c2\u6570\u548c\u884c\u4e3a==\u3002\u8fd9\u4f7f\u5f97\u5b83\u80fd\u591f\u7075\u6d3b\u5730\u9002\u5e94\u4e0d\u540c\u8d1f\u8f7d\u548c\u7f51\u7edc\u6761\u4ef6\u3002 5. \u57fa\u4e8eECN\u7684\u53cd\u9988\uff1a DCQCN==\u4f7f\u7528\u663e\u5f0f\u62e5\u585e\u901a\u77e5\uff08ECN\uff09\u6765\u83b7\u53d6\u6709\u5173\u7f51\u7edc\u72b6\u6001\u7684\u53cd\u9988==\u3002\u5f53\u7f51\u7edc\u4e2d\u7684\u8282\u70b9\u68c0\u6d4b\u5230\u62e5\u585e\u65f6\uff0c\u5b83\u4eec\u53ef\u4ee5\u901a\u8fc7ECN\u5411\u5176\u4ed6\u8282\u70b9\u53d1\u9001\u4fe1\u53f7\uff0c\u4ece\u800c\u89e6\u53d1\u76f8\u5e94\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0cDCQCN\u901a\u5e38\u4e0e\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u7684RoCE\uff08RDMA over Converged Ethernet\uff09\u7b49\u6280\u672f\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u63d0\u4f9b\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4e2d\u5fc3\u901a\u4fe1\u3002\u8fd9\u79cd\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u7684\u8be6\u7ec6\u5b9e\u73b0\u548c\u53c2\u6570\u53ef\u80fd\u4f1a\u6839\u636e\u5177\u4f53\u7684\u7f51\u7edc\u8bbe\u5907\u548c\u914d\u7f6e\u800c\u6709\u6240\u4e0d\u540c\u3002\u5982\u679c\u4f60\u5bf9\u5177\u4f53\u7684\u5b9e\u73b0\u6216\u914d\u7f6e\u6709\u7591\u95ee\uff0c\u5efa\u8bae\u67e5\u9605\u76f8\u5173\u6587\u6863\u6216\u4e0e\u7f51\u7edc\u8bbe\u5907\u7684\u5236\u9020\u5546\u8054\u7cfb\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#2","title":"2. \u5b9e\u73b0\u539f\u7406\uff1a","text":"<p>\u4ee5\u4e0b\u662fDCQCN\u7684\u4e00\u822c\u5b9e\u73b0\u539f\u7406\uff1a 1. ECN\uff08Explicit Congestion Notification\uff09\uff1a DCQCN\u4f7f\u7528ECN\u6765\u83b7\u53d6\u7f51\u7edc\u72b6\u6001\u7684\u53cd\u9988\u3002==ECN\u662f\u4e00\u79cd\u7f51\u7edc\u62e5\u585e\u6307\u793a\u673a\u5236==\uff0c==\u5141\u8bb8\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u5411\u5176\u4ed6\u8bbe\u5907\u53d1\u9001\u62e5\u585e\u901a\u77e5\uff0c\u800c\u4e0d\u5fc5\u901a\u8fc7\u4e22\u5305\u6765\u8fdb\u884c\u9690\u5f0f\u62e5\u585e\u68c0\u6d4b==\u3002DCQCN\u7684\u8282\u70b9\u901a\u8fc7\u68c0\u6d4b\u961f\u5217\u6df1\u5ea6\u548c\u5ef6\u8fdf\u7b49\u4fe1\u606f\u6765\u5224\u65ad\u7f51\u7edc\u62e5\u585e\uff0c\u5e76\u4f7f\u7528ECN\u6765\u901a\u77e5\u5176\u4ed6\u8282\u70b9\u3002 2. Quantum Flow Control\uff1a DCQCN\u91c7\u7528Quantum Flow Control\u7684\u601d\u60f3\uff0c\u8fd9\u662f\u4e00\u79cd\u52a8\u6001\u8c03\u6574\u53d1\u9001\u901f\u7387\u7684\u673a\u5236\u3002\u901a\u8fc7\u76d1\u6d4b\u7f51\u7edc\u4e2d\u7684\u62e5\u585e\u72b6\u6001\uff0cDCQCN\u53ef\u4ee5\u8c03\u6574\u6d41\u7684\u901f\u7387\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u6027\u80fd\u7684\u6700\u4f18\u5316\u3002 3. \u5206\u5e03\u5f0f\u63a7\u5236\uff1a DCQCN\u662f\u4e00\u79cd\u5206\u5e03\u5f0f\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u610f\u5473\u7740\u7f51\u7edc\u4e2d\u7684\u591a\u4e2a\u8282\u70b9\u5171\u540c\u53c2\u4e0e\u62e5\u585e\u63a7\u5236\u3002\u6bcf\u4e2a\u8282\u70b9\u90fd\u80fd\u591f\u72ec\u7acb\u5730\u76d1\u6d4b\u548c\u54cd\u5e94\u62e5\u585e\u60c5\u51b5\uff0c\u4ee5\u6700\u5927\u7a0b\u5ea6\u5730\u51cf\u5c11\u7f51\u7edc\u62e5\u585e\u5bf9\u6027\u80fd\u7684\u5f71\u54cd\u3002 4. \u901f\u7387\u9650\u5236\uff1a DCQCN\u901a\u8fc7\u901f\u7387\u9650\u5236\u6765\u786e\u4fdd\u6bcf\u4e2a\u8282\u70b9\u90fd\u4ee5\u9002\u5f53\u7684\u901f\u7387\u53d1\u9001\u6570\u636e\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u67d0\u4e00\u8282\u70b9\u8fc7\u4e8e\u5feb\u901f\u5730\u5411\u7f51\u7edc\u53d1\u9001\u6570\u636e\uff0c\u4ece\u800c\u5bfc\u81f4\u62e5\u585e\u3002 5. \u81ea\u9002\u5e94\u6027\uff1a DCQCN\u662f\u81ea\u9002\u5e94\u7684\uff0c\u53ef\u4ee5\u6839\u636e\u7f51\u7edc\u7684\u52a8\u6001\u53d8\u5316\u8fdb\u884c\u8c03\u6574\u3002\u8fd9\u4f7f\u5f97\u5b83\u80fd\u591f\u9002\u5e94\u4e0d\u540c\u8d1f\u8f7d\u548c\u7f51\u7edc\u6761\u4ef6\uff0c\u4fdd\u6301\u7f51\u7edc\u6027\u80fd\u7684\u7a33\u5b9a\u6027\u548c\u9ad8\u6548\u6027\u3002 6. RoCE\uff08RDMA over Converged Ethernet\uff09\uff1a DCQCN\u901a\u5e38\u4e0eRoCE\u7b49\u6280\u672f\u4e00\u8d77\u4f7f\u7528\uff0c\u4ee5\u63d0\u4f9b\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4e2d\u5fc3\u901a\u4fe1\u3002RoCE\u662f\u4e00\u79cd\u652f\u6301\u5728\u4ee5\u592a\u7f51\u4e0a\u5b9e\u73b0RDMA\uff08Remote Direct Memory Access\uff09\u7684\u534f\u8bae\uff0c\u5b83\u4e0eDCQCN\u534f\u540c\u5de5\u4f5c\u4ee5\u63d0\u4f9b\u4f18\u8d8a\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u6027\u80fd\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cDCQCN\u7684\u5177\u4f53\u5b9e\u73b0\u53ef\u80fd\u4f1a\u56e0\u5236\u9020\u5546\u3001\u8bbe\u5907\u548c\u914d\u7f6e\u800c\u6709\u6240\u4e0d\u540c\u3002\u5982\u679c\u4f60\u5bf9\u5177\u4f53\u7684\u5b9e\u73b0\u6216\u914d\u7f6e\u6709\u7591\u95ee\uff0c\u5efa\u8bae\u67e5\u9605\u76f8\u5173\u6587\u6863\u6216\u4e0e\u7f51\u7edc\u8bbe\u5907\u7684\u5236\u9020\u5546\u8054\u7cfb\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/#3-dcqcn","title":"3. DCQCN\u5982\u4f55\u505a\u5230\uff1a\u5141\u8bb8\u7f51\u7edc\u4e2d\u7684\u8bbe\u5907\u5411\u5176\u4ed6\u8bbe\u5907\u53d1\u9001\u62e5\u585e\u901a\u77e5","text":"<p>DCQCN\uff08Distributed Congestion Control for Quantum Network\uff09\u662f\u4e00\u79cd\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u7528\u4e8e\u4ee5\u592a\u7f51\u7f51\u7edc\u4e2d\u7684\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u3002</p> <p>\u4ee5\u4e0b\u662fDCQCN\u8282\u70b9\u5982\u4f55\u901a\u8fc7\u68c0\u6d4b\u961f\u5217\u6df1\u5ea6\u548c\u5ef6\u8fdf\u7b49\u4fe1\u606f\u6765\u5224\u65ad\u7f51\u7edc\u62e5\u585e\uff0c\u5e76\u4f7f\u7528ECN\u6765\u901a\u77e5\u5176\u4ed6\u8282\u70b9\u7684\u57fa\u672c\u539f\u7406\uff1a 1. \u961f\u5217\u6df1\u5ea6\u68c0\u6d4b\uff1a DCQCN\u8282\u70b9\u4f1a\u76d1\u6d4b\u5176\u53d1\u9001\u961f\u5217\u548c\u63a5\u6536\u961f\u5217\u7684\u6df1\u5ea6\u3002\u961f\u5217\u6df1\u5ea6\u662f\u6307\u961f\u5217\u4e2d\u7b49\u5f85\u4f20\u8f93\u7684\u6570\u636e\u5305\u6570\u91cf\u3002\u5982\u679c\u961f\u5217\u6df1\u5ea6==\u8d85\u8fc7\u4e00\u5b9a\u7684\u9608\u503c==\uff0c\u53ef\u80fd\u8868\u660e\u7f51\u7edc\u51fa\u73b0\u62e5\u585e\u3002\u8fd9\u662f\u56e0\u4e3a\u62e5\u585e\u901a\u5e38\u4f1a\u5bfc\u81f4\u961f\u5217\u4e2d\u79ef\u7d2f\u5927\u91cf\u672a\u4f20\u8f93\u7684\u6570\u636e\u5305\u3002 2. \u5ef6\u8fdf\u68c0\u6d4b\uff1a DCQCN\u8fd8\u4f1a\u76d1\u6d4b\u7f51\u7edc\u4e2d\u7684\u4f20\u8f93\u5ef6\u8fdf\u3002\u5ef6\u8fdf\u662f\u6570\u636e\u4ece\u53d1\u9001\u7aef\u5230\u63a5\u6536\u7aef\u6240\u9700\u7684\u65f6\u95f4\u3002\u5728\u62e5\u585e\u60c5\u51b5\u4e0b\uff0c\u7531\u4e8e\u7f51\u7edc\u8d44\u6e90\u7684\u4e89\u7528\uff0c\u4f20\u8f93\u5ef6\u8fdf\u53ef\u80fd\u4f1a\u589e\u52a0\u3002\u8282\u70b9\u53ef\u4ee5\u901a\u8fc7==\u6bd4\u8f83\u5f53\u524d\u5ef6\u8fdf\u4e0e\u9884\u8bbe\u7684\u9608\u503c\u6765\u5224\u65ad==\u662f\u5426\u5b58\u5728\u62e5\u585e\u3002 3. ECN\uff08Explicit Congestion Notification\uff09\uff1a \u5982\u679c\u8282\u70b9\u68c0\u6d4b\u5230\u62e5\u585e\u7684\u8ff9\u8c61\uff0c\u5b83\u53ef\u4ee5\u901a\u8fc7ECN\u6765\u901a\u77e5\u5176\u4ed6\u8282\u70b9\u3002ECN\u662f\u4e00\u79cd\u5728IP\u6570\u636e\u5305\u5934\u90e8\u4e2d\u7684\u6807\u5fd7\u4f4d\uff0c\u7528\u4e8e\u660e\u786e\u26a0\ufe0f\u6307\u793a\u7f51\u7edc\u4e2d\u7684\u62e5\u585e\u3002\u5f53\u8282\u70b9==\u68c0\u6d4b\u5230\u62e5\u585e\u65f6\uff0c\u5b83\u53ef\u4ee5\u8bbe\u7f6e\u6570\u636e\u5305\u7684ECN\u6807\u5fd7\u4f4d\uff0c\u7136\u540e\u53d1\u9001\u5230\u7f51\u7edc==\u3002 4. ECN\u7684\u4f20\u9012\uff1a \u88ab\u8bbe\u7f6e\u4e86ECN\u6807\u5fd7\u4f4d\u7684\u6570\u636e\u5305\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4f1a\u88ab\u4f20\u9012\u5230\u7f51\u7edc\u7684\u5176\u4ed6\u8282\u70b9\u3002\u4e2d\u95f4\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u53ef\u4ee5\u68c0\u6d4b\u5230\u8fd9\u4e2a\u6807\u5fd7\u4f4d\uff0c\u5e76\u5728\u4f20\u9012\u7ed9\u4e0b\u4e00\u4e2a\u8282\u70b9\u65f6\u7ee7\u7eed\u4fdd\u6301\u3002\u8fd9\u6837\uff0c\u62e5\u585e\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7\u6570\u636e\u5305\u4f20\u9012\u5230\u6574\u4e2a\u7f51\u7edc\u3002 5. \u5176\u4ed6\u8282\u70b9\u7684\u54cd\u5e94\uff1a \u63a5\u6536\u5230\u5e26\u6709\u8bbe\u7f6e\u4e86ECN\u6807\u5fd7\u4f4d\u7684\u6570\u636e\u5305\u7684\u5176\u4ed6\u8282\u70b9 \u53ef\u4ee5\u6839\u636e\u81ea\u8eab\u7684\u62e5\u585e\u63a7\u5236\u7b56\u7565\u6765\u505a\u51fa\u76f8\u5e94\u7684\u54cd\u5e94\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u51cf\u5c0f\u53d1\u9001\u901f\u7387\u3001\u8c03\u6574\u7a97\u53e3\u5927\u5c0f\u7b49\u63aa\u65bd\uff0c\u4ee5\u7f13\u89e3\u7f51\u7edc\u62e5\u585e\u3002</p> <p>\u603b\u4f53\u800c\u8a00\uff0cDCQCN\u5229\u7528\u961f\u5217\u6df1\u5ea6\u3001\u5ef6\u8fdf\u7b49\u4fe1\u606f\u6765\u5224\u65ad\u7f51\u7edc\u62e5\u585e\uff0c\u901a\u8fc7\u8bbe\u7f6eECN\u6807\u5fd7\u4f4d\u6765\u660e\u786e\u901a\u77e5\u5176\u4ed6\u8282\u70b9\u3002\u8fd9\u79cd\u5206\u5e03\u5f0f\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236\u6709\u52a9\u4e8e\u534f\u8c03\u7f51\u7edc\u4e2d\u5404\u4e2a\u8282\u70b9\uff0c\u4ee5\u786e\u4fdd\u9ad8\u6027\u80fd\u548c\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4f20\u8f93\u3002\u8bf7\u6ce8\u610f\uff0c\u5177\u4f53\u5b9e\u73b0\u548c\u53c2\u6570\u53ef\u80fd\u4f1a\u56e0\u786c\u4ef6\u3001\u534f\u8bae\u7248\u672c\u548c\u7f51\u7edc\u914d\u7f6e\u800c\u6709\u6240\u4e0d\u540c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/","title":"Related Work","text":"<p>To reduce PFC messages, lots of end-to-end congestion control mechanisms [1], [2], [4], [6], [9], [37], [46], [49]\u2013[52] are proposed in recent years. They aim to maintain persistent queue length low, which avoids triggering PFC messages. However, it usually requires 1 RTT for the sources to receive the congestion feedback. Within 1 RTT, it is the switch\u2019s local mechanisms (e.g., buffer management and flow control) that determine whether PFC messages are generated. Thus, DSH is complementary to them. Besides the congestion control mechanisms, lots of studies focus on mitigating the impairments of PFC in other ways. PLB [12] leverages load balancing to alleviate PFC\u2019s head-of-line problem. Several approaches (i.e., TCP-Bolt [6], Tag-ger [7], GFC [8], ITSY [11]) focus on detecting, avoiding, and recovering from PFC deadlocks. To reduce the queue buildup caused by incast traffic, P-PFC [10] uses the derivative of buffer change to predict the buffer occupancy, and proactively generates PFC messages to avoid queue buildup. In compar-ison, DSH focuses on efficient headroom allocation and thus is orthogonal to them.</p> <p>\u4e3a\u4e86\u51cf\u5c11PFC\u6d88\u606f\uff0c\u8fd1\u5e74\u6765\u63d0\u51fa\u4e86\u8bb8\u591a\u7aef\u5230\u7aef\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236[1]\uff0c[2]\uff0c[4]\uff0c[6]\uff0c[9]\uff0c[37]\uff0c[46]\uff0c[49]\u2013[52]\u3002\u5b83\u4eec\u7684\u76ee\u6807\u662f\u4fdd\u6301\u6301\u7eed\u7684\u961f\u5217\u957f\u5ea6\u8f83\u4f4e\uff0c\u4ece\u800c\u907f\u514d\u89e6\u53d1PFC\u6d88\u606f\u3002</p> <p>\u7136\u800c\uff0c\u901a\u5e38\u9700\u89811\u4e2a\u5f80\u8fd4\u65f6\u95f4\uff08RTT\uff09\u8ba9\u6e90\u7aef\u63a5\u6536\u5230\u62e5\u585e\u53cd\u9988\u3002\u57281\u4e2aRTT\u5185\uff0c\u51b3\u5b9a\u662f\u5426\u751f\u6210PFC\u6d88\u606f\u7684\u662f\u4ea4\u6362\u673a\u7684\u672c\u5730\u673a\u5236\uff08\u4f8b\u5982\u7f13\u51b2\u533a\u7ba1\u7406\u548c\u6d41\u63a7\u5236\uff09\u3002\u56e0\u6b64\uff0cDSH\u5bf9\u5b83\u4eec\u662f\u4e92\u8865\u7684\u3002</p> <p>\u9664\u4e86\u62e5\u585e\u63a7\u5236\u673a\u5236\u5916\uff0c\u8bb8\u591a\u7814\u7a76\u8fd8\u5173\u6ce8\u4ee5\u5176\u4ed6\u65b9\u5f0f\u7f13\u89e3PFC\u7684\u95ee\u9898\u3002PLB [12] \u5229\u7528\u8d1f\u8f7d\u5e73\u8861\u6765\u51cf\u8f7bPFC\u7684\u5934\u9635\u7ebf\u95ee\u9898\u3002\u4e00\u4e9b\u65b9\u6cd5\uff08\u4f8b\u5982TCP-Bolt [6]\u3001Tagger [7]\u3001GFC [8]\u3001ITSY [11]\uff09\u4e13\u6ce8\u4e8e\u68c0\u6d4b\u3001\u907f\u514d\u548c\u4ecePFC\u6b7b\u9501\u4e2d\u6062\u590d\u3002\u4e3a\u4e86\u51cf\u5c11\u56e0\u6c47\u805a\u6d41\u91cf\u5f15\u8d77\u7684\u961f\u5217\u589e\u52a0\uff0cP-PFC [10] \u4f7f\u7528\u7f13\u51b2\u533a\u53d8\u5316\u7684\u5bfc\u6570\u6765\u9884\u6d4b\u7f13\u51b2\u533a\u5360\u7528\uff0c\u5e76\u4e3b\u52a8\u751f\u6210PFC\u6d88\u606f\u4ee5\u907f\u514d\u961f\u5217\u589e\u52a0\u3002</p> <p>\u76f8\u6bd4\u4e4b\u4e0b\uff0cDSH\u4e13\u6ce8\u4e8e\u9ad8\u6548\u7684\u5934\u90e8\u7a7a\u95f4\u5206\u914d\uff0c\u56e0\u6b64\u4e0e\u5b83\u4eec\u662f\u6b63\u4ea4\u7684\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#_1","title":"\u9644\u6ce8\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#plb-12-pfc","title":"PLB [12] \u5229\u7528\u8d1f\u8f7d\u5e73\u8861\u6765\u51cf\u8f7bPFC\u7684\u5934\u9635\u7ebf\u95ee\u9898","text":"<p>https://zhuanlan.zhihu.com/p/587503952 \u5728\u8fd9\u79cd\u4e0a\u4e0b\u6587\u4e2d\uff0cPLB \u53ef\u80fd\u6307\u7684\u662f \"Packet Level Balancing\"\uff0c\u800c PFC \u53ef\u80fd\u6307\u7684\u662f \"Priority Flow Control\"\u3002\u8fd9\u662f\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u6216\u5176\u4ed6\u7f51\u7edc\u73af\u5883\u4e2d\u7684\u4e00\u4e9b\u6280\u672f\u548c\u673a\u5236\u3002 1. PLB (Packet Level Balancing): Packet Level Balancing \u662f\u4e00\u79cd==\u8d1f\u8f7d\u5e73\u8861\u7684\u6280\u672f==\uff0c\u5b83\u64cd\u4f5c\u5728\u6570\u636e\u5305\u5c42\u9762\uff0c\u786e\u4fdd\u7f51\u7edc\u4e2d\u7684==\u6d41\u91cf\u88ab\u5747\u5300\u5730\u5206\u914d\u5230\u4e0d\u540c\u7684\u8def\u5f84\u6216\u8d44\u6e90==\u4e0a\uff0c\u4ee5\u63d0\u9ad8\u7f51\u7edc\u6027\u80fd\u548c\u907f\u514d\u67d0\u4e9b\u8def\u5f84\u6216\u8d44\u6e90\u8fc7\u8f7d\u7684\u95ee\u9898\u3002 2. PFC (Priority Flow Control): Priority Flow Control \u662f\u4e00\u79cd\u5728\u4ee5\u592a\u7f51\u4e2d\u7684\u6d41\u91cf\u63a7\u5236\u673a\u5236\uff0c\u7528\u4e8e\u5904\u7406\u7f51\u7edc\u62e5\u585e\u548c\u786e\u4fdd\u5173\u952e\u6d41\u91cf\u7684\u53ef\u9760\u4f20\u8f93\u3002PFC \u5141\u8bb8\u8bbe\u5907\u5728\u6709\u9700\u8981\u7684\u60c5\u51b5\u4e0b\u6682\u505c\u6d41\u91cf\uff0c\u4ee5\u907f\u514d\u6570\u636e\u5305\u7684\u4e22\u5931\u3002</p> <p>\u5728\u60a8\u63d0\u5230\u7684\u8bed\u5883\u4e2d\uff0cPLB \u53ef\u80fd\u88ab\u7528\u4e8e\u901a\u8fc7\u8d1f\u8f7d\u5e73\u8861\u6765\u7f13\u89e3 PFC \u7684\u5934\u9635\u7ebf\u95ee\u9898\u3002\u8fd9\u53ef\u80fd\u662f\u6307\u901a\u8fc7\u52a8\u6001\u5730\u8c03\u6574\u6d41\u91cf\u7684\u5206\u5e03\uff0c\u4f7f\u5f97\u7f51\u7edc\u4e2d\u7684\u6d41\u91cf\u66f4\u52a0\u5747\u5300\uff0c\u4ece\u800c\u51cf\u8f7b PFC \u5bfc\u81f4\u7684\u5934\u9635\u7ebf\u95ee\u9898\u3002</p> <p>\u5934\u9635\u7ebf\u901a\u5e38\u662f\u6307\u5728\u4f7f\u7528 PFC \u65f6\uff0c\u7531\u4e8e\u67d0\u4e9b\u6d41\u91cf\u4f18\u5148\u7ea7\u5f97\u5230\u4e86\u66f4\u591a\u7684\u8d44\u6e90\uff0c\u5bfc\u81f4\u5176\u4ed6\u6d41\u91cf\u7684\u6392\u961f\u7b49\u5f85\u65f6\u95f4\u589e\u52a0\uff0c\u4ea7\u751f\u5ef6\u8fdf\u548c\u6027\u80fd\u95ee\u9898\u3002</p> <p>\u8bf7\u6ce8\u610f\uff0c\u8fd9\u53ea\u662f\u57fa\u4e8e\u6211\u5bf9\u60a8\u63d0\u4f9b\u7684\u4fe1\u606f\u7684\u7406\u89e3\u3002\u786e\u5207\u7684\u542b\u4e49\u53ef\u80fd\u9700\u8981\u53c2\u8003\u7279\u5b9a\u6587\u732e\u6216\u4e0a\u4e0b\u6587\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#tcp-bolt-6","title":"TCP-Bolt [6]","text":"<p>https://en.wikipedia.org/wiki/Bolt_(network_protocol)</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#tagger-7","title":"Tagger [7]","text":"<p>...</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#gfc-8","title":"GFC [8]","text":"<p>...</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#itsy-11","title":"ITSY [11]","text":"<p>...</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/#p-pfc-10","title":"P-PFC [10]","text":"<p>\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\u6280\u672f\u8fc5\u901f\u6539\u53d8\u4e86\u5f53\u4eca\u6570\u636e\u4e2d\u5fc3\u5e94\u7528\u7684\u683c\u5c40\u3002\u5bf9\u4e8eRDMA\u7f51\u7edc\u7684\u62e5\u585e\u63a7\u5236\u662f\u4e00\u4e2a\u5173\u952e\u7684\u6311\u6218\u3002 \u4f5c\u4e3a\u7aef\u5230\u7aef\u7684\u7b2c3\u5c42\u62e5\u585e\u63a7\u5236\u673a\u5236\uff0c\u6570\u636e\u4e2d\u5fc3QCN\uff08DCQCN\uff09\u7f13\u89e3\u4e86\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff08PFC\uff09\u7684\u4e0d\u516c\u5e73\u6027\u548c\u5934\u9635\u7ebf\u963b\u585e\u95ee\u9898\u3002 \u7136\u800c\uff0c\u4e00\u4e2a\u65e0\u4e22\u5305\u7684\u7f51\u7edc\u5373\u4f7f\u542f\u7528\u4e86DCQCN\u4e5f\u4e0d\u80fd\u4fdd\u8bc1\u4f4e\u5ef6\u8fdf\u3002 \u5f53\u7f51\u7edc\u62e5\u585e\u53d1\u751f\u65f6\uff0c\u4ea4\u6362\u673a\u961f\u5217\u4ecd\u4f1a\u7531\u4e8e\u7aef\u5230\u7aef\u89e3\u51b3\u65b9\u6848\u7684\u54cd\u5e94\u5ef6\u8fdf\u800c\u79ef\u805a\u3002</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u63d0\u51fa\u4e86\u9884\u6d4b\u6027PFC\uff08P-PFC\uff09\u4ee5\u964d\u4f4eRDMA\u7f51\u7edc\u7684\u5c3e\u5ef6\u8fdf\u3002P-PFC\u76d1\u63a7\u7f13\u51b2\u533a\u5360\u7528\u7684\u5bfc\u6570\uff0c\u9884\u6d4b\u672a\u6765PFC\u89e6\u53d1\u7684\u53d1\u751f\uff0c\u5e76\u63d0\u524d\u4e3b\u52a8\u89e6\u53d1PFC\u6682\u505c\u3002\u5176==\u597d\u5904\u5728\u4e8e\u53ef\u4ee5\u4fdd\u6301\u7f13\u51b2\u533a\u4f7f\u7528\u5728\u8f83\u4f4e\u6c34\u5e73==\uff0c\u56e0\u6b64\u53ef\u4ee5\u63a7\u5236\u5c3e\u5ef6\u8fdf\u3002\u521d\u6b65\u8bc4\u4f30\u7ed3\u679c\u8868\u660e\uff0c\u5728\u8bb8\u591a\u573a\u666f\u4e2d\uff0cP-PFC\u53ef\u4ee5\u5c06\u5c3e\u5ef6\u8fdf\u51cf\u5c11\u5230\u6807\u51c6PFC\u7684\u4e00\u534a\u4ee5\u4e0a\uff0c\u800c\u4e0d\u635f\u5bb3\u541e\u5410\u91cf\u548c\u5e73\u5747\u5ef6\u8fdf\u3002\u6839\u636e\u6211\u4eec\u7684\u5b9e\u9a8c\uff0cP-PFC\u8fd8\u53ef\u4ee5\u4fdd\u62a4\u65e0\u8f9c\u6d41\u3002\u636e\u6211\u4eec\u6240\u77e5\uff0c\u8fd9\u662f\u9996\u6b21\u5229\u7528\u5bfc\u6570\u6539\u8fdb\u65e0\u4e22\u5305RDMA\u7f51\u7edc\u4e2d\u7684PFC\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/","title":"\u6574\u7406\u4e0e\u601d\u8003","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/#1dsh_analysis","title":"1.\u6211\u5bf9\u8bba\u6587DSH_Analysis\u90e8\u5206\u6709\u8f83\u5927\u7591\u60d1\uff0c\u5e76\u81ea\u884c\u4e86\u4e00\u904d\uff0c\u8fd8\u662f\u5f88\u7591\u60d1\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/#answer","title":"Answer: \u8fd9\u8fc7\u7a0b\u7701\u7565\u4e86\u4e00\u7bc7\u524d\u7f6e\u8bba\u6587\uff0c\u56e0\u6b64\u80af\u5b9a\u4e0d\u5fc5\u7ea0\u7ed3","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/#key","title":"Key: \u5bf9\u4e8e\u6570\u5b66\u8bc1\u660e\uff0c\u4ee5\u540e\u5728\u9605\u8bfb\u8bba\u6587\u7684\u9636\u6bb5\u53ef\u4ee5\u9009\u62e9\u6027\u7565\u8fc7\uff01","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/#2","title":"2. \u6211\u5c06\u672c\u7bc7\u8bba\u6587\u7684\u7ec6\u8282\u70b9\u5168\u90e8\u68b3\u7406\u4e86\u4e00\u904d\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/#3-fat-tree","title":"3. \u6211\u8ba4\u4e3afat-tree\u8fd9\u4e2a\u7ed3\u6784\u5f88\u6709\u610f\u601d\uff0c\u7279\u5730\u624b\u7ed8\u6574\u7406\u4e86\u4e00\u904d\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/","title":"3 DSCP BASED PFC","text":"<p>In this section we examine the issues faced by the original VLAN-based PFC and present our DSCP-based PFC solution. VLAN-based PFC carries packet priority in the VLAN tag, which also contains VLAN ID. The coupling of packet priority and VLAN ID created two serious problems in our deployment, leading us to develop a DSCP-based PFC solution. Figure 3(a) shows the packet formats of the PFC pause frame and data packets in the original VLANbased PFC. The pause frame is a layer-2 frame, and does not have a VLAN tag. The VLAN tag for the data packet has four parts: TPID which is fixed to 0x8100, DEI (Drop Eligible Indicator), PCP (Priority Code Point) which is used to carry packet priority, and VID (VLAN identifier) which carries the VLAN ID of the packet. For our purpose, although we need only PCP, VID and PCP cannot be separated. Thus, to support PFC, we have to configure VLAN at both the server and the switch side. In order for the switch ports to support VLAN, we need to put the server facing switch ports into trunk mode (which supports VLAN tagged packets) instead of access mode (which sends and receives untagged packets). The basic PFC functionality works with this configuration, but it leads to two problems.</p> <p>\u5728\u672c\u8282\u4e2d\uff0c\u6211\u4eec\u5c06\u7814\u7a76\u539f\u59cb\u57fa\u4e8e VLAN \u7684 PFC \u6240\u9762\u4e34\u7684\u95ee\u9898\uff0c\u5e76\u4ecb\u7ecd\u6211\u4eec\u57fa\u4e8e DSCP \u7684 PFC \u89e3\u51b3\u65b9\u6848\u3002\u57fa\u4e8e VLAN \u7684 PFC \u5728 VLAN \u6807\u8bb0\u4e2d\u643a\u5e26\u6570\u636e\u5305\u4f18\u5148\u7ea7\uff0c\u5176\u4e2d\u8fd8\u5305\u542b VLAN ID\u3002\u6570\u636e\u5305\u4f18\u5148\u7ea7\u548c VLAN ID \u7684\u8026\u5408\u5728\u6211\u4eec\u7684\u90e8\u7f72\u4e2d\u9020\u6210\u4e86\u4e24\u4e2a\u4e25\u91cd\u95ee\u9898\uff0c\u5bfc\u81f4\u6211\u4eec\u5f00\u53d1\u4e86\u57fa\u4e8e DSCP \u7684 PFC \u89e3\u51b3\u65b9\u6848\u3002</p> <p>\u56fe3(a)\u663e\u793a\u4e86\u539f\u59cb\u57fa\u4e8eVLAN\u7684PFC\u4e2dPFC\u6682\u505c\u5e27\u548c\u6570\u636e\u5305\u7684\u6570\u636e\u5305\u683c\u5f0f\u3002\u6682\u505c\u5e27\u662f\u4e8c\u5c42\u5e27\uff0c\u6ca1\u6709VLAN\u6807\u7b7e\u3002</p> <p>\u6570\u636e\u5305\u7684VLAN\u6807\u7b7e\u7531\u56db\u90e8\u5206\u7ec4\u6210\uff1aTPID\u56fa\u5b9a\u4e3a0x8100\u3001DEI\uff08Drop Eligible Indicator\uff09\u3001PCP\uff08Priority Code Point\uff09\u7528\u4e8e\u627f\u8f7d\u6570\u636e\u5305\u4f18\u5148\u7ea7\u3001VID\uff08VLAN Identifier\uff09\u627f\u8f7dVLAN ID\u6570\u636e\u5305\u7684\u3002</p> <p>\u5c31\u6211\u4eec\u7684\u76ee\u7684\u800c\u8a00\uff0c\u867d\u7136\u6211\u4eec\u53ea\u9700\u8981 PCP\uff0c\u4f46 VID \u548c PCP \u662f\u4e0d\u80fd\u5206\u5f00\u7684\u3002\u56e0\u6b64\uff0c\u4e3a\u4e86\u652f\u6301PFC\uff0c\u6211\u4eec\u5fc5\u987b\u5728\u670d\u52a1\u5668\u7aef\u548c\u4ea4\u6362\u673a\u7aef\u90fd\u914d\u7f6eVLAN\u3002</p> <p>\u4e3a\u4e86\u4f7f\u4ea4\u6362\u673a\u7aef\u53e3\u652f\u6301 VLAN\uff0c\u6211\u4eec\u9700\u8981\u5c06\u9762\u5411\u670d\u52a1\u5668\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u8bbe\u7f6e\u4e3a trunk \u6a21\u5f0f\uff08\u652f\u6301 VLAN \u6807\u8bb0\u6570\u636e\u5305\uff09\uff0c\u800c\u4e0d\u662f access \u6a21\u5f0f\uff08\u53d1\u9001\u548c\u63a5\u6536\u672a\u6807\u8bb0\u6570\u636e\u5305\uff09\u3002\u57fa\u672c PFC \u529f\u80fd\u9002\u7528\u4e8e\u6b64\u914d\u7f6e\uff0c\u4f46\u4f1a\u5bfc\u81f4\u4e24\u4e2a\u95ee\u9898\u3002</p> <p>First, the switch trunk mode has an undesirable interaction with our OS provisioning service. OS provisioning is a fundamental service which needs to run when the server OS needs to be installed or upgraded, and when the servers need to be provisioned or repaired. For data centers at our scale, OS provisioning has to be done automatically. We use PXE (Preboot eXecution Environment) boot to install OS from the network. When a server goes through PXE boot, its NIC does not have VLAN configuration and as a result cannot send or receive packets with VLAN tags. But since the server facing switch ports are configured with trunk mode, these ports can only send packets with VLAN tag. Hence the PXE boot communication between the server and the OS provisioning service is broken. We tried several \u201chacks\u201d to fix this problem, including letting the switches change the switch port configuration based on the guessed state of the servers, and letting the NICs accept all the packets with or without VLAN tag. However, all these proved to be complex and unreliable, and needless to say, non-standard. </p> <p>\u9996\u5148\uff0c\u4ea4\u6362\u673a\u4e2d\u7ee7\u6a21\u5f0f\u4e0e\u6211\u4eec\u7684\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u670d\u52a1\u5b58\u5728\u4e0d\u826f\u4ea4\u4e92\u3002\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u662f\u4e00\u9879\u57fa\u7840\u670d\u52a1\uff0c\u5728\u9700\u8981\u5b89\u88c5\u6216\u5347\u7ea7\u670d\u52a1\u5668\u64cd\u4f5c\u7cfb\u7edf\u3001\u9700\u8981\u914d\u7f6e\u6216\u4fee\u590d\u670d\u52a1\u5668\u65f6\u9700\u8981\u8fd0\u884c\u8be5\u670d\u52a1\u3002 \u5bf9\u4e8e\u6211\u4eec\u89c4\u6a21\u7684\u6570\u636e\u4e2d\u5fc3\uff0c\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u5fc5\u987b\u81ea\u52a8\u5b8c\u6210\u3002 \u6211\u4eec\u4f7f\u7528 PXE\uff08\u9884\u542f\u52a8\u6267\u884c\u73af\u5883\uff09\u5f15\u5bfc\u4ece\u7f51\u7edc\u5b89\u88c5\u64cd\u4f5c\u7cfb\u7edf\u3002 \u5f53\u670d\u52a1\u5668\u8fdb\u884cPXE\u542f\u52a8\u65f6\uff0c\u5176\u7f51\u5361\u6ca1\u6709VLAN\u914d\u7f6e\uff0c\u56e0\u6b64\u65e0\u6cd5\u53d1\u9001\u6216\u63a5\u6536\u5e26\u6709VLAN\u6807\u7b7e\u7684\u6570\u636e\u5305\u3002\u4f46\u7531\u4e8e\u9762\u5411\u670d\u52a1\u5668\u7684\u4ea4\u6362\u673a\u7aef\u53e3\u914d\u7f6e\u4e3a trunk \u6a21\u5f0f\uff0c\u56e0\u6b64\u8fd9\u4e9b\u7aef\u53e3\u53ea\u80fd\u53d1\u9001\u5e26\u6709 VLAN \u6807\u8bb0\u7684\u6570\u636e\u5305\u3002(==\u51b2\u7a81\u70b9==) \u56e0\u6b64\uff0c\u670d\u52a1\u5668\u548c\u64cd\u4f5c\u7cfb\u7edf\u914d\u7f6e\u670d\u52a1\u4e4b\u95f4\u7684 PXE \u542f\u52a8\u901a\u4fe1\u4e2d\u65ad\u3002\u6211\u4eec\u5c1d\u8bd5\u4e86\u51e0\u79cd\u201c\u9ed1\u5ba2\u201d\u6765\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5305\u62ec\u8ba9\u4ea4\u6362\u673a\u6839\u636e\u731c\u6d4b\u7684\u670d\u52a1\u5668\u72b6\u6001\u66f4\u6539\u4ea4\u6362\u673a\u7aef\u53e3\u914d\u7f6e\uff0c\u4ee5\u53ca\u8ba9\u7f51\u5361\u63a5\u53d7\u6240\u6709\u5e26\u6216\u4e0d\u5e26 VLAN \u6807\u8bb0\u7684\u6570\u636e\u5305\u3002\u7136\u800c\uff0c\u6240\u6709\u8fd9\u4e9b\u90fd\u88ab\u8bc1\u660e\u662f\u590d\u6742\u4e14\u4e0d\u53ef\u9760\u7684\uff0c\u800c\u4e14\u4e0d\u7528\u8bf4\uff0c\u4e5f\u662f\u4e0d\u6807\u51c6\u7684\u3002</p> <p>Second, we have moved away from a layer-2 VLAN, and all our switches including the ToR switches are running layer-3 IP forwarding instead of MAC-based layer-2 bridging. A layer-3 network has the benefits of scalability, better management and monitoring, better safety, all public and standard instead of proprietary protocols. However, in a layer-3 network, there is no standard way to preserve the VLAN PCP value when crossing subnet boundaries.</p> <p>\u5176\u6b21\uff0c\u6211\u4eec\u5df2\u7ecf\u653e\u5f03\u4e86\u7b2c 2 \u5c42 VLAN\uff0c\u5e76\u4e14\u5305\u62ec ToR \u4ea4\u6362\u673a\u5728\u5185\u7684\u6240\u6709\u4ea4\u6362\u673a\u90fd\u8fd0\u884c\u7b2c 3 \u5c42 IP \u8f6c\u53d1\uff0c\u800c\u4e0d\u662f\u57fa\u4e8e MAC \u7684\u7b2c 2 \u5c42\u6865\u63a5\u3002\u7b2c\u4e09\u5c42\u7f51\u7edc\u5177\u6709\u53ef\u6269\u5c55\u6027\u3001\u66f4\u597d\u7684\u7ba1\u7406\u548c\u76d1\u63a7\u3001\u66f4\u597d\u7684\u5b89\u5168\u6027\u3001\u6240\u6709\u516c\u5171\u548c\u6807\u51c6\u800c\u4e0d\u662f\u4e13\u6709\u534f\u8bae\u7684\u4f18\u70b9\u3002\u7136\u800c\uff0c\u5728\u7b2c 3 \u5c42\u7f51\u7edc\u4e2d\uff0c\u6ca1\u6709\u6807\u51c6\u65b9\u6cd5\u53ef\u4ee5\u5728\u8de8\u8d8a\u5b50\u7f51\u8fb9\u754c\u65f6\u4fdd\u7559 VLAN PCP \u503c\u3002</p> <p>In both problems, the fundamental issue is that VLANbased PFC unnecessarily couples packet priority and the VLAN ID. We broke this coupling by introducing DSCP-based PFC. Our key observation is that the PFC pause frames do not have a VLAN tag at all. The VLAN tag in data packets is used only for carrying the data packet priority. In the IP world, there is a standard and better way to carry packet priority information, which is the DSCP field in the IP header.</p> <p>\u5728\u8fd9\u4e24\u4e2a\u95ee\u9898\u4e2d\uff0c\u6839\u672c\u95ee\u9898\u662f\u57fa\u4e8e VLAN \u7684 PFC \u4e0d\u5fc5\u8981\u5730\u5c06\u6570\u636e\u5305\u4f18\u5148\u7ea7\u548c VLAN ID \u7ed3\u5408\u8d77\u6765\u3002\u6211\u4eec\u901a\u8fc7\u5f15\u5165\u57fa\u4e8e DSCP \u7684 PFC \u6253\u7834\u4e86\u8fd9\u79cd\u8026\u5408\u3002\u6211\u4eec\u7684\u4e3b\u8981\u89c2\u5bdf\u7ed3\u679c\u662f PFC \u6682\u505c\u5e27\u6839\u672c\u6ca1\u6709 VLAN \u6807\u8bb0\u3002\u6570\u636e\u5305\u4e2d\u7684VLAN\u6807\u7b7e\u4ec5\u7528\u4e8e\u627f\u8f7d\u6570\u636e\u5305\u7684\u4f18\u5148\u7ea7\u3002\u5728IP\u4e16\u754c\u4e2d\uff0c\u6709\u4e00\u79cd\u6807\u51c6\u4e14\u66f4\u597d\u7684\u65b9\u5f0f\u6765\u627f\u8f7d\u6570\u636e\u5305\u4f18\u5148\u7ea7\u4fe1\u606f\uff0c\u8fd9\u5c31\u662fIP\u62a5\u5934\u4e2d\u7684DSCP\u5b57\u6bb5\u3002</p> <p>The solution, as shown in Figure 3(b), is to move the packet priority from the VLAN tag into DSCP. As we can see, the change is small and only touches the data packet format. The PFC pause frame format stays the same. With DSCP-based PFC, data packets no longer need to carry the VLAN tag, which solves both of the problems mentioned earlier. The server facing ports no longer need to be in trunk mode, which means that PXE boot works without any issues. Also, the packet priority information, in form of DSCP value, is correctly propagated by IP routing across subnets.</p> <p>\u89e3\u51b3\u65b9\u6848\u5982\u56fe 3(b) \u6240\u793a\uff0c\u5c06\u6570\u636e\u5305\u4f18\u5148\u7ea7\u4ece VLAN \u6807\u8bb0\u79fb\u81f3 DSCP\u3002\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c==\u53d8\u5316\u5f88\u5c0f\uff0c\u53ea\u6d89\u53ca\u6570\u636e\u5305\u683c\u5f0f==\u3002 ==PFC \u6682\u505c\u5e27\u683c\u5f0f\u4fdd\u6301\u4e0d\u53d8==\u3002\u57fa\u4e8eDSCP\u7684PFC\uff0c\u6570\u636e\u62a5\u6587\u4e0d\u518d\u9700\u8981\u643a\u5e26VLAN Tag\uff0c\u89e3\u51b3\u4e86\u524d\u9762\u63d0\u5230\u7684\u4e24\u4e2a\u95ee\u9898\u3002\u9762\u5411\u7aef\u53e3\u7684\u670d\u52a1\u5668\u4e0d\u518d\u9700\u8981\u5904\u4e8e\u4e2d\u7ee7\u6a21\u5f0f\uff0c\u8fd9\u610f\u5473\u7740 PXE \u5f15\u5bfc\u53ef\u4ee5\u6b63\u5e38\u5de5\u4f5c\u3002\u6b64\u5916\uff0cDSCP \u503c\u5f62\u5f0f\u7684\u6570\u636e\u5305\u4f18\u5148\u7ea7\u4fe1\u606f\u53ef\u4ee5\u901a\u8fc7 IP \u8def\u7531\u5728\u5b50\u7f51\u4e2d\u6b63\u786e\u4f20\u64ad\u3002</p> <p>Of course, DSCP-based PFC does not work for the designs that need to stay in layer-2, e.g., Fibre Channel over Ethernet (FCoE). This is not a problem for us since we do not have any layer-2 networks in our data centers.</p> <p>\u5f53\u7136\uff0c\u57fa\u4e8e DSCP \u7684 PFC \u4e0d\u9002\u7528\u4e8e\u9700\u8981\u4fdd\u7559\u5728\u7b2c 2 \u5c42\u7684\u8bbe\u8ba1\uff0c\u4f8b\u5982\u4ee5\u592a\u7f51\u5149\u7ea4\u901a\u9053 (FCoE)\u3002\u8fd9\u5bf9\u6211\u4eec\u6765\u8bf4\u4e0d\u662f\u95ee\u9898\uff0c\u56e0\u4e3a\u6211\u4eec\u7684\u6570\u636e\u4e2d\u5fc3\u6ca1\u6709\u4efb\u4f55\u7b2c 2 \u5c42\u7f51\u7edc\u3002</p> <p>DSCP-based PFC requires both NICs and switches to classify and queue packets based on the DSCP value instead of the VLAN tag. In addition, the NIC needs to send out data packets with the right DSCP value. Fortunately, the switch and NIC ASICs are flexible enough to implement this. Internally, at each port, the switch or NIC maintains eight Priority Groups (PGs), with each PG can be configured as lossless or lossy. If a PG i (i \u2208 [0, 7]) is configured as lossless, once its ingress buffer occupation exceeds the XOFF threshold, pause frame with priority i will be generated. The mapping between DSCP values and PFC priorities can be flexible and can even be many-to-one. In our implementation, we simply map DSCP value i to PFC priority i.</p> <p>\u57fa\u4e8e DSCP \u7684 PFC \u8981\u6c42 NIC \u548c\u4ea4\u6362\u673a\u90fd\u6839\u636e DSCP \u503c\uff08\u800c\u4e0d\u662f VLAN \u6807\u8bb0\uff09\u5bf9\u6570\u636e\u5305\u8fdb\u884c\u5206\u7c7b\u548c\u6392\u961f\u3002\u6b64\u5916\uff0cNIC\u9700\u8981\u53d1\u9001\u5177\u6709\u6b63\u786eDSCP\u503c\u7684\u6570\u636e\u5305\u3002 \u5e78\u8fd0\u7684\u662f\uff0c\u4ea4\u6362\u673a\u548c NIC ASIC \u8db3\u591f\u7075\u6d3b\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002 \u5728\u5185\u90e8\uff0c\u4ea4\u6362\u673a\u6216 NIC \u5728\u6bcf\u4e2a\u7aef\u53e3\u7ef4\u62a4\u516b\u4e2a\u4f18\u5148\u7ea7\u7ec4 (PG)\uff0c\u6bcf\u4e2a PG \u90fd\u53ef\u4ee5\u914d\u7f6e\u4e3a\u65e0\u635f\u6216\u6709\u635f\u3002 \u5982\u679cPG i (i \u2208 [0, 7])\u914d\u7f6e\u4e3a\u65e0\u635f\uff0c\u4e00\u65e6\u5176\u5165\u53e3\u7f13\u51b2\u533a\u5360\u7528\u8d85\u8fc7XOFF\u9608\u503c\uff0c\u5c31\u4f1a\u751f\u6210\u4f18\u5148\u7ea7\u4e3ai\u7684\u6682\u505c\u5e27\u3002 [i -&gt; i \u54ea\u4e2a\u7ec4\u8d85\u51fa\u9608\u503c\uff0c\u54ea\u4e2a\u7ec4\u5c31\u88ab\u5bf9\u5e94\u6682\u505c] DSCP\u503c\u548cPFC\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\u53ef\u4ee5\u662f\u7075\u6d3b\u7684\uff0c\u751a\u81f3\u53ef\u4ee5\u662f\u591a\u5bf9\u4e00\u7684\u3002\u5728\u6211\u4eec\u7684\u5b9e\u73b0\u4e2d\uff0c\u6211\u4eec\u7b80\u5355\u5730\u5c06 DSCP \u503c i \u6620\u5c04\u5230 PFC \u4f18\u5148\u7ea7 i\u3002</p> <p>Our DSCP-based PFC specification is publicly available, and is supported by all major vendors (Arista Networks, Broadcom, Cisco, Dell, Intel, Juniper, Mellanox, etc.). We believe DSCP-based PFC provides a simpler and more scalable solution than the original VLANbased design for IP networks.</p> <p>\u6211\u4eec\u57fa\u4e8e DSCP \u7684 PFC \u89c4\u8303\u5df2\u516c\u5f00\u53d1\u5e03\uff0c\u5e76\u53d7\u5230\u6240\u6709\u4e3b\u8981\u4f9b\u5e94\u5546\uff08Arista Networks\u3001Broadcom\u3001Cisco\u3001Dell\u3001Intel\u3001Juniper\u3001Mellanox \u7b49\uff09\u7684\u652f\u6301\u3002\u6211\u4eec\u76f8\u4fe1\u57fa\u4e8e DSCP \u7684 PFC \u4e3a IP \u7f51\u7edc\u63d0\u4f9b\u4e86\u6bd4\u539f\u59cb\u57fa\u4e8e VLAN \u7684\u8bbe\u8ba1\u66f4\u7b80\u5355\u4e14\u66f4\u5177\u53ef\u6269\u5c55\u6027\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#tpid","title":"TPID","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#dei-drop-eligible-indicator","title":"DEI (Drop Eligible Indicator)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#pcp-priority-code-point-which-is-used-to-carry-packet-priority","title":"PCP (Priority Code Point) which is used to carry packet priority","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#vid-vlan-identifier-which-carries-the-vlan-id-of-the-packet","title":"VID (VLAN identifier) which carries the VLAN ID of the packet","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#pxe-preboot-execution-environment","title":"PXE (Preboot eXecution Environment)\uff08\u9884\u542f\u52a8\u6267\u884c\u73af\u5883\uff09","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#tor-switches-tor","title":"ToR switches (ToR \u4ea4\u6362\u673a)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#layer-3-ip-forwarding-ip","title":"layer-3 IP forwarding (\u4e09\u5c42IP\u8f6c\u53d1)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#mac-based-layer-2-bridging-mac-2","title":"MAC-based layer-2 bridging. (\u57fa\u4e8e MAC \u7684\u7b2c 2 \u5c42\u6865\u63a5)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#there-is-no-standard-way-to-preserve-the-vlan-pcp-value-when-crossing-subnet-boundaries-vlan-pcp","title":"\u201cthere is no standard way to preserve the VLAN PCP value when crossing subnet boundaries.\u201d \u5728\u8de8\u8d8a\u5b50\u7f51\u8fb9\u754c\u65f6\uff0c\u6ca1\u6709\u6807\u51c6\u65b9\u6cd5\u6765\u4fdd\u7559 VLAN PCP \u503c","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/#dscp-based-pfc-does-not-work-for-the-designs-that-need-to-stay-in-layer-2-dscp-pfc-2","title":"\u201cDSCP-based PFC does not work for the designs that need to stay in layer-2\u201d \u57fa\u4e8e DSCP \u7684 PFC \u4e0d\u9002\u7528\u4e8e\u9700\u8981\u7559\u5728\u7b2c 2 \u5c42\u7684\u8bbe\u8ba1","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/","title":"4.1 RDMA transport livelock(\u4f20\u8f93\u6d3b\u9501)","text":"<p>RDMA transport protocol is designed around the assumption that packets are not dropped due to network congestion. This is achieved by PFC in RoCEv2. However, packet losses can still happen for various other reasons, including FCS errors, and bugs in switch hardware and software [21]. Ideally, we want RDMA performance to degrade gracefully in presence of such errors. Unfortunately, we found that the performance of RDMA degraded drastically even with a very low packet loss rate. We illustrate this with the following simple experiment. We connected two servers A and B, via a single switch (W), and carried out three experiments for RDMA SEND, WRITE, and READ. In the first experiment, A used RDMA SENDs to send messages of size 4MB each to B as fast as possible. The second experiment was similar, except A used RDMA WRITE. In the third experiment B used RDMA READ to read 4MB chunks from A as fast as possible. The switch was configured to drop any packet with the least significant byte of IP ID equals to 0xff. Since our NIC hardware generates IP IDs sequentially, the packet drop rate was 1/256 (0.4%). We found that even with this low packet drop rate, the application level goodput was zero. In other words, the system was in a state of livelock \u2013 the link was fully utilized with line rate, yet the application was not making any progress. The root cause of this problem was the go-back-0 algorithm used for loss recovery by the RDMA transport. Suppose A is sending a message to B. The message is segmented into packets 0, 1, \u00b7 \u00b7 \u00b7 , i, \u00b7 \u00b7 \u00b7 , m. Suppose packet i is dropped. B then sends an N AK(i) to A. After A receives the NAK, it will restart sending the message from packet 0. This go-back-0 approach caused live-lock. A 4MB message is segmented into 4000 packets. Since the packet drop rate is a deterministic 1/256, one packet of the first 256 packets will be dropped. Then the sender will restart from the first packet, again and again, without making any progress. Note that TCP and RDMA transport make different assumptions on the network. TCP assumes a best-effort network, in which packets can be dropped. Thus, TCP stacks incorporate sophisticated retransmission schemes such as SACK [24] to deal with packet drops. On the other hand, RDMA assumes a lossless network, hence our vendor chose to implement a simple go-back-0 approach. In go-back-0, the sender does not need to keep any state for retransmission. This experiment clearly shows that for large network like ours, where packet losses can still occur despite enabling PFC, a more sophisticated retransmission scheme is needed. Recall however, that the RDMA transport is implemented in the NIC. The resource limitation of the NIC we use meant that we could not implement a complex retransmission scheme like SACK. SACK would also be overkill, as packet drops due to network congestion have been eliminated by PFC. Our solution is to replace the go-back-0 with a goback-N scheme. In go-back-N, retransmission starts from the first dropped packet and the previous received packets are not retransmitted. Go-back-N is not ideal as up to RT T \u00d7 C bytes , where C is the link capacity, can be wasted for a single packet drop. But go-back-N is almost as simple as go-back-0, and it avoids livelock. We worked with our NIC provider to implement the go-back-N scheme, and since doing that, we have not observed livelock in our network. We recommend that the RDMA transport should implement go-back-N and should not implement go-back-0.</p> <ol> <li>RDMA \u4f20\u8f93\u534f\u8bae\u662f\u56f4\u7ed5\u6570\u636e\u5305\u4e0d\u4f1a\u56e0\u7f51\u7edc\u62e5\u585e\u800c\u4e22\u5931\u7684\u5047\u8bbe\u800c\u8bbe\u8ba1\u7684\u3002\u8fd9\u662f\u901a\u8fc7 RoCEv2 \u4e2d\u7684 PFC \u5b9e\u73b0\u7684\u3002\u7136\u800c\uff0c\u7531\u4e8e\u5404\u79cd\u5176\u4ed6\u539f\u56e0\uff0c\u6570\u636e\u5305\u4e22\u5931\u4ecd\u7136\u53ef\u80fd\u53d1\u751f\uff0c\u5305\u62ec FCS \u9519\u8bef\u4ee5\u53ca\u4ea4\u6362\u673a\u786c\u4ef6\u548c\u8f6f\u4ef6\u4e2d\u7684\u9519\u8bef [21]\u3002</li> <li>\u7406\u60f3\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u5e0c\u671b RDMA \u6027\u80fd\u5728\u51fa\u73b0\u6b64\u7c7b\u9519\u8bef\u65f6\u80fd\u591f\u9002\u5ea6\u964d\u4f4e\u3002\u4e0d\u5e78\u7684\u662f\uff0c\u6211\u4eec\u53d1\u73b0\u5373\u4f7f\u4e22\u5305\u7387\u975e\u5e38\u4f4e\uff0cRDMA \u7684\u6027\u80fd\u4e5f\u4f1a\u6025\u5267\u4e0b\u964d\u3002</li> <li>\u6211\u4eec\u7528\u4e0b\u9762\u7684\u7b80\u5355\u5b9e\u9a8c\u6765\u8bf4\u660e\u8fd9\u4e00\u70b9\u3002\u6211\u4eec\u901a\u8fc7\u5355\u4e2a\u4ea4\u6362\u673a (W) \u8fde\u63a5\u4e24\u53f0\u670d\u52a1\u5668 A \u548c B\uff0c\u5e76\u5bf9 RDMA SEND\u3001WRITE \u548c READ \u8fdb\u884c\u4e86\u4e09\u4e2a\u5b9e\u9a8c\u3002\u5728\u7b2c\u4e00\u4e2a\u5b9e\u9a8c\u4e2d\uff0cA \u4f7f\u7528 RDMA SEND \u5c3d\u53ef\u80fd\u5feb\u5730\u5411 B \u53d1\u9001\u6bcf\u6761\u5927\u5c0f\u4e3a 4MB \u7684\u6d88\u606f\u3002\u7b2c\u4e8c\u4e2a\u5b9e\u9a8c\u7c7b\u4f3c\uff0c\u9664\u4e86 A \u4f7f\u7528 RDMA WRITE\u3002\u5728\u7b2c\u4e09\u4e2a\u5b9e\u9a8c\u4e2d\uff0cB \u4f7f\u7528 RDMA READ \u5c3d\u53ef\u80fd\u5feb\u5730\u4ece A \u8bfb\u53d6 4MB \u5757\u3002\u4ea4\u6362\u673a\u914d\u7f6e\u4e3a\u4e22\u5f03 IP ID \u6700\u4f4e\u6709\u6548\u5b57\u8282\u7b49\u4e8e 0xff \u7684\u4efb\u4f55\u6570\u636e\u5305\u3002\u7531\u4e8e\u6211\u4eec\u7684 NIC \u786c\u4ef6\u6309\u987a\u5e8f\u751f\u6210 IP ID\uff0c\u56e0\u6b64\u4e22\u5305\u7387\u4e3a 1/256 (0.4%)\u3002</li> <li>\u6211\u4eec\u53d1\u73b0\uff0c\u5373\u4f7f\u4e22\u5305\u7387\u5982\u6b64\u4e4b\u4f4e\uff0c\u5e94\u7528\u7a0b\u5e8f\u7ea7\u522b\u7684\u541e\u5410\u91cf\u4e5f\u4e3a\u96f6\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u7cfb\u7edf\u5904\u4e8e\u6d3b\u9501\u72b6\u6001\u2014\u2014\u94fe\u8def\u4ee5\u7ebf\u901f\u5145\u5206\u5229\u7528\uff0c\u4f46\u5e94\u7528\u7a0b\u5e8f\u6ca1\u6709\u4efb\u4f55\u8fdb\u5c55\u3002</li> <li>\u8be5\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u662f RDMA \u4f20\u8f93\u7528\u4e8e\u4e22\u5931\u6062\u590d\u7684 go-back-0 \u7b97\u6cd5\u3002\u5047\u8bbe A \u6b63\u5728\u5411 B \u53d1\u9001\u4e00\u6761\u6d88\u606f\u3002\u8be5\u6d88\u606f\u88ab\u5206\u6bb5\u4e3a\u6570\u636e\u5305 0\u30011\u3001\u00b7\u00b7\u00b7\u00b7\u3001i\u3001\u00b7\u00b7\u00b7\u3001m\u3002\u5047\u8bbe\u6570\u636e\u5305 i \u88ab\u4e22\u5f03\u3002\u7136\u540e\uff0cB \u5411 A \u53d1\u9001 N AK(i)\u3002A \u6536\u5230 NAK \u540e\uff0c\u5c06\u91cd\u65b0\u4ece\u6570\u636e\u5305 0 \u5f00\u59cb\u53d1\u9001\u6d88\u606f\u3002\u8fd9\u79cd go\u200b\u200b-back-0 \u65b9\u6cd5\u5bfc\u81f4\u4e86\u6d3b\u9501\u3002</li> <li>\u4e00\u6761 4MB \u7684\u6d88\u606f\u88ab\u5206\u5272\u6210 4000 \u4e2a\u6570\u636e\u5305\u3002\u7531\u4e8e\u4e22\u5305\u7387\u662f\u786e\u5b9a\u6027\u7684 1/256\uff0c\u56e0\u6b64\u524d 256 \u4e2a\u6570\u636e\u5305\u4e2d\u7684\u4e00\u4e2a\u6570\u636e\u5305\u5c06\u88ab\u4e22\u5f03\u3002\u7136\u540e\u53d1\u9001\u65b9\u5c06\u4ece\u7b2c\u4e00\u4e2a\u6570\u636e\u5305\u91cd\u65b0\u5f00\u59cb\uff0c\u4e00\u6b21\u53c8\u4e00\u6b21\uff0c\u6ca1\u6709\u4efb\u4f55\u8fdb\u5c55\u3002</li> <li>\u8bf7\u6ce8\u610f\uff0cTCP \u548c RDMA \u4f20\u8f93\u5bf9\u7f51\u7edc\u505a\u51fa\u4e0d\u540c\u7684\u5047\u8bbe\u3002 TCP \u5047\u8bbe\u4e00\u4e2a\u5c3d\u529b\u800c\u4e3a\u7684\u7f51\u7edc(\u5c3d\u6700\u5927\u52aa\u529b\u4ea4\u4ed8)\uff0c\u5728\u8be5\u7f51\u7edc\u4e2d\u6570\u636e\u5305\u53ef\u4ee5\u88ab\u4e22\u5f03\u3002\u56e0\u6b64\uff0cTCP \u5806\u6808\u7ed3\u5408\u4e86\u590d\u6742\u7684\u91cd\u4f20\u65b9\u6848\uff08\u4f8b\u5982 SACK [24]\uff09\u6765\u5904\u7406\u6570\u636e\u5305\u4e22\u5931\u3002</li> <li>\u53e6\u4e00\u65b9\u9762\uff0cRDMA \u5047\u5b9a\u65e0\u635f\u7f51\u7edc\uff0c\u56e0\u6b64\u6211\u4eec\u7684\u4f9b\u5e94\u5546\u9009\u62e9==\u5b9e\u65bd\u7b80\u5355\u7684 go-back-0 \u65b9\u6cd5\u3002\u5728go-back-0\u4e2d\uff0c\u53d1\u9001\u65b9\u4e0d\u9700\u8981\u4e3a\u91cd\u4f20\u4fdd\u7559\u4efb\u4f55\u72b6\u6001==\u3002</li> <li>\u8fd9\u4e2a\u5b9e\u9a8c\u6e05\u695a\u5730\u8868\u660e\uff0c\u5bf9\u4e8e\u50cf\u6211\u4eec\u8fd9\u6837\u7684\u5927\u578b\u7f51\u7edc\uff0c\u5c3d\u7ba1\u542f\u7528\u4e86 PFC\uff0c\u4ecd\u7136\u53ef\u80fd\u53d1\u751f\u4e22\u5305\uff0c\u56e0\u6b64\u9700\u8981\u66f4\u590d\u6742\u7684\u91cd\u4f20\u65b9\u6848\u3002\u4f46\u8bf7\u8bb0\u4f4f\uff0cRDMA \u4f20\u8f93\u662f\u5728 NIC \u4e2d\u5b9e\u73b0\u7684\u3002\u6211\u4eec\u4f7f\u7528\u7684NIC\u7684\u8d44\u6e90\u9650\u5236\u610f\u5473\u7740\u6211\u4eec\u65e0\u6cd5\u5b9e\u73b0\u50cfSACK\u8fd9\u6837\u590d\u6742\u7684\u91cd\u4f20\u65b9\u6848\u3002 SACK \u4e5f\u6ca1\u6709\u5fc5\u8981\uff0c\u56e0\u4e3a PFC \u5df2\u7ecf\u6d88\u9664\u4e86\u7531\u4e8e\u7f51\u7edc\u62e5\u585e\u5bfc\u81f4\u7684\u6570\u636e\u5305\u4e22\u5931\u3002</li> <li>\u6211\u4eec\u7684\u89e3\u51b3\u65b9\u6848\u662f\u7528 goback-N \u65b9\u6848\u66ff\u6362 go-back-0\u3002\u5728go-back-N\u4e2d\uff0c\u91cd\u4f20\u4ece\u7b2c\u4e00\u4e2a\u4e22\u5f03\u7684\u6570\u636e\u5305\u5f00\u59cb\uff0c\u4e4b\u524d\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\u4e0d\u518d\u91cd\u4f20\u3002 </li> <li>==Go-back-N \u5e76\u4e0d\u7406\u60f3\uff0c\u56e0\u4e3a\u6700\u591a RTT \u00d7 C \u5b57\u8282\uff08\u5176\u4e2d C \u662f\u94fe\u8def\u5bb9\u91cf\uff09\u53ef\u80fd\u4f1a\u56e0\u5355\u4e2a\u6570\u636e\u5305\u4e22\u5931\u800c\u88ab\u6d6a\u8d39==\uff08\u597d\u597d\u7406\u89e3\u8fd9\u53e5\u8bdd\u4ec0\u4e48\u542b\u4e49\uff0c\u4e3a\u4ec0\u4e48\u662fRTT*C\uff09\u3002</li> <li>\u4f46\u662f go-back-N \u51e0\u4e4e\u548c go-back-0 \u4e00\u6837\u7b80\u5355\uff0c\u5e76\u4e14\u5b83\u907f\u514d\u4e86\u6d3b\u9501\u3002\u6211\u4eec\u4e0e NIC \u63d0\u4f9b\u5546\u5408\u4f5c\u5b9e\u65bd\u4e86 go-back-N \u65b9\u6848\uff0c\u81ea\u6b64\u4e4b\u540e\uff0c\u6211\u4eec\u6ca1\u6709\u5728\u7f51\u7edc\u4e2d\u89c2\u5bdf\u5230\u6d3b\u9501\u3002\u6211\u4eec\u5efa\u8bae RDMA \u4f20\u8f93\u5e94\u5b9e\u73b0 go-back-N\uff0c\u800c\u4e0d\u5e94\u5b9e\u73b0 go-back-0\u3002</li> </ol>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#fcs-errors-fcs","title":"FCS errors \uff08FCS \u9519\u8bef\uff09","text":"<p>FCS\u9519\u8bef\u662f\u6570\u636e\u901a\u4fe1\u4e2d\u7684\u4e00\u79cd\u9519\u8bef\u7c7b\u578b\uff0c==FCS\u4ee3\u8868\u5e27\u6821\u9a8c\u5e8f\u5217\uff08Frame Check Sequence\uff09==\u3002FCS\u9519\u8bef\u8868\u793a\u5728\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c==\u63a5\u6536\u65b9\u8ba1\u7b97\u51fa\u7684==\u6570\u636e\u5e27\u7684\u6821\u9a8c\u5e8f\u5217\u4e0e==\u63a5\u6536\u5230\u7684==\u6570\u636e\u5e27\u4e2d\u7684\u6821\u9a8c\u5e8f\u5217==\u4e0d\u5339\u914d==\u3002\u8fd9\u8868\u660e\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u53d1\u751f\u4e86\u635f\u574f\u6216\u9519\u8bef\uff0c\u901a\u5e38\u662f\u7531\u4e8e\u566a\u58f0\u3001\u5e72\u6270\u3001\u4fe1\u53f7\u8870\u51cf\u6216\u5176\u4ed6\u901a\u4fe1\u95ee\u9898\u5f15\u8d77\u7684\u3002</p> <p>FCS\u9519\u8bef\u662f\u4e00\u79cd\u6821\u9a8c\u673a\u5236\uff0c\u7528\u4e8e\u68c0\u6d4b\u6570\u636e\u4f20\u8f93\u4e2d\u7684\u9519\u8bef\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u3002\u5f53\u63a5\u6536\u65b9\u68c0\u6d4b\u5230FCS\u9519\u8bef\u65f6\uff0c\u901a\u5e38\u4f1a\u8981\u6c42\u53d1\u9001\u65b9\u91cd\u65b0\u53d1\u9001\u6570\u636e\u5e27\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u51c6\u786e\u4f20\u8f93\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u9ad8\u6570\u636e\u901a\u4fe1\u7684\u53ef\u9760\u6027\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#ps1","title":"ps1: \u4e0a\u8ff0\u68c0\u6d4b\u662f\u5426\u5339\u914d\u7684\u539f\u7406\u662f\u4ec0\u4e48\uff1a","text":"<p>FCS\uff08\u5e27\u6821\u9a8c\u5e8f\u5217\uff09\u9519\u8bef\u7684\u68c0\u6d4b\u539f\u7406\u662f\u901a\u8fc7\u4f7f\u7528\u5faa\u73af\u5197\u4f59\u6821\u9a8c\uff08CRC\uff09\u7b97\u6cd5\u6765\u9a8c\u8bc1\u6570\u636e\u5e27\u7684\u5b8c\u6574\u6027\u3002\u4ee5\u4e0b\u662fFCS\u9519\u8bef\u7684\u68c0\u6d4b\u539f\u7406\uff1a 1. \u53d1\u9001\u65b9\u8ba1\u7b97FCS\uff1a\u5728\u6570\u636e\u5e27\u7684\u53d1\u9001\u7aef\uff0c\u5c06\u6570\u636e\u5e27\u4e2d\u7684\u6570\u636e\u90e8\u5206\u901a\u8fc7CRC\u7b97\u6cd5\u8fdb\u884c\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2aFCS\u503c\u3002\u8fd9\u4e2aFCS\u503c\u662f\u6570\u636e\u5e27\u7684\u6821\u9a8c\u5e8f\u5217\uff0c\u5b83\u5305\u542b\u4e86\u6570\u636e\u7684\u6821\u9a8c\u4fe1\u606f\u3002 2. \u6570\u636e\u4f20\u8f93\uff1a\u6570\u636e\u5e27\u88ab\u4f20\u8f93\u5230\u63a5\u6536\u7aef\u3002\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u5e27\u53ef\u80fd\u53d7\u5230\u5e72\u6270\u3001\u566a\u58f0\u6216\u5176\u4ed6\u95ee\u9898\u7684\u5f71\u54cd\uff0c\u5bfc\u81f4\u5176\u4e2d\u7684\u6570\u636e\u4f4d\u53d1\u751f\u53d8\u5316\u3002 3. \u63a5\u6536\u65b9\u8ba1\u7b97FCS\uff1a\u5728\u6570\u636e\u5e27\u7684\u63a5\u6536\u7aef\uff0c\u63a5\u6536\u5230\u6570\u636e\u5e27\u540e\uff0c\u518d\u6b21\u5c06\u6570\u636e\u5e27\u4e2d\u7684\u6570\u636e\u90e8\u5206\u901a\u8fc7\u76f8\u540c\u7684CRC\u7b97\u6cd5\u8fdb\u884c\u5904\u7406\uff0c\u751f\u6210\u4e00\u4e2a\u65b0\u7684FCS\u503c\u3002 4. \u6bd4\u8f83FCS\uff1a\u63a5\u6536\u65b9\u8ba1\u7b97\u5f97\u5230\u7684\u65b0FCS\u503c\u4e0e\u6570\u636e\u5e27\u4e2d\u539f\u59cb\u7684FCS\u503c\u8fdb\u884c\u6bd4\u8f83\u3002\u5982\u679c\u8fd9\u4e24\u4e2aFCS\u503c\u4e0d\u5339\u914d\uff0c\u5c31\u4f1a\u53d1\u751fFCS\u9519\u8bef\u3002\u8fd9\u8868\u793a\u5728\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c\u6570\u636e\u5e27\u7684\u5185\u5bb9\u5df2\u53d1\u751f\u53d8\u5316\uff0c\u6570\u636e\u5e27\u53ef\u80fd\u5df2\u635f\u574f\u3002 \u5982\u679cFCS\u503c\u5339\u914d\uff0c\u8868\u793a\u6570\u636e\u5e27\u7684\u5b8c\u6574\u6027\u5f97\u5230\u4e86\u4fdd\u969c\uff0c\u6ca1\u6709\u53d1\u751f\u635f\u574f\u3002\u4f46\u5982\u679cFCS\u503c\u4e0d\u5339\u914d\uff0c\u63a5\u6536\u65b9\u901a\u5e38\u4f1a\u4e22\u5f03\u8be5\u6570\u636e\u5e27\u5e76\u8981\u6c42\u53d1\u9001\u65b9\u91cd\u65b0\u53d1\u9001\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u6027\u3002 CRC\u662f\u4e00\u79cd\u5f3a\u5927\u7684\u6821\u9a8c\u7b97\u6cd5\uff0c\u901a\u5e38\u7528\u4e8e\u68c0\u6d4b\u6570\u636e\u4f20\u8f93\u4e2d\u7684\u9519\u8bef\u3002\u5b83\u5728\u8ba1\u7b97FCS\u503c\u65f6\u5c06\u6570\u636e\u5e27\u7684\u6240\u6709\u4f4d\u90fd\u8003\u8651\u5728\u5185\uff0c\u56e0\u6b64\u80fd\u591f\u9ad8\u6548\u5730\u68c0\u6d4b\u5404\u79cd\u7c7b\u578b\u7684\u9519\u8bef\uff0c\u5305\u62ec\u5355\u4f4d\u6bd4\u7279\u9519\u8bef\u548c\u591a\u4f4d\u6bd4\u7279\u9519\u8bef\u3002\u8fd9\u4f7f\u5f97FCS\u9519\u8bef\u68c0\u6d4b\u975e\u5e38\u53ef\u9760\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#ps2-crc","title":"ps2: \u4ecb\u7ecd\u4e00\u4e0bCRC\u7b97\u6cd5\u53ca\u539f\u7406\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#cyclic-redundancy-check","title":"Cyclic Redundancy Check","text":"<p>\u5faa\u73af\u5197\u4f59\u6821\u9a8c\uff08CRC\uff09\u7b97\u6cd5\u662f\u4e00\u79cd\u6821\u9a8c\u548c\u6821\u9a8c\u65b9\u6cd5\uff0c\u7528\u4e8e\u68c0\u6d4b\u548c\u7ea0\u6b63\u6570\u636e\u4f20\u8f93\u4e2d\u7684\u9519\u8bef\u3002CRC\u7b97\u6cd5\u4e3b\u8981\u7528\u4e8e\u6570\u5b57\u901a\u4fe1\u548c\u6570\u636e\u5b58\u50a8\u9886\u57df\uff0c\u4ee5\u9a8c\u8bc1\u6570\u636e\u7684\u5b8c\u6574\u6027\uff0c\u5c24\u5176\u5728\u7f51\u7edc\u901a\u4fe1\u3001\u5b58\u50a8\u4ecb\u8d28\uff08\u5982\u786c\u76d8\u3001\u5149\u76d8\uff09\u7b49\u65b9\u9762\u5e7f\u6cdb\u5e94\u7528\u3002</p> <p>CRC\u7684\u5de5\u4f5c\u539f\u7406\u5982\u4e0b\uff1a 1. \u9009\u62e9\u4e00\u4e2a\u7279\u5b9a\u7684\u591a\u9879\u5f0f\uff1aCRC\u7b97\u6cd5\u7684\u5173\u952e\u662f\u9009\u62e9\u4e00\u4e2a\u591a\u9879\u5f0f\uff0c\u901a\u5e38\u79f0\u4e3a\u751f\u6210\u591a\u9879\u5f0f\uff08\u6216CRC\u591a\u9879\u5f0f\uff09\u3002\u8fd9\u4e2a\u591a\u9879\u5f0f\u7684\u4f4d\u6570\u548c\u7cfb\u6570\u662f\u6839\u636e\u7279\u5b9a\u7684CRC\u6807\u51c6\u6765\u786e\u5b9a\u7684\u3002\u4e0d\u540c\u7684CRC\u6807\u51c6\u4f7f\u7528\u4e0d\u540c\u7684\u751f\u6210\u591a\u9879\u5f0f\u3002 2. \u6570\u636e\u5e27\u5904\u7406\uff1a\u8981\u8ba1\u7b97CRC\u503c\uff0c\u9996\u5148\u9700\u8981\u5c06\u6570\u636e\u5e27\u5206\u6210\u4e24\u90e8\u5206\uff1a\u6570\u636e\u90e8\u5206\u548c\u9644\u52a0\u7684CRC\u5b57\u6bb5\u3002\u6570\u636e\u90e8\u5206\u662f\u8981\u4f20\u8f93\u7684\u6570\u636e\uff0cCRC\u5b57\u6bb5\u662f\u5728\u53d1\u9001\u7aef\u8ba1\u7b97\u7684\u6821\u9a8c\u503c\u3002 3. CRC\u8ba1\u7b97\uff1a\u751f\u6210\u591a\u9879\u5f0f\u88ab\u7528\u6765\u5bf9\u6570\u636e\u90e8\u5206\u8fdb\u884c\u6570\u5b66\u8fd0\u7b97\uff08\u6a212\u9664\u6cd5\uff09\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u4ea7\u751f\u4e00\u4e2a\u4f59\u6570\uff0c\u4e5f\u5c31\u662fCRC\u6821\u9a8c\u503c\u3002 4. \u9644\u52a0CRC\uff1aCRC\u6821\u9a8c\u503c\u9644\u52a0\u5230\u6570\u636e\u5e27\u7684\u672b\u5c3e\u3002 5. \u6570\u636e\u4f20\u8f93\uff1a\u5e26\u6709CRC\u6821\u9a8c\u503c\u7684\u6570\u636e\u5e27\u88ab\u53d1\u9001\u5230\u63a5\u6536\u7aef\u3002 6. CRC\u6821\u9a8c\uff1a\u63a5\u6536\u7aef\u4f7f\u7528\u76f8\u540c\u7684\u751f\u6210\u591a\u9879\u5f0f\u5bf9\u63a5\u6536\u5230\u7684\u6570\u636e\u5e27\u8fdb\u884cCRC\u8ba1\u7b97\u3002\u5982\u679c\u8ba1\u7b97\u5f97\u5230\u7684CRC\u503c\u4e0e\u63a5\u6536\u5230\u7684CRC\u503c\u76f8\u5339\u914d\uff0c\u90a3\u4e48\u6570\u636e\u88ab\u8ba4\u4e3a\u662f\u5b8c\u6574\u7684\u3002\u5982\u679cCRC\u503c\u4e0d\u5339\u914d\uff0c\u5c31\u8868\u793a\u6570\u636e\u5e27\u53ef\u80fd\u5df2\u635f\u574f\u3002</p> <p>CRC\u7b97\u6cd5\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\uff1a - \u9ad8\u6548\u6027\uff1aCRC\u6821\u9a8c\u662f\u4e00\u79cd\u9ad8\u6548\u7684\u6821\u9a8c\u65b9\u6cd5\uff0c\u80fd\u591f\u5feb\u901f\u68c0\u6d4b\u6570\u636e\u4f20\u8f93\u4e2d\u7684\u9519\u8bef\u3002 - \u53ef\u9760\u6027\uff1aCRC\u7b97\u6cd5\u53ef\u4ee5\u68c0\u6d4b\u591a\u79cd\u9519\u8bef\uff0c\u5305\u62ec\u5355\u6bd4\u7279\u548c\u591a\u6bd4\u7279\u9519\u8bef\u3002 - \u7b80\u5355\u6027\uff1aCRC\u8ba1\u7b97\u662f\u57fa\u4e8e\u6a212\u7684\u4e8c\u8fdb\u5236\u9664\u6cd5\uff0c\u8ba1\u7b97\u76f8\u5bf9\u7b80\u5355\u3002 \u4e0d\u8fc7\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\uff0cCRC\u7b97\u6cd5\u4e3b\u8981\u7528\u4e8e\u68c0\u6d4b\u9519\u8bef\uff0c\u800c\u4e0d\u662f\u4fee\u590d\u9519\u8bef\u3002\u5982\u679cCRC\u6821\u9a8c\u5931\u8d25\uff0c\u901a\u5e38\u7684\u505a\u6cd5\u662f\u8981\u6c42\u91cd\u65b0\u4f20\u8f93\u6570\u636e\u6216\u91c7\u53d6\u5176\u4ed6\u7ea0\u9519\u63aa\u65bd\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u6b63\u786e\u6027\u3002\u56e0\u6b64\uff0cCRC\u5728\u6570\u636e\u4f20\u8f93\u7684\u53ef\u9760\u6027\u548c\u5b8c\u6574\u6027\u65b9\u9762\u53d1\u6325\u7740\u91cd\u8981\u7684\u4f5c\u7528\u3002\u4e0d\u540c\u7684\u5e94\u7528\u573a\u666f\u548c\u6807\u51c6\u53ef\u4ee5\u4f7f\u7528\u4e0d\u540c\u7684CRC\u591a\u9879\u5f0f\u6765\u6ee1\u8db3\u7279\u5b9a\u7684\u9700\u6c42\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#ps3-crc","title":"ps3: \u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355CRC\u8ba1\u7b97\u793a\u4f8b","text":"<p>CRC\uff08\u5faa\u73af\u5197\u4f59\u6821\u9a8c\uff09\u7684\u8ba1\u7b97\u6d89\u53ca\u591a\u9879\u5f0f\u8fd0\u7b97\uff0c\u901a\u5e38\u4f7f\u7528\u6a212\u4e8c\u8fdb\u5236\u9664\u6cd5\u8fdb\u884c\u3002\u4e0b\u9762\u5c06\u8be6\u7ec6\u8bf4\u660eCRC\u7684\u8ba1\u7b97\u8fc7\u7a0b\uff0c\u5e76\u63d0\u4f9b\u4e00\u4e2a\u7b80\u5355\u7684\u793a\u4f8b\u3002 1. \u9009\u62e9CRC\u591a\u9879\u5f0f\uff1a\u9996\u5148\uff0c\u9009\u62e9\u4e00\u4e2a\u7279\u5b9a\u7684CRC\u591a\u9879\u5f0f\uff0c\u8be5\u591a\u9879\u5f0f\u901a\u5e38\u4ee5\u4e8c\u8fdb\u5236\u8868\u793a\uff0c\u5e76\u5728\u8ba1\u7b97\u4e2d\u7528\u4e8e\u8fdb\u884c\u9664\u6cd5\u64cd\u4f5c\u3002\u4e0d\u540c\u7684CRC\u6807\u51c6\u4f7f\u7528\u4e0d\u540c\u7684\u591a\u9879\u5f0f\u3002 2. \u6570\u636e\u548cCRC\u5b57\u6bb5\u7684\u6392\u5217\uff1a\u6570\u636e\u5e27\u88ab\u5206\u6210\u4e24\u90e8\u5206\uff0c\u6570\u636e\u90e8\u5206\u548c\u9644\u52a0\u7684CRC\u5b57\u6bb5\u3002\u6570\u636e\u90e8\u5206\u662f\u8981\u4f20\u8f93\u7684\u6570\u636e\uff0cCRC\u5b57\u6bb5\u662f\u5728\u53d1\u9001\u7aef\u8ba1\u7b97\u7684\u6821\u9a8c\u503c\u3002 3. \u6570\u636e\u90e8\u5206\u9644\u52a00\uff1a\u4e3a\u4e86\u8fdb\u884cCRC\u8ba1\u7b97\uff0c\u6570\u636e\u90e8\u5206\u7684\u672b\u5c3e\u901a\u5e38\u4f1a\u9644\u52a0\u4e00\u5b9a\u6570\u91cf\u7684\u96f6\u6bd4\u7279\uff0c\u8fd9\u4e9b\u6bd4\u7279\u7684\u6570\u91cf\u901a\u5e38\u7b49\u4e8eCRC\u591a\u9879\u5f0f\u7684\u4f4d\u6570\u51cf\u4e00\u3002\u8fd9\u786e\u4fdd\u4e86CRC\u8ba1\u7b97\u7684\u6b63\u786e\u6027\u3002 4. CRC\u8ba1\u7b97\uff1a\u63a5\u4e0b\u6765\uff0c\u8fdb\u884c\u6a212\u4e8c\u8fdb\u5236\u9664\u6cd5\u8fd0\u7b97\u3002\u8fd9\u662f\u4e00\u4e2a\u9010\u4f4d\u7684\u5f02\u6216\uff08XOR\uff09\u64cd\u4f5c\u3002\u5177\u4f53\u6b65\u9aa4\u5982\u4e0b\uff1a    a. \u5c06\u6570\u636e\u90e8\u5206\u548c\u9644\u52a0\u7684\u96f6\u6bd4\u7279\u7ec4\u5408\u6210\u4e00\u4e2a\u6574\u4f53\uff0c\u4f5c\u4e3a\u521d\u59cb\u7684\u9664\u6570\u3002    b. \u5c06CRC\u591a\u9879\u5f0f\u4f5c\u4e3a\u9664\u6570\u3002    c. \u5f00\u59cb\u4ece\u6570\u636e\u5e27\u7684\u5de6\u4fa7\uff08\u9ad8\u4f4d\uff09\u5411\u53f3\u4fa7\uff08\u4f4e\u4f4d\uff09\u9010\u4f4d\u5730\u5904\u7406\uff0c\u9010\u4f4d\u5730\u8fdb\u884c\u5f02\u6216\u64cd\u4f5c\u3002    d. \u5982\u679c\u5f53\u524d\u5904\u7406\u7684\u4f4d\u662f1\uff0c\u5219\u6267\u884c\u5f02\u6216\u64cd\u4f5c\u3002\u5982\u679c\u662f0\uff0c\u5219\u4e0d\u6267\u884c\u5f02\u6216\u64cd\u4f5c\u3002    e. \u6301\u7eed\u5904\u7406\u6570\u636e\u5e27\u7684\u6bcf\u4e00\u4e2a\u4f4d\uff0c\u76f4\u5230\u6570\u636e\u5e27\u7684\u6240\u6709\u4f4d\u90fd\u88ab\u5904\u7406\u5b8c\u3002    f. \u6700\u540e\uff0c\u5f97\u5230\u7684\u4f59\u6570\u5c31\u662fCRC\u6821\u9a8c\u503c\u3002 5. \u9644\u52a0CRC\uff1aCRC\u6821\u9a8c\u503c\u88ab\u9644\u52a0\u5230\u6570\u636e\u5e27\u7684\u672b\u5c3e\u3002 6. \u6570\u636e\u4f20\u8f93\uff1a\u5e26\u6709CRC\u6821\u9a8c\u503c\u7684\u6570\u636e\u5e27\u88ab\u53d1\u9001\u5230\u63a5\u6536\u7aef\u3002 7. CRC\u6821\u9a8c\uff1a\u63a5\u6536\u7aef\u4f7f\u7528\u76f8\u540c\u7684CRC\u591a\u9879\u5f0f\u5bf9\u63a5\u6536\u5230\u7684\u6570\u636e\u5e27\u8fdb\u884cCRC\u8ba1\u7b97\uff0c\u5305\u62ec\u6570\u636e\u90e8\u5206\u548c\u63a5\u6536\u5230\u7684CRC\u5b57\u6bb5\u3002\u5982\u679c\u8ba1\u7b97\u5f97\u5230\u7684CRC\u6821\u9a8c\u503c\u4e0e\u63a5\u6536\u5230\u7684CRC\u6821\u9a8c\u503c\u76f8\u5339\u914d\uff0c\u6570\u636e\u88ab\u8ba4\u4e3a\u662f\u5b8c\u6574\u7684\u3002\u5982\u679cCRC\u503c\u4e0d\u5339\u914d\uff0c\u5c31\u8868\u793a\u6570\u636e\u5e27\u53ef\u80fd\u5df2\u635f\u574f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#tcp-assumes-a-best-effort-network-in-which-packets-can-be-dropped-thus-tcp-stacks-incorporate-sophisticated-retransmission-schemes-such-as-sack-24-to-deal-with-packet-drops-tcp-tcp-sack-24","title":"\u201cTCP assumes a best-effort network, in which packets can be dropped. Thus, TCP stacks incorporate sophisticated retransmission schemes such as SACK [24] to deal with packet drops\u201d TCP \u5047\u8bbe\u4e00\u4e2a\u5c3d\u529b\u800c\u4e3a\u7684\u7f51\u7edc\uff0c\u5728\u8be5\u7f51\u7edc\u4e2d\u6570\u636e\u5305\u53ef\u4ee5\u88ab\u4e22\u5f03\u3002\u56e0\u6b64\uff0cTCP \u5806\u6808\u7ed3\u5408\u4e86\u590d\u6742\u7684\u91cd\u4f20\u65b9\u6848\uff08\u4f8b\u5982 SACK [24]\uff09\u6765\u5904\u7406\u6570\u636e\u5305\u4e22\u5931","text":"<p>\u8be5\u9648\u8ff0\u51c6\u786e\u63cf\u8ff0\u4e86\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff08TCP\uff09\u7684\u884c\u4e3a\u3002TCP\u65e8\u5728\u901a\u8fc7\u6f5c\u5728\u4e0d\u53ef\u9760\u7684\u7f51\u7edc\u63d0\u4f9b\u53ef\u9760\u7684\u9762\u5411\u8fde\u63a5\u7684\u901a\u4fe1\u3002\u5b83\u5047\u8bbe\u4e00\u4e2a\u5c3d\u529b\u800c\u4e3a\u7684\u7f51\u7edc\uff0c\u5728\u8fd9\u79cd\u7f51\u7edc\u4e2d\uff0c\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u4e22\u5931\u3001\u5ef6\u8fdf\u3001\u91cd\u590d\u6216\u65e0\u5e8f\u4ea4\u4ed8\u3002</p> <p>\u4e3a\u4e86\u5e94\u5bf9\u6570\u636e\u5305\u4e22\u5931\u7684\u53ef\u80fd\u6027\uff0cTCP\u7ed3\u5408\u4e86\u5404\u79cd\u53ef\u9760\u6570\u636e\u4f20\u8f93\u7684\u673a\u5236\uff0c\u5305\u62ec\uff1a 1. \u91cd\u4f20\uff1a\u5f53\u53d1\u9001\u65b9\u5728\u4e00\u5b9a\u7684\u8d85\u65f6\u671f\u5185\u6ca1\u6709\u6536\u5230\u5df2\u53d1\u9001\u6570\u636e\u5305\u7684\u786e\u8ba4\uff08ACK\uff09\u65f6\uff0c\u5b83\u4f1a\u5047\u5b9a\u6570\u636e\u5305\u4e22\u5931\uff0c\u5e76\u91cd\u65b0\u53d1\u9001\u3002 2. ==\u9009\u62e9\u6027\u786e\u8ba4\uff08SACK\uff09\uff1aSACK\u662fTCP\u7684\u6269\u5c55\uff0c\u5141\u8bb8\u63a5\u6536\u65b9\u901a\u77e5\u53d1\u9001\u65b9\u6709\u5173\u4e22\u5931\u6216\u65e0\u5e8f\u6bb5\u7684\u4fe1\u606f\uff0c\u4ece\u800c\u66f4\u6709\u6548\u5730\u91cd\u4f20\u4e22\u5931\u7684\u6570\u636e\u800c\u4e0d\u662f\u6574\u4e2a\u6d41\u3002== 3. \u6d41\u63a7\u5236\uff1aTCP\u4f7f\u7528\u6d41\u63a7\u5236\u673a\u5236\u6765\u9632\u6b62\u62e5\u585e\uff0c\u5e76\u786e\u4fdd\u6570\u636e\u4ee5\u63a5\u6536\u65b9\u53ef\u4ee5\u5904\u7406\u7684\u901f\u7387\u53d1\u9001\u3002\u8fd9\u53ef\u4ee5\u9632\u6b62\u7f51\u7edc\u8fc7\u8f7d\uff0c\u4ece\u800c\u5bfc\u81f4\u6570\u636e\u5305\u4e22\u5931\u3002\u3010\u6ed1\u52a8\u7a97\u53e3\u3011 4. \u62e5\u585e\u63a7\u5236\uff1aTCP\u8fd8\u5305\u62ec\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\uff0c\u4ee5\u9002\u5e94\u7f51\u7edc\u7684\u53ef\u7528\u5bb9\u91cf\uff0c\u51cf\u5c11\u7531\u4e8e\u62e5\u585e\u800c\u5bfc\u81f4\u7684\u6570\u636e\u5305\u4e22\u5931\u7684\u53ef\u80fd\u6027\u3002 \u8fd9\u4e9b\u673a\u5236\u5171\u540c\u786e\u4fdd\u5728\u4e0d\u53ef\u9760\u7f51\u7edc\u4e0a\u5b9e\u73b0\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93\u3002\u867d\u7136TCP\u5c3d\u6700\u5927\u52aa\u529b\u63d0\u4f9b\u53ef\u9760\u7684\u901a\u4fe1\u901a\u9053\uff0c\u4f46\u9700\u8981\u6ce8\u610f\uff0c\u5728\u9ad8\u5ea6\u62e5\u6324\u6216\u6781\u4e0d\u53ef\u9760\u7684\u7f51\u7edc\u4e2d\uff0c\u5b83\u53ef\u80fd\u65e0\u6cd5\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\u7684\u60c5\u51b5\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#pstcp","title":"ps\uff1a\u89e3\u91ca\u4e00\u4e0bTCP\u7684\u6d41\u63a7\u5236\u6280\u672f","text":"<p>TCP\u7684\u6d41\u63a7\u5236\u662f\u4e00\u79cd\u673a\u5236\uff0c\u7528\u4e8e\u786e\u4fdd\u6570\u636e\u5728\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u4e4b\u95f4\u4ee5\u4e00\u79cd\u5e73\u8861\u548c\u53ef\u63a7\u7684\u901f\u7387\u4f20\u8f93\uff0c\u4ee5\u907f\u514d\u62e5\u585e\u548c\u6570\u636e\u5305\u4e22\u5931\u3002\u6d41\u63a7\u5236\u7684\u4e3b\u8981\u76ee\u6807\u662f\u786e\u4fdd\u53d1\u9001\u65b9\u4e0d\u4f1a\u4ee5\u592a\u5feb\u7684\u901f\u5ea6\u5411\u63a5\u6536\u65b9\u53d1\u9001\u6570\u636e\uff0c\u4ece\u800c\u8d85\u8fc7\u63a5\u6536\u65b9\u7684\u5904\u7406\u80fd\u529b\u3002 \u4e0b\u9762\u662fTCP\u6d41\u63a7\u5236\u7684\u4e00\u4e9b\u5173\u952e\u8981\u70b9\uff1a 1. \u6ed1\u52a8\u7a97\u53e3\uff1aTCP\u4f7f\u7528\u6ed1\u52a8\u7a97\u53e3\u673a\u5236\u6765\u5b9e\u73b0\u6d41\u63a7\u5236\u3002\u53d1\u9001\u65b9\u548c\u63a5\u6536\u65b9\u90fd\u7ef4\u62a4\u4e00\u4e2a\u7a97\u53e3\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u6570\u6216\u6570\u636e\u5305\u6570\u91cf\u4e3a\u5355\u4f4d\uff09\u7684\u503c\u3002\u53d1\u9001\u65b9\u53ef\u4ee5\u53d1\u9001\u7684\u6570\u636e\u91cf\u4e0d\u4f1a\u8d85\u8fc7\u63a5\u6536\u65b9\u62a5\u544a\u7684\u7a97\u53e3\u5927\u5c0f\u3002 2. \u63a5\u6536\u65b9\u901a\u544a\u7a97\u53e3\uff1a\u63a5\u6536\u65b9\u901a\u8fc7TCP\u9996\u90e8\u4e2d\u7684\u901a\u544a\u7a97\u53e3\u5b57\u6bb5\u901a\u77e5\u53d1\u9001\u65b9\u5f53\u524d\u53ef\u4ee5\u63a5\u6536\u7684\u6570\u636e\u91cf\u3002\u901a\u544a\u7a97\u53e3\u7684\u5927\u5c0f\u662f\u52a8\u6001\u8c03\u6574\u7684\uff0c\u6839\u636e\u63a5\u6536\u65b9\u7684\u53ef\u7528\u7f13\u51b2\u533a\u7a7a\u95f4\u548c\u5904\u7406\u80fd\u529b\u3002 3. \u53d1\u9001\u65b9\u7684\u53d1\u9001\u7a97\u53e3\uff1a\u53d1\u9001\u65b9\u7684\u53d1\u9001\u7a97\u53e3\u662f\u53d1\u9001\u65b9\u80fd\u591f\u7ef4\u62a4\u7684\u672a\u786e\u8ba4\u6570\u636e\u7684\u6700\u5927\u6570\u91cf\u3002\u53d1\u9001\u65b9\u4f1a\u6839\u636e\u63a5\u6536\u65b9\u901a\u544a\u7684\u7a97\u53e3\u5927\u5c0f\u6765\u8c03\u6574\u5b83\u53d1\u9001\u7684\u6570\u636e\u91cf\u3002 4. \u52a8\u6001\u8c03\u6574\uff1a\u6d41\u63a7\u5236\u662f\u52a8\u6001\u7684\uff0c\u5141\u8bb8\u9002\u5e94\u7f51\u7edc\u6761\u4ef6\u7684\u53d8\u5316\u3002\u5982\u679c\u63a5\u6536\u65b9\u7684\u7f13\u51b2\u533a\u53d8\u5f97\u62e5\u585e\u6216\u5904\u7406\u80fd\u529b\u53d7\u9650\uff0c\u5b83\u53ef\u4ee5\u51cf\u5c0f\u901a\u544a\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u4ece\u800c\u51cf\u6162\u6570\u636e\u4f20\u8f93\u901f\u7387\u3002\u5982\u679c\u63a5\u6536\u65b9\u6709\u66f4\u591a\u53ef\u7528\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\uff0c\u5b83\u53ef\u4ee5\u589e\u52a0\u901a\u544a\u7a97\u53e3\u7684\u5927\u5c0f\uff0c\u5141\u8bb8\u53d1\u9001\u65b9\u53d1\u9001\u66f4\u591a\u6570\u636e\u3002 5. \u9632\u6b62\u62e5\u585e\uff1a\u6d41\u63a7\u5236\u6709\u52a9\u4e8e\u9632\u6b62\u7f51\u7edc\u62e5\u585e\uff0c\u56e0\u4e3a\u53d1\u9001\u65b9\u4f1a\u6839\u636e\u63a5\u6536\u65b9\u7684\u80fd\u529b\u6765\u8c03\u6574\u53d1\u9001\u901f\u7387\u3002\u8fd9\u6709\u52a9\u4e8e\u4fdd\u6301\u7f51\u7edc\u7684\u7a33\u5b9a\u6027\uff0c\u51cf\u5c11\u6570\u636e\u5305\u4e22\u5931\u7684\u98ce\u9669\u3002 \u603b\u4e4b\uff0cTCP\u7684\u6d41\u63a7\u5236\u662f\u4e00\u79cd\u52a8\u6001\u673a\u5236\uff0c\u901a\u8fc7\u7ef4\u62a4\u53d1\u9001\u7a97\u53e3\u548c\u63a5\u6536\u7a97\u53e3\u5927\u5c0f\u6765\u786e\u4fdd\u6570\u636e\u5728\u7f51\u7edc\u4e2d\u4ee5\u4e00\u79cd\u53ef\u63a7\u548c\u5e73\u8861\u7684\u65b9\u5f0f\u4f20\u8f93\uff0c\u4ee5\u907f\u514d\u62e5\u585e\u548c\u6570\u636e\u5305\u4e22\u5931\u3002\u8fd9\u6709\u52a9\u4e8e\u63d0\u4f9b\u53ef\u9760\u7684\u901a\u4fe1\uff0c\u5c24\u5176\u662f\u5728\u4e0d\u53ef\u9760\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/#ingress-egress","title":"\"Ingress\" \u548c \"egress\" \u662f\u7f51\u7edc\u672f\u8bed\uff0c\u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u6570\u636e\u5305\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u7684\u6d41\u52a8\u65b9\u5411\u3002\u5b83\u4eec\u7684\u542b\u4e49\u5982\u4e0b\uff1a","text":"<ol> <li>Ingress\uff08\u5165\u53e3\uff09\uff1aIngress port \u6307\u7684\u662f\u6570\u636e\u5305\u8fdb\u5165\u7f51\u7edc\u7684\u7269\u7406\u6216\u903b\u8f91\u63a5\u53e3\u6216\u7aef\u53e3\u3002\u8fd9\u662f\u6570\u636e\u5305\u4ece\u5916\u90e8\u7f51\u7edc\u6d41\u5165\u672c\u5730\u7f51\u7edc\u7684\u5730\u65b9\u3002Ingress \u7aef\u53e3\u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u7f51\u7edc\u8bbe\u5907\uff08\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u3001\u9632\u706b\u5899\uff09\u4e0a\u7528\u4e8e\u63a5\u6536\u4f20\u5165\u6570\u636e\u5305\u7684\u63a5\u53e3\u3002\u5728\u5165\u53e3\u5904\u7684\u6570\u636e\u5305\u901a\u5e38\u4f1a\u7ecf\u8fc7\u4e00\u7cfb\u5217\u7684\u5904\u7406\u548c\u8fc7\u6ee4\uff0c\u4ee5\u786e\u5b9a\u5b83\u4eec\u662f\u5426\u5e94\u8be5\u8fdb\u4e00\u6b65\u4f20\u8f93\u5230\u7f51\u7edc\u4e2d\u7684\u5176\u4ed6\u90e8\u5206\u3002</li> <li>Egress\uff08\u51fa\u53e3\uff09\uff1aEgress port \u6307\u7684\u662f\u6570\u636e\u5305\u79bb\u5f00\u7f51\u7edc\u7684\u7269\u7406\u6216\u903b\u8f91\u63a5\u53e3\u6216\u7aef\u53e3\u3002\u8fd9\u662f\u6570\u636e\u5305\u4ece\u672c\u5730\u7f51\u7edc\u6d41\u51fa\u5230\u5916\u90e8\u7f51\u7edc\u7684\u5730\u65b9\u3002Egress \u7aef\u53e3\u901a\u5e38\u7528\u4e8e\u63cf\u8ff0\u7f51\u7edc\u8bbe\u5907\u4e0a\u7528\u4e8e\u53d1\u9001\u6570\u636e\u5305\u5230\u5916\u90e8\u7f51\u7edc\u7684\u63a5\u53e3\u3002\u5728\u51fa\u53e3\u5904\u7684\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u7ecf\u8fc7\u4e00\u4e9b\u989d\u5916\u7684\u5904\u7406\u548c\u8def\u7531\uff0c\u7136\u540e\u88ab\u4f20\u9012\u5230\u76ee\u6807\u7f51\u7edc\u6216\u8bbe\u5907\u3002</li> </ol>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.2_PFC%20Deadlock/","title":"4.2 PFC Deadlock","text":"<p>We once believed that our network is deadlock-free because of its Clos network topology and up-down routing [1, 3, 19]. In such a topology, when a source server sends a packet to a destination server, the packets first climb up to one of the common ancestors of the source and the destination, then go down the path to the destination. Hence there is no cyclic buffer dependency. But to our surprise, we did run into PFC deadlock when we ran a stress test in one of our test clusters. As we will see later, this occurred because the unexpected interaction between PFC and Ethernet packet flooding broke the up-down routing. Before diving into the details of this example, let\u2019s briefly review how a ToR switch forwards an IP packet to a server. Typically servers connected to the same ToR are in the same IP subnet. This subnet is then advertised to the rest of the network, so the rest of the network can forward packets to the ToR switch. Once the ToR receives an IP packet which belongs to one of its servers, it needs to query two tables. One is the ARP table from which the ToR switch can figure out the MAC address of the destination server. The second is the MAC address table from which the ToR switch can figure out with which physical port the MAC address is associated. The ARP table is for layer-3 IP whereas the MAC address table is for layer-2. The ARP table is maintained by the ARP protocol. The switch watches which packet comes from which port to establish the MAC address table. Both tables use timeout to retire outdated entries. The typical timeout values for the ARP and MAC tables are very different: 4 hours and 5 minutes, respectively. The reason for using such disparate timeout values is that the overhead of refreshing the entries in the two tables is very different. The MAC table is automati cally refreshed by hardware as new packets are received, while the ARP table is updated by ARP packets, which are handled by the switch CPU. Hence the ARP table maintenance is more costly and thus the ARP table has a much longer timeout value. Such disparate timeout values can lead to an \u201cincomplete\u201d ARP entry \u2013 i.e. a MAC address is present in the ARP table, but there is no entry in the MAC address table for that MAC address. When a packet destined to such a MAC address arrives, the switch cannot figure out to which port to forward the packet. The standard behavior in this case is for the switch to flood the packet to all its ports. Below let\u2019s use a simplified example as shown in Figure 4 to illustrate how the deadlock happens. We assume all the packets in the example are lossless packets protected by PFC. 1. Server S1 is sending packets to S3 and S5 via path {T0, La, T1}. The purple packets are to S3 and the black packets to S5. S3 is dead, so the purple packets received at port T1.p3 are flooded to the rest ports of T1 including p4. The egress queue of T1.p4 will drop the purple packets once they are at the head of the queue since the destination MAC does not match. But before that, these purple packets are queued there. Also T1.p2 is congested due to incast traffic from S1 and other sources. Hence the black packets are queued in T1. As a result, the ingress port of T1.p3 begins to pause the egress port of La.p1. 2. Consequently, as the black and purple packets build up queues in La, the ingress port of La.p0 begins to pause the egress port of T0.p2. For the same reason, T0.p0\u2019s ingress port begins to pause S1. 3. Server S4 begins to send blue packets to S2 via path {T1, Lb, T0}. S2, unfortunately, is also dead. Port T0.p3 then floods the blue packets to the rest ports including T0.p2. Since all packets, including the blue packets, at the egress port of T0.p2 cannot be drained, the ingress port of T0.p3 begins to pause Lb.p0. 4. As a result, the ingress port of Lb.p1 begins to pause T1.p4, and T1.p1 begins to pause S4. Note that T1.p3 will continue to pause La.p1 even if the black packets leave T1 to S5 after the congestion at T1.p2 is gone. This is because the purple packets cannot be drained as T1.p4 is paused by Lb. A PFC pause frame loop among the four switches is then formed. A deadlock therefore occurs. Once the deadlock occurs, it does not go away even if we restart all the servers. This deadlock is a concrete example of the well-known cyclic buffer dependency (see [12, 18, 22, 36] and references therein). The cause of the cyclic dependency, however, is \u2018new\u2019. It is caused by the flooding behavior of the switch. In an Ethernet switch, once the destination MAC address of a packet is unknown, the packet is Figure 5: The PFC pause frame storm caused by the malfunctioning NIC of one single server (server 0). flooded to all the ports except the receiving port. This \u2018legitimate\u2019 behavior causes the dependency circle to be formed as we have shown in the above example. We need to stop flooding for lossless packets to prevent deadlock from happening. There are several options for us to choose when an ARP entry becomes incomplete (i.e., the IP address to MAC address mapping is there, but the MAC address to port number mapping is not). (1) We forward the packets to the switch CPU and let the switch CPU figure out what to do. (2) We set up the timeout value of the MAC table to be longer than that of the ARP table, so that an ARP entry cannot be incomplete. (3) We drop the lossless packets if their corresponding ARP entry is incomplete. We have chosen option (3). Option (1) may increase the switch CPU overhead. Option (2) needs to either reduce the ARP table timeout value or increase the MAC address table timeout value. If we reduce the ARP table timeout value, we increase the switch CPU overhead for ARP handling. If we increase the MAC address table timeout value, we need longer time to tell when a server becomes disconnected from the switch. Option (3) is a better way to prevent deadlock as it directly prevents the cyclic buffer dependency. The lesson we have learned from the PFC deadlock is that broadcast and multicast are dangerous for a lossless network. To prevent deadlock from happening, we recommend that broadcast and multicast packets should not be put into lossless classes.</p> <p>\u6211\u4eec\u66fe\u7ecf\u76f8\u4fe1\u6211\u4eec\u7684\u7f51\u7edc\u662f\u65e0\u6b7b\u9501\u7684\uff0c\u56e0\u4e3a\u5b83\u7684 Clos \u7f51\u7edc\u62d3\u6251\u548c\u4e0a\u4e0b\u8def\u7531 [1,3,19]\u3002\u5728\u8fd9\u79cd\u62d3\u6251\u4e2d\uff0c\u5f53\u6e90\u670d\u52a1\u5668\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u76ee\u6807\u670d\u52a1\u5668\u65f6\uff0c\u6570\u636e\u5305\u9996\u5148\u722c\u5347\u5230\u6e90\u670d\u52a1\u5668\u548c\u76ee\u6807\u670d\u52a1\u5668\u7684\u5171\u540c\u7956\u5148\u4e4b\u4e00\uff0c\u7136\u540e\u6cbf\u7740\u8def\u5f84\u5411\u4e0b\u5230\u8fbe\u76ee\u6807\u670d\u52a1\u5668\u3002\u56e0\u6b64\u4e0d\u5b58\u5728\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u6027\u3002 \u4f46\u4ee4\u6211\u4eec\u60ca\u8bb6\u7684\u662f\uff0c\u5f53\u6211\u4eec\u5728\u5176\u4e2d\u4e00\u4e2a\u6d4b\u8bd5\u96c6\u7fa4\u4e2d\u8fd0\u884c\u538b\u529b\u6d4b\u8bd5\u65f6\uff0c\u6211\u4eec\u786e\u5b9e\u9047\u5230\u4e86 PFC \u6b7b\u9501\u3002\u6b63\u5982\u6211\u4eec\u7a0d\u540e\u5c06\u770b\u5230\u7684\uff0c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a PFC \u548c\u4ee5\u592a\u7f51\u6570\u636e\u5305\u6d2a\u6cdb\u4e4b\u95f4\u7684\u610f\u5916\u4ea4\u4e92\u7834\u574f\u4e86\u4e0a\u4e0b\u8def\u7531\u3002</p> <p>\u5728\u6df1\u5165\u4e86\u89e3\u6b64\u793a\u4f8b\u7684\u8be6\u7ec6\u4fe1\u606f\u4e4b\u524d\uff0c\u6211\u4eec\u5148\u7b80\u8981\u56de\u987e\u4e00\u4e0b ToR \u4ea4\u6362\u673a\u5982\u4f55\u5c06 IP \u6570\u636e\u5305\u8f6c\u53d1\u5230\u670d\u52a1\u5668\u3002 \u901a\u5e38\uff0c\u8fde\u63a5\u5230\u540c\u4e00 ToR \u7684\u670d\u52a1\u5668\u4f4d\u4e8e\u540c\u4e00 IP \u5b50\u7f51\u4e2d\u3002\u7136\u540e\u5c06\u8be5\u5b50\u7f51\u901a\u544a\u5230\u7f51\u7edc\u7684\u5176\u4f59\u90e8\u5206\uff0c\u4ee5\u4fbf\u7f51\u7edc\u7684\u5176\u4f59\u90e8\u5206\u53ef\u4ee5\u5c06\u6570\u636e\u5305\u8f6c\u53d1\u5230 ToR \u4ea4\u6362\u673a\u3002 ==\u4e00\u65e6 ToR \u6536\u5230\u5c5e\u4e8e\u5176\u4e00\u53f0\u670d\u52a1\u5668\u7684 IP \u6570\u636e\u5305\uff0c\u5b83\u5c31\u9700\u8981\u67e5\u8be2\u4e24\u4e2a\u8868: \u7b2c\u4e00\u4e2a\u662f ARP \u8868\uff0cToR \u4ea4\u6362\u673a\u53ef\u4ee5\u4ece\u8be5\u8868\u4e2d\u627e\u51fa\u76ee\u6807\u670d\u52a1\u5668\u7684 MAC \u5730\u5740\u3002\u7b2c\u4e8c\u4e2a\u662f MAC \u5730\u5740\u8868\uff0cToR \u4ea4\u6362\u673a\u53ef\u4ee5\u4ece\u4e2d\u627e\u51fa\u8be5 MAC \u5730\u5740\u4e0e\u54ea\u4e2a\u7269\u7406\u7aef\u53e3\u5173\u8054\u3002 ARP \u8868\u7528\u4e8e\u7b2c 3 \u5c42 IP\uff0c\u800c MAC \u5730\u5740\u8868\u7528\u4e8e\u7b2c 2 \u5c42\u3002 ARP \u8868\u7531 ARP \u534f\u8bae\u7ef4\u62a4\u3002\u4ea4\u6362\u673a\u76d1\u89c6\u54ea\u4e2a\u6570\u636e\u5305\u6765\u81ea\u54ea\u4e2a\u7aef\u53e3\uff0c\u4ee5\u5efa\u7acb MAC \u5730\u5740\u8868\u3002== \u4e24\u4e2a\u8868\u90fd\u4f7f\u7528\u8d85\u65f6\u6765\u6dd8\u6c70\u8fc7\u65f6\u7684\u6761\u76ee\u3002 ARP \u548c MAC \u8868\u7684\u5178\u578b\u8d85\u65f6\u503c\u975e\u5e38\u4e0d\u540c\uff1a\u5206\u522b\u4e3a 4 \u5c0f\u65f6\u548c 5 \u5206\u949f\u3002 \u4f7f\u7528\u5982\u6b64\u4e0d\u540c\u7684\u8d85\u65f6\u503c\u7684\u539f\u56e0\u662f\u5237\u65b0\u4e24\u4e2a\u8868\u4e2d\u7684\u6761\u76ee\u7684\u5f00\u9500\u975e\u5e38\u4e0d\u540c\u3002 \u5f53\u6536\u5230\u65b0\u6570\u636e\u5305\u65f6\uff0cMAC \u8868\u4f1a\u7531\u786c\u4ef6\u81ea\u52a8\u5237\u65b0; \u800c ARP \u8868\u5219\u7531 ARP \u6570\u636e\u5305\u66f4\u65b0\uff0c\u7531\u4ea4\u6362\u673a CPU \u5904\u7406\u3002\u56e0\u6b64 ARP \u8868\u7684\u7ef4\u62a4\u6210\u672c\u66f4\u9ad8\uff0c\u56e0\u6b64 ARP \u8868\u7684\u8d85\u65f6\u503c\u66f4\u957f\u3002 \u8fd9\u79cd\u4e0d\u540c\u7684\u8d85\u65f6\u503c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u201c\u4e0d\u5b8c\u6574\u201d\u7684 ARP \u6761\u76ee\uff0c\u5373 ARP \u8868\u4e2d\u5b58\u5728 MAC \u5730\u5740\uff0c\u4f46 MAC \u5730\u5740\u8868\u4e2d\u6ca1\u6709\u8be5 MAC \u5730\u5740\u7684\u6761\u76ee\u3002\u5f53\u53d1\u5f80\u6b64\u7c7b MAC \u5730\u5740\u7684\u6570\u636e\u5305\u5230\u8fbe\u65f6\uff0c\u4ea4\u6362\u673a\u65e0\u6cd5\u786e\u5b9a\u5c06\u6570\u636e\u5305\u8f6c\u53d1\u5230\u54ea\u4e2a\u7aef\u53e3(\u56e0\u4e3aMAC\u5730\u5740\u8868\u63d0\u4f9b\u7684\u7269\u7406\u7aef\u53e3\u4f4d\u7f6e\u7f3a\u5931)\u3002=&gt; \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6807\u51c6\u884c\u4e3a\u662f\u4ea4\u6362\u673a\u5c06\u6570\u636e\u5305\u6d2a\u6cdb\u5230\u5176\u6240\u6709\u7aef\u53e3\u3002</p> <p>Below let\u2019s use a simplified example as shown in Figure 4 to illustrate how the deadlock happens. We assume all the packets in the example are lossless packets protected by PFC 1. \u670d\u52a1\u5668 S1 \u901a\u8fc7\u8def\u5f84 {T0, La, T1} \u5411 S3 \u548c S5 \u53d1\u9001\u6570\u636e\u5305\u3002\u7d2b\u8272\u6570\u636e\u5305\u53d1\u9001\u81f3 S3\uff0c\u9ed1\u8272\u6570\u636e\u5305\u53d1\u9001\u81f3 S5\u3002 S3 \u5df2\u5931\u6548\uff0c\u56e0\u6b64\u5728\u7aef\u53e3 T1.p3 \u6536\u5230\u7684\u7d2b\u8272\u6570\u636e\u5305\u5c06\u88ab\u6d2a\u6cdb\u5230 T1 \u7684\u5176\u4f59\u7aef\u53e3\uff08\u5305\u62ec p4\uff09\u3010\u4e00\u65e6\u6570\u636e\u5305\u7684\u76ee\u7684MAC\u5730\u5740\u672a\u77e5\uff0c\u6570\u636e\u5305\u5c31\u4f1a\u88ab\u6d2a\u6cdb\u5230\u9664\u63a5\u6536\u7aef\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7aef\u53e3\u3011\u3002 2. \u4e00\u65e6\u7d2b\u8272\u6570\u636e\u5305\u4f4d\u4e8e\u961f\u5217\u5934\u90e8\uff0cT1.p4 \u7684\u51fa\u53e3\u961f\u5217\u5c31\u4f1a\u4e22\u5f03\u5b83\u4eec\uff0c\u56e0\u4e3a\u76ee\u6807 MAC \u4e0d\u5339\u914d\u3002\u4f46\u5728\u6b64\u4e4b\u524d\uff0c\u8fd9\u4e9b\u7d2b\u8272\u6570\u636e\u5305\u5c31\u5728\u90a3\u91cc\u6392\u961f\u3002 3. \u6b64\u5916\uff0c\u7531\u4e8e\u6765\u81ea S1 \u548c\u5176\u4ed6\u6765\u6e90\u7684\u7ec4\u64ad\u6d41\u91cf\uff0cT1.p2 \u4e5f\u53d1\u751f\u62e5\u585e\u3002\u56e0\u6b64\uff0c\u9ed1\u8272\u6570\u636e\u5305\u5728 T1 \u4e2d\u6392\u961f\u3002\u7ed3\u679c\uff0cT1.p3\u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505cLa.p1\u7684\u51fa\u53e3\u7aef\u53e3\u3002  4. \u56e0\u6b64\uff0c\u5f53\u9ed1\u8272\u548c\u7d2b\u8272\u6570\u636e\u5305\u5728 La \u4e2d\u5efa\u7acb\u961f\u5217\u65f6\uff0cLa.p0 \u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505c T0.p2 \u7684\u51fa\u53e3\u7aef\u53e3\u3002\u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0cT0.p0 \u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505c S1\u3010s1\u662f\u63d0\u4f9b\u65b9\uff0c\u6536\u5230pfc\u540e\u8981\u6682\u505c\u3011\u3002  5. \u670d\u52a1\u5668S4\u5f00\u59cb\u901a\u8fc7\u8def\u5f84{T1\uff0cLb\uff0cT0}\u5411S2\u53d1\u9001\u84dd\u8272\u6570\u636e\u5305\u3002\u4e0d\u5e78\u7684\u662f\uff0cS2\u4e5f\u6b7b\u4e86\u3002\u7136\u540e\uff0c\u7aef\u53e3 T0.p3\u3010\u662f\u63a5\u6536\u7aef\u53e3\u3011 \u5c06\u84dd\u8272\u6570\u636e\u5305\u6cdb\u6d2a\u5230\u5305\u62ec T0.p2 \u5728\u5185\u7684\u5176\u4f59\u7aef\u53e3\u3002\u7531\u4e8eT0.p2\u51fa\u7aef\u53e3\u7684\u6240\u6709\u6570\u636e\u5305\uff08\u5305\u62ec\u84dd\u8272\u6570\u636e\u5305\uff09\u65e0\u6cd5\u88ab\u6392\u51fa\u3010\u56e0\u4e3a\uff1a\u4e0a\u8ff04.\u4e2dLa.p0 \u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505c T0.p2 \u7684\u51fa\u53e3\u7aef\u53e3\u3011\uff0c\u56e0\u6b64T0.p3\u7684\u5165\u7aef\u53e3\u5f00\u59cb\u6682\u505cLb.p0\u3002  6. \u7ed3\u679c\uff0cLb.p1\u7684\u5165\u7aef\u53e3\u5f00\u59cb\u6682\u505cT1.p4\uff0cT1.p1\u5f00\u59cb\u6682\u505cS4\u3002 \u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u5728 T1.p2 \u7684\u62e5\u585e\u6d88\u5931\u540e\u9ed1\u8272\u6570\u636e\u5305\u79bb\u5f00 T1 \u5230 S5\uff0cT1.p3 \u4e5f\u4f1a\u7ee7\u7eed\u6682\u505c La.p1\u3002\u8fd9\u662f\u56e0\u4e3a T1.p4 \u88ab Lb \u6682\u505c\uff0c\u56e0\u6b64\u7d2b\u8272\u6570\u636e\u5305\u65e0\u6cd5\u88ab\u6392\u51fa\u3002\u7136\u540e\u5728\u56db\u4e2a\u5f00\u5173\u4e4b\u95f4\u5f62\u6210PFC\u6682\u505c\u5e27\u73af\u8def\u3002\u56e0\u6b64\u51fa\u73b0\u6b7b\u9501\u3002\u4e00\u65e6\u53d1\u751f\u6b7b\u9501\uff0c\u5373\u4f7f\u6211\u4eec\u91cd\u65b0\u542f\u52a8\u6240\u6709\u670d\u52a1\u5668\uff0c\u6b7b\u9501\u4e5f\u4e0d\u4f1a\u6d88\u5931\u3002 \u8fd9\u79cd\u6b7b\u9501\u662f\u4f17\u6240\u5468\u77e5\u7684\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u6027\u7684\u5177\u4f53\u793a\u4f8b\uff08\u53c2\u89c1[12,18,22,36]\u53ca\u5176\u4e2d\u7684\u53c2\u8003\u6587\u732e\uff09\u3002\u7136\u800c\uff0c\u5faa\u73af\u4f9d\u8d56\u7684\u539f\u56e0\u662f\u201c\u65b0\u7684\u201d\u3002\u8fd9\u662f\u7531\u4ea4\u6362\u673a\u7684\u6d2a\u6cdb\u884c\u4e3a\u5f15\u8d77\u7684\u3002==\u5728\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u4e2d\uff0c\u4e00\u65e6\u6570\u636e\u5305\u7684\u76ee\u7684MAC\u5730\u5740\u672a\u77e5\uff0c\u6570\u636e\u5305\u5c31\u4f1a\u88ab\u6d2a\u6cdb\u5230\u9664\u63a5\u6536\u7aef\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7aef\u53e3==\u3002\u6b63\u5982\u6211\u4eec\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u6240\u793a\uff0c\u8fd9\u79cd\u201c\u5408\u6cd5\u201d\u884c\u4e3a\u4f1a\u5bfc\u81f4\u4f9d\u8d56\u5708\u7684\u5f62\u6210\u3002</p> <p>\u6211\u4eec\u9700\u8981\u505c\u6b62\u65e0\u635f\u6570\u636e\u5305\u7684\u6cdb\u6d2a\uff0c\u4ee5\u9632\u6b62\u6b7b\u9501\u7684\u53d1\u751f\u3002 \u5f53 ARP \u6761\u76ee\u4e0d\u5b8c\u6574\u65f6\uff08\u5373 IP \u5730\u5740\u5230 MAC \u5730\u5740\u7684\u6620\u5c04\u5b58\u5728\uff0c\u4f46 MAC \u5730\u5740\u5230\u7aef\u53e3\u53f7\u7684\u6620\u5c04\u4e0d\u5b58\u5728\uff09\uff0c\u6211\u4eec\u53ef\u4ee5\u9009\u62e9\u591a\u79cd\u9009\u9879\u3002 (1) \u6211\u4eec\u5c06\u6570\u636e\u5305\u8f6c\u53d1\u7ed9\u4ea4\u6362\u673aCPU\uff0c\u8ba9\u4ea4\u6362\u673aCPU\u51b3\u5b9a\u8981\u505a\u4ec0\u4e48\u3002  (2) \u6211\u4eec\u5c06MAC\u8868\u7684\u8d85\u65f6\u503c\u8bbe\u7f6e\u5f97\u6bd4ARP\u8868\u7684\u8d85\u65f6\u503c\u957f\uff0c\u8fd9\u6837\u5c31\u4e0d\u4f1a\u51fa\u73b0ARP\u8868\u9879\u4e0d\u5b8c\u6574\u7684\u60c5\u51b5\u3002  (3) \u5982\u679c\u5bf9\u5e94\u7684 ARP \u6761\u76ee\u4e0d\u5b8c\u6574\uff0c\u6211\u4eec\u5c06\u4e22\u5f03\u65e0\u635f\u6570\u636e\u5305\u3002 \u6211\u4eec\u9009\u62e9\u4e86\u9009\u9879\uff083\uff09\u3002\u9009\u9879\uff081\uff09\u53ef\u80fd\u4f1a\u589e\u52a0\u4ea4\u6362\u673aCPU\u5f00\u9500\u3002\u9009\u9879\uff082\uff09\u9700\u8981\u51cf\u5c11 ARP \u8868\u8d85\u65f6\u503c\u6216\u589e\u52a0 MAC \u5730\u5740\u8868\u8d85\u65f6\u503c\u3002\u5982\u679c\u6211\u4eec\u51cf\u5c11 ARP \u8868\u8d85\u65f6\u503c\uff0c\u5219\u4f1a\u589e\u52a0\u7528\u4e8e ARP \u5904\u7406\u7684\u4ea4\u6362\u673a CPU \u5f00\u9500\u3002\u5982\u679c\u6211\u4eec\u589e\u52a0 MAC \u5730\u5740\u8868\u8d85\u65f6\u503c\uff0c\u6211\u4eec\u9700\u8981\u66f4\u957f\u7684\u65f6\u95f4\u6765\u5224\u65ad\u670d\u52a1\u5668\u4f55\u65f6\u4e0e\u4ea4\u6362\u673a\u65ad\u5f00\u8fde\u63a5\u3002\u9009\u9879\uff083\uff09\u662f\u9632\u6b62\u6b7b\u9501\u7684\u66f4\u597d\u65b9\u6cd5\uff0c\u56e0\u4e3a\u5b83\u76f4\u63a5\u9632\u6b62\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u6027\u3002\u6211\u4eec\u4ece PFC \u6b7b\u9501\u4e2d\u5b66\u5230\u7684\u6559\u8bad\u662f\uff0c\u5e7f\u64ad\u548c\u7ec4\u64ad\u5bf9\u4e8e\u65e0\u635f\u7f51\u7edc\u6765\u8bf4\u662f\u5371\u9669\u7684\u3002\u4e3a\u4e86\u9632\u6b62\u6b7b\u9501\u7684\u53d1\u751f\uff0c\u6211\u4eec\u5efa\u8bae\u4e0d\u8981\u5c06\u5e7f\u64ad\u548c\u7ec4\u64ad\u6570\u636e\u5305\u653e\u5165\u65e0\u635f\u7c7b\u3002</p> <p>![[Pasted image 20231106201409.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.3_NIC_PFC_pause_frame_storm/","title":"4.3 NIC PFC pause frame storm","text":"<p>PFC pause frames prevent packets from been dropped by pausing the upstream devices. But PFC can cause collateral damage to innocent flows due to the head-ofline blocking. We illustrate the worst-case scenario in Figure 5 1: 1. The malfunctioning NIC of server 0 continually sends pause frames to its ToR switch; 2. The ToR switch in turn pauses all the rest ports including all the upstream ports to the Leaf switches; 3. The Leaf switches pause the Spine switches; 4. The Spine switches pause the rest of the Leaf switches; 5. The rest of the Leaf switches pause their ToR switches; 6. The ToR switches pause the servers that connect to them. In this case, a single malfunctioning NIC may block the entire network from transmitting. We call this NIC PFC pause frame storm, or PFC storm for abbreviation. To our surprise, we observed PFC storms in our networks multiple times and PFC storms caused several incidents which we will describe in Section 6. The root-cause of the PFC storm problem is a bug in the NIC\u2019s receiving pipeline. The bug stopped the NIC from handling the packets it received. As a result, the NIC\u2019s receiving buffer filled, and the NIC began to send out pause frames all the time. We have worked with the NIC provider to fix this NIC bug. Furthermore, to prevent PFC storms from hurting the network, we have implemented two watchdogs at both the NIC and the ToR switches as follows. On the NIC side, we worked with the NIC provider to build a PFC storm prevention watchdog. This is possible because the NIC has a separate micro-controller which can be used to monitor the NIC receiving side pipeline. Once the NIC micro-controller detects the receiving pipeline has been stopped for a period of time (default to 100ms) and the NIC is generating the pause frames, the micro-controller will disable the NIC from generating pause frames. Our experience with PFC storm is that once the NIC enters the storm mode, the server is disconnected from the network since the NIC is not functioning well anymore. The NIC watchdog is not able to rescue the server. Instead, its goal is to prevent the pause frame storms from hurting the rest of the network. On the ToR switch side, we worked with the switch providers to build a switch watchdog to monitor the server facing ports. Once a server facing egress port is queuing packets which cannot be drained, and at the same time, the port is receiving continuous pause frames from the NIC, the switch will disable the lossless mode for the port and discard the lossless packets to and from the NIC. Similar to the NIC side watchdog, it is to prevent pause frames from the malfunctioning NIC from propagating into the network. Once the switch detects that the pause frames from the NIC disappear for a period of time (default to 200ms), it will re-enable the lossless mode for the port. These two watchdogs are complementary to each other. One of them should be sufficient to stop the NIC PFC storm. We have implemented both for double insurance. Note that there is a small difference in the two watchdog implementations. The switch watchdog will reenable the lossless mode once pause frames are gone, whereas the NIC watchdog does not re-enable the lossless mode. This is because we have observed once the NIC enters the PFC storm mode, it never comes back. Hence re-enabling the lossless mode is not needed for the NIC. We also have observed that the NIC PFC storm problem typically can be fixed by a server reboot. Hence once the NIC is not functioning, our server management system will try to repair (reboot, reimage etc.) the server. Repairing takes tens of minutes. The NIC watchdog is to limit the damage of the problematic NIC to hundreds of milliseconds before server repair kicks in. Once the server is repaired successfully and pause frames from the servers are gone, the switch can reenable the lossless mode for the corresponding switch port automatically. Knowledgable readers may wonder about the interactions between the two watchdogs. Once the NIC watchdog disables the NIC pause frames, the switch watchdog will re-enable the lossless mode for the corresponding switch port. The packets to the NIC will either dropped by the switch (if the MAC address of the NIC times out) or dropped by the NIC (since the NIC receiving pipeline is not functioning). In either case, the NIC PFC storm cannot cause damage to the whole network. We recommend both switches and NICs should implement the watchdogs for NIC PFC storm prevention.</p> <p>PFC \u6682\u505c\u5e27\u901a\u8fc7\u6682\u505c\u4e0a\u6e38\u8bbe\u5907\u6765\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\u3002\u4f46\u7531\u4e8e\u5934\u7ebf\u963b\u585e\uff0cPFC \u53ef\u80fd\u4f1a\u5bf9\u65e0\u8f9c\u6d41\u91cf\u9020\u6210\u9644\u5e26\u635f\u5bb3\u3002\u6211\u4eec\u5728\u56fe 5 1 \u4e2d\u8bf4\u660e\u4e86\u6700\u574f\u7684\u60c5\u51b5\uff1a  1. \u670d\u52a1\u5668 0 \u53d1\u751f\u6545\u969c\u7684 NIC \u4e0d\u65ad\u5411\u5176 ToR \u4ea4\u6362\u673a\u53d1\u9001\u6682\u505c\u5e27\uff1b  2. ToR\u4ea4\u6362\u673a\u4f9d\u6b21\u6682\u505c\u6240\u6709\u5269\u4f59\u7aef\u53e3\uff0c\u5305\u62ec\u6240\u6709\u5230Leaf\u4ea4\u6362\u673a\u7684\u4e0a\u884c\u7aef\u53e3\uff1b  3. Leaf\u4ea4\u6362\u673a\u6682\u505cSpine\u4ea4\u6362\u673a\uff1b  4. Spine\u4ea4\u6362\u673a\u6682\u505c\u5176\u4f59Leaf\u4ea4\u6362\u673a\uff1b  5. \u5176\u4f59Leaf\u4ea4\u6362\u673a\u6682\u505c\u5176ToR\u4ea4\u6362\u673a\uff1b  6. ToR \u4ea4\u6362\u673a\u6682\u505c\u8fde\u63a5\u5230\u5b83\u4eec\u7684\u670d\u52a1\u5668\u3002 \u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u5355\u4e2a\u6545\u969c\u7684 NIC \u53ef\u80fd\u4f1a\u963b\u6b62\u6574\u4e2a\u7f51\u7edc\u4f20\u8f93\u3002\u6211\u4eec\u79f0\u8fd9\u79cd\u7f51\u5361\u4e3aPFC\u6682\u505c\u5e27\u98ce\u66b4\uff0c\u7b80\u79f0PFC\u98ce\u66b4\u3002\u4ee4\u6211\u4eec\u60ca\u8bb6\u7684\u662f\uff0c\u6211\u4eec\u5728\u7f51\u7edc\u4e2d\u591a\u6b21\u89c2\u5bdf\u5230 PFC \u98ce\u66b4\uff0c\u5e76\u4e14 PFC \u98ce\u66b4\u5bfc\u81f4\u4e86\u51e0\u8d77\u4e8b\u4ef6\uff0c\u6211\u4eec\u5c06\u5728\u7b2c 6 \u8282\u4e2d\u63cf\u8ff0\u8fd9\u4e9b\u4e8b\u4ef6\u3002 PFC \u98ce\u66b4\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u662f NIC \u63a5\u6536\u7ba1\u9053\u4e2d\u7684\u9519\u8bef\u3002\u8be5\u9519\u8bef\u4f7f NIC \u65e0\u6cd5\u5904\u7406\u5b83\u6536\u5230\u7684\u6570\u636e\u5305\u3002\u7ed3\u679c\uff0c\u7f51\u5361\u7684\u63a5\u6536\u7f13\u51b2\u533a\u88ab\u586b\u6ee1\uff0c\u7f51\u5361\u5f00\u59cb\u4e00\u76f4\u5411\u5916\u53d1\u9001\u6682\u505c\u5e27\u3002 \u6211\u4eec\u5df2\u4e0e NIC \u63d0\u4f9b\u5546\u5408\u4f5c\u4fee\u590d\u6b64 NIC \u9519\u8bef\u3002\u6b64\u5916\uff0c\u4e3a\u4e86\u9632\u6b62 PFC \u98ce\u66b4\u635f\u5bb3\u7f51\u7edc\uff0c\u6211\u4eec\u5728 NIC \u548c ToR \u4ea4\u6362\u673a\u4e0a\u5b9e\u73b0\u4e86\u4e24\u4e2a\u770b\u95e8\u72d7\uff0c\u5982\u4e0b\u6240\u793a\uff1a \u5728NIC\u65b9\u9762\uff0c\u6211\u4eec\u4e0eNIC\u63d0\u4f9b\u5546\u5408\u4f5c\u6784\u5efa\u4e86PFC\u98ce\u66b4\u9884\u9632\u770b\u95e8\u72d7\u3002 1. \u8fd9\u662f\u53ef\u80fd\u7684\uff0c\u56e0\u4e3a NIC \u6709\u4e00\u4e2a\u5355\u72ec\u7684\u5fae\u63a7\u5236\u5668\uff0c\u53ef\u7528\u4e8e\u76d1\u89c6 NIC \u63a5\u6536\u4fa7\u7ba1\u9053\u3002\u4e00\u65e6\u7f51\u5361\u5fae\u63a7\u5236\u5668\u68c0\u6d4b\u5230\u63a5\u6536\u7ba1\u9053\u5df2\u505c\u6b62\u4e00\u6bb5\u65f6\u95f4\uff08\u9ed8\u8ba4\u4e3a100ms\uff09\u5e76\u4e14\u7f51\u5361\u6b63\u5728\u751f\u6210\u6682\u505c\u5e27\uff0c\u5fae\u63a7\u5236\u5668\u5c06\u7981\u6b62\u7f51\u5361\u751f\u6210\u6682\u505c\u5e27\u3002 2. \u6211\u4eec\u5bf9 PFC \u98ce\u66b4\u7684\u7ecf\u9a8c\u662f\uff0c\u4e00\u65e6 NIC \u8fdb\u5165\u98ce\u66b4\u6a21\u5f0f\uff0c\u670d\u52a1\u5668\u5c31\u4f1a\u4e0e\u7f51\u7edc\u65ad\u5f00\u8fde\u63a5\uff0c\u56e0\u4e3a NIC \u4e0d\u518d\u6b63\u5e38\u5de5\u4f5c\u3002 NIC \u770b\u95e8\u72d7\u65e0\u6cd5\u62ef\u6551\u670d\u52a1\u5668\uff01\u4e8b\u5b9e\u4e0a\uff0c\u5176\u76ee\u6807\u662f\u9632\u6b62\u6682\u505c\u5e27\u98ce\u66b4\u635f\u5bb3\u7f51\u7edc\u7684\u5176\u4f59\u90e8\u5206\u3002 3. \u5728 ToR \u4ea4\u6362\u673a\u65b9\u9762\uff0c\u6211\u4eec\u4e0e\u4ea4\u6362\u673a\u63d0\u4f9b\u5546\u5408\u4f5c\u6784\u5efa\u4e86\u4e00\u4e2a\u4ea4\u6362\u673a\u770b\u95e8\u72d7\u6765\u76d1\u63a7\u9762\u5411\u670d\u52a1\u5668\u7684\u7aef\u53e3\u3002\u4e00\u65e6\u9762\u5411\u51fa\u53e3\u7aef\u53e3\u7684\u670d\u52a1\u5668\u6709\u65e0\u6cd5\u6392\u51fa\u7684\u6570\u636e\u5305\u6b63\u5728\u6392\u961f\uff0c\u540c\u65f6\u8be5\u7aef\u53e3\u4ece NIC \u63a5\u6536\u8fde\u7eed\u7684\u6682\u505c\u5e27\uff0c\u4ea4\u6362\u673a\u5c06\u7981\u7528\u8be5\u7aef\u53e3\u7684\u65e0\u635f\u6a21\u5f0f\uff0c\u5e76\u4e22\u5f03\u5f80\u8fd4\u4e8e\u8be5\u7aef\u53e3\u4e0e\u7f51\u5361\u4e4b\u95f4\u7684\u65e0\u635f\u6570\u636e\u5305\u3002 4. \u4e0e NIC \u7aef\u770b\u95e8\u72d7\u7c7b\u4f3c\uff0c\u5b83\u662f\u4e3a\u4e86\u9632\u6b62\u6545\u969c NIC \u7684\u6682\u505c\u5e27\u4f20\u64ad\u5230\u7f51\u7edc\u4e2d\u3002\u4e00\u65e6\u4ea4\u6362\u673a\u68c0\u6d4b\u5230\u7f51\u5361\u53d1\u51fa\u7684\u6682\u505c\u5e27\u6d88\u5931\u4e00\u6bb5\u65f6\u95f4\uff08\u9ed8\u8ba4200ms\uff09\uff0c\u5c31\u4f1a\u91cd\u65b0\u542f\u7528\u8be5\u7aef\u53e3\u7684\u65e0\u635f\u6a21\u5f0f\u3002 5. \u8fd9\u4e24\u4e2a\u770b\u95e8\u72d7\u662f\u76f8\u8f85\u76f8\u6210\u7684\u3002\u5176\u4e2d\u4e4b\u4e00\u5e94\u8be5\u8db3\u4ee5\u963b\u6b62 NIC PFC \u98ce\u66b4\u3002\u6211\u4eec\u5df2\u7ecf\u5b9e\u65bd\u4e86\u53cc\u91cd\u4fdd\u9669\u3002 6. \u8bf7\u6ce8\u610f\uff0c\u4e24\u4e2a\u770b\u95e8\u72d7\u7684\u5b9e\u73b0\u5b58\u5728\u7ec6\u5fae\u5dee\u522b\u3002\u4e00\u65e6\u6682\u505c\u5e27\u6d88\u5931\uff0c\u4ea4\u6362\u673a\u770b\u95e8\u72d7\u5c06\u91cd\u65b0\u542f\u7528\u65e0\u635f\u6a21\u5f0f\uff0c\u800c NIC \u770b\u95e8\u72d7\u4e0d\u4f1a\u91cd\u65b0\u542f\u7528\u65e0\u635f\u6a21\u5f0f\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u89c2\u5bdf\u5230\u4e00\u65e6 NIC \u8fdb\u5165 PFC \u98ce\u66b4\u6a21\u5f0f\uff0c\u5b83\u5c31\u518d\u4e5f\u4e0d\u4f1a\u56de\u6765\u3002\u56e0\u6b64\uff0cNIC \u4e0d\u9700\u8981\u91cd\u65b0\u542f\u7528\u65e0\u635f\u6a21\u5f0f\u3002 7. \u6211\u4eec\u8fd8\u89c2\u5bdf\u5230\uff0c==NIC PFC \u98ce\u66b4\u95ee\u9898\u901a\u5e38\u53ef\u4ee5\u901a\u8fc7\u670d\u52a1\u5668\u91cd\u65b0\u542f\u52a8\u6765\u89e3\u51b3==\u3002\u56e0\u6b64\uff0c\u4e00\u65e6\u7f51\u5361\u65e0\u6cd5\u6b63\u5e38\u5de5\u4f5c\uff0c\u6211\u4eec\u7684\u670d\u52a1\u5668\u7ba1\u7406\u7cfb\u7edf\u5c06\u5c1d\u8bd5\u4fee\u590d\uff08\u91cd\u65b0\u542f\u52a8\u3001\u91cd\u65b0\u6620\u50cf\u7b49\uff09\u670d\u52a1\u5668\u3002\u4fee\u590d\u9700\u8981\u51e0\u5341\u5206\u949f\u3002==\u7f51\u5361\u770b\u95e8\u72d7\u7684\u4f5c\u7528\u662f\u5728\u670d\u52a1\u5668\u4fee\u590d\u5f00\u59cb\u4e4b\u524d\u5c06\u6709\u95ee\u9898\u7684\u7f51\u5361\u7684\u635f\u574f\u9650\u5236\u5728\u6570\u767e\u6beb\u79d2\u5185==\u3002\u4e00\u65e6\u670d\u52a1\u5668\u4fee\u590d\u6210\u529f\u5e76\u4e14\u6765\u81ea\u670d\u52a1\u5668\u7684\u6682\u505c\u5e27\u6d88\u5931\uff0c\u4ea4\u6362\u673a\u53ef\u4ee5\u81ea\u52a8\u91cd\u65b0\u542f\u7528\u76f8\u5e94\u4ea4\u6362\u673a\u7aef\u53e3\u7684\u65e0\u635f\u6a21\u5f0f  8. \u77e5\u8bc6\u6e0a\u535a\u7684\u8bfb\u8005\u53ef\u80fd\u60f3\u77e5\u9053\u8fd9\u4e24\u4e2a\u76d1\u7ba1\u673a\u6784\u4e4b\u95f4\u7684\u76f8\u4e92\u4f5c\u7528\uff1a \u4e00\u65e6\u7f51\u5361\u770b\u95e8\u72d7\u7981\u7528\u7f51\u5361\u6682\u505c\u5e27\uff0c\u4ea4\u6362\u673a\u770b\u95e8\u72d7\u5c06\u91cd\u65b0\u542f\u7528\u76f8\u5e94\u4ea4\u6362\u673a\u7aef\u53e3\u7684\u65e0\u635f\u6a21\u5f0f\u3002\u53d1\u5f80 NIC \u7684\u6570\u636e\u5305\u5c06\u88ab\u4ea4\u6362\u673a\u4e22\u5f03\uff08\u5982\u679c NIC \u7684 MAC \u5730\u5740\u8d85\u65f6\uff09\uff0c\u6216\u8005\u88ab NIC \u4e22\u5f03\uff08\u56e0\u4e3a NIC \u63a5\u6536\u7ba1\u9053\u4e0d\u5de5\u4f5c\uff09\u3002\u65e0\u8bba\u54ea\u79cd\u60c5\u51b5\uff0c\u7f51\u5361PFC\u98ce\u66b4\u90fd\u4e0d\u4f1a\u5bf9\u6574\u4e2a\u7f51\u7edc\u9020\u6210\u635f\u5bb3\u3002\u6211\u4eec\u5efa\u8bae\u4ea4\u6362\u673a\u548c NIC \u90fd\u5e94\u5b9e\u65bd\u7528\u4e8e NIC PFC \u98ce\u66b4\u9884\u9632\u7684\u770b\u95e8\u72d7\u3002</p> <p>![[Pasted image 20231106205214.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.4_The_Slow-receiver_symptom/","title":"4.4 The Slow receiver symptom","text":"<p>In our data centers, a server NIC is connected to a ToR switch using a point-to-point cable. The NIC is connected to the CPU and memory systems via PCIe. For a 40 GbE NIC, it uses PCIe Gen3x8 which provides 64Gb/s raw bidirectional bandwidth which is more than the 40Gb/s throughput of the NIC. Hence there seems to be no bottleneck between the switch and the server CPU and memory. We thought that the server NIC should not be able to generate PFC pause frames to the switch, because there is no congestion point at the server side. But this was not what we have observed. We found that many servers may generate up to thousands of PFC pause frames per second. Since RDMA packets do not need the server CPU for processing, the bottleneck must be in the NIC. It turned out that this is indeed the case. The NIC has limited memory resources, hence it puts most of the data structures including QPC (Queue Pair Context) and WQE (Work Queue Element) in the main memory of the server. The NIC only caches a small number of entries in its own memory. The NIC has a Memory Translation Table (MTT) which translates the virtual memory to the physical memory. The MTT has only 2K entries. For 4KB page size, 2K MTT entries can only handle 8MB memory. If the virtual address in a WQE is not mapped in the MTT, it results in a cache miss, and the NIC has to replace some old entries for the new virtual address. The NIC has to access the main memory of the server to get the entry for the new virtual address. All those operations take time and the receiving pipeline has t wait. The MTT cache miss will therefore slow down the packet processing pipeline. Once the receiving pipeline is slowed down and the receiving buffer occupation exceeds the PFC threshold, the NIC has to generate PFC pause frames to the switch. We call this phenomenon the slow-receiver symptom. Though its damage is not as severe as the NIC PFC storm, it may still cause the pause frames to propagate into the network and cause collateral damage. The slow-receiver symptom is a \u2018soft\u2019 bug caused by the NIC design. We took two actions to mitigate it. On the NIC side, we used a large page size of 2MB instead of 4KB. With a large page size, the MTT entry miss becomes less frequent. On the switch side, we enabled dynamic buffer sharing among different switch ports. Compared with static buffer reservation, dynamic buffer sharing statistically gives RDMA traffic more buffers. Hence even if the NICs are pausing the switch ports from time to time, the switches can absorb additional queue buildup locally without propagating the pause frames back into the network. Compared with static buffer allocation, our experience showed that dynamic buffer sharing helps reduce PFC pause frame propagation and improve bandwidth utilization.</p> <p>\u5728\u6211\u4eec\u7684\u6570\u636e\u4e2d\u5fc3\uff0c\u670d\u52a1\u5668 NIC \u4f7f\u7528\u70b9\u5bf9\u70b9\u7535\u7f06\u8fde\u63a5\u5230 ToR \u4ea4\u6362\u673a\u3002 NIC \u901a\u8fc7 PCIe \u8fde\u63a5\u5230 CPU \u548c\u5185\u5b58\u7cfb\u7edf\u3002</p> <p>\u5bf9\u4e8e 40 GbE NIC\uff0c\u5b83\u4f7f\u7528 PCIe Gen3x8\uff0c\u63d0\u4f9b 64Gb/s \u539f\u59cb\u53cc\u5411\u5e26\u5bbd\uff0c\u8d85\u8fc7 NIC \u7684 40Gb/s \u541e\u5410\u91cf\u3002\u56e0\u6b64\u4ea4\u6362\u673a\u4e0e\u670d\u52a1\u5668CPU\u548c\u5185\u5b58\u4e4b\u95f4\u4f3c\u4e4e\u4e0d\u5b58\u5728\u74f6\u9888\u3002\u6211\u4eec\u8ba4\u4e3a\u670d\u52a1\u5668\u7f51\u5361\u4e0d\u5e94\u8be5\u80fd\u591f\u751f\u6210PFC\u6682\u505c\u5e27\u5230\u4ea4\u6362\u673a\uff0c\u56e0\u4e3a\u670d\u52a1\u5668\u7aef\u4e0d\u5b58\u5728\u62e5\u585e\u70b9\u3002</p> <p>\u4f46\u8fd9\u4e0d\u662f\u6211\u4eec\u89c2\u5bdf\u5230\u7684\u3002\u6211\u4eec\u53d1\u73b0\u8bb8\u591a\u670d\u52a1\u5668\u6bcf\u79d2\u53ef\u80fd\u4f1a\u751f\u6210\u591a\u8fbe\u6570\u5343\u4e2a PFC \u6682\u505c\u5e27\u3002 \u7531\u4e8eRDMA\u6570\u636e\u5305\u4e0d\u9700\u8981\u670d\u52a1\u5668CPU\u6765\u5904\u7406\uff0c\u56e0\u6b64\u74f6\u9888\u4e00\u5b9a\u5728\u7f51\u5361\u4e0a\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u786e\u5b9e\u662f\u8fd9\u6837\u3002 \u7f51\u5361\u7684\u5185\u5b58\u8d44\u6e90\u6709\u9650\uff0c\u56e0\u6b64\u5b83\u5c06\u5927\u90e8\u5206\u6570\u636e\u7ed3\u6784\uff0c\u5305\u62ecQPC\uff08\u961f\u5217\u5bf9\u4e0a\u4e0b\u6587\uff09\u548cWQE\uff08\u5de5\u4f5c\u961f\u5217\u5143\u7d20\uff09\u653e\u5728\u670d\u52a1\u5668\u7684\u4e3b\u5185\u5b58\u4e2d\u3002 NIC \u4ec5\u5728\u5176\u81ea\u5df1\u7684\u5185\u5b58\u4e2d\u7f13\u5b58\u5c11\u91cf\u6761\u76ee\u3002  NIC \u6709\u4e00\u4e2a\u5185\u5b58\u8f6c\u6362\u8868 (MTT)\uff0c\u5b83\u5c06\u865a\u62df\u5185\u5b58\u8f6c\u6362\u4e3a\u7269\u7406\u5185\u5b58\u3002MTT \u53ea\u6709 2K \u6761\u76ee\u3002\u5bf9\u4e8e 4KB \u9875\u9762\u5927\u5c0f\uff0c2K MTT \u6761\u76ee\u53ea\u80fd\u5904\u7406 8MB \u5185\u5b58\u3002 \u5982\u679c WQE \u4e2d\u7684\u865a\u62df\u5730\u5740\u672a\u6620\u5c04\u5230 MTT \u4e2d\uff0c\u5219\u4f1a\u5bfc\u81f4\u7f13\u5b58\u672a\u547d\u4e2d\uff0c\u5e76\u4e14 NIC \u5fc5\u987b\u7528\u65b0\u7684\u865a\u62df\u5730\u5740\u66ff\u6362\u4e00\u4e9b\u65e7\u6761\u76ee\u3002 NIC \u5fc5\u987b\u8bbf\u95ee\u670d\u52a1\u5668\u7684\u4e3b\u5185\u5b58\u624d\u80fd\u83b7\u53d6\u65b0\u865a\u62df\u5730\u5740\u7684\u6761\u76ee\u3002 \u6240\u6709\u8fd9\u4e9b\u64cd\u4f5c\u90fd\u9700\u8981\u65f6\u95f4\uff0c\u5e76\u4e14\u63a5\u6536\u7ba1\u9053\u9700\u7b49\u5f85\u624d\u80fd\u4f7f\u7528\u3002 \u56e0\u6b64\uff0cMTT \u7f13\u5b58\u672a\u547d\u4e2d\u5c06\u51cf\u6162\u6570\u636e\u5305\u5904\u7406\u7ba1\u9053\u7684\u901f\u5ea6\u3002\u4e00\u65e6\u63a5\u6536\u7ba1\u9053\u53d8\u6162\u4e14\u63a5\u6536\u7f13\u51b2\u533a\u5360\u7528\u8d85\u8fc7 PFC \u9608\u503c\uff0cNIC \u5fc5\u987b\u5411\u4ea4\u6362\u673a\u751f\u6210 PFC \u6682\u505c\u5e27\u3002\u6211\u4eec\u5c06\u8fd9\u79cd\u73b0\u8c61\u79f0\u4e3a\u6162\u63a5\u6536\u75c7\u72b6\u3002 \u867d\u7136\u5b83\u7684\u635f\u5bb3\u4e0d\u50cf NIC PFC \u98ce\u66b4\u90a3\u4e48\u4e25\u91cd\uff0c\u4f46\u5b83\u4ecd\u7136\u53ef\u80fd\u5bfc\u81f4\u6682\u505c\u5e27\u4f20\u64ad\u5230\u7f51\u7edc\u4e2d\u5e76\u9020\u6210\u9644\u5e26\u635f\u5bb3\u3002\u63a5\u6536\u901f\u5ea6\u6162\u7684\u75c7\u72b6\u662f\u7531 NIC \u8bbe\u8ba1\u5f15\u8d77\u7684\u201c\u8f6f\u201d\u9519\u8bef\u3002 \u6211\u4eec\u91c7\u53d6\u4e86\u4e24\u9879\u63aa\u65bd\u6765\u7f13\u89e3\u8fd9\u4e00\u95ee\u9898\uff1a 1. \u5728 NIC \u65b9\u9762\uff0c\u6211\u4eec\u4f7f\u7528\u4e86 2MB \u7684\u5927\u9875\u9762\u5927\u5c0f\uff0c\u800c\u4e0d\u662f 4KB\u3002\u9875\u9762\u5927\u5c0f\u8f83\u5927\u65f6\uff0cMTT \u6761\u76ee\u4e22\u5931\u7684\u9891\u7387\u4f1a\u964d\u4f4e\u3002 2. \u5728\u4ea4\u6362\u673a\u65b9\u9762\uff0c\u6211\u4eec\u542f\u7528\u4e86\u4e0d\u540c\u4ea4\u6362\u673a\u7aef\u53e3\u4e4b\u95f4\u7684\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u3002\u4e0e\u9759\u6001\u7f13\u51b2\u533a\u9884\u7559\u76f8\u6bd4\uff0c\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u5728\u7edf\u8ba1\u4e0a\u4e3a RDMA \u6d41\u91cf\u63d0\u4f9b\u4e86\u66f4\u591a\u7f13\u51b2\u533a\u3002\u56e0\u6b64\uff0c\u5373\u4f7f NIC \u4e0d\u65f6\u6682\u505c\u4ea4\u6362\u673a\u7aef\u53e3\uff0c\u4ea4\u6362\u673a\u4e5f\u53ef\u4ee5\u5728\u672c\u5730\u5438\u6536\u989d\u5916\u7684\u961f\u5217\u79ef\u7d2f\uff0c\u800c\u65e0\u9700\u5c06\u6682\u505c\u5e27\u4f20\u64ad\u56de\u7f51\u7edc\u3002\u4e0e\u9759\u6001\u7f13\u51b2\u533a\u5206\u914d\u76f8\u6bd4\uff0c\u6211\u4eec\u7684\u7ecf\u9a8c\u8868\u660e\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u6709\u52a9\u4e8e\u51cf\u5c11 PFC \u6682\u505c\u5e27\u4f20\u64ad\u5e76\u63d0\u9ad8\u5e26\u5bbd\u5229\u7528\u7387\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/","title":"5 RDMA In Production","text":"<p>We added new management and monitoring capabilities to debug the various RDMA and PFC safety issues described in Section 4, and to detect RDMA related bugs and incidents. We now discuss these new capabilities which include the RDMA/PFC configuration monitoring, the PFC pause frame and lossless traffic monitoring, and the active RDMA latency monitoring. We also present the latency and throughput measurements.</p> <p>\u6211\u4eec\u6dfb\u52a0\u4e86\u65b0\u7684\u7ba1\u7406\u548c\u76d1\u63a7\u529f\u80fd\u6765\u8c03\u8bd5\u7b2c 4 \u8282\u4e2d\u63cf\u8ff0\u7684\u5404\u79cd RDMA \u548c PFC \u5b89\u5168\u95ee\u9898\uff0c\u4ee5\u68c0\u6d4b RDMA \u76f8\u5173\u7684\u9519\u8bef\u548c\u4e8b\u4ef6\u3002\u6211\u4eec\u73b0\u5728\u8ba8\u8bba\u8fd9\u4e9b\u65b0\u529f\u80fd\uff0c\u5305\u62ec ==RDMA/PFC \u914d\u7f6e\u76d1\u63a7==\u3001==PFC \u6682\u505c\u5e27==\u548c==\u65e0\u635f\u6d41\u91cf\u76d1\u63a7==\u4ee5\u53ca==\u4e3b\u52a8 RDMA \u5ef6\u8fdf\u76d1\u63a7==\u3002\u6211\u4eec\u8fd8\u4ecb\u7ecd\u4e86==\u5ef6\u8fdf==\u548c==\u541e\u5410\u91cf\u6d4b\u91cf==\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#51-configuration-management-and-monitoring","title":"5.1 Configuration management and monitoring\uff08\u914d\u7f6e\u7ba1\u7406\u548c\u76d1\u63a7\uff09","text":"<p>To enable RDMA, we need to configure PFC at the switch side, and RDMA and PFC at the server side. At the switch side, the PFC configuration is part of the QoS configuration. The PFC configuration has a global part which reserves buffer size, classifies packets into different traffic classes based on the DSCP value, maps different traffic classes into different queues, and assigns different bandwidth reservations for different queues. The PFC configuration also has a per port part which enables PFC for every individual physical port. At the server side, there are configurations to enable/disable RoCEv2, PFC configuration, DCQCN configuration, and traffic configuration. In traffic configuration, users specify which type of traffic they would like to put into PFC protection. The specification is based on the destination transport port which is similar to the TCP destination port. We have a configuration monitoring service to check if the running configurations of the switches and the servers are the same as their desired configurations. Our RDMA management and monitoring service handles the complexities introduced by the combinations of multiple switch types, multiple switch and NIC firmware versions, and different configuration requirements for different customers.</p> <p>\u4e3a\u4e86\u542f\u7528RDMA\uff0c\u6211\u4eec\u9700\u8981\u5728\u4ea4\u6362\u673a\u7aef\u914d\u7f6ePFC\uff0c\u5728\u670d\u52a1\u5668\u7aef\u914d\u7f6eRDMA\u548cPFC\u3002 \u5728\u4ea4\u6362\u673a\u4fa7\uff0cPFC\u914d\u7f6e\u662fQoS\u914d\u7f6e\u7684\u4e00\u90e8\u5206\u3002PFC\u914d\u7f6e\u6709\u4e00\u4e2a\u5168\u5c40\u90e8\u5206\uff0c\u5b83\u4fdd\u7559\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u6839\u636eDSCP\u503c\u5c06\u6570\u636e\u5305\u5206\u7c7b\u4e3a\u4e0d\u540c\u7684\u6d41\u91cf\u7c7b\u522b\uff0c\u5c06\u4e0d\u540c\u7684\u6d41\u91cf\u7c7b\u522b\u6620\u5c04\u5230\u4e0d\u540c\u7684\u961f\u5217\uff0c\u5e76\u4e3a\u4e0d\u540c\u7684\u961f\u5217\u5206\u914d\u4e0d\u540c\u7684\u5e26\u5bbd\u9884\u7559\u3002  PFC \u914d\u7f6e\u8fd8\u5177\u6709\u6bcf\u4e2a\u7aef\u53e3\u7684\u90e8\u5206\uff0c\u53ef\u4e3a\u6bcf\u4e2a\u5355\u72ec\u7684\u7269\u7406\u7aef\u53e3\u542f\u7528 PFC\u3002 \u5728\u670d\u52a1\u5668\u7aef\uff0c\u6709\u542f\u7528/\u7981\u7528RoCEv2\u3001PFC\u914d\u7f6e\u3001DCQCN\u914d\u7f6e\u548c\u6d41\u91cf\u914d\u7f6e\u7684\u914d\u7f6e\u3002\u5728\u6d41\u91cf\u914d\u7f6e\u4e2d\uff0c\u7528\u6237\u6307\u5b9a\u4ed6\u4eec\u60f3\u8981\u5c06\u54ea\u79cd\u7c7b\u578b\u7684\u6d41\u91cf\u7f6e\u4e8e PFC \u4fdd\u62a4\u4e2d\u3002\u8be5\u89c4\u8303\u57fa\u4e8e\u4e0e TCP \u76ee\u6807\u7aef\u53e3\u7c7b\u4f3c\u7684\u76ee\u6807\u4f20\u8f93\u7aef\u53e3\u3002 \u6211\u4eec\u6709\u914d\u7f6e\u76d1\u63a7\u670d\u52a1\u6765\u68c0\u67e5\u4ea4\u6362\u673a\u548c\u670d\u52a1\u5668\u7684\u8fd0\u884c\u914d\u7f6e\u662f\u5426\u4e0e\u5176\u6240\u9700\u7684\u914d\u7f6e\u76f8\u540c\u3002\u6211\u4eec\u7684 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u670d\u52a1\u53ef\u5904\u7406\u591a\u79cd\u4ea4\u6362\u673a\u7c7b\u578b\u3001\u591a\u79cd\u4ea4\u6362\u673a\u548c NIC \u56fa\u4ef6\u7248\u672c\u4ee5\u53ca\u4e0d\u540c\u5ba2\u6237\u7684\u4e0d\u540c\u914d\u7f6e\u8981\u6c42\u7ec4\u5408\u5e26\u6765\u7684\u590d\u6742\u6027\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-qos","title":"-QoS\u914d\u7f6e\uff1a","text":"<p>QoS\uff08Quality of Service\uff0c\u670d\u52a1\u8d28\u91cf\uff09\u914d\u7f6e\u662f\u4e00\u79cd==\u7f51\u7edc\u7ba1\u7406\u548c\u914d\u7f6e\u65b9\u6cd5==\uff0c\u7528\u4e8e\u4f18\u5316\u7f51\u7edc\u4e0a\u7684\u6570\u636e\u4f20\u8f93\uff0c\u4ee5==\u786e\u4fdd\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u6d41\u5728\u7f51\u7edc\u4e2d\u5f97\u5230\u9002\u5f53\u7684\u5e26\u5bbd\u3001\u5ef6\u8fdf\u3001\u4e22\u5305\u7387\u548c\u4f18\u5148\u7ea7\u5904\u7406==\u3002 QoS\u914d\u7f6e\u7684\u4e3b\u8981\u76ee\u7684\u662f\u4e3a\u4e86\u63d0\u4f9b\u66f4\u597d\u7684\u6027\u80fd\u548c\u53ef\u9760\u6027\uff0c\u786e\u4fdd\u5173\u952e\u6570\u636e\u6216\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u5728\u7f51\u7edc\u4e0a\u83b7\u5f97\u66f4\u9ad8\u7684\u670d\u52a1\u8d28\u91cf\u3002</p> <p>QoS\u914d\u7f6e\u901a\u5e38\u6d89\u53ca\u4ee5\u4e0b\u65b9\u9762\u7684\u8bbe\u7f6e\u548c\u63a7\u5236\uff1a 1. \u5e26\u5bbd\u5206\u914d\uff1a\u901a\u8fc7QoS\u914d\u7f6e\uff0c\u60a8\u53ef\u4ee5\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff08\u5982\u8bed\u97f3\u3001\u89c6\u9891\u3001\u6570\u636e\uff09\u5206\u914d\u5e26\u5bbd\u3002\u8fd9\u53ef\u4ee5\u786e\u4fdd\u5173\u952e\u5e94\u7528\u7a0b\u5e8f\u83b7\u5f97\u8db3\u591f\u7684\u5e26\u5bbd\uff0c\u4ee5\u907f\u514d\u62e5\u585e\u548c\u6027\u80fd\u4e0b\u964d\u3002 2. \u6d41\u91cf\u4f18\u5148\u7ea7\uff1aQoS\u5141\u8bb8\u60a8\u4e3a\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\u8bbe\u7f6e\u4f18\u5148\u7ea7\u3002\u4f8b\u5982\uff0c\u5b9e\u65f6\u901a\u4fe1\uff08\u5982VoIP\u7535\u8bdd\u6216\u89c6\u9891\u4f1a\u8bae\uff09\u53ef\u4ee5\u88ab\u8d4b\u4e88\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u4ee5\u786e\u4fdd\u5176\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u53ef\u7528\u6027\u3002 3. \u62e5\u585e\u7ba1\u7406\uff1aQoS\u914d\u7f6e\u8fd8\u53ef\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u62e5\u585e\u3002\u5f53\u7f51\u7edc\u62e5\u585e\u65f6\uff0cQoS\u53ef\u4ee5\u5e2e\u52a9\u51b3\u5b9a\u54ea\u4e9b\u6d41\u91cf\u5c06\u88ab\u4e22\u5f03\u6216\u5ef6\u8fdf\uff0c\u4ee5\u51cf\u8f7b\u62e5\u585e\u60c5\u51b5\u3002 4. \u6d41\u91cf\u5206\u7c7b\uff1aQoS\u914d\u7f6e\u901a\u5e38\u5305\u62ec\u6d41\u91cf\u5206\u7c7b\uff0c\u4ee5\u4fbf\u8bc6\u522b\u548c\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u3002\u8fd9\u53ef\u4ee5\u901a\u8fc7\u534f\u8bae\u3001\u7aef\u53e3\u3001IP\u5730\u5740\u6216\u5176\u4ed6\u7279\u5f81\u8fdb\u884c\u5206\u7c7b\u3002 5. \u961f\u5217\u7ba1\u7406\uff1aQoS\u5141\u8bb8\u60a8\u914d\u7f6e\u4e0d\u540c\u7684\u6570\u636e\u961f\u5217\uff0c\u4ee5\u4fbf\u6839\u636e\u4f18\u5148\u7ea7\u548c\u7b56\u7565\u5bf9\u6570\u636e\u5305\u8fdb\u884c\u6392\u961f\u548c\u5904\u7406\u3002 6.  QoS\u914d\u7f6e\u901a\u5e38\u5728\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u4e0a\u8fdb\u884c\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u4e0a\u7684\u6d41\u91cf\u5f97\u5230\u9002\u5f53\u7684\u7ba1\u7406\u3002\u8fd9\u5bf9\u4e8e\u4f01\u4e1a\u7f51\u7edc\u3001\u6570\u636e\u4e2d\u5fc3\u3001\u4e91\u670d\u52a1\u63d0\u4f9b\u5546\u4ee5\u53ca\u9700\u8981\u6ee1\u8db3\u7279\u5b9a\u6027\u80fd\u9700\u6c42\u7684\u5404\u79cd\u5e94\u7528\u7a0b\u5e8f\u90fd\u975e\u5e38\u91cd\u8981\u3002\u901a\u8fc7QoS\u914d\u7f6e\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u66f4\u597d\u5730\u63a7\u5236\u548c\u4f18\u5316\u7f51\u7edc\u6027\u80fd\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u5e94\u7528\u7a0b\u5e8f\u548c\u7528\u6237\u7684\u9700\u6c42\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-rocev2","title":"-\u542f\u7528/\u7981\u7528RoCEv2\uff1a","text":"<p>RoCEv2 \u662f RoCE\uff08RDMA over Converged Ethernet\uff09\u6280\u672f\u7684\u7b2c\u4e8c\u4ee3\u7248\u672c\u3002RoCEv2 \u901a\u8fc7\u4ee5\u592a\u7f51\u7f51\u7edc\u652f\u6301 RDMA \u6570\u636e\u4f20\u8f93\uff0c\u8fd9\u662f\u4e00\u79cd\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4f20\u8f93\u6280\u672f\uff0c\u901a\u5e38\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u3001\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u5b58\u50a8\u73af\u5883\u4e2d\u3002\u542f\u7528\u6216\u7981\u7528 RoCEv2 \u610f\u5473\u7740\u60a8\u53ef\u4ee5\u5728\u7f51\u7edc\u8bbe\u5907\u4e0a\u914d\u7f6e\u662f\u5426\u4f7f\u7528 RoCEv2 \u6280\u672f\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5173\u4e8e\u542f\u7528\u548c\u7981\u7528 RoCEv2 \u7684\u542b\u4e49\uff1a 1. \u542f\u7528 RoCEv2\uff1a\u5f53\u60a8\u542f\u7528 RoCEv2 \u65f6\uff0c\u60a8\u914d\u7f6e\u7f51\u7edc\u8bbe\u5907\u4ee5\u652f\u6301\u4f7f\u7528 RoCEv2 \u534f\u8bae\u8fdb\u884c RDMA \u6570\u636e\u4f20\u8f93\u3002\u8fd9\u901a\u5e38\u9700\u8981\u786e\u4fdd\u7f51\u7edc\u9002\u914d\u5668\u3001\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u90fd\u652f\u6301 RoCEv2\uff0c\u5e76\u4e14\u8fdb\u884c\u4e86\u9002\u5f53\u7684\u914d\u7f6e\u4ee5\u542f\u7528 RDMA \u529f\u80fd\u3002\u542f\u7528 RoCEv2 \u53ef\u80fd\u9700\u8981\u5bf9\u7f51\u7edc\u8fdb\u884c\u989d\u5916\u7684\u8bbe\u7f6e\uff0c\u4ee5\u786e\u4fdd\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4f20\u8f93\u3002 2. \u7981\u7528 RoCEv2\uff1a\u7981\u7528 RoCEv2 \u610f\u5473\u7740\u60a8\u5c06\u7f51\u7edc\u8bbe\u5907\u914d\u7f6e\u4e3a\u4e0d\u4f7f\u7528 RoCEv2 \u6280\u672f\u8fdb\u884c RDMA \u6570\u636e\u4f20\u8f93\u3002\u6570\u636e\u5c06\u901a\u8fc7\u4f20\u7edf\u7684\u4ee5\u592a\u7f51\u65b9\u5f0f\u4f20\u8f93\uff0c\u800c\u4e0d\u662f\u4f7f\u7528 RoCEv2 \u7684\u4f18\u5316\u6570\u636e\u4f20\u8f93\u3002\u8fd9\u53ef\u4ee5\u662f\u56e0\u4e3a\u60a8\u7684\u7f51\u7edc\u8bbe\u5907\u4e0d\u652f\u6301 RoCEv2\uff0c\u6216\u8005\u60a8\u6709\u5176\u4ed6\u7279\u5b9a\u7684\u8981\u6c42\u9700\u8981\u7981\u7528 RoCEv2\u3002</p> <p>\u542f\u7528\u6216\u7981\u7528 RoCEv2 \u901a\u5e38\u9700\u8981\u7531\u7f51\u7edc\u7ba1\u7406\u5458\u5728\u7f51\u7edc\u8bbe\u5907\u4e0a\u6267\u884c\uff0c\u4ee5\u6839\u636e\u7279\u5b9a\u7684\u7f51\u7edc\u9700\u6c42\u548c\u6027\u80fd\u8981\u6c42\u6765\u7ba1\u7406\u6570\u636e\u4f20\u8f93\u3002\u914d\u7f6e\u9009\u62e9\u662f\u5426\u4f7f\u7528 RoCEv2 \u53d6\u51b3\u4e8e\u60a8\u7684\u7f51\u7edc\u73af\u5883\u3001\u786c\u4ef6\u652f\u6301\u4ee5\u53ca\u7279\u5b9a\u7684\u5e94\u7528\u7a0b\u5e8f\u9700\u6c42\u3002 RoCEv2 \u53ef\u80fd\u63d0\u4f9b\u66f4\u9ad8\u7684\u6027\u80fd\uff0c\u4f46\u9700\u8981\u76f8\u5e94\u7684\u786c\u4ef6\u548c\u914d\u7f6e\u652f\u6301\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-","title":"-\u4f20\u7edf\u7684\u4ee5\u592a\u7f51\u4f20\u8f93\u65b9\u5f0f\uff1a","text":"<p>\u4f20\u7edf\u7684\u4ee5\u592a\u7f51\u4f20\u8f93\u65b9\u5f0f\u662f\u6307\u4f7f\u7528==\u6807\u51c6\u4ee5\u592a\u7f51\u534f\u8bae\uff08\u5982IEEE 802.3\u6807\u51c6\uff09\u8fdb\u884c\u6570\u636e\u4f20\u8f93==\u7684\u65b9\u5f0f\u3002\u8fd9\u662f\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\u6700\u5e38\u89c1\u7684\u6570\u636e\u4f20\u8f93\u65b9\u5f0f\uff0c\u5b83\u4f7f\u7528\u7ecf\u5178\u7684\u4ee5\u592a\u7f51\u534f\u8bae\u6808\uff0c\u901a\u5e38\u4ee5\u592a\u7f51\u5e27\u7ed3\u6784\uff0c\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u6765\u8fdb\u884c\u901a\u4fe1\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u4f20\u7edf\u4ee5\u592a\u7f51\u4f20\u8f93\u65b9\u5f0f\u7684\u7279\u70b9\uff1a 1. \u4ee5\u592a\u7f51\u5e27\u7ed3\u6784\uff1a\u6570\u636e\u5728\u4f20\u7edf\u4ee5\u592a\u7f51\u4e2d\u88ab\u5c01\u88c5\u6210\u4ee5\u592a\u7f51\u5e27\uff0c\u8fd9\u4e9b\u5e27\u5305\u62ec\u6e90\u548c\u76ee\u7684MAC\u5730\u5740\u3001\u6570\u636e\u5185\u5bb9\u4ee5\u53ca\u6821\u9a8c\u548c\u5176\u4ed6\u63a7\u5236\u4fe1\u606f\u3002\u5e27\u7684\u5927\u5c0f\u901a\u5e38\u5728 64 \u5230 1518 \u5b57\u8282\u4e4b\u95f4\u3002 2. MAC \u5730\u5740\uff1a==\u6bcf\u4e2a\u7f51\u7edc\u63a5\u53e3\u90fd\u6709\u4e00\u4e2a\u552f\u4e00\u7684MAC\u5730\u5740\uff0c\u5b83\u7528\u4e8e\u6807\u8bc6\u8bbe\u5907==\u3002\u5728\u4f20\u7edf\u4ee5\u592a\u7f51\u4e2d\uff0c\u6570\u636e\u5e27\u6839\u636e\u76ee\u7684MAC\u5730\u5740\u8def\u7531\u5230\u6b63\u786e\u7684\u76ee\u6807\u8bbe\u5907\u3002 3. CSMA/CD\uff1a\u4f20\u7edf\u4ee5\u592a\u7f51\u4f7f\u7528\u8f7d\u6ce2\u4fa6\u542c\u591a\u8def\u8bbf\u95ee/\u78b0\u649e\u68c0\u6d4b\uff08CSMA/CD\uff09\u534f\u8bae\u6765\u7ba1\u7406\u51b2\u7a81\u548c\u7ade\u4e89\u3002==\u5f53\u591a\u4e2a\u8bbe\u5907\u5c1d\u8bd5\u540c\u65f6\u4f20\u8f93\u6570\u636e\u65f6\uff0cCSMA/CD\u534f\u8bae\u7528\u4e8e\u907f\u514d\u51b2\u7a81\u3002== 4. \u901f\u7387\uff1a\u4f20\u7edf\u4ee5\u592a\u7f51\u53ef\u4ee5\u4ee5==\u4e0d\u540c\u7684\u901f\u7387\u8fd0\u884c==\uff0c\u5305\u62ec10 Mbps\uff08\u4ee5\u592a\u7f51\uff09\u3001100 Mbps\uff08\u5feb\u901f\u4ee5\u592a\u7f51\uff09\u548c1 Gbps\uff08\u5343\u5146\u4ee5\u592a\u7f51\uff09\uff0c\u4ee5\u53ca\u66f4\u9ad8\u901f\u7684\u53d8\u79cd\u3002 5. \u65e0\u5dee\u9519\u6027\uff1a\u4f20\u7edf\u4ee5\u592a\u7f51\u901a\u5e38==\u4f9d\u8d56\u5e95\u5c42\u534f\u8bae\u6765\u68c0\u6d4b\u548c\u7ea0\u6b63\u9519\u8bef\u3002\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u4f1a\u51fa\u73b0\u4e22\u5305\u6216\u51b2\u7a81==\u3002</p> <p>\u8fd9\u79cd\u4f20\u7edf\u7684\u4ee5\u592a\u7f51\u4f20\u8f93\u65b9\u5f0f\u901a\u5e38\u9002\u7528\u4e8e\u5e38\u89c4\u7684\u6570\u636e\u901a\u4fe1\uff0c==\u4f46\u5728\u5bf9\u4e8e\u8981\u6c42\u66f4\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u548c\u53ef\u9760\u6027\u7684\u5e94\u7528==\uff0c\u5982\u9ad8\u6027\u80fd\u8ba1\u7b97\u3001\u5b58\u50a8\u533a\u57df\u7f51\u7edc\u548c\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\u7b49\u60c5\u51b5\u4e0b\uff0c\u5176\u4ed6\u7f51\u7edc\u6280\u672f\uff08\u5982RoCEv2\uff09\u53ef\u80fd\u66f4\u4e3a\u9002\u7528\uff0c\u56e0\u4e3a\u5b83\u4eec\u63d0\u4f9b\u4e86\u66f4\u9ad8\u7684\u6027\u80fd\u548c\u66f4\u4f4e\u7684\u5ef6\u8fdf\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#52-pfc-pause-frame-and-traffic-monitoring","title":"5.2 PFC pause frame and traffic monitoring","text":"<p>Besides configuration monitoring, we have also built monitoring for the PFC pause frames and the two RDMA traffic classes. For pause frame, we monitor the number of pause frames been sent and received by the switches and servers. We further monitor the pause intervals at the server side. Compared with the number of pause frames, pause intervals can reveal the severity of the congestion in the network more accurately. Pause intervals, unfortunately, are not available for the switches we currently use. We have raised the PFC pause interval monitoring requirement to the switching ASIC providers for their future ASICs. For RDMA traffic monitoring, we collect packets and bytes been sent and received per port per priority, packet drops at the ingress ports, and packet drops at the egress queues. The traffic counters can help us understand the RDMA traffic pattern and trend. The drop counters help us detect if there is anything wrong for the RDMA traffic: normally no RDMA packets should be dropped.</p> <p>\u9664\u4e86\u914d\u7f6e\u76d1\u63a7\u4e4b\u5916\uff0c\u6211\u4eec\u8fd8\u6784\u5efa\u4e86\u5bf9 PFC \u6682\u505c\u5e27\u548c\u4e24\u4e2a RDMA \u6d41\u91cf\u7c7b\u522b\u7684\u76d1\u63a7\u3002 \u5bf9\u4e8e\u6682\u505c\u5e27\uff0c\u6211\u4eec\u76d1\u63a7\u4ea4\u6362\u673a\u548c\u670d\u52a1\u5668\u53d1\u9001\u548c\u63a5\u6536\u7684\u6682\u505c\u5e27\u7684\u6570\u91cf\u3002\u6211\u4eec\u8fd8\u53ef\u4ee5\u8fdb\u4e00\u6b65\u76d1\u63a7\u670d\u52a1\u5668\u7aef\u7684\u6682\u505c\u95f4\u9694\u3002 ==\u4e0e\u6682\u505c\u5e27\u7684\u6570\u91cf\u76f8\u6bd4\uff0c\u6682\u505c\u95f4\u9694\u53ef\u4ee5\u66f4\u51c6\u786e\u5730\u63ed\u793a\u7f51\u7edc\u62e5\u585e\u7684\u4e25\u91cd\u7a0b\u5ea6\u3002 \u4e0d\u5e78\u7684\u662f\uff0c\u6682\u505c\u95f4\u9694\u4e0d\u9002\u7528\u4e8e\u6211\u4eec\u5f53\u524d\u4f7f\u7528\u7684\u5f00\u5173\uff01== \u6211\u4eec\u5411\u4ea4\u6362 ASIC \u63d0\u4f9b\u5546\u672a\u6765\u7684 ASIC \u63d0\u51fa\u4e86 PFC \u6682\u505c\u95f4\u9694\u76d1\u63a7\u8981\u6c42\u3002 \u5bf9\u4e8e RDMA \u6d41\u91cf\u76d1\u63a7\uff0c\u6211\u4eec\u6536\u96c6\u6bcf\u4e2a\u7aef\u53e3\u6bcf\u4e2a\u4f18\u5148\u7ea7\u53d1\u9001\u548c\u63a5\u6536\u7684\u6570\u636e\u5305\u548c\u5b57\u8282\u3001\u5165\u53e3\u7aef\u53e3\u7684\u6570\u636e\u5305\u4e22\u5931\u4ee5\u53ca\u51fa\u53e3\u961f\u5217\u7684\u6570\u636e\u5305\u4e22\u5931\u3002==\u6d41\u91cf\u8ba1\u6570\u5668\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3 RDMA \u6d41\u91cf\u6a21\u5f0f\u548c\u8d8b\u52bf==\u3002==\u4e22\u5f03\u8ba1\u6570\u5668\u5e2e\u52a9\u6211\u4eec\u68c0\u6d4b RDMA \u6d41\u91cf\u662f\u5426\u5b58\u5728\u4efb\u4f55\u95ee\u9898\uff1a\u901a\u5e38\u4e0d\u5e94\u4e22\u5f03\u4efb\u4f55 RDMA \u6570\u636e\u5305\u3002\u3010\u4e22\u5305\u662f\u4f20\u8f93\u51fa\u73b0\u95ee\u9898\u7684signal\u3011==</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-_1","title":"-\u95ee\u9898\u89e3\u91ca\uff1a\u4e3a\u4ec0\u4e48\u201c\u6682\u505c\u95f4\u9694\u4e0d\u9002\u7528\u4e8e\u6211\u4eec\u5f53\u524d\u4f7f\u7528\u7684\u5f00\u5173\u201d\uff1f","text":"<p>\"Pause intervals\"\uff08\u6682\u505c\u95f4\u9694\uff09\u901a\u5e38\u662f\u4e0e\u201c\u6682\u505c\u5e27\u201d\uff08pause frames\uff09\u76f8\u5173\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u5b83\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u7684\u6d41\u91cf\u63a7\u5236\u3002\u5728\u4ee5\u592a\u7f51\u7f51\u7edc\u4e2d\uff0c\u6682\u505c\u5e27\u7528\u4e8e\u901a\u77e5\u63a5\u6536\u8bbe\u5907\u964d\u4f4e\u6216\u505c\u6b62\u6570\u636e\u4f20\u8f93\uff0c\u4ee5\u9632\u6b62\u62e5\u585e\u3002 \u7136\u800c\uff0c\u4e0d\u662f\u6240\u6709\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u90fd\u652f\u6301\u6216\u63d0\u4f9b\u5173\u4e8e\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\uff0c\u4e0b\u8ff0\u53ef\u4ee5\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6682\u505c\u95f4\u9694\u4e0d\u9002\u7528\u4e8e\u67d0\u4e9b\u7f51\u7edc\u8bbe\u5907\uff1a 1. \u8bbe\u5907\u4e0d\u652f\u6301\u6682\u505c\u95f4\u9694\u62a5\u544a\uff1a\u67d0\u4e9b\u8f83\u65e7\u6216\u4f4e\u6210\u672c\u7684\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u6ca1\u6709\u652f\u6301\u62a5\u544a\u6216\u8bb0\u5f55\u6682\u505c\u95f4\u9694\u7684\u529f\u80fd\u3002\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u4e0d\u80fd\u63d0\u4f9b\u6709\u5173\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\u3002 2. \u8bbe\u5907\u914d\u7f6e\u6216\u76d1\u89c6\u7684\u9650\u5236\uff1a\u5373\u4f7f\u67d0\u4e9b\u8bbe\u5907\u7406\u8bba\u4e0a\u652f\u6301\u6682\u505c\u95f4\u9694\uff0c\u4f46\u5b83\u4eec\u53ef\u80fd\u88ab\u914d\u7f6e\u4e3a\u4e0d\u751f\u6210\u6216\u8bb0\u5f55\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6216\u8005\u7ba1\u7406\u5458\u53ef\u80fd\u6ca1\u6709\u542f\u7528\u76f8\u5173\u7684\u76d1\u89c6\u548c\u62a5\u544a\u529f\u80fd\u3002 3. \u534f\u8bae\u6216\u56fa\u4ef6\u7248\u672c\uff1a\u6709\u4e9b\u8bbe\u5907\u53ef\u80fd\u9700\u8981\u7279\u5b9a\u7684\u534f\u8bae\u6216\u56fa\u4ef6\u7248\u672c\u624d\u80fd\u652f\u6301\u6682\u505c\u95f4\u9694\u7684\u62a5\u544a\u3002\u4f7f\u7528\u8f83\u65e7\u7684\u8bbe\u5907\u6216\u672a\u7ecf\u5347\u7ea7\u7684\u8bbe\u5907\u53ef\u80fd\u65e0\u6cd5\u63d0\u4f9b\u8fd9\u4e9b\u4fe1\u606f\u3002 4. \u9650\u5236\u6027\u56e0\u7d20\uff1a\u7279\u5b9a\u7684\u7f51\u7edc\u62d3\u6251\u3001\u914d\u7f6e\u6216\u9650\u5236\u6761\u4ef6\u53ef\u80fd\u5bfc\u81f4\u67d0\u4e9b\u8bbe\u5907\u65e0\u6cd5\u63d0\u4f9b\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u67d0\u4e9b\u7f51\u7edc\u8bbe\u5907\u5728\u865a\u62df\u5316\u73af\u5883\u4e2d\u53ef\u80fd\u53d7\u5230\u9650\u5236\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u67d0\u4e2a\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u6216\u7f51\u7edc\u8bbe\u5907\u4e0d\u63d0\u4f9b\u6709\u5173\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\uff0c\u90a3\u4e48\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u80fd\u9700\u8981\u4f9d\u8d56\u5176\u4ed6\u6307\u6807\u548c\u5de5\u5177\u6765\u76d1\u89c6\u548c\u8bc4\u4f30\u7f51\u7edc\u6027\u80fd\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u67e5\u770b\u6682\u505c\u5e27\u6570\u91cf\u3001\u5e26\u5bbd\u5229\u7528\u7387\u3001\u4e22\u5305\u7387\u7b49\u5176\u4ed6\u53ef\u7528\u7684\u6027\u80fd\u6307\u6807\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-_2","title":"-\u8bf4\u4eba\u8bdd\u89e3\u6790\uff1a","text":"<ol> <li>\u8fd9\u6bb5\u8bdd\u63cf\u8ff0\u4e86\u5bf9 RDMA\uff08\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff09\u6d41\u91cf\u8fdb\u884c\u76d1\u6d4b\u548c\u5206\u6790\u7684\u65b9\u6cd5\u3002</li> <li>\u5728\u8fd9\u79cd\u76d1\u6d4b\u4e2d\uff0c\u6536\u96c6\u4e86\u6bcf\u4e2a\u7aef\u53e3\u3001\u6bcf\u4e2a\u4f18\u5148\u7ea7\uff08\u6216\u91cd\u8981\u6027\u7ea7\u522b\uff09\u7684\u6570\u636e\u5305\u548c\u5b57\u8282\u6570\u7684\u53d1\u9001\u548c\u63a5\u6536\u60c5\u51b5\uff0c\u4ee5\u53ca\u5728\u6d41\u5165\u7aef\u53e3\u548c\u51fa\u53e3\u961f\u5217\u4e2d\u53d1\u751f\u7684\u6570\u636e\u5305\u4e22\u5f03\u60c5\u51b5\u3002\u8fd9\u4e9b\u6d41\u91cf\u8ba1\u6570\u5668\u53ef\u4ee5\u5e2e\u52a9\u6211\u4eec\u4e86\u89e3 RDMA \u6d41\u91cf\u7684\u6a21\u5f0f\u548c\u8d8b\u52bf\u3002</li> <li>\u540c\u65f6\uff0c\u4e22\u5305\u8ba1\u6570\u5668\u5e2e\u52a9\u6211\u4eec\u68c0\u6d4b\u662f\u5426\u5b58\u5728\u4e0e RDMA \u6d41\u91cf\u6709\u5173\u7684\u95ee\u9898\uff0c\u6b63\u5e38\u60c5\u51b5\u4e0b\u4e0d\u5e94\u8be5\u51fa\u73b0 RDMA \u6570\u636e\u5305\u7684\u4e22\u5931\u3002\u4e22\u5305\u901a\u5e38\u8868\u793a\u6570\u636e\u4f20\u8f93\u7684\u4e2d\u65ad\u6216\u95ee\u9898\uff0c\u56e0\u6b64\u68c0\u6d4b\u4e22\u5305\u53ef\u4ee5\u5e2e\u52a9\u7ba1\u7406\u5458\u8bc6\u522b\u548c\u89e3\u51b3\u4e0e RDMA\u6d41\u91cf\u76f8\u5173\u7684\u5f02\u5e38\u60c5\u51b5\u3002 \u603b\u4e4b\uff0c\u8fd9\u6bb5\u8bdd\u5f3a\u8c03\u4e86\u5bf9 RDMA \u6d41\u91cf\u8fdb\u884c\u8be6\u7ec6\u76d1\u6d4b\u548c\u8ba1\u6570\u7684\u91cd\u8981\u6027\uff0c\u4ee5\u4fbf\u4e86\u89e3\u5176\u6027\u80fd\u548c\u8fd0\u884c\u72b6\u51b5\uff0c\u5e76\u80fd\u591f\u8fc5\u901f\u53d1\u73b0\u5e76\u89e3\u51b3\u4efb\u4f55\u4e0e RDMA \u6570\u636e\u4f20\u8f93\u76f8\u5173\u7684\u95ee\u9898\u3002</li> </ol>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#53-rdma-pingmesh","title":"5.3 RDMA Pingmesh","text":"<p>We have developed an active latency measurement service for RDMA similar to the TCP Pingmesh service [21]. We let the servers ping each other using RDMA and call the measurement system RDMA Pingmesh. RDMA Pingmesh launches RDMA probes, with payload size 512 bytes, to the servers at different locations (ToR, Podset, Data center) and logs the measured RTT (if probes succeed) or error code (if probes fail). From the measured RTT of RDMA Pingmesh, we can infer if RDMA is working well or not. Our RDMA management and monitoring took a pragmatic approach by focusing on configurations, counters, and end-to-end latency. We expect this approach works well for the future 100G or higher speed networks. RDMA poses challenges for packet-level monitoring due to the high network speed and NIC offloading, which we plan to address in our next step.</p> <p>\u6211\u4eec\u5df2\u7ecf\u4e3a RDMA \u5f00\u53d1\u4e86\u4e00\u79cd==\u4e3b\u52a8\u5ef6\u8fdf\u6d4b\u91cf\u670d\u52a1==\uff0c\u7c7b\u4f3c\u4e8e TCP Pingmesh \u670d\u52a1\uff08==\u4e3b\u52a8\u63a2\u6d4b\u6d3b\u52a8\u7684\u7b49\u5f85\u65f6\u95f4==\uff09 [21]\u3002 \u6211\u4eec\u8ba9\u670d\u52a1\u5668\u4f7f\u7528 RDMA \u76f8\u4e92 ping\uff08ping\u901a\uff09\uff0c\u5e76\u5c06\u6d4b\u91cf\u7cfb\u7edf\u79f0\u4e3a RDMA Pingmesh\u3002  RDMA Pingmesh ==\u5411\u4e0d\u540c\u4f4d\u7f6e\uff08ToR\u3001Podset\u3001\u6570\u636e\u4e2d\u5fc3\uff09\u7684\u670d\u52a1\u5668==\u542f\u52a8\u8d1f\u8f7d\u5927\u5c0f\u4e3a 512 \u5b57\u8282\u7684 ==RDMA \u63a2\u9488==\uff0c\u5e76\u8bb0\u5f55\u6d4b\u91cf\u7684 RTT\uff08\u5982\u679c\u63a2\u6d4b\u6210\u529f\uff09\u6216\u9519\u8bef\u4ee3\u7801\uff08\u5982\u679c\u63a2\u6d4b\u5931\u8d25\uff09\u3002 \u4ece RDMA Pingmesh \u6d4b\u91cf\u7684 RTT\uff0c\u6211\u4eec\u53ef\u4ee5\u63a8\u65ad RDMA \u662f\u5426\u5de5\u4f5c\u826f\u597d\u3002 \u6211\u4eec\u7684 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u91c7\u53d6\u4e86\u52a1\u5b9e\u7684\u65b9\u6cd5\uff0c\u91cd\u70b9\u5173\u6ce8\u914d\u7f6e\u3001\u8ba1\u6570\u5668\u548c\u7aef\u5230\u7aef\u5ef6\u8fdf\u3002\u6211\u4eec\u9884\u8ba1\u8fd9\u79cd\u65b9\u6cd5\u9002\u7528\u4e8e\u672a\u6765 100G \u6216\u66f4\u9ad8\u901f\u5ea6\u7684\u7f51\u7edc\u3002\u7531\u4e8e\u9ad8\u7f51\u7edc\u901f\u5ea6\u548c NIC \u5378\u8f7d\uff0cRDMA \u7ed9\u6570\u636e\u5305\u7ea7\u76d1\u63a7\u5e26\u6765\u4e86\u6311\u6218\uff0c\u6211\u4eec\u8ba1\u5212\u5728\u4e0b\u4e00\u6b65\u4e2d\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-tcp-pingmesh","title":"-TCP Pingmesh \u670d\u52a1\uff1a","text":"<p>TCP Pingmesh \u670d\u52a1\u662f\u4e00\u79cd\u7528\u4e8e==\u76d1\u6d4b\u548c\u8bc4\u4f30\u8ba1\u7b97\u673a\u7f51\u7edc\u6027\u80fd\u7684\u670d\u52a1==\u3002\u5b83\u7684\u4e3b\u8981\u76ee\u7684\u662f\u6d4b\u8bd5\u548c\u8bb0\u5f55\u7f51\u7edc\u4e2d\u5404\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684 TCP \u8fde\u63a5\u7684\u6027\u80fd\u548c\u53ef\u7528\u6027\u3002\u4e0b\u9762\u662f\u5bf9 TCP Pingmesh \u670d\u52a1\u7684\u8be6\u7ec6\u89e3\u91ca\uff1a</p> <ol> <li>TCP \u8fde\u63a5\u6d4b\u8bd5\uff1aTCP Pingmesh \u670d\u52a1\u4f7f\u7528 ==TCP \u534f\u8bae\u6765\u5efa\u7acb\u8fde\u63a5\u5e76\u53d1\u9001\u6570\u636e\u5305\uff0c\u4ee5\u6d4b\u91cf\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684\u7f51\u7edc\u8fde\u63a5==\u6027\u80fd\u3002\u5b83\u901a\u5e38\u4f1a\u6d4b\u8bd5\u7f51\u7edc\u7684\u5ef6\u8fdf\u3001\u4e22\u5305\u7387\u3001\u541e\u5410\u91cf\u548c\u5e26\u5bbd\u7b49\u6307\u6807\u3002</li> <li>\u591a\u8282\u70b9\u76d1\u6d4b\uff1aPingmesh \u901a\u5e38\u6d89\u53ca\u591a\u4e2a\u7f51\u7edc\u8282\u70b9\uff0c==\u8fd9\u4e9b\u8282\u70b9\u53ef\u4ee5\u662f\u6570\u636e\u4e2d\u5fc3\u3001\u4e91\u670d\u52a1\u3001\u8fb9\u7f18\u8bbe\u5907==\u7b49\u3002\u5b83\u901a\u8fc7\u5728\u8fd9\u4e9b\u8282\u70b9\u4e4b\u95f4\u5efa\u7acb\u591a\u4e2a TCP \u8fde\u63a5\u6765\u76d1\u6d4b\u5b83\u4eec\u4e4b\u95f4\u7684\u901a\u4fe1\u8d28\u91cf\u3002</li> <li>\u5468\u671f\u6027\u6d4b\u8bd5\uff1aPingmesh \u670d\u52a1\u901a\u5e38\u4ee5\u5468\u671f\u6027\u7684\u65b9\u5f0f\u6267\u884c\u6d4b\u8bd5\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u6027\u80fd\u7684\u6301\u7eed\u76d1\u6d4b\u3002\u8fd9\u6709\u52a9\u4e8e\u53ca\u65e9\u53d1\u73b0\u7f51\u7edc\u95ee\u9898\u548c\u6027\u80fd\u4e0b\u964d\u3002</li> <li>\u6027\u80fd\u6307\u6807\u8bb0\u5f55\uff1aPingmesh \u670d\u52a1\u4f1a\u8bb0\u5f55\u5404\u4e2a\u8282\u70b9\u4e4b\u95f4\u7684\u6027\u80fd\u6307\u6807\uff0c\u4ee5\u4fbf\u7f51\u7edc\u7ba1\u7406\u5458\u80fd\u591f\u4e86\u89e3\u7f51\u7edc\u7684\u5065\u5eb7\u72b6\u51b5\u3002\u8fd9\u4e9b\u6307\u6807\u53ef\u4ee5\u7528\u4e8e\u6545\u969c\u6392\u9664\u3001\u7f51\u7edc\u4f18\u5316\u548c\u5bb9\u91cf\u89c4\u5212\u7b49\u76ee\u7684\u3002</li> <li>\u7f51\u7edc\u5206\u6790\u548c\u6545\u969c\u6392\u67e5\uff1aPingmesh \u670d\u52a1\u63d0\u4f9b\u4e86\u5bf9\u7f51\u7edc\u8fde\u63a5\u6027\u80fd\u7684\u8be6\u7ec6\u6570\u636e\uff0c\u8fd9\u5bf9\u4e8e\u5206\u6790\u7f51\u7edc\u95ee\u9898\u548c\u8fdb\u884c\u6545\u969c\u6392\u67e5\u975e\u5e38\u6709\u7528\u3002\u5f53\u7f51\u7edc\u8fde\u63a5\u51fa\u73b0\u95ee\u9898\u65f6\uff0c\u7ba1\u7406\u5458\u53ef\u4ee5\u67e5\u770b Pingmesh \u6570\u636e\u4ee5\u627e\u51fa\u6839\u672c\u539f\u56e0\u3002</li> </ol> <p>\u603b\u4e4b\uff0cTCP Pingmesh \u670d\u52a1\u662f\u4e00\u79cd\u7528\u4e8e\u76d1\u6d4b\u548c\u8bc4\u4f30\u7f51\u7edc\u6027\u80fd\u7684\u5de5\u5177\uff0c\u5b83\u901a\u8fc7\u5b9a\u671f\u6d4b\u8bd5\u4e0d\u540c\u8282\u70b9\u4e4b\u95f4\u7684 TCP \u8fde\u63a5\uff0c\u63d0\u4f9b\u4e86\u6709\u5173\u7f51\u7edc\u6027\u80fd\u548c\u53ef\u7528\u6027\u7684\u6709\u7528\u4fe1\u606f\u3002\u8fd9\u6709\u52a9\u4e8e==\u786e\u4fdd\u7f51\u7edc\u5728\u9ad8\u6548\u8fd0\u884c\u3001\u95ee\u9898\u53d1\u751f\u65f6\u53ca\u65e9\u53d1\u73b0\u548c\u89e3\u51b3==\uff0c\u4ee5\u63d0\u4f9b\u66f4\u597d\u7684\u7528\u6237\u4f53\u9a8c\u548c\u7f51\u7edc\u670d\u52a1\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#54-rdma-performance","title":"5.4 RDMA Performance","text":"<p>In what follows, we present the RDMA performance results in both testbed and production networks.</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#latency-reduction","title":"Latency reduction:","text":"<p>Figure 6 shows the end-to-end latency comparison of TCP and RDMA for a highlyreliable, latency-sensitive online service. This service has multiple instances in Microsoft global data centers and it has 20K servers in each data center. The measurements are from one of the data centers. At the time of measurement, half of the traffic was TCP and half of the traffic was RDMA. The RDMA and TCP latencies were all measured by Pingmesh. The latency measurements for both TCP and RDMA were for intraDC communications. Since the online service is latency sensitive, the peak traffic volume per sever was around 350Mb/s, and the aggregate server CPU load of the service was around 20% - 30% during the measurement. The network capacity between any two servers in this data center is several Gb/s. The network was not the bottleneck, but the traffic was bursty with the typical many-to-one incast traffic pattern. As we can see, the 99th percentile latencies for RDMA and TCP were 90us and 700us, respectively. The 99th percentile latency for TCP had spikes as high as several milliseconds. In fact, even the 99.9th latency of RDMA was only around 200us, and much smaller than TCP\u2019s 99th percentile latency. Although the network was not the bottleneck, TCP\u2019s latency was high at the 99th percentile. This is caused by the kernel stack overhead and occasional incast packet drops in the network. Although RDMA did not change the incast traffic pattern, it eliminated packet drops and kernel stack overhead. Hence it achieved much smaller and smoother high percentile latency than TCP.</p> <p>![[Pasted image 20231108083430.png]]</p> <p>\u5ef6\u8fdf\u51cf\u5c11\uff1a \u56fe 6 \u663e\u793a\u4e86 TCP \u548c RDMA \u5bf9\u4e8e\u9ad8\u5ea6\u53ef\u9760\u3001\u5ef6\u8fdf\u654f\u611f\u7684\u5728\u7ebf\u670d\u52a1\u7684\u7aef\u5230\u7aef\u5ef6\u8fdf\u6bd4\u8f83\u3002\u8be5\u670d\u52a1\u5728\u5fae\u8f6f\u5168\u7403\u6570\u636e\u4e2d\u5fc3\u6709\u591a\u4e2a\u5b9e\u4f8b\uff0c\u6bcf\u4e2a\u6570\u636e\u4e2d\u5fc3\u67092\u4e07\u53f0\u670d\u52a1\u5668\u3002\u6d4b\u91cf\u7ed3\u679c\u6765\u81ea\u5176\u4e2d\u4e00\u4e2a\u6570\u636e\u4e2d\u5fc3\u3002\u6d4b\u91cf\u65f6\uff0c\u4e00\u534a\u6d41\u91cf\u662f TCP\uff0c\u4e00\u534a\u6d41\u91cf\u662f RDMA\u3002 RDMA \u548c TCP \u5ef6\u8fdf\u5747\u7531 Pingmesh \u6d4b\u91cf\u3002 TCP \u548c RDMA \u7684\u5ef6\u8fdf\u6d4b\u91cf\u5747\u9488\u5bf9 DC \u5185\u901a\u4fe1\u3002\u7531\u4e8e\u5728\u7ebf\u670d\u52a1\u5bf9\u5ef6\u8fdf\u654f\u611f\uff0c\u6d4b\u91cf\u671f\u95f4\u6bcf\u53f0\u670d\u52a1\u5668\u7684\u5cf0\u503c\u6d41\u91cf\u7ea6\u4e3a 350Mb/s\uff0c\u8be5\u670d\u52a1\u7684\u670d\u52a1\u5668 CPU \u603b\u8d1f\u8f7d\u7ea6\u4e3a 20% - 30%\u3002\u8be5\u6570\u636e\u4e2d\u5fc3\u5185\u4efb\u610f\u4e24\u53f0\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u7f51\u7edc\u5bb9\u91cf\u4e3a\u6570Gb/s\u3002 \u7f51\u7edc\u4e0d\u662f\u74f6\u9888\uff0c\u4f46\u6d41\u91cf\u7a81\u53d1\uff0c\u662f\u7531\u4e8e\u5178\u578b\u7684\u591a\u5bf9\u4e00 incast \u6d41\u91cf\u6a21\u5f0f\u3002 \u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0cRDMA \u548c TCP \u7684 99% \u5ef6\u8fdf\u5206\u522b\u4e3a 90us \u548c 700us\u3002 TCP \u7b2c 99 \u4e2a\u767e\u5206\u4f4d\u6570\u7684\u5ef6\u8fdf\u5cf0\u503c\u9ad8\u8fbe\u51e0\u6beb\u79d2\u3002\u4e8b\u5b9e\u4e0a\uff0c\u5373\u4f7f\u662f RDMA \u7684 99.9% \u5ef6\u8fdf\u4e5f\u53ea\u6709 200us \u5de6\u53f3\uff0c\u8fdc\u5c0f\u4e8e TCP \u7684 99% \u5ef6\u8fdf\u3002\u5c3d\u7ba1\u7f51\u7edc\u4e0d\u662f\u74f6\u9888\uff0c\u4f46 TCP \u7684\u5ef6\u8fdf\u5728\u7b2c 99 \u4e2a\u767e\u5206\u70b9\u5904\u5f88\u9ad8\u3002\u8fd9\u662f\u7531\u5185\u6838\u5806\u6808\u5f00\u9500\u548c\u7f51\u7edc\u4e2d\u5076\u5c14\u53d1\u751f\u7684 incast \u6570\u636e\u5305\u4e22\u5931\u5f15\u8d77\u7684\u3002 ==\u5c3d\u7ba1 RDMA \u6ca1\u6709\u6539\u53d8 incast \u6d41\u91cf\u6a21\u5f0f\uff0c\u4f46\u5b83\u6d88\u9664\u4e86\u6570\u636e\u5305\u4e22\u5931\u548c\u5185\u6838\u5806\u6808\u5f00\u9500\u3002\u56e0\u6b64\uff0c\u5b83\u5b9e\u73b0\u4e86\u6bd4 TCP \u66f4\u5c0f\u3001\u66f4\u5e73\u6ed1\u7684\u9ad8\u767e\u5206\u4f4d\u6570\u5ef6\u8fdf\u3002==</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#rdmaincast","title":"\u4e3a\u4ec0\u4e48RDMA\u4e0d\u80fd\u6539\u53d8incast\u6d41\u91cf\u6a21\u5f0f\uff1f","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#throughput","title":"Throughput\uff1a","text":"<p>The following experiment shows the RDMA performance with hundreds of servers in a three-tier Clos network. We ran this experiment using two podsets after a data center was online but before it was handed to the customer \u2013 i.e. there is no customer traffic during the experiment. The network topology is shown in Figure 7(a). All the ports in the network are 40GbE. A podset is composed of 4 Leaf switches, 24 ToR switches, and 576 servers. Each ToR switch connects 24 servers. The 4 Leaf switches connect to a total of 64 Spine switches. The oversubscription ratios at the ToR and the Leaf are 6:1 and 3:2, respectively. The aggregate bandwidth between a podset and the Spine switch layer is 64x40Gb/s = 2.56Tb/s. We used a ToR-to-ToR traffic pattern. We paired the ToRs in the two podsets one by one. ToR i in podset 0 was paired with ToR i in podset 1. In each ToR, we selected 8 servers, and let each server estab- lish 8 RDMA connections to the corresponding server in the other ToR. All these RDMA connections needed to traverse the Leaf-Spine links. All the RDMA connections sent data as fast as possible. In total we had 3074 connections distributed among the 128 Leaf-Spine links, which were the bottlenecks in this experiment. Figure 7(b) shows the aggregate throughput measured from the servers. The unit of the y-axis is frames per second. The RDMA frame size is 1086 bytes with 1024 bytes as payload. The aggregate throughput is 3.0Tb/s. This is 60% network utilization of the total 5.12Tb/s network capacity. During the whole experiment, not a single packet was dropped. Every server was sending and receiving at 8Gb/s with the CPU utilization close to 0%. Since we use ECMP for multi-path routing in our network, 60% utilization is what we can achieve for this experiment. This 60% limitation is caused by ECMP hash collision, not PFC or HOL blocking. Both our simulation and the results in [2], in which no PFC was used, showed similar utilization numbers for ECMP routing in three-tier Clos networks. lish 8 RDMA connections to the corresponding server in the other ToR. All these RDMA connections needed to traverse the Leaf-Spine links. All the RDMA connections sent data as fast as possible. In total we had 3074 connections distributed among the 128 Leaf-Spine links, which were the bottlenecks in this experiment. Figure 7(b) shows the aggregate throughput measured from the servers. The unit of the y-axis is frames per second. The RDMA frame size is 1086 bytes with 1024 bytes as payload. The aggregate throughput is 3.0Tb/s. This is 60% network utilization of the total 5.12Tb/s network capacity. During the whole experiment, not a single packet was dropped. Every server was sending and receiving at 8Gb/s with the CPU utilization close to 0%. Since we use ECMP for multi-path routing in our network, 60% utilization is what we can achieve for this experiment. This 60% limitation is caused by ECMP hash collision, not PFC or HOL blocking. Both our simulation and the results in [2], in which no PFC was used, showed similar utilization numbers for ECMP routing in three-tier Clos networks. lish 8 RDMA connections to the corresponding server in the other ToR. All these RDMA connections needed to traverse the Leaf-Spine links. All the RDMA connections sent data as fast as possible. In total we had 3074 connections distributed among the 128 Leaf-Spine links, which were the bottlenecks in this experiment. Figure 7(b) shows the aggregate throughput measured from the servers. The unit of the y-axis is frames per second. The RDMA frame size is 1086 bytes with 1024 bytes as payload. The aggregate throughput is 3.0Tb/s. This is 60% network utilization of the total 5.12Tb/s network capacity. During the whole experiment, not a single packet was dropped. Every server was sending and receiving at 8Gb/s with the CPU utilization close to 0%. Since we use ECMP for multi-path routing in our network, 60% utilization is what we can achieve for this experiment. This 60% limitation is caused by ECMP hash collision, not PFC or HOL blocking. Both our simulation and the results in [2], in which no PFC was used, showed similar utilization numbers for ECMP routing in three-tier Clos networks. We unfortunately did not record the end-to-end RDMA latency in the above throughput experiment. To further investigate the relationship between network latency and throughput, we conducted the following experiment in our testbed with a two-tier network. We had two ToR switches in this testbed. Each ToR switch had 24 servers, and each ToR used 4 uplinks to connect to four Leaf switches. All the links were 40GbE. The oversubscription ratio was 6:1. We mimicked The traffic pattern in Figure 7. We chose 20 servers in every ToR and paired every server in one ToR with one server in another ToR and let every server-pair establish 8 RDMA connections. Every server achieved 7Gb/s sending/receiving throughput. We show the RDMA latency measured in Pingmesh in Figure 8. Once the experiment started, the end-to-end RDMA latencies increased from 50us at the 99th percentile and 80us at the 99.9th percentile to 400us and 800us, respectively. Note that the 99th percentile latency of TCP did not change during the experiment in Figure 8. This is because we put RDMA and TCP packets into two different queues in the switches. Hence RDMA and TCP did not interfere with each other. We note that the 99th percentile latency of TCP was 500us in Figure 8, whereas it was 700us in Figure 6. The difference was caused by the fact that the servers in Figure 6 were servicing realworld workload whereas the servers in Figure 8 were almost idle (except running the RDMA traffic generator). Figure 8 also demonstrated that the RDMA latency increase was due to the network congestion created by the RDMA traffic. The above measurement results show that, compared to TCP, RDMA achieves low latency and high throughput by bypassing the OS kernel and by eliminating packet drops. But RDMA is not a panacea for achieving both low latency and high throughput. The RDMA latency can still increase as the network becomes congested and queues build up.</p> <p>![[Pasted image 20231108084410.png]] ![[Pasted image 20231108084437.png]]</p> <ol> <li> <p>\u63a7\u5236\u65e0\u5173\u53d8\u91cf\uff0c\u4fdd\u8bc1\u6548\u679c\uff1a ==\u4ee5\u4e0b\u5b9e\u9a8c\u663e\u793a\u4e86\u4e09\u5c42 Clos \u7f51\u7edc\u4e2d\u6570\u767e\u53f0\u670d\u52a1\u5668\u7684 RDMA \u6027\u80fd==\u3002\u6211\u4eec\u5728\u6570\u636e\u4e2d\u5fc3\u4e0a\u7ebf\u540e\u4f46\u5728\u5c06\u5176\u4ea4\u7ed9\u5ba2\u6237\u4e4b\u524d\u4f7f\u7528\u4e24\u4e2a Podset \u8fd0\u884c\u6b64\u5b9e\u9a8c - \u5373\u5b9e\u9a8c\u671f\u95f4\u6ca1\u6709\u5ba2\u6237\u6d41\u91cf\u3002</p> </li> <li> <p>\u7f51\u7edc\u62bd\u8c61\u7ed3\u6784\uff1a \u7f51\u7edc\u62d3\u6251\u5982\u56fe7(a)\u6240\u793a\u3002\u7f51\u7edc\u4e2d\u7684\u6240\u6709\u7aef\u53e3\u5747\u4e3a 40GbE\u3002 \u4e00\u4e2a Podset \u7531 4 \u53f0 Leaf \u4ea4\u6362\u673a\u300124 \u53f0 ToR \u4ea4\u6362\u673a\u548c 576 \u53f0\u670d\u52a1\u5668\u7ec4\u6210\uff1a\u30101\u3011\u6bcf\u4e2a ToR \u4ea4\u6362\u673a\u8fde\u63a5 24 \u53f0\u670d\u52a1\u5668\uff1b\u30102\u30114 \u4e2a Leaf \u4ea4\u6362\u673a\u603b\u5171\u8fde\u63a5 64 \u4e2a Spine \u4ea4\u6362\u673a\u3002\u30103\u3011ToR \u548c Leaf \u7684\u8d85\u989d\u8ba4\u8d2d\u6bd4\u4f8b\u5206\u522b\u4e3a 6:1 \u548c 3:2\u3002 Podset \u548c Spine \u4ea4\u6362\u673a\u5c42\u4e4b\u95f4\u7684\u805a\u5408\u5e26\u5bbd\u4e3a 64x40Gb/s = 2.56Tb/s\u3002</p> </li> <li> <p>\u5b9e\u9a8c\u65b9\u6cd5\uff1a \u6211\u4eec\u4f7f\u7528\u4e86 ToR \u5230 ToR \u6d41\u91cf\u6a21\u5f0f\u3002\u6211\u4eec\u5c06\u4e24\u4e2a Podset \u4e2d\u7684 ToR \u4e00\u4e00\u914d\u5bf9\u3002 podset 0 \u4e2d\u7684 ToR i \u4e0e podset 1 \u4e2d\u7684 ToR i \u914d\u5bf9\u3002\u5728\u6bcf\u4e2a ToR \u4e2d\uff0c\u6211\u4eec\u9009\u62e9 8 \u4e2a\u670d\u52a1\u5668\uff0c\u5e76\u8ba9\u6bcf\u4e2a\u670d\u52a1\u5668\u4e0e\u53e6\u4e00\u4e2a ToR \u4e2d\u7684\u76f8\u5e94\u670d\u52a1\u5668\u5efa\u7acb 8 \u4e2a RDMA \u8fde\u63a5\u3002\u6240\u6709\u8fd9\u4e9b RDMA \u8fde\u63a5\u90fd\u9700\u8981\u904d\u5386 Leaf-Spine \u94fe\u8def\u3002</p> </li> <li> <p>\u5b9e\u9a8c\u9884\u4f30\u74f6\u9888\uff1a \u6240\u6709 RDMA \u8fde\u63a5\u90fd\u5c3d\u53ef\u80fd\u5feb\u5730\u53d1\u9001\u6570\u636e\u3002\u6211\u4eec\u603b\u5171\u6709 3074 \u4e2a\u8fde\u63a5\u5206\u5e03\u5728 128 \u4e2a Leaf-Spine \u94fe\u8def\u4e2d\uff0c\u8fd9\u662f\u672c\u5b9e\u9a8c\u7684\u74f6\u9888\u3002</p> </li> <li> <p>\u5b9e\u9a8c\u7ed3\u679c\uff1a \u56fe 7(b) \u663e\u793a\u4e86\u4ece\u670d\u52a1\u5668\u6d4b\u91cf\u7684\u603b\u541e\u5410\u91cf\u3002 y \u8f74\u7684\u5355\u4f4d\u662f\u6bcf\u79d2\u5e27\u6570\u3002 RDMA \u5e27\u5927\u5c0f\u4e3a 1086 \u5b57\u8282\uff0c\u5176\u4e2d 1024 \u5b57\u8282\u4f5c\u4e3a\u6709\u6548\u8d1f\u8f7d\u3002\u603b\u541e\u5410\u91cf\u4e3a 3.0Tb/s\u3002\u8fd9\u662f\u603b 5.12Tb/s \u7f51\u7edc\u5bb9\u91cf\u7684 60% \u7f51\u7edc\u5229\u7528\u7387\u3002 \u5728\u6574\u4e2a\u5b9e\u9a8c\u8fc7\u7a0b\u4e2d\uff0c\u6ca1\u6709\u4e00\u4e2a\u6570\u636e\u5305\u88ab\u4e22\u5f03\u3002\u6bcf\u53f0\u670d\u52a1\u5668\u7684\u53d1\u9001\u548c\u63a5\u6536\u901f\u5ea6\u5747\u4e3a 8Gb/s\uff0cCPU \u5229\u7528\u7387\u63a5\u8fd1 0%\u3002==\u7531\u4e8e\u6211\u4eec\u5728\u7f51\u7edc\u4e2d\u4f7f\u7528 ECMP \u8fdb\u884c\u591a\u8def\u5f84\u8def\u7531\uff0c\u56e0\u6b64\u672c\u5b9e\u9a8c\u53ef\u4ee5\u5b9e\u73b0 60% \u7684\u5229\u7528\u7387\u3002\u8fd9\u4e2a 60% \u7684\u9650\u5236\u662f\u7531 ECMP \u54c8\u5e0c\u51b2\u7a81\u5f15\u8d77\u7684\uff0c\u800c\u4e0d\u662f PFC \u6216 HOL \u963b\u585e\u5f15\u8d77\u7684==\u3002\u6211\u4eec\u7684\u6a21\u62df\u548c [2] \u4e2d\u7684\u7ed3\u679c\uff08\u5176\u4e2d\u672a\u4f7f\u7528 PFC\uff09\u90fd\u663e\u793a\u4e09\u5c42 Clos \u7f51\u7edc\u4e2d ECMP \u8def\u7531\u7684\u5229\u7528\u7387\u76f8\u4f3c\u3002</p> </li> <li> <p>\u5b9e\u9a8c\u53cd\u520d\u4e0e\u53e6\u8bbe\u5b9e\u9a8c\uff1a ![[Pasted image 20231108090912.png]] \u9057\u61be\u7684\u662f\uff0c\u6211\u4eec\u5728\u4e0a\u8ff0\u541e\u5410\u91cf\u5b9e\u9a8c\u4e2d\u6ca1\u6709\u8bb0\u5f55\u7aef\u5230\u7aef RDMA \u5ef6\u8fdf\u3002 \u4e3a\u4e86\u8fdb\u4e00\u6b65\u7814\u7a76\u7f51\u7edc\u5ef6\u8fdf\u548c\u541e\u5410\u91cf\u4e4b\u95f4\u7684\u5173\u7cfb\uff0c\u6211\u4eec\u5728\u6d4b\u8bd5\u53f0\u4e0a\u4f7f\u7528\u4e24\u5c42\u7f51\u7edc\u8fdb\u884c\u4e86\u4ee5\u4e0b\u5b9e\u9a8c\u3002\u6211\u4eec\u5728\u8fd9\u4e2a\u6d4b\u8bd5\u53f0\u4e2d\u6709\u4e24\u4e2a ToR \u4ea4\u6362\u673a\u3002\u6bcf\u4e2a ToR \u4ea4\u6362\u673a\u6709 24 \u53f0\u670d\u52a1\u5668\uff0c\u6bcf\u4e2a ToR \u4f7f\u7528 4 \u4e2a\u4e0a\u884c\u94fe\u8def\u8fde\u63a5\u5230 4 \u4e2a Leaf \u4ea4\u6362\u673a\u3002\u6240\u6709\u94fe\u8def\u5747\u4e3a 40GbE\u3002\u8d85\u989d\u8ba4\u8d2d\u6bd4\u4f8b\u4e3a6:1\u3002 \u6211\u4eec\u6a21\u4eff\u56fe 7 \u4e2d\u7684\u6d41\u91cf\u6a21\u5f0f\u3002\u6211\u4eec\u5728\u6bcf\u4e2a ToR \u4e2d\u9009\u62e9 20 \u53f0\u670d\u52a1\u5668\uff0c\u5e76\u5c06\u4e00\u4e2a ToR \u4e2d\u7684\u6bcf\u53f0\u670d\u52a1\u5668\u4e0e\u53e6\u4e00\u4e2a ToR \u4e2d\u7684\u4e00\u53f0\u670d\u52a1\u5668\u914d\u5bf9\uff0c\u5e76\u8ba9\u6bcf\u4e2a\u670d\u52a1\u5668\u5bf9\u5efa\u7acb 8 \u4e2a RDMA \u8fde\u63a5\u3002\u6bcf\u53f0\u670d\u52a1\u5668\u90fd\u5b9e\u73b0\u4e86 7Gb/s \u7684\u53d1\u9001/\u63a5\u6536\u541e\u5410\u91cf\u3002 \u6211\u4eec\u5728\u56fe 8 \u4e2d\u663e\u793a\u4e86\u5728 Pingmesh \u4e2d\u6d4b\u5f97\u7684 RDMA \u5ef6\u8fdf\u3002\u5b9e\u9a8c\u5f00\u59cb\u540e\uff0c\u7aef\u5230\u7aef RDMA \u5ef6\u8fdf\u5206\u522b\u4ece\u7b2c 99 \u4e2a\u767e\u5206\u4f4d\u6570\u7684 50us \u548c\u7b2c 99.9 \u4e2a\u767e\u5206\u4f4d\u6570\u7684 80us \u589e\u52a0\u5230 400us \u548c 800us\u3002 \u8bf7\u6ce8\u610f\uff0c\u5728\u56fe 8 \u7684\u5b9e\u9a8c\u8fc7\u7a0b\u4e2d\uff0cTCP \u7684\u7b2c 99 \u4e2a\u767e\u5206\u4f4d\u6570\u5ef6\u8fdf\u6ca1\u6709\u53d8\u5316\u3002\u8fd9\u662f\u56e0\u4e3a\u6211\u4eec\u5c06 RDMA \u548c TCP \u6570\u636e\u5305\u653e\u5165\u4ea4\u6362\u673a\u4e2d\u7684\u4e24\u4e2a\u4e0d\u540c\u961f\u5217\u4e2d\u3002\u56e0\u6b64\uff0cRDMA \u548c TCP \u4e0d\u4f1a\u4e92\u76f8\u5e72\u6270\u3002 \u6211\u4eec\u6ce8\u610f\u5230\uff0c\u56fe 8 \u4e2d TCP \u7684\u7b2c 99 \u4e2a\u767e\u5206\u4f4d\u5ef6\u8fdf\u4e3a 500us\uff0c\u800c\u56fe 6 \u4e2d\u4e3a 700us\u3002\u9020\u6210\u5dee\u5f02\u7684\u539f\u56e0\u662f\u56fe 6 \u4e2d\u7684\u670d\u52a1\u5668\u6b63\u5728\u4e3a\u73b0\u5b9e\u4e16\u754c\u7684\u5de5\u4f5c\u8d1f\u8f7d\u63d0\u4f9b\u670d\u52a1\uff0c\u800c\u56fe 8 \u4e2d\u7684\u670d\u52a1\u5668\u51e0\u4e4e\u5904\u4e8e\u7a7a\u95f2\u72b6\u6001\uff08\u9664\u4e86\u8fd0\u884c RDMA \u6d41\u91cf\u751f\u6210\u5668\uff09\u3002 \u56fe 8 \u8fd8\u8868\u660e\uff0cRDMA \u5ef6\u8fdf\u589e\u52a0\u662f\u7531\u4e8e RDMA \u6d41\u91cf\u9020\u6210\u7684\u7f51\u7edc\u62e5\u585e\u9020\u6210\u7684\u3002 \u4e0a\u8ff0\u6d4b\u91cf\u7ed3\u679c\u8868\u660e\uff0c==\u4e0eTCP\u76f8\u6bd4\uff0cRDMA\u901a\u8fc7\u7ed5\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u5e76\u6d88\u9664\u4e22\u5305\uff0c\u5b9e\u73b0\u4e86\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf==\u3002\u4f46 RDMA \u5e76\u4e0d\u662f\u540c\u65f6\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u7075\u4e39\u5999\u836f\u3002\u968f\u7740\u7f51\u7edc\u53d8\u5f97\u62e5\u585e\u548c\u961f\u5217\u589e\u591a\uff0cRDMA \u5ef6\u8fdf\u4ecd\u7136\u4f1a\u589e\u52a0\uff01</p> </li> </ol>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-ecmp","title":"-ECMP\u6280\u672f\uff1a","text":"<p>ECMP\uff08Equal-Cost Multi-Path\uff09\u662f\u4e00\u79cd\u7f51\u7edc\u8def\u7531\u6280\u672f\uff0c\u7528\u4e8e\u5728\u7f51\u7edc\u4e2d\u9009\u62e9\u591a\u4e2a\u7b49\u4ef7\u8def\u5f84\u4e2d\u7684\u4e00\u4e2a\u6765\u4f20\u9001\u6570\u636e\u6d41\u91cf\u3002\u5b83\u7684==\u76ee\u6807\u662f\u5b9e\u73b0\u8d1f\u8f7d\u5747\u8861\uff0c\u63d0\u9ad8\u7f51\u7edc\u6027\u80fd\u548c\u53ef\u9760\u6027==\u3002</p> <p>\u591a\u8def\u5f84\u8def\u7531\u662f\u6307\u5728\u7f51\u7edc\u4e2d\u5b58\u5728\u591a\u4e2a\u8def\u5f84\u53ef\u4ee5\u5230\u8fbe\u76f8\u540c\u7684\u76ee\u6807\uff0c\u800c\u8fd9\u4e9b\u8def\u5f84\u7684\u6210\u672c\uff08\u901a\u5e38\u662f\u8df3\u6570\u3001\u5e26\u5bbd\u6216\u5ef6\u8fdf\uff09\u662f\u76f8\u7b49\u7684\u3002ECMP\u901a\u8fc7\u5728\u591a\u4e2a\u7b49\u4ef7\u8def\u5f84\u4e4b\u95f4\u5747\u5300\u5206\u914d\u6570\u636e\u6d41\u91cf\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u7684\u5404\u4e2a\u8def\u5f84\u5f97\u5230\u5408\u7406\u5229\u7528\u3002</p> <p>\u5728==ECMP\u4e2d\uff0c\u8def\u7531\u5668\u6216\u4ea4\u6362\u673a\u4f1a\u5c06\u4f20\u5165\u7684\u6570\u636e\u6d41\u91cf\u5206\u4e3a\u591a\u4e2a\u6570\u636e\u5305\uff0c\u5e76\u4f7f\u7528\u67d0\u79cd\u6563\u5217\u7b97\u6cd5\u6765\u8ba1\u7b97\u6bcf\u4e2a\u6570\u636e\u5305\u5e94\u8be5\u9009\u62e9\u54ea\u4e2a\u7b49\u4ef7\u8def\u5f84\u8fdb\u884c\u4f20\u8f93==\u3002\u8fd9\u4e2a \u6563\u5217\u7b97\u6cd5\u901a\u5e38\u57fa\u4e8e\u6570\u636e\u5305\u7684\u6e90IP\u5730\u5740\u3001\u76ee\u6807IP\u5730\u5740\u3001\u6e90\u7aef\u53e3\u3001\u76ee\u6807\u7aef\u53e3\u7b49\u5b57\u6bb5\uff0c\u4ee5\u786e\u4fdd\u76f8\u540c\u7684\u6570\u636e\u6d41\u91cf\u5728\u540c\u4e00\u8def\u5f84\u4e0a\u4f20\u8f93\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/#-ecmp_1","title":"-ECMP\u5bf9\u5e94\u7684\u54c8\u5e0c\u51b2\u7a81\uff1a","text":"<p>def(\u54c8\u5e0c\u51b2\u7a81): \u662f\u6307\u591a\u4e2a\u6570\u636e\u5305\u7ecf\u8fc7\u6563\u5217\u7b97\u6cd5\u8ba1\u7b97\u540e\uff0c\u5f97\u5230\u76f8\u540c\u7684\u54c8\u5e0c\u503c\u3002</p> <p>\u5f53==\u54c8\u5e0c\u51b2\u7a81\u53d1\u751f\u65f6\uff0c\u591a\u4e2a\u6570\u636e\u5305\u5c06\u88ab\u5206\u914d\u5230\u76f8\u540c\u7684\u8def\u5f84\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u67d0\u4e9b\u8def\u5f84\u8d1f\u8f7d\u8fc7\u91cd\uff0c\u800c\u5176\u4ed6\u8def\u5f84\u8d1f\u8f7d\u8f83\u8f7b==\u3002\u8fd9\u4f1a\u964d\u4f4eECMP\u7684\u5747\u8861\u6027\uff0c\u56e0\u4e3a\u5b83\u65e0\u6cd5\u5145\u5206\u5229\u7528\u6240\u6709\u53ef\u7528\u7684\u8def\u5f84\u3002</p> <p>\u4e3a\u4e86\u51cf\u5c11\u54c8\u5e0c\u51b2\u7a81\uff0c\u4e00\u4e9bECMP\u5b9e\u73b0\u91c7\u7528\u4e86\u66f4\u590d\u6742\u7684\u54c8\u5e0c\u7b97\u6cd5\uff0c\u4ee5\u4f7f\u76f8\u540c\u6570\u636e\u6d41\u91cf\u7684\u6570\u636e\u5305\u5728\u5c3d\u53ef\u80fd\u591a\u7684\u60c5\u51b5\u4e0b\u9009\u62e9\u4e0d\u540c\u7684\u8def\u5f84\u3002\u6b64\u5916\uff0c\u6709\u4e9bECMP\u5b9e\u73b0\u8fd8\u63d0\u4f9b\u4e86\u914d\u7f6e\u9009\u9879\uff0c\u5141\u8bb8\u7ba1\u7406\u5458\u81ea\u5b9a\u4e49\u6563\u5217\u7b97\u6cd5\uff0c\u4ee5\u9002\u5e94\u7279\u5b9a\u7f51\u7edc\u7684\u9700\u6c42\u3002</p> <p>\u603b\u4e4b\uff0cECMP\u662f\u4e00\u79cd\u7528\u4e8e\u5b9e\u73b0\u591a\u8def\u5f84\u8def\u7531\u548c\u8d1f\u8f7d\u5747\u8861\u7684\u7f51\u7edc\u6280\u672f\uff0c\u5b83\u901a\u8fc7\u6563\u5217\u7b97\u6cd5\u5c06\u6570\u636e\u5305\u5206\u914d\u5230\u4e0d\u540c\u7684\u8def\u5f84\u3002\u54c8\u5e0c\u51b2\u7a81\u662f\u6307\u591a\u4e2a\u6570\u636e\u5305\u88ab\u5206\u914d\u5230\u76f8\u540c\u8def\u5f84\u7684\u60c5\u51b5\uff0c\u53ef\u80fd\u5bfc\u81f4\u4e0d\u5747\u8861\u7684\u8d1f\u8f7d\u5206\u5e03\u3002\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u91c7\u53d6\u63aa\u65bd\u6765\u51cf\u5c11\u54c8\u5e0c\u51b2\u7a81\uff0c\u4ee5\u63d0\u9ad8ECMP\u7684\u6027\u80fd\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/","title":"6 EXPERIENCES","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#61-rdma-deployment","title":"6.1 RDMA Deployment","text":"<p>RoCEv2 was a new technology to us when we began this work three years ago. We were unaware of any large-scale RoCEv2 deployment at that time. Though the benefits (zero packet drops, low latency, and low CPU overhead) were attractive, we were concerned about the maturity of RoCEv2. We devised a step-by-step procedure to onboard RDMA. For the first step, we built a small lab network with tens of servers. This step helped us eliminate most of the bugs at early stage. In the second step, we used test clusters to improve the maturity of RoCEv2. The test clusters\u2019 setup and management were the same as their production counterparts. In the third step, we enabled RDMA in production networks at ToR level only. In the fourth step, we enabled PFC at the Podset level, i.e., we enabled PFC in the ToR and Leaf switches within the Podsets. In the last step, we enabled PFC up to the Spine switches. In every step when we carried out deployment in production, we followed our safe deployment procedure to enable RDMA through several phases in our global data centers. This step-by-step procedure turned out to be effective in improving the maturity of RoCEv2. The RDMA transport livelock and most of the bugs were detected in lab tests. The PFC deadlock and slow-receiver symptom were detected in the test clusters. Only the NIC PFC pause frame storm and a few other bugs hit our production networks. Using the same management and monitoring for both the test clusters and the production networks turned out to be invaluable. It made our life easier as the test clusters were always well managed. At the same time, it let us thoroughly test RoCEv2 as well as the management and monitoring systems before RoCEv2 went into production.</p> <p>\u5f53\u6211\u4eec\u4e09\u5e74\u524d\u5f00\u59cb\u8fd9\u9879\u5de5\u4f5c\u65f6\uff0cRoCEv2 \u5bf9\u6211\u4eec\u6765\u8bf4\u662f\u4e00\u9879\u65b0\u6280\u672f\u3002\u5f53\u65f6\u6211\u4eec\u5e76\u4e0d\u77e5\u9053\u6709\u4efb\u4f55\u5927\u89c4\u6a21\u7684 RoCEv2 \u90e8\u7f72\u3002\u5c3d\u7ba1\u5176\u4f18\u52bf\uff08\u96f6\u4e22\u5305\u3001\u4f4e\u5ef6\u8fdf\u548c\u4f4e CPU \u5f00\u9500\uff09\u5f88\u6709\u5438\u5f15\u529b\uff0c\u4f46\u6211\u4eec\u5bf9 RoCEv2 \u7684\u6210\u719f\u5ea6\u611f\u5230\u62c5\u5fe7\u3002 \u6211\u4eec\u8bbe\u8ba1\u4e86\u4e00\u4e2a\u52a0\u8f7d RDMA \u7684\u5206\u6b65\u7a0b\u5e8f\u3002\u7b2c\u4e00\u6b65\uff0c\u6211\u4eec\u5efa\u7acb\u4e86\u4e00\u4e2a\u5305\u542b\u6570\u5341\u53f0\u670d\u52a1\u5668\u7684\u5c0f\u578b\u5b9e\u9a8c\u5ba4\u7f51\u7edc\u3002\u8fd9\u4e00\u6b65\u5e2e\u52a9\u6211\u4eec\u5728\u65e9\u671f\u9636\u6bb5\u6d88\u9664\u4e86\u5927\u90e8\u5206\u9519\u8bef\u3002\u7b2c\u4e8c\u6b65\uff0c\u6211\u4eec\u4f7f\u7528\u6d4b\u8bd5\u96c6\u7fa4\u6765\u63d0\u9ad8RoCEv2\u7684\u6210\u719f\u5ea6\u3002\u6d4b\u8bd5\u96c6\u7fa4\u7684\u8bbe\u7f6e\u548c\u7ba1\u7406\u4e0e\u751f\u4ea7\u96c6\u7fa4\u76f8\u540c\u3002\u7b2c\u4e09\u6b65\uff0c\u6211\u4eec\u4ec5\u5728 ToR \u7ea7\u522b\u7684\u751f\u4ea7\u7f51\u7edc\u4e2d\u542f\u7528 RDMA\u3002\u7b2c\u56db\u6b65\uff0c\u6211\u4eec\u5728 Podset \u7ea7\u522b\u542f\u7528 PFC\uff0c\u5373\u5728 Podset \u5185\u7684 ToR \u548c Leaf \u4ea4\u6362\u673a\u4e2d\u542f\u7528 PFC\u3002\u5728\u6700\u540e\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u542f\u7528\u4e86 Spine \u4ea4\u6362\u673a\u7684 PFC\u3002 \u5728\u6211\u4eec\u8fdb\u884c\u751f\u4ea7\u90e8\u7f72\u7684\u6bcf\u4e00\u6b65\u4e2d\uff0c\u6211\u4eec\u90fd\u9075\u5faa\u5b89\u5168\u90e8\u7f72\u7a0b\u5e8f\uff0c\u4ee5\u4fbf\u5728\u6211\u4eec\u7684\u5168\u7403\u6570\u636e\u4e2d\u5fc3\u7684\u591a\u4e2a\u9636\u6bb5\u4e2d\u542f\u7528 RDMA\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u8fd9\u4e00\u5206\u6b65\u8fc7\u7a0b\u6709\u6548\u63d0\u9ad8\u4e86 RoCEv2 \u7684\u6210\u719f\u5ea6\u3002  RDMA \u4f20\u8f93\u6d3b\u9501\u548c\u5927\u591a\u6570\u9519\u8bef\u90fd\u662f\u5728\u5b9e\u9a8c\u5ba4\u6d4b\u8bd5\u4e2d\u68c0\u6d4b\u5230\u7684\u3002\u5728\u6d4b\u8bd5\u96c6\u7fa4\u4e2d\u68c0\u6d4b\u5230PFC\u6b7b\u9501\u548c\u6162\u63a5\u6536\u5668\u75c7\u72b6\u3002\u53ea\u6709 NIC PFC \u6682\u505c\u5e27\u98ce\u66b4\u548c\u5176\u4ed6\u4e00\u4e9b\u9519\u8bef\u5f71\u54cd\u4e86\u6211\u4eec\u7684\u751f\u4ea7\u7f51\u7edc\u3002\u4e8b\u5b9e\u8bc1\u660e\uff0c\u5bf9\u6d4b\u8bd5\u96c6\u7fa4\u548c\u751f\u4ea7\u7f51\u7edc\u4f7f\u7528\u76f8\u540c\u7684\u7ba1\u7406\u548c\u76d1\u63a7\u662f\u975e\u5e38\u6709\u4ef7\u503c\u7684\u3002\u7531\u4e8e\u6d4b\u8bd5\u96c6\u7fa4\u59cb\u7ec8\u5f97\u5230\u826f\u597d\u7684\u7ba1\u7406\uff0c\u8fd9\u8ba9\u6211\u4eec\u7684\u751f\u6d3b\u53d8\u5f97\u66f4\u52a0\u8f7b\u677e\u3002\u540c\u65f6\uff0c\u5b83\u4e5f\u8ba9\u6211\u4eec\u5728RoCEv2\u6295\u5165\u751f\u4ea7\u4e4b\u524d\u5bf9RoCEv2\u4ee5\u53ca\u7ba1\u7406\u548c\u76d1\u63a7\u7cfb\u7edf\u8fdb\u884c\u4e86\u5168\u9762\u7684\u6d4b\u8bd5\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#62-incidents","title":"6.2 Incidents","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#1-nic-pfc-storm-pfc","title":"1. NIC PFC storm (\u7f51\u5361PFC\u98ce\u66b4)","text":"<p>The following is one of the few NIC PFC storm incidents we have encountered. In this incident, one of our customers experienced a service availability issue. Many of their servers became unavailable as shown in Figure 9(a). At the same time, we observed that many of the servers were continuously receiving large number of PFC pause frames as shown by our monitoring system in Figure 9(b). The y-axis shows the number of PFC pause frames sent/received in every five minutes. We were able to trace down the origin of the PFC pause frames to a single server. That server was unresponsive and was in Failing (F) state as detected by our data center management system. But from the connected ToR switch, we could observe the number of pause frames from the server was always increasing, at more than two thousands pause frames per second. We also observed that the server was not sending or receiving any data packets. After we power-cycled that server, the server came back up and the pause frames were gone. NIC PFC storms happened very infrequently. With hundreds of thousands of servers in production, the number of the NIC PFC storm events we have experienced is still single digit. Nonetheless, once NIC PFC storm happens, the damage is huge due to the PFC pause frame propagation. As we can see from this incident, half of our customers servers were affected and put into non healthy state. After we put the NIC PFC storm prevention watchdogs at both the servers and the ToR switches, we did not experience NIC PFC storms anymore.</p> <p>![[Pasted image 20231108144504.png]] ![[Pasted image 20231108144524.png]]</p> <p>\u4ee5\u4e0b\u662f\u6211\u4eec\u9047\u5230\u7684\u4e3a\u6570\u4e0d\u591a\u7684NIC PFC\u98ce\u66b4\u4e8b\u4ef6\u4e4b\u4e00\u3002\u5728\u6b64\u4e8b\u4ef6\u4e2d\uff0c\u6211\u4eec\u7684\u4e00\u4f4d\u5ba2\u6237\u9047\u5230\u4e86\u670d\u52a1\u53ef\u7528\u6027\u95ee\u9898\u3002\u4ed6\u4eec\u7684\u8bb8\u591a\u670d\u52a1\u5668\u53d8\u5f97\u4e0d\u53ef\u7528\uff0c\u5982\u56fe 9(a) \u6240\u793a\u3002\u540c\u65f6\uff0c\u6211\u4eec\u89c2\u5bdf\u5230\u8bb8\u591a\u670d\u52a1\u5668\u8fde\u7eed\u63a5\u6536\u5927\u91cf PFC \u6682\u505c\u5e27\uff0c\u5982\u56fe 9(b) \u4e2d\u6211\u4eec\u7684\u76d1\u63a7\u7cfb\u7edf\u6240\u793a\u3002 Y \u8f74\u663e\u793a\u6bcf\u4e94\u5206\u949f\u53d1\u9001/\u63a5\u6536\u7684 PFC \u6682\u505c\u5e27\u7684\u6570\u91cf\u3002\u6211\u4eec\u80fd\u591f\u5c06 PFC \u6682\u505c\u5e27\u7684\u6765\u6e90\u8ffd\u6eaf\u5230\u5355\u4e2a\u670d\u52a1\u5668\u3002\u6211\u4eec\u7684\u6570\u636e\u4e2d\u5fc3\u7ba1\u7406\u7cfb\u7edf\u68c0\u6d4b\u5230\u8be5\u670d\u52a1\u5668\u6ca1\u6709\u54cd\u5e94\u5e76\u4e14\u5904\u4e8e\u6545\u969c (F) \u72b6\u6001\u3002\u4f46\u4ece\u8fde\u63a5\u7684 ToR \u4ea4\u6362\u673a\u4e2d\uff0c\u6211\u4eec\u53ef\u4ee5\u89c2\u5bdf\u5230\u6765\u81ea\u670d\u52a1\u5668\u7684\u6682\u505c\u5e27\u6570\u91cf\u59cb\u7ec8\u5728\u589e\u52a0\uff0c\u6bcf\u79d2\u8d85\u8fc7\u4e24\u5343\u4e2a\u6682\u505c\u5e27\u3002</p> <p>\u6211\u4eec\u8fd8\u89c2\u5bdf\u5230\u670d\u52a1\u5668\u6ca1\u6709\u53d1\u9001\u6216\u63a5\u6536\u4efb\u4f55\u6570\u636e\u5305\u3002\u5728\u6211\u4eec\u91cd\u65b0\u542f\u52a8\u8be5\u670d\u52a1\u5668\u540e\uff0c\u670d\u52a1\u5668\u6062\u590d\u6b63\u5e38\u5e76\u4e14\u6682\u505c\u5e27\u6d88\u5931\u4e86\u3002  NIC PFC \u98ce\u66b4\u5f88\u5c11\u53d1\u751f\u3002\u5728\u6570\u5341\u4e07\u53f0\u670d\u52a1\u5668\u6295\u5165\u751f\u4ea7\u7684\u60c5\u51b5\u4e0b\uff0c\u6211\u4eec\u7ecf\u5386\u7684NIC PFC\u98ce\u66b4\u4e8b\u4ef6\u6570\u91cf\u4ecd\u7136\u662f\u4e2a\u4f4d\u6570\u3002 \u7136\u800c\uff0c\u4e00\u65e6\u7f51\u5361PFC\u98ce\u66b4\u53d1\u751f\uff0c\u7531\u4e8ePFC\u6682\u505c\u5e27\u7684\u4f20\u64ad\uff0c\u9020\u6210\u7684\u635f\u5bb3\u662f\u5de8\u5927\u7684\u3002\u4ece\u8fd9\u6b21\u4e8b\u4ef6\u4e2d\u6211\u4eec\u53ef\u4ee5\u770b\u5230\uff0c\u6211\u4eec\u4e00\u534a\u7684\u5ba2\u6237\u670d\u52a1\u5668\u53d7\u5230\u5f71\u54cd\u5e76\u8fdb\u5165\u975e\u5065\u5eb7\u72b6\u6001\u3002\u5f53\u6211\u4eec\u5728\u670d\u52a1\u5668\u548c ToR \u4ea4\u6362\u673a\u4e0a\u5b89\u88c5 NIC PFC \u98ce\u66b4\u9632\u62a4\u770b\u95e8\u72d7\u540e\uff0c\u6211\u4eec\u5c31\u4e0d\u518d\u9047\u5230 NIC PFC \u98ce\u66b4\u4e86\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#2-switch-buffer-misconfiguration","title":"2. Switch buffer misconfiguration(\u4ea4\u6362\u673a\u7f13\u51b2\u533a\u914d\u7f6e\u9519\u8bef)","text":"<p>The ToR and Leaf switches we use have a small and limited buffer size of 9MB or 12MB. To better utilize the scarce buffer space, we need to enable dynamic buffer sharing. In dynamic buffer sharing, the ports allocate memory from a shared buffer pool. The shared buffer allocation per port per traffic class is controlled by a parameter called \u03b1. As long as \u03b1 \u00d7 U B &gt; Bp,i, where U B is the unallocated shared buffer size and Bp,i is the allocated buffer size for traffic class i of ingress port p, we can allocate memory from the shared buffer for traffic class i from ingress port p. Hence a large \u03b1 can help reduce the chance of PFC pause frames from been generated. But a large \u03b1 may cause imbalanced and unfair buffer allocation. We have found that the default \u03b1 value (\u03b1 = 1 16 ) for a type of ToR switch worked well in our production network. When we onboarded a new type of switch from the same switch provider, we took it for granted that it would use the same default settings as before. Then in the midnight of 07/12/2015, we ran into an incident. As shown in Figure 10(a), the latencies of many latency-sensitive services increased dramatically. Also we have observed that many servers were receiving a large number of PFC pause frames, up to 60000 pause frames in 5 minutes (Figure 10(b)). Further analysis revealed the origins of the pause frames. The pause frames were generated by two ToR switches, then propagated into the rest of the network, and affected thousands of servers. Why there were so many pause frames been generated? There were two reasons. The first was the incast traffic pattern. These two ToR switches hosted many chatty servers, which sent queries to more than one thousand servers simultaneously. Once the responses came back to the chatty servers, incast happened, which created network congestion condition for PFC pause frame generation. The second reason was that we found the \u03b1 value of the new type of ToR switch was changed to 1 64 , though these two types of switches were from the same provider. A much smaller \u03b1 made the dynamic buffer allocated to the congested ingress ports much smaller. Hence the PFC pause frames could be triggered much more easily. We could not change the traffic pattern, so we tuned the \u03b1 value back to 1 16 for these switches. The lesson we learned from this incident is that PFC pause frames did propagate and cause collateral damage in our production network. To reduce the damage, we need to reduce PFC pause frames from being generated. Our work on the NIC PFC storm and the slow-receiver symptom prevent servers from been generating pauses. Moreover, parameter tuning of the dynamic buffer sharing and the per-flow based DCQCN [42] congestion control reduce the pauses generated by the switches.</p> <p>![[Pasted image 20231108145542.png]] ![[Pasted image 20231108145553.png]] \u6211\u4eec\u4f7f\u7528\u7684 ToR \u548c Leaf \u4ea4\u6362\u673a\u7684\u7f13\u51b2\u533a\u5927\u5c0f\u8f83\u5c0f\u4e14\u6709\u9650\uff0c\u4e3a 9MB \u6216 12MB\u3002\u4e3a\u4e86\u66f4\u597d\u5730\u5229\u7528\u7a00\u7f3a\u7684\u7f13\u51b2\u533a\u7a7a\u95f4\uff0c\u6211\u4eec\u9700\u8981\u542f\u7528\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u3002\u5728\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u4e2d\uff0c\u7aef\u53e3\u4ece\u5171\u4eab\u7f13\u51b2\u6c60\u5206\u914d\u5185\u5b58\u3002\u6bcf\u4e2a\u6d41\u91cf\u7c7b\u522b\u6bcf\u4e2a\u7aef\u53e3\u7684\u5171\u4eab\u7f13\u51b2\u533a\u5206\u914d\u7531\u79f0\u4e3a \u03b1 \u7684\u53c2\u6570\u63a7\u5236\u3002\u53ea\u8981 \u03b1 \u00d7 U B &gt; Bp,i\uff0c\u5176\u4e2d U B \u662f\u672a\u5206\u914d\u7684\u5171\u4eab\u7f13\u51b2\u533a\u5927\u5c0f\uff0cBp,i \u662f\u5165\u53e3\u7aef\u53e3 p \u7684\u6d41\u91cf\u7c7b\u522b i \u7684\u5df2\u5206\u914d\u7f13\u51b2\u533a\u5927\u5c0f\uff0c\u6211\u4eec\u5c31\u53ef\u4ee5\u4ece\u5171\u4eab\u7f13\u51b2\u533a\u4e2d\u4e3a\u6d41\u91cf\u7c7b\u522b i \u5206\u914d\u5185\u5b58\uff1a\u5165\u53e3\u7aef\u53e3 p. \u56e0\u6b64\uff0c\u8f83\u5927\u7684 \u03b1 \u6709\u52a9\u4e8e\u51cf\u5c11\u751f\u6210 PFC \u6682\u505c\u5e27\u7684\u673a\u4f1a\u3002\u4f46\u8f83\u5927\u7684\u03b1\u53ef\u80fd\u4f1a\u5bfc\u81f4\u7f13\u51b2\u533a\u5206\u914d\u4e0d\u5e73\u8861\u548c\u4e0d\u516c\u5e73\u3002 \u6211\u4eec\u53d1\u73b0\u67d0\u79cd ToR \u4ea4\u6362\u673a\u7684\u9ed8\u8ba4 \u03b1 \u503c (\u03b1 = 1/16 ) \u5728\u6211\u4eec\u7684\u751f\u4ea7\u7f51\u7edc\u4e2d\u8fd0\u884c\u826f\u597d\u3002 \u5f53\u6211\u4eec\u4ece\u540c\u4e00\u4ea4\u6362\u673a\u63d0\u4f9b\u5546\u5904\u5b89\u88c5\u65b0\u578b\u4ea4\u6362\u673a\u65f6\uff0c\u6211\u4eec\u7406\u6240\u5f53\u7136\u5730\u8ba4\u4e3a\u5b83\u5c06\u4f7f\u7528\u4e0e\u4ee5\u524d\u76f8\u540c\u7684\u9ed8\u8ba4\u8bbe\u7f6e\u3002\u7136\u540e\u5728 2015 \u5e74 7 \u6708 12 \u65e5\u5348\u591c\uff0c\u6211\u4eec\u9047\u5230\u4e86\u4e00\u8d77\u4e8b\u4ef6\u3002\u5982\u56fe 10(a) \u6240\u793a\uff0c\u8bb8\u591a\u5ef6\u8fdf\u654f\u611f\u670d\u52a1\u7684\u5ef6\u8fdf\u6025\u5267\u589e\u52a0\u3002\u6211\u4eec\u8fd8\u89c2\u5bdf\u5230\u8bb8\u591a\u670d\u52a1\u5668\u6536\u5230\u5927\u91cf PFC \u6682\u505c\u5e27\uff0c5 \u5206\u949f\u5185\u591a\u8fbe 60000 \u4e2a\u6682\u505c\u5e27\uff08\u56fe 10(b)\uff09\u3002 \u8fdb\u4e00\u6b65\u7684\u5206\u6790\u63ed\u793a\u4e86\u6682\u505c\u5e27\u7684\u8d77\u6e90\u3002\u6682\u505c\u5e27\u7531\u4e24\u4e2a ToR \u4ea4\u6362\u673a\u751f\u6210\uff0c\u7136\u540e\u4f20\u64ad\u5230\u7f51\u7edc\u7684\u5176\u4f59\u90e8\u5206\uff0c\u5e76\u5f71\u54cd\u4e86\u6570\u5343\u53f0\u670d\u52a1\u5668\u3002 \u4e3a\u4ec0\u4e48\u4f1a\u4ea7\u751f\u8fd9\u4e48\u591a\u6682\u505c\u5e27\uff1f\u6709\u4e24\u4e2a\u539f\u56e0: \u7b2c\u4e00\u4e2a\u662f incast \u6d41\u91cf\u6a21\u5f0f\u3002\u8fd9\u4e24\u4e2a ToR \u4ea4\u6362\u673a\u6258\u7ba1\u4e86\u8bb8\u591a\u804a\u5929\u670d\u52a1\u5668\uff0c\u8fd9\u4e9b\u670d\u52a1\u5668\u540c\u65f6\u5411\u4e00\u5343\u591a\u4e2a\u670d\u52a1\u5668\u53d1\u9001\u67e5\u8be2\u3002\u4e00\u65e6\u54cd\u5e94\u8fd4\u56de\u5230\u804a\u5929\u670d\u52a1\u5668\uff0c\u5c31\u4f1a\u53d1\u751f incast\uff0c\u8fd9\u4e3a PFC \u6682\u505c\u5e27\u7684\u751f\u6210\u521b\u9020\u4e86\u7f51\u7edc\u62e5\u585e\u6761\u4ef6\u3002\u7b2c\u4e8c\u4e2a\u539f\u56e0\u662f\u6211\u4eec\u53d1\u73b0\u65b0\u578bToR\u4ea4\u6362\u673a\u7684\u03b1\u503c\u66f4\u6539\u4e3a1/64\uff0c\u5c3d\u7ba1\u8fd9\u4e24\u79cd\u7c7b\u578b\u7684\u4ea4\u6362\u673a\u6765\u81ea\u540c\u4e00\u63d0\u4f9b\u5546\u3002\u5c0f\u5f97\u591a\u7684 \u03b1 \u4f7f\u5f97\u5206\u914d\u7ed9\u62e5\u585e\u5165\u53e3\u7aef\u53e3\u7684\u52a8\u6001\u7f13\u51b2\u533a\u5c0f\u5f97\u591a\u3002 \u56e0\u6b64\uff0c\u53ef\u4ee5\u66f4\u5bb9\u6613\u5730\u89e6\u53d1 PFC \u6682\u505c\u5e27\u3002\u6211\u4eec\u65e0\u6cd5\u66f4\u6539\u6d41\u91cf\u6a21\u5f0f\uff0c\u56e0\u6b64\u6211\u4eec\u5c06\u8fd9\u4e9b\u4ea4\u6362\u673a\u7684 \u03b1 \u503c\u8c03\u6574\u56de 1/16\u3002 \u6211\u4eec\u4ece\u8fd9\u6b21\u4e8b\u4ef6\u4e2d\u5438\u53d6\u7684\u6559\u8bad\u662f\uff0cPFC \u6682\u505c\u5e27\u786e\u5b9e\u4f1a\u4f20\u64ad\u5e76\u5728\u6211\u4eec\u7684\u751f\u4ea7\u7f51\u7edc\u4e2d\u9020\u6210\u9644\u5e26\u635f\u5bb3\u3002\u4e3a\u4e86\u51cf\u5c11\u635f\u5bb3\uff0c\u6211\u4eec\u9700\u8981\u51cf\u5c11 PFC \u6682\u505c\u5e27\u7684\u751f\u6210\u3002\u6211\u4eec\u9488\u5bf9 NIC PFC \u98ce\u66b4\u548c\u7f13\u6162\u63a5\u6536\u5668\u75c7\u72b6\u6240\u505a\u7684\u5de5\u4f5c\u53ef\u9632\u6b62\u670d\u52a1\u5668\u4ea7\u751f\u6682\u505c\u3002 \u6b64\u5916\uff0c==\u52a8\u6001\u7f13\u51b2\u533a\u5171\u4eab\u7684\u53c2\u6570\u8c03\u6574==\u548c==\u57fa\u4e8e\u6bcf\u4e2a\u6d41\u7684 DCQCN [42] \u62e5\u585e\u63a7\u5236==\u51cf\u5c11\u4e86\u4ea4\u6362\u673a\u4ea7\u751f\u7684\u6682\u505c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#63-lessons-learned-and-discussion","title":"6.3 Lessons learned and discussion","text":"<p>During the three years period of designing, building, and deploying RoCEv2, we have learned several lessons which we share as follows. Deadlock, livelock, and PFC pause frames propagation did happen. The PFC deadlock we met was a surprise to us, as we once believed that our Clos-based network topology was free of cyclic buffer dependency hence free of deadlock. We did not expect the slowserver symptom, though we were fully aware that PFC backpressure can cause PFC pause frame propagation in the network. We did not foresee the RDMA transport livelock either. The lesson we learned is that a design works in theory is not enough, as there may be many hidden details which invalidate the design. We have to use well designed experiments, test clusters, and staged production deployments, to verify the designs and to unveil the unexpected facets methodologically. NICs are the key to make RDMA/RoCEv2 work. Most of the RDMA/RoCEv2 bugs we ran into were caused by the NICs instead of the switches. We spent much more time on the NICs than on the switches. In hindsight, this happened for two reasons. The first reason is because the NIC implements the most complicated parts of the RDMA functionalities, including the RDMA verbs and the RDMA transport protocol. As a comparison, the switch side functionalities are relatively simple (e.g., PFC implementation) or well tested (e.g., ECN implementation). The second reason is that the NICs we use are resource constrained. The NIC leverages the server\u2019s DRAM to store its data structures and uses its own local memory as the cache. Cache management then becomes a big part of the NIC and introduces bugs as well as performance bottlenecks, e.g., the slowreceiver symptom. Be prepared for the unexpected. Our experiences of running one of the largest data center networks in the world taught us that network incidents happen. From day one when we began to work on RoCEv2, we put RDMA/RoCEv2 management and monitoring as an indispensable part of the project. We upgraded our management and monitoring system for RDMA status monitoring and incidents handling at the same time when we worked on the DSCP-based PFC design and the safety and performance bugs. As a result, when our customers began to use RDMA, the RDMA management and monitoring capabilities were already in production. This RDMA management and monitoring system is essential for RDMA health tracking and incident troubleshooting. It helped us detect, localize, and rootcause the RoCEv2 bugs and incidents as we have shown in Sections 6.2 and 4. Is lossless needed? RoCEv2 depends on a lossless network to function well. In this work, we have demonstrated that we indeed can build a lossless network using PFC, and all the real-world scalability and safety challenges can be addressed. Looking forward into the future, the question we would like to ask is: do we really need a lossless network to get the benefits of RoCEv2? Given the progress on programmable hardware, e.g., FPGA and FPGA integrated CPU [8], it may become feasible and economical to build much faster and more advanced transport protocols and forward error correction algorithms directly in commodity hardware, hence relieving RoCEv2 from been depending on lossless network.</p> <p>\u5728\u8bbe\u8ba1\u3001\u6784\u5efa\u548c\u90e8\u7f72 RoCEv2 \u7684\u4e09\u5e74\u671f\u95f4\uff0c\u6211\u4eec\u5438\u53d6\u4e86\u4e00\u4e9b\u7ecf\u9a8c\u6559\u8bad\uff0c\u73b0\u5206\u4eab\u5982\u4e0b\u3002 1. \u6b7b\u9501\u3001\u6d3b\u9501\u548c PFC \u6682\u505c\u5e27\u4f20\u64ad\u786e\u5b9e\u53d1\u751f\u4e86\u3002 \u6211\u4eec\u9047\u5230\u7684 PFC \u6b7b\u9501\u8ba9\u6211\u4eec\u611f\u5230\u60ca\u8bb6\uff0c\u56e0\u4e3a\u6211\u4eec\u66fe\u7ecf\u76f8\u4fe1==\u57fa\u4e8e Clos \u7684\u7f51\u7edc\u62d3\u6251\u4e0d\u5b58\u5728\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56==\uff0c\u56e0\u6b64\u4e0d\u4f1a\u51fa\u73b0\u6b7b\u9501\u3002\u5c3d\u7ba1\u6211\u4eec\u5145\u5206\u610f\u8bc6\u5230 ==PFC \u80cc\u538b\u53ef\u80fd\u4f1a\u5bfc\u81f4 PFC \u6682\u505c\u5e27\u5728\u7f51\u7edc\u4e2d\u4f20\u64ad==\uff0c\u4f46\u6211\u4eec\u5e76\u6ca1\u6709\u9884\u6599\u5230\u4f1a\u51fa\u73b0\u670d\u52a1\u5668\u7f13\u6162\u7684\u75c7\u72b6\u3002\u6211\u4eec\u4e5f\u6ca1\u6709\u9884\u89c1\u5230 RDMA \u4f20\u8f93\u6d3b\u9501\u3002\u6211\u4eec\u5b66\u5230\u7684\u6559\u8bad\u662f\uff0c\u5149\u6709\u7406\u8bba\u4e0a\u7684\u8bbe\u8ba1\u662f\u4e0d\u591f\u7684\uff0c\u56e0\u4e3a\u53ef\u80fd\u5b58\u5728\u8bb8\u591a\u9690\u85cf\u7684\u7ec6\u8282\uff0c\u5bfc\u81f4\u8bbe\u8ba1\u65e0\u6548\u3002\u6211\u4eec\u5fc5\u987b\u4f7f\u7528\u7cbe\u5fc3\u8bbe\u8ba1\u7684\u5b9e\u9a8c\u3001\u6d4b\u8bd5\u96c6\u7fa4\u548c\u5206\u9636\u6bb5\u751f\u4ea7\u90e8\u7f72\u6765\u9a8c\u8bc1\u8bbe\u8ba1\u5e76\u4ece\u65b9\u6cd5\u4e0a\u63ed\u793a\u610f\u60f3\u4e0d\u5230\u7684\u65b9\u9762\u3002  2. NIC \u662f RDMA/RoCEv2 \u53d1\u6325\u4f5c\u7528\u7684\u5173\u952e\u3002 \u6211\u4eec\u9047\u5230\u7684\u5927\u591a\u6570 RDMA/RoCEv2 \u9519\u8bef\u90fd\u662f\u7531 NIC \u800c\u4e0d\u662f\u4ea4\u6362\u673a\u5f15\u8d77\u7684\u3002\u6211\u4eec\u5728\u7f51\u5361\u4e0a\u82b1\u8d39\u7684\u65f6\u95f4\u6bd4\u5728\u4ea4\u6362\u673a\u4e0a\u82b1\u8d39\u7684\u65f6\u95f4\u591a\u5f97\u591a\u3002\u4e8b\u540e\u770b\u6765\uff0c\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u6709\u4e24\u4e2a\u539f\u56e0\u3002\u7b2c\u4e00\u4e2a\u539f\u56e0\u662f\u56e0\u4e3a NIC \u5b9e\u73b0\u4e86 RDMA \u529f\u80fd\u4e2d\u6700\u590d\u6742\u7684\u90e8\u5206\uff0c\u5305\u62ec RDMA \u52a8\u8bcd\u548c RDMA \u4f20\u8f93\u534f\u8bae\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u4ea4\u6362\u673a\u7aef\u529f\u80fd\u76f8\u5bf9\u7b80\u5355\uff08\u4f8b\u5982\uff0cPFC \u5b9e\u73b0\uff09\u6216\u7ecf\u8fc7\u826f\u597d\u6d4b\u8bd5\uff08\u4f8b\u5982\uff0cECN \u5b9e\u73b0\uff09\u3002\u7b2c\u4e8c\u4e2a\u539f\u56e0\u662f\u6211\u4eec\u4f7f\u7528\u7684\u7f51\u5361\u8d44\u6e90\u6709\u9650\u3002 NIC \u5229\u7528\u670d\u52a1\u5668\u7684 DRAM \u6765\u5b58\u50a8\u5176\u6570\u636e\u7ed3\u6784\uff0c\u5e76\u4f7f\u7528\u81ea\u5df1\u7684\u672c\u5730\u5185\u5b58\u4f5c\u4e3a\u7f13\u5b58\u3002\u7136\u540e\uff0c\u7f13\u5b58\u7ba1\u7406\u6210\u4e3a NIC \u7684\u91cd\u8981\u7ec4\u6210\u90e8\u5206\uff0c\u5e76\u5f15\u5165\u9519\u8bef\u548c\u6027\u80fd\u74f6\u9888\uff0c\u4f8b\u5982\u63a5\u6536\u5668\u901f\u5ea6\u6162\u7684\u75c7\u72b6\u3002 3. \u4e3a\u610f\u5916\u60c5\u51b5\u505a\u597d\u51c6\u5907\u3002 \u6211\u4eec\u8fd0\u884c\u4e16\u754c\u4e0a\u6700\u5927\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e4b\u4e00\u7684\u7ecf\u9a8c\u544a\u8bc9\u6211\u4eec\uff0c\u7f51\u7edc\u4e8b\u4ef6\u65f6\u6709\u53d1\u751f\u3002\u4ece\u6211\u4eec\u5f00\u59cb\u7814\u7a76RoCEv2\u7684\u7b2c\u4e00\u5929\u8d77\uff0c\u6211\u4eec\u5c31\u628aRDMA/RoCEv2\u7ba1\u7406\u548c\u76d1\u63a7\u4f5c\u4e3a\u9879\u76ee\u4e2d\u4e0d\u53ef\u6216\u7f3a\u7684\u4e00\u90e8\u5206\u3002\u5728\u5904\u7406\u57fa\u4e8e DSCP \u7684 PFC \u8bbe\u8ba1\u4ee5\u53ca\u5b89\u5168\u548c\u6027\u80fd\u9519\u8bef\u65f6\uff0c\u6211\u4eec\u540c\u65f6\u5347\u7ea7\u4e86 RDMA \u72b6\u6001\u76d1\u63a7\u548c\u4e8b\u4ef6\u5904\u7406\u7684\u7ba1\u7406\u548c\u76d1\u63a7\u7cfb\u7edf\u3002\u56e0\u6b64\uff0c\u5f53\u6211\u4eec\u7684\u5ba2\u6237\u5f00\u59cb\u4f7f\u7528RDMA\u65f6\uff0cRDMA\u7ba1\u7406\u548c\u76d1\u63a7\u529f\u80fd\u5df2\u7ecf\u6295\u5165\u751f\u4ea7\u3002\u8be5 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u7cfb\u7edf\u5bf9\u4e8e RDMA \u8fd0\u884c\u72b6\u51b5\u8ddf\u8e2a\u548c\u4e8b\u4ef6\u6545\u969c\u6392\u9664\u81f3\u5173\u91cd\u8981\u3002\u5b83\u5e2e\u52a9\u6211\u4eec\u68c0\u6d4b\u3001\u5b9a\u4f4d RoCEv2 \u9519\u8bef\u548c\u4e8b\u4ef6\u5e76\u627e\u51fa\u6839\u672c\u539f\u56e0\uff0c\u5982\u7b2c 6.2 \u8282\u548c\u7b2c 4 \u8282\u6240\u793a\u3002 4. \u662f\u5426\u771f\u7684\u9700\u8981\u65e0\u635f\uff1f  RoCEv2 \u4f9d\u8d56\u4e8e\u65e0\u635f\u7f51\u7edc\u624d\u80fd\u6b63\u5e38\u8fd0\u884c\u3002\u5728\u8fd9\u9879\u5de5\u4f5c\u4e2d\uff0c\u6211\u4eec\u8bc1\u660e\u4e86\u6211\u4eec\u786e\u5b9e\u53ef\u4ee5\u4f7f\u7528 PFC \u6784\u5efa\u65e0\u635f\u7f51\u7edc\uff0c\u5e76\u4e14\u53ef\u4ee5\u89e3\u51b3\u6240\u6709\u73b0\u5b9e\u4e16\u754c\u7684\u53ef\u6269\u5c55\u6027\u548c\u5b89\u5168\u6027\u6311\u6218\u3002\u5c55\u671b\u672a\u6765\uff0c\u6211\u4eec\u60f3\u95ee\u7684\u95ee\u9898\u662f\uff1a \u6211\u4eec\u771f\u7684\u9700\u8981\u65e0\u635f\u7f51\u7edc\u624d\u80fd\u83b7\u5f97RoCEv2\u7684\u597d\u5904\u5417\uff1f\u9274\u4e8e\u53ef\u7f16\u7a0b\u786c\u4ef6\uff08\u4f8b\u5982 FPGA \u548c FPGA \u96c6\u6210 CPU [8]\uff09\u7684\u8fdb\u6b65\uff0c\u76f4\u63a5\u5728\u5546\u7528\u786c\u4ef6\u4e2d\u6784\u5efa\u66f4\u5feb\u3001\u66f4\u5148\u8fdb\u7684\u4f20\u8f93\u534f\u8bae\u548c\u524d\u5411\u7ea0\u9519\u7b97\u6cd5\u53ef\u80fd\u53d8\u5f97\u53ef\u884c\u4e14\u7ecf\u6d4e\uff0c   \u4ece\u800c\u4f7f RoCEv2 \u4e0d\u518d\u4f9d\u8d56\u4e8e\u65e0\u635f\u7f51\u7edc\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#-clos","title":"- \u57fa\u4e8e Clos \u7684\u7f51\u7edc\u62d3\u6251","text":"<p>Clos \u7f51\u7edc\u62d3\u6251\uff0c\u4e5f\u79f0\u4e3a Clos \u7f51\u7edc\u7ed3\u6784\u6216 Clos \u7f51\u7edc\uff0c\u662f\u4e00\u79cd\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\uff0c\u6700\u521d\u7531\u7f8e\u56fd\u5de5\u7a0b\u5e08\u548c\u6570\u5b66\u5bb6 Charles Clos \u5728 1953 \u5e74\u63d0\u51fa\u3002\u8fd9\u79cd\u62d3\u6251\u7ed3\u6784\u4e3b\u8981\u7528\u4e8e\u6784\u5efa\u5927\u89c4\u6a21\u7684\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u7f51\u7edc\uff0c\u4ee5\u652f\u6301\u9ad8\u5bb9\u91cf\u548c\u53ef\u4f38\u7f29\u6027\u9700\u6c42\u3002</p> <p>Clos \u7f51\u7edc\u62d3\u6251\u7531\u4e09\u4e2a\u5173\u952e\u8981\u7d20\u6784\u6210\uff1a\u8f93\u5165\u5c42\u3001\u4e2d\u95f4\u5c42\u548c\u8f93\u51fa\u5c42\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u6784\u5efa\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u7f51\u7edc\u6d41\u91cf\u7684\u9700\u6c42\u3002\u4ee5\u4e0b\u662f Clos \u7f51\u7edc\u62d3\u6251\u7684\u57fa\u672c\u539f\u7406\uff1a 1. \u8f93\u5165\u5c42\uff08Ingress Layer\uff09\uff1a\u8f93\u5165\u5c42\u5305\u542b\u4e00\u7ec4\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\uff0c\u901a\u5e38\u7528\u4e8e\u63a5\u53d7\u6765\u81ea\u7f51\u7edc\u4e2d\u5176\u4ed6\u8bbe\u5907\u7684\u6570\u636e\u5305\u3002\u8fd9\u4e9b\u4ea4\u6362\u673a\u5c06\u8f93\u5165\u6d41\u91cf\u5206\u53d1\u5230\u4e2d\u95f4\u5c42\u7684\u4ea4\u6362\u673a\u3002 2. \u4e2d\u95f4\u5c42\uff08Intermediate Layer\uff09\uff1a\u4e2d\u95f4\u5c42\u5305\u542b\u591a\u4e2a\u4ea4\u6362\u673a\uff0c\u8fd9\u4e9b\u4ea4\u6362\u673a\u901a\u5e38\u8fde\u63a5\u5230\u8f93\u5165\u5c42\u548c\u8f93\u51fa\u5c42\u7684\u8bbe\u5907\u3002\u5b83\u4eec\u7528\u4e8e\u8def\u7531\u548c\u8f6c\u53d1\u6570\u636e\u5305\uff0c\u4ee5\u652f\u6301\u7f51\u7edc\u4e2d\u7684\u901a\u4fe1\u3002\u4e2d\u95f4\u5c42\u7684\u4ea4\u6362\u673a\u901a\u5e38\u662f\u591a\u4e2a\u7b49\u7ea7\u7684\uff0c\u5141\u8bb8\u6784\u5efa\u5927\u89c4\u6a21\u7f51\u7edc\u3002 3. \u8f93\u51fa\u5c42\uff08Egress Layer\uff09\uff1a\u8f93\u51fa\u5c42\u5305\u542b\u4e00\u7ec4\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\uff0c\u7528\u4e8e\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u76ee\u6807\u8bbe\u5907\u6216\u7f51\u7edc\u3002\u8f93\u51fa\u5c42\u7684\u8bbe\u5907\u901a\u5e38\u63a5\u53d7\u6765\u81ea\u4e2d\u95f4\u5c42\u7684\u6570\u636e\u5305\uff0c\u5e76\u5c06\u5b83\u4eec\u4f20\u9001\u5230\u6700\u7ec8\u76ee\u7684\u5730\u3002</p> <p>Clos \u7f51\u7edc\u7684\u4f18\u52bf\u5305\u62ec\u9ad8\u5bb9\u91cf\u3001\u53ef\u4f38\u7f29\u6027\u548c\u5bb9\u9519\u6027\u3002\u7531\u4e8e\u5176\u5206\u5c42\u7ed3\u6784\uff0cClos \u7f51\u7edc\u53ef\u4ee5\u8f7b\u677e\u6269\u5c55\u4ee5\u652f\u6301\u66f4\u591a\u7684\u8bbe\u5907\u548c\u6d41\u91cf\uff0c\u800c\u4e14\u5373\u4f7f\u5176\u4e2d\u7684\u67d0\u4e9b\u4ea4\u6362\u673a\u6216\u94fe\u8def\u53d1\u751f\u6545\u969c\uff0c\u4ecd\u80fd\u591f\u4fdd\u6301\u8fde\u901a\u6027\u3002\u8fd9\u4f7f\u5f97\u5b83\u7279\u522b\u9002\u5408\u7528\u4e8e\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u548c\u4e91\u8ba1\u7b97\u73af\u5883\uff0c\u5176\u4e2d\u9ad8\u6027\u80fd\u548c\u53ef\u9760\u6027\u81f3\u5173\u91cd\u8981\u3002 \u603b\u4e4b\uff0cClos \u7f51\u7edc\u62d3\u6251\u662f\u4e00\u79cd\u7528\u4e8e\u6784\u5efa\u5927\u89c4\u6a21\u9ad8\u6027\u80fd\u7f51\u7edc\u7684\u6709\u6548\u7ed3\u6784\uff0c\u5b83\u901a\u8fc7\u5c42\u6b21\u5316\u7684\u4ea4\u6362\u673a\u5e03\u5c40\u548c\u5206\u6563\u7684\u6570\u636e\u6d41\u91cf\u7ba1\u7406\u6765\u6ee1\u8db3\u4e0d\u540c\u7f51\u7edc\u9700\u6c42\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#-clos_1","title":"-\u4e3a\u4ec0\u4e48Clos \u7f51\u7edc\u62d3\u6251\u4e0d\u5b58\u5728\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\uff1f","text":"<p>Clos \u7f51\u7edc\u62d3\u6251\u901a\u5e38\u88ab\u8bbe\u8ba1\u4e3a\u4e0d\u5b58\u5728\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\uff0c\u8fd9\u662f\u56e0\u4e3a Clos \u7f51\u7edc\u7684\u7ed3\u6784\u548c\u8def\u7531\u7b97\u6cd5\u80fd\u591f\u6709\u6548\u5730\u907f\u514d\u8fd9\u79cd\u60c5\u51b5\uff0c\u4ece\u800c\u786e\u4fdd\u6570\u636e\u5305\u4e0d\u4f1a\u5728\u7f51\u7edc\u4e2d\u5f62\u6210\u65e0\u9650\u5faa\u73af\u3002 \u8fd9\u79cd\u65e0\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u7684\u7279\u6027\u53ef\u4ee5\u8ffd\u6eaf\u5230 Clos \u7f51\u7edc\u7684\u57fa\u672c\u539f\u5219\u548c\u8def\u7531\u7b97\u6cd5\uff1a 1. \u975e\u963b\u585e\u7ed3\u6784\uff1aClos \u7f51\u7edc\u7684\u57fa\u672c\u539f\u5219\u4e4b\u4e00\u662f\u975e\u963b\u585e\u6027\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u5b83\u88ab\u8bbe\u8ba1\u4e3a\u80fd\u591f\u540c\u65f6\u652f\u6301\u6240\u6709\u8f93\u5165\u7aef\u53e3\u4e0e\u8f93\u51fa\u7aef\u53e3\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u963b\u585e\u60c5\u51b5\u3002==\u8fd9\u4e00\u7279\u6027\u8981\u6c42\u5728\u8bbe\u8ba1 Clos \u7f51\u7edc\u65f6\uff0c\u786e\u4fdd\u4e2d\u95f4\u5c42\u7684\u4ea4\u6362\u673a\u80fd\u591f\u63d0\u4f9b\u8db3\u591f\u7684\u8def\u5f84\u548c\u5e26\u5bbd==\uff0c\u4ee5==\u907f\u514d\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u53d1\u751f\u51b2\u7a81\u548c\u7ade\u4e89==\uff0c\u4ece\u800c==\u907f\u514d\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56==\u3002 2. \u8def\u7531\u7b97\u6cd5\uff1aClos \u7f51\u7edc\u901a\u5e38\u4f7f\u7528\u9002\u5f53\u7684\u8def\u7531\u7b97\u6cd5\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5305\u88ab\u6b63\u786e\u5f15\u5bfc\u5230\u5176\u76ee\u6807\u3002\u8fd9\u4e9b\u8def\u7531\u7b97\u6cd5\u901a\u5e38\u4f1a\u8003\u8651\u7f51\u7edc\u7684\u7ed3\u6784\uff0c\u907f\u514d\u6570\u636e\u5305\u5728\u4e2d\u95f4\u5c42\u7684\u4ea4\u6362\u673a\u4e4b\u95f4\u5faa\u73af\u3002==\u901a\u8fc7\u6b63\u786e\u8bbe\u8ba1\u548c\u914d\u7f6e\u8def\u7531\u7b97\u6cd5\uff0c\u53ef\u4ee5\u786e\u4fdd\u6570\u636e\u5305\u6309\u7167\u6b63\u786e\u7684\u8def\u5f84\u5230\u8fbe\u76ee\u7684\u5730\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u5faa\u73af\u8def\u5f84==\u3002 3. \u7f51\u7edc\u8bbe\u8ba1\uff1aClos \u7f51\u7edc\u7684\u8bbe\u8ba1\u9700\u8981\u7efc\u5408\u8003\u8651\u8f93\u5165\u5c42\u3001\u4e2d\u95f4\u5c42\u548c\u8f93\u51fa\u5c42\u4e4b\u95f4\u7684\u8fde\u63a5\u548c\u4ea4\u6362\u673a\u914d\u7f6e\u3002\u901a\u8fc7\u4ed4\u7ec6\u7684\u8bbe\u8ba1\u548c\u89c4\u5212\uff0c==\u53ef\u4ee5\u907f\u514d\u4ea4\u6362\u673a\u4e4b\u95f4\u7684\u51b2\u7a81\u548c\u7ade\u4e89\uff0c\u4ece\u800c\u907f\u514d\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56==\u3002 \u603b\u4e4b\uff0cClos \u7f51\u7edc\u7684\u975e\u963b\u585e\u6027\u548c\u6b63\u786e\u8bbe\u8ba1\u7684\u8def\u7531\u7b97\u6cd5\u662f\u786e\u4fdd\u4e0d\u5b58\u5728\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u7684\u5173\u952e\u56e0\u7d20\u3002\u8fd9\u4e9b\u7279\u6027\u4f7f\u5f97 Clos \u7f51\u7edc\u6210\u4e3a\u4e00\u79cd\u6709\u6548\u7684\u7f51\u7edc\u62d3\u6251\u7ed3\u6784\uff0c\u9002\u7528\u4e8e\u9700\u8981\u9ad8\u6027\u80fd\u3001\u53ef\u4f38\u7f29\u6027\u548c\u4f4e\u5ef6\u8fdf\u7684\u5e94\u7528\uff0c\u5982\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u548c\u4e91\u8ba1\u7b97\u73af\u5883\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/#-","title":"-\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u662f\u4ec0\u4e48\uff1f","text":"<p>\u5bf9\u4e8e\u4e00\u4e9b\u7f51\u7edc\u62d3\u6251\u548c\u8def\u7531\u7b97\u6cd5\uff0c\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u662f\u4e00\u4e2a\u53ef\u80fd\u51fa\u73b0\u7684\u95ee\u9898\u3002 def(\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56): \u6307\u7684\u662f\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u5f62\u6210\u5faa\u73af\u8def\u5f84\uff0c\u800c\u8fd9\u4e9b\u8def\u5f84\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u9700\u8981\u591a\u6b21\u7ecf\u8fc7\u76f8\u540c\u7684\u7f51\u7edc\u5143\u7d20\uff08\u4f8b\u5982\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\uff09\uff0c\u4ece\u800c\u4ea7\u751f\u7f13\u51b2\u533a\u4f9d\u8d56\u548c\u6b7b\u9501\u3002</p> <p>Clos \u7f51\u7edc\u901a\u5e38\u80fd\u591f\u6709\u6548\u5730\u907f\u514d\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u7684\u539f\u56e0\u662f\uff0c\u5b83\u7684\u7ed3\u6784\u548c\u8def\u7531\u7b97\u6cd5\u88ab\u8bbe\u8ba1\u4e3a\u786e\u4fdd\u6570\u636e\u5305\u5728\u7f51\u7edc\u4e2d\u4e0d\u4f1a\u65e0\u9650\u5faa\u73af\u3002\u5177\u4f53\u6765\u8bf4\uff0cClos \u7f51\u7edc\u7684\u4e2d\u95f4\u5c42\u7ed3\u6784\u901a\u5e38\u662f\u975e\u963b\u585e\u7684\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u540c\u65f6\u652f\u6301\u6240\u6709\u8f93\u5165\u548c\u8f93\u51fa\u7aef\u53e3\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u800c\u4e0d\u4f1a\u51fa\u73b0\u963b\u585e\u60c5\u51b5\u3002\u6b64\u5916\uff0cClos \u7f51\u7edc\u7684\u8def\u7531\u7b97\u6cd5\u901a\u5e38\u4f1a\u8003\u8651\u7f51\u7edc\u62d3\u6251\uff0c\u786e\u4fdd\u6570\u636e\u5305\u6309\u7167\u6b63\u786e\u7684\u8def\u5f84\u524d\u8fdb\uff0c\u800c\u4e0d\u4f1a\u5f62\u6210\u5faa\u73af\u8def\u5f84\u3002</p> <p>\u867d\u7136 Clos \u7f51\u7edc\u7684\u8bbe\u8ba1\u901a\u5e38\u80fd\u591f\u6709\u6548\u907f\u514d\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\uff0c\u4f46\u5728\u5b9e\u9645\u90e8\u7f72\u4e2d\uff0c\u4ecd\u7136\u9700\u8981\u8fdb\u884c\u4ed4\u7ec6\u7684\u89c4\u5212\u548c\u914d\u7f6e\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u64cd\u4f5c\u6b63\u5e38\uff0c\u7279\u522b\u662f\u5728\u9ad8\u8d1f\u8f7d\u548c\u6545\u969c\u60c5\u51b5\u4e0b\u3002\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u548c\u6b7b\u9501\u95ee\u9898\u53ef\u80fd\u4f1a\u5728\u4e00\u4e9b\u5176\u4ed6\u7f51\u7edc\u62d3\u6251\u548c\u8def\u7531\u7b97\u6cd5\u4e2d\u51fa\u73b0\uff0c\u56e0\u6b64\u7f51\u7edc\u8bbe\u8ba1\u8005\u9700\u8981\u8c28\u614e\u8003\u8651\u8fd9\u4e9b\u95ee\u9898\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u7684\u53ef\u9760\u6027\u548c\u6027\u80fd\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/","title":"7 RELATED WORK","text":"<p>This paper focuses on how to safely deploy RoCEv2 on a large-scale. Besides RoCEv2, there are two other RDMA technologies: Infiniband [6] and iWarp [30]. Infiniband is a complete networking protocol suite, which has its own layer-1 to layer-7 protocols. An Infiniband network is composed of multiple Infiniband subnets which are connected via Infiniband routers. Within a subnet, servers are connected via Infiniband switches. However, to the best of our knowledge, there are still no Infiniband routers in production. Hence Infiniband does not meet our scalability requirement. Furthermore, Infiniband is not compatible with Ethernet, which is the dominant networking technology for data centers. iWarp runs RDMA over TCP/IP. The TCP/IP protocol is offloaded to the NIC. Since TCP guarantees reliable delivery even if some of the packets are dropped, iWarp does not necessarily need a lossless network. iWarp has one advantage over RoCE in that it can be use for inter-DC communications. But since iWarp uses TCP for packet transmission, it faces the same issue of TCP: long latency caused by packet drops and retransmission timeout. As we have discussed in 6.3, we expect new transport protocols different from the Infiniband transport and TCP to be introduced in the future driven by new hardware innovations. Deadlock is well studied in the literature and it is well known cyclic buffer dependency is necessary for deadlock [12, 18, 22, 33, 36]. Due to the specific Clos network topology, we once thought our network should be free from deadlock since it should be free of cyclic buffer dependency. But the \u2018conspiracy\u2019 of PFC and Ethernet packet flooding has shown that deadlock can happen in Clos networks. TCP performance issues such as TCP incast [35, 38, 39] and long latency tail [41] have been studied extensively. These solutions are still within the existing TCP framework. They either tune the retransmission timer (as in [35]), or control the TCP receiving window ([39]), or tune the ECN parameter ([38]). RDMA provides a different approach.Compared to [41] which still uses TCP, RDMA bypasses the OS kernel, so that the latency introduced by the kernel is eliminated. Our work shows that RDMA can be safely deployed at scale for intra-DC communications. As we have shown in Figure 5.4, RDMA greatly reduces the high percentile latency compared with TCP. RDMA has been used to build systems including storage, key-value stores, and distributed transaction systems [17, 26, 28, 37]. Most of these systems use Infiniband or RoCE with tens of servers. In this paper, we have shown that we can scale RDMA to much larger networks using RoCEv2. Hence much larger in-memory systems can be built in the future.</p> <p>\u672c\u6587\u91cd\u70b9\u8ba8\u8bba\u5982\u4f55\u5927\u89c4\u6a21\u5b89\u5168\u90e8\u7f72RoCEv2\u3002\u9664\u4e86 RoCEv2 \u4e4b\u5916\uff0c\u8fd8\u6709\u53e6\u5916\u4e24\u79cd RDMA \u6280\u672f\uff1aInfiniband [6] \u548c iWarp [30]\u3002  1. Infiniband\u662f\u4e00\u4e2a\u5b8c\u6574\u7684\u7f51\u7edc\u534f\u8bae\u5957\u4ef6\uff0c\u62e5\u6709\u81ea\u5df1\u7684\u7b2c1\u5c42\u5230\u7b2c7\u5c42\u534f\u8bae\u3002 Infiniband \u7f51\u7edc\u7531\u591a\u4e2a Infiniband \u5b50\u7f51\u7ec4\u6210\uff0c\u8fd9\u4e9b\u5b50\u7f51\u901a\u8fc7 Infiniband \u8def\u7531\u5668\u8fde\u63a5\u3002\u5728\u5b50\u7f51\u5185\uff0c\u670d\u52a1\u5668\u901a\u8fc7 Infiniband \u4ea4\u6362\u673a\u8fde\u63a5\u3002 2. \u7136\u800c\uff0c\u636e\u6211\u4eec\u6240\u77e5\uff0c==\u76ee\u524d\u8fd8\u6ca1\u6709 Infiniband \u8def\u7531\u5668\u6295\u5165\u751f\u4ea7==\u3002\u56e0\u6b64Infiniband\u4e0d\u80fd\u6ee1\u8db3\u6211\u4eec\u7684\u53ef\u6269\u5c55\u6027\u8981\u6c42\u3002\u6b64\u5916\uff0c==Infiniband \u4e0e\u4ee5\u592a\u7f51\u4e0d\u517c\u5bb9==\uff0c\u800c\u4ee5\u592a\u7f51\u662f\u6570\u636e\u4e2d\u5fc3\u7684\u4e3b\u5bfc\u7f51\u7edc\u6280\u672f\u3002  3. iWarp \u901a\u8fc7 TCP/IP \u8fd0\u884c RDMA\u3002 TCP/IP \u534f\u8bae\u88ab\u5378\u8f7d\u5230 NIC\u3002\u7531\u4e8e\u5373\u4f7f\u67d0\u4e9b\u6570\u636e\u5305\u4e22\u5931\uff0cTCP \u4e5f\u80fd\u4fdd\u8bc1\u53ef\u9760\u4f20\u8f93\uff0c\u56e0\u6b64 iWarp \u4e0d\u4e00\u5b9a\u9700\u8981\u65e0\u635f\u7f51\u7edc\u3002 4. ==iWarp \u76f8\u5bf9\u4e8e RoCE \u7684\u4e00\u4e2a\u4f18\u52bf\u5728\u4e8e\u5b83\u53ef\u4ee5\u7528\u4e8e DC \u95f4\u901a\u4fe1==\u3002\u4f46\u7531\u4e8eiWarp\u4f7f\u7528TCP\u8fdb\u884c\u6570\u636e\u5305\u4f20\u8f93\uff0c\u56e0\u6b64\u5b83\u9762\u4e34\u7740\u4e0eTCP\u76f8\u540c\u7684\u95ee\u9898\uff1a\u4e22\u5305\u548c\u91cd\u4f20\u8d85\u65f6\u5bfc\u81f4\u7684\u957f\u65f6\u95f4\u5ef6\u8fdf\u3002 5. \u6b63\u5982\u6211\u4eec\u5728 6.3 \u4e2d\u8ba8\u8bba\u7684\uff0c\u6211\u4eec\u9884\u8ba1\u672a\u6765\u5c06\u5728\u65b0\u786c\u4ef6\u521b\u65b0\u7684\u63a8\u52a8\u4e0b\u5f15\u5165\u4e0d\u540c\u4e8e Infiniband \u4f20\u8f93\u548c TCP \u7684\u65b0\u4f20\u8f93\u534f\u8bae\u3002\u6b7b\u9501\u5728\u6587\u732e\u4e2d\u5f97\u5230\u4e86\u5145\u5206\u7814\u7a76\uff0c\u4f17\u6240\u5468\u77e5\uff0c\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u6027\u5bf9\u4e8e\u6b7b\u9501\u662f\u5fc5\u8981\u7684[12,18,22,33,36]\u3002\u7531\u4e8e\u7279\u5b9a\u7684 Clos \u7f51\u7edc\u62d3\u6251\uff0c\u6211\u4eec\u66fe\u7ecf\u8ba4\u4e3a\u6211\u4eec\u7684\u7f51\u7edc\u5e94\u8be5\u6ca1\u6709\u6b7b\u9501\uff0c\u56e0\u4e3a\u5b83\u5e94\u8be5\u6ca1\u6709\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u3002\u4f46 PFC \u548c\u4ee5\u592a\u7f51\u6570\u636e\u5305\u6cdb\u6d2a\u7684\u201c\u9634\u8c0b\u73b0\u8c61\u201d\u8868\u660e\uff0cClos \u7f51\u7edc\u4e2d\u53ef\u80fd\u4f1a\u53d1\u751f\u6b7b\u9501\u3002  6. TCP \u6027\u80fd\u95ee\u9898\uff0c\u4f8b\u5982 TCP incast [35,38,39] \u548c\u957f\u5ef6\u8fdf\u5c3e\u90e8 [41] \u5df2\u88ab\u5e7f\u6cdb\u7814\u7a76\u3002\u8fd9\u4e9b\u89e3\u51b3\u65b9\u6848\u4ecd\u7136\u5728\u73b0\u6709\u7684 TCP \u6846\u67b6\u5185\u3002\u5b83\u4eec\u8981\u4e48\u8c03\u6574\u91cd\u4f20\u5b9a\u65f6\u5668\uff08\u5982[35]\uff09\uff0c\u8981\u4e48\u63a7\u5236TCP\u63a5\u6536\u7a97\u53e3\uff08[39]\uff09\uff0c\u8981\u4e48\u8c03\u6574ECN\u53c2\u6570\uff08[38]\uff09\u3002  7. RDMA\u63d0\u4f9b\u4e86\u4e00\u79cd\u4e0d\u540c\u7684\u65b9\u6cd5\u3002\u4e0e\u4ecd\u7136\u4f7f\u7528TCP\u7684[41]\u76f8\u6bd4\uff0cRDMA\u7ed5\u8fc7\u4e86\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\uff0c\u4ece\u800c\u6d88\u9664\u4e86\u5185\u6838\u5f15\u5165\u7684\u5ef6\u8fdf\u3002\u6211\u4eec\u7684\u5de5\u4f5c\u8868\u660e\uff0cRDMA \u53ef\u4ee5\u5b89\u5168\u5730\u5927\u89c4\u6a21\u90e8\u7f72\u7528\u4e8e DC \u5185\u901a\u4fe1\u3002\u5982\u56fe 5.4 \u6240\u793a\uff0c\u4e0e TCP \u76f8\u6bd4\uff0cRDMA \u5927\u5927\u964d\u4f4e\u4e86\u9ad8\u767e\u5206\u6bd4\u5ef6\u8fdf\u3002 RDMA \u5df2\u7528\u4e8e\u6784\u5efa\u5305\u62ec\u5b58\u50a8\u3001\u952e\u503c\u5b58\u50a8\u548c\u5206\u5e03\u5f0f\u4e8b\u52a1\u7cfb\u7edf\u5728\u5185\u7684\u7cfb\u7edf [17,26,28,37]\u3002\u8fd9\u4e9b\u7cfb\u7edf\u5927\u591a\u6570\u90fd\u4f7f\u7528 Infiniband \u6216 RoCE \u4ee5\u53ca\u6570\u5341\u53f0\u670d\u52a1\u5668\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u5c55\u793a\u4e86\u53ef\u4ee5\u4f7f\u7528 RoCEv2 \u5c06 RDMA \u6269\u5c55\u5230\u66f4\u5927\u7684\u7f51\u7edc\u3002\u56e0\u6b64\uff0c\u672a\u6765\u53ef\u4ee5\u6784\u5efa\u66f4\u5927\u7684\u5185\u5b58\u7cfb\u7edf\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-infiniband","title":"-\u4ec0\u4e48\u662fInfiniband\uff1f","text":"<p>InfiniBand\uff08\u82f1\u7279\u5c14 InfiniBand\uff09\u662f\u4e00\u79cd\u9ad8\u6027\u80fd\u3001\u4f4e\u5ef6\u8fdf\u7684\u8ba1\u7b97\u548c\u5b58\u50a8\u7f51\u7edc\u6280\u672f\uff0c\u6700\u521d\u7531\u4e00\u5bb6\u53eb\u505a InfiniBand Trade Association (IBTA) \u7684\u884c\u4e1a\u8054\u76df\u5236\u5b9a\u7684\u6807\u51c6\u3002InfiniBand \u6280\u672f\u65e8\u5728\u652f\u6301\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u6570\u636e\u4e2d\u5fc3\u5e94\u7528\uff0c\u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u3001\u9ad8\u5e26\u5bbd\u548c\u53ef\u6269\u5c55\u6027\uff0c\u7279\u522b\u9002\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\u96c6\u7fa4\u3001\u8d85\u7ea7\u8ba1\u7b97\u673a\u3001\u5b58\u50a8\u7cfb\u7edf\u548c\u4e91\u8ba1\u7b97\u73af\u5883\u3002</p> <p>\u4ee5\u4e0b\u662f InfiniBand \u6280\u672f\u7684\u4e00\u4e9b\u5173\u952e\u7279\u70b9\u548c\u7ec4\u6210\u90e8\u5206\uff1a 1. \u9ad8\u5e26\u5bbd\u548c\u4f4e\u5ef6\u8fdf\uff1aInfiniBand \u63d0\u4f9b\u4e86==\u9ad8\u5e26\u5bbd\u548c\u4f4e\u5ef6\u8fdf\u7684\u6570\u636e\u4f20\u8f93==\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5feb\u901f\u6570\u636e\u4ea4\u6362\u7684\u5e94\u7528\uff0c\u5982\u79d1\u5b66\u8ba1\u7b97\u3001\u91d1\u878d\u4ea4\u6613\u3001\u5927\u6570\u636e\u5206\u6790\u7b49\u3002 2. \u53cc\u5411\u901a\u4fe1\uff1aInfiniBand \u652f\u6301\u53cc==\u5411\u901a\u4fe1\uff0c\u4f7f\u8bbe\u5907\u80fd\u591f\u540c\u65f6\u53d1\u9001\u548c\u63a5\u6536\u6570\u636e==\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u901a\u4fe1\u6548\u7387\u3002 3. \u786c\u4ef6\u5378\u8f7d\uff1aInfiniBand \u786c\u4ef6\u5378\u8f7d\u4e86\u4e00\u4e9b\u7f51\u7edc\u4efb\u52a1\uff0c\u5982\u6570\u636e\u5305\u5904\u7406\u3001\u8def\u7531\u548c\u6d41\u91cf\u7ba1\u7406\uff0c==\u51cf\u8f7b\u4e86\u4e3b\u673a CPU \u7684\u8d1f\u62c5==\uff0c\u63d0\u9ad8\u4e86\u6027\u80fd\u3002 4. \u7075\u6d3b\u7684\u62d3\u6251\uff1aInfiniBand ==\u652f\u6301\u591a\u79cd\u62d3\u6251==\uff0c\u5305\u62ec\u70b9\u5bf9\u70b9\u3001\u661f\u578b\u3001\u73af\u5f62\u548c\u591a\u5c42\u62d3\u6251\uff0c\u53ef==\u6839\u636e\u5e94\u7528\u9700\u6c42\u8fdb\u884c\u9009\u62e9==\u3002 5. ==RDMA \u652f\u6301\uff1aInfiniBand \u652f\u6301\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\uff0c\u5141\u8bb8\u4e3b\u673a\u4e4b\u95f4\u76f4\u63a5\u8bbf\u95ee\u5f7c\u6b64\u7684\u5185\u5b58\uff0c\u800c\u65e0\u9700\u4e2d\u592e\u5904\u7406\u5355\u5143\uff08CPU\uff09\u7684\u5e72\u9884\uff0c==\u4ece\u800c\u63d0\u9ad8\u6570\u636e\u4f20\u8f93\u6548\u7387\u3002 6. \u53ef\u9760\u6027\u548c\u6545\u969c\u6062\u590d\uff1aInfiniBand \u63d0\u4f9b\u591a\u79cd\u673a\u5236\u6765\u786e\u4fdd\u6570\u636e\u7684\u53ef\u9760\u4f20\u8f93\u548c\u7f51\u7edc\u7684\u9ad8\u53ef\u7528\u6027\uff0c\u5305\u62ec====\u9519\u8bef\u68c0\u6d4b\u548c\u6821\u6b63\uff08EDC\uff09\u4ee5\u53ca\u8def\u5f84\u6545\u969c\u6062\u590d\u3002 7. \u6280\u672f\u6807\u51c6\uff1aInfiniBand \u6280\u672f\u662f\u57fa\u4e8e\u4e00\u7cfb\u5217\u6807\u51c6\u7684\uff0c\u7531 InfiniBand Trade Association \u5236\u5b9a\u548c\u7ba1\u7406\uff0c\u8fd9\u6709\u52a9\u4e8e\u786e\u4fdd\u4e0d\u540c\u4f9b\u5e94\u5546\u7684\u8bbe\u5907\u548c\u7cfb\u7edf\u4e4b\u95f4\u7684\u4e92\u64cd\u4f5c\u6027\u3002 InfiniBand \u6280\u672f\u5e7f\u6cdb\u5e94\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\u9886\u57df\uff0c\u4f8b\u5982\u8d85\u7ea7\u8ba1\u7b97\u673a\u3001\u79d1\u5b66\u7814\u7a76\u3001\u5929\u6c14\u6a21\u62df\u548c\u4eff\u771f\u7b49\u3002\u6b64\u5916\uff0c\u5b83\u8fd8\u5728\u6570\u636e\u4e2d\u5fc3\u4e2d\u7528\u4e8e\u6784\u5efa\u9ad8\u6027\u80fd\u5b58\u50a8\u548c\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\uff0c\u4ee5\u6ee1\u8db3\u5927\u89c4\u6a21\u6570\u636e\u4f20\u8f93\u548c\u5904\u7406\u7684\u9700\u6c42\u3002\u867d\u7136\u4ee5\u592a\u7f51\u4e5f\u5728\u6570\u636e\u4e2d\u5fc3\u4e2d\u8d77\u5230\u91cd\u8981\u4f5c\u7528\uff0c\u4f46\u5728\u67d0\u4e9b\u8981\u6c42\u6781\u9ad8\u6027\u80fd\u7684\u5e94\u7528\u4e2d\uff0cInfiniBand \u6280\u672f\u63d0\u4f9b\u4e86\u4e00\u4e2a\u5f3a\u5927\u7684\u9009\u62e9\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-infiniband_1","title":"-\u4e3a\u4ec0\u4e48\u76ee\u524d\u8fd8\u6ca1\u6709 Infiniband \u8def\u7531\u5668\u6295\u5165\u751f\u4ea7\uff1f","text":"<p>InfiniBand \u8def\u7531\u5668\u7684\u5e02\u573a\u4efd\u989d\u76f8\u5bf9\u6709\u9650\uff0c\u4e3b\u8981\u539f\u56e0\u5305\u62ec\u4ee5\u4e0b\u51e0\u70b9\uff1a 1. \u5e02\u573a\u9700\u6c42\uff1aInfiniBand \u6280\u672f\u4e3b\u8981\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\u3001\u6570\u636e\u4e2d\u5fc3\u548c\u79d1\u5b66\u5e94\u7528\uff0c\u8fd9\u4e9b\u9886\u57df\u5bf9\u4f4e\u5ef6\u8fdf\u3001\u9ad8\u5e26\u5bbd\u548c\u9ad8\u6027\u80fd\u7684\u7f51\u7edc\u8981\u6c42\u8f83\u9ad8\u3002\u7136\u800c\uff0c\u8fd9\u4e9b\u5e02\u573a\u662f\u76f8\u5bf9\u72ed\u7a84\u7684\uff0c\u4e0e\u5e7f\u6cdb\u90e8\u7f72\u7684\u4ee5\u592a\u7f51\u76f8\u6bd4\uff0c\u5e02\u573a\u89c4\u6a21\u8f83\u5c0f\u3002 2. \u6210\u672c\uff1aInfiniBand \u57fa\u7840\u8bbe\u65bd\u7684\u6210\u672c\u901a\u5e38\u8f83\u9ad8\uff0c\u5305\u62ec\u7f51\u5361\u3001\u4ea4\u6362\u673a\u548c\u76f8\u5173\u8bbe\u5907\u3002\u8fd9\u5bf9\u4e8e\u4e00\u4e9b\u7ec4\u7ec7\u6765\u8bf4\u53ef\u80fd\u4e0d\u5212\u7b97\uff0c\u5c24\u5176\u662f\u5728\u8f83\u5c0f\u89c4\u6a21\u7684\u7f51\u7edc\u4e2d\u3002 3. \u4ee5\u592a\u7f51\u7684\u4e3b\u5bfc\u5730\u4f4d\uff1a\u4ee5\u592a\u7f51\u662f\u76ee\u524d\u6570\u636e\u4e2d\u5fc3\u548c\u4f01\u4e1a\u7f51\u7edc\u4e2d\u7684\u4e3b\u5bfc\u7f51\u7edc\u6280\u672f\uff0c\u56e0\u4e3a\u5b83\u662f\u4e00\u79cd\u5e7f\u6cdb\u90e8\u7f72\u7684\u6807\u51c6\uff0c\u5e76\u4e14\u5728\u4e0d\u540c\u89c4\u6a21\u7684\u7f51\u7edc\u4e2d\u8868\u73b0\u826f\u597d\u3002\u8bb8\u591a\u7ec4\u7ec7\u66f4\u503e\u5411\u4e8e\u4f7f\u7528\u4ee5\u592a\u7f51\uff0c\u56e0\u4e3a\u5b83\u7684\u6210\u672c\u76f8\u5bf9\u8f83\u4f4e\uff0c\u800c\u4e14\u6709\u66f4\u5927\u7684\u4f9b\u5e94\u5546\u751f\u6001\u7cfb\u7edf\u548c\u66f4\u591a\u7684\u652f\u6301\u3002 4. \u8f6f\u4ef6\u652f\u6301\uff1aInfiniBand \u6280\u672f\u9700\u8981\u76f8\u5e94\u7684\u8f6f\u4ef6\u652f\u6301\uff0c\u5305\u62ec\u64cd\u4f5c\u7cfb\u7edf\u548c\u5e94\u7528\u7a0b\u5e8f\u7684\u652f\u6301\u3002\u867d\u7136\u4e00\u4e9b\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u79d1\u7814\u5e94\u7528\u7a0b\u5e8f\u652f\u6301 InfiniBand\uff0c\u4f46\u5e76\u975e\u6240\u6709\u5e94\u7528\u7a0b\u5e8f\u90fd\u80fd\u591f\u5145\u5206\u5229\u7528\u8fd9\u79cd\u6280\u672f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-infiniband_2","title":"-\u4e3a\u4ec0\u4e48Infiniband \u4e0e\u4ee5\u592a\u7f51\u4e0d\u517c\u5bb9\uff1f","text":"<p>InfiniBand \u548c\u4ee5\u592a\u7f51\u662f==\u4e24\u79cd\u4e0d\u540c\u7684\u7f51\u7edc\u6280\u672f==\uff0c\u5b83\u4eec\u5728\u7269\u7406\u5c42\u3001\u6570\u636e\u94fe\u8def\u5c42\u548c\u534f\u8bae\u5c42\u9762\u90fd\u6709\u663e\u8457\u7684\u5dee\u5f02\uff0c\u56e0\u6b64\u5b83\u4eec\u4e0d\u517c\u5bb9\u7684\u4e3b\u8981\u539f\u56e0\u5982\u4e0b\uff1a</p> <ol> <li>\u7269\u7406\u5c42\u5dee\u5f02\uff1aInfiniBand \u4f7f\u7528\u4e86==\u4e0d\u540c\u7684\u7269\u7406\u5c42\u6807\u51c6\u548c\u7535\u4fe1\u53f7\u4f20\u8f93\u673a\u5236==\uff0c\u901a\u5e38\u57fa\u4e8e\u53cc\u7ede\u7ebf\u3001\u94dc\u7f06\u6216\u5149\u7ea4\u8fde\u63a5\uff0c\u800c\u4ee5\u592a\u7f51\u5219\u4f7f\u7528\u4ee5\u592a\u7f51\u7535\u7f06\u548c\u5149\u7ea4\u6807\u51c6\u3002\u8fd9\u4e24\u8005\u7684\u7269\u7406\u5c42\u7279\u6027\u548c\u63a5\u53e3\u4e0d\u540c\uff0c\u56e0\u6b64\u4e0d\u517c\u5bb9\u3002</li> <li>\u6570\u636e\u94fe\u8def\u5c42\u5dee\u5f02\uff1aInfiniBand \u548c\u4ee5\u592a\u7f51\u4f7f\u7528==\u4e0d\u540c\u7684\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae==\uff0c\u5206\u522b\u79f0\u4e3aInfiniBand\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae\u548c\u4ee5\u592a\u7f51\u6570\u636e\u94fe\u8def\u5c42\u534f\u8bae\uff08\u901a\u5e38\u662fEthernet\u7684\u5404\u79cd\u5f62\u5f0f\uff09\u3002==\u8fd9\u4e9b\u534f\u8bae\u5b9a\u4e49\u4e86\u6570\u636e\u5305\u7684\u683c\u5f0f\u3001\u5e27\u7ed3\u6784\u548c\u5904\u7406\u89c4\u5219\uff0c\u5b83\u4eec\u4e4b\u95f4\u4e5f\u4e0d\u517c\u5bb9==\u3002</li> <li>\u8def\u7531\u548c\u4ea4\u6362\uff1aInfiniBand \u548c\u4ee5\u592a\u7f51\u91c7\u7528==\u4e0d\u540c\u7684\u8def\u7531\u548c\u4ea4\u6362\u65b9\u5f0f\uff0c\u5b83\u4eec\u7684\u7f51\u7edc\u62d3\u6251\u548c\u8def\u7531\u7b97\u6cd5\u4e0d\u540c==\uff0c\u56e0\u6b64\u4e0d\u540c\u7c7b\u578b\u7684\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u7528\u4e8e\u652f\u6301\u5b83\u4eec\u7684\u7f51\u7edc\u3002</li> <li>\u534f\u8bae\u6808\u5dee\u5f02\uff1aInfiniBand\u548c\u4ee5\u592a\u7f51==\u5728\u534f\u8bae\u6808\u7684\u5404\u4e2a\u5c42\u9762\u90fd\u6709\u4e0d\u540c\u7684\u534f\u8bae\uff0c\u5305\u62ec\u7f51\u7edc\u5c42\u3001\u4f20\u8f93\u5c42\u548c\u5e94\u7528==\u5c42\u3002\u8fd9\u4e9b\u534f\u8bae\u7528\u4e8e\u7ba1\u7406\u8fde\u63a5\u3001\u6570\u636e\u4f20\u8f93\u548c\u901a\u4fe1\uff0c\u5b83\u4eec\u4e5f==\u4e0d\u4e92\u901a==\u3002 \u867d\u7136 InfiniBand \u548c\u4ee5\u592a\u7f51\u662f\u4e24\u79cd\u4e0d\u517c\u5bb9\u7684\u7f51\u7edc\u6280\u672f\uff0c\u4f46\u6709\u4e9b\u8bbe\u5907\u548c\u6280\u672f\u53ef\u4ee5\u7528\u4e8e\u5728\u5b83\u4eec\u4e4b\u95f4\u5efa\u7acb\u6865\u63a5\u6216\u4e92\u64cd\u4f5c\u3002\u4f8b\u5982\uff0cInfiniBand \u7f51\u7edc\u53ef\u4ee5\u4f7f\u7528\u7f51\u5173\u8bbe\u5907\u5c06\u6570\u636e\u4f20\u8f93\u5230\u4ee5\u592a\u7f51\u7f51\u7edc\uff0c\u4ece\u800c\u5b9e\u73b0\u4e24\u8005\u4e4b\u95f4\u7684\u901a\u4fe1\u3002\u4f46\u8fd9\u79cd\u6865\u63a5\u901a\u5e38\u9700\u8981\u4e13\u95e8\u7684\u786c\u4ef6\u548c\u534f\u8bae\u8f6c\u6362\uff0c\u56e0\u6b64\u5e76\u4e0d\u662f\u5b8c\u5168\u900f\u660e\u7684\u4e92\u64cd\u4f5c\u3002 \u603b\u7684\u6765\u8bf4\uff0cInfiniBand \u548c\u4ee5\u592a\u7f51\u662f\u4e24\u79cd\u5728\u4e0d\u540c\u7528\u4f8b\u548c\u573a\u666f\u4e2d\u4f7f\u7528\u7684\u7f51\u7edc\u6280\u672f\uff0c\u5b83\u4eec\u5404\u81ea\u5177\u6709\u81ea\u8eab\u7684\u7279\u70b9\u548c\u4f18\u52bf\u3002\u7528\u6237\u5728\u9009\u62e9\u7f51\u7edc\u6280\u672f\u65f6\u9700\u8981\u8003\u8651\u5e94\u7528\u9700\u6c42\u3001\u6027\u80fd\u3001\u53ef\u6269\u5c55\u6027\u548c\u6210\u672c\u7b49\u56e0\u7d20\uff0c\u4ee5\u786e\u5b9a\u54ea\u79cd\u6280\u672f\u6700\u9002\u5408\u5176\u7279\u5b9a\u7684\u7528\u9014\u3002</li> </ol>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-iwarp","title":"-iwarp\u662f\u4ec0\u4e48\uff1f","text":"<p>iWARP\uff08Internet Wide Area RDMA Protocol\uff09\u662f\u4e00\u79cd\u7f51\u7edc\u534f\u8bae\uff0c==\u5b83\u5efa\u7acb\u5728\u4ee5\u592a\u7f51\u4e0a==\uff0c\u5e76==\u5141\u8bb8\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\u5728\u5e7f\u57df\u7f51\uff08WAN\uff09\u548c\u4e92\u8054\u7f51\u4e0a\u8fdb\u884c\u9ad8\u6027\u80fd\u6570\u636e\u4f20\u8f93==\u3002 iWARP \u7684\u8bbe\u8ba1\u76ee\u6807\u662f\u5728==\u4e0d\u9700\u8981\u7279\u6b8a\u786c\u4ef6\u652f\u6301==\u7684\u60c5\u51b5\u4e0b\uff0c\u5728\u6807\u51c6\u4ee5\u592a\u7f51\u57fa\u7840\u8bbe\u65bd\u4e0a\u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u5e26\u5bbd\u7684 RDMA\u3002</p> <p>\u4ee5\u4e0b\u662f iWARP \u534f\u8bae\u7684\u4e00\u4e9b\u5173\u952e\u7279\u70b9\u548c\u7279\u6027\uff1a 1. ==RDMA \u652f\u6301==\uff1aiWARP \u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5728\u7f51\u7edc\u4e2d\u76f4\u63a5\u8bbf\u95ee\u8fdc\u7a0b\u4e3b\u673a\u7684\u5185\u5b58\uff0c\u800c\u65e0\u9700\u4e2d\u592e\u5904\u7406\u5355\u5143\uff08CPU\uff09\u7684\u5e72\u9884\u3002\u8fd9\u63d0\u4f9b\u4e86\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u4f20\u8f93\u3002 2. ==\u57fa\u4e8e\u6807\u51c6\u4ee5\u592a\u7f51==\uff1aiWARP \u534f\u8bae\u5efa\u7acb\u5728\u6807\u51c6\u4ee5\u592a\u7f51\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u4e0a\uff0c\u800c==\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u786c\u4ef6\u6216\u7f51\u7edc\u62d3\u6251==\u3002\u8fd9\u964d\u4f4e\u4e86\u90e8\u7f72\u6210\u672c\u548c\u590d\u6742\u6027\u3002 3. \u5b89\u5168\u6027\uff1aiWARP \u534f\u8bae\u652f\u6301\u6570\u636e\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002 4. \u5e94\u7528\u9886\u57df\uff1aiWARP \u6280\u672f\u901a\u5e38\u7528\u4e8e\u9700\u8981\u9ad8\u6027\u80fd\u6570\u636e\u4f20\u8f93\u7684\u5e94\u7528\u9886\u57df\uff0c\u5982\u5b58\u50a8\u533a\u57df\u7f51\u7edc\uff08SAN\uff09\u3001\u4e91\u8ba1\u7b97\u3001\u9ad8\u6027\u80fd\u8ba1\u7b97\uff08HPC\uff09\u548c\u8fdc\u7a0b\u5907\u4efd\u7b49\u3002 5. \u534f\u8bae\u5806\u6808\uff1aiWARP \u534f\u8bae==\u901a\u5e38\u5efa\u7acb\u5728\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff08TCP\uff09\u4e4b\u4e0a\uff0c\u4ece\u800c\u5229\u7528 TCP \u7684\u53ef\u9760\u6027\u548c\u6d41\u63a7\u5236\u529f\u80fd==\u3002\u5b83\u8fd8\u53ef\u4ee5\u4f7f\u7528\u4e00\u4e9b\u534f\u8bae\u6765\u63d0\u4f9b RDMA \u529f\u80fd\uff0c\u5982 Internet Engineering Task Force\uff08IETF\uff09\u5b9a\u4e49\u7684 RDMA Protocol Extensions\uff08RPE\uff09\u3002 iWARP \u6280\u672f\u662f\u4e00\u79cd\u5728\u6807\u51c6\u4ee5\u592a\u7f51\u4e0a\u5b9e\u73b0\u9ad8\u6027\u80fd RDMA \u7684\u65b9\u5f0f\uff0c\u5b83\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f\u5229\u7528 RDMA \u7684\u4f18\u52bf\u6765\u52a0\u901f\u6570\u636e\u4f20\u8f93\uff0c\u800c\u65e0\u9700\u7279\u6b8a\u786c\u4ef6\u6216\u7f51\u7edc\u8bbe\u5907\u3002\u8fd9\u5bf9\u4e8e\u9700\u8981\u5728\u5e7f\u57df\u7f51\u6216\u4e92\u8054\u7f51\u4e0a\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u7684\u5e94\u7528\u975e\u5e38\u6709\u7528\uff0c\u56e0\u4e3a\u5b83\u63d0\u4f9b\u4e86\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u5e26\u5bbd\u7684\u9009\u9879\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-iwarpdc","title":"-iwarp\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u5728DC\u4e4b\u95f4\u901a\u4fe1","text":"<p>iWARP\uff08Internet Wide Area RDMA Protocol\uff09\u662f\u4e00\u79cd\u53ef\u7528\u4e8e\u5728\u6570\u636e\u4e2d\u5fc3\uff08DC\uff09\u4e4b\u95f4\u8fdb\u884c\u9ad8\u6027\u80fd\u901a\u4fe1\u7684\u534f\u8bae\u3002\u5b83\u80fd\u591f\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u7684\u8ba1\u7b97\u673a\u4e4b\u95f4\u5b9e\u73b0\u9ad8\u6548\u7684\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u901a\u8fc7\u7f51\u7edc\u76f4\u63a5\u8bbf\u95ee\u8fdc\u7a0b\u8ba1\u7b97\u673a\u7684\u5185\u5b58\u800c\u4e0d\u6d89\u53ca\u4e3b\u673aCPU\u7684\u6570\u636e\u4f20\u8f93\u3002</p> <p>iWARP \u4e4b\u6240\u4ee5\u53ef\u4ee5\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\uff0c\u662f\u56e0\u4e3a\u5b83\u5efa\u7acb\u5728\u6807\u51c6\u7684\u4ee5\u592a\u7f51\u6280\u672f\u4e0a\uff0c\u5e76\u4f7f\u7528\u6807\u51c6\u7684TCP/IP\u534f\u8bae\u6808\u3002\u5b83\u5177\u6709\u4ee5\u4e0b\u7279\u70b9\u548c\u4f18\u52bf\uff1a 1. RDMA\u529f\u80fd\uff1aiWARP\u5229\u7528RDMA\u6280\u672f\uff0c\u4f7f\u6570\u636e\u4f20\u8f93\u66f4\u52a0\u9ad8\u6548\u3002\u5b83\u5141\u8bb8\u6570\u636e\u4e2d\u5fc3\u5185\u7684\u8ba1\u7b97\u673a\u53ef\u4ee5\u76f4\u63a5\u8bbf\u95ee\u8fdc\u7a0b\u8ba1\u7b97\u673a\u7684\u5185\u5b58\uff0c\u65e0\u9700\u4e3b\u673aCPU\u7684\u5e72\u9884\u3002\u8fd9\u964d\u4f4e\u4e86\u901a\u4fe1\u7684\u5ef6\u8fdf\u5e76\u63d0\u9ad8\u4e86\u541e\u5410\u91cf\u3002 2. \u57fa\u4e8e\u4ee5\u592a\u7f51\uff1aiWARP\u4f7f\u7528\u6807\u51c6\u4ee5\u592a\u7f51\u786c\u4ef6\uff0c\u56e0\u6b64\u53ef\u4ee5\u8f7b\u677e\u96c6\u6210\u5230\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u800c\u65e0\u9700\u6602\u8d35\u7684\u4e13\u7528\u786c\u4ef6\u3002 3. TCP/IP\u652f\u6301\uff1aiWARP\u5728TCP/IP\u534f\u8bae\u6808\u4e0a\u8fd0\u884c\uff0c\u8fd9\u4f7f\u5f97\u5b83\u4e0e\u73b0\u6709\u7684\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u517c\u5bb9\uff0c\u5305\u62ec\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u548c\u9632\u706b\u5899\u3002\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u5efa\u7acb\u8fde\u63a5\uff0c\u5e76\u4f7f\u7528TCP/IP\u534f\u8bae\u8fdb\u884c\u901a\u4fe1\u3002 4. \u5b89\u5168\u6027\uff1aiWARP\u53ef\u4ee5\u5229\u7528\u73b0\u6709\u7684\u7f51\u7edc\u5b89\u5168\u673a\u5236\uff0c\u5982IPsec\uff0c\u4ee5\u786e\u4fdd\u901a\u4fe1\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002 \u603b\u4e4b\uff0ciWARP\u662f\u4e00\u79cd\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\u7684\u6709\u6548\u65b9\u5f0f\uff0c\u56e0\u4e3a\u5b83\u878d\u5408\u4e86\u9ad8\u6027\u80fd\u7684RDMA\u6280\u672f\u548c\u6807\u51c6\u7684\u4ee5\u592a\u7f51\u548cTCP/IP\u6280\u672f\uff0c\u540c\u65f6\u4fdd\u6301\u4e86\u7f51\u7edc\u7684\u4e92\u64cd\u4f5c\u6027\u548c\u5b89\u5168\u6027\u3002\u8fd9\u4f7f\u5f97\u5b83\u6210\u4e3a\u5904\u7406\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\u9700\u6c42\u7684\u4e00\u79cd\u6709\u5438\u5f15\u529b\u7684\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-dcdc","title":"-DC\u4e4b\u95f4\u4e0eDC\u5185\u90e8\u5e38\u7528\u7684\u901a\u4fe1\u534f\u8bae","text":"<p>\u5728\u6570\u636e\u4e2d\u5fc3\uff08DC\uff09\u5185\u90e8\u548c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\uff0c\u901a\u4fe1\u534f\u8bae\u7684\u9009\u62e9\u53d6\u51b3\u4e8e\u5177\u4f53\u7684\u5e94\u7528\u548c\u9700\u6c42\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u901a\u4fe1\u534f\u8bae\uff0c\u5b83\u4eec\u5728\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u548c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u90fd\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\uff1a</p> <p>\uff081\uff09\u5728\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u5e38\u7528\u7684\u901a\u4fe1\u534f\u8bae\uff1a 1. Ethernet\uff08\u4ee5\u592a\u7f51\uff09\uff1a\u4ee5\u592a\u7f51\u662f\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1\u7684\u4e3b\u8981\u534f\u8bae\uff0c\u7528\u4e8e\u8fde\u63a5\u670d\u52a1\u5668\u3001\u4ea4\u6362\u673a\u3001\u8def\u7531\u5668\u548c\u5176\u4ed6\u7f51\u7edc\u8bbe\u5907\u3002\u4e0d\u540c\u901f\u5ea6\u7684\u4ee5\u592a\u7f51\u59821 GbE\u300110 GbE\u300125 GbE\u300140 GbE\u3001100 GbE\u7b49\u90fd\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u7684\u8fde\u63a5\u3002 2. ==TCP/IP==\uff1aTCP/IP\u534f\u8bae\u5957\u4ef6\u662f\u4e92\u8054\u7f51\u901a\u4fe1\u7684\u57fa\u7840\uff0c\u4e5f\u5728\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u5e7f\u6cdb\u4f7f\u7528\u3002\u5b83\u5305\u62ecTCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09\u548cIP\uff08\u4e92\u8054\u7f51\u534f\u8bae\uff09\uff0c\u7528\u4e8e\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93\u548c\u8def\u7531\u3002 3. ==InfiniBand==\uff1aInfiniBand\u662f\u4e00\u79cd\u9ad8\u6027\u80fd\u7f51\u7edc\u6280\u672f\uff0c\u7279\u522b\u9002\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u7684\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u5b58\u50a8\u96c6\u7fa4\u3002\u5b83\u652f\u6301\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u901a\u4fe1\uff0c\u5e76\u5e7f\u6cdb\u7528\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97 (HPC) \u548c\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u3002 4. ==RDMA==\uff08Remote Direct Memory Access\uff09\uff1aRDMA\u534f\u8bae\u5141\u8bb8\u8fdc\u7a0b\u8ba1\u7b97\u673a\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u53f0\u8ba1\u7b97\u673a\u7684\u5185\u5b58\uff0c\u4ece\u800c\u63d0\u4f9b\u4e86\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u6027\u80fd\u7684\u901a\u4fe1\u3002\u5b83\u53ef\u4ee5\u7528\u4e8e\u4e0d\u540c\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u5982InfiniBand\u3001iWARP\u7b49\u3002</p> <p>\uff082\uff09\u5728\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u5e38\u7528\u7684\u901a\u4fe1\u534f\u8bae\uff1a 1. BGP\uff08Border Gateway Protocol\uff09\uff1aBGP\u662f\u7528\u4e8e\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u8fdb\u884c\u8def\u7531\u548c\u4e92\u8054\u7684\u6807\u51c6\u534f\u8bae\u3002\u5b83\u5728\u5168\u7403\u4e92\u8054\u7f51\u4e2d\u5e7f\u6cdb\u4f7f\u7528\uff0c\u7528\u4e8e\u786e\u5b9a\u6700\u4f73\u7684\u6570\u636e\u5305\u4f20\u8f93\u8def\u5f84\u3002 2. MPLS\uff08Multiprotocol Label Switching\uff09\uff1aMPLS\u662f\u4e00\u79cd\u7528\u4e8e\u521b\u5efa\u865a\u62df\u4e13\u7528\u7f51\u7edc\uff08VPN\uff09\u548c\u6d41\u91cf\u5de5\u7a0b\u7684\u534f\u8bae\u3002\u5b83\u5e38\u7528\u4e8e\u8de8\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u5efa\u7acb\u865a\u62df\u4e13\u7528\u7f51\u7edc\u8fde\u63a5\u3002 3. VXLAN\uff08Virtual Extensible LAN\uff09\uff1aVXLAN\u662f\u4e00\u79cd\u7528\u4e8e\u521b\u5efa\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\u7684\u6280\u672f\uff0c\u5141\u8bb8\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u865a\u62df\u673a\u901a\u4fe1\u3002\u5b83\u901a\u5e38\u7528\u4e8e\u4e91\u8ba1\u7b97\u73af\u5883\u4e2d\u3002 4. OTN\uff08Optical Transport Network\uff09\uff1aOTN\u662f\u4e00\u79cd\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u957f\u8ddd\u79bb\u9ad8\u901f\u5149\u901a\u4fe1\u7684\u534f\u8bae\uff0c\u9002\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u4e92\u8054\u548c\u6570\u636e\u4e2d\u5fc3\u4e0e\u8fdc\u7a0b\u7ad9\u70b9\u4e4b\u95f4\u7684\u901a\u4fe1\u3002 \u8fd9\u4e9b\u662f\u4e00\u4e9b\u5e38\u89c1\u7684\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u548c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\u534f\u8bae\u3002\u5177\u4f53\u7684\u9009\u62e9\u53d6\u51b3\u4e8e\u6570\u636e\u4e2d\u5fc3\u7684\u67b6\u6784\u3001\u6027\u80fd\u9700\u6c42\u3001\u53ef\u7528\u6280\u672f\u548c\u6210\u672c\u7b49\u56e0\u7d20\u3002\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u53ef\u80fd\u4f1a\u91c7\u7528\u4e0d\u540c\u7684\u7ec4\u5408\u6765\u6ee1\u8db3\u5176\u7279\u5b9a\u9700\u6c42\u3002</p> <p>\uff083\uff09TCP/IP\u534f\u8bae\u53ef\u4ee5\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\uff0c\u4e5f\u53ef\u4ee5\u7528\u4e8eDC\u5185\u90e8\u7684\u901a\u4fe1\uff1a \u5b9e\u9645\u4e0a\uff0cTCP/IP\u534f\u8bae\u662f\u4e92\u8054\u7f51\u548c\u5927\u591a\u6570\u4f01\u4e1a\u7f51\u7edc\u4e2d\u901a\u4fe1\u7684\u57fa\u7840\u534f\u8bae\u3002\u5b83\u4e5f\u5728\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5c24\u5176\u662f\u7528\u4e8e\u8de8\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u7684\u901a\u4fe1\u3002 \u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1\u901a\u5e38\u9700\u8981\u4ee5\u4e0b\u51e0\u4e2a\u8981\u6c42\uff1a 1. \u53ef\u9760\u6027\uff1a\u901a\u4fe1\u5fc5\u987b\u662f\u53ef\u9760\u7684\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u7684\u5b8c\u6574\u6027\u548c\u53ef\u7528\u6027\u3002 2. \u5b89\u5168\u6027\uff1a\u901a\u4fe1\u5e94\u8be5\u662f\u5b89\u5168\u7684\uff0c\u4ee5\u4fdd\u62a4\u654f\u611f\u6570\u636e\u4e0d\u53d7\u672a\u7ecf\u6388\u6743\u7684\u8bbf\u95ee\u3002 3. \u53ef\u6269\u5c55\u6027\uff1a\u901a\u4fe1\u9700\u8981\u652f\u6301\u6570\u636e\u4e2d\u5fc3\u7684\u6269\u5c55\u548c\u589e\u52a0\u5e26\u5bbd\u5bb9\u91cf\u3002 4. \u8def\u7531\uff1a\u901a\u4fe1\u5fc5\u987b\u80fd\u591f\u5728\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u8fdb\u884c\u8def\u7531\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5305\u80fd\u591f\u6b63\u786e\u5230\u8fbe\u76ee\u7684\u5730\u3002 TCP/IP\u534f\u8bae\u5957\u4ef6\uff0c\u5305\u62ecTCP\uff08\u4f20\u8f93\u63a7\u5236\u534f\u8bae\uff09\u548cIP\uff08\u4e92\u8054\u7f51\u534f\u8bae\uff09\uff0c\u53ef\u4ee5\u6ee1\u8db3\u8fd9\u4e9b\u8981\u6c42\u3002\u5b83\u63d0\u4f9b\u53ef\u9760\u7684\u6570\u636e\u4f20\u8f93\uff08\u901a\u8fc7TCP\uff09\uff0c\u540c\u65f6\u901a\u8fc7IP\u652f\u6301\u6570\u636e\u5305\u7684\u8def\u7531\u3002\u6b64\u5916\uff0c\u6570\u636e\u4e2d\u5fc3\u901a\u5e38\u4f1a\u4f7f\u7528\u9644\u52a0\u7684\u5b89\u5168\u6027\u5c42\uff0c\u5982VPN\uff08\u865a\u62df\u4e13\u7528\u7f51\u7edc\uff09\u6216TLS\uff08\u4f20\u8f93\u5c42\u5b89\u5168\u6027\uff09\uff0c\u4ee5\u63d0\u4f9b\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u4ece\u800c\u786e\u4fdd\u901a\u4fe1\u7684\u5b89\u5168\u6027\u3002 \u867d\u7136\u6709\u4e00\u4e9b\u4e13\u7528\u7684\u6570\u636e\u4e2d\u5fc3\u901a\u4fe1\u534f\u8bae\uff0c\u5982InfiniBand\u3001RoCE\uff08RDMA over Converged Ethernet\uff09\u548ciWARP\uff0c\u5b83\u4eec\u53ef\u4ee5\u63d0\u4f9b\u66f4\u9ad8\u6027\u80fd\u548c\u4f4e\u5ef6\u8fdf\u7684\u901a\u4fe1\uff0c\u4f46TCP/IP\u4ecd\u7136\u662f\u5e7f\u6cdb\u4f7f\u7528\u7684\u901a\u7528\u534f\u8bae\uff0c\u5c24\u5176\u662f\u5728\u9700\u8981\u8de8\u4e0d\u540c\u6570\u636e\u4e2d\u5fc3\u8fdb\u884c\u901a\u4fe1\u65f6\u3002\u56e0\u6b64\uff0cTCP/IP\u5728\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u901a\u4fe1\u4e2d\u6709\u5e7f\u6cdb\u7684\u5e94\u7528\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-rocedc","title":"-RoCE\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u5728DC\u4e4b\u95f4\u901a\u4fe1\uff1f","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#1roce","title":"\uff081\uff09RoCE\u662f\u4ec0\u4e48\uff1a","text":"<p>RoCE (RDMA over Converged Ethernet) \u662f\u4e00\u79cd==\u7f51\u7edc\u534f\u8bae==\uff0c\u5b83\u5141\u8bb8==\u5728\u4ee5\u592a\u7f51\u4e0a\u5b9e\u73b0\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee== (RDMA)\u3002RDMA \u662f\u4e00\u79cd\u9ad8\u6027\u80fd\u7684\u6570\u636e\u4f20\u8f93\u6280\u672f\uff0c\u5141\u8bb8==\u8ba1\u7b97\u673a\u7cfb\u7edf\u5728\u6ca1\u6709\u4e3b\u673a CPU \u7684\u5e72\u9884\u4e0b\u76f4\u63a5\u4ece\u5185\u5b58\u4e2d\u8bfb\u53d6\u6216\u5199\u5165\u6570\u636e==\u3002RoCE \u5c06\u8fd9\u79cd\u9ad8\u6027\u80fd\u7684\u6570\u636e\u4f20\u8f93\u80fd\u529b\u6269\u5c55\u5230\u4ee5\u592a\u7f51\u73af\u5883\uff0c\u63d0\u4f9b\u4e86\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u4f20\u8f93\u9009\u9879\u3002</p> <p>\u4ee5\u4e0b\u662f RoCE \u7684\u4e3b\u8981\u7279\u70b9\u548c\u7ec4\u6210\u90e8\u5206\uff1a 1. RDMA \u652f\u6301\uff1aRoCE \u534f\u8bae\u652f\u6301 RDMA\uff0c\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u4e2d\u7684\u4e24\u4e2a\u8282\u70b9\u53ef\u4ee5\u76f4\u63a5\u76f8\u4e92\u8bbf\u95ee\u5176\u5185\u5b58\uff0c\u800c\u65e0\u9700\u5c06\u6570\u636e\u5305\u4f20\u9012\u5230\u4e3b\u673a CPU \u8fdb\u884c\u5904\u7406\u3002\u8fd9\u964d\u4f4e\u4e86\u6570\u636e\u4f20\u8f93\u7684\u5ef6\u8fdf\u548c CPU \u5f00\u9500\uff0c\u4ece\u800c\u63d0\u9ad8\u4e86\u6027\u80fd\u3002 2. \u4ee5\u592a\u7f51\u57fa\u7840\uff1aRoCE \u5229\u7528\u4ee5\u592a\u7f51\u7f51\u7edc\u57fa\u7840\uff0c\u8fd9\u610f\u5473\u7740\u5b83\u53ef\u4ee5\u5728\u73b0\u6709\u7684\u4ee5\u592a\u7f51\u57fa\u7840\u8bbe\u65bd\u4e0a\u8fd0\u884c\uff0c\u800c\u4e0d\u9700\u8981\u7279\u6b8a\u7684\u786c\u4ef6\u6216\u7f51\u7edc\u62d3\u6251\u3002\u8fd9\u964d\u4f4e\u4e86\u90e8\u7f72\u6210\u672c\u548c\u590d\u6742\u6027\u3002 3. \u9ad8\u6027\u80fd\uff1aRoCE \u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u7684\u6570\u636e\u4f20\u8f93\uff0c\u9002\u7528\u4e8e\u9700\u8981\u5927\u6570\u636e\u4f20\u8f93\u6216\u5b9e\u65f6\u6570\u636e\u5904\u7406\u7684\u5e94\u7528\uff0c\u5982\u6570\u636e\u4e2d\u5fc3\u3001\u9ad8\u6027\u80fd\u8ba1\u7b97 (HPC)\u3001\u5b58\u50a8\u7cfb\u7edf\u7b49\u3002 4. \u5b89\u5168\u6027\uff1aRoCE \u534f\u8bae\u652f\u6301\u6570\u636e\u52a0\u5bc6\u548c\u8ba4\u8bc1\uff0c\u4ee5\u786e\u4fdd\u6570\u636e\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u7684\u673a\u5bc6\u6027\u548c\u5b8c\u6574\u6027\u3002 RoCE \u53ef\u4ee5\u88ab\u89c6\u4e3a\u4e00\u79cd\u5728\u4ee5\u592a\u7f51\u4e0a\u5b9e\u73b0 RDMA \u7684\u6807\u51c6\uff0c\u5b83\u5728\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u5927\u89c4\u6a21\u6570\u636e\u4e2d\u5fc3\u73af\u5883\u4e2d\u5f97\u5230\u5e7f\u6cdb\u5e94\u7528\u3002\u5728\u4f7f\u7528 RoCE \u7684\u7f51\u7edc\u4e2d\uff0c\u901a\u5e38\u9700\u8981\u652f\u6301 RoCE \u7684\u9002\u914d\u5668\u5361\uff08\u7f51\u5361\uff09\u548c\u4ea4\u6362\u673a\uff0c\u4ee5\u786e\u4fdd\u534f\u8bae\u7684\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u4f7f\u5f97 RoCE \u6210\u4e3a\u652f\u6301\u9ad8\u6027\u80fd\u8ba1\u7b97\u548c\u6570\u636e\u4f20\u8f93\u7684\u91cd\u8981\u6280\u672f\u4e4b\u4e00\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#2rocedc","title":"\uff082\uff09RoCE\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u5728DC\u4e4b\u95f4\u901a\u4fe1\uff1f","text":"<p>RoCE\uff08RDMA over Converged Ethernet\uff09\u534f\u8bae==\u901a\u5e38\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1==\uff0c\u800c==\u4e0d\u592a\u9002\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1==\uff0c\u6709\u4ee5\u4e0b\u539f\u56e0\uff1a 1. \u8303\u56f4\u95ee\u9898\uff1a==RoCE \u662f\u4e00\u79cd\u57fa\u4e8e\u4ee5\u592a\u7f51\u7684\u534f\u8bae\uff0c\u901a\u5e38\u7528\u4e8e\u5c40\u57df\u7f51\u6216\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u7f51\u7edc==\u3002\u5728\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1\u901a\u5e38\u6d89\u53ca\u66f4\u5e7f\u6cdb\u7684\u8303\u56f4\uff0c\u6db5\u76d6\u8de8\u8db3\u591f\u5927\u7684\u8ddd\u79bb\uff0c\u53ef\u80fd\u6d89\u53ca\u591a\u4e2a\u6570\u636e\u4e2d\u5fc3\u6216\u751a\u81f3\u591a\u4e2a\u5730\u7406\u4f4d\u7f6e\u3002==\u4ee5\u592a\u7f51\u901a\u5e38\u4e0d\u9002\u7528\u4e8e\u957f\u8ddd\u79bb\u901a\u4fe1\uff0c\u56e0\u4e3a\u5b83\u5728\u7269\u7406\u5c42\u9762\u4e0a\u6709\u8ddd\u79bb\u9650\u5236==\u3002 2. \u5ef6\u8fdf\u95ee\u9898\uff1aRoCE \u901a\u5e38\u8bbe\u8ba1\u7528\u4e8e\u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u6027\u80fd\u7684\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1\u3002==\u5728\u8de8\u8db3\u591f\u8fdc\u7684\u8ddd\u79bb\u5185\uff0c\u5ef6\u8fdf\u4f1a\u53d8\u5f97\u66f4\u9ad8==\uff0c\u56e0\u4e3a\u6570\u636e\u9700\u8981\u5728\u4e0d\u540c\u7684\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a\u548c\u94fe\u8def\u4e4b\u95f4\u4f20\u8f93\u3002\u8fd9\u4e0d\u7b26\u5408 RoCE \u7684\u8bbe\u8ba1\u76ee\u6807\u3002 3. \u9700\u8981\u4e13\u7528\u786c\u4ef6\uff1aRoCE \u9700\u8981\u7279\u6b8a\u7684\u7f51\u5361\u548c\u7f51\u7edc\u8bbe\u5907\u6765\u652f\u6301\u3002\u5728\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1\u4e2d\uff0c\u5f80\u5f80\u9700\u8981\u8003\u8651\u591a\u79cd\u4e0d\u540c\u7c7b\u578b\u7684\u7f51\u7edc\u548c\u8bbe\u5907\uff0c\u800c\u4e0d\u662f\u4ec5\u4ec5\u4f7f\u7528\u4ee5\u592a\u7f51\u3002RoCE \u9700\u8981\u7279\u5b9a\u7684\u786c\u4ef6\u652f\u6301\uff0c\u56e0\u6b64\u53ef\u80fd\u4e0d\u9002\u7528\u4e8e\u6240\u6709\u7c7b\u578b\u7684\u7f51\u7edc\u3002 ==\u4e3a\u4e86\u5b9e\u73b0\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u5176\u4ed6\u534f\u8bae\u548c\u6280\u672f\uff0c\u4f8b\u5982 IP\uff08Internet Protocol\uff09\u4ee5\u53ca\u57fa\u4e8e TCP/IP \u7684\u534f\u8bae==\uff0c\u4ee5\u9002\u5e94\u66f4\u5e7f\u6cdb\u7684\u8303\u56f4\u548c\u7f51\u7edc\u7c7b\u578b\u3002\u8fd9\u4e9b\u534f\u8bae\u53ef\u4ee5\u5728\u8f83\u957f\u7684\u8ddd\u79bb\u4e0a\u63d0\u4f9b\u901a\u4fe1\uff0c\u5e76\u4e14\u901a\u5e38\u9002\u7528\u4e8e\u4e0d\u540c\u7c7b\u578b\u7684\u786c\u4ef6\u548c\u7f51\u7edc\u8bbe\u5907\u3002 \u56e0\u6b64\uff0cRoCE \u4e3b\u8981\u7528\u4e8e\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1\uff0c\u800c\u4e0d\u9002\u5408\u8de8\u8db3\u591f\u8fdc\u7684\u8ddd\u79bb\u6216\u4e0d\u540c\u7c7b\u578b\u7684\u7f51\u7edc\u7684\u6570\u636e\u4e2d\u5fc3\u4e4b\u95f4\u7684\u901a\u4fe1\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#3","title":"\uff083\uff09\u4e3a\u4ec0\u4e48\u4ee5\u592a\u7f51\u901a\u5e38\u4e0d\u9002\u7528\u4e8e\u957f\u8ddd\u79bb\u901a\u4fe1\uff1f\u4e3a\u4ec0\u4e48\u5b83\u5728\u7269\u7406\u5c42\u9762\u4e0a\u6709\u8ddd\u79bb\u9650\u5236\uff1f","text":"<p>\u4ee5\u592a\u7f51\u901a\u5e38\u4e0d\u9002\u7528\u4e8e\u957f\u8ddd\u79bb\u901a\u4fe1\uff0c\u56e0\u4e3a\u5b83\u5728\u7269\u7406\u5c42\u9762\u4e0a\u5b58\u5728\u8ddd\u79bb\u9650\u5236\uff0c\u8fd9\u662f\u7531\u4e8e==\u4ee5\u592a\u7f51\u7684\u7535\u4fe1\u53f7\u8870\u51cf==\u548c==\u65f6\u5e8f\u95ee\u9898==\u5f15\u8d77\u7684\u3002\u4ee5\u4e0b\u662f\u5bfc\u81f4\u4ee5\u592a\u7f51\u6709\u8ddd\u79bb\u9650\u5236\u7684\u4e3b\u8981\u539f\u56e0\uff1a 1. \u4fe1\u53f7\u8870\u51cf\uff1a\u4ee5\u592a\u7f51\u4f7f\u7528\u7535\u4fe1\u53f7\u6765\u4f20\u8f93\u6570\u636e\uff0c\u800c\u7535\u4fe1\u53f7\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4f1a\u53d7\u5230\u4fe1\u53f7\u8870\u51cf\u7684\u5f71\u54cd\uff0c\u5373\u4fe1\u53f7\u7684\u5f3a\u5ea6\u4f1a\u968f\u7740\u4f20\u8f93\u8ddd\u79bb\u7684\u589e\u52a0\u800c\u51cf\u5f31\u3002\u968f\u7740\u8ddd\u79bb\u7684\u589e\u52a0\uff0c\u7535\u4fe1\u53f7\u53d8\u5f97\u8d8a\u6765\u8d8a\u5f31\uff0c\u5230\u8fbe\u63a5\u6536\u7aef\u65f6\u53ef\u80fd\u65e0\u6cd5\u53ef\u9760\u89e3\u7801\u3002\u8fd9\u9650\u5236\u4e86\u4ee5\u592a\u7f51\u7684\u4f20\u8f93\u8ddd\u79bb\u3002 2. \u65f6\u5e8f\u95ee\u9898\uff1a==\u4ee5\u592a\u7f51\u5728\u7269\u7406\u5c42\u4e0a\u4f7f\u7528\u65f6\u5206\u591a\u8def\u590d\u7528\uff08Time Division Multiplexing\uff0cTDM\uff09\u6765\u7ba1\u7406\u6570\u636e\u4f20\u8f93==\u3002\u6bcf\u4e2a\u4ee5\u592a\u7f51\u6807\u51c6\u90fd\u89c4\u5b9a\u4e86\u7279\u5b9a\u7684\u65f6\u949f\u9891\u7387\u548c\u65f6\u95f4\u95f4\u9694\uff0c\u4ee5\u786e\u5b9a\u5982\u4f55\u4f20\u8f93\u6570\u636e\u5e27\u3002==\u5728\u8f83\u957f\u7684\u8ddd\u79bb\u4e0a\uff0c\u65f6\u5e8f\u95ee\u9898\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u5e27\u5230\u8fbe\u63a5\u6536\u7aef\u65f6\u51fa\u73b0\u65f6\u949f\u6f02\u79fb\u6216\u6570\u636e\u635f\u574f==\u3002 3. \u5ef6\u8fdf\u548c\u6296\u52a8\uff1a\u4ee5\u592a\u7f51\u901a\u5e38\u8bbe\u8ba1\u7528\u4e8e\u5c40\u57df\u7f51\u6216\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1\uff0c\u5176\u4e2d\u5ef6\u8fdf\u8f83\u4f4e\u4e14\u7a33\u5b9a\u6027\u5f88\u9ad8\u3002==\u5728\u957f\u8ddd\u79bb\u901a\u4fe1\u4e2d\uff0c\u4fe1\u53f7\u5fc5\u987b\u901a\u8fc7\u66f4\u591a\u7684\u4e2d\u7ee7\u8bbe\u5907\u548c\u4f20\u8f93\u94fe\u8def\uff0c\u4ece\u800c\u589e\u52a0\u4e86\u5ef6\u8fdf\u548c\u65f6\u949f\u6296\u52a8==\u3002\u8fd9\u53ef\u80fd\u4e0d\u9002\u5408\u67d0\u4e9b\u5b9e\u65f6\u5e94\u7528\u6216\u9700\u8981\u9ad8\u6027\u80fd\u7684\u5e94\u7528\u3002 \u4e3a\u4e86\u514b\u670d\u4ee5\u592a\u7f51\u7684\u8ddd\u79bb\u9650\u5236\uff0c\u901a\u5e38\u4f1a\u91c7\u7528\u5176\u4ed6\u4f20\u8f93\u5a92\u4f53\u548c\u534f\u8bae\uff0c\u5982\u5149\u7ea4\u3001\u957f\u8ddd\u79bb\u4ee5\u592a\u7f51\uff08Long Range Ethernet\uff0cLRE\uff09\u3001\u5149\u7ea4\u901a\u9053\uff08Fibre Channel\uff09\u7b49\u3002\u8fd9\u4e9b\u6280\u672f\u53ef\u4ee5\u652f\u6301\u66f4\u957f\u7684\u901a\u4fe1\u8ddd\u79bb\uff0c\u5e76\u63d0\u4f9b\u66f4\u597d\u7684\u6027\u80fd\u548c\u7a33\u5b9a\u6027\uff0c\u9002\u7528\u4e8e\u5e7f\u57df\u7f51\uff08WAN\uff09\u548c\u8de8\u8db3\u591f\u8fdc\u7684\u8ddd\u79bb\u7684\u901a\u4fe1\u9700\u6c42\u3002\u4e0d\u540c\u7684\u4ee5\u592a\u7f51\u6807\u51c6\u548c\u7269\u7406\u5a92\u4f53\u4e5f\u5177\u6709\u4e0d\u540c\u7684\u4f20\u8f93\u8ddd\u79bb\u9650\u5236\uff0c\u56e0\u6b64\u5728\u8bbe\u8ba1\u7f51\u7edc\u65f6\u9700\u8981\u8003\u8651\u5177\u4f53\u7684\u8981\u6c42\u548c\u6280\u672f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#4","title":"\uff084\uff09\u4ee5\u592a\u7f51\u7684\u65f6\u949f\u6f02\u79fb\u73b0\u8c61\u662f\u4ec0\u4e48\uff1f","text":"<p>\u4ee5\u592a\u7f51\u7684\u65f6\u949f\u6f02\u79fb\u662f\u6307\u5728\u7f51\u7edc\u4e2d\u4f7f\u7528\u591a\u4e2a\u8bbe\u5907\u548c\u94fe\u8def\u65f6\uff0c\u7531\u4e8e\u6bcf\u4e2a\u8bbe\u5907\u7684\u65f6\u949f\u6216\u65f6\u5e8f\u53c2\u8003\u5b58\u5728\u5fae\u5c0f\u7684\u4e0d\u5339\u914d\uff0c\u5bfc\u81f4\u6570\u636e\u4f20\u8f93\u7684\u65f6\u949f\u4e0d\u540c\u6b65\u3002\u8fd9\u79cd\u65f6\u949f\u6f02\u79fb==\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u5e27\u7684\u5230\u8fbe\u65f6\u95f4\u548c\u9891\u7387\u51fa\u73b0\u5fae\u5c0f\u7684\u4e0d\u4e00\u81f4==\uff0c\u4ece\u800c==\u5f71\u54cd\u7f51\u7edc\u6027\u80fd\u548c\u6570\u636e\u53ef\u9760\u6027==\u3002</p> <p>\u65f6\u949f\u6f02\u79fb\u7684\u4e3b\u8981\u539f\u56e0\u5305\u62ec\u4ee5\u4e0b\u51e0\u70b9\uff1a 1. \u6676\u632f\u4e0d\u7a33\u5b9a\u6027\uff1a\u7f51\u7edc\u8bbe\u5907\u901a\u5e38\u4f7f\u7528\u6676\u632f\u6765\u4ea7\u751f\u65f6\u949f\u4fe1\u53f7\uff0c\u4f46\u4e0d\u540c\u7684\u6676\u632f\u53ef\u80fd\u5b58\u5728\u5fae\u5c0f\u7684\u9891\u7387\u4e0d\u5339\u914d\u548c\u6ce2\u52a8\u3002\u8fd9\u4e9b\u4e0d\u5339\u914d\u53ef\u80fd\u4f1a\u5bfc\u81f4\u8bbe\u5907\u7684\u65f6\u949f\u4fe1\u53f7\u5b58\u5728\u5fae\u5c0f\u7684\u6f02\u79fb\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684\u65f6\u949f\u6f02\u79fb\u3002 2. \u6570\u636e\u94fe\u8def\u957f\u5ea6\uff1a==\u5728\u4ee5\u592a\u7f51\u4e2d\uff0c\u6570\u636e\u901a\u8fc7\u7535\u7f06\u6216\u5149\u7ea4\u7b49\u94fe\u8def\u4f20\u8f93\uff0c\u4e0d\u540c\u94fe\u8def\u7684\u957f\u5ea6\u53ef\u80fd\u4f1a\u7565\u6709\u4e0d\u540c\uff0c\u8fd9\u4e5f\u4f1a\u5bfc\u81f4\u6570\u636e\u7684\u4f20\u8f93\u901f\u7387\u7565\u6709\u4e0d\u540c==\uff0c\u4ece\u800c\u5f15\u53d1\u65f6\u949f\u6f02\u79fb\u3002 3. \u4fe1\u53f7\u4f20\u8f93\u5ef6\u8fdf\uff1a==\u6570\u636e\u5728\u4e0d\u540c\u7684\u94fe\u8def\u4e0a\u4f20\u8f93\u9700\u8981\u4e00\u5b9a\u7684\u65f6\u95f4\uff0c\u8fd9\u5bfc\u81f4\u4fe1\u53f7\u7684\u5ef6\u8fdf\u5b58\u5728\u5fae\u5c0f\u5dee\u5f02==\uff0c\u4ece\u800c\u5f71\u54cd\u5230\u6570\u636e\u5230\u8fbe\u7684\u65f6\u5e8f\u3002</p> <p>\u65f6\u949f\u6f02\u79fb\u901a\u5e38\u5728\u9ad8\u6027\u80fd\u7f51\u7edc\u4e2d\u9700\u8981\u7279\u522b\u6ce8\u610f\uff0c\u56e0\u4e3a\u5728\u9700\u8981\u9ad8\u7cbe\u5ea6\u548c\u540c\u6b65\u7684\u5e94\u7528\u4e2d\uff0c\u5982\u97f3\u89c6\u9891\u4f20\u8f93\u3001\u91d1\u878d\u4ea4\u6613\u548c\u79d1\u5b66\u5b9e\u9a8c\u7b49\u9886\u57df\uff0c\u65f6\u949f\u4e0d\u540c\u6b65\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u5e27\u7684\u4e22\u5931\u3001\u91cd\u590d\u6216\u4e71\u5e8f\uff0c\u4ece\u800c\u5f71\u54cd\u7cfb\u7edf\u6027\u80fd\u548c\u7a33\u5b9a\u6027\u3002</p> <p>==\u4e3a\u4e86\u89e3\u51b3\u65f6\u949f\u6f02\u79fb\u95ee\u9898\uff0c\u7f51\u7edc\u8bbe\u5907\u901a\u5e38\u91c7\u7528\u65f6\u949f\u540c\u6b65\u6280\u672f\uff0c\u5982\u7f51\u7edc\u65f6\u95f4\u534f\u8bae\uff08Network Time Protocol\uff0cNTP\uff09\u6216\u7cbe\u786e\u65f6\u95f4\u534f\u8bae\uff08Precision Time Protocol\uff0cPTP\uff09\u3002==\u8fd9\u4e9b\u534f\u8bae\u5141\u8bb8\u8bbe\u5907\u6821\u51c6\u5176\u65f6\u949f\u4ee5\u5339\u914d\u7f51\u7edc\u4e2d\u7684\u7edf\u4e00\u65f6\u949f\uff0c\u4ece\u800c\u51cf\u5c0f\u65f6\u949f\u6f02\u79fb\u3002\u540c\u65f6\uff0c==\u9ad8\u6027\u80fd\u7f51\u7edc\u8bbe\u5907\u901a\u5e38\u5177\u6709\u66f4\u51c6\u786e\u7684\u65f6\u949f\u6e90\u548c\u66f4\u9ad8\u7cbe\u5ea6\u7684\u65f6\u949f\u540c\u6b65\u673a\u5236==\uff0c\u4ee5\u51cf\u5c0f\u65f6\u949f\u6f02\u79fb\u5bf9\u7cfb\u7edf\u7684\u5f71\u54cd\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-tcp-incast-353839-41","title":"-TCP incast [35,38,39] \u548c\u957f\u5ef6\u8fdf\u5c3e\u90e8 [41]\u662f\u4ec0\u4e48\uff1f","text":"<p>TCP incast \u73b0\u8c61\u548c\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u662f\u4e0e TCP \u534f\u8bae\u76f8\u5173\u7684\u4e24\u79cd\u4e0d\u540c\u7f51\u7edc\u73b0\u8c61\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u5f71\u54cd\u7f51\u7edc\u6027\u80fd\u548c\u541e\u5410\u91cf\u3002</p> <ol> <li>TCP Incast \u73b0\u8c61\uff08TCP Incast Congestion\uff09\uff1a</li> <li>TCP Incast \u73b0\u8c61\u901a\u5e38\u53d1\u751f\u5728\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\uff0c\u7279\u522b\u662f\u5728\u96c6\u7fa4\u8ba1\u7b97\u6216\u4e91\u8ba1\u7b97\u73af\u5883\u4e2d\u3002</li> <li>\u5f53\u591a\u4e2a\u5ba2\u6237\u7aef\u540c\u65f6\u8bf7\u6c42\u4ece\u76f8\u540c\u7684\u670d\u52a1\u5668\u6216\u5b58\u50a8\u8bbe\u5907\u83b7\u53d6\u6570\u636e\u65f6\uff0c\u6570\u636e\u4e2d\u5fc3\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\u53ef\u80fd\u4f1a\u9762\u4e34\u6765\u81ea\u591a\u4e2a\u5ba2\u6237\u7aef\u7684\u5e76\u53d1\u6570\u636e\u8bf7\u6c42\u3002</li> <li>==\u5982\u679c\u8fd9\u4e9b\u8bf7\u6c42\u540c\u65f6\u5230\u8fbe\u670d\u52a1\u5668\uff0c\u670d\u52a1\u5668\u9700\u8981\u4e3a\u6bcf\u4e2a\u8bf7\u6c42\u751f\u6210\u54cd\u5e94\uff0c\u5e76\u5c06\u6570\u636e\u53d1\u9001\u56de\u5ba2\u6237\u7aef\u3002\u5728\u77ed\u65f6\u95f4\u5185\uff0c\u670d\u52a1\u5668\u53ef\u80fd\u4f1a\u9762\u4e34\u5927\u91cf\u7684\u5e76\u53d1\u8bf7\u6c42==\u3002</li> <li>\u5f53\u8fd9\u4e9b\u54cd\u5e94\u8fd4\u56de\u5230\u7f51\u7edc\u65f6\uff0c\u5b83\u4eec==\u53ef\u80fd\u5728\u7f51\u7edc\u4ea4\u6362\u673a\u6216\u8def\u7531\u5668\u7684\u7f13\u51b2\u533a\u4e2d\u6392\u961f\u7b49\u5f85\u4f20\u8f93==\u3002\u5982\u679c\u7f13\u51b2\u533a\u5bb9\u91cf\u6709\u9650\uff0c\u6570\u636e\u5305\u53ef\u80fd\u4f1a\u88ab\u963b\u585e\uff0c\u4ece\u800c\u5bfc\u81f4\u5ef6\u8fdf\u589e\u52a0\uff0c\u541e\u5410\u91cf\u4e0b\u964d\uff0c\u751a\u81f3\u4e27\u5931\u6570\u636e\u5305\u3002</li> <li> <p>TCP Incast \u73b0\u8c61\u7684\u89e3\u51b3\u65b9\u6cd5\u901a\u5e38\u5305\u62ec\u4f18\u5316\u7f51\u7edc\u914d\u7f6e\u3001\u589e\u52a0\u7f13\u51b2\u533a\u5bb9\u91cf\u3001\u6539\u8fdb\u8c03\u5ea6\u7b97\u6cd5\u7b49\u3002</p> </li> <li> <p>\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\uff08Long Tail Latency\uff09\uff1a</p> </li> <li>\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u6307\u7684\u662f==\u7f51\u7edc\u4e2d\u5b58\u5728\u4e00\u5c0f\u90e8\u5206\u6570\u636e\u5305\u7684\u4f20\u8f93\u5ef6\u8fdf\u660e\u663e\u8d85\u8fc7\u5927\u591a\u6570\u6570\u636e\u5305\u7684\u73b0\u8c61==\u3002</li> <li>\u8fd9\u79cd\u73b0\u8c61\u901a\u5e38\u53d1\u751f\u5728\u62e5\u585e\u6216\u9ad8\u8d1f\u8f7d\u7f51\u7edc\u4e2d\uff0c\u5176\u4e2d\u5927\u591a\u6570\u6570\u636e\u5305\u80fd\u591f\u4ee5\u4f4e\u5ef6\u8fdf\u4f20\u8f93\uff0c\u4f46\u4e00\u4e9b\u6570\u636e\u5305\u53ef\u80fd\u56e0\u4e3a\u7ade\u4e89\u8d44\u6e90\u6216\u62e5\u585e\u800c\u7ecf\u5386\u660e\u663e\u66f4\u957f\u7684\u4f20\u8f93\u5ef6\u8fdf\u3002</li> <li>\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u53ef\u80fd\u5bf9\u5b9e\u65f6\u5e94\u7528\u6216\u9700\u8981\u4f4e\u5ef6\u8fdf\u7684\u5e94\u7528\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\uff0c\u56e0\u4e3a\u5b83\u4f1a\u5bfc\u81f4\u67d0\u4e9b\u6570\u636e\u5305\u7684\u5230\u8fbe\u65f6\u95f4\u4e0d\u7a33\u5b9a\uff0c\u4ece\u800c\u964d\u4f4e\u4e86\u7cfb\u7edf\u7684\u6027\u80fd\u548c\u53ef\u9884\u6d4b\u6027\u3002</li> <li>\u89e3\u51b3\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u7684\u65b9\u6cd5\u53ef\u80fd\u5305\u62ec\u4f7f\u7528\u66f4\u597d\u7684\u62e5\u585e\u63a7\u5236\u7b97\u6cd5\u3001\u6539\u8fdb\u7f51\u7edc\u914d\u7f6e\u3001\u4f7f\u7528\u670d\u52a1\u8d28\u91cf\uff08Quality of Service\uff0cQoS\uff09\u7b56\u7565\u7b49\u3002</li> </ol> <p>\u8fd9\u4e24\u79cd\u73b0\u8c61\u90fd\u662f\u5728\u7279\u5b9a\u7f51\u7edc\u6761\u4ef6\u4e0b\u51fa\u73b0\u7684\uff0c\u800c\u4e14\u901a\u5e38\u9700\u8981\u7279\u5b9a\u7684\u7f51\u7edc\u8bbe\u8ba1\u548c\u8c03\u4f18\u6765\u51cf\u8f7b\u5b83\u4eec\u7684\u5f71\u54cd\u3002\u7406\u89e3 TCP Incast \u73b0\u8c61\u548c\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u5bf9\u4e8e\u9ad8\u6027\u80fd\u8ba1\u7b97\u3001\u4e91\u8ba1\u7b97\u548c\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u7684\u7ba1\u7406\u548c\u6027\u80fd\u4f18\u5316\u81f3\u5173\u91cd\u8981\u3002</p> <ul> <li>\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u4e2d\uff0c\u5c0f\u90e8\u5206\u6570\u636e\u5305\u7684\u5ef6\u8fdf\u660e\u663e\u9ad8\u4e8e\u5927\u591a\u6570\u6570\u636e\u5305\uff0c\u8fd9\u662f\u56e0\u4e3a\u7f51\u7edc\u4e2d\u53ef\u80fd\u5b58\u5728\u62e5\u585e\u3001\u7ade\u4e89\u8d44\u6e90\u6216\u5176\u4ed6\u56e0\u7d20\u5bfc\u81f4\u90e8\u5206\u6570\u636e\u5305\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u9047\u5230\u4e86\u7279\u6b8a\u60c5\u51b5\uff0c\u4f7f\u5b83\u4eec\u7684\u5ef6\u8fdf\u663e\u8457\u589e\u52a0\u3002\u8fd9\u4e9b\u7279\u6b8a\u60c5\u51b5\u53ef\u80fd\u5305\u62ec\uff1a</li> <li>\u7ade\u4e89\u8d44\u6e90\uff1a\u5728==\u62e5\u585e\u7684\u7f51\u7edc\u4e2d\uff0c\u591a\u4e2a\u6570\u636e\u5305\u53ef\u80fd\u7ade\u4e89\u76f8\u540c\u7684\u7f51\u7edc\u8d44\u6e90\uff0c\u5982\u5e26\u5bbd\u6216\u8def\u7531\u5668\u7f13\u51b2\u533a==\u3002\u4e00\u4e9b\u6570\u636e\u5305\u53ef\u80fd\u5728\u7ade\u4e89\u4e2d\u83b7\u80dc\uff0c\u80fd\u591f\u66f4\u5feb\u5730\u4f20\u8f93\uff0c\u800c\u5176\u4ed6\u6570\u636e\u5305\u53ef\u80fd\u9700\u8981\u7b49\u5f85\uff0c\u4ece\u800c\u5bfc\u81f4\u5b83\u4eec\u7684\u5ef6\u8fdf\u589e\u52a0\u3002</li> <li>\u62e5\u585e\uff1a\u5728\u7f51\u7edc\u4e2d\u7684\u67d0\u4e9b\u90e8\u5206\u53ef\u80fd\u4f1a\u51fa\u73b0\u62e5\u585e\uff0c\u5373==\u7f51\u7edc\u8d44\u6e90\u4e0d\u8db3\u4ee5\u6ee1\u8db3\u6240\u6709\u4f20\u8f93\u8bf7\u6c42==\u3002\u8fd9\u4f1a\u5bfc\u81f4==\u6570\u636e\u5305\u6392\u961f\u7b49\u5f85\u4f20\u8f93==\uff0c\u5bfc\u81f4\u5ef6\u8fdf\u589e\u52a0\u3002\u5728\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u4e2d\uff0c\u67d0\u4e9b\u6570\u636e\u5305\u53ef\u80fd\u66f4\u5bb9\u6613\u53d7\u5230\u62e5\u585e\u7684\u5f71\u54cd\uff0c\u56e0\u6b64\u5b83\u4eec\u7684\u5ef6\u8fdf\u66f4\u9ad8\u3002</li> <li>\u4f20\u8f93\u8def\u7531\uff1a==\u4e0d\u540c\u7684\u6570\u636e\u5305\u53ef\u80fd\u91c7\u7528\u4e0d\u540c\u7684\u8def\u7531\u8def\u5f84\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u4e00\u4e9b\u6570\u636e\u5305\u7ecf\u5386\u66f4\u591a\u7684\u4e2d\u7ee7\u8bbe\u5907\u6216\u7f51\u7edc\u62d3\u6251\u4e2d\u7684\u62d3\u6251\u53d8\u5316==\uff0c\u4ece\u800c\u589e\u52a0\u5b83\u4eec\u7684\u5ef6\u8fdf\u3002</li> <li>\u62e5\u6324\u7a97\u53e3\uff1aTCP \u534f\u8bae\u4e2d\u7684==\u62e5\u585e\u7a97\u53e3\u5927\u5c0f\u53ef\u80fd\u4f1a\u53d8\u5316\uff0c\u53d6\u51b3\u4e8e\u7f51\u7edc\u72b6\u51b5\u548c\u62e5\u585e\u63a7\u5236\u7b97\u6cd5==\u3002\u4e00\u4e9b\u6570\u636e\u5305\u7684\u62e5\u585e\u7a97\u53e3\u53ef\u80fd\u8f83\u5c0f\uff0c\u5bfc\u81f4\u5b83\u4eec\u5728\u4f20\u8f93\u65f6\u91c7\u7528\u8f83\u6162\u7684\u901f\u7387\uff0c\u4ece\u800c\u589e\u52a0\u5ef6\u8fdf\u3002 \u867d\u7136\u5927\u591a\u6570\u6570\u636e\u5305\u5728\u6b63\u5e38\u60c5\u51b5\u4e0b\u5177\u6709\u8f83\u4f4e\u7684\u5ef6\u8fdf\uff0c\u4f46\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u662f\u7531\u4e8e\u4e00\u4e9b\u6570\u636e\u5305\u5728\u7279\u6b8a\u60c5\u51b5\u4e0b\u7ecf\u5386\u4e86\u9ad8\u5ef6\u8fdf\uff0c\u800c\u8fd9\u4e9b\u60c5\u51b5\u901a\u5e38\u662f\u77ed\u6682\u7684\u3001\u968f\u673a\u7684\u6216\u4e34\u65f6\u7684\u3002\u8fd9\u4e9b\u7279\u6b8a\u60c5\u51b5\u53ef\u4ee5\u5bfc\u81f4\u5ef6\u8fdf\u5206\u5e03\u7684\u5c3e\u90e8\u62c9\u957f\uff0c\u4f7f\u5c11\u6570\u6570\u636e\u5305\u7684\u5ef6\u8fdf\u663e\u8457\u589e\u52a0\uff0c\u800c\u5927\u591a\u6570\u6570\u636e\u5305\u7684\u5ef6\u8fdf\u4ecd\u4fdd\u6301\u5728\u8f83\u4f4e\u6c34\u5e73\u3002\u8fd9\u79cd\u73b0\u8c61\u5bf9\u4e8e\u9700\u8981\u4f4e\u5ef6\u8fdf\u548c\u53ef\u9884\u6d4b\u6027\u7684\u5e94\u7528\u53ef\u80fd\u5177\u6709\u8d1f\u9762\u5f71\u54cd\uff0c\u56e0\u6b64\u7f51\u7edc\u7ba1\u7406\u548c\u4f18\u5316\u901a\u5e38\u9700\u8981\u91c7\u53d6\u63aa\u65bd\u6765\u51cf\u8f7b\u957f\u5ef6\u8fdf\u5c3e\u90e8\u73b0\u8c61\u7684\u5f71\u54cd\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/#-iwarptcp","title":"-iwarp\u8fd8\u9700\u8981tcp\u8f85\u52a9\uff0c\u90a3\u8fd9\u9879\u6280\u672f\u4e0d\u662f\u5f88\u9e21\u808b\u5417\uff1f","text":"<p>\u4e0d\u9e21\u808b\uff01\u628a\u4e0a\u9762\u67e5\u9605\u7684\u8be6\u89e3\u5168\u90e8\u9605\u8bfb\u4e00\u904d\u5c31\u77e5\u9053\u4e86</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/8_CONCLUSION/","title":"8 CONCLUSION","text":"<p>In this paper, we have presented our practices and experiences in deploying RoCEv2 safely at large-scale in Microsoft data centers. Our practices include the introducing of DSCP-based PFC which scales RoCEv2 from layer-2 VLAN to layer-3 IP and the step-by-step onboarding and deployment procedure. Our experiences include the discoveries and resolutions of the RDMA transport livelock, the RDMA deadlock, the NIC PFC storm and the slow-receiver symptom. With the RDMA management and monitoring in place, some of our highlyreliable, latency-sensitive services have been running RDMA for over one and half years.</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5728 Microsoft \u6570\u636e\u4e2d\u5fc3\u5927\u89c4\u6a21\u5b89\u5168\u90e8\u7f72 RoCEv2 \u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002 \u6211\u4eec\u7684\u5b9e\u8df5\u5305\u62ec\u5f15\u5165\u57fa\u4e8e DSCP \u7684 PFC\uff0c\u5c06 RoCEv2 \u4ece\u7b2c 2 \u5c42 VLAN \u6269\u5c55\u5230\u7b2c 3 \u5c42 IP\uff0c\u4ee5\u53ca\u9010\u6b65\u7684\u52a0\u5165\u548c\u90e8\u7f72\u8fc7\u7a0b\u3002 \u6211\u4eec\u7684\u7ecf\u9a8c\u5305\u62ec\u53d1\u73b0\u5e76\u89e3\u51b3 RDMA \u4f20\u8f93\u6d3b\u9501\u3001RDMA \u6b7b\u9501\u3001NIC PFC \u98ce\u66b4\u548c\u7f13\u6162\u63a5\u6536\u5668\u75c7\u72b6\u3002 \u968f\u7740 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u5230\u4f4d\uff0c\u6211\u4eec\u7684\u4e00\u4e9b\u9ad8\u5ea6\u53ef\u9760\u3001\u5ef6\u8fdf\u654f\u611f\u7684\u670d\u52a1\u5df2\u7ecf\u8fd0\u884c RDMA \u8d85\u8fc7\u4e00\u5e74\u534a\u4e86\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/8_CONCLUSION/#81-future-work","title":"8.1 Future Work","text":"<p>There are several directions for our next steps. The hop-by-hop distance for PFC is limited to 300 meters. Hence RoCEv2 works only for servers under the same Spine switch layer. To this end, RoCEv2 is not as generic as TCP. We need new ideas on how to extend RDMA for inter-DC communications. Our measurement showed ECMP achieves only 60% network utilization. For TCP in best-effort networks, there are MPTCP [29] and per-packet routing [10] for better network utilization. How to make these designs work for RDMA in the lossless network context will be an interesting challenge. The deadlock we have discovered in this paper reminds us that deadlock in data centers may be worthy of more systematic study. Even though the up-down routing in Clos network can prevent deadlock, designs like F10 [23] may break the assumption by introducing local rerouting. Many other network topologies [20] do not even have the up-down routing property. How can deadlocks be avoided in those designs? Last but not least, we have shown that RDMA provides low latency and high throughput by eliminating OS kernel packet processing overhead and by relying on a lossless network. A lossless network, however, does not guarantee low latency. When network congestions occur, queues build up and PFC pause frames may still be generated. Both queues and PFC pause frames increase network latency. How to achieve low network latency and high network throughput at the same time for RDMA is still an open problem.</p> <p>\u6211\u4eec\u7684\u4e0b\u4e00\u6b65\u6709\u51e0\u4e2a\u65b9\u5411\uff1a 1. \u7531\u4e8ePFC \u7684\u9010\u8df3\u8ddd\u79bb\u9650\u5236\u4e3a 300 \u7c73\uff0c\u6240\u4ee5RoCEv2 \u4ec5\u9002\u7528\u4e8e\u540c\u4e00 Spine \u4ea4\u6362\u673a\u5c42\u4e0b\u7684\u670d\u52a1\u5668\u3002\u4e3a\u6b64\uff0cRoCEv2 \u4e0d\u50cf TCP \u90a3\u6837\u901a\u7528\u3002\u6211\u4eec\u9700\u8981\u5173\u4e8e\u5982\u4f55\u6269\u5c55 RDMA \u4ee5\u5b9e\u73b0 DC \u95f4\u901a\u4fe1\u7684\u65b0\u60f3\u6cd5\u3002 2. \u6211\u4eec\u7684\u6d4b\u91cf\u663e\u793a ECMP \u4ec5\u5b9e\u73b0 60% \u7684\u7f51\u7edc\u5229\u7528\u7387\u3002\u5bf9\u4e8e\u5c3d\u529b\u800c\u4e3a\u7f51\u7edc\u4e2d\u7684 TCP\uff0c\u6709 MPTCP [29] \u548c\u6bcf\u6570\u636e\u5305\u8def\u7531 [10]\uff0c\u4ee5\u5b9e\u73b0\u66f4\u597d\u7684\u7f51\u7edc\u5229\u7528\u7387\u3002\u5982\u4f55\u4f7f\u8fd9\u4e9b\u8bbe\u8ba1\u5728\u65e0\u635f\u7f51\u7edc\u73af\u5883\u4e0b\u9002\u7528\u4e8e RDMA \u5c06\u662f\u4e00\u4e2a\u6709\u8da3\u7684\u6311\u6218\u3002 3. \u6211\u4eec\u5728\u672c\u6587\u4e2d\u53d1\u73b0\u7684\u6b7b\u9501\u63d0\u9192\u6211\u4eec\uff0c\u6570\u636e\u4e2d\u5fc3\u7684\u6b7b\u9501\u53ef\u80fd\u503c\u5f97\u66f4\u7cfb\u7edf\u7684\u7814\u7a76\u3002\u5c3d\u7ba1 Clos \u7f51\u7edc\u4e2d\u7684\u4e0a\u4e0b\u8def\u7531\u53ef\u4ee5\u9632\u6b62\u6b7b\u9501\uff0c\u4f46\u50cf ==F10 [23] \u8fd9\u6837\u7684\u8bbe\u8ba1==\u53ef\u80fd\u4f1a\u901a\u8fc7\u5f15\u5165\u672c\u5730\u91cd\u65b0\u8def\u7531\u6765\u6253\u7834\u8fd9\u4e00\u5047\u8bbe\u3002 4. \u8bb8\u591a\u5176\u4ed6\u7f51\u7edc\u62d3\u6251[20]\uff0c\u5b83\u4eec\u751a\u81f3\u4e0d\u5177\u6709\u4e0a\u4e0b\u8def\u7531\u5c5e\u6027\u3002\u5728\u8fd9\u4e9b\u8bbe\u8ba1\u4e2d\u5982\u4f55\u907f\u514d\u6b7b\u9501\uff1f 5. Last but not least\uff0c\u6211\u4eec\u5df2\u7ecf\u8bc1\u660e:  RDMA \u901a\u8fc7\u6d88\u9664\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u6570\u636e\u5305\u5904\u7406\u5f00\u9500\u5e76\u4f9d\u8d56\u65e0\u635f\u7f51\u7edc\u6765\u63d0\u4f9b\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u541e\u5410\u91cf\u3002\u7136\u800c\uff0c\u65e0\u635f\u7f51\u7edc\u5e76\u4e0d\u80fd\u4fdd\u8bc1\u4f4e\u5ef6\u8fdf\u3002\u5f53\u7f51\u7edc\u62e5\u585e\u53d1\u751f\u65f6\uff0c\u961f\u5217\u5806\u79ef\u5e76\u4e14\u4ecd\u7136\u53ef\u80fd\u751f\u6210PFC\u6682\u505c\u5e27\u3002\u961f\u5217\u548c PFC \u6682\u505c\u5e27\u90fd\u4f1a\u589e\u52a0\u7f51\u7edc\u5ef6\u8fdf\u3002 RDMA\u5982\u4f55\u540c\u65f6\u5b9e\u73b0\u4f4e\u7f51\u7edc\u5ef6\u8fdf\u548c\u9ad8\u7f51\u7edc\u541e\u5410\u91cf\u4ecd\u7136\u662f\u4e00\u4e2a\u60ac\u800c\u672a\u51b3\u7684\u95ee\u9898\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/","title":"RDMA over Commodity Ethernet at Scale(Abstruct)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#abstruct","title":"Abstruct\uff1a","text":"<p>Over the past one and half years, we have been using RDMA over commodity Ethernet (RoCEv2) to support some of Microsoft\u2019s highly-reliable, latency-sensitive services. This paper describes the challenges we encountered during the process and the solutions we devised to address them. In order to scale RoCEv2 beyond VLAN, we have designed a DSCP-based priority flow-control (PFC) mechanism to ensure large-scale deployment. We have addressed the safety challenges brought by PFCinduced deadlock (yes, it happened!), RDMA transport livelock, and the NIC PFC pause frame storm problem. We have also built the monitoring and management systems to make sure RDMA works as expected. Our experiences show that the safety and scalability issues of running RoCEv2 at scale can all be addressed, and RDMA can replace TCP for intra data center communications and achieve low latency, low CPU overhead, and high throughput.</p> <p>\u5728\u8fc7\u53bb\u7684\u4e00\u5e74\u534a\u4e2d\uff0c\u6211\u4eec\u4e00\u76f4\u5728\u4f7f\u7528\u57fa\u4e8e\u5546\u7528\u4ee5\u592a\u7f51\u7684 RDMA (RoCEv2) \u6765\u652f\u6301 Microsoft \u7684\u4e00\u4e9b\u9ad8\u5ea6\u53ef\u9760\u3001\u5ef6\u8fdf\u654f\u611f\u7684\u670d\u52a1\u3002\u672c\u6587\u63cf\u8ff0\u4e86\u6211\u4eec\u5728\u6b64\u8fc7\u7a0b\u4e2d\u9047\u5230\u7684\u6311\u6218\u4ee5\u53ca\u6211\u4eec\u4e3a\u89e3\u51b3\u8fd9\u4e9b\u95ee\u9898\u800c\u8bbe\u8ba1\u7684\u89e3\u51b3\u65b9\u6848\u3002\u4e3a\u4e86\u5c06RoCEv2\u6269\u5c55\u5230VLAN\u4e4b\u5916\uff0c\u6211\u4eec\u8bbe\u8ba1\u4e86\u57fa\u4e8eDSCP\u7684\u4f18\u5148\u7ea7\u6d41\u91cf\u63a7\u5236\uff08PFC\uff09\u673a\u5236\u4ee5\u786e\u4fdd\u5927\u89c4\u6a21\u90e8\u7f72\u3002\u6211\u4eec\u89e3\u51b3\u4e86 PFC \u5f15\u8d77\u7684\u6b7b\u9501\uff08\u662f\u7684\uff0c\u5b83\u53d1\u751f\u4e86\uff01\uff09\u3001RDMA \u4f20\u8f93\u6d3b\u9501\u548c NIC PFC \u6682\u505c\u5e27\u98ce\u66b4\u95ee\u9898\u5e26\u6765\u7684\u5b89\u5168\u6311\u6218\u3002\u6211\u4eec\u8fd8\u6784\u5efa\u4e86\u76d1\u63a7\u548c\u7ba1\u7406\u7cfb\u7edf\uff0c\u4ee5\u786e\u4fdd RDMA \u6309\u9884\u671f\u5de5\u4f5c\u3002\u6211\u4eec\u7684\u7ecf\u9a8c\u8868\u660e\uff0c\u5927\u89c4\u6a21\u8fd0\u884cRoCEv2\u7684\u5b89\u5168\u6027\u548c\u53ef\u6269\u5c55\u6027\u95ee\u9898\u90fd\u53ef\u4ee5\u5f97\u5230\u89e3\u51b3\uff0c\u5e76\u4e14RDMA\u53ef\u4ee5\u66ff\u4ee3TCP\u8fdb\u884c\u6570\u636e\u4e2d\u5fc3\u5185\u90e8\u901a\u4fe1\uff0c\u5e76\u5b9e\u73b0\u4f4e\u5ef6\u8fdf\u3001\u4f4eCPU\u5f00\u9500\u548c\u9ad8\u541e\u5410\u91cf\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#abstruct-reading","title":"Abstruct reading\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#rdma","title":"RDMA\uff1a","text":"<p>1\uff09DMA\u6982\u5ff5\uff1a DMA(\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee)\u662f\u4e00\u79cd\u80fd\u529b\uff0c\u5141\u8bb8\u5728\u8ba1\u7b97\u673a\u4e3b\u677f\u4e0a\u7684\u8bbe\u5907\u76f4\u63a5\u628a\u6570\u636e\u53d1\u9001\u5230\u5185\u5b58\u4e2d\u53bb\uff0c\u6570\u636e\u642c\u8fd0\u4e0d\u9700\u8981CPU\u7684\u53c2\u4e0e\u3002 \u4f20\u7edf\u5185\u5b58\u8bbf\u95ee\u9700\u8981\u901a\u8fc7CPU\u8fdb\u884c\u6570\u636ecopy\u6765\u79fb\u52a8\u6570\u636e\uff0c\u901a\u8fc7CPU\u5c06\u5185\u5b58\u4e2d\u7684Buffer1\u79fb\u52a8\u5230Buffer2\u4e2d\u3002DMA\u6a21\u5f0f\uff1a\u53ef\u4ee5\u540cDMA Engine\u4e4b\u95f4\u901a\u8fc7\u786c\u4ef6\u5c06\u6570\u636e\u4eceBuffer1\u79fb\u52a8\u5230Buffer2,\u800c\u4e0d\u9700\u8981\u64cd\u4f5c\u7cfb\u7edfCPU\u7684\u53c2\u4e0e\uff0c\u5927\u5927\u964d\u4f4e\u4e86CPU Copy\u7684\u5f00\u9500\u3002 ![[Pasted image 20231023102711.png]]</p> <p>2\uff09RDMA\u6982\u5ff5\uff1a RDMA\u662f\u4e00\u79cd\u6982\u5ff5\uff0c\u5728\u4e24\u4e2a\u6216\u8005\u591a\u4e2a\u8ba1\u7b97\u673a\u8fdb\u884c\u901a\u8baf\u7684\u65f6\u5019\u4f7f\u7528DMA\uff0c \u4ece\u4e00\u4e2a\u4e3b\u673a\u7684\u5185\u5b58\u76f4\u63a5\u8bbf\u95ee\u53e6\u4e00\u4e2a\u4e3b\u673a\u7684\u5185\u5b58\u3002 ![[Pasted image 20231023101350.png]]</p> <p>RDMA\u662f\u4e00\u79cdhost-offload, host-bypass\u6280\u672f\uff0c\u5141\u8bb8\u5e94\u7528\u7a0b\u5e8f(\u5305\u62ec\u5b58\u50a8)\u5728\u5b83\u4eec\u7684\u5185\u5b58\u7a7a\u95f4\u4e4b\u95f4\u76f4\u63a5\u505a\u6570\u636e\u4f20\u8f93\u3002\u5177\u6709RDMA\u5f15\u64ce\u7684\u4ee5\u592a\u7f51\u5361(RNIC)--\u800c\u4e0d\u662fhost--\u8d1f\u8d23\u7ba1\u7406\u6e90\u548c\u76ee\u6807\u4e4b\u95f4\u7684\u53ef\u9760\u8fde\u63a5\u3002</p> <p>\u4f7f\u7528RNIC\u7684\u5e94\u7528\u7a0b\u5e8f\u4e4b\u95f4\u4f7f\u7528\u4e13\u6ce8\u7684QP\u548cCQ\u8fdb\u884c\u901a\u8baf\uff1a 1. \u6bcf\u4e00\u4e2a\u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u6709\u5f88\u591aQP\u548cCQ 2. \u6bcf\u4e00\u4e2aQP\u5305\u62ec\u4e00\u4e2aSQ\u548cRQ 3. \u6bcf\u4e00\u4e2aCQ\u53ef\u4ee5\u8ddf\u591a\u4e2aSQ\u6216\u8005RQ\u76f8\u5173\u8054</p> <p>![[Pasted image 20231023101420.png]]</p> <p>3\uff09RDMA\u7684\u4f18\u52bf\uff1a \u4f20\u7edf\u7684TCP/IP\u6280\u672f\u5728\u6570\u636e\u5305\u5904\u7406\u8fc7\u7a0b\u4e2d\uff0c\u8981\u7ecf\u8fc7\u64cd\u4f5c\u7cfb\u7edf\u53ca\u5176\u4ed6\u8f6f\u4ef6\u5c42\uff0c\u9700\u8981\u5360\u7528\u5927\u91cf\u7684\u670d\u52a1\u5668\u8d44\u6e90\u548c\u5185\u5b58\u603b\u7ebf\u5e26\u5bbd\uff0c\u6570\u636e\u5728\u7cfb\u7edf\u5185\u5b58\u3001\u5904\u7406\u5668\u7f13\u5b58\u548c\u7f51\u7edc\u63a7\u5236\u5668\u7f13\u5b58\u4e4b\u95f4\u6765\u56de\u8fdb\u884c\u590d\u5236\u79fb\u52a8\uff0c\u7ed9\u670d\u52a1\u5668\u7684CPU\u548c\u5185\u5b58\u9020\u6210\u4e86\u6c89\u91cd\u8d1f\u62c5\u3002\u5c24\u5176\u662f\u7f51\u7edc\u5e26\u5bbd\u3001\u5904\u7406\u5668\u901f\u5ea6\u4e0e\u5185\u5b58\u5e26\u5bbd\u4e09\u8005\u7684\u4e25\u91cd\"\u4e0d\u5339\u914d\u6027\"\uff0c\u66f4\u52a0\u5267\u4e86\u7f51\u7edc\u5ef6\u8fdf\u6548\u5e94\u3002</p> <p>RDMA\u662f\u4e00\u79cd\u65b0\u7684\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\u6280\u672f\uff0cRDMA\u8ba9\u8ba1\u7b97\u673a\u53ef\u4ee5\u76f4\u63a5\u5b58\u53d6\u5176\u4ed6\u8ba1\u7b97\u673a\u7684\u5185\u5b58\uff0c\u800c\u4e0d\u9700\u8981\u7ecf\u8fc7\u5904\u7406\u5668\u7684\u5904\u7406\u3002RDMA\u5c06\u6570\u636e\u4ece\u4e00\u4e2a\u7cfb\u7edf\u5feb\u901f\u79fb\u52a8\u5230\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5185\u5b58\u4e2d\uff0c\u800c\u4e0d\u5bf9\u64cd\u4f5c\u7cfb\u7edf\u9020\u6210\u4efb\u4f55\u5f71\u54cd\u3002</p> <p>\u5728\u5b9e\u73b0\u4e0a\uff0cRDMA\u5b9e\u9645\u4e0a\u662f\u4e00\u79cd\u667a\u80fd\u7f51\u5361\u4e0e\u8f6f\u4ef6\u67b6\u6784\u5145\u5206\u4f18\u5316\u7684\u8fdc\u7aef\u5185\u5b58\u76f4\u63a5\u9ad8\u901f\u8bbf\u95ee\u6280\u672f\uff0c\u901a\u8fc7\u5c06RDMA\u534f\u8bae\u56fa\u5316\u4e8e\u786c\u4ef6(\u5373\u7f51\u5361)\u4e0a\uff0c\u4ee5\u53ca\u652f\u6301Zero-copy\u548cKernel bypass\u8fd9\u4e24\u79cd\u9014\u5f84\u6765\u8fbe\u5230\u5176\u9ad8\u6027\u80fd\u7684\u8fdc\u7a0b\u76f4\u63a5\u6570\u636e\u5b58\u53d6\u7684\u76ee\u6807\u3002 \u4f7f\u7528RDMA\u7684\u4f18\u52bf\u5982\u4e0b\uff1a</p> <ul> <li>\u96f6\u62f7\u8d1d(Zero-copy) - \u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u76f4\u63a5\u6267\u884c\u6570\u636e\u4f20\u8f93\uff0c\u5728\u4e0d\u6d89\u53ca\u5230\u7f51\u7edc\u8f6f\u4ef6\u6808\u7684\u60c5\u51b5\u4e0b\u3002\u6570\u636e\u80fd\u591f\u88ab\u76f4\u63a5\u53d1\u9001\u5230\u7f13\u51b2\u533a\u6216\u8005\u80fd\u591f\u76f4\u63a5\u4ece\u7f13\u51b2\u533a\u91cc\u63a5\u6536\uff0c\u800c\u4e0d\u9700\u8981\u88ab\u590d\u5236\u5230\u7f51\u7edc\u5c42\u3002</li> <li>\u5185\u6838\u65c1\u8def(Kernel bypass) - \u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u76f4\u63a5\u5728\u7528\u6237\u6001\u6267\u884c\u6570\u636e\u4f20\u8f93\uff0c\u4e0d\u9700\u8981\u5728\u5185\u6838\u6001\u4e0e\u7528\u6237\u6001\u4e4b\u95f4\u505a\u4e0a\u4e0b\u6587\u5207\u6362\u3002</li> <li>\u4e0d\u9700\u8981CPU\u5e72\u9884(No CPU involvement) - \u5e94\u7528\u7a0b\u5e8f\u53ef\u4ee5\u8bbf\u95ee\u8fdc\u7a0b\u4e3b\u673a\u5185\u5b58\u800c\u4e0d\u6d88\u8017\u8fdc\u7a0b\u4e3b\u673a\u4e2d\u7684\u4efb\u4f55CPU\u3002\u8fdc\u7a0b\u4e3b\u673a\u5185\u5b58\u80fd\u591f\u88ab\u8bfb\u53d6\u800c\u4e0d\u9700\u8981\u8fdc\u7a0b\u4e3b\u673a\u4e0a\u7684\u8fdb\u7a0b\uff08\u6216CPU)\u53c2\u4e0e\u3002\u8fdc\u7a0b\u4e3b\u673a\u7684CPU\u7684\u7f13\u5b58(cache)\u4e0d\u4f1a\u88ab\u8bbf\u95ee\u7684\u5185\u5b58\u5185\u5bb9\u6240\u586b\u5145\u3002</li> <li>\u6d88\u606f\u57fa\u4e8e\u4e8b\u52a1(Message based transactions) - \u6570\u636e\u88ab\u5904\u7406\u4e3a\u79bb\u6563\u6d88\u606f\u800c\u4e0d\u662f\u6d41\uff0c\u6d88\u9664\u4e86\u5e94\u7528\u7a0b\u5e8f\u5c06\u6d41\u5207\u5272\u4e3a\u4e0d\u540c\u6d88\u606f/\u4e8b\u52a1\u7684\u9700\u6c42\u3002</li> <li>\u652f\u6301\u5206\u6563/\u805a\u5408\u6761\u76ee(Scatter/gather entries support) - RDMA\u539f\u751f\u6001\u652f\u6301\u5206\u6563/\u805a\u5408\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c\u8bfb\u53d6\u591a\u4e2a\u5185\u5b58\u7f13\u51b2\u533a\u7136\u540e\u4f5c\u4e3a\u4e00\u4e2a\u6d41\u53d1\u51fa\u53bb\u6216\u8005\u63a5\u6536\u4e00\u4e2a\u6d41\u7136\u540e\u5199\u5165\u5230\u591a\u4e2a\u5185\u5b58\u7f13\u51b2\u533a\u91cc\u53bb\u3002</li> </ul> <p>\u5728\u5177\u4f53\u7684\u8fdc\u7a0b\u5185\u5b58\u8bfb\u5199\u4e2d\uff0cRDMA\u64cd\u4f5c\u7528\u4e8e\u8bfb\u5199\u64cd\u4f5c\u7684\u8fdc\u7a0b\u865a\u62df\u5185\u5b58\u5730\u5740\u5305\u542b\u5728RDMA\u6d88\u606f\u4e2d\u4f20\u9001\uff0c\u8fdc\u7a0b\u5e94\u7528\u7a0b\u5e8f\u8981\u505a\u7684\u53ea\u662f\u5728\u5176\u672c\u5730\u7f51\u5361\u4e2d\u6ce8\u518c\u76f8\u5e94\u7684\u5185\u5b58\u7f13\u51b2\u533a\u3002==\u8fdc\u7a0b\u8282\u70b9\u7684CPU\u9664\u5728\u8fde\u63a5\u5efa\u7acb\u3001\u6ce8\u518c\u8c03\u7528\u7b49\u4e4b\u5916\uff0c\u5728\u6574\u4e2aRDMA\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u5e76\u4e0d\u63d0\u4f9b\u670d\u52a1\uff0c\u56e0\u6b64\u6ca1\u6709\u5e26\u6765\u4efb\u4f55\u8d1f\u8f7d\u3002==</p> <p>4\uff09RDMA\u7684\u4e09\u79cd\u4e0d\u540c\u7684\u786c\u4ef6\u5b9e\u73b0\uff1a RDMA\u4f5c\u4e3a\u4e00\u79cdhost-offload, host-bypass\u6280\u672f\uff0c\u4f7f\u4f4e\u5ef6\u8fdf\u3001\u9ad8\u5e26\u5bbd\u7684\u76f4\u63a5\u7684\u5185\u5b58\u5230\u5185\u5b58\u7684\u6570\u636e\u901a\u4fe1\u6210\u4e3a\u4e86\u53ef\u80fd\u3002\u76ee\u524d\u652f\u6301RDMA\u7684\u7f51\u7edc\u534f\u8bae\u6709\uff1a</p> <ol> <li>InfiniBand(IB): \u4ece\u4e00\u5f00\u59cb\u5c31\u652f\u6301RDMA\u7684\u65b0\u4e00\u4ee3\u7f51\u7edc\u534f\u8bae\u3002\u7531\u4e8e\u8fd9\u662f\u4e00\u79cd\u65b0\u7684\u7f51\u7edc\u6280\u672f\uff0c\u56e0\u6b64\u9700\u8981\u652f\u6301\u8be5\u6280\u672f\u7684\u7f51\u5361\u548c\u4ea4\u6362\u673a\u3002  </li> <li>RDMA\u8fc7\u878d\u5408\u4ee5\u592a\u7f51(RoCE): \u5373RDMA over Ethernet, \u5141\u8bb8\u901a\u8fc7\u4ee5\u592a\u7f51\u6267\u884cRDMA\u7684\u7f51\u7edc\u534f\u8bae\u3002\u8fd9\u5141\u8bb8\u5728\u6807\u51c6\u4ee5\u592a\u7f51\u57fa\u7840\u67b6\u6784(\u4ea4\u6362\u673a)\u4e0a\u4f7f\u7528RDMA\uff0c\u53ea\u4e0d\u8fc7\u7f51\u5361\u5fc5\u987b\u662f\u652f\u6301RoCE\u7684\u7279\u6b8a\u7684NIC\u3002  </li> <li>\u4e92\u8054\u7f51\u5e7f\u57dfRDMA\u534f\u8bae(iWARP): \u5373RDMA over TCP, \u5141\u8bb8\u901a\u8fc7TCP\u6267\u884cRDMA\u7684\u7f51\u7edc\u534f\u8bae\u3002\u8fd9\u5141\u8bb8\u5728\u6807\u51c6\u4ee5\u592a\u7f51\u57fa\u7840\u67b6\u6784(\u4ea4\u6362\u673a)\u4e0a\u4f7f\u7528RDMA\uff0c\u53ea\u4e0d\u8fc7\u7f51\u5361\u8981\u6c42\u662f\u652f\u6301iWARP(\u5982\u679c\u4f7f\u7528CPU offload\u7684\u8bdd)\u7684NIC\u3002\u5426\u5219\uff0c\u6240\u6709iWARP\u6808\u90fd\u53ef\u4ee5\u5728\u8f6f\u4ef6\u4e2d\u5b9e\u73b0\uff0c\u4f46\u662f\u5931\u53bb\u4e86\u5927\u90e8\u5206\u7684RDMA\u6027\u80fd\u4f18\u52bf\u3002</li> </ol> <p>5\uff09\u540d\u8bcd\u89e3\u91ca\uff1a 1. RNIC\uff1a</p> <p>\u5177\u6709RDMA\u5f15\u64ce\u7684\u4ee5\u592a\u7f51\u5361</p> <ol> <li> <p>Fabric\uff1a</p> <p>\u652f\u6301RDMA\u7684\u5c40\u57df\u7f51(LAN)</p> </li> <li> <p>CA\uff1a(Channel Adapter,\u901a\u9053\u9002\u914d\u5668)</p> <p>\u662f\u5c06\u7cfb\u7edf\u8fde\u63a5\u5230Fabric\u7684\u786c\u4ef6\u7ec4\u4ef6\u3002  \u5728IBTA\u4e2d\uff0c\u4e00\u4e2aCA\u5c31\u662fIB\u5b50\u7f51\u4e2d\u7684\u4e00\u4e2a\u7ec8\u7aef\u7ed3\u70b9(End Node)\u3002\u5206\u4e3a\u4e24\u79cd\u7c7b\u578b\uff0c\u4e00\u79cd\u662fHCA, \u53e6\u4e00\u79cd\u53eb\u505aTCA, \u5b83\u4eec\u5408\u79f0\u4e3axCA\u3002 \u5176\u4e2d\uff0c HCA(Host Channel Adapter)\u662f\u652f\u6301\"verbs\"\u63a5\u53e3\u7684CA, TCA(Target Channel Adapter)\u53ef\u4ee5\u7406\u89e3\u4e3a\"weak CA\", \u4e0d\u9700\u8981\u50cfHCA\u4e00\u6837\u652f\u6301\u5f88\u591a\u529f\u80fd\u3002  \u800c\u5728IEEE/IETF\u4e2d\uff0cCA\u7684\u6982\u5ff5\u88ab\u5b9e\u4f53\u5316\u4e3aRNIC\uff08RDMA Network Interface Card\uff09, iWARP\u5c31\u628a\u4e00\u4e2aCA\u79f0\u4e4b\u4e3a\u4e00\u4e2aRNIC\u3002</p> </li> <li> <p>Verbs\uff1a</p> <p>\u5927\u81f4\u53ef\u4ee5\u7406\u89e3\u4e3a\u8bbf\u95eeRDMA\u786c\u4ef6\u7684\u201c\u4e00\u7ec4\u6807\u51c6\u52a8\u4f5c\u201d\uff0c\u6bcf\u4e00\u4e2aVerb\u53ef\u4ee5\u7406\u89e3\u4e3a\u4e00\u4e2aFunction</p> </li> <li> <p>MR\uff1a\uff08Memory Registration  | \u5185\u5b58\u6ce8\u518c\uff09</p> <p>RDMA \u5c31\u662f\u7528\u6765\u5bf9\u5185\u5b58\u8fdb\u884c\u6570\u636e\u4f20\u8f93\u3002\u90a3\u4e48\u600e\u6837\u624d\u80fd\u5bf9\u5185\u5b58\u8fdb\u884c\u4f20\u8f93\uff0c\u5f88\u7b80\u5355\uff0c\u6ce8\u518c\u3002 \u56e0\u4e3aRDMA\u786c\u4ef6\u5bf9\u7528\u6765\u505a\u6570\u636e\u4f20\u8f93\u7684\u5185\u5b58\u662f\u6709\u7279\u6b8a\u8981\u6c42\u7684\u3002 - \u5728\u6570\u636e\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0c\u5e94\u7528\u7a0b\u5e8f\u4e0d\u80fd\u4fee\u6539\u6570\u636e\u6240\u5728\u7684\u5185\u5b58\u3002 - \u64cd\u4f5c\u7cfb\u7edf\u4e0d\u80fd\u5bf9\u6570\u636e\u6240\u5728\u7684\u5185\u5b58\u8fdb\u884cpage out\u64cd\u4f5c -- \u7269\u7406\u5730\u5740\u548c\u865a\u62df\u5730\u5740\u7684\u6620\u5c04\u5fc5\u987b\u662f\u56fa\u5b9a\u4e0d\u53d8\u7684\u3002 \u6ce8\u610f\u65e0\u8bba\u662fDMA\u6216\u8005RDMA\u90fd\u8981\u6c42\u7269\u7406\u5730\u5740\u8fde\u7eed\uff0c\u8fd9\u662f\u7531DMA\u5f15\u64ce\u6240\u51b3\u5b9a\u7684\u3002 \u90a3\u4e48\u600e\u4e48\u8fdb\u884c\u5185\u5b58\u6ce8\u518c\u5462\uff1f - \u521b\u5efa\u4e24\u4e2akey (local\u548cremote)\u6307\u5411\u9700\u8981\u64cd\u4f5c\u7684\u5185\u5b58\u533a\u57df - \u6ce8\u518c\u7684keys\u662f\u6570\u636e\u4f20\u8f93\u8bf7\u6c42\u7684\u4e00\u90e8\u5206 \u6ce8\u518c\u4e00\u4e2aMemory Region\u4e4b\u540e\uff0c\u8fd9\u4e2a\u65f6\u5019\u8fd9\u4e2aMemory Region\u4e5f\u5c31\u6709\u4e86\u5b83\u81ea\u5df1\u7684\u5c5e\u6027\uff1a - context : RDMA\u64cd\u4f5c\u4e0a\u4e0b\u6587 - addr : MR\u88ab\u6ce8\u518c\u7684Buffer\u5730\u5740 - length : MR\u88ab\u6ce8\u518c\u7684Buffer\u957f\u5ea6 - lkey\uff1aMR\u88ab\u6ce8\u518c\u7684\u672c\u5730key - rkey\uff1aMR\u88ab\u6ce8\u518c\u7684\u8fdc\u7a0bkey \u5bf9Memrory Registration\uff1aMemory Registration\u53ea\u662fRDMA\u4e2d\u5bf9\u5185\u5b58\u4fdd\u62a4\u7684\u4e00\u79cd\u63aa\u65bd\uff0c\u53ea\u6709\u5c06\u8981\u64cd\u4f5c\u7684\u5185\u5b58\u6ce8\u518c\u5230RDMA Memory Region\u4e2d\uff0c\u8fd9\u5feb\u64cd\u4f5c\u7684\u5185\u5b58\u5c31\u4ea4\u7ed9RDMA \u4fdd\u62a4\u57df\u6765\u64cd\u4f5c\u4e86\u3002\u8fd9\u4e2a\u65f6\u5019\u6211\u4eec\u5c31\u53ef\u4ee5\u5bf9\u8fd9\u5feb\u5185\u5b58\u8fdb\u884c\u64cd\u4f5c\uff0c\u81f3\u4e8e\u64cd\u4f5c\u7684\u8d77\u59cb\u5730\u5740\u3001\u64cd\u4f5cBuffer\u7684\u957f\u5ea6\uff0c\u53ef\u4ee5\u6839\u636e\u7a0b\u5e8f\u7684\u5177\u4f53\u9700\u6c42\u8fdb\u884c\u64cd\u4f5c\u3002\u6211\u4eec\u53ea\u8981\u4fdd\u8bc1\u63a5\u53d7\u65b9\u7684Buffer \u63a5\u53d7\u7684\u957f\u5ea6\u5927\u4e8e\u7b49\u4e8e\u53d1\u9001\u7684Buffer\u957f\u5ea6</p> </li> <li> <p>Queues\uff1a QP\u4e0eCQ // SQ\u4e0eRQ</p> <p>RDMA\u4e00\u5171\u652f\u6301\u4e09\u79cd\u961f\u5217\uff0c==\u53d1\u9001\u961f\u5217(SQ)==\u548c==\u63a5\u6536\u961f\u5217(RQ)==\uff0c==\u5b8c\u6210\u961f\u5217(CQ)==\u3002\u5176\u4e2d\uff0cSQ\u548cRQ\u901a\u5e38\u6210\u5bf9\u521b\u5efa\uff0c\u88ab\u79f0\u4e3aQueue Pairs(QP)\u3002</p> </li> </ol> <p>RDMA\u662f\u57fa\u4e8e\u6d88\u606f\u7684\u4f20\u8f93\u534f\u8bae\uff0c\u6570\u636e\u4f20\u8f93\u90fd\u662f\u5f02\u6b65\u64cd\u4f5c\u3002 RDMA\u64cd\u4f5c\u5176\u5b9e\u5f88\u7b80\u5355\uff0c\u53ef\u4ee5\u7406\u89e3\u4e3a\uff1a 1. Host\u63d0\u4ea4\u5de5\u4f5c\u8bf7\u6c42(WR)\u5230\u5de5\u4f5c\u961f\u5217(WQ): \u5de5\u4f5c\u961f\u5217\u5305\u62ec\u53d1\u9001\u961f\u5217(SQ)\u548c\u63a5\u6536\u961f\u5217(RQ)\u3002\u5de5\u4f5c\u961f\u5217\u7684\u6bcf\u4e00\u4e2a\u5143\u7d20\u53eb\u505aWQE, \u4e5f\u5c31\u662fWR\u3002 2. Host\u4ece\u5b8c\u6210\u961f\u5217(CQ\uff09\u4e2d\u83b7\u53d6\u5de5\u4f5c\u5b8c\u6210(WC): \u5b8c\u6210\u961f\u5217\u91cc\u7684\u6bcf\u4e00\u4e2a\u53eb\u505aCQE, \u4e5f\u5c31\u662fWC\u3002 3. \u5177\u6709RDMA\u5f15\u64ce\u7684\u786c\u4ef6(hardware)\u5c31\u662f\u4e00\u4e2a\u961f\u5217\u5143\u7d20\u5904\u7406\u5668\u3002 RDMA\u786c\u4ef6\u4e0d\u65ad\u5730\u4ece\u5de5\u4f5c\u961f\u5217(WQ)\u4e2d\u53bb\u53d6\u5de5\u4f5c\u8bf7\u6c42(WR)\u6765\u6267\u884c\uff0c\u6267\u884c\u5b8c\u4e86\u5c31\u7ed9\u5b8c\u6210\u961f\u5217(CQ)\u4e2d\u653e\u7f6e\u5de5\u4f5c\u5b8c\u6210(WC)\u3002\u4ece\u751f\u4ea7\u8005-\u6d88\u8d39\u8005\u7684\u89d2\u5ea6\u7406\u89e3\u5c31\u662f\uff1a     4. Host\u751f\u4ea7WR, \u628aWR\u653e\u5230WQ\u4e2d\u53bb 5. RDMA\u786c\u4ef6\u6d88\u8d39WR 6. RDMA\u786c\u4ef6\u751f\u4ea7WC, \u628aWC\u653e\u5230CQ\u4e2d\u53bb 7. Host\u6d88\u8d39WC</p> <p>![[Pasted image 20231023102359.png]]</p> <ol> <li>PCP (Payload Compression Protocol ) \u30101\u3011PCP\uff0c\u5168\u79f0IP Payload Compression Protocol \uff08IP\u8f7d\u8377\u538b\u7f29\u534f\u8bae\uff0c\u7b80\u79f0PCP\uff09\uff0c\u662f\u4e00\u4e2a\u51cf\u5c11IP\u6570\u636e\u62a5\u957f\u5ea6\u7684\u534f\u8bae\u3002 \u30102\u3011\u901a\u8fc7\u538b\u7f29\u6570\u636e\u5305\uff0c\u8fd9\u4e2a\u534f\u8bae\u5c06\u5728\u4e00\u5bf9\u901a\u4fe1\u4e3b\u673a/\u7f51\u5173\uff08\u201c\u8282\u70b9\u201d\uff09\u4e4b\u95f4\u63d0\u5347\u6574\u4f53\u901a\u4fe1\u6027\u80fd\u3002\u5018\u82e5\u8282\u70b9\u6709\u8db3\u591f\u7684\u8ba1\u7b97\u80fd\u529b\uff0c\u900f\u8fc7CPU\u529f\u80fd\u6216\u8005\u4e00\u4e2a\u538b\u7f29\u534f\u5904\u7406\u5668\uff0c\u5728\u6162\u901f\u6216\u8005\u62e5\u6324\u7684\u94fe\u8def\u4e0a\u901a\u4fe1\u3002 \u30103\u3011IP\u6570\u636e\u62a5\u52a0\u5bc6\u65f6\uff0cIP\u6709\u6548\u8f7d\u8377\u538b\u7f29\u7279\u522b\u6709\u7528\u3002\u52a0\u5bc6IP\u6570\u636e\u62a5\u4f7f\u5f97\u6570\u636e\u770b\u8d77\u6765\u5f88\u968f\u673a\uff0c\u5728\u8f83\u4f4e\u534f\u8bae\u5c42\u538b\u7f29\u6548\u7387\u4f4e\uff08\u4f8b\u5982\uff0cPPP\u538b\u7f29\u63a7\u5236\u534f\u8bae[RFC-1962]\uff09\u3002\u5982\u679c\u540c\u65f6\u8981\u6c42\u538b\u7f29\u548c\u52a0\u5bc6\uff0c\u538b\u7f29\u5fc5\u987b\u5728\u52a0\u5bc6\u4e4b\u524d\u8fdb\u884c\u3002</li> </ol> <p>6\uff09RDMA\u6570\u636e\u4f20\u8f93\uff1a 6.1 RDMA Send | RDMA\u53d1\u9001(/\u63a5\u6536)\u64cd\u4f5c \uff08Send/Recv\uff09</p> <p>\u8ddfTCP/IP\u7684send/recv\u662f\u7c7b\u4f3c\u7684\uff0c\u4e0d\u540c\u7684\u662fRDMA\u662f==\u57fa\u4e8e\u6d88\u606f==\u7684\u6570\u636e\u4f20\u8f93\u534f\u8bae\uff08==\u800c\u4e0d\u662f\u57fa\u4e8e\u5b57\u8282\u6d41\u7684\u4f20\u8f93\u534f\u8bae==\uff09\uff0c\u6240\u6709\u6570\u636e\u5305\u7684\u7ec4\u88c5\u90fd\u5728RDMA\u786c\u4ef6\u4e0a\u5b8c\u6210\u7684\uff0c\u4e5f\u5c31\u662f\u8bf4OSI\u6a21\u578b\u4e2d\u7684\u4e0b\u97624\u5c42(\u4f20\u8f93\u5c42\uff0c\u7f51\u7edc\u5c42\uff0c\u6570\u636e\u94fe\u8def\u5c42\uff0c\u7269\u7406\u5c42)\u90fd\u5728RDMA\u786c\u4ef6\u4e0a\u5b8c\u6210\u3002</p> <p>6.2 RDMA Read | RDMA\u8bfb\u64cd\u4f5c (Pull)</p> <p>RDMA\u8bfb\u64cd\u4f5c\u672c\u8d28\u4e0a\u5c31\u662fPull\u64cd\u4f5c, \u628a\u8fdc\u7a0b\u7cfb\u7edf\u5185\u5b58\u91cc\u7684\u6570\u636e\u62c9\u56de\u5230\u672c\u5730\u7cfb\u7edf\u7684\u5185\u5b58\u91cc\u3002</p> <p>6.3 RDMA Write | RDMA\u5199\u64cd\u4f5c (Push)</p> <p>RDMA\u5199\u64cd\u4f5c\u672c\u8d28\u4e0a\u5c31\u662fPush\u64cd\u4f5c\uff0c\u628a\u672c\u5730\u7cfb\u7edf\u5185\u5b58\u91cc\u7684\u6570\u636e\u63a8\u9001\u5230\u8fdc\u7a0b\u7cfb\u7edf\u7684\u5185\u5b58\u91cc\u3002</p> <p>6.4 RDMA Write with Immediate Data | \u652f\u6301\u7acb\u5373\u6570\u7684RDMA\u5199\u64cd\u4f5c</p> <p>\u652f\u6301\u7acb\u5373\u6570\u7684RDMA\u5199\u64cd\u4f5c\u672c\u8d28\u4e0a\u5c31\u662f\u7ed9\u8fdc\u7a0b\u7cfb\u7edfPush(\u63a8\u9001)\u5e26\u5916(OOB)\u6570\u636e, \u8fd9\u8ddfTCP\u91cc\u7684\u5e26\u5916\u6570\u636e\u662f\u7c7b\u4f3c\u7684\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#commodity-ethernet-rocev2","title":"commodity Ethernet (RoCEv2)\uff1a","text":"<p>\u805a\u5408\u4ee5\u592a\u7f51RDMA\uff08RoCE\uff09\u6216\u4ee5\u592a\u7f51InfiniBand\uff08IBoE\uff09[1]\u662f\u4e00\u79cd\u5141\u8bb8\u901a\u8fc7\u4ee5\u592a\u7f51\u7f51\u7edc\u8fdb\u884c\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff08RDMA\uff09\u7684\u7f51\u7edc\u534f\u8bae\u3002\u5b83\u901a\u8fc7\u4ee5\u592a\u7f51\u5c01\u88c5InfiniBand\uff08IB\uff09\u4f20\u8f93\u6570\u636e\u5305\u6765\u505a\u5230\u8fd9\u4e00\u70b9\u3002</p> <p>\u6709\u4e24\u4e2aRoCE\u7248\u672c\uff0cRoCE v1\u548cRoCE v2\u3002RoCE v1\u662f\u4e00\u79cd\u4ee5\u592a\u7f51\u94fe\u8def\u5c42\u534f\u8bae\uff0c\u56e0\u6b64\u5141\u8bb8\u5728\u540c\u4e00\u4ee5\u592a\u7f51\u5e7f\u64ad\u57df\u4e2d\u7684\u4efb\u4f55\u4e24\u53f0\u4e3b\u673a\u4e4b\u95f4\u8fdb\u884c\u901a\u4fe1\u3002RoCE v2\u662f\u4e00\u79cd\u4e92\u8054\u7f51\u5c42\u534f\u8bae\uff0c\u8fd9\u610f\u5473\u7740\u53ef\u4ee5\u8def\u7531RoCE v2\u6570\u636e\u5305\u3002\u867d\u7136RoCE\u534f\u8bae\u53d7\u76ca\u4e8e\u805a\u5408\u4ee5\u592a\u7f51\u7f51\u7edc\u7684\u7279\u6027\uff0c\u4f46\u8be5\u534f\u8bae\u4e5f\u53ef\u4ee5\u5728\u4f20\u7edf\u6216\u975e\u805a\u5408\u4ee5\u592a\u7f51\u7f51\u7edc\u4e0a\u4f7f\u7528</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#vlan","title":"VLAN\uff1a","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#1-lan","title":"1. LAN \u672c\u5730\u5c40\u57df\u7f51","text":"<p>LAN \u8868\u793a Local Area Network\uff0c\u672c\u5730\u5c40\u57df\u7f51\u3002 \u4e00\u4e2a LAN \u8868\u793a\u4e00\u4e2a\u5e7f\u64ad\u57df\uff0c\u542b\u4e49\u662f\uff1aLAN \u4e2d\u7684\u6240\u6709\u6210\u5458\u90fd\u4f1a\u6536\u5230\u4efb\u610f\u4e00\u4e2a\u6210\u5458\u53d1\u51fa\u7684\u5e7f\u64ad\u5305\u3002 ![[Pasted image 20231023105432.png]]</p> <p>\u6700\u57fa\u672c\u7684LAN\u5e03\u5c40 \u4e0a\u56fe\u4e3a\u6700\u57fa\u672c\u7684LAN\u5e03\u5c40\u3002\u5982\u679c\u8bbe\u5907\u95f4\u60f3\u8981\u901a\u8baf\uff0c\u5fc5\u987b\u8981\u83b7\u53d6\u5230\u5bf9\u65b9\u7684MAC\u5730\u5740\u3002</p> <p>\u4e3e\u4f8b\uff1aA \u53d1\u4fe1\u606f\u7ed9 C\uff0cA \u5e76\u4e0d\u77e5\u9053 C \u7684 MAC \u5730\u5740\u3002\u6b64\u65f6\u901a\u8fc7\u00a0ARP\u00a0\u534f\u8bae\uff08Address Resolution Protocol\uff1b\u5730\u5740\u89e3\u6790\u534f\u8bae\uff1b\uff09\u83b7\u53d6 C \u7684 MAC \u5730\u5740\uff0cA \u5148\u8981\u5e7f\u64ad\u4e00\u4e2a\u5305\u542b\u76ee\u6807 IP \u5730\u5740\u7684 ARP \u8bf7\u6c42\u5230\u94fe\u63a5\u5728\u96c6\u7ebf\u5668\u4e0a\u7684\u6240\u6709\u8bbe\u5907\u4e0a\uff0cC \u63a5\u53d7\u5230\u5e7f\u64ad\u540e\u8fd4\u56de MAC \u5730\u5740\u7ed9 A\uff0c\u5176\u4ed6\u8bbe\u5907\u5219\u4e22\u5f03\u4fe1\u606f\u3002\u81f3\u6b64\u5df2\u7ecf\u5efa\u7acb\u8bbe\u5907\u95f4\u901a\u4fe1\u7684\u51c6\u5907\u6761\u4ef6\u3002</p> <ul> <li> <p>\u94fe\u63a5\u5728\u96c6\u7ebf\u5668\u4e2d\u7684\u8bbe\u5907\u90fd\u5728\u540c\u4e00\u4e2a\u51b2\u7a81\u57df\u548c\u5e7f\u64ad\u57df\u4e2d\u3002\u6b64\u65f6\u7684\u51b2\u7a81\u57df\u5c31\u662f\u5e7f\u64ad\u57df\u3002\u7b80\u5355\u7406\u89e3\u5c31\u662f\u5728\u8fd9\u79cd\u5e03\u5c40\u4e2d\uff0c\u4e00\u6b21\u53ea\u80fd\u4e00\u53f0\u8bbe\u5907\u53d1\u9001\u4fe1\u53f7\u4e14\u5176\u4ed6\u8bbe\u5907\u90fd\u80fd\u63a5\u53d7\u8be5\u4fe1\u53f7\u3002</p> </li> <li> <p>\u96c6\u7ebf\u5668\u662f\u7269\u7406\u5c42\uff08OSI\u7b2c\u4e00\u5c42\uff09\u8bbe\u5907\uff0c\u4e3b\u8981\u4f5c\u7528\u662f\u5c06\u4fe1\u53f7\u8fdb\u884c\u63a5\u53d7-\u6062\u590d\u653e\u5927-\u53d1\u9001\uff0c\u53cc\u7ede\u7ebf\u3001\u5149\u7ea4\u5728\u4f20\u8f93\u4fe1\u53f7\u7684\u65f6\u5019\uff0c\u968f\u7740\u8ddd\u79bb\u7684\u589e\u5927\uff0c\u4fe1\u53f7\u4f1a\u51cf\u5f31\u9020\u6210\u5931\u771f\uff0c\u501f\u52a9\u96c6\u7ebf\u5668\u53ef\u4ee5\u8ba9\u4fe1\u53f7\u4f20\u64ad\u66f4\u8fdc\u7684\u8ddd\u79bb\uff1b\u540c\u65f6\u96c6\u7ebf\u5668\u4e0a\u6709\u5f88\u591a\u63a5\u53e3\uff0c\u80fd\u591f\u6269\u5c55\u7ec8\u7aef\u6570\u91cf\u6269\u5927 LAN \u7684\u89c4\u6a21\u3002</p> </li> <li> <p>\u540c\u4e00\u96c6\u7ebf\u5668\u4e0a\u7684\u6240\u6709\u8bbe\u5907\u5171\u4eab\u5e26\u5bbd\uff0c\u5982\u679c\u8bbe\u5907\u6570\u91cf\u8fc7\u591a\u7684\u8bdd\uff0c\u4f1a\u9020\u6210\u94fe\u8def\u62e5\u5835\uff0c\u4e25\u91cd\u7684\u4f1a\u4ea7\u751f\u5e7f\u64ad\u98ce\u66b4\u3002</p> </li> <li> <p>\u4f7f\u7528\u4ea4\u6362\u673a\u53ef\u4ee5\u628a\u4e00\u4e2a\u5927\u7684\u51b2\u7a81\u57df\u5212\u5206\u6210\u591a\u4e2a\u5c0f\u7684\u51b2\u7a81\u57df\uff0c\u8fd9\u6837\u53ef\u4ee5\u7f29\u51cf\u51b2\u7a81\u57df\u7684\u8303\u56f4\uff0c\u964d\u4f4e\u6570\u636e\u62e5\u5835\u3002</p> </li> <li> <p>\u4e0b\u56fe\u6dfb\u52a0\u4e00\u4e2a\u4ea4\u6362\u673a\u8fde\u63a5\u51e0\u4e2a\u51b2\u7a81\u57df\uff0c\u4ea4\u6362\u673a\u7684\u4e00\u4e2a\u7aef\u53e3\u5bf9\u5e94\u4e00\u4e2a\u5355\u72ec\u7684\u51b2\u7a81\u57df\u3002\u8fd9\u6837\u4e00\u6765\u4e00\u4e2a\u5927\u7684\u5e7f\u64ad\u57df\u5c31\u5206\u6210\u4e86\u591a\u4e2a\u5c0f\u7684\u51b2\u7a81\u57df\u3002\u4f46\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u6574\u4e2a\u7f51\u7edc\u4ecd\u662f\u4e00\u4e2a\u5e7f\u64ad\u57df\u3002</p> <p></p> <p>\u51b2\u7a81\u57df\u7684\u76f8\u4e92\u9694\u79bb</p> </li> <li> <p>\u4e0a\u9762\u5df2\u7ecf\u628a\u51b2\u7a81\u57df\u8fdb\u884c\u4e86\u9694\u79bb\uff0c\u5f53\u8bbe\u5907\u8d8a\u6765\u8d8a\u591a\u7684\u65f6\u5019\u6bcf\u4e2a\u8bbe\u5907\u90fd\u53d1\u9001\u4e00\u4e2a\u5e7f\u64ad\uff0c\u4ea4\u6362\u673a\u9700\u8981\u628a\u6bcf\u4e2a\u5e7f\u64ad\u590d\u5236\u4e0b\u53d1\u5230\u6240\u6709\u8bbe\u5907\uff0c\u8fd9\u4e2a\u5f00\u9500\u5c31\u5f88\u53ef\u6015\u4e86\u3002</p> </li> <li> <p>\u4e0b\u56fe\u6211\u4eec\u4f7f\u7528\u8def\u7531\u5668\u5bf9\u5e7f\u64ad\u57df\u8fdb\u884c\u9694\u79bb\u3002</p> </li> </ul> <p></p> <p>\u5e7f\u64ad\u57df\u7684\u9694\u79bb</p> <ul> <li>\u5f53\u8def\u7531\u5668\u6536\u5230\u5e7f\u64ad\u65f6\uff0c\u4f1a\u628a\u5b83\u81ea\u52a8\u4e22\u5f03\uff0c\u4e0d\u4f1a\u8f6c\u53d1\u5230\u8def\u7531\u5668\u7684\u5176\u4ed6\u7aef\u53e3\uff0c\u5b9e\u73b0\u4e86\u5e7f\u64ad\u57df\u7684\u5206\u5272</li> <li>\u8fd9\u4e5f\u662f\u8def\u7531\u5668\u5b58\u5728\u7684\u610f\u4e49\uff0c\u5982\u679c\u5c06\u5168\u7f51\u90fd\u96c6\u4e2d\u5728\u4e00\u4e2a\u5e7f\u64ad\u57df\u4e2d\u5219\u5bb9\u6613\u5f15\u53d1\u5e7f\u64ad\uff0c\u8fdb\u800c\u5bfc\u81f4\u5168\u7f51\u762b\u75ea</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#2-vlan","title":"2. VLAN \u865a\u62df\u5c40\u57df\u7f51","text":"<p>VLAN \u8868\u793a Virtual Local Area Network\uff0c\u865a\u62df\u672c\u5730\u5c40\u57df\u7f51\u3002</p> <ul> <li>\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\u662f\u5728\u5c40\u57df\u7f51\uff08LAN\uff09\u7684\u903b\u8f91\u4e0a\u5212\u5206\u6210\u591a\u4e2a\u5e7f\u64ad\u57df\uff0c\u6bcf\u4e00\u4e2a\u5e7f\u64ad\u57df\u5c31\u662f\u4e00\u4e2a VLAN\u3002</li> <li>\u4e0b\u56fe\u4e3a\u4ea4\u6362\u673a\u5212\u5206\u865a\u62df\u5c40\u57df\u7f51\u3002\u4ea4\u6362\u673a\u628a\u4e00\u4e2a\u5e7f\u64ad\u57df\u5212\u5206\u6210\u4e863\u4e2a\u5e7f\u64ad\u57df\uff0c\u7269\u7406\u4e0a\u8fd9\u4e9b\u8bbe\u5907\u5728\u4e00\u4e2a\u4ea4\u6362\u673a\u4e0a\uff0c\u4f46\u662f\u903b\u8f91\u4e0a\u5df2\u7ecf\u5206\u522b\u5212\u5206\u5230\u4e09\u4e2a\u4ea4\u6362\u673a\u4e0a\uff0c\u6240\u4ee5\u4f1a\u6709\u4e09\u4e2a\u5c40\u57df\u7f51\uff08\u865a\u62df\u5c40\u57df\u7f51\uff09\uff0c\u4e09\u4e2a\u5e7f\u64ad\u57df\u3002</li> </ul> <p></p> <p>\u4ea4\u6362\u673a\u5212\u5206\u865a\u62df\u5c40\u57df\u7f51</p> <p>\u4ea4\u6362\u673a\u5212\u5206 VLAN \u8bf4\u660e\uff0cVLAN1 \u8fd9\u4e2a\u865a\u62df\u5c40\u57df\u7f51\u7f16\u53f7\uff0c\u4e00\u822c\u5de5\u4f5c\u4e8e\u7ba1\u7406\u7ec4\uff0c\u6240\u4ee5\u666e\u901a VLAN \u90fd\u662f\u4ece 2 \u5f00\u59cb\u7f16\u53f7\uff0c\u9ed8\u8ba4\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u865a\u62df\u5c40\u57df\u7f51\u90fd\u96b6\u5c5e\u4e8e VALN1\u3002</p> <ul> <li>\u5728\u4e0a\u56fe\u4e2d\u4e0d\u540c\u7684 VLAN \u76f8\u4e92\u95f4\u662f\u4e0d\u80fd\u901a\u8baf\u7684\u3002\u4e3a\u4e86\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0c\u5f15\u8fdb\u4e86\u4e09\u5c42\u4ea4\u6362\u673a\uff08\u6216\u8def\u7531\u5668)\u7b49 OSI \u7684\u4e09\u5c42\u8bbe\u5907\u5b9e\u73b0\u8de8\u7f51\u6bb5\u901a\u4fe1\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#3-vlan","title":"3. VLAN \u5b9e\u73b0\u539f\u7406","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#1-vlan","title":"1. \u9759\u6001 VLAN","text":"<ul> <li>\u9759\u6001 VLAN \u53c8\u88ab\u79f0\u4e3a\u57fa\u4e8e\u7aef\u53e3\u7684 VLAN\uff08PortBased VLAN\uff09\u3002\u662f\u4e3a\u4e86\u660e\u786e\u6307\u5b9a\u54ea\u4e2a Port \u5c5e\u4e8e\u54ea\u4e2a VLAN ID\u3002</li> <li>\u5728 VLAN \u7ba1\u7406\u5458\u6700\u521d\u914d\u7f6e\u4ea4\u6362\u673a Port \u548c VLAN ID \u7684\u5bf9\u5e94\u5173\u7cfb\u65f6\uff0c\u5c31\u5df2\u7ecf\u56fa\u5b9a\u4e86\u8fd9\u79cd\u5bf9\u5e94\u5173\u7cfb\uff0c\u5373\u4e00\u4e2a Port \u53ea\u80fd\u5bf9\u5e94\u4e00\u4e2a VLAN ID\uff0c\u4e4b\u540e\u65e0\u6cd5\u8fdb\u884c\u66f4\u6539\uff0c\u9664\u975e\u7ba1\u7406\u5458\u518d\u91cd\u65b0\u914d\u7f6e\u3002</li> <li>\u5f53\u4e00\u53f0\u8bbe\u5907\u63a5\u5230\u8fd9\u4e2a Port \u4e0a\u7684\u65f6\u5019\uff0c\u600e\u4e48\u5224\u65ad\u8be5\u4e3b\u673a\u7684 VLAN ID \u4e0e Port \u5bf9\u5e94\u5462\uff0c\u8fd9\u91cc\u662f\u6839\u636e IP \u914d\u7f6e\u51b3\u5b9a\u7684\uff0c\u6211\u4eec\u77e5\u9053\u6bcf\u4e2a VLAN \u90fd\u6709\u4e00\u4e2a\u5b50\u7f51\u53f7\uff0c\u5e76\u5bf9\u5e94\u7740\u54ea\u4e9b Port\uff0c\u5982\u679c\u8bbe\u5907\u8981\u6c42\u7684 IP \u5730\u5740\u548c\u8be5 Port \u5bf9\u5e94\u7684 VLAN \u7684\u5b50\u7f51\u53f7\u4e0d\u5339\u914d\uff0c\u5219\u8fde\u63a5\u5931\u8d25\uff0c\u8be5\u8bbe\u5907\u5c06\u65e0\u6cd5\u6b63\u5e38\u901a\u4fe1\u3002\u6240\u4ee5\u9664\u4e86\u8fde\u63a5\u5230\u6b63\u786e\u7684 Port \u5916\uff0c\u4e5f\u5fc5\u987b\u7ed9\u8bbe\u5907\u5206\u914d\u5c5e\u4e8e\u8be5 VLAN \u7f51\u7edc\u6bb5\u7684 IP \u5730\u5740\uff0c\u8fd9\u6837\u624d\u80fd\u52a0\u5165\u5230\u8be5 VLAN \u4e2d\u3002</li> <li>\u7531\u4e8e\u9700\u8981\u4e00\u4e2a\u4e2a\u7aef\u53e3\u5730\u6307\u5b9a\uff0c\u56e0\u6b64\u5f53\u7f51\u7edc\u4e2d\u7684\u8ba1\u7b97\u673a\u6570\u76ee\u8d85\u8fc7\u4e00\u5b9a\u6570\u5b57\uff08\u6bd4\u5982\u6570\u767e\u53f0\uff09\u540e\uff0c\u8bbe\u5b9a\u64cd\u4f5c\u5c31\u4f1a\u53d8\u5f97\u70e6\u6742\u65e0\u6bd4\u3002\u5e76\u4e14\uff0c\u5ba2\u6237\u673a\u6bcf\u6b21\u53d8\u66f4\u6240\u8fde\u7aef\u53e3\uff0c\u90fd\u5fc5\u987b\u540c\u65f6\u66f4\u6539\u8be5\u7aef\u53e3\u6240\u5c5e VLAN \u7684\u8bbe\u5b9a\u2014\u2014\u8fd9\u663e\u7136\u4e0d\u9002\u5408\u90a3\u4e9b\u9700\u8981\u9891\u7e41\u6539\u53d8\u62d3\u8865\u7ed3\u6784\u7684\u7f51\u7edc\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#2-vlan_1","title":"2. \u52a8\u6001 VLAN","text":"<ul> <li>\u52a8\u6001 VLAN \u5219\u662f\u6839\u636e\u6bcf\u4e2a\u7aef\u53e3\u6240\u8fde\u7684\u8ba1\u7b97\u673a\uff0c\u968f\u65f6\u6539\u53d8\u7aef\u53e3\u6240\u5c5e\u7684 VLAN\u3002\u8fd9\u5c31\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u7684\u66f4\u6539\u8bbe\u5b9a\u4e4b\u7c7b\u7684\u64cd\u4f5c\u3002\u52a8\u6001 VLAN \u53ef\u4ee5\u5927\u81f4\u5206\u4e3a 3 \u7c7b\uff1a</li> <li>\uff081\uff09\u57fa\u4e8e MAC \u7684 VLAN \u200b\u00a0\u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN \uff0c\u5c31\u662f\u901a\u8fc7\u67e5\u8be2\u5e76\u8bb0\u5f55\u7aef\u53e3\u6240\u8fde\u7684\u8ba1\u7b97\u673a\u7f51\u5361\u7684 MAC \u5730\u5740\u6765\u51b3\u5b9a\u7aef\u53e3\u7684\u6240\u5c5e\u3002\u5047\u5b9a\u6709\u4e00\u4e2a MAC \u5730\u5740 \u201cA\u201d \u88ab\u4ea4\u6362\u673a\u8bbe\u5b9a\u4e3a\u5c5e\u4e8e VLAN 10\uff0c\u90a3\u4e48\u4e0d\u8bba MAC \u5730\u5740\u4e3a \u201cA\u201d \u7684\u8fd9\u53f0\u8ba1\u7b97\u673a\u8fde\u5728\u4ea4\u6362\u673a\u54ea\u4e2a\u7aef\u53e3\uff0c\u8be5\u7aef\u53e3\u90fd\u4f1a\u88ab\u5212\u5206\u5230 VLAN 10 \u4e2d\u53bb\u3002\u8ba1\u7b97\u673a\u8fde\u5728\u7aef\u53e3 1 \u65f6\uff0c\u7aef\u53e3 1 \u5c5e\u4e8e VLAN 10 \uff1b\u800c\u8ba1\u7b97\u673a\u8fde\u5728\u7aef\u53e3 2 \u65f6\uff0c\u5219\u662f\u7aef\u53e3 2 \u5c5e\u4e8e VLAN 10\u3002</li> </ul> <p>\u200b \u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN \uff0c\u5728\u8bbe\u5b9a\u65f6\u5fc5\u987b\u8c03\u67e5\u6240\u8fde\u63a5\u7684\u6240\u6709\u8ba1\u7b97\u673a\u7684 MAC \u5730\u5740\u5e76\u52a0\u4ee5\u767b\u5f55\u3002\u800c\u4e14\u5982\u679c\u8ba1\u7b97\u673a\u4ea4\u6362\u4e86\u7f51\u5361\uff0c\u8fd8\u662f\u9700\u8981\u66f4\u6539\u8bbe\u5b9a\u3002</p> <ul> <li>\uff082\uff09\u57fa\u4e8e IP \u7684 VLAN \u200b \u57fa\u4e8e\u5b50\u7f51\u7684 VLAN\uff0c\u5219\u662f\u901a\u8fc7\u6240\u8fde\u8ba1\u7b97\u673a\u7684 IP \u5730\u5740\uff0c\u6765\u51b3\u5b9a\u7aef\u53e3\u6240\u5c5e VLAN \u7684\u3002\u4e0d\u50cf\u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN\uff0c\u5373\u4f7f\u8ba1\u7b97\u673a\u56e0\u4e3a\u4ea4\u6362\u4e86\u7f51\u5361\u6216\u662f\u5176\u4ed6\u539f\u56e0\u5bfc\u81f4 MAC \u5730\u5740\u6539\u53d8\uff0c\u53ea\u8981\u5b83\u7684 IP \u5730\u5740\u4e0d\u53d8\uff0c\u5c31\u4ecd\u53ef\u4ee5\u52a0\u5165\u539f\u5148\u8bbe\u5b9a\u7684 VLAN\u3002</li> </ul> <p>\u200b \u56e0\u6b64\uff0c\u4e0e\u57fa\u4e8e MAC \u5730\u5740\u7684 VLAN \u76f8\u6bd4\uff0c\u80fd\u591f\u66f4\u4e3a\u7b80\u4fbf\u5730\u6539\u53d8\u7f51\u7edc\u7ed3\u6784\u3002IP \u5730\u5740\u662f OSI \u53c2\u7167\u6a21\u578b\u4e2d\u7b2c\u4e09\u5c42\u7684\u4fe1\u606f\uff0c\u6240\u4ee5\u6211\u4eec\u53ef\u4ee5\u7406\u89e3\u4e3a\u57fa\u4e8e\u5b50\u7f51\u7684 VLAN \u662f\u4e00\u79cd\u5728 OSI \u7684\u7b2c\u4e09\u5c42\u8bbe\u5b9a\u8bbf\u95ee\u94fe\u63a5\u7684\u65b9\u6cd5\u3002</p> <ul> <li>\uff083\uff09\u57fa\u4e8e\u7528\u6237\u7684 VLAN \u200b\u00a0\u57fa\u4e8e\u7528\u6237\u7684 VLAN\uff0c\u5219\u662f\u6839\u636e\u4ea4\u6362\u673a\u5404\u7aef\u53e3\u6240\u8fde\u7684\u8ba1\u7b97\u673a\u4e0a\u5f53\u524d\u767b\u5f55\u7684\u7528\u6237\uff0c\u6765\u51b3\u5b9a\u8be5\u7aef\u53e3\u5c5e\u4e8e\u54ea\u4e2a VLAN\u3002\u8fd9\u91cc\u7684\u7528\u6237\u8bc6\u522b\u4fe1\u606f\uff0c\u4e00\u822c\u662f\u8ba1\u7b97\u673a\u64cd\u4f5c\u7cfb\u7edf\u767b\u5f55\u7684\u7528\u6237\uff0c\u6bd4\u5982\u53ef\u4ee5\u662f Windows \u57df\u4e2d\u4f7f\u7528\u7684\u7528\u6237\u540d\u3002\u8fd9\u4e9b\u7528\u6237\u540d\u4fe1\u606f\uff0c\u5c5e\u4e8e OSI \u7b2c\u56db\u5c42\u4ee5\u4e0a\u7684\u4fe1\u606f\u3002</li> </ul>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#dscp","title":"DSCP\uff1a","text":"<p>DSCP\u5dee\u5206\u670d\u52a1\u4ee3\u7801\u70b9\uff08Differentiated Services Code Point\uff09\uff0cIETF\u4e8e1998\u5e7412\u6708\u53d1\u5e03\u4e86Diff-Serv\uff08Differentiated Service\uff09\u7684QoS\u5206\u7c7b\u6807\u51c6\u3002\u5b83\u5728\u6bcf\u4e2a\u6570\u636e\u5305IP\u5934\u90e8\u7684\u670d\u52a1\u7c7b\u522bTOS\u6807\u8bc6\u5b57\u8282\u4e2d\uff0c\u5229\u7528\u5df2\u4f7f\u7528\u76846\u6bd4\u7279\u548c\u672a\u4f7f\u7528\u76842\u6bd4\u7279\uff0c==\u901a\u8fc7\u7f16\u7801\u503c\u6765\u533a\u5206\u4f18\u5148\u7ea7\u3002==</p> <p>\u5b83\u5728\u6bcf\u4e2a\u6570\u636e\u5305IP\u5934\u90e8\u7684\u670d\u52a1\u7c7b\u522bTOS\u6807\u8bc6\u5b57\u8282\u4e2d\uff0c\u5229\u7528\u5df2\u4f7f\u7528\u76846\u6bd4\u7279\u548c\u672a\u4f7f\u7528\u76842\u6bd4\u7279\uff0c\u901a\u8fc7\u7f16\u7801\u503c\u6765\u533a\u5206\u4f18\u5148\u7ea7. DSCP \u4f7f\u75286\u4e2abit\uff0cDSCP\u7684\u503c\u5f97\u8303\u56f4\u4e3a0~63\u3002 DSCP \u662f\u201cIP \u4f18\u5148\u201d\u548c\u201c\u670d\u52a1\u7c7b\u578b\u201d\u5b57\u6bb5\u7684\u7ec4\u5408\u3002\u4e3a\u4e86\u5229\u7528\u53ea\u652f\u6301\u201cIP \u4f18\u5148\u201d\u7684\u65e7\u8def\u7531\u5668\uff0c\u4f1a\u4f7f\u7528 DSCP \u503c\uff0c\u56e0\u4e3a DSCP \u503c\u4e0e\u201cIP \u4f18\u5148\u201d\u5b57\u6bb5\u517c\u5bb9\u3002 \u7528==\u901a\u4fd7\u4e00\u70b9\u7684\u8bed\u8a00\u89e3\u91ca\uff0c\u5176\u5b9eDSCP\u5c31\u662f\u4e3a\u4e86\u4fdd\u8bc1\u901a\u4fe1\u7684QoS\uff0c\u5728\u6570\u636e\u5305IP\u5934\u90e8\u76848\u4e2a\u6807\u8bc6\u5b57\u8282\u8fdb\u884c\u7f16\u7801\uff0c\u6765\u5212\u5206\u670d\u52a1\u7c7b\u522b\uff0c\u533a\u5206\u670d\u52a1\u7684\u4f18\u5148\u7ea7\u3002== \u6bcf\u4e00\u4e2aDSCP\u7f16\u7801\u503c\u90fd\u88ab\u6620\u5c04\u5230\u4e00\u4e2a\u5df2\u5b9a\u4e49\u7684PHB\uff08Per-Hop-Behavior\uff09\u6807\u8bc6\u7801\u3002 \u901a\u8fc7\u952e\u5165DSCP\u503c\uff0c\u7535\u8bdd\u3001Windows\u5ba2\u6237\u548c\u670d\u52a1\u5668\u7b49\u7ec8\u7aef\u8bbe\u5907\u4e5f\u53ef\u5bf9\u6d41\u91cf\u8fdb\u884c\u6807\u8bc6\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#pfc","title":"PFC\uff1a","text":"<p>PFC \u662f\u6784\u5efa\u65e0\u635f\u4ee5\u592a\u7f51\u7684\u5fc5\u9009\u624b\u6bb5\u4e4b\u4e00\uff0c \u80fd\u591f\u9010\u8df3\u63d0\u4f9b\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\u3002 \u8bbe\u5907\u5728\u8fdb\u884c\u62a5\u6587\u8f6c\u53d1\u65f6\uff0c\u6839\u636e\u62a5\u6587\u7684\u4f18\u5148\u7ea7\u8fdb\u5165\u5bf9\u5e94\u6620\u5c04\u5173\u7cfb\u7684\u961f\u5217\u4e2d\u8fdb\u884c\u8c03\u5ea6\u8f6c\u53d1\u3002 \u5f53\u67d0\u4e00\u4f18\u5148\u7ea7\u62a5\u6587\u53d1\u9001\u901f\u7387\u8d85\u8fc7\u63a5\u6536\u901f\u7387\uff0c\u5bfc\u81f4\u63a5\u6536\u65b9\u53ef\u7528\u6570\u636e\u7f13\u51b2\u7a7a\u95f4\u4e0d\u8db3\u65f6\uff0c \u8bbe\u5907\u901a\u8fc7PFC PAUSE \u5e27\u53cd\u9988\u7ed9\u4e0a\u4e00\u8df3\u8bbe\u5907\uff0c\u4e0a\u4e00\u8df3\u8bbe\u5907\u6536\u5230 PAUSE \u5e27\u62a5\u6587\u540e\u505c\u6b62\u53d1\u9001\u672c\u4f18\u5148\u7ea7\u62a5\u6587\uff0c\u76f4\u5230\u518d\u6536\u5230PFC XON\u5e27\u6216\u7ecf\u8fc7\u4e00\u5b9a\u7684\u8001\u5316\u65f6\u95f4\u540e\u624d\u80fd\u6062\u590d\u6d41\u91cf\u53d1\u9001\u3002\u901a\u8fc7\u4f7f\u7528 PFC\u529f\u80fd\uff0c\u4f7f\u5f97\u67d0\u79cd\u7c7b\u578b\u7684\u6d41\u91cf\u62e5\u585e\u4e0d\u4f1a\u5f71\u54cd\u5176\u4ed6\u7c7b\u578b\u6d41\u91cf\u7684\u6b63\u5e38\u8f6c\u53d1\uff0c\u4ece\u800c\u8fbe\u5230\u540c\u4e00\u94fe\u8def\u4e0a\u4e0d\u540c\u7c7b\u578b\u7684\u62a5\u6587\u4e92\u4e0d\u5f71\u54cd\u3002</p> <ol> <li> <p>PFC \u5de5\u4f5c\u673a\u5236\uff1a</p> <p>PFC\u4f7f\u7528PFC\u5e27\u63a7\u5236\u4f18\u5148\u7ea7\u961f\u5217\u7684\u53d1\u9001\u4e0e\u505c\u6b62\u3002</p> </li> <li> <p>PFC PAUSE \u5e27\u751f\u6210\u673a\u5236\uff1a   PFC \u529f\u80fd PAUSE \u5e27\u4ea7\u751f\u793a\u610f\u56fe</p> </li> <li> <p>PAUSE \u5e27\u4ea7\u751f\u8fc7\u7a0b\u5982\u56fe1\u6240\u793a\uff1a</p> <p>\uff081\uff09Device B \u7684\u7aef\u53e31\u6536\u5230\u6765\u81ea Device A \u7684\u62a5\u6587\u540e\uff0c MMU\uff08Memory Manage Unit\uff0c\u5b58\u50a8\u5668\u7ba1\u7406\u5355\u5143\uff09\u4f1a\u4e3a\u8be5\u62a5\u6587\u5206\u914d cell \u8d44\u6e90\uff08cell \u8d44\u6e90\uff1a\u7528\u6765\u5b58\u50a8\u6570\u636e\u5305\u7684\u5185\u5bb9\uff0c\u7aef\u53e3\u4f1a\u6839\u636e\u62a5\u6587\u7684\u5b9e\u9645\u5927\u5c0f\u5360\u7528\u76f8\u5e94\u5927\u5c0f\u7684 cell \u8d44\u6e90\u3002\u6bd4\u5982\u4e00\u4e2a cell \u8d44\u6e90\u662f 208 \u5b57\u8282\uff0c\u5f53\u53d1\u9001\u7684\u62a5\u6587\u662f 128 \u5b57\u8282\u65f6\uff0c\u7aef\u53e3\u4f1a\u7ed9\u5b83\u5206\u914d\u4e00\u4e2a cell \u8d44\u6e90\uff0c\u5f53\u53d1\u9001\u7684\u62a5\u6587\u662f 300 \u5b57\u8282\u65f6\uff0c\u7aef\u53e3\u4f1a\u7ed9\u5b83\u5206\u914d\u4e24\u4e2a cell \u8d44\u6e90\u3002\uff09\uff0c \u5f53\u8bbe\u5907\u7684 PFC \u529f\u80fd\u5904\u4e8e\u5f00\u542f\u72b6\u6001\u65f6\uff0c\u4f1a\u6839\u636e\u62a5\u6587\u4e2d\u7684 dot1p\u4f18\u5148\u7ea7\u7edf\u8ba1\u5360\u7528\u7684 cell \u8d44\u6e90\u3002\u00a0 \uff082\uff09\u5f53Device B\u7aef\u53e31\u7684\u67d0\u4e2a\u4f18\u5148\u7ea7\u7684\u62a5\u6587\u5360\u7528\u7684 cell \u8d44\u6e90\u7edf\u8ba1\u8ba1\u6570\u8fbe\u5230\u8bbe\u7f6e\u7684\u95e8\u9650\u540e\uff0c \u518d\u6536\u5230\u65b0\u7684\u8be5\u4f18\u5148\u7ea7\u62a5\u6587\u540e\uff0c\u7aef\u53e31\u4f1a\u53d1\u9001\u5bf9\u5e94\u4f18\u5148\u7ea7\u7684PFC PAUSE\u5e27\u7ed9Device A\u3002 \uff083\uff09 Device A\u6536\u5230\u8be5\u4f18\u5148\u7ea7\u7684PFC PAUSE\u5e27\u540e\u505c\u6b62\u53d1\u9001\u5bf9\u5e94\u4f18\u5148\u7ea7\u7684\u62a5\u6587\uff0c\u5bf9\u8be5\u4f18\u5148\u7ea7\u7684\u62a5\u6587\u8fdb\u884c\u7f13\u5b58\uff0c\u5982\u679c\u89e6\u53d1\u4e86\u7f13\u5b58\u95e8\u9650\uff0c\u5219\u4e5f\u5411\u5176\u4e0a\u6e38\u8bbe\u5907\u53d1\u9001 PFC PAUSE \u5e27\uff0c\u5982\u56fe2\u6240\u793a\u3002</p> </li> </ol> <p> \u56fe2 \u591a\u8df3\u8bbe\u5907\u4e4b\u95f4\u7684PFC PAUSE\u5e27\u5904\u7406</p> <ol> <li>\u62a5\u6587\u4f18\u5148\u7ea7\u4e0e\u961f\u5217\u6620\u5c04\u5173\u7cfb\uff1a \u8bbe\u5907\u5728\u8fdb\u884c\u62a5\u6587\u8f6c\u53d1\u65f6\uff0c\u5c06\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u62a5\u6587\u653e\u5165\u4e0d\u540c\u7684\u961f\u5217\u4e2d\u8fdb\u884c\u8c03\u5ea6\u8f6c\u53d1\u3002 \u62a5\u6587\u4f18\u5148\u7ea7\u4e0e\u961f\u5217\u6620\u5c04\u5173\u7cfb\u4e0e\u8bbe\u5907\u914d\u7f6e\u7684\u4f18\u5148\u7ea7\u6620\u5c04\u65b9\u5f0f\u6709\u5173\u3002\u8bbe\u5907\u652f\u6301\u7684\u4f18\u5148\u7ea7\u6620\u5c04\u914d\u7f6e\u65b9\u5f0f\u5305\u62ec\uff1a \u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u65b9\u5f0f\u3001\u7aef\u53e3\u4f18\u5148\u7ea7\u65b9\u5f0f\u3002</li> </ol> <p>4.1 \u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u65b9\u5f0f\uff1a</p> <p>\u914d\u7f6e\u7aef\u53e3\u7684\u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u540e\uff0c\u8bbe\u5907\u5c06\u4fe1\u4efb\u62a5\u6587\u81ea\u8eab\u643a\u5e26\u7684\u4f18\u5148\u7ea7\u3002\u901a\u8fc7\u4f18\u5148\u7ea7\u6620\u5c04\u8868\uff0c\u4f7f\u7528\u6240\u4fe1\u4efb\u7684\u62a5\u6587\u643a\u5e26\u4f18\u5148\u7ea7\u8fdb\u884c\u4f18\u5148\u7ea7\u6620\u5c04\uff0c\u6839\u636e\u6620\u5c04\u5173\u7cfb\u5b8c\u6210\u5bf9\u62a5\u6587\u4f18\u5148\u7ea7\u7684\u4fee\u6539\uff0c\u4ee5\u53ca\u5b9e\u73b0\u62a5\u6587\u5728\u8bbe\u5907\u5185\u90e8\u7684\u8c03\u5ea6\u3002  \u7aef\u53e3\u7684\u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u5206\u4e3a\uff1a</p> <p>dot1p\uff1a\u4fe1\u4efb\u62a5\u6587\u81ea\u5e26\u7684 802.1p \u4f18\u5148\u7ea7\uff0c\u4ee5\u6b64\u4f18\u5148\u7ea7\u8fdb\u884c\u4f18\u5148\u7ea7\u6620\u5c04\u3002</p> <p>dscp\uff1a\u4fe1\u4efb IP \u62a5\u6587\u81ea\u5e26\u7684 DSCP \u4f18\u5148\u7ea7\uff0c\u4ee5\u6b64\u4f18\u5148\u7ea7\u8fdb\u884c\u4f18\u5148\u7ea7\u6620\u5c04\u3002</p> <p>4.2 \u7aef\u53e3\u4f18\u5148\u7ea7\u65b9\u5f0f\uff1a \u672a\u914d\u7f6e\u7aef\u53e3\u7684\u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u65f6\uff0c\u8bbe\u5907\u4f1a\u5c06\u7aef\u53e3\u4f18\u5148\u7ea7\u4f5c\u4e3a\u62a5\u6587\u81ea\u8eab\u7684\u4f18\u5148\u7ea7\u3002\u901a\u8fc7\u4f18\u5148\u7ea7\u6620\u5c04\u8868\uff0c\u5bf9\u62a5\u6587\u8fdb\u884c\u6620\u5c04\u3002\u7528\u6237\u53ef\u4ee5\u914d\u7f6e\u7aef\u53e3\u4f18\u5148\u7ea7\uff0c\u901a\u8fc7\u4f18\u5148\u7ea7\u6620\u5c04\uff0c\u4f7f\u4e0d\u540c\u7aef\u53e3\u6536\u5230\u7684\u62a5\u6587\u8fdb\u5165\u5bf9\u5e94\u7684\u961f\u5217\uff0c\u4ee5\u6b64\u5b9e\u73b0\u5bf9\u4e0d\u540c\u7aef\u53e3\u6536\u5230\u62a5\u6587\u7684\u5dee\u5f02\u5316\u8c03\u5ea6\u3002</p> <p>\u63a5\u53e3\u914d\u7f6e PFC \u529f\u80fd\u65f6\uff0c\u5fc5\u987b\u914d\u7f6e\u63a5\u53e3\u4fe1\u4efb\u62a5\u6587\u81ea\u5e26\u7684 802.1p\u4f18\u5148\u7ea7\u6216DSCP \u4f18\u5148\u7ea7\u3002 \u63a5\u53e3\u6536\u5230\u4ee5\u592a\u7f51\u62a5\u6587\uff0c\u6839\u636e\u4f18\u5148\u7ea7\u4fe1\u4efb\u6a21\u5f0f\u548c\u62a5\u6587\u7684802.1Q\u6807\u7b7e\u72b6\u6001\uff0c \u8bbe\u5907\u4e3a\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u62a5\u6587\u6807\u8bb0\u4e0d\u540c\u7684\u672c\u5730\u4f18\u5148\u7ea7\uff08LP\uff09\uff0c\u6839\u636e\u672c\u5730\u4f18\u5148\u7ea7\u8fdb\u884c\u961f\u5217\u8c03\u5ea6\uff0c\u5177\u4f53\u8fc7\u7a0b\u5982\u56fe3\u6240\u793a\u3002  \u56fe3 \u62a5\u6587\u4f18\u5148\u7ea7\u4e0e\u961f\u5217\u6620\u5c04\u5173\u7cfb</p> <ol> <li>PFC \u95e8\u9650\u914d\u7f6e\uff1a \u901a\u8fc7\u914d\u7f6e PFC \u7f13\u5b58\u95e8\u9650\u53ef\u4ee5\u6709\u6548\u89e3\u51b3\u56e0\u7f13\u51b2\u7a7a\u95f4\u4e0d\u8db3\u548c\u5165\u6d41\u91cf\u961f\u5217\u6570\u91cf\u8fc7\u5927\uff0c \u5bfc\u81f4\u53d1\u9001\u6570\u636e\u7f13\u51b2\u533a\u5c3e\u4e22\u5f03\u7b49\u95ee\u9898\u3002 \u6211\u4eec\u5148\u6765\u4e86\u89e3\u4e00\u4e0b\u63a5\u53e3\u7684\u7f13\u51b2\u7a7a\u95f4\u8bbe\u7f6e\u3002\u63a5\u53e3\u7684\u7f13\u51b2\u7a7a\u95f4\u5206\u4e3a\u4ee5\u4e0b\u51e0\u79cd\uff1a</li> </ol> <p>Guaranteed\u5b58\u50a8\u7a7a\u95f4\uff1a \u56fa\u5b9a\u7f13\u51b2\u533a\uff0c\u4e3a\u6bcf\u4e00\u4e2a\u4f18\u5148\u7ea7\u961f\u5217\u548c\u7aef\u53e3\u63d0\u4f9b\u6700\u5c0f\u7684\u7f13\u5b58\u4fdd\u8bc1\u3002 \u7cfb\u7edf\u4f1a\u6839\u636e\u7528\u6237\u7684\u914d\u7f6e\u7ed9\u961f\u5217\u9884\u7559\u6307\u5b9a\u5927\u5c0f\u7684\u7a7a\u95f4\uff0c\u5373\u4fbf\u8be5\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5176\u4ed6\u961f\u5217\u4e5f\u4e0d\u80fd\u62a2\u5360\u3002\u7ed9\u961f\u5217\u9884\u7559\u7684\u7a7a\u95f4\u5747\u5206\u7ed9\u6bcf\u4e2a\u7aef\u53e3\u7684\uff0c\u5373\u4f7f\u67d0\u7aef\u53e3\u7684\u67d0\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5176\u4ed6\u7aef\u53e3\u4e5f\u4e0d\u80fd\u62a2\u5360\u3002</p> <p>Shared\u5b58\u50a8\u7a7a\u95f4\uff1a \u5171\u4eab\u7f13\u51b2\u533a\uff0c\u5f53\u7aef\u53e3\u6216\u4f18\u5148\u7ea7\u7684\u56fa\u5b9a\u7f13\u51b2\u533a\u4e0d\u591f\u7528\u65f6\uff0c \u4f7f\u7528 Shared \u5b58\u50a8\u7a7a\u95f4\uff0c\u7cfb\u7edf\u4f1a\u6839\u636e\u7528\u6237\u914d\u7f6e\u4ee5\u53ca\u5b9e\u9645\u9700\u8981\u6536\u53d1\u62a5\u6587\u7684\u6570\u91cf\u51b3\u5b9a\u6bcf\u4e2a\u961f\u5217\u5b9e\u9645\u53ef\u5360\u7528\u7684\u7f13\u51b2\u533a\u7684\u5927\u5c0f\u3002\u5982\u679c\u67d0\u4e2a\u961f\u5217\u6ca1\u6709\u62a5\u6587\u5b58\u50a8\u9700\u6c42\uff0c\u5219\u5176\u4ed6\u961f\u5217\u4f1a\u62a2\u5360\u8be5\u961f\u5217\u7684\u914d\u989d\u3002\u5bf9\u4e8e\u67d0\u4e2a\u961f\u5217\u7684\u7f13\u51b2\u533a\uff0c\u6240\u6709\u7aef\u53e3\u63a5\u6536\u6216\u53d1\u9001\u7684\u62a5\u6587\u91c7\u7528\u62a2\u5360\u7684\u65b9\u5f0f\uff0c\u5148\u5230\u5148\u5f97\uff0c\u5982\u679c\u8d44\u6e90\u8017\u5c3d\uff0c\u5219\u540e\u5230\u8fbe\u7684\u62a5\u6587\u5c06\u88ab\u4e22\u5f03\u3002</p> <p>Headroom\u5b58\u50a8\u7a7a\u95f4\uff1a Headroom \u7f13\u51b2\u533a\uff0c\u5f53\u7aef\u53e3PFC\u529f\u80fd\u751f\u6548\u5e76\u89e6\u53d1PFC\u53cd\u538b\u5e27\u95e8\u9650\u540e\uff0c\u672c\u7aef\u8bbe\u5907\u53d1\u9001PFC PAUSE\u5e27\u5230\u5bf9\u7aef\u8bbe\u5907\u8ba9\u5bf9\u7aef\u505c\u6b62\u6d41\u91cf\u53d1\u9001\u7684\u8fc7\u7a0b\u4e2d\uff0c\u5df2\u7ecf\u5728\u9014\u7684\u8fd9\u90e8\u5206\u6d41\u91cf\u7684\u7f13\u5b58\u7a7a\u95f4\uff0c\u8bbe\u5907\u9700\u8981\u8fd9\u4e9b\u7f13\u51b2\u7a7a\u95f4\u6765\u4fdd\u8bc1 PFC \u6d41\u7a0b\u7684\u4e0d\u4e22\u5305\u3002</p> <p>PFC \u76ee\u524d\u63d0\u4f9b\u4ee5\u4e0b\u95e8\u9650\u8bbe\u7f6e\uff1a</p> <p>Headroom \u7f13\u5b58\u95e8\u9650\uff1a Headroom \u5b58\u50a8\u7a7a\u95f4\u4e2d\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u7684\u6700\u5927\u4f7f\u7528cell\u8d44\u6e90\u3002\u5f53\u8fbe\u5230\u4f7f\u7528\u7684 cell \u8d44\u6e90\u540e\uff0c\u8be5\u63a5\u53e3\u4f1a\u4e22\u5f03\u6536\u5230\u7684\u62a5\u6587\u3002</p> <p>\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a Shared \u5b58\u50a8\u7a7a\u95f4\u4e2d\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u5728\u8be5\u5b58\u50a8\u7a7a\u95f4\u4f7f\u7528 cell \u8d44\u6e90\u4e0a\u9650\u3002\u8fbe\u5230\u4e0a\u9650\u540e\uff0c\u4f1a\u89e6\u53d1 PFC \u529f\u80fd\u53d1\u9001 PAUSE \u5e27\u3002 \u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\u53c8\u5206\u4e3a\u52a8\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\u548c\u9759\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a1\uff09\u52a8\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a\u8bbe\u7f6e\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u89e6\u53d1 PFC PAUSE \u5e27\u7684\u53ef\u7528 cell \u8d44\u6e90\u7684\u767e\u5206\u6bd4\u30022\uff09\u9759\u6001\u53cd\u538b\u5e27\u89e6\u53d1\u95e8\u9650\uff1a\u8bbe\u7f6e\u67d0 802.1p \u4f18\u5148\u7ea7\u62a5\u6587\u89e6\u53d1 PFC PAUSE \u5e27\u7684\u53ef\u7528 cell \u8d44\u6e90\u95e8\u9650\u4e3a\u4e00\u4e2a\u56fa\u5b9a\u503c\u3002</p> <p>\u53cd\u538b\u5e27\u505c\u6b62\u95e8\u9650\u4e0e\u89e6\u53d1\u95e8\u9650\u95f4\u7684\u504f\u79fb\u91cf\uff1a\u5f53\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u4f7f\u7528\u7684 cell \u8d44\u6e90\u51cf\u5c0f\u4e86\u4e00\u4e2a\u56fa\u5b9a\u503c\u65f6\uff0c \u505c\u6b62\u53d1\u9001 PFC PAUSE \u5e27\uff0c \u4f7f\u5bf9\u7aef\u8bbe\u5907\u6062\u590d\u6d41\u91cf\u53d1\u9001\u3002</p> <p>PFC\u9884\u7559\u95e8\u9650\uff1a Guaranteed\u5b58\u50a8\u7a7a\u95f4\u4e2d\u4e3a\u67d0 802.1p\u4f18\u5148\u7ea7\u62a5\u6587\u9884\u7559\u7684cell\u8d44\u6e90\u3002</p> <p>Headroom\u6700\u5927\u53ef\u7528\u7684 cell \u8d44\u6e90\uff1a\u914d\u7f6e\u67d0\u7f13\u5b58\u6c60\uff08pool\uff0c\u4ea7\u54c1\u5177\u4f53\u652f\u6301\u7684poolID\u4e0e\u4ea7\u54c1\u578b\u53f7\u6709\u5173\uff0c\u8bf7\u4ee5\u8bbe\u5907\u7684\u5b9e\u9645\u60c5\u51b5\u4e3a\u51c6\uff09 \u4e2d\uff0c\u5206\u914d\u7ed9Headroom\u5b58\u50a8\u7a7a\u95f4\u7684cell\u8d44\u6e90\u7684\u5927\u5c0f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#nic","title":"NIC\uff1a\u7f51\u7edc\u63a5\u53e3\u63a7\u5236\u5668","text":"<p>A\u00a0network interface controller\u00a0(NIC, also known as a\u00a0network interface card,network adapter,\u00a0LAN adapter\u00a0or\u00a0physical network interface,\u00a0and by similar terms) is a\u00a0computer hardware\u00a0component that connects a\u00a0computer\u00a0to a\u00a0computer network</p> <p>Early network interface controllers \uff1a were commonly implemented on\u00a0expansion cards\u00a0that plugged into a\u00a0computer bus. The low cost and ubiquity of the\u00a0Ethernet\u00a0standard means that most newer computers have a network interface built into the\u00a0motherboard, or is contained into a\u00a0USB-connected\u00a0dongle.</p> <p>Modern network interface controllers \uff1a offer advanced features such as\u00a0interrupt\u00a0and\u00a0DMAinterfaces to the host processors, support for multiple receive and transmit queues, partitioning into multiple logical interfaces, and on-controller network traffic processing such as the\u00a0TCP offload engine.</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#conclusion","title":"Conclusion","text":"<p>In this paper, we have presented our practices and experiences in deploying RoCEv2 safely at large-scale in Microsoft data centers. Our practices include the introducing of DSCP-based PFC which scales RoCEv2 from layer-2 VLAN to layer-3 IP and the step-by-step onboarding and deployment procedure. Our experiences include the discoveries and resolutions of the RDMA transport livelock, the RDMA deadlock, the NIC PFC storm and the slow-receiver symptom. With the RDMA management and monitoring in place, some of our highlyreliable, latency-sensitive services have been running RDMA for over one and half years</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5728 Microsoft \u6570\u636e\u4e2d\u5fc3\u5927\u89c4\u6a21\u5b89\u5168\u90e8\u7f72 RoCEv2 \u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u6211\u4eec\u7684\u5b9e\u8df5\u5305\u62ec\u5f15\u5165\u57fa\u4e8e DSCP \u7684 PFC\uff0c\u5c06 RoCEv2 \u4ece\u7b2c 2 \u5c42 VLAN \u6269\u5c55\u5230\u7b2c 3 \u5c42 IP\uff0c\u4ee5\u53ca\u9010\u6b65\u7684\u52a0\u5165\u548c\u90e8\u7f72\u8fc7\u7a0b\u3002\u6211\u4eec\u7684\u7ecf\u9a8c\u5305\u62ec\u53d1\u73b0\u5e76\u89e3\u51b3 RDMA \u4f20\u8f93\u6d3b\u9501\u3001RDMA \u6b7b\u9501\u3001NIC PFC \u98ce\u66b4\u548c\u7f13\u6162\u63a5\u6536\u5668\u75c7\u72b6\u3002\u968f\u7740 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u5230\u4f4d\uff0c\u6211\u4eec\u7684\u4e00\u4e9b\u9ad8\u5ea6\u53ef\u9760\u3001\u5ef6\u8fdf\u654f\u611f\u7684\u670d\u52a1\u5df2\u7ecf\u8fd0\u884c RDMA \u8d85\u8fc7\u4e00\u5e74\u534a\u4e86</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#layer-2-vlan-layer-3-ip","title":"Layer-2 VLAN &amp; Layer-3 IP","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#_1","title":"\u80cc\u666f\u5f15\u5165","text":"<p>RDMA \u5141\u8bb8\u7528\u6237\u6001\u7684\u5e94\u7528\u7a0b\u5e8f\u76f4\u63a5\u8bfb\u53d6\u548c\u5199\u5165\u8fdc\u7a0b\u5185\u5b58\uff0c\u907f\u514d\u4e86\u6570\u636e\u62f7\u8d1d\u548c\u4e0a\u4e0b\u6587\u5207\u6362\uff1b\u5e76\u5c06\u7f51\u7edc\u534f\u8bae\u6808\u4ece\u8f6f\u4ef6\u5b9e\u73b0 offload \u5230\u7f51\u5361\u786c\u4ef6\uff0c\u5b9e\u73b0\u4e86\u9ad8\u541e\u5410\u91cf\u3001\u8d85\u4f4e\u65f6\u5ef6\u548c\u4f4e CPU \u5f00\u9500\u7684\u6548\u679c\u3002</p> <p>\u5f53\u524d RDMA \u5728\u4ee5\u592a\u7f51\u4e0a\u7684\u4f20\u8f93\u534f\u8bae\u662f RoCEv2\uff0c==RoCEv2 \u662f\u57fa\u4e8e\u65e0\u8fde\u63a5\u534f\u8bae\u7684 UDP \u534f\u8bae==\uff0c\u76f8\u6bd4\u9762\u5411\u8fde\u63a5\u7684 TCP \u534f\u8bae\uff0cUDP \u534f\u8bae\u66f4\u52a0\u5feb\u901f\u3001\u5360\u7528 CPU \u8d44\u6e90\u66f4\u5c11\uff0c\u4f46\u5176\u4f20\u8f93\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u4e00\u65e6\u51fa\u73b0\u4e22\u5305\u4f1a\u5bfc\u81f4 RDMA \u7684\u4f20\u8f93\u6548\u7387\u964d\u4f4e\uff0c\u8fd9\u662f\u7531 RDMA \u7684 Go-back-N \u91cd\u4f20\u673a\u5236\u51b3\u5b9a\u7684\u3002RDMA \u63a5\u6536\u65b9\u7f51\u5361\u53d1\u73b0\u4e22\u5305\u65f6\uff0c\u4f1a\u4e22\u5f03\u540e\u7eed\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\uff0c\u53d1\u9001\u65b9\u9700\u8981\u91cd\u53d1\u4e4b\u540e\u7684\u6240\u6709\u6570\u636e\u5305\uff0c\u8fd9\u5bfc\u81f4\u6027\u80fd\u5927\u5e45\u4e0b\u964d\u3002\u6240\u4ee5\u8981\u60f3 RDMA \u53d1\u6325\u51fa\u5176\u6027\u80fd\uff0c\u9700\u8981\u4e3a\u5176\u642d\u5efa\u4e00\u5957\u4e0d\u4e22\u5305\u7684\u65e0\u635f\u7f51\u7edc\u73af\u5883</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#_2","title":"\u5dee\u5f02\u5316\u6d41\u91cf\u5206\u7c7b","text":"<p>\u6784\u5efa\u65e0\u635f\u7f51\u7edc\uff0c\u9996\u5148\u9700\u8981\u5bf9\u7f51\u7edc\u6d41\u91cf\u8fdb\u884c\u5206\u7c7b\uff0c\u7136\u540e\u9488\u5bf9\u4e0d\u540c\u7c7b\u522b\u6d41\u91cf\u91c7\u7528\u5177\u4f53\u6d41\u63a7\u7b56\u7565\uff0c\u5b9e\u73b0\u7cbe\u786e\u63a7\u5236\uff0c\u907f\u514d\u76f8\u4e92\u5f71\u54cd\u3002</p> <p>\u6d41\u91cf\u5206\u7c7b\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u5206\u7c7b\u65b9\u6cd5\uff1a\u4f20\u8f93\u5c42\uff08Layer 2\uff09\u548c\u7f51\u7edc\u5c42\uff08Layer 3\uff09\u3002</p> <p>\u30101\u3011Layer2 \u901a\u8fc7 vlan header\uff08802.1q\uff09\u91cc\u7684 PCP\uff08802.1p\uff09\u4f4d\u8fdb\u884c\u5206\u7c7b\uff0c\u5bf9\u5e94 CoS\uff08Class of Service\uff09 \u30102\u3011Layer3 \u901a\u8fc7 IP header \u91cc\u7684 DSCP \u8fdb\u884c\u5206\u7c7b\uff0c\u5bf9\u5e94 DSCP</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#layer-2","title":"Layer 2 \u6d41\u91cf\u5206\u7c7b","text":"<p>Layer2 \u5c42\u6d41\u91cf\u5206\u7c7b\u4f9d\u636e\u7684==\u662f vlan tag \u4e2d\u7684 3 \u4f4d PCP bit==\uff0c\u603b\u5171\u6709 8 \u4e2a\u7c7b\u522b\u30023 \u4e2a bit \u662f Header \u4e2d\u7b2c 3 \u4e2a byte \u7684\u524d\u4e09\u4f4d\uff0c\u5982\u4e0b\u56fe\u3002\u5728\u4f7f\u7528 Layer 2 \u6d41\u91cf\u5206\u7c7b\u65f6\uff0c\u4e3b\u673a\u7aef\u53d1\u51fa\u7684\u5305\u9700\u8981\u5e26\u6709 vlan tag\u3002\u56e0\u6b64\u8981\u5bf9\u7f51\u5361\u914d\u7f6e vlan\uff0c\u5e76\u4e14\u8bbe\u7f6e\u4f18\u5148\u7ea7\u3002\u56e0\u4e3a L2 \u5c42 PFC \u9700\u8981\u4f9d\u9760 vlan\uff0c\u56e0\u6b64\u5305\u7ecf\u8fc7\u4e09\u5c42\u4ea4\u6362\u673a\u65f6\u53ef\u80fd\u5b58\u5728 tag \u5931\u6548\u7b49\u95ee\u9898\u3002</p> <p></p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#layer-3","title":"Layer 3 \u6d41\u91cf\u5206\u7c7b","text":"<p>Layer3 \u4f7f==\u7528 IP \u5305\u5934\u4e2d\u7684 TOS \u524d 6 \u4f4d\uff08DSCP\uff09==\uff0c\u652f\u6301 64 \u79cd\u4e0d\u540c\u7684\u6d41\u91cf\u5206\u7c7b\u65b9\u5f0f\uff0cTOS \u7684\u540e\u4e24\u4f4d\u7528\u4f5c Explicit Congestion Notification\uff08ECN\uff09Field\uff0c ECN \u662f\u4e00\u79cd\u7aef\u5230\u7aef\u7684\u6d41\u63a7\u65b9\u5f0f\uff0c\u540e\u9762\u4f1a\u6709\u4ecb\u7ecd\u3002</p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#layer2-layer3","title":"\u9009\u62e9 Layer2 \u8fd8\u662f Layer3 \u5c42\u6d41\u63a7","text":"<p>\u5728\u4ea4\u6362\u673a\u652f\u6301 DSCP \u7684\u6761\u4ef6\u4e0b\uff0c\u5efa\u8bae\u4f7f\u7528 L3 \u5c42\u7684\u6d41\u63a7\u65b9\u5f0f\u3002\u4ece\u524d\u9762\u7684\u4ecb\u7ecd\u53ef\u4ee5\u770b\u5230\uff0cL3 \u5c42\u7684\u63a7\u5236\u65b9\u5f0f\u53ef\u8de8\u591a\u5c42\u4ea4\u6362\u673a\uff0cDSCP \u503c\u5728\u7aef\u5230\u7aef\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002RoCE \u4f7f\u7528 UDP \u62a5\u6587\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u5efa\u8bae RoCE \u7684\u6d41\u63a7\u4f7f\u7528\u57fa\u4e8e DSCP \u7684\u65b9\u5f0f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#dscp-pcp-pfc","title":"\u6784\u5efa\u65e0\u635f\u7f51\u7edc\u2014\u57fa\u4e8e DSCP \u6216 PCP \u7684 PFC \u6d41\u63a7\u673a\u5236","text":"<p>IEEE 802.1Qbb==\uff08Priority-based Flow Control\uff0c\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff09\u7b80\u79f0 PFC==\uff0c\u662f IEEE \u6570\u636e\u4e2d\u5fc3\u6865\u63a5\uff08Data Center Bridge\uff09\u534f\u8bae\u65cf\u4e2d\u7684\u4e00\u4e2a\u6280\u672f\uff0c\u662f\u6d41\u91cf\u63a7\u5236\u7684\u589e\u5f3a\u7248\u3002</p> <p>\u6211\u4eec\u5148\u770b\u4e00\u4e0b IEEE 802.3X\uff08Flow Control\uff09\u6d41\u63a7\u7684\u673a\u5236\uff1a\u5f53\u63a5\u6536\u8005\u6ca1\u6709\u80fd\u529b\u5904\u7406\u63a5\u6536\u5230\u7684\u62a5\u6587\u65f6\uff0c\u4e3a\u4e86\u9632\u6b62\u62a5\u6587\u88ab\u4e22\u5f03\uff0c\u63a5\u6536\u8005\u9700\u8981\u901a\u77e5\u62a5\u6587\u7684\u53d1\u9001\u8005\u6682\u65f6\u505c\u6b62\u53d1\u9001\u3002IEEE 802.3X \u534f\u8bae\u5b58\u5728\u4e00\u4e2a\u7f3a\u70b9\uff1a\u4e00\u65e6\u94fe\u8def\u88ab\u6682\u505c\uff0c\u53d1\u9001\u65b9\u5c31\u4e0d\u80fd\u518d\u53d1\u9001\u4efb\u4f55\u6570\u636e\u5305\uff0c\u5982\u679c\u662f\u56e0\u4e3a\u67d0\u4e9b\u4f18\u5148\u7ea7\u8f83\u4f4e\u7684\u6570\u636e\u6d41\u5f15\u53d1\u7684\u6682\u505c\uff0c\u7ed3\u679c\u5374\u8ba9\u8be5\u94fe\u8def\u4e0a\u5176\u4ed6\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u6570\u636e\u6d41\u4e5f\u4e00\u8d77\u88ab\u6682\u505c\u4e86\uff0c\u8fd9\u662f\u5f97\u4e0d\u507f\u5931\u7684\u3002</p> <p>PFC \u5728\u57fa\u7840\u6d41\u63a7 IEEE 802.3X \u57fa\u7840\u4e0a\u8fdb\u884c\u6269\u5c55\uff0c\u30101\u3011\u5141\u8bb8\u5728\u4e00\u6761\u4ee5\u592a\u7f51\u94fe\u8def\u4e0a\u521b\u5efa 8 \u4e2a\u865a\u62df\u901a\u9053\uff0c\u5e76\u4e3a\u6bcf\u6761\u865a\u62df\u901a\u9053\u6307\u5b9a\u76f8\u5e94\u4f18\u5148\u7ea7\uff0c\u30102\u3011\u5141\u8bb8\u5355\u72ec\u6682\u505c\u548c\u91cd\u542f\u5176\u4e2d\u4efb\u610f\u4e00\u6761\u865a\u62df\u901a\u9053\uff0c\u540c\u65f6\u5141\u8bb8\u5176\u5b83\u865a\u62df\u901a\u9053\u7684\u6d41\u91cf\u65e0\u4e2d\u65ad\u901a\u8fc7\u3002\u30103\u3011PFC \u5c06\u6d41\u63a7\u7684\u7c92\u5ea6\u4ece\u7269\u7406\u7aef\u53e3\u7ec6\u5316\u52308\u4e2a\u865a\u62df\u901a\u9053\uff0c\u5206\u522b\u5bf9\u5e94 Smart NIC \u786c\u4ef6\u4e0a\u7684 8 \u4e2a\u786c\u4ef6\u53d1\u9001\u961f\u5217\uff0c\u5982\u4e0b\u56fe\u3002</p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/#_3","title":"\u5bf9\u6bd4\u4e8c\u5c42\u4e0e\u4e09\u5c42\u6d41\u63a7","text":"<p>\u5728\u4e8c\u5c42\u7f51\u7edc\u4e2d\uff0cPFC \u4f7f\u7528 vlan \u4e2d\u7684 PCP \u4f4d\u6765\u5bf9\u6570\u636e\u6d41\u8fdb\u884c\u533a\u5206\uff1b\u5728\u4e09\u5c42\u7f51\u7edc\u4e2d\uff0cPFC \u65e2\u53ef\u4ee5\u4f7f\u7528 PCP\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 DSCP\uff0c\u4f7f\u5f97\u4e0d\u540c\u6570\u636e\u6d41\u53ef\u4ee5\u4eab\u53d7\u5230\u72ec\u7acb\u7684\u6d41\u63a7\u5236\u3002</p> <p>\u5f53\u4e0b\u6570\u636e\u4e2d\u5fc3\u56e0\u591a\u91c7\u7528\u4e09\u5c42\u7f51\u7edc\uff0c\u4e14 DSCP \u503c\u5728\u7aef\u5230\u7aef\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u6545\u63a8\u8350\u4f7f\u7528 DSCP\u3002</p> <p>RDMA \u65e0\u635f\u7f51\u7edc\u4e2d\u5229\u7528 PFC \u6d41\u63a7\u673a\u5236\uff0c\u5b9e\u73b0\u4e86\u4ea4\u6362\u673a\u7aef\u53e3\u7f13\u5b58\u6ea2\u51fa\u524d\u6682\u505c\u5bf9\u7aef\u6d41\u91cf\uff0c\u963b\u6b62\u4e86\u4e22\u5305\u73b0\u8c61\u53d1\u751f\uff0c\u4f46\u56e0\u4e3a\u9700\u8981\u4e00\u7ea7\u4e00\u7ea7\u53cd\u538b\uff0c\u6548\u7387\u8f83\u4f4e\uff0c\u800c\u4e14\u5b58\u5728\u4e0d\u516c\u5e73\u95ee\u9898\u548c Head-of-Line \u5835\u585e\u95ee\u9898\u3002\u6b64\u5916\uff0cPFC \u662f\u901a\u8fc7\u4e0b\u6e38\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u6e38\u8bbe\u5907\u7684\u63a7\u5236\u65b9\u5f0f\u8fbe\u5230\u4e0d\u4e22\u5305\u7684\u76ee\u7684\uff0c\u4f46==\u6700\u6709\u6548\u7684\u6d41\u63a7\u5e94\u8be5\u662f\u63a7\u5236\u4ea7\u751f\u6570\u636e\u7684\u6e90\u7aef\u4e3b\u673a\u7684\u53d1\u9001\u901f\u5ea6\uff0c\u4f7f\u5f97\u4e3b\u673a\u5f80\u7f51\u7edc\u4e2d\u6ce8\u5165\u6570\u636e\u901f\u5ea6\u653e\u7f13\uff0c\u8fd9\u662f\u89e3\u51b3\u95ee\u9898\u7684\u6839\u672c\u65b9\u6cd5\u3002==</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/","title":"RDMA over Commodity Ethernet at Scale(Background)","text":"<p>Our data center network is an Ethernet-based multilayer Clos network [1, 3, 19, 31] as shown in Figure 1. Twenty to forty servers connect to a top-of-rack (ToR) switch. Tens of ToRs connect to a layer of Leaf switches. The Leaf switches in turn connect to a layer of tens to hundreds of Spine switches. Most links are 40Gb/s, and we plan to upgrade to 50GbE and 100GbE in near future [11, 25]. All switches use IP routing. The servers typically use copper cables of around 2 meters to connect to the ToR switches. The ToR switches and Leaf switches are within the distance of 10 Figure 2: How PFC works. - 20 meters, and the Leaf and Spine switches are within the distance of 200 - 300 meters. With three layers of switches, tens to hundreds of thousands of servers can be connected in a single data center. In this paper, we focus on supporting RDMA among servers under the same Spine switch layer. RoCEv2: We deployed RDMA over Converged Ethernet v2 (RoCEv2) [5] for both technical and economical reasons. RoCEv2 encapsulates an RDMA transport [5] packet within an Ethernet/IPv4/UDP packet. This makes RoCEv2 compatible with our existing networking infrastructure. The UDP header is needed for ECMP-based [34] multi-path routing. The destination UDP port is always set to 4791, while the source UDP port is randomly chosen for each queue pair (QP) [5]. The intermediate switches use standard five-tuple hashing. Thus, traffic belonging to the same QP follows the same path, while traffic on different QPs (even between the same pair of communicating end points) can follow different paths. PFC and buffer reservation: RoCEv2 uses PFC [14] to prevent buffer overflow. The PFC standard specifies 8 priority classes to reduce the head-of-line blocking problem. However, in our network, we are able to use only two of these eight priorities for RDMA. The reason is as follows. PFC is a hop-by-hop protocol between two Ethernet nodes. As show in Figure 2, the sender\u2019s egress port sends data packets to the receiver\u2019s ingress port. At the sending egress port, packets are queued in up to eight queues. Each queue maps to a priority. At the receiving ingress port, packets are buffered in corresponding ingress queues. In the shared-buffer switches used in our network, an ingress queue is implemented simply as a counter \u2013 all packets share a common buffer pool. Once the ingress queue length reaches a certain threshold (XOFF), the switch sends out a PFC pause frame to the corresponding upstream egress queue. After the egress queue receives the pause frame, it stops sending packets. A pause frame carries which priorities need to be paused and the pause duration. Once the ingress queue length falls below another threshold (XON), the switch sends a pause with zero duration to resume transmission. XOFF must be set conservatively to ensure that there is no buffer overflow, while XON needs be set to ensure that there is no buffer underflow. It takes some time for the pause frame to arrive at the upstream egress port, and for the switch to react to it. During this time, the upstream port will continue to transmit packets. Thus, the ingress port must reserve buffer space for each priority to absorb packets that arrive during this \u201cgray period\u201d. This reserved buffer is called headroom. The size of the headroom is decided by the MTU size, the PFC reaction time of the egress port, and most importantly, the propagation delay between the sender and the receiver. The propagation delay is determined by the distance between the sender and the receiver. In our network, this can be as large as 300 meters. Given that our ToR and Leaf switches have shallow buffers (9MB or 12MB), we can only reserve enough headroom for two lossless traffic classes even though the switches support eight traffic classes. We use one lossless class for real-time traffic and the other for bulk data transfer. Need for congestion control: PFC works hop by hop. There may be several hops from the source server to the destination server. PFC pause frames propagate from the congestion point back to the source if there is persistent network congestion. This can cause problems like unfairness and victim flow [42]. In order to reduce this collateral damage, flow based congestion control mechanisms including QCN [13], DCQCN [42] and TIMELY [27] have been introduced. We use DCQCN, which uses ECN for congestion notification, in our network. We chose DCQCN because it directly reacts to the queue lengths at the intermediate switches and ECN is well supported by all the switches we use. Small queue lengths reduce the PFC generation and propagation probability. Though DCQCN helps reduce the number of PFC pause frames, it is PFC that protects packets from being dropped as the last defense. PFC poses several safety issues which are the primary focus of this paper and which we will discuss in Section 4. We believe the lessons we have learned in this paper apply to the networks using TIMELY as well. Coexistence of RDMA and TCP: In this paper, RDMA is designed for intra-DC communications. TCP is still needed for inter-DC communications and legacy applications. We use a different traffic class (which is not lossless), with reserved bandwidth, for TCP. Different traffic classes isolate TCP and RDMA traffic from each other.</p> <p>\u6211\u4eec\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u662f\u57fa\u4e8e\u4ee5\u592a\u7f51\u7684\u591a\u5c42 Clos \u7f51\u7edc [1,3,19,31]\uff0c\u5982\u56fe 1 \u6240\u793a\u3002\u4e8c\u5341\u5230\u56db\u5341\u53f0\u670d\u52a1\u5668\u8fde\u63a5\u5230\u67b6\u9876\u5f0f (ToR) \u4ea4\u6362\u673a\u3002\u6570\u5341\u4e2a ToR \u8fde\u63a5\u5230\u4e00\u5c42 Leaf \u4ea4\u6362\u673a\u3002\u53f6\u5b50\u4ea4\u6362\u673a\u53c8\u8fde\u63a5\u5230\u6570\u5341\u5230\u6570\u767e\u4e2a\u4e3b\u5e72\u4ea4\u6362\u673a\u7684\u5c42\u3002\u5927\u591a\u6570\u94fe\u8def\u4e3a 40Gb/s\uff0c\u6211\u4eec\u8ba1\u5212\u5728\u4e0d\u4e45\u7684\u5c06\u6765\u5347\u7ea7\u5230 50GbE \u548c 100GbE [11, 25]\u3002\u6240\u6709\u4ea4\u6362\u673a\u90fd\u4f7f\u7528 IP \u8def\u7531\u3002\u670d\u52a1\u5668\u901a\u5e38\u4f7f\u7528\u7ea6 2 \u7c73\u7684\u94dc\u7f06\u8fde\u63a5\u5230 ToR \u4ea4\u6362\u673a\u3002 ToR \u4ea4\u6362\u673a\u548c Leaf \u4ea4\u6362\u673a\u7684\u8ddd\u79bb\u5728 10 \u4ee5\u5185\u3002 \u56fe 2\uff1aPFC \u7684\u5de5\u4f5c\u539f\u7406\u3002 - 20\u7c73\uff0cLeaf\u548cSpine\u4ea4\u6362\u673a\u7684\u8ddd\u79bb\u5728200-300\u7c73\u4ee5\u5185\u3002\u901a\u8fc7\u4e09\u5c42\u4ea4\u6362\u673a\uff0c\u5355\u4e2a\u6570\u636e\u4e2d\u5fc3\u53ef\u4ee5\u8fde\u63a5\u6570\u4e07\u5230\u6570\u5341\u4e07\u53f0\u670d\u52a1\u5668\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u91cd\u70b9\u5173\u6ce8\u540c\u4e00 Spine \u4ea4\u6362\u673a\u5c42\u4e0b\u670d\u52a1\u5668\u4e4b\u95f4\u7684 RDMA \u652f\u6301\u3002 RoCEv2\uff1a\u51fa\u4e8e\u6280\u672f\u548c\u7ecf\u6d4e\u539f\u56e0\uff0c\u6211\u4eec\u90e8\u7f72\u4e86\u57fa\u4e8e\u878d\u5408\u4ee5\u592a\u7f51 v2 \u7684 RDMA (RoCEv2) [5]\u3002 RoCEv2 \u5c06 RDMA \u4f20\u8f93 [5] \u6570\u636e\u5305\u5c01\u88c5\u5728\u4ee5\u592a\u7f51/IPv4/UDP \u6570\u636e\u5305\u4e2d\u3002\u8fd9\u4f7f\u5f97 RoCEv2 \u4e0e\u6211\u4eec\u73b0\u6709\u7684\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u517c\u5bb9\u3002\u57fa\u4e8e ECMP \u7684 [34] \u591a\u8def\u5f84\u8def\u7531\u9700\u8981 UDP \u6807\u5934\u3002\u76ee\u6807 UDP \u7aef\u53e3\u59cb\u7ec8\u8bbe\u7f6e\u4e3a 4791\uff0c\u800c\u6e90 UDP \u7aef\u53e3\u662f\u4e3a\u6bcf\u4e2a\u961f\u5217\u5bf9 (QP) [5] \u968f\u673a\u9009\u62e9\u7684\u3002\u4e2d\u95f4\u4ea4\u6362\u673a\u4f7f\u7528\u6807\u51c6\u4e94\u5143\u7ec4\u54c8\u5e0c\u3002\u56e0\u6b64\uff0c\u5c5e\u4e8e\u540c\u4e00 QP \u7684\u6d41\u91cf\u9075\u5faa\u76f8\u540c\u7684\u8def\u5f84\uff0c\u800c\u4e0d\u540c QP \u4e0a\u7684\u6d41\u91cf\uff08\u751a\u81f3\u5728\u540c\u4e00\u5bf9\u901a\u4fe1\u7aef\u70b9\u4e4b\u95f4\uff09\u53ef\u4ee5\u9075\u5faa\u4e0d\u540c\u7684\u8def\u5f84\u3002 PFC \u548c\u7f13\u51b2\u533a\u9884\u7559\uff1aRoCEv2 \u4f7f\u7528 PFC [14] \u6765\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u3002 PFC \u6807\u51c6\u6307\u5b9a\u4e86 8 \u4e2a\u4f18\u5148\u7ea7\u6765\u51cf\u5c11\u961f\u5934\u963b\u585e\u95ee\u9898\u3002\u7136\u800c\uff0c\u5728\u6211\u4eec\u7684\u7f51\u7edc\u4e2d\uff0c\u6211\u4eec\u53ea\u80fd\u5c06\u8fd9\u516b\u4e2a\u4f18\u5148\u7ea7\u4e2d\u7684\u4e24\u4e2a\u7528\u4e8e RDMA\u3002\u7406\u7531\u5982\u4e0b\u3002 PFC \u662f\u4e24\u4e2a\u4ee5\u592a\u7f51\u8282\u70b9\u4e4b\u95f4\u7684\u9010\u8df3\u534f\u8bae\u3002\u5982\u56fe2\u6240\u793a\uff0c\u53d1\u9001\u65b9\u7684\u51fa\u7aef\u53e3\u5c06\u6570\u636e\u5305\u53d1\u9001\u5230\u63a5\u6536\u65b9\u7684\u5165\u7aef\u53e3\u3002\u5728\u53d1\u9001\u51fa\u53e3\u7aef\u53e3\uff0c\u6570\u636e\u5305\u5728\u6700\u591a\u516b\u4e2a\u961f\u5217\u4e2d\u6392\u961f\u3002\u6bcf\u4e2a\u961f\u5217\u90fd\u6620\u5c04\u5230\u4e00\u4e2a\u4f18\u5148\u7ea7\u3002\u5728\u63a5\u6536\u5165\u53e3\u7aef\u53e3\uff0c\u6570\u636e\u5305\u88ab\u7f13\u5b58\u5728\u76f8\u5e94\u7684\u5165\u53e3\u961f\u5217\u4e2d\u3002\u5728\u6211\u4eec\u7f51\u7edc\u4e2d\u4f7f\u7528\u7684\u5171\u4eab\u7f13\u51b2\u533a\u4ea4\u6362\u673a\u4e2d\uff0c\u5165\u53e3\u961f\u5217\u53ea\u662f\u4f5c\u4e3a\u8ba1\u6570\u5668\u5b9e\u73b0\u7684 - \u6240\u6709\u6570\u636e\u5305\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u7f13\u51b2\u6c60\u3002\u4e00\u65e6\u5165\u53e3\u961f\u5217\u957f\u5ea6\u8fbe\u5230\u67d0\u4e2a\u9608\u503c\uff08XOFF\uff09\uff0c\u4ea4\u6362\u673a\u5c31\u4f1a\u5411\u76f8\u5e94\u7684\u4e0a\u6e38\u51fa\u53e3\u961f\u5217\u53d1\u9001 PFC \u6682\u505c\u5e27\u3002\u51fa\u53e3\u961f\u5217\u6536\u5230\u6682\u505c\u5e27\u540e\uff0c\u505c\u6b62\u53d1\u9001\u62a5\u6587\u3002\u6682\u505c\u5e27\u643a\u5e26\u9700\u8981\u6682\u505c\u54ea\u4e9b\u4f18\u5148\u7ea7\u4ee5\u53ca\u6682\u505c\u65f6\u957f\u3002\u4e00\u65e6\u5165\u53e3\u961f\u5217\u957f\u5ea6\u4f4e\u4e8e\u53e6\u4e00\u4e2a\u9608\u503c (XON)\uff0c\u4ea4\u6362\u673a\u5c31\u4f1a\u53d1\u9001\u6301\u7eed\u65f6\u95f4\u4e3a\u96f6\u7684\u6682\u505c\u6765\u6062\u590d\u4f20\u8f93\u3002 XOFF \u5fc5\u987b\u4fdd\u5b88\u8bbe\u7f6e\uff0c\u4ee5\u786e\u4fdd\u4e0d\u53d1\u751f\u7f13\u51b2\u533a\u6ea2\u51fa\uff0c\u800c XON \u5219\u9700\u8981\u8bbe\u7f6e\u4ee5\u786e\u4fdd\u4e0d\u53d1\u751f\u7f13\u51b2\u533a\u4e0b\u6ea2\u3002\u6682\u505c\u5e27\u5230\u8fbe\u4e0a\u6e38\u51fa\u53e3\u7aef\u53e3\u4ee5\u53ca\u4ea4\u6362\u673a\u5bf9\u5176\u505a\u51fa\u53cd\u5e94\u9700\u8981\u4e00\u4e9b\u65f6\u95f4\u3002\u5728\u6b64\u671f\u95f4\uff0c\u4e0a\u6e38\u7aef\u53e3\u5c06\u7ee7\u7eed\u4f20\u8f93\u6570\u636e\u5305\u3002\u56e0\u6b64\uff0c\u5165\u53e3\u7aef\u53e3\u5fc5\u987b\u4e3a\u6bcf\u4e2a\u4f18\u5148\u7ea7\u9884\u7559\u7f13\u51b2\u7a7a\u95f4\uff0c\u4ee5\u5438\u6536\u5728\u6b64\u201c\u7070\u8272\u65f6\u671f\u201d\u5230\u8fbe\u7684\u6570\u636e\u5305\u3002\u8fd9\u4e2a\u4fdd\u7559\u7684\u7f13\u51b2\u533a\u79f0\u4e3a\u51c0\u7a7a\u3002\u51c0\u7a7a\u5927\u5c0f\u7531 MTU \u5927\u5c0f\u3001\u51fa\u53e3\u7aef\u53e3\u7684 PFC \u53cd\u5e94\u65f6\u95f4\u4ee5\u53ca\u6700\u91cd\u8981\u7684\u53d1\u9001\u5668\u548c\u63a5\u6536\u5668\u4e4b\u95f4\u7684\u4f20\u64ad\u5ef6\u8fdf\u51b3\u5b9a\u3002\u4f20\u64ad\u5ef6\u8fdf\u7531\u53d1\u9001\u5668\u548c\u63a5\u6536\u5668\u4e4b\u95f4\u7684\u8ddd\u79bb\u51b3\u5b9a\u3002\u5728\u6211\u4eec\u7684\u7f51\u7edc\u4e2d\uff0c\u957f\u5ea6\u53ef\u8fbe 300 \u7c73\u3002\u9274\u4e8e\u6211\u4eec\u7684 ToR \u548c Leaf \u4ea4\u6362\u673a\u5177\u6709\u6d45\u7f13\u51b2\u533a\uff089MB \u6216 12MB\uff09\uff0c\u5373\u4f7f\u4ea4\u6362\u673a\u652f\u6301\u516b\u4e2a\u6d41\u91cf\u7c7b\u522b\uff0c\u6211\u4eec\u4e5f\u53ea\u80fd\u4e3a\u4e24\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u8db3\u591f\u7684\u7a7a\u95f4\u3002\u6211\u4eec\u5c06\u4e00\u79cd\u65e0\u635f\u7c7b\u522b\u7528\u4e8e\u5b9e\u65f6\u6d41\u91cf\uff0c\u53e6\u4e00\u79cd\u7528\u4e8e\u6279\u91cf\u6570\u636e\u4f20\u8f93\u3002\u62e5\u585e\u63a7\u5236\u7684\u9700\u8981\uff1aPFC\u9010\u8df3\u5de5\u4f5c\u3002\u4ece\u6e90\u670d\u52a1\u5668\u5230\u76ee\u6807\u670d\u52a1\u5668\u53ef\u80fd\u6709\u591a\u4e2a\u8dc3\u70b9\u3002\u5982\u679c\u5b58\u5728\u6301\u7eed\u7684\u7f51\u7edc\u62e5\u585e\uff0cPFC \u6682\u505c\u5e27\u4f1a\u4ece\u62e5\u585e\u70b9\u4f20\u64ad\u56de\u6e90\u3002\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u4e0d\u516c\u5e73\u548c\u53d7\u5bb3\u8005\u6d41\u7b49\u95ee\u9898[42]\u3002\u4e3a\u4e86\u51cf\u5c11\u8fd9\u79cd\u9644\u5e26\u635f\u5bb3\uff0c\u5f15\u5165\u4e86\u57fa\u4e8e\u6d41\u7684\u62e5\u585e\u63a7\u5236\u673a\u5236\uff0c\u5305\u62ec QCN [13]\u3001DCQCN [42] \u548c TIMELY [27]\u3002\u6211\u4eec\u5728\u7f51\u7edc\u4e2d\u4f7f\u7528 DCQCN\uff0c\u5b83\u4f7f\u7528 ECN \u8fdb\u884c\u62e5\u585e\u901a\u77e5\u3002\u6211\u4eec\u9009\u62e9 DCQCN \u662f\u56e0\u4e3a\u5b83\u76f4\u63a5\u5bf9\u4e2d\u95f4\u4ea4\u6362\u673a\u7684\u961f\u5217\u957f\u5ea6\u505a\u51fa\u53cd\u5e94\uff0c\u5e76\u4e14\u6211\u4eec\u4f7f\u7528\u7684\u6240\u6709\u4ea4\u6362\u673a\u90fd\u5f88\u597d\u5730\u652f\u6301 ECN\u3002\u8f83\u5c0f\u7684\u961f\u5217\u957f\u5ea6\u4f1a\u964d\u4f4e PFC \u7684\u751f\u6210\u548c\u4f20\u64ad\u6982\u7387\u3002\u867d\u7136 DCQCN \u6709\u52a9\u4e8e\u51cf\u5c11 PFC \u6682\u505c\u5e27\u7684\u6570\u91cf\uff0c\u4f46 PFC \u662f\u4fdd\u62a4\u6570\u636e\u5305\u4e0d\u88ab\u4e22\u5f03\u7684\u6700\u540e\u4e00\u9053\u9632\u7ebf\u3002 PFC \u63d0\u51fa\u4e86\u51e0\u4e2a\u5b89\u5168\u95ee\u9898\uff0c\u8fd9\u4e9b\u95ee\u9898\u662f\u672c\u6587\u7684\u4e3b\u8981\u7126\u70b9\uff0c\u6211\u4eec\u5c06\u5728\u7b2c 4 \u8282\u4e2d\u8ba8\u8bba\u8fd9\u4e9b\u95ee\u9898\u3002\u6211\u4eec\u76f8\u4fe1\uff0c\u6211\u4eec\u5728\u672c\u6587\u4e2d\u5b66\u5230\u7684\u7ecf\u9a8c\u6559\u8bad\u4e5f\u9002\u7528\u4e8e\u4f7f\u7528 TIMELY \u7684\u7f51\u7edc\u3002 RDMA\u548cTCP\u7684\u5171\u5b58\uff1a\u5728\u672c\u6587\u4e2d\uff0cRDMA\u662f\u4e3aDC\u5185\u901a\u4fe1\u800c\u8bbe\u8ba1\u7684\u3002 DC \u95f4\u901a\u4fe1\u548c\u9057\u7559\u5e94\u7528\u7a0b\u5e8f\u4ecd\u7136\u9700\u8981 TCP\u3002\u6211\u4eec\u5bf9 TCP \u4f7f\u7528\u4e0d\u540c\u7684\u6d41\u91cf\u7c7b\u522b\uff08\u975e\u65e0\u635f\uff09\u5e76\u4fdd\u7559\u5e26\u5bbd\u3002\u4e0d\u540c\u7684\u6d41\u91cf\u7c7b\u522b\u5c06 TCP \u548c RDMA \u6d41\u91cf\u76f8\u4e92\u9694\u79bb\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#ethernet-packet","title":"Ethernet packet","text":"<p>\u8ba1\u7b97\u673a\u7f51\u7edc\u5728\u4f20\u8f93\u6570\u636e\u65f6\uff0c\u4e3a\u4e86\u4fdd\u8bc1\u6240\u6709\u5171\u4eab\u7f51\u7edc\u8d44\u6e90\u7684\u8ba1\u7b97\u673a\u90fd\u80fd\u516c\u5e73\u3001\u8fc5\u901f\u5730\u4f7f\u7528\u7f51\u7edc\uff0c\u901a\u5e38\u628a\u6570\u636e\u5206\u5272\u6210\u82e5\u5e72\u5c0f\u5757\u4f5c\u4e3a\u4f20\u8f93\u5355\u4f4d\u8fdb\u884c\u53d1\u9001\uff0c\u8fd9\u6837\u7684\u4f20\u8f93\u5355\u4f4d\u6211\u4eec\u901a\u5e38\u79f0\u4e4b\u4e3a\u5305\uff0c\u4e5f\u53eb\u201c\u6570\u636e\u5305\u201d\u3002\u4ee5\u592a\u7f51\u6570\u636e\u5305\u6709\u56db\u79cd\u5206\u7c7b</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#ipv4-packet","title":"IPv4 packet","text":"<p>IPv4\uff08Internet Protocol version 4\uff09\u662f\u4e92\u8054\u7f51\u534f\u8bae\u4e2d\u7684\u4e00\u79cd\uff0c\u5b83\u662f\u4e92\u8054\u7f51\u4e0a\u6570\u636e\u901a\u4fe1\u7684\u57fa\u7840\u534f\u8bae\u4e4b\u4e00\u3002IPv4 \u534f\u8bae\u7684\u5de5\u4f5c\u539f\u7406\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\uff1a</p> <ol> <li> <p>IP \u5730\u5740\u7684\u5206\u914d\u548c\u5206\u7c7b\uff1aIPv4 \u4f7f\u7528 32 \u4f4d\u4e8c\u8fdb\u5236\u6570\u8868\u793a IP \u5730\u5740\uff0c\u6839\u636e\u7f51\u7edc\u7684\u89c4\u6a21\u548c\u9700\u6c42\uff0cIP \u5730\u5740\u88ab\u5206\u4e3a A \u7c7b\u3001B \u7c7b\u3001C \u7c7b\u7b49\u4e0d\u540c\u7684\u5206\u7c7b\uff0c\u7528\u4e8e\u6807\u8bc6\u4e0d\u540c\u7684\u7f51\u7edc\u548c\u4e3b\u673a\u3002</p> </li> <li> <p>IP \u6570\u636e\u5305\u7684\u5c01\u88c5\u4e0e\u4f20\u8f93\uff1aIPv4 \u5c06\u6570\u636e\u5206\u5272\u6210\u4e00\u7cfb\u5217\u7684\u6570\u636e\u5305\uff08\u4e5f\u79f0\u4e3a IP \u6570\u636e\u62a5\uff09\uff0c\u6bcf\u4e2a\u6570\u636e\u5305\u5305\u542b\u4e00\u4e2a IP \u62a5\u5934\u548c\u4e00\u4e2a\u6570\u636e\u90e8\u5206\u3002IP \u62a5\u5934\u5305\u542b\u6e90 IP \u5730\u5740\u3001\u76ee\u6807 IP \u5730\u5740\u3001\u534f\u8bae\u7c7b\u578b\u3001\u6570\u636e\u5305\u957f\u5ea6\u7b49\u91cd\u8981\u4fe1\u606f\uff0c\u7528\u4e8e\u5728\u7f51\u7edc\u4e2d\u4f20\u8f93\u548c\u8def\u7531\u6570\u636e\u5305\u3002  </p> </li> <li> <p>IP \u5730\u5740\u7684\u89e3\u6790\u548c\u8def\u7531\u9009\u62e9\uff1a\u5f53\u4e00\u4e2a IP \u6570\u636e\u5305\u4ece\u6e90\u4e3b\u673a\u53d1\u51fa\u65f6\uff0c\u5b83\u9996\u5148\u88ab\u4f20\u8f93\u5230\u7f51\u7edc\u4e2d\u7684\u7b2c\u4e00\u4e2a\u8def\u7531\u5668\uff0c\u8def\u7531\u5668\u6839\u636e\u76ee\u6807 IP \u5730\u5740\u548c\u8def\u7531\u8868\u7684\u4fe1\u606f\uff0c\u9009\u62e9\u4e0b\u4e00\u4e2a\u8def\u7531\u5668\u6216\u76f4\u63a5\u5c06\u6570\u636e\u5305\u4f20\u8f93\u5230\u76ee\u6807\u4e3b\u673a\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4e3a IP \u5730\u5740\u89e3\u6790\u548c\u8def\u7531\u9009\u62e9\u3002</p> </li> <li> <p>IP \u5730\u5740\u7684\u8f6c\u6362\u548c\u6620\u5c04\uff1a\u4e3a\u4e86\u89e3\u51b3 IP \u5730\u5740\u4e0d\u8db3\u548c\u7f51\u7edc\u9694\u79bb\u7b49\u95ee\u9898\uff0cIPv4 \u5f15\u5165\u4e86\u4e00\u4e9b\u7279\u6b8a\u7684\u5730\u5740\uff0c\u5982\u5b50\u7f51\u63a9\u7801\u3001\u7f51\u7edc\u5730\u5740\u8f6c\u6362\uff08NAT\uff09\u3001\u7aef\u53e3\u8f6c\u53d1\u7b49\u6280\u672f\uff0c\u7528\u4e8e\u5b9e\u73b0 IP \u5730\u5740\u7684\u8f6c\u6362\u548c\u6620\u5c04\u3002</p> </li> </ol> <p>\u603b\u7684\u6765\u8bf4\uff0cIPv4 \u534f\u8bae\u7684\u5de5\u4f5c\u539f\u7406\u662f\u901a\u8fc7\u5206\u914d\u548c\u89e3\u6790 IP \u5730\u5740\u6765\u6807\u8bc6\u4e0d\u540c\u7684\u7f51\u7edc\u548c\u4e3b\u673a\uff0c\u5e76\u5c06\u6570\u636e\u5206\u5272\u6210\u6570\u636e\u5305\u8fdb\u884c\u4f20\u8f93\u548c\u8def\u7531\u9009\u62e9\u3002\u5728\u4f20\u8f93\u8fc7\u7a0b\u4e2d\uff0cIPv4 \u8fd8\u652f\u6301\u5730\u5740\u8f6c\u6362\u548c\u6620\u5c04\u7b49\u6280\u672f\uff0c\u4ee5\u89e3\u51b3\u4e00\u4e9b\u5b9e\u9645\u95ee\u9898\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#udp-packet","title":"UDP packet","text":"<p>\u663e\u800c\u6613\u89c1</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#udp-header","title":"UDP header","text":"<p>UDP\u7684header\u653e\u4e86\u53cc\u65b9\u7684IP\u548c\u7aef\u53e3\uff0c\u957f\u5ea68\u4e2a\u5b57\u8282 \u56fe\u4e2d\u4e3a\u6574\u4e2a\u62a5\u6587\u7ed3\u6784\uff0cUDP\u957f\u5ea6\u5c31\u662f\u62a5\u6587\u957f\u5ea6 payload\u5c31\u662f\u9664\u53bbheader\u5269\u4e0b\u7684\u62a5\u6587\u957f\u5ea6 ![[Pasted image 20231106095448.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#ecmp-based-multi-path-routing","title":"ECMP-based multi-path routing\uff08 \u591a\u8def\u5f84\u8def\u7531\u6280\u672f \uff09","text":"<p>https://forum.huawei.com/enterprise/zh/thread/659558832164192256 ![[Pasted image 20231106100142.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#the-mtu-size","title":"the MTU size","text":"<p>\u6700\u5927\u4f20\u8f93\u5355\u5143\uff08Maximum Transmission Unit\uff0cMTU\uff09\u7528\u6765\u901a\u77e5\u5bf9\u65b9\u6240\u80fd\u63a5\u53d7\u6570\u636e\u670d\u52a1\u5355\u5143\u7684\u6700\u5927\u5c3a\u5bf8\uff0c\u8bf4\u660e\u53d1\u9001\u65b9\u80fd\u591f\u63a5\u53d7\u7684\u6709\u6548\u8f7d\u8377\u5927\u5c0f\u3002\u00a0[1]</p> <p>\u662f\u5305\u6216\u5e27\u7684\u6700\u5927\u957f\u5ea6\uff0c\u4e00\u822c\u4ee5\u5b57\u8282\u8bb0\u3002\u5982\u679cMTU\u8fc7\u5927\uff0c\u5728\u78b0\u5230\u8def\u7531\u5668\u65f6\u4f1a\u88ab\u62d2\u7edd\u8f6c\u53d1\uff0c\u56e0\u4e3a\u5b83\u4e0d\u80fd\u5904\u7406\u8fc7\u5927\u7684\u5305\u3002\u5982\u679c\u592a\u5c0f\uff0c\u56e0\u4e3a\u534f\u8bae\u4e00\u5b9a\u8981\u5728\u5305(\u6216\u5e27)\u4e0a\u52a0\u4e0a\u5305\u5934\uff0c\u90a3\u5b9e\u9645\u4f20\u9001\u7684\u6570\u636e\u91cf\u5c31\u4f1a\u8fc7\u5c0f\uff0c\u8fd9\u6837\u4e5f\u5212\u4e0d\u6765\u3002\u5927\u90e8\u5206\u64cd\u4f5c\u7cfb\u7edf\u4f1a\u63d0\u4f9b\u7ed9\u7528\u6237\u4e00\u4e2a\u9ed8\u8ba4\u503c\uff0c\u8be5\u503c\u4e00\u822c\u5bf9\u7528\u6237\u662f\u6bd4\u8f83\u5408\u9002\u7684\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#qcn","title":"QCN","text":"<p>https://zhuanlan.zhihu.com/p/643007675?utm_id=0</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#dcqcn","title":"DCQCN","text":"<p>https://zhuanlan.zhihu.com/p/643007675?utm_id=0</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#timely","title":"TIMELY","text":"<p>https://zhuanlan.zhihu.com/p/570169667 ![[Pasted image 20231106112450.png]]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#ecn","title":"ECN","text":"<p>https://zhuanlan.zhihu.com/p/643007675?utm_id=0</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#intra-dc-communications","title":"intra-DC communications","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/#inter-dc-communications","title":"inter-DC communications","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/","title":"RDMA over Commodity Ethernet at Scale(Conclusion)","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#conclusion","title":"Conclusion","text":"<p>In this paper, we have presented our practices and experiences in deploying RoCEv2 safely at large-scale in Microsoft data centers. Our practices include the introducing of DSCP-based PFC which scales RoCEv2 from layer-2 VLAN to layer-3 IP and the step-by-step onboarding and deployment procedure. Our experiences include the discoveries and resolutions of the RDMA transport livelock, the RDMA deadlock, the NIC PFC storm and the slow-receiver symptom. With the RDMA management and monitoring in place, some of our highlyreliable, latency-sensitive services have been running RDMA for over one and half years</p> <p>\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u4ecb\u7ecd\u4e86\u5728 Microsoft \u6570\u636e\u4e2d\u5fc3\u5927\u89c4\u6a21\u5b89\u5168\u90e8\u7f72 RoCEv2 \u7684\u5b9e\u8df5\u548c\u7ecf\u9a8c\u3002\u6211\u4eec\u7684\u5b9e\u8df5\u5305\u62ec\u5f15\u5165\u57fa\u4e8e DSCP \u7684 PFC\uff0c\u5c06 RoCEv2 \u4ece\u7b2c 2 \u5c42 VLAN \u6269\u5c55\u5230\u7b2c 3 \u5c42 IP\uff0c\u4ee5\u53ca\u9010\u6b65\u7684\u52a0\u5165\u548c\u90e8\u7f72\u8fc7\u7a0b\u3002\u6211\u4eec\u7684\u7ecf\u9a8c\u5305\u62ec\u53d1\u73b0\u5e76\u89e3\u51b3 RDMA \u4f20\u8f93\u6d3b\u9501\u3001RDMA \u6b7b\u9501\u3001NIC PFC \u98ce\u66b4\u548c\u7f13\u6162\u63a5\u6536\u5668\u75c7\u72b6\u3002\u968f\u7740 RDMA \u7ba1\u7406\u548c\u76d1\u63a7\u5230\u4f4d\uff0c\u6211\u4eec\u7684\u4e00\u4e9b\u9ad8\u5ea6\u53ef\u9760\u3001\u5ef6\u8fdf\u654f\u611f\u7684\u670d\u52a1\u5df2\u7ecf\u8fd0\u884c RDMA \u8d85\u8fc7\u4e00\u5e74\u534a\u4e86</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#layer-2-vlan-layer-3-ip","title":"Layer-2 VLAN &amp; Layer-3 IP","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#_1","title":"\u80cc\u666f\u5f15\u5165","text":"<p>RDMA \u5141\u8bb8\u7528\u6237\u6001\u7684\u5e94\u7528\u7a0b\u5e8f\u76f4\u63a5\u8bfb\u53d6\u548c\u5199\u5165\u8fdc\u7a0b\u5185\u5b58\uff0c\u907f\u514d\u4e86\u6570\u636e\u62f7\u8d1d\u548c\u4e0a\u4e0b\u6587\u5207\u6362\uff1b\u5e76\u5c06\u7f51\u7edc\u534f\u8bae\u6808\u4ece\u8f6f\u4ef6\u5b9e\u73b0 offload \u5230\u7f51\u5361\u786c\u4ef6\uff0c\u5b9e\u73b0\u4e86\u9ad8\u541e\u5410\u91cf\u3001\u8d85\u4f4e\u65f6\u5ef6\u548c\u4f4e CPU \u5f00\u9500\u7684\u6548\u679c\u3002</p> <p>\u5f53\u524d RDMA \u5728\u4ee5\u592a\u7f51\u4e0a\u7684\u4f20\u8f93\u534f\u8bae\u662f RoCEv2\uff0c==RoCEv2 \u662f\u57fa\u4e8e\u65e0\u8fde\u63a5\u534f\u8bae\u7684 UDP \u534f\u8bae==\uff0c\u76f8\u6bd4\u9762\u5411\u8fde\u63a5\u7684 TCP \u534f\u8bae\uff0cUDP \u534f\u8bae\u66f4\u52a0\u5feb\u901f\u3001\u5360\u7528 CPU \u8d44\u6e90\u66f4\u5c11\uff0c\u4f46\u5176\u4f20\u8f93\u662f\u4e0d\u53ef\u9760\u7684\uff0c\u4e00\u65e6\u51fa\u73b0\u4e22\u5305\u4f1a\u5bfc\u81f4 RDMA \u7684\u4f20\u8f93\u6548\u7387\u964d\u4f4e\uff0c\u8fd9\u662f\u7531 RDMA \u7684 Go-back-N \u91cd\u4f20\u673a\u5236\u51b3\u5b9a\u7684\u3002RDMA \u63a5\u6536\u65b9\u7f51\u5361\u53d1\u73b0\u4e22\u5305\u65f6\uff0c\u4f1a\u4e22\u5f03\u540e\u7eed\u63a5\u6536\u5230\u7684\u6570\u636e\u5305\uff0c\u53d1\u9001\u65b9\u9700\u8981\u91cd\u53d1\u4e4b\u540e\u7684\u6240\u6709\u6570\u636e\u5305\uff0c\u8fd9\u5bfc\u81f4\u6027\u80fd\u5927\u5e45\u4e0b\u964d\u3002\u6240\u4ee5\u8981\u60f3 RDMA \u53d1\u6325\u51fa\u5176\u6027\u80fd\uff0c\u9700\u8981\u4e3a\u5176\u642d\u5efa\u4e00\u5957\u4e0d\u4e22\u5305\u7684\u65e0\u635f\u7f51\u7edc\u73af\u5883</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#_2","title":"\u5dee\u5f02\u5316\u6d41\u91cf\u5206\u7c7b","text":"<p>\u6784\u5efa\u65e0\u635f\u7f51\u7edc\uff0c\u9996\u5148\u9700\u8981\u5bf9\u7f51\u7edc\u6d41\u91cf\u8fdb\u884c\u5206\u7c7b\uff0c\u7136\u540e\u9488\u5bf9\u4e0d\u540c\u7c7b\u522b\u6d41\u91cf\u91c7\u7528\u5177\u4f53\u6d41\u63a7\u7b56\u7565\uff0c\u5b9e\u73b0\u7cbe\u786e\u63a7\u5236\uff0c\u907f\u514d\u76f8\u4e92\u5f71\u54cd\u3002</p> <p>\u6d41\u91cf\u5206\u7c7b\u6709\u4e24\u79cd\u4e0d\u540c\u7684\u5206\u7c7b\u65b9\u6cd5\uff1a\u4f20\u8f93\u5c42\uff08Layer 2\uff09\u548c\u7f51\u7edc\u5c42\uff08Layer 3\uff09\u3002</p> <p>\u30101\u3011Layer2 \u901a\u8fc7 vlan header\uff08802.1q\uff09\u91cc\u7684 PCP\uff08802.1p\uff09\u4f4d\u8fdb\u884c\u5206\u7c7b\uff0c\u5bf9\u5e94 CoS\uff08Class of Service\uff09 \u30102\u3011Layer3 \u901a\u8fc7 IP header \u91cc\u7684 DSCP \u8fdb\u884c\u5206\u7c7b\uff0c\u5bf9\u5e94 DSCP</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#layer-2","title":"Layer 2 \u6d41\u91cf\u5206\u7c7b","text":"<p>Layer2 \u5c42\u6d41\u91cf\u5206\u7c7b\u4f9d\u636e\u7684==\u662f vlan tag \u4e2d\u7684 3 \u4f4d PCP bit==\uff0c\u603b\u5171\u6709 8 \u4e2a\u7c7b\u522b\u30023 \u4e2a bit \u662f Header \u4e2d\u7b2c 3 \u4e2a byte \u7684\u524d\u4e09\u4f4d\uff0c\u5982\u4e0b\u56fe\u3002\u5728\u4f7f\u7528 Layer 2 \u6d41\u91cf\u5206\u7c7b\u65f6\uff0c\u4e3b\u673a\u7aef\u53d1\u51fa\u7684\u5305\u9700\u8981\u5e26\u6709 vlan tag\u3002\u56e0\u6b64\u8981\u5bf9\u7f51\u5361\u914d\u7f6e vlan\uff0c\u5e76\u4e14\u8bbe\u7f6e\u4f18\u5148\u7ea7\u3002\u56e0\u4e3a L2 \u5c42 PFC \u9700\u8981\u4f9d\u9760 vlan\uff0c\u56e0\u6b64\u5305\u7ecf\u8fc7\u4e09\u5c42\u4ea4\u6362\u673a\u65f6\u53ef\u80fd\u5b58\u5728 tag \u5931\u6548\u7b49\u95ee\u9898\u3002</p> <p></p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#layer-3","title":"Layer 3 \u6d41\u91cf\u5206\u7c7b","text":"<p>Layer3 \u4f7f==\u7528 IP \u5305\u5934\u4e2d\u7684 TOS \u524d 6 \u4f4d\uff08DSCP\uff09==\uff0c\u652f\u6301 64 \u79cd\u4e0d\u540c\u7684\u6d41\u91cf\u5206\u7c7b\u65b9\u5f0f\uff0cTOS \u7684\u540e\u4e24\u4f4d\u7528\u4f5c Explicit Congestion Notification\uff08ECN\uff09Field\uff0c ECN \u662f\u4e00\u79cd\u7aef\u5230\u7aef\u7684\u6d41\u63a7\u65b9\u5f0f\uff0c\u540e\u9762\u4f1a\u6709\u4ecb\u7ecd\u3002</p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#layer2-layer3","title":"\u9009\u62e9 Layer2 \u8fd8\u662f Layer3 \u5c42\u6d41\u63a7","text":"<p>\u5728\u4ea4\u6362\u673a\u652f\u6301 DSCP \u7684\u6761\u4ef6\u4e0b\uff0c\u5efa\u8bae\u4f7f\u7528 L3 \u5c42\u7684\u6d41\u63a7\u65b9\u5f0f\u3002\u4ece\u524d\u9762\u7684\u4ecb\u7ecd\u53ef\u4ee5\u770b\u5230\uff0cL3 \u5c42\u7684\u63a7\u5236\u65b9\u5f0f\u53ef\u8de8\u591a\u5c42\u4ea4\u6362\u673a\uff0cDSCP \u503c\u5728\u7aef\u5230\u7aef\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\u3002RoCE \u4f7f\u7528 UDP \u62a5\u6587\u8fdb\u884c\u6570\u636e\u4f20\u8f93\uff0c\u5efa\u8bae RoCE \u7684\u6d41\u63a7\u4f7f\u7528\u57fa\u4e8e DSCP \u7684\u65b9\u5f0f\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#dscp-pcp-pfc","title":"\u6784\u5efa\u65e0\u635f\u7f51\u7edc\u2014\u57fa\u4e8e DSCP \u6216 PCP \u7684 PFC \u6d41\u63a7\u673a\u5236","text":"<p>IEEE 802.1Qbb==\uff08Priority-based Flow Control\uff0c\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff09\u7b80\u79f0 PFC==\uff0c\u662f IEEE \u6570\u636e\u4e2d\u5fc3\u6865\u63a5\uff08Data Center Bridge\uff09\u534f\u8bae\u65cf\u4e2d\u7684\u4e00\u4e2a\u6280\u672f\uff0c\u662f\u6d41\u91cf\u63a7\u5236\u7684\u589e\u5f3a\u7248\u3002</p> <p>\u6211\u4eec\u5148\u770b\u4e00\u4e0b IEEE 802.3X\uff08Flow Control\uff09\u6d41\u63a7\u7684\u673a\u5236\uff1a\u5f53\u63a5\u6536\u8005\u6ca1\u6709\u80fd\u529b\u5904\u7406\u63a5\u6536\u5230\u7684\u62a5\u6587\u65f6\uff0c\u4e3a\u4e86\u9632\u6b62\u62a5\u6587\u88ab\u4e22\u5f03\uff0c\u63a5\u6536\u8005\u9700\u8981\u901a\u77e5\u62a5\u6587\u7684\u53d1\u9001\u8005\u6682\u65f6\u505c\u6b62\u53d1\u9001\u3002IEEE 802.3X \u534f\u8bae\u5b58\u5728\u4e00\u4e2a\u7f3a\u70b9\uff1a\u4e00\u65e6\u94fe\u8def\u88ab\u6682\u505c\uff0c\u53d1\u9001\u65b9\u5c31\u4e0d\u80fd\u518d\u53d1\u9001\u4efb\u4f55\u6570\u636e\u5305\uff0c\u5982\u679c\u662f\u56e0\u4e3a\u67d0\u4e9b\u4f18\u5148\u7ea7\u8f83\u4f4e\u7684\u6570\u636e\u6d41\u5f15\u53d1\u7684\u6682\u505c\uff0c\u7ed3\u679c\u5374\u8ba9\u8be5\u94fe\u8def\u4e0a\u5176\u4ed6\u66f4\u9ad8\u4f18\u5148\u7ea7\u7684\u6570\u636e\u6d41\u4e5f\u4e00\u8d77\u88ab\u6682\u505c\u4e86\uff0c\u8fd9\u662f\u5f97\u4e0d\u507f\u5931\u7684\u3002</p> <p>PFC \u5728\u57fa\u7840\u6d41\u63a7 IEEE 802.3X \u57fa\u7840\u4e0a\u8fdb\u884c\u6269\u5c55\uff0c\u30101\u3011\u5141\u8bb8\u5728\u4e00\u6761\u4ee5\u592a\u7f51\u94fe\u8def\u4e0a\u521b\u5efa 8 \u4e2a\u865a\u62df\u901a\u9053\uff0c\u5e76\u4e3a\u6bcf\u6761\u865a\u62df\u901a\u9053\u6307\u5b9a\u76f8\u5e94\u4f18\u5148\u7ea7\uff0c\u30102\u3011\u5141\u8bb8\u5355\u72ec\u6682\u505c\u548c\u91cd\u542f\u5176\u4e2d\u4efb\u610f\u4e00\u6761\u865a\u62df\u901a\u9053\uff0c\u540c\u65f6\u5141\u8bb8\u5176\u5b83\u865a\u62df\u901a\u9053\u7684\u6d41\u91cf\u65e0\u4e2d\u65ad\u901a\u8fc7\u3002\u30103\u3011PFC \u5c06\u6d41\u63a7\u7684\u7c92\u5ea6\u4ece\u7269\u7406\u7aef\u53e3\u7ec6\u5316\u52308\u4e2a\u865a\u62df\u901a\u9053\uff0c\u5206\u522b\u5bf9\u5e94 Smart NIC \u786c\u4ef6\u4e0a\u7684 8 \u4e2a\u786c\u4ef6\u53d1\u9001\u961f\u5217\uff0c\u5982\u4e0b\u56fe\u3002</p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/#_3","title":"\u5bf9\u6bd4\u4e8c\u5c42\u4e0e\u4e09\u5c42\u6d41\u63a7","text":"<p>\u5728\u4e8c\u5c42\u7f51\u7edc\u4e2d\uff0cPFC \u4f7f\u7528 vlan \u4e2d\u7684 PCP \u4f4d\u6765\u5bf9\u6570\u636e\u6d41\u8fdb\u884c\u533a\u5206\uff1b\u5728\u4e09\u5c42\u7f51\u7edc\u4e2d\uff0cPFC \u65e2\u53ef\u4ee5\u4f7f\u7528 PCP\uff0c\u4e5f\u53ef\u4ee5\u4f7f\u7528 DSCP\uff0c\u4f7f\u5f97\u4e0d\u540c\u6570\u636e\u6d41\u53ef\u4ee5\u4eab\u53d7\u5230\u72ec\u7acb\u7684\u6d41\u63a7\u5236\u3002</p> <p>\u5f53\u4e0b\u6570\u636e\u4e2d\u5fc3\u56e0\u591a\u91c7\u7528\u4e09\u5c42\u7f51\u7edc\uff0c\u4e14 DSCP \u503c\u5728\u7aef\u5230\u7aef\u7684\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u4e0d\u4f1a\u53d1\u751f\u53d8\u5316\uff0c\u6545\u63a8\u8350\u4f7f\u7528 DSCP\u3002</p> <p>RDMA \u65e0\u635f\u7f51\u7edc\u4e2d\u5229\u7528 PFC \u6d41\u63a7\u673a\u5236\uff0c\u5b9e\u73b0\u4e86\u4ea4\u6362\u673a\u7aef\u53e3\u7f13\u5b58\u6ea2\u51fa\u524d\u6682\u505c\u5bf9\u7aef\u6d41\u91cf\uff0c\u963b\u6b62\u4e86\u4e22\u5305\u73b0\u8c61\u53d1\u751f\uff0c\u4f46\u56e0\u4e3a\u9700\u8981\u4e00\u7ea7\u4e00\u7ea7\u53cd\u538b\uff0c\u6548\u7387\u8f83\u4f4e\uff0c\u800c\u4e14\u5b58\u5728\u4e0d\u516c\u5e73\u95ee\u9898\u548c Head-of-Line \u5835\u585e\u95ee\u9898\u3002\u6b64\u5916\uff0cPFC \u662f\u901a\u8fc7\u4e0b\u6e38\u7f51\u7edc\u8bbe\u5907\u5bf9\u4e0a\u6e38\u8bbe\u5907\u7684\u63a7\u5236\u65b9\u5f0f\u8fbe\u5230\u4e0d\u4e22\u5305\u7684\u76ee\u7684\uff0c\u4f46==\u6700\u6709\u6548\u7684\u6d41\u63a7\u5e94\u8be5\u662f\u63a7\u5236\u4ea7\u751f\u6570\u636e\u7684\u6e90\u7aef\u4e3b\u673a\u7684\u53d1\u9001\u901f\u5ea6\uff0c\u4f7f\u5f97\u4e3b\u673a\u5f80\u7f51\u7edc\u4e2d\u6ce8\u5165\u6570\u636e\u901f\u5ea6\u653e\u7f13\uff0c\u8fd9\u662f\u89e3\u51b3\u95ee\u9898\u7684\u6839\u672c\u65b9\u6cd5\u3002==</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/","title":"RDMA over Commodity Ethernet at Scale(Introduction)","text":"<p>With the rapid growth of online services and cloud computing, large-scale data centers (DCs) are being built around the world. High speed, scalable data center networks (DCNs) [1, 3, 19, 31] are needed to connect the servers in a DC. DCNs are built from commodity Ethernet switches and network interface cards (NICs). A state-of-the-art DCN must support several Gb/s or higher throughput between any two servers in a DC. TCP/IP is still the dominant transport/network stack in today\u2019s data center networks. However, it is increasingly clear that the traditional TCP/IP stack cannot meet the demands of the new generation of DC workloads [4, 9, 16, 40], for two reasons. First, the CPU overhead of handling packets in the OS kernel remains high, despite enabling numerous hardware and software optimizations such as checksum offloading, large segment offload (LSO), receive side scaling (RSS) and interrupt moderation. Measurements in our data centers show that sending at 40Gb/s using 8 TCP connections chews up 6% aggregate CPU time on a 32 core Intel Xeon E5-2690 Windows 2012R2 server. Receiving at 40Gb/s using 8 connections requires 12% aggregate CPU time. This high CPU overhead is unacceptable in modern data centers. Second, many modern DC applications like Search are highly latency sensitive [7, 15, 41]. TCP, however, cannot provide the needed low latency even when the average traffic load is moderate, for two reasons. First, the kernel software introduces latency that can be as high as tens of milliseconds [21]. Second, packet drops due to congestion, while rare, are not entirely absent in our data centers. This occurs because data center traffic is inherently bursty. TCP must recover from the losses via timeouts or fast retransmissions, and in both cases, application latency takes a hit. In this paper we summarize our experience in deploying RoCEv2 (RDMA over Converged Ethernet v2) [5], an RDMA (Remote Direct Memory Access) technology [6], to address the above mentioned issues in Microsoft\u2019s data centers. RDMA is a method of accessing memory on a remote system without interrupting the processing of the CPU(s) on that system. RDMA is widely used in high performance computing with Infiniband [6] as the infrastructure. RoCEv2 supports RDMA over Ethernet instead of Infiniband. Unlike TCP, RDMA needs a lossless network; i.e. there must be no packet loss due to buffer overflow at the switches. RoCEv2 uses PFC (Priority-based Flow Control) [14] for this purpose. PFC prevents buffer overflow by pausing the upstream sending entity when buffer occupancy exceeds a specified threshold. While some problems with PFC such as head-of-the line blocking and potential for deadlock are well known [22, 33], we see several issues such as the RDMA transport livelock, the NIC PFC pause frame storm and the slowreceiver symptom in our deployment that have not been reported in the literature. Even the root cause of the deadlock problem we have encountered is quite different from the toy examples often discussed in the research literature [22, 33]. We also note that VLAN [32] tags are typically used to identify PFC-enabled traffic in mixed RDMA/TCP deployments. As we shall discuss, this solution does not scale for our environment. Thus, we introduce a notion of DSCP (Differentiated Services Code Point) based PFC to scale RDMA from layer-2 VLAN to layer3 IP. Our RDMA deployment has now been running smoothly for over one and half years, and it supports some of Microsoft\u2019s highly-reliable and latency-sensitive online services. Our experience shows that, by improving the design of RoCEv2, by addressing the various safety issues, and by building the needed management and monitoring capabilities, we can deploy RDMA safely in largescale data centers using commodity Ethernet.</p> <p>\u968f\u7740\u5728\u7ebf\u670d\u52a1\u548c\u4e91\u8ba1\u7b97\u7684\u5feb\u901f\u589e\u957f\uff0c\u5927\u89c4\u6a21\u7684\u6570\u636e\u4e2d\u5fc3\uff08DC\uff09\u6b63\u5728\u4e16\u754c\u5404\u5730\u5efa\u7acb\u3002\u8fde\u63a5 DC \u4e2d\u7684\u670d\u52a1\u5668\u9700\u8981\u9ad8\u901f\u3001\u53ef\u6269\u5c55\u7684\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc (DCN) [1,3,19,31]\u3002 DCN \u7531\u5546\u7528\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u63a5\u53e3\u5361 (NIC) \u6784\u5efa\u800c\u6210\u3002\u6700\u5148\u8fdb\u7684 DCN \u5fc5\u987b\u652f\u6301 DC \u4e2d\u4efb\u610f\u4e24\u53f0\u670d\u52a1\u5668\u4e4b\u95f4\u7684\u51e0 Gb/s \u6216\u66f4\u9ad8\u7684\u541e\u5410\u91cf\u3002 TCP/IP \u4ecd\u7136\u662f\u5f53\u4eca\u6570\u636e\u4e2d\u5fc3\u7f51\u7edc\u4e2d\u5360\u4e3b\u5bfc\u5730\u4f4d\u7684\u4f20\u8f93/\u7f51\u7edc\u5806\u6808\u3002\u7136\u800c\uff0c\u8d8a\u6765\u8d8a\u660e\u663e\u7684\u662f\uff0c\u4f20\u7edf\u7684 TCP/IP \u5806\u6808\u65e0\u6cd5\u6ee1\u8db3\u65b0\u4e00\u4ee3 DC \u5de5\u4f5c\u8d1f\u8f7d\u7684\u9700\u6c42 [4,9,16,40]\uff0c\u539f\u56e0\u6709\u4e24\u4e2a\u3002\u9996\u5148\uff0c\u5c3d\u7ba1\u542f\u7528\u4e86\u8bb8\u591a\u786c\u4ef6\u548c\u8f6f\u4ef6\u4f18\u5316\uff0c\u4f8b\u5982\u6821\u9a8c\u548c\u5378\u8f7d\u3001\u5927\u6bb5\u5378\u8f7d (LSO)\u3001\u63a5\u6536\u4fa7\u6269\u5c55 (RSS) \u548c\u4e2d\u65ad\u8c03\u8282\uff0c\u4f46\u64cd\u4f5c\u7cfb\u7edf\u5185\u6838\u4e2d\u5904\u7406\u6570\u636e\u5305\u7684 CPU \u5f00\u9500\u4ecd\u7136\u5f88\u9ad8\u3002\u6211\u4eec\u6570\u636e\u4e2d\u5fc3\u7684\u6d4b\u91cf\u7ed3\u679c\u8868\u660e\uff0c\u5728 32 \u6838 Intel Xeon E5-2690 Windows 2012R2 \u670d\u52a1\u5668\u4e0a\uff0c\u4f7f\u7528 8 \u4e2a TCP \u8fde\u63a5\u4ee5 40Gb/s \u7684\u901f\u5ea6\u53d1\u9001\u4f1a\u5360\u7528 6% \u7684\u603b CPU \u65f6\u95f4\u3002\u4f7f\u7528 8 \u4e2a\u8fde\u63a5\u4ee5 40Gb/s \u7684\u901f\u5ea6\u63a5\u6536\u9700\u8981 12% \u7684\u603b CPU \u65f6\u95f4\u3002\u8fd9\u79cd\u9ad8 CPU \u5f00\u9500\u5728\u73b0\u4ee3\u6570\u636e\u4e2d\u5fc3\u4e2d\u662f\u4e0d\u53ef\u63a5\u53d7\u7684\u3002\u5176\u6b21\uff0c\u8bb8\u591a\u73b0\u4ee3 DC \u5e94\u7528\u7a0b\u5e8f\uff08\u4f8b\u5982\u641c\u7d22\uff09\u5bf9\u5ef6\u8fdf\u9ad8\u5ea6\u654f\u611f [7,15,41]\u3002\u7136\u800c\uff0c\u5373\u4f7f\u5e73\u5747\u6d41\u91cf\u8d1f\u8f7d\u9002\u4e2d\uff0cTCP \u4e5f\u65e0\u6cd5\u63d0\u4f9b\u6240\u9700\u7684\u4f4e\u5ef6\u8fdf\uff0c\u539f\u56e0\u6709\u4e24\u4e2a\u3002\u9996\u5148\uff0c\u5185\u6838\u8f6f\u4ef6\u5f15\u5165\u7684\u5ef6\u8fdf\u53ef\u80fd\u9ad8\u8fbe\u6570\u5341\u6beb\u79d2[21]\u3002\u5176\u6b21\uff0c\u7531\u4e8e\u62e5\u585e\u5bfc\u81f4\u7684\u6570\u636e\u5305\u4e22\u5931\u867d\u7136\u5f88\u5c11\u89c1\uff0c\u4f46\u5728\u6211\u4eec\u7684\u6570\u636e\u4e2d\u5fc3\u4e2d\u5e76\u975e\u5b8c\u5168\u4e0d\u5b58\u5728\u3002\u53d1\u751f\u8fd9\u79cd\u60c5\u51b5\u662f\u56e0\u4e3a\u6570\u636e\u4e2d\u5fc3\u6d41\u91cf\u672c\u8d28\u4e0a\u662f\u7a81\u53d1\u6027\u7684\u3002 TCP \u5fc5\u987b\u901a\u8fc7\u8d85\u65f6\u6216\u5feb\u901f\u91cd\u4f20\u6765\u6062\u590d\u635f\u5931\uff0c\u5728\u8fd9\u4e24\u79cd\u60c5\u51b5\u4e0b\uff0c\u5e94\u7528\u7a0b\u5e8f\u5ef6\u8fdf\u90fd\u4f1a\u53d7\u5230\u5f71\u54cd\u3002\u5728\u672c\u6587\u4e2d\uff0c\u6211\u4eec\u603b\u7ed3\u4e86\u90e8\u7f72 RoCEv2\uff08\u57fa\u4e8e\u805a\u5408\u4ee5\u592a\u7f51\u7684 RDMA v2\uff09[5]\uff08\u4e00\u79cd RDMA\uff08\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff09\u6280\u672f [6]\uff09\u7684\u7ecf\u9a8c\uff0c\u4ee5\u89e3\u51b3 Microsoft \u6570\u636e\u4e2d\u5fc3\u4e2d\u7684\u4e0a\u8ff0\u95ee\u9898\u3002 RDMA \u662f\u4e00\u79cd\u8bbf\u95ee\u8fdc\u7a0b\u7cfb\u7edf\u4e0a\u7684\u5185\u5b58\u800c\u4e0d\u4e2d\u65ad\u8be5\u7cfb\u7edf\u4e0a\u7684 CPU \u5904\u7406\u7684\u65b9\u6cd5\u3002 RDMA\u5e7f\u6cdb\u5e94\u7528\u4e8e\u4ee5Infiniband[6]\u4e3a\u57fa\u7840\u8bbe\u65bd\u7684\u9ad8\u6027\u80fd\u8ba1\u7b97\u3002 RoCEv2 \u652f\u6301\u4ee5\u592a\u7f51 RDMA\uff0c\u800c\u4e0d\u662f Infiniband \u4e0e TCP \u4e0d\u540c\uff0cRDMA \u9700\u8981\u65e0\u635f\u7f51\u7edc\uff1b\u5373\uff0c\u4e0d\u5f97\u56e0\u4ea4\u6362\u673a\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\u800c\u5bfc\u81f4\u6570\u636e\u5305\u4e22\u5931\u3002\u4e3a\u6b64\uff0cRoCEv2 \u4f7f\u7528 PFC\uff08\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff09[14]\u3002 PFC\u9632\u6b62\u7f13\u51b2\u4e0eTCP\u4e0d\u540c\uff0cRDMA\u9700\u8981\u65e0\u635f\u7f51\u7edc\uff1b\u5373\uff0c\u4e0d\u5f97\u56e0\u4ea4\u6362\u673a\u7684\u7f13\u51b2\u533a\u6ea2\u51fa\u800c\u5bfc\u81f4\u6570\u636e\u5305\u4e22\u5931\u3002\u4e3a\u6b64\uff0cRoCEv2 \u4f7f\u7528 PFC\uff08\u57fa\u4e8e\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u63a7\u5236\uff09[14]\u3002\u5f53\u7f13\u51b2\u533a\u5360\u7528\u7387\u8d85\u8fc7\u6307\u5b9a\u9608\u503c\u65f6\uff0cPFC \u901a\u8fc7\u6682\u505c\u4e0a\u6e38\u53d1\u9001\u5b9e\u4f53\u6765\u9632\u6b62\u7f13\u51b2\u533a\u6ea2\u51fa\u3002\u867d\u7136 PFC \u7684\u4e00\u4e9b\u95ee\u9898\uff08\u4f8b\u5982\u961f\u5934\u963b\u585e\u548c\u6f5c\u5728\u7684\u6b7b\u9501\uff09\u662f\u4f17\u6240\u5468\u77e5\u7684 [22, 33]\uff0c\u4f46\u6211\u4eec\u5728\u6211\u4eec\u7684\u6a21\u578b\u4e2d\u770b\u5230\u4e86\u4e00\u4e9b\u95ee\u9898\uff0c\u4f8b\u5982 RDMA \u4f20\u8f93\u6d3b\u9501\u3001NIC PFC \u6682\u505c\u5e27\u98ce\u66b4\u548c\u7f13\u6162\u63a5\u6536\u5668\u75c7\u72b6\u6587\u732e\u4e2d\u672a\u62a5\u9053\u8fc7\u7684\u90e8\u7f72\u3002\u751a\u81f3\u6211\u4eec\u9047\u5230\u7684\u6b7b\u9501\u95ee\u9898\u7684\u6839\u672c\u539f\u56e0\u4e5f\u4e0e\u7814\u7a76\u6587\u732e\u4e2d\u7ecf\u5e38\u8ba8\u8bba\u7684\u73a9\u5177\u793a\u4f8b\u6709\u5f88\u5927\u4e0d\u540c[22, 33]\u3002\u6211\u4eec\u8fd8\u6ce8\u610f\u5230\uff0cVLAN [32] \u6807\u7b7e\u901a\u5e38\u7528\u4e8e\u8bc6\u522b\u6df7\u5408 RDMA/TCP \u90e8\u7f72\u4e2d\u542f\u7528 PFC \u7684\u6d41\u91cf\u3002\u6b63\u5982\u6211\u4eec\u5c06\u8981\u8ba8\u8bba\u7684\uff0c\u8be5\u89e3\u51b3\u65b9\u6848\u65e0\u6cd5\u9002\u5e94\u6211\u4eec\u7684\u73af\u5883\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u5f15\u5165\u57fa\u4e8e PFC \u7684 DSCP\uff08\u5dee\u5206\u670d\u52a1\u4ee3\u7801\u70b9\uff09\u6982\u5ff5\uff0c\u5c06 RDMA \u4ece\u7b2c 2 \u5c42 VLAN \u6269\u5c55\u5230\u7b2c 3 \u5c42 IP\u3002\u6211\u4eec\u7684 RDMA \u90e8\u7f72\u73b0\u5df2\u987a\u5229\u8fd0\u884c\u4e86\u4e00\u5e74\u534a\u591a\uff0c\u5e76\u4e14\u652f\u6301 Microsoft \u7684\u4e00\u4e9b\u9ad8\u53ef\u9760\u4e14\u5bf9\u5ef6\u8fdf\u654f\u611f\u7684\u5728\u7ebf\u670d\u52a1\u3002\u6211\u4eec\u7684\u7ecf\u9a8c\u8868\u660e\uff0c\u901a\u8fc7\u6539\u8fdb RoCEv2 \u7684\u8bbe\u8ba1\u3001\u89e3\u51b3\u5404\u79cd\u5b89\u5168\u95ee\u9898\u4ee5\u53ca\u6784\u5efa\u6240\u9700\u7684\u7ba1\u7406\u548c\u76d1\u63a7\u529f\u80fd\uff0c\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528\u5546\u7528\u4ee5\u592a\u7f51\u5728\u5927\u578b\u6570\u636e\u4e2d\u5fc3\u4e2d\u5b89\u5168\u5730\u90e8\u7f72 RDMA\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#large-segment-offload-lso","title":"large segment offload (LSO)","text":"<p>\u5728\u8ba1\u7b97\u673a\u7f51\u7edc\u4e2d\uff0c\u5927\u6bb5\u5378\u8f7d\uff08Large\u00a0Segment\u00a0Offload\uff0c\u7b80\u79f0LSO\uff09\u662f\u4e00\u79cd\u5728\u9ad8\u5e26\u5bbd\u7f51\u7edc\u4e2d\u7528\u4e8e\u51cf\u5c11CPU\u4f7f\u7528\u7387\u548c\u589e\u52a0\u53d1\u9001\u541e\u5410\u91cf\u7684\u6280\u672f\uff0c\u8be5\u6280\u672f\u901a\u8fc7\u7f51\u5361\u5bf9\u8fc7\u5927\u7684\u6570\u636e\u5206\u6bb5\uff0c\u800c\u65e0\u9700\u534f\u8bae\u6808\u53c2\u4e0e\u3002\u8be5\u6280\u672f\u8fd8\u6709\u4e00\u4e9b\u522b\u79f0\uff0c\u5f53\u5e94\u7528\u4e8eTCP\u65f6\u88ab\u79f0\u4e3aTCP\u6bb5\u5378\u8f7d(TSO)\uff0c\u4e5f\u6709\u4e9b\u65f6\u5019\u88ab\u79f0\u4e3a\u901a\u7528\u6bb5\u5378\u8f7d(GSO)\u3002</p> <p>\u4e0e\u4e4b\u5bf9\u5e94\uff0c\u5927\u63a5\u6536\u5378\u8f7d\u662f\u7528\u4e8e\u63a5\u6536\u5927\u6bb5\u5378\u8f7d\u7684\u6570\u636e\u7684\u4e00\u79cd\u6280\u672f</p> <p>\u5f53\u4e00\u4e2a\u7cfb\u7edf\u9700\u8981\u901a\u8fc7\u7f51\u7edc\u53d1\u9001\u4e00\u5927\u6bb5\u6570\u636e\u65f6\uff0c\u8ba1\u7b97\u673a\u9700\u8981\u5c06\u8fd9\u6bb5\u6570\u636e\u62c6\u5206\u4e3a\u591a\u4e2a\u957f\u5ea6\u8f83\u77ed\u7684\u6570\u636e\uff0c\u4ee5\u4fbf\u8fd9\u4e9b\u6570\u636e\u80fd\u591f\u901a\u8fc7\u7f51\u7edc\u4e2d\u6240\u6709\u7684\u7f51\u7edc\u8bbe\u5907(\u4f8b\u5982\u8def\u7531\u5668\u3001\u4ea4\u6362\u673a)\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u88ab\u79f0\u4f5c\u5206\u6bb5\u3002</p> <p>==\u901a\u5e38\uff0c\u8fd9\u4e2a\u8fc7\u7a0b\u7531\u8ba1\u7b97\u673a\u7cfb\u7edf\u4e2d\u7684\u534f\u8bae\u6808\u5b8c\u6210\uff0c\u800c\u5927\u6bb5\u5378\u8f7d\u6280\u672f\u5c06\u8fd9\u4e00\u8fc7\u7a0b\u4ea4\u7ed9\u7f51\u5361\u5904\u7406\uff0c\u4ece\u800c\u51cf\u5c11\u4e86CPU\u4f7f\u7528\u7387\u3002==</p> <p>\u4f8b\u5982\uff0c\u4e00\u4e2a64KB\u7684\u6570\u636e\u5728\u53d1\u9001\u524d\u901a\u5e38\u4f1a\u88ab\u5206\u4e3a46\u4e2a\u5c0f\u6bb5\uff0c\u6bcf\u4e00\u6bb51448\u5b57\u8282(\u8fd9\u4e2a\u503c\u4e0eMTU\u6709\u5173)\u3002\u5982\u679c\u7f51\u5361\u652f\u6301\u5927\u6bb5\u5378\u8f7d\u6280\u672f\uff0c\u8ba1\u7b97\u673a\u65e2\u53ef\u4ee5\u5c06\u8fd964KB\u6570\u636e\u76f4\u63a5\u4ea4\u7ed9\u7f51\u5361\uff0c==\u7f51\u5361\u4f1a\u5c06\u5176\u62c6\u5206==\u4e3a\u4e0d\u5927\u4e8e1448\u7684\u5c0f\u6bb5\uff0c==\u5e76\u6839\u636eTCP/IP\u534f\u8bae\u6808\u63d0\u4f9b\u7684\u6a21\u677f\u4e3a\u6bcf\u4e2a\u5c0f\u6bb5\u589e\u52a0==\u4f20\u8f93\u5c42\u3001\u7f51\u7edc\u5c42\u4ee5\u53ca\u6570\u636e\u94fe\u8def\u5c42==\u5934\u90e8==\u3002\u8bb8\u591a2014\u5e74\u540e\u65b0\u63a8\u51fa\u7684\u7f51\u5361\u90fd\u5177\u5907\u4e86\u8fd9\u79cd\u6280\u672f\u3002</p> <p>\u4e00\u4e9b\u7f51\u5361\u5728\u5904\u7406TCP\u6570\u636e\u65f6\u4f7f\u7528TSO\u6280\u672f\uff0c\u5373\u6bcf\u4e2a\u5c0f\u6bb5\u90fd\u5305\u542b\u5b8c\u6574\u7684TCP\u5934\u90e8\u3002\u800c\u5bf9\u4e8e\u5176\u4ed6\u4f20\u8f93\u5c42\u534f\u8bae(\u4f8b\u5982UDP)\u5219\u4f7f\u7528IP\u5206\u7247\u3002</p> <p>[\u8865\u5145\u4ecb\u7ecd]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#mtu","title":"MTU","text":"<p>\u6700\u5927\u4f20\u8f93\u5355\u5143\uff08\u82f1\u8bed\uff1aMaximum\u00a0Transmission\u00a0Unit\uff0c\u7f29\u5199MTU\uff09\u662f\u6307\u6570\u636e\u94fe\u8def\u5c42\u4e0a\u9762\u6240\u80fd\u901a\u8fc7\u7684\u6700\u5927\u6570\u636e\u5305\u5927\u5c0f\uff08\u4ee5\u5b57\u8282\u4e3a\u5355\u4f4d\uff09\u3002\u6700\u5927\u4f20\u8f93\u5355\u5143\u8fd9\u4e2a\u53c2\u6570\u901a\u5e38\u4e0e\u901a\u4fe1\u63a5\u53e3\u6709\u5173\uff08\u7f51\u7edc\u5361\u3001\u4e32\u53e3\u7b49\uff09\u3002</p> <p>\u56e0\u7279\u7f51\u534f\u8bae\u5141\u8bb8IP\u5206\u7247\uff0c\u8fd9\u6837\u5c31\u53ef\u4ee5==\u5c06\u6570\u636e\u62a5\u5305\u5206\u6210\u8db3\u591f\u5c0f\u7684\u7247\u6bb5\u4ee5\u901a\u8fc7\u90a3\u4e9b\u6700\u5927\u4f20\u8f93\u5355\u5143\u5c0f\u4e8e\u8be5\u6570\u636e\u62a5\u539f\u59cb\u5927\u5c0f\u7684\u94fe\u8def==\u4e86\u3002\u8fd9\u4e00\u5206\u7247\u8fc7\u7a0b\u53d1\u751f\u5728IP\u5c42\uff08OSI\u6a21\u578b\u7684\u7b2c\u4e09\u5c42\uff0c\u5373\u7f51\u7edc\u5c42\uff09\uff0c\u5b83\u4f7f\u7528\u7684\u662f\u5c06\u5206\u7ec4\u53d1\u9001\u5230\u94fe\u8def\u4e0a\u7684\u7f51\u7edc\u63a5\u53e3\u7684\u6700\u5927\u4f20\u8f93\u5355\u5143\u7684\u503c\u3002\u539f\u59cb\u5206\u7ec4\u7684\u5206\u7247\u90fd\u88ab\u52a0\u4e0a\u4e86\u6807\u8bb0\uff0c\u8fd9\u6837\u76ee\u7684\u4e3b\u673a\u7684IP\u5c42\u5c31\u80fd\u5c06\u5206\u7ec4\u91cd\u7ec4\u6210\u539f\u59cb\u7684\u6570\u636e\u62a5\u4e86\u3002</p> <p>\u5728\u56e0\u7279\u7f51\u534f\u8bae\u4e2d\uff0c\u4e00\u6761\u56e0\u7279\u7f51\u4f20\u8f93\u8def\u5f84\u7684\u201c\u8def\u5f84\u6700\u5927\u4f20\u8f93\u5355\u5143\u201d\u88ab\u5b9a\u4e49\u4e3a\u4ece\u6e90\u5730\u5740\u5230\u76ee\u7684\u5730\u5740\u6240\u7ecf\u8fc7\u201c\u8def\u5f84\u201d\u4e0a\u7684\u6240\u6709IP\u7684\u6700\u5927\u4f20\u8f93\u5355\u5143\u7684\u6700\u5c0f\u503c\u3002\u6216\u8005\u4ece\u53e6\u5916\u4e00\u4e2a\u89d2\u5ea6\u6765\u770b\uff0c\u5c31\u662f\u65e0\u9700\u8fdb\u4e00\u6b65\u5206\u7247\u5c31\u80fd\u7a7f\u8fc7\u8fd9\u6761\u201c\u8def\u5f84\u201d\u7684\u6700\u5927\u4f20\u8f93\u5355\u5143\u7684\u6700\u5927\u503c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#rssreceive-side-scaling","title":"RSS\uff08receive side scaling\uff09","text":"<p>RSS\u4f7f==\u7f51\u7edc\u9002\u914d\u5668\u80fd\u591f\u5728\u591a\u6838\u8ba1\u7b97\u673a\u7684\u591a\u5904\u7406\u5668\u5185\u6838\u4e0a\u5206\u914d\u5185\u6838\u6a21\u5f0f\u7f51\u7edc\u5904\u7406\u8d1f\u8f7d\u3002== The distribution of this processing makes it possible to support higher network traffic loads than would be possible if only a single core were to be used.\u8fd9\u79cd\u5206\u5e03\u4f7f\u5f97\u652f\u6301\u9ad8\u8d1f\u8f7d\u7f51\u7edc\u6210\u4e3a\u73b0\u5b9e\uff08\u5982\u679c\u8fd8\u662f\u5355\u6838\u5904\u7406\u5668\uff0c\u5219\u5f88\u96be\u5b9e\u73b0\uff09 \u5728Windows Server 2012\u4e2d\uff0cRSS\u5f97\u5230\u4e86\u589e\u5f3a\uff0c\u5305\u62ec\u62e5\u6709\u8d85\u8fc764\u4e2a\u5904\u7406\u5668\u7684\u8ba1\u7b97\u673a\u3002 RSS==\u901a\u8fc7\u5c06\u7f51\u7edc\u5904\u7406\u8d1f\u8f7d\u5206\u6563\u5230\u8bb8\u591a\u5904\u7406\u5668\u4e0a\uff0c\u5e76\u4e3b\u52a8\u8d1f\u8f7d\u5e73\u8861TCP\u7ec8\u6b62\u7684\u6d41\u91cf\u6765\u5b9e\u73b0\u8fd9\u4e00\u70b9\u3002==</p> <p>\u6b64\u5916\uff0cWindows Server 2012\u4e2d\u7684RSS\u4e3a\u975eTCP\u6d41\u91cf\uff08\u5305\u62ecUDP\u5355\u64ad\u3001\u591a\u64ad\u548cIP\u8f6c\u53d1\u6d41\u91cf\uff09\u63d0\u4f9b\u4e86\u81ea\u52a8\u8d1f\u8f7d\u5e73\u8861\u529f\u80fd\uff0c\u6539\u8fdb\u4e86RSS\u8bca\u65ad\u548c\u7ba1\u7406\u529f\u80fd\uff0c\u63d0\u9ad8\u4e86\u975e\u7edf\u4e00\u5185\u5b58\u8bbf\u95ee\uff08NUMA\uff09\u8282\u70b9\u7684\u53ef\u6269\u5c55\u6027\uff0c\u5e76\u901a\u8fc7\u4fc3\u8fdb\u5185\u6838\u8c03\u5ea6\u5668\u548c\u7f51\u7edc\u5806\u6808\u5bf9\u9f50\u6765\u63d0\u9ad8\u8d44\u6e90\u5229\u7528\u7387\u548c\u8d44\u6e90\u5206\u533a</p> <p>RSS\u4e3a\u4f4e\u5ef6\u8fdf\u573a\u666f\u63d0\u4f9b\u4e86\u4ee5\u4e0b\u989d\u5916\u597d\u5904\uff1a - \u5e76\u884c\u63a5\u6536\u5904\u7406\uff1a\u53ef\u4ee5\u901a\u8fc7\u5728\u591a\u4e2aCPU\u4e0a\u540c\u65f6\u751f\u6210\u4e2d\u65ad\u548cDPC\u6765\u6307\u793a\u4ece\u5355\u4e2a\u7f51\u7edc\u63a5\u53e3\u5361\u63a5\u6536\u6570\u636e\u5305\u3002 - \u4fdd\u7559\u8ba2\u5355\u6570\u636e\u5305\u4f20\u9012\uff1a\u4ece\u5355\u4e2a\u7f51\u7edc\u63a5\u53e3\u5361\u63a5\u6536\u5230\u7279\u5b9a\u6d41\u7684\u6570\u636e\u5305\uff0c\u4ee5\u4fbf\u4f20\u9012\u7ed9TCP/IP\u534f\u8bae\u9a71\u52a8\u7a0b\u5e8f\u3002 - \u52a8\u6001\u8d1f\u8f7d\u5e73\u8861\uff1a\u968f\u7740\u4e3b\u673a\u8d1f\u8f7d\u7684\u53d8\u5316\uff0cRSS\u4f1a\u91cd\u65b0\u5e73\u8861\u5904\u7406\u5668\u4e4b\u95f4\u7684\u7f51\u7edc\u5904\u7406\u8d1f\u8f7d\u3002 - \u7f13\u5b58\u4f4d\u7f6e\uff1a\u7531\u4e8e\u6765\u81ea\u5355\u4e2a\u8fde\u63a5\u7684\u6570\u636e\u5305\u88ab\u6620\u5c04\u5230\u7279\u5b9a\u8fde\u63a5\u7684\u7279\u5b9a\u5904\u7406\u5668\u72b6\u6001\uff0c\u56e0\u6b64\u9a7b\u7559\u5728\u5904\u7406\u5668\u7684\u7f13\u5b58\u4e2d\uff0c\u4ece\u800c\u6d88\u9664\u4e86\u7f13\u5b58\u6572\u51fb\u5e76\u63d0\u9ad8\u4e86\u6027\u80fd\u3002 - \u53d1\u9001\u4fa7\u7f29\u653e\uff1aRSS\u6563\u5217\u503c\u7531TCP/IP\u534f\u8bae\u4f20\u9012\u5230\u51fa\u53e3\u8def\u5f84\u4e0a\u6bcf\u4e2a\u6570\u636e\u5305\u4e2d\u7684\u7f51\u7edc\u63a5\u53e3\u5361\uff0c\u4ece\u800c\u5141\u8bb8\u5728\u540c\u4e00CPU\u4e0a\u6307\u793a\u53d1\u9001\u5b8c\u6210\u3002\u8fd9\u4f7f\u5f97\u5728\u53d1\u9001\u7aef\u53ef\u4ee5\u66f4\u597d\u5730\u7f29\u653e\u3002 - Toeplitz Hash\uff1a\u9ed8\u8ba4\u751f\u6210\u7684RSS\u7b7e\u540d\u5728\u7edf\u8ba1\u5b66\u4e0a\u662f\u5b89\u5168\u7684\uff0c\u8fd9\u4f7f\u5f97\u6076\u610f\u8fdc\u7a0b\u4e3b\u673a\u66f4\u96be\u8feb\u4f7f\u7cfb\u7edf\u8fdb\u5165\u4e0d\u5e73\u8861\u72b6\u6001\u3002</p> <p>\u4ee5\u4e0b\u662fRSS\u7684\u4e00\u4e9b\u7279\u5b9a\u5e94\u7528\u4f18\u52bf\uff1a - RSS\u4f7fWindows Server 2012\u80fd\u591f\u5728\u62e5\u6709\u8d85\u8fc764\u4e2a\u5904\u7406\u5668\u7684\u5927\u578b\u670d\u52a1\u5668\u4e0a\u8fdb\u884c\u4f18\u5316\u6269\u5c55\u3002 - RSS\u5141\u8bb8\u591aNUMA\u8282\u70b9\u670d\u52a1\u5668\uff0c\u5982Web\u670d\u52a1\u5668\u3001\u6587\u4ef6\u670d\u52a1\u5668\u548c\u8fd0\u884c\u5176\u4ed6\u5de5\u4f5c\u8d1f\u8f7d\u7684\u670d\u52a1\u5668\uff0c\u9ad8\u6548\u6269\u5c55\u3002 - \u5bf9\u4e8eDirectAccess\uff0cRSS\u5141\u8bb8\u901a\u8fc7\u4e3b\u52a8\u8d1f\u8f7d\u5e73\u8861\u8f6c\u53d1\u6d41\u91cf\u6765\u63d0\u9ad8\u53ef\u6269\u5c55\u6027\u3002 - RSS\u4f7f\u91d1\u878d\u5e94\u7528\u7a0b\u5e8f\uff0c\u5982\u80a1\u7968\u4ee3\u7801\u5de5\u5382\u548c\u4f7f\u7528UDP\u4f5c\u4e3a\u4f20\u8f93\u7684\u7b97\u6cd5\u4ea4\u6613\u7cfb\u7edf\uff0c\u80fd\u591f\u968f\u7740\u8d1f\u8f7d\u7684\u589e\u52a0\u800c\u6269\u5c55\u3002 - RSS\u4e3a\u5e94\u7528\u7a0b\u5e8f\u63d0\u4f9b\u8f93\u5165/\u8f93\u51fa\u63a7\u5236\uff0c\u4ee5\u4e0e\u5806\u6808\u5bf9\u9f50\u3002 - RSS\u4e0eWindows\u8d1f\u8f7d\u5e73\u8861\u548c\u6545\u969c\u8f6c\u79fb\u89e3\u51b3\u65b9\u6848\u517c\u5bb9\u3002 - RSS\u4e3a\u7ba1\u7406\u5458\u63d0\u4f9b\u4e86\u901a\u8fc7\u6807\u51c6\u7ba1\u7406\u754c\u9762\u548c\u8bca\u65ad\u5de5\u5177\u90e8\u7f72\u3001\u7ba1\u7406\u548c\u8bca\u65adRSS\u529f\u80fd\u7684\u80fd\u529b\u3002 - RSS\u901a\u8fc7\u5c06\u7f51\u7edc\u5806\u6808\u4e0e\u5185\u6838\u8c03\u5ea6\u5668\u5bf9\u9f50\u6765\u4f18\u5316\u6269\u5c55\u6240\u6709\u5de5\u4f5c\u8d1f\u8f7d\u3002RSS\u5728\u505a\u51fa\u5904\u7406\u5668\u9009\u62e9\u51b3\u7b56\u65f6\u4f7f\u7528\u5185\u6838\u8c03\u5ea6\u5668\u63d0\u4f9b\u7684\u5904\u7406\u5668\u5217\u8868\u3002</p> <p>[\u8865\u5145\u4ecb\u7ecd]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#rssrssreally-simple-syndicate","title":"RSS\uff08\u53e6\u4e00\u4e2aRSS\uff0creally simple syndicate\uff09","text":"<p>RSS\uff08RDF\u7f51\u7ad9\u6458\u8981\u6216\u771f\u6b63\u7b80\u5355\u7684\u8054\u5408\uff09[2]\u662f\u4e00\u4e2a\u7f51\u7edc\u63d0\u8981[3]==\u5141\u8bb8\u7528\u6237\u548c\u5e94\u7528\u7a0b\u5e8f==\u4ee5\u6807\u51c6\u5316\u3001\u8ba1\u7b97\u673a\u53ef\u8bfb\u7684\u683c\u5f0f==\u8bbf\u95ee\u7f51\u7ad9\u7684\u66f4\u65b0==\u3002\u8ba2\u9605RSS\u63d0\u8981\u53ef\u4ee5\u8ba9\u7528\u6237\u5728\u5355\u4e2a\u65b0\u95fb\u805a\u5408\u5668\u4e2d\u8ddf\u8e2a\u8bb8\u591a\u4e0d\u540c\u7684\u7f51\u7ad9\uff0c\u8be5\u805a\u5408\u5668\u4e0d\u65ad\u76d1\u63a7\u7f51\u7ad9\u7684\u65b0\u5185\u5bb9\uff0c\u65e0\u9700\u7528\u6237\u624b\u52a8\u68c0\u67e5\u5b83\u4eec\u3002\u65b0\u95fb\u805a\u5408\u5668\uff08\u6216\u201cRSS\u9605\u8bfb\u5668\u201d\uff09\u53ef\u4ee5\u5185\u7f6e\u5230\u6d4f\u89c8\u5668\u4e2d\uff0c\u5b89\u88c5\u5728\u53f0\u5f0f\u8ba1\u7b97\u673a\u4e0a\uff0c\u4e5f\u53ef\u4ee5\u5b89\u88c5\u5728\u79fb\u52a8\u8bbe\u5907\u4e0a\u3002</p> <p>==\u7f51\u7ad9\u901a\u5e38\u4f7f\u7528RSS\u63d0\u8981\u53d1\u5e03\u7ecf\u5e38\u66f4\u65b0\u7684\u4fe1\u606f==\uff0c\u5982\u535a\u5ba2\u6761\u76ee\u3001\u65b0\u95fb\u5934\u6761\u3001\u97f3\u9891\u548c\u89c6\u9891\u7cfb\u5217\u5267\u96c6\uff0c\u6216\u5206\u53d1\u64ad\u5ba2\u3002RSS\u6587\u6863\uff08\u79f0\u4e3a\u201c\u63d0\u8981\u201d\u3001\u201c\u7f51\u7edc\u63d0\u8981\u201d\u3001[4]\u6216\u201c\u6e20\u9053\u201d\uff09\u5305\u62ec\u5b8c\u6574\u6216\u6458\u8981\u6587\u672c\uff0c\u4ee5\u53ca\u5143\u6570\u636e\uff0c\u5982\u53d1\u5e03\u65e5\u671f\u548c\u4f5c\u8005\u59d3\u540d\u3002RSS\u683c\u5f0f\u4f7f\u7528\u901a\u7528XML\u6587\u4ef6\u6307\u5b9a\u3002</p> <p>\u5c3d\u7ba1RSS\u683c\u5f0f\u65e9\u57281999\u5e743\u6708\u5c31\u53d1\u751f\u4e86\u53d8\u5316\uff0c[5]\u57282005\u5e74\u81f32006\u5e74\u671f\u95f4\uff0cRSS\u88ab\u5e7f\u6cdb\u4f7f\u7528\uff0c\u5e76\u4e14\u56fe\u6807\u7531\u51e0\u4e2a\u4e3b\u8981\u7f51\u7edc\u6d4f\u89c8\u5668\u51b3\u5b9a\u3002[6]RSS\u63d0\u8981\u6570\u636e\u4f7f\u7528\u79f0\u4e3a\u65b0\u95fb\u805a\u5408\u5668\u7684\u8f6f\u4ef6\u5448\u73b0\u7ed9\u7528\u6237\uff0c\u5185\u5bb9\u7684\u4f20\u9012\u79f0\u4e3a\u7f51\u7edc\u8f9b\u8fea\u52a0\u3002\u7528\u6237\u901a\u8fc7\u5728\u9605\u8bfb\u5668\u4e2d\u8f93\u5165\u63d0\u8981\u7684URI\u6216\u5355\u51fb\u6d4f\u89c8\u5668\u7684\u63d0\u8981\u56fe\u6807\u6765\u8ba2\u9605\u63d0\u8981\u3002==RSS\u9605\u8bfb\u5668\u5b9a\u671f\u68c0\u67e5\u7528\u6237\u7684\u63d0\u8981\u4ee5\u83b7\u53d6\u65b0\u4fe1\u606f\uff0c\u5982\u679c\u542f\u7528\u8be5\u529f\u80fd\uff0c\u5219\u53ef\u4ee5\u81ea\u52a8\u4e0b\u8f7d==</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#rdf-resource-description-framework","title":"RDF \uff08Resource Description Framework\uff09","text":"<p>\u8d44\u6e90\u63cf\u8ff0\u6846\u67b6\uff08RDF\uff09\u662f\u4e07\u7ef4\u7f51\u8054\u76df\uff08W3C\uff09\u6807\u51c6\uff0c\u6700\u521d\u8bbe\u8ba1\u4e3a\u5143\u6570\u636e\u7684\u6570\u636e\u6a21\u578b\u3002\u5b83\u5df2\u88ab\u7528\u4f5c\u63cf\u8ff0\u548c\u4ea4\u6362\u56fe\u5f62\u6570\u636e\u7684\u4e00\u822c\u65b9\u6cd5\u3002RDF\u63d0\u4f9b\u5404\u79cd\u8bed\u6cd5\u7b26\u53f7\u548c\u6570\u636e\u5e8f\u5217\u5316\u683c\u5f0f\uff0c\u5176\u4e2dTurtle\uff08Terse RDF\u4e09\u91cd\u8bed\u8a00\uff09\u662f\u76ee\u524d\u4f7f\u7528\u6700\u5e7f\u6cdb\u7684\u7b26\u53f7\u3002</p> <p>RDF\u662f\u7531\u4e09\u91cd\u8bed\u53e5\u7ec4\u6210\u7684\u6709\u5411\u56fe\u3002RDF\u56fe\u8bed\u53e5\u8868\u793a\u4e3a\uff1a1\uff09\u4e3b\u4f53\u7684\u8282\u70b9\uff0c2\uff09\u4ece\u4e3b\u4f53\u5230\u8c13\u8bcd\u5bf9\u8c61\u7684\u5f27\uff0c\u4ee5\u53ca3\uff09\u5bf9\u8c61\u7684\u8282\u70b9\u3002\u8bed\u53e5\u7684\u4e09\u4e2a\u90e8\u5206\u4e2d\u7684\u6bcf\u4e00\u4e2a\u90fd\u53ef\u4ee5\u901a\u8fc7\u7edf\u4e00\u8d44\u6e90\u6807\u8bc6\u7b26\uff08URI\uff09\u6765\u8bc6\u522b\u3002\u5bf9\u8c61\u4e5f\u53ef\u4ee5\u662f\u5b57\u9762\u503c\u3002\u8fd9\u4e2a\u7b80\u5355\u3001\u7075\u6d3b\u7684\u6570\u636e\u6a21\u578b\u5177\u6709\u5f88\u5927\u7684\u8868\u8fbe\u80fd\u529b\uff0c\u53ef\u4ee5\u4ee3\u8868\u590d\u6742\u7684\u60c5\u51b5\u3001\u5173\u7cfb\u548c\u5176\u4ed6\u611f\u5174\u8da3\u7684\u4e8b\u7269\uff0c\u540c\u65f6\u4e5f\u5177\u6709\u9002\u5f53\u7684\u62bd\u8c61\u6027</p> <p>RDF\u6570\u636e\u6a21\u578b[1]\u7c7b\u4f3c\u4e8e\u7ecf\u5178\u6982\u5ff5\u5efa\u6a21\u65b9\u6cd5\uff08\u5982\u5b9e\u4f53\u5173\u7cfb\u6216\u7c7b\u56fe\uff09\u3002\u5b83\u57fa\u4e8e\u4ee5subject-predicate-object\uff08\u79f0\u4e3a_\u4e09\u5143\u7ec4\uff09_\u7684\u5f62\u5f0f\u8868\u8fbe\u65b9\u5f0f\u5bf9\u8d44\u6e90\uff08\u7279\u522b\u662f\u7f51\u7edc\u8d44\u6e90\uff09\u8fdb\u884c\u9648\u8ff0\u7684\u60f3\u6cd5\u3002\u4e3b\u8bed\u8868\u793a\u8d44\u6e90\uff0cpredicate\u8868\u793a\u8d44\u6e90\u7684\u7279\u5f81\u6216\u65b9\u9762\uff0c\u5e76\u8868\u793a\u4e3b\u8bed\u548cobject\u4e4b\u95f4\u7684\u5173\u7cfb\u3002</p> <p>\u4f8b\u5982\uff0c\u5728RDF\u4e2d\u8868\u793a\u201c\u5929\u7a7a\u6709\u84dd\u8272\u201d\u6982\u5ff5\u7684\u4e00\u79cd\u65b9\u5f0f\u662f\u4e09\u91cd\uff1a\u8868\u793a\u201c\u5929\u7a7a\u201d\u7684\u4e3b\u9898\uff0c\u8868\u793a\u201c\u6709\u989c\u8272\u201d\u7684\u8c13\u8bcd\uff0c\u8868\u793a\u201c\u84dd\u8272\u201d\u7684\u5bbe\u8bed\u3002\u56e0\u6b64\uff0cRDF\u4f7f\u7528subject\u800c\u4e0d\u662fobject\uff08\u6216entity\uff09\uff0c\u4e0e\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\u4e2d\u5b9e\u4f53-\u5c5e\u6027-\u503c\u6a21\u578b\u7684\u5178\u578b\u65b9\u6cd5\u76f8\u53cd\uff1a\u5b9e\u4f53\uff08\u5929\u7a7a\uff09\u3001\u5c5e\u6027\uff08\u989c\u8272\uff09\u548c\u503c\uff08\u84dd\u8272\uff09\u3002</p> <p>RDF\u662f\u4e00\u4e2a\u5177\u6709\u591a\u79cd\u5e8f\u5217\u5316\u683c\u5f0f\u7684\u62bd\u8c61\u6a21\u578b\uff08\u672c\u8d28\u4e0a\u662f\u4e13\u95e8\u7684\u6587\u4ef6\u683c\u5f0f\uff09\u3002\u6b64\u5916\uff0c\u8d44\u6e90\u6216\u4e09\u5143\u7ec4\u7684\u7279\u5b9a\u7f16\u7801\u53ef\u80fd\u56e0\u683c\u5f0f\u800c\u5f02\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#interrupt-moderation","title":"interrupt moderation(\u4e2d\u65ad\u5ba1\u6838)","text":"<p>To reduce the number of interrupts, many NICs use\u00a0interrupt moderation. With interrupt moderation, ==the NIC hardware will not generate an interrupt immediately after it receives a packet==. ==Instead, the hardware waits for more packets to arrive, or for a time-out to expire, before generating an interrupt. ==The hardware vendor specifies the maximum number of packets, time-out interval, or other interrupt moderation algorithm.</p> <p>The measured round-trip time for a packet is one of the most commonly used techniques to determine the network bandwidth between two endpoints. However, when interrupt moderation is enabled, receiving a packet does not generate an immediate interrupt and therefore the perceived round-trip time for a particular packet becomes larger than the average time. To allow accurate measurement of round trip time for a packet, NDIS provides the ability to disable and enable interrupt moderation on demand.</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#kernel-software","title":"kernel software","text":"<p>\"Kernel (computer science)\" redirects here. For other uses, see\u00a0Kernel (disambiguation) \u00a7\u00a0Computing.</p> <p>The\u00a0kernel\u00a0is a\u00a0computer program\u00a0at the core of a computer's\u00a0operating system\u00a0and generally has complete control over everything in the system. Kernel is also responsible for preventing and mitigating conflicts between different processes[1]\u00a0It is the portion of the operating system code that is always resident in memory[2]\u00a0and facilitates interactions between hardware and software components. A full kernel controls all hardware resources (e.g. I/O, memory, cryptography) via\u00a0device drivers, arbitrates conflicts between processes concerning such resources, and optimizes the utilization of common resources e.g. CPU &amp; cache usage, file systems, and network sockets. On most systems, the kernel is one of the first programs loaded on\u00a0startup(after the\u00a0bootloader). It handles the rest of startup as well as memory,\u00a0peripherals, and\u00a0input/output\u00a0(I/O) requests from\u00a0software, translating them into\u00a0data-processinginstructions for the\u00a0central processing unit.</p> <p>\u6709\u4e0d\u540c\u7684\u5185\u6838\u67b6\u6784\u8bbe\u8ba1\u3002\u6574\u4f53\u5185\u6838\u5b8c\u5168\u5728\u5355\u4e2a\u5730\u5740\u7a7a\u95f4\u4e2d\u8fd0\u884c\uff0cCPU\u5728\u4e3b\u7ba1\u6a21\u5f0f\u4e0b\u8fd0\u884c\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u901f\u5ea6\u3002\u5fae\u5185\u6838\u5728\u7528\u6237\u7a7a\u95f4\u4e2d\u8fd0\u884c\u5176\u5927\u591a\u6570\u4f46\u4e0d\u662f\u6240\u6709\u670d\u52a1\uff0c[3]\u50cf\u7528\u6237\u6d41\u7a0b\u4e00\u6837\uff0c\u4e3b\u8981\u662f\u4e3a\u4e86\u5f39\u6027\u548c\u6a21\u5757\u5316\u3002[4] MINIX 3\u662f\u5fae\u5185\u6838\u8bbe\u8ba1\u7684\u4e00\u4e2a\u663e\u8457\u4f8b\u5b50\u3002\u76f8\u53cd\uff0cLinux\u5185\u6838\u662f\u5355\u4e00\u7684\uff0c\u5c3d\u7ba1\u5b83\u4e5f\u662f\u6a21\u5757\u5316\u7684\uff0c\u56e0\u4e3a\u5b83\u53ef\u4ee5\u5728\u8fd0\u884c\u65f6\u63d2\u5165\u548c\u5220\u9664\u53ef\u52a0\u8f7d\u7684\u5185\u6838\u6a21\u5757\u3002</p> <p>\u8ba1\u7b97\u673a\u7cfb\u7edf\u7684\u8fd9\u4e2a\u6838\u5fc3\u7ec4\u4ef6\u8d1f\u8d23\u6267\u884c\u7a0b\u5e8f\u3002\u5185\u6838\u8d1f\u8d23\u968f\u65f6\u51b3\u5b9a\u8bb8\u591a\u6b63\u5728\u8fd0\u884c\u7684\u7a0b\u5e8f\u4e2d\u54ea\u4e00\u4e2a\u5e94\u8be5\u5206\u914d\u7ed9\u5904\u7406\u5668\u6216\u5904\u7406\u5668</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#infiniband","title":"Infiniband","text":"<p>InfiniBand\u00a0(IB) is a ==computer networking communications standard ==used in\u00a0high-performance computing\u00a0that features very high\u00a0throughput\u00a0and very low\u00a0latency. It is used for data interconnect both among and within computers. InfiniBand is also used as either a direct or switched interconnect between servers and storage systems, as well as an interconnect between storage systems. It is designed to be\u00a0scalable\u00a0and uses a\u00a0switched fabric network topology. By 2014, it was the most commonly used interconnect in the\u00a0TOP500list of supercomputers, until about 2016.[1]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#head-of-the-line-blocking","title":"head-of-the line blocking","text":"<p>Head-of-line blocking\u00a0(HOL blocking) in\u00a0computer networking\u00a0is a performance-limiting phenomenon that occurs when a line of\u00a0packets\u00a0is held up in a\u00a0queue\u00a0by a first packet. Examples include input buffered\u00a0network switches,\u00a0out-of-order deliveryand multiple requests in\u00a0HTTP pipelining.</p> <p>A switch may be composed of\u00a0buffered\u00a0input ports, a switch fabric and buffered output ports. If\u00a0first-in first-out\u00a0(FIFO) input buffers are used, only the oldest packet is available for forwarding. If the oldest packet cannot be transmitted due to its target output being busy, then more recent arrivals cannot be forwarded. The output may be busy if there is output\u00a0contention. \uff08In\u00a0computer science,\u00a0resource contention\u00a0is a conflict over access to a\u00a0shared resource\u00a0such as\u00a0random access memory,\u00a0disk storage,\u00a0cache memory, internal\u00a0buses\u00a0or external network devices. A resource experiencing ongoing contention can be described as\u00a0oversubscribed.\uff09</p> <p>Without HOL blocking, the new arrivals could potentially be forwarded around the stuck oldest packet to their respective destinations. HOL blocking can produce performance-degrading effects in input-buffered systems.</p> <p>This phenomenon limits the throughput of switches. For FIFO input buffers, a simple model of fixed-sized cells to uniformly distributed destinations, causes the throughput to be limited to 58.6% of the total as the number of links becomes large.[1]</p> <p>One way to overcome this limitation is by using\u00a0virtual output queues.[2]</p> <p>Only switches with input buffering can suffer HOL blocking. With sufficient internal bandwidth, input buffering is unnecessary; all buffering is handled at outputs and HOL blocking is avoided. This no-input-buffering architecture is common in small to medium-sized\u00a0ethernet switches.</p> <p>[\u8865\u5145\u6750\u6599]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#voq","title":"VOQ","text":"<p>\u865a\u62df\u8f93\u51fa\u961f\u5217\uff08VOQ\uff09\u662f\u67d0\u4e9b\u7f51\u7edc\u4ea4\u6362\u673a\u67b6\u6784\u4e2d\u4f7f\u7528\u7684\u4e00\u79cd\u6280\u672f\uff0c\u5176\u4e2d\u4e0d\u662f\u5c06\u6240\u6709\u6d41\u91cf\u4fdd\u7559\u5728\u5355\u4e2a\u961f\u5217\u4e2d\uff0c\u800c\u662f\u4e3a\u6bcf\u4e2a\u53ef\u80fd\u7684\u8f93\u51fa\u4f4d\u7f6e\u7ef4\u62a4\u5355\u72ec\u7684\u961f\u5217\u3002\u5b83\u89e3\u51b3\u4e86\u88ab\u79f0\u4e3a\u4e00\u7ebf\u62e6\u622a\u7684\u5e38\u89c1\u95ee\u9898\u3002[1]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#potential-for-deadlock","title":"potential for deadlock","text":"<p>\u5728\u5e76\u53d1\u8ba1\u7b97\u4e2d\uff0c\u6b7b\u9501\u662f\u6307\u67d0\u4e9b\u5b9e\u4f53\u7ec4\u4e2d\u7684\u4efb\u4f55\u6210\u5458\u90fd\u65e0\u6cd5\u7ee7\u7eed\u8fdb\u884c\u7684\u4efb\u4f55\u60c5\u51b5\uff0c\u56e0\u4e3a\u6bcf\u4e2a\u6210\u5458\u90fd\u5728\u7b49\u5f85\u5305\u62ec\u81ea\u8eab\u5728\u5185\u7684\u53e6\u4e00\u4e2a\u6210\u5458\u91c7\u53d6\u884c\u52a8\uff0c\u4f8b\u5982\u53d1\u9001\u6d88\u606f\u6216\u66f4\u5e38\u89c1\u7684\u662f\u91ca\u653e\u9501\u3002[1]\u6b7b\u9501\u662f\u591a\u5904\u7406\u7cfb\u7edf\u3001\u5e76\u884c\u8ba1\u7b97\u548c\u5206\u5e03\u5f0f\u7cfb\u7edf\u4e2d\u7684\u4e00\u4e2a\u5e38\u89c1\u95ee\u9898\uff0c\u56e0\u4e3a\u5728\u8fd9\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7cfb\u7edf\u901a\u5e38\u4f7f\u7528\u8f6f\u4ef6\u6216\u786c\u4ef6\u9501\u6765\u4ef2\u88c1\u5171\u4eab\u8d44\u6e90\u5e76\u5b9e\u73b0\u6d41\u7a0b\u540c\u6b65\u3002[2]</p> <p>\u5728\u64cd\u4f5c\u7cfb\u7edf\u4e2d\uff0c\u5f53\u8fdb\u7a0b\u6216\u7ebf\u7a0b\u8fdb\u5165\u7b49\u5f85\u72b6\u6001\u65f6\u4f1a\u53d1\u751f\u6b7b\u9501\uff0c\u56e0\u4e3a\u8bf7\u6c42\u7684\u7cfb\u7edf\u8d44\u6e90\u88ab\u53e6\u4e00\u4e2a\u7b49\u5f85\u8fdb\u7a0b\u6301\u6709\uff0c\u800c\u53e6\u4e00\u4e2a\u7b49\u5f85\u8fdb\u7a0b\u53c8\u5728\u7b49\u5f85\u53e6\u4e00\u4e2a\u7b49\u5f85\u8fdb\u7a0b\u6301\u6709\u7684\u53e6\u4e00\u4e2a\u8d44\u6e90\u3002[3]\u5982\u679c\u4e00\u4e2a\u8fdb\u7a0b\u7531\u4e8e\u5b83\u8bf7\u6c42\u7684\u8d44\u6e90\u88ab\u53e6\u4e00\u4e2a\u672c\u8eab\u6b63\u5728\u7b49\u5f85\u7684\u8fdb\u7a0b\u4f7f\u7528\u800c\u65e0\u9650\u671f\u5730\u65e0\u6cd5\u6539\u53d8\u5176\u72b6\u6001\uff0c\u90a3\u4e48\u8be5\u7cfb\u7edf\u88ab\u79f0\u4e3a\u9677\u5165\u50f5\u5c40\u3002</p> <p></p> <p></p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#rdma-transport-livelock","title":"RDMA transport livelock","text":"<p>\"Livelock\" redirects here. For the video game, see\u00a0Livelock (video game).</p> <p>A\u00a0livelock\u00a0is similar to a deadlock, except that the states of the processes involved in the livelock constantly change with regard to one another, none progressing.</p> <p>The term was coined by\u00a0Edward A. Ashcroft\u00a0in a 1975 paper[18]\u00a0in connection with an examination of airline booking systems.[19]\u00a0Livelock is a special case of\u00a0resource starvation; the general definition only states that a specific process is not progressing.[20]</p> <p>Livelock is a risk with some\u00a0algorithms\u00a0that detect and recover from\u00a0deadlock. If more than one process takes action, the\u00a0deadlock detection algorithm\u00a0can be repeatedly triggered. This can be avoided by ensuring that only one process (chosen arbitrarily or by priority) takes action.[21]</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#the-nic-pfc-pause-frame-storm","title":"the NIC PFC pause frame storm","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#the-slowreceiver-symptom","title":"the slowreceiver symptom","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#vlan-32-tags","title":"VLAN [32] tags","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#vlan","title":"VLAN\u6280\u672f\u8981\u70b9\u4e3b\u8981\u6709\u4e24\u70b9\uff1a","text":"<p>1.==\u652f\u6301VLAN\u7684\u4ea4\u6362\u673a\u7684\u5185\u90e8\u4ea4\u6362==\u539f\u7406\uff1b 2.\u8bbe\u5907\u4e4b\u95f4(\u4ea4\u6362\u673a\u4e4b\u95f4\uff0c\u4ea4\u6362\u673a\u4e0e\u8def\u7531\u5668\u4e4b\u95f4\uff0c\u4ea4\u6362\u673a\u4e0e\u4e3b\u673a\u4e4b\u95f4)\u4ea4\u4e92\u65f6\uff0cVLAN TAG\u7684\u6dfb\u52a0\u548c\u79fb\u9664\u3002</p> <p>802.1Q VLAN\u53ea\u5b9a\u4e49\u4e86\u6570\u636e\u5e27\u7684\u5c01\u88c5\u683c\u5f0f\uff0c\u5373\uff0c\u5728\u4ee5\u592a\u7f51\u5e27\u5934\u4e2d\u63d2\u5165\u4e864\u4e2a\u5b57\u8282\u7684VLAN\u5b57\u6bb5\u3002\u5176\u4e3b\u8981\u5185\u5bb9\u4e3aVLAN TAG\uff0c\u7d27\u968f\u5176\u540e\u7684\u6570\u636e\u7c7b\u578b\u548c802.1p\u62a5\u6587\u4f18\u5148\u7ea7\u7684\u6807\u8bc6\u3002</p> <p>\u4ee5\u592a\u7f51\u5e27\u683c\u5f0f | DMAC(6bytes) | SMAC(6bytes) | Ether-Type(2bytes) | DATA |</p> <p>\u5e26VLAN TAG\u7684\u4ee5\u592a\u7f51\u5e27\u683c\u5f0f | DMAC(6bytes) | SMAC(6bytes) | Ether-Type(0x8100) | VLAN(4bytes) | DATA |</p> <p>VLAN TAG\u7684\u683c\u5f0f | PRI(3bits) | CFI(1bit) | TAG(12bits) | Ether-Type(2bytes) | DATA |</p> <p>PRI\uff1a\u5e27\u4f18\u5148\u7ea7\uff0c\u5c31\u662f\u901a\u5e38\u6240\u8bf4\u7684802.1p\u3002</p> <p>CFI\uff1a\u89c4\u8303\u6807\u8bc6\u4f4d\uff0c0\u4e3a\u89c4\u8303\u683c\u5f0f\uff0c\u7528\u4e8e802.3\u6216EthII\u3002</p> <p>TAG\uff1a\u5c31\u662f\u6211\u4eec\u901a\u5e38\u8bf4\u7684VLAN ID</p> <p>Ether-Type\uff1a\u6807\u8bc6\u7d27\u968f\u5176\u540e\u7684\u6570\u636e\u7c7b\u578b\u3002</p> <p>PC\uff1a\u5927\u90e8\u5206\u7684==PC\uff08\u4e13\u7528\u7684\uff0c\u6216\u7528\u4e8e\u6d4b\u8bd5\u7684\u9664\u5916\uff09\u662f\u5de5\u4f5c\u5728\u5e94\u7528\u5c42\u7684\uff0c\u7f3a\u7701\u60c5\u51b5\u4e0b\u662f\u4e0d\u652f\u6301(\u5176\u5b9e\u4e5f\u4e0d\u9700\u8981)VLAN TAG\u7684==\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c==PC\u53d1\u51fa\u7684\u90fd\u662fUNTAGED\u6570\u636e\u5e27\u3002==</p> <p>Router\uff1a\u8def\u7531\u5668\u662f\u652f\u6301VLAN TAG\u7684\u3002\u4e5f\u5c31\u662f\u8bf4\uff0c==\u8def\u7531\u5668\u53ef\u4ee5\u53d1\u51faTAGED\u6570\u636e\u5e27\uff0c\u4e5f\u53ef\u4ee5\u53d1\u51faUNTAGED\u6570\u636e\u5e27==\u3002\u9700\u8981\u8bf4\u660e\u7684\u662f\uff0c\u8def\u7531\u5668\u662f==\u5904\u7406\u6570\u636e\u5305\u7684\u4e09\u5c42\u4fe1\u606f==\u7684\uff0c==\u5bf9\u4e8e\u4e8c\u5c42\u4fe1\u606f\uff08\u5305\u62ecVLAN\u4fe1\u606f\uff09\uff0c\u8def\u7531\u5668\u53ea\u662f\u68c0\u67e5\u5176\u6709\u6548\u6027\uff0c\u4e4b\u540e\u5c06\u5176\u5265\u79bb==\u3002\u8fd9\u4e2a\u8fc7\u7a0b\u5c31\u662f\u6211\u4eec\u5e38\u8bf4\u7684\u2018\u7ec8\u7ed3\u2019\uff0c\u4e5f\u5c31\u662f\u8bf4\uff0c\u8def\u7531\u5668\u4f1a\u7ec8\u7ed3\u6389\u62a5\u6587\u7684VLAN\u4fe1\u606f\u7684\u3002</p> <p>Switch\uff1a\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u3002VLAN\u6280\u672f\u5c31\u662f\u4e3b\u8981\u9488\u5bf9\u4e8e\u4ea4\u6362\u673a\u63d0\u51fa\u7684\uff0c\u6240\u4ee5\uff0c\u5728\u8ba8\u8bbaVLAN\u6982\u5ff5\u65f6\u90fd\u662f\u7acb\u8db3\u4e8e\u4ea4\u6362\u673a\u6765\u8ba8\u8bba\u3002\u5f88\u663e\u7136\uff0c==\u4ea4\u6362\u673a\u65e2\u652f\u6301\u6536\u53d1TAGED\u6570\u636e\u5e27\uff0c\u4e5f\u652f\u6301\u6536\u53d1UNTAGED\u6570\u636e\u5e27==\u3002\u4ece\u4e25\u683c\u610f\u4e49\u4e0a\u8bb2\uff0c\u5f15\u5165VLAN\u540e\uff0c\u4ea4\u6362\u673a\u7684\u884c\u4e3a\u4e0d\u518d\u662f\u2018\u900f\u660e\u4f20\u8f93\u2019\uff0c\u56e0\u4e3a\u6570\u636e\u5e27\u7ecf\u8fc7\u4ea4\u6362\u673a\u540e\u53ef\u80fd\u53d1\u751f\u4e86\u53d8\u5316\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#_1","title":"\u5178\u578b\u914d\u7f6e","text":"<p>\u4ea4\u6362\u673a\u8fde\u63a5\u4e0d\u540c\u5178\u578b\u8bbe\u5907\u65f6\u7684\u5e38\u7528\u914d\u7f6e\u3002</p> <p>1). \u8fde\u63a5PC \u5728\u901a\u5e38\u60c5\u51b5\u4e0b\uff0cPC\u53ea\u652f\u6301\u6536\u53d1UNTAG\u7684\u6570\u636e\u5e27\uff0c\u6240\u4ee5\uff0c\u8fde\u63a5PC\u7684\u7aef\u53e3\u53ea\u9700\u8981\u52a0\u5165\u4e00\u4e2aVLAN\uff0c\u800c\u4e14\uff0c\u5728\u8be5VLAN\u4e2d\u7684\u5c5e\u6027\u4e3aUNTAG\u3002</p> <p>2). \u8fde\u63a5Router \u8def\u7531\u5668\u65e2\u652f\u6301\u6536\u53d1TAG\u6570\u636e\u5e27\uff0c\u4e5f\u652f\u6301\u6536\u53d1UNTAG\u6570\u636e\u5e27\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u4e0d\u540c\u7684VLAN\u6570\u636e\u5e27\u90fd\u80fd\u901a\u8fc7\u8be5\u7aef\u53e3\u4e0e\u8def\u7531\u5668\u4e92\u901a\u3002\u6240\u4ee5\u8fde\u63a5\u8def\u7531\u5668\u7684\u7aef\u53e3\u53ef\u4ee5\u5c5e\u4e8e\u591a\u4e2aVLAN\uff0c\u800c\u4e14\uff0c\u53ea\u80fd\u5728\u4e00\u4e2aVLAN\u4e2d\u7684\u5c5e\u6027\u662fUNTAG\u7684\uff0c\u5728\u5176\u4ed6\u7684VLAN\u4e2d\u90fd\u662fTAG\u7684\u3002</p> <p>3). \u8fde\u63a5Switch \u4e5f\u5c31\u662f\u4ea4\u6362\u673a\u7684\u7ea7\u8054\u3002\u901a\u5e38\u60c5\u51b5\u4e0b\u662f\u4e0d\u540c\u6027\u80fd\u7684\u4ea4\u6362\u673a\u8fdb\u884c\u7ea7\u8054\u3002\u8fd9\u79cd\u60c5\u51b5\u548c\u8fde\u63a5\u8def\u7531\u5668\u7684\u60c5\u51b5\u57fa\u672c\u76f8\u540c\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#vlantag","title":"\u4ea4\u6362\u673a\u5bf9VLAN\u7684tag\u5904\u7406","text":"<p>==\u6240\u6709\u80fd\u611f\u77e5VLAN\u7684\u4ea4\u6362\u673a\uff0c\u62a5\u6587\u5728\u4ea4\u6362\u673a\u5185\u90e8\u8f6c\u53d1\u8fc7\u7a0b\u4e2d\u90fd\u662f\u5e26Tag\u7684==\u3002\u5728==\u4ea4\u7ed9\u4ea4\u6362\u82af\u7247\u5904\u7406\u4e4b\u524d\uff0c\u6216\u8005\u4ea4\u6362\u82af\u7247\u4ea4\u7ed9\u7aef\u53e3\u65f6\u4f1a\u6839\u636e\u7aef\u53e3\u7684\u8bbe\u7f6e\u6dfb\u52a0\u6216\u53bb\u6389Tag\u3002== \uff08\u5185\u90e8\u6052\u5e26tag\uff0c\u5bf9\u5916\u662f\u5426\u6709tag\u6839\u636e\u7c7b\u578b\u9700\u6c42\u5f85\u5b9a\uff09</p> <p>\u5982\u679c\u6ca1\u6709\u8fdb\u884c\u914d\u7f6e\uff0c\u9ed8\u8ba4\u6240\u6709\u7684\u7aef\u53e3\u90fd\u5904\u4e8eAccess\u6a21\u5f0f\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u7aef\u53e3\u6765\u8bf4\u4e0eVLAN\u76f8\u5173\u7684\u6709\u4e09\u4e2a\u5c5e\u6027\uff0cPVID\u3001Tag Vlan\u3001Untag Vlan\u3002 1\uff09PVID\u6709\u4e14\u53ea\u6709\u4e00\u4e2a\uff0cTag Vlan\u548cUntag Vlan\u53ef\u80fd\u6709\u4e00\u4e2a\uff0c\u591a\u4e2a\uff0c\u4e5f\u53ef\u4ee5\u6ca1\u6709\uff0c\u4f46\u4e24\u4e2a\u4e2d\u81f3\u5c11\u6709\u4e00\u4e2a\u3002 2\uff09PVID\u7684\u4f5c\u7528\u662f\uff1a\u5982\u679c\u6b64\u7aef\u53e3\u6536\u5230\u4e00\u4e2aUntag\u7684\u62a5\u6587\uff0c\u5219\u4ea4\u6362\u673a\u4f1a\u6839\u636ePVID\u7684\u503c\u7ed9\u6b64\u62a5\u6587\u6253\u4e0a\u7b49\u4e8ePVID\u7684Tag\uff0c\u7136\u540e\u4ea4\u7ed9\u4ea4\u6362\u82af\u7247\u5904\u7406\uff1b\u5982\u679c\u4ea4\u6362\u82af\u7247\u8981\u5c06\u4e00\u4e2a\u62a5\u6587\u4ece\u6b64\u7aef\u53e3\u53d1\u9001\uff0c\u53d1\u73b0\u6b64\u62a5\u6587\u7684Tag\u503c\u4e0ePVID\u76f8\u540c\uff0c\u5219\u4f1a\u5c06Tag\u53bb\u6389\uff0c\u7136\u540e\u4ece\u6b64\u7aef\u53e3\u53d1\u9001\u51fa\u53bb\u3002 3\uff09Tag Vlan\u548cUntag Vlan\u4e3b\u8981\u662f\u7528\u4e8e\u62a5\u6587\u53d1\u9001\u7684\u5904\u7406\uff0c\u5982\u679c\u4ea4\u6362\u82af\u7247\u8981\u5c06\u62a5\u6587\u4ece\u6b64\u7aef\u53e3\u53d1\u9001\uff0c\u53d1\u73b0\u62a5\u6587\u7684Tag\u5728\u6b64\u7aef\u53e3\u7684Tag Vlan\u4e2d\uff0c\u4e14\u4e0d\u7b49\u4e8ePVID\uff0c\u5219\u6b64\u62a5\u6587\u5c06\u4ee5Tag\u7684\u5f62\u5f0f\u53d1\u9001\u51fa\u53bb\uff0c\u5982\u679c\u5728Untag Vlan\u4e2d\uff0c\u5219\u4ee5Untag\u5f62\u5f0f\u53d1\u51fa\u53bb\u3002\u5982\u679c\u62a5\u6587\u7684Tag\u65e2\u4e0d\u5728Tag Vlan\u4e2d\uff0c\u4e5f\u4e0d\u5728Untag Vlan\u4e2d\uff0c\u5219\u53ea\u6709\u4e00\u79cd\u53ef\u80fd\uff0c\u4ea4\u6362\u82af\u7247\u51fa\u6bdb\u75c5\u4e86\u3002\u8fd9\u5c31\u662f\u4ea4\u6362\u673a\u5904\u7406Vlan Tag\u7684\u57fa\u672c\u539f\u5219\u4e86\u3002\u53ef\u4ee5\u5982\u56fe\u6240\u793a\uff0c\u5373Tag\u5904\u7406\u53ea\u5728\u4ea4\u6362\u82af\u7247\u7684\u8fdb\u3001\u51fa\u65f6\u523b\u3002</p> <p></p> <p>\u8fd9\u91cc\u505a\u4e86\u7b80\u5316\uff0c\u5047\u8bbe\u4e00\u4e2a\u62a5\u6587\u4ecePort1\u5165\uff0c\u4ecePort2\u51fa\uff0c\u671f\u95f4\u53ef\u80fd\u7ecf\u8fc7\u7684\u73af\u8282\u5982\u4e0a\u6240\u793a\u76841\uff0d5\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#tag15","title":"\u62a5\u6587\u7684Tag\u5904\u7406\u4e3b\u8981\u57281\u30015","text":"<p>\u73af\u82821\uff1a\u5982\u679c\u62a5\u6587\u7684\u662fUntag\u7684\uff0c\u5219\u62a5\u6587\u88ab\u52a0\u4e0aPort1\u7684PVID\u7684tag\uff0c\u7136\u540e\u9001\u7ed92\u5c42\u8f6c\u53d1\u5f15\u64ceL2\u3002\u5982\u679c\u62a5\u6587\u7684Tag\u4e0d\u662fPort1\u6240\u5c5e\u7684VLAN\uff0c\u5219\u62a5\u6587\u4e22\u5f03\u3002</p> <p>\u73af\u82825\uff1a\u5982\u679c\u62a5\u6587\u6b64\u65f6\u7684Tag\u7b49\u4e8ePort2\u7684PVID\uff0c\u5219\u62a5\u6587\u53bbTag\uff0c\u53d8\u4e3aUntag\u7684\uff0c\u5982\u679c\u62a5\u6587\u7684Tag\u5728\u7aef\u53e3\u7684Untag\u5217\u8868\u91cc\uff0c\u62a5\u6587\u53bb\u6389Tag\uff0c\u53d8\u4e3aUntag\u3002\u5982\u679c\u62a5\u6587\u7684Tag\u4e0d\u662fPort2\u7684PVID\uff0c\u4f46\u5728\u7aef\u53e3\u7684Tag\u5217\u8868\u91cc\uff0c\u62a5\u6587Tag\u4e0d\u53d8\u3002</p> <p>\u5bf9\u4e8e\u4efb\u610f\u7aef\u53e3\u6765\u8bf4\uff0c\u53ea\u80fd\u662f\u4e09\u79cd\u7c7b\u578b\u7684\u4e00\u79cd\uff1aAccess\uff0cTrunk\uff0cMulti\u3002</p> <p>\u30101\u3011\u5982\u679c\u662fAccess\uff0c\u7aef\u53e3\u53ea\u80fd\u5c5e\u4e8e\u7279\u5b9aVLAN\uff0c\u53ea\u80fd\u6709\u4e00\u4e2aUntag\u7684VLAN\uff0c\u4e14\u5176\u7b49\u4e8ePVID\uff0c\u6ca1\u6709Tag\u7684VLAN\u3002\u56e0\u6b64Access\u7aef\u53e3\u53ea\u80fd\u63a5\u6536Untag\u7684\u62a5\u6587\u6216\u6240\u5c5e\u7684VLAN\uff0c\u5373\u7b49\u4e8ePVID\u7684VLAN\u3002\u51fa\u53bb\u7684\u62a5\u6587\u90fd\u662fUntag\u7684\u3002</p> <p>\u30102\u3011\u5982\u679c\u662fTrunk\u7aef\u53e3\uff0c\u7aef\u53e3\u53ea\u80fd\u6709\u4e00\u4e2aUntag\u7684VLAN\uff0c\u4e14\u5176\u7b49\u4e8ePVID\uff0c\u6709\u591a\u4e2aTag\u7684VLAN\u3002\u7aef\u53e3\u53ef\u4ee5\u63a5\u6536\u5728\u6240\u6709\u5141\u8bb8\u7684VLAN\u548cUntag\u7684\u62a5\u6587\uff0c\u5982\u679c\u662fUntag\u7684\u62a5\u6587\uff0c\u5219\u5728PVID\u6240\u5728\u7684VLAN\u8f6c\u53d1\u3002\u62a5\u6587\u53d1\u9001\u65f6\uff0c\u6309\u4e0a\u8ff0\u89c4\u5219\u8f6c\u53d1\uff0c\u5373\u53ef\u80fd\u662fTag\u7684\uff0c\u4e5f\u53ef\u80fd\u662fUntag\u7684\u3002</p> <p>\u30103\u3011Multi\u7aef\u53e3\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u7aef\u53e3\uff0c\u4efb\u4f55VLAN\u53ef\u80fd\u5c5e\u4e8e\u6b64\u7aef\u53e3\u7684Untag\u7684\uff0c\u4e5f\u53ef\u4ee5\u5c5e\u4e8eTag\u7684\u3002PVID\u53ef\u80fd\u7b49\u4e8eTag VLAN\u4e2d\u7684\u4e00\u4e2a\uff0c\u4e5f\u53ef\u80fd\u5c5e\u4e8eUntag VLAN\u4e2d\u7684\u4e00\u4e2a\u3002\u56e0\u6b64\u8fd9\u91cc\u5c31\u6709\u77db\u76fe\u7684\u662f\uff0c\u5982\u679cPVID\u662fTag VLAN\u4e2d\u7684\u4e00\u4e2a\uff0c\u8f6c\u53d1\u65f6\u4ecd\u6309PVID\u6765\u5904\u7406\uff0c\u4e5f\u5c31\u662f\u4e0a\u8ff0\u7684\u89c4\u5219\uff0c\u5148\u8fdb\u884c\u62a5\u6587\u7684Tag\u4e0ePVID\u7684\u6bd4\u8f83\uff0c\u53ea\u8981\u76f8\u7b49\u5c31\u7ed9Untag\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#_2","title":"\u53ef\u4ee5\u518d\u7b80\u8981\u5206\u6790\u51e0\u79cd\u8f6c\u53d1\u60c5\u51b5\u3002","text":"<p>\u5982\u679c\u62a5\u6587\u4ecePort1\u5165\uff0c\u5982\u679c\u62a5\u6587\u662fUntag\u7684\uff0c\u6216\u8005\u62a5\u6587\u7684Tag\u662fPort1\u6240\u5c5e\u7684VLAN\uff0c\u5219\u62a5\u6587\u662f\u5408\u6cd5\u7684\u3002\u5982\u679c\u62a5\u6587\u7684MAC\u5730\u5740\u4e0d\u7b49\u4e8e\u7aef\u53e3\u7684VLAN\u7684MAC\u5730\u5740\uff0c\u5219\u8fdb\u884c\u4e8c\u5c42\u8f6c\u53d1\u3002\u5982\u679cL2\u5f15\u64ce\u67e5\u627e\u5230\u76ee\u7684MAC\u7684\u8868\u9879\uff0c\u5219\u6309\u7aef\u53e3\u8f6c\u53d1\uff0c\u5426\u5219\u5728VLAN\u5185\u5e7f\u64ad\u3002</p> <p>\u5982\u679c\u62a5\u6587\u7684MAC\u5730\u5740\u7b49\u4e8e\u7aef\u53e3\u7684VLAN\u7684MAC\u5730\u5740\uff0c\u4e14\u6b64VLAN\u7684\u4e09\u5c42\u63a5\u53e3\u662fUP\u7684\uff0c\u5219\u4f1a\u8fdb\u884c\u4e09\u5c42\u8f6c\u53d1\u3002\u62a5\u6587\u901a\u8fc7\u73af\u82823\u5230\u4e09\u5c42\u8f6c\u53d1\u5f15\u64ce\uff0c\u5982\u679c\u4e09\u5c42\u8f6c\u53d1\u5f15\u64ce\u5339\u914d\u5230\u4e86\u76ee\u7684IP\uff0c\u5219\u786c\u4ef6\u76f4\u63a5\u8f6c\u53d1\uff0c\u4ece\u73af\u82825\u51fa\uff0c\u6b64\u65f6Tag\u5df2\u7ecf\u53d8\u6210\u51fa\u63a5\u53e3VLAN\u7684Tag\uff0c\u7136\u540e\u5728\u6309\u7167\u7aef\u53e3\u8f6c\u53d1\u539f\u5219\u8fdb\u884c\u8f6c\u53d1\u3002\u56e0\u6b64\uff0c\u4e09\u5c42\u62a5\u6587\u5982\u679c\u4eceTrunk\u7aef\u53e3\u51fa\uff0c\u53ef\u80fd\u662fTag\u7684\uff0c\u4e5f\u53ef\u80fd\u662fUntag\u7684\uff0c\u5982\u679c\u662fUntag\u7684\uff0c\u90a3\u80af\u5b9a\u662f\u62a5\u6587\u51fa\u63a5\u53e3\u7684PVID\u6240\u5bf9\u5e94\u7684VLAN\u3002</p> <p>\u8fd9\u91cc\u8fd8\u6709\u4e00\u4e2a\u7ec6\u8282\u662f\u4ea4\u6362\u673a\u5982\u4f55\u5bf9\u534f\u8bae\u62a5\u6587\u7684\u5904\u7406\uff0c\u6700\u9891\u7e41\u7684\u5e94\u8be5\u662fARP\u7684\u8bf7\u6c42\u62a5\u6587\uff0c\u5176\u4f59\u8fd8\u6709\u4e00\u4e9b\u8def\u7531\u534f\u8bae\u6216\u5176\u4ed6\u534f\u8bae\u62a5\u6587\u3002ARP\u62a5\u6587\u7684\u76ee\u7684MAC\u662f\u5e7f\u64ad\u7684\uff0c\u4e0d\u7b49\u4e8eVLAN\u7684\u76ee\u7684MAC\uff0c\u56e0\u6b64\u4f1a\u5c06\u6b64\u62a5\u6587\u5728VLAN\u5185\u5e7f\u64ad\uff0c\u5bf9\u6240\u6709VLAN\u6765\u8bf4\uff0cCPU\u4e5f\u662f\u5176\u7684\u4e00\u4e2a\u7aef\u53e3\u3002\u56e0\u6b64CPU\u662f\u53ef\u4ee5\u6536\u5230\u5176\u4ed6\u4e3b\u673a\u6216\u7f51\u7edc\u8bbe\u5907\u5bf9\u5176IP\u7684ARP\u8bf7\u6c42\uff0c\u6b63\u786e\u5904\u7406\u4e4b\u540e\uff0c\u5176\u4ed6\u4e3b\u673a\u6216\u7f51\u7edc\u8bbe\u5907\u4ee5\u540e\u5c31\u53ef\u4ee5\u4f7f\u7528\u6b64MAC\u8fdb\u884c\u4e09\u5c42\u901a\u4fe1\u4e86\u3002</p> <p>\u5f15\u5165VLAN\u6982\u5ff5\u540e\uff0c\u6570\u636e\u5e27\u53ea\u5728\u76f8\u5e94\u7684VLAN\u8fdb\u884c\u4ea4\u6362\u3002\u7528\u901a\u4fd7\u4e00\u70b9\u7684\u8bdd\u6765\u8bb2\uff0c\u4e00\u4e2a\u4ea4\u6362\u673a\u88ab\u865a\u62df\u51fa\u4e86\u591a\u4e2a\u903b\u8f91\u4ea4\u6362\u673a\uff0c\u6bcf\u4e00\u4e2aVLAN\u5185\u7684\u7aef\u53e3\u90fd\u662f\u4e00\u4e2a\u903b\u8f91\u4e0a\u7684\u4ea4\u6362\u673a\u3002\u7528\u4e13\u4e1a\u4e00\u70b9\u7684\u8bdd\u6765\u8bb2\uff0c\u4e00\u4e2a\u4ea4\u6362\u673a\u88ab\u5212\u5206\u4e86\u591a\u4e2a\u4e0d\u540c\u7684\u5e7f\u64ad\u57df\uff0c\u6bcf\u4e00\u4e2aVLAN\u5185\u7684\u7aef\u53e3\uff0c\u5728\u540c\u4e00\u4e2a\u5e7f\u64ad\u57df\u5185\u3002</p> <p>\u5f15\u5165VLAN\u540e\u7684\u4ea4\u6362\u539f\u7406\u4e0e\u4f20\u7edf\u7684\u4ea4\u6362\u539f\u7406\u76f8\u6bd4\uff0c\u5e76\u6ca1\u6709\u672c\u8d28\u4e0a\u7684\u6539\u53d8\uff0c\u540c\u6837\u9075\u5faa\u2018\u6e90MAC\u5b66\u4e60\uff0c\u76ee\u7684MAC\u8f6c\u53d1\u2019\u7684\u57fa\u672c\u539f\u5219\u3002\u552f\u4e00\u4e0d\u540c\u7684\u662f\uff0c\u5b66\u4e60\u548c\u8f6c\u53d1\u90fd\u53ea\u5728\u540c\u4e00\u4e2aVLAN\u4e2d\u8fdb\u884c\uff0c\u6570\u636e\u5e27\u4e0d\u80fd\u8de8VLAN\u4ea4\u6362\u6216\u8f6c\u53d1\u3002</p> <p>\u5982\u679c\u6536\u5230\u7684\u6570\u636e\u5e27\u643a\u5e26\u4e86VLAN\u4fe1\u606f \uff08\u901a\u5e38\u79f0\u4e3a'TAGED\u6570\u636e\u5e27'\uff0c\u524d\u9762\u5df2\u7ecf\u4ecb\u7ecd\u4e86\u5e26VLAN TAG\u7684\u4ee5\u592a\u5e27\u683c\u5f0f\uff09\uff0c\u8be5VLAN\u4fe1\u606f\u4e2d\u7684VLAN TAG\u5c31\u662f\u4ea4\u6362\u8be5\u5e27\u7684VLAN\u3002</p> <p>\u5982\u679c\u6536\u5230\u7684\u6570\u636e\u5e27\u6ca1\u6709\u643a\u5e26VLAN\u4fe1\u606f\uff08\u901a\u5e38\u79f0\u4e3a\u2018UNTAGED\u2019\u6570\u636e\u5e27\uff09\uff0c\u6536\u5230\u8be5\u5e27\u7684\u7aef\u53e3\u7684PVID\u5c31\u662f\u4ea4\u6362\u8be5\u5e27\u7684VLAN\u3002</p> <p>\u6839\u636e\u4e0a\u9762\u7684\u539f\u5219\uff0c\u4e5f\u5b9a\u4e49\u4e86PVID\u7684\u6982\u5ff5\u3002\u5f53\u7aef\u53e3\u6536\u5230\u4e00\u4e2aUNTAGED\u6570\u636e\u5e27\u65f6\uff0c\u65e0\u6cd5\u786e\u5b9a\u5728\u54ea\u4e2aVLAN\u4e2d\u8fdb\u884c\u4ea4\u6362\uff0cPVID\u5b9a\u4e49\u4e86\u5728\u8fd9\u79cd\u60c5\u5f62\u4e0b\u4ea4\u6362\u8be5\u5e27\u7684VLAN\u3002\u4ece\u67d0\u79cd\u610f\u4e49\u4e0a\u8bb2\uff0c\u53ef\u4ee5\u628aPVID\u7406\u89e3\u4e3a\u7aef\u53e3\u7684default VLAN\u3002\u5728\u652f\u6301VLAN\u7684\u4ea4\u6362\u673a\u4e2d\uff0c\u6bcf\u4e2a\u7aef\u53e3\u90fd\u6709\u4e00\u4e2aPVID\u503c\uff0c\u8be5\u503c\u6709\u4e00\u4e2a\u7f3a\u7701\u503c\uff0c\u5f53\u7136\u4f60\u4e5f\u53ef\u4ee5\u66f4\u6539\u5b83\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/#_3","title":"\u4ea4\u6362\u673a\u6536\u53d1\u6570\u636e\u5e27\u7684\u5904\u7406\u603b\u7ed3","text":"<p>\u5206\u51e0\u79cd\u60c5\u51b5\u8ba8\u8bba\u4ea4\u6362\u673a\u7684\u63a5\u6536\u548c\u53d1\u9001\u5904\u7406\uff1a\u63a5\u6536\u7aef\u53e3\u548c\u53d1\u9001\u7aef\u53e3\u5728VLAN\u4e2d\u5c5e\u6027\uff1b\u6536\u5230\u7684\u6570\u636e\u5e27\u662fTAG\u7684\u8fd8\u662fUNTAG\u7684\u3002</p> <p>1). \u7aef\u53e3\u63a5\u6536\u5230\u6570\u636e\u5e27</p> <p>a). \u5982\u679c\u662fTAG\u7684\u6570\u636e\u5e27\uff0c\u68c0\u67e5\u8be5\u63a5\u6536\u7aef\u53e3\u662f\u5426\u5728\u8be5VLAN(\u6570\u636e\u5e27\u4e2d\u6240\u643a\u5e26\u7684VLAN TAG)\u4e2d</p> <ul> <li> <p>\u63a5\u6536\u7aef\u53e3\u5728\u8be5VLAN\u4e2d\uff0c\u5219\u5728\u8be5VLAN\u4e2d\u6839\u636e\u4ea4\u6362\u539f\u7406(\u5373\uff0c'\u6e90MAC\u5b66\u4e60\uff0c\u76ee\u7684MAC\u8f6c\u53d1'\u7684\u539f\u7406)\u4ea4\u6362\u8be5\u6570\u636e\u5305</p> </li> <li> <p>\u63a5\u6536\u7aef\u53e3\u4e0d\u5728\u8be5VLAN\u4e2d\uff0c\u4e22\u5f03\u8be5\u6570\u636e\u5e27</p> </li> </ul> <p>b). \u5982\u679c\u662fUNTAG\u7684\u6570\u636e\u5e27\uff0c\u68c0\u67e5\u8be5\u63a5\u6536\u7aef\u53e3\u662f\u5426\u5728\u67d0\u4e2aVLAN\u4e2d\u7684\u5c5e\u6027\u662fUNTAG</p> <ul> <li> <p>\u63a5\u6536\u7aef\u53e3\u5728\u67d0\u4e2aVLAN\u4e2d\u7684\u5c5e\u6027\u662fUNTAG\u7684\uff0c\u5219\u5728\u8be5VLAN\u4e2d\u6839\u636e\u4ea4\u6362\u539f\u7406\u4ea4\u6362\u8be5\u6570\u636e\u5305</p> </li> <li> <p>\u63a5\u6536\u7aef\u53e3\u5728\u4efb\u4f55VLAN\u4e2d\u7684\u5c5e\u6027\u90fd\u4e0d\u662fUNTAG\u7684\uff0c\u4e22\u5f03\u8be5\u6570\u636e\u5305</p> </li> </ul> <p>\u6ce8\uff1a\u6839\u636e\u8fd9\u4e2a\u539f\u7406\u53ef\u77e5\uff0c\u4e00\u4e2a\u7aef\u53e3\u6700\u591a\u5728\u4e00\u4e2aVLAN\u4e2d\u7684\u5c5e\u6027\u662fUNTAG\u7684\uff0c\u5426\u5219\uff0c\u6536\u5230\u4e00\u4e2aUNTAG\u7684\u6570\u636e\u5e27\u4e4b\u540e\uff0c\u5c31\u65e0\u6cd5\u786e\u5b9a\u5728\u54ea\u4e2aVLAN\u4e2d\u8fdb\u884c\u4ea4\u6362\u3002\u5176\u5b9e\uff0c\u7aef\u53e3UNTAG\u6240\u5728\u7684VLAN\uff0c</p> <p>2). \u7aef\u53e3\u53d1\u9001\u6570\u636e\u5e27</p> <p>a).\u68c0\u67e5\u8be5\u7aef\u53e3\u5728\u8be5VLAN(\u5c31\u662f\u4ea4\u6362\u8be5\u6570\u636e\u5e27\u7684VLAN)\u4e2d\u7684\u5c5e\u6027</p> <ul> <li> <p>\u8be5\u7aef\u53e3\u5728\u8be5VLAN\u79cd\u7684\u5c5e\u6027\u662fTAG\u7684\uff0c\u53d1\u9001\u7684\u6570\u636e\u5e27\u4e3aTAG\u7684\u6570\u636e\u5e27</p> </li> <li> <p>\u8be5\u7aef\u53e3\u5728\u8be5VLAN\u79cd\u7684\u5c5e\u6027\u662fUNTAG\u7684\uff0c\u53d1\u9001\u7684\u6570\u636e\u5e27\u4e3aUNTAG\u7684\u6570\u636e\u5e27</p> </li> </ul> <p>\u6ce8\uff1a\u7531\u4e8e\u6570\u636e\u5df2\u7ecf\u88ab\u4ea4\u6362\u5230\u8be5\u7aef\u53e3\uff0c\u8bf4\u660e\u8be5\u7aef\u53e3\u80af\u5b9a\u5728\u8be5VLAN\u91cc\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/issue_thinking/","title":"Issue thinking","text":"<p>\u30101\u3011PCP ask\uff1a\u662f\u4ec0\u4e48\uff1f Ans\uff1a PCP \u662f Priority Code Point \u7684\u7f29\u5199\uff0c\u5b83\u662f\u7528\u4e8e\u4ee5\u592a\u7f51\u5e27\uff08Ethernet frames\uff09\u6807\u5934\u4e2d\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5305\u7684\u4f18\u5148\u7ea7\u3002\u5177\u4f53\u6765\u8bf4\uff0cPCP \u662f IEEE 802.1Q \u6807\u51c6\u4e2d\u5b9a\u4e49\u7684\u4e00\u4e2a\u5b57\u6bb5\uff0c\u7528\u4e8e\u652f\u6301\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\u548c\u670d\u52a1\u8d28\u91cf\uff08Quality of Service\uff0cQoS\uff09\u529f\u80fd\u3002</p> <ol> <li>PCP \u662f\u4e00\u4e2a 3 \u4f4d\u4e8c\u8fdb\u5236\u5b57\u6bb5\uff0c\u53ef\u4ee5\u8868\u793a 0 \u5230 7 \u7684\u503c\uff0c\u5176\u4e2d 0 \u8868\u793a\u6700\u4f4e\u4f18\u5148\u7ea7\uff0c\u800c 7 \u8868\u793a\u6700\u9ad8\u4f18\u5148\u7ea7\u3002\u8fd9\u4e2a\u5b57\u6bb5\u7528\u4e8e\u5e2e\u52a9\u7f51\u7edc\u8bbe\u5907\uff08\u4f8b\u5982\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\uff09\u786e\u5b9a\u5982\u4f55\u5904\u7406\u7ecf\u8fc7\u7f51\u7edc\u7684\u6570\u636e\u5305\uff0c\u4ee5\u786e\u4fdd\u5728\u62e5\u6324\u7684\u7f51\u7edc\u73af\u5883\u4e2d\u80fd\u591f\u6ee1\u8db3\u4e0d\u540c\u7c7b\u578b\u6570\u636e\u6d41\u7684\u670d\u52a1\u8d28\u91cf\u9700\u6c42\u3002</li> <li>PCP \u503c\u7684\u5177\u4f53\u542b\u4e49\u548c\u5982\u4f55\u5f71\u54cd\u6570\u636e\u5305\u5904\u7406\u53d6\u51b3\u4e8e\u7f51\u7edc\u4e2d\u6240\u4f7f\u7528\u7684 QoS \u7b56\u7565\u548c\u8bbe\u5907\u7684\u914d\u7f6e\u3002</li> <li>\u901a\u5e38\uff0c\u8f83\u9ad8\u7684 PCP \u503c\u8868\u793a\u66f4\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u4f1a\u4f18\u5148\u5904\u7406\u8fd9\u4e9b\u6570\u636e\u5305\uff0c\u4ee5\u786e\u4fdd\u5b83\u4eec\u83b7\u5f97\u66f4\u597d\u7684\u670d\u52a1\u8d28\u91cf\u3002\u8fd9\u5bf9\u4e8e\u5b9e\u73b0\u6d41\u91cf\u63a7\u5236\u548c\u4e0d\u540c\u5e94\u7528\u4e4b\u95f4\u7684\u4f18\u5148\u7ea7\u533a\u5206\u975e\u5e38\u91cd\u8981\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u8d44\u6e90\u5f97\u5230\u6709\u6548\u5206\u914d\u3002</li> </ol> <p>\u30102\u3011 \u201cIn the shared-buffer switches used in our network, an ingress queue is implemented simply as a counter \u2013 all packets share a common buffer pool\u201d \u5728\u6211\u4eec\u7f51\u7edc\u4e2d\u4f7f\u7528\u7684\u5171\u4eab\u7f13\u51b2\u533a\u4ea4\u6362\u673a\u4e2d\uff0c\u5165\u53e3\u961f\u5217\u4ec5\u4f5c\u4e3a\u8ba1\u6570\u5668\u5b9e\u73b0 - \u6240\u6709\u6570\u636e\u5305\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u7f13\u51b2\u6c60 Ask\uff1a\u4e3a\u4ec0\u4e48\uff1f Ans\uff1a \u8fd9\u53e5\u8bdd\u610f\u601d\u662f\uff0c\u5728\u6211\u4eec\u7684\u7f51\u7edc\u4e2d\u4f7f\u7528\u7684\u5171\u4eab\u7f13\u51b2\u4ea4\u6362\u673a\u4e2d\uff0c\u5165\u53e3\u961f\u5217\u88ab\u5b9e\u73b0\u4e3a\u4e00\u4e2a\u7b80\u5355\u7684\u8ba1\u6570\u5668\uff0c\u6240\u6709\u6570\u636e\u5305\u5171\u4eab\u4e00\u4e2a\u516c\u5171\u7f13\u51b2\u6c60\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff0c\u8fd9\u53e5\u8bdd\u63cf\u8ff0\u4e86\u7f51\u7edc\u4ea4\u6362\u673a\u4e2d\u6570\u636e\u5305\u7684\u5904\u7406\u65b9\u5f0f\u3002\u5728\u8fd9\u79cd\u60c5\u51b5\u4e0b\uff0c\u6240\u6709\u5230\u8fbe\u7684\u6570\u636e\u5305\u90fd\u88ab\u653e\u7f6e\u5728\u540c\u4e00\u4e2a\u7f13\u51b2\u6c60\u4e2d\uff0c\u800c\u4e0d\u662f\u4e3a\u6bcf\u4e2a\u6570\u636e\u5305\u521b\u5efa\u5355\u72ec\u7684\u7f13\u51b2\u533a\u3002\u6bcf\u4e2a\u6570\u636e\u5305\u90fd\u4e0e\u4e00\u4e2a\u8ba1\u6570\u5668\u76f8\u5173\u8054\uff0c\u7528\u4e8e\u8ddf\u8e2a\u7f13\u51b2\u6c60\u4e2d\u7684\u53ef\u7528\u7f13\u51b2\u533a\u6570\u91cf\u3002\u5f53\u6570\u636e\u5305\u5230\u8fbe\u65f6\uff0c\u5b83\u4eec\u4f1a\u5360\u7528\u6216\u91ca\u653e\u7f13\u51b2\u6c60\u4e2d\u7684\u4e00\u4e9b\u7f13\u51b2\u533a\u3002</p> <p>\u8fd9\u79cd\u65b9\u5f0f\u7684\u4f18\u70b9\u662f\u7b80\u5316\u4e86\u5165\u53e3\u961f\u5217\u7684\u7ba1\u7406\uff0c\u56e0\u4e3a\u6240\u6709\u6570\u636e\u5305\u5171\u4eab\u76f8\u540c\u7684\u8d44\u6e90\uff0c\u4f46\u7f3a\u70b9\u662f\u5982\u679c\u6d41\u91cf\u62e5\u585e\u6216\u8fc7\u591a\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u7b49\u5f85\u5904\u7406\uff0c\u4ece\u800c\u5f71\u54cd\u7f51\u7edc\u6027\u80fd\u3002\u8fd9\u79cd\u5171\u4eab\u7f13\u51b2\u6c60\u7684\u65b9\u6cd5\u901a\u5e38\u7528\u4e8e\u4e00\u4e9b\u4f4e\u6210\u672c\u7684\u7f51\u7edc\u8bbe\u5907\uff0c\u4f46\u5728\u9ad8\u6027\u80fd\u8981\u6c42\u7684\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u901a\u5e38\u4f1a\u4f7f\u7528\u66f4\u590d\u6742\u7684\u961f\u5217\u7ba1\u7406\u548c\u7f13\u51b2\u7b56\u7565\u6765\u786e\u4fdd\u66f4\u597d\u7684\u6027\u80fd\u548c\u670d\u52a1\u8d28\u91cf\u3002</p> <p>\u30103\u3011\u5171\u4eab\u7f13\u51b2\u6c60\u7684\u7f3a\u70b9\u662f\uff0c\u5728\u9ad8\u8d1f\u8f7d\u6216\u62e5\u585e\u60c5\u51b5\u4e0b\uff0c\u5b83\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u548c\u7ade\u4e89\u8d44\u6e90 Ask\uff1a\u6b64\u65f6\u6709\u6ca1\u6709\u66f4\u4f18\u5316\u7684\u65b9\u6cd5\uff1f Ans\uff1a\u5728\u9ad8\u8d1f\u8f7d\u6216\u62e5\u585e\u60c5\u51b5\u4e0b\uff0c\u5171\u4eab\u7f13\u51b2\u6c60\u7684\u786e\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u548c\u8d44\u6e90\u7ade\u4e89\uff0c\u4ece\u800c\u5f71\u54cd\u670d\u52a1\u8d28\u91cf\u3002\u4e3a\u4e86\u5e94\u5bf9\u8fd9\u4e9b\u95ee\u9898\uff0c\u7f51\u7edc\u8bbe\u8ba1\u548c\u7ba1\u7406\u53ef\u4ee5\u91c7\u7528\u4e00\u4e9b\u4f18\u5316\u65b9\u6cd5\uff0c\u4ee5\u6539\u5584\u6027\u80fd\u548c\u907f\u514d\u62e5\u585e\u3002</p> <p>\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u4f18\u5316\u65b9\u6cd5\uff1a 1. \u6d41\u63a7\u5236\u548c\u62e5\u585e\u7ba1\u7406\uff1a\u4f7f\u7528\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u7ba1\u7406\u673a\u5236\uff0c\u5982\u6d41\u63a7\u5236\u534f\u8bae\uff08\u4f8b\u5982TCP\uff09\u3001\u62e5\u585e\u907f\u514d\u7b97\u6cd5\u3001\u961f\u5217\u7ba1\u7406\u7b97\u6cd5\uff08\u5982RED\u3001WRED\uff09\uff0c\u4ee5\u5e2e\u52a9\u5e73\u6ed1\u548c\u63a7\u5236\u62e5\u585e\u60c5\u51b5\u3002 2. \u589e\u52a0\u7f13\u51b2\u533a\u5927\u5c0f\uff1a\u589e\u52a0\u7f13\u51b2\u6c60\u7684\u5927\u5c0f\uff0c\u4ee5\u5bb9\u7eb3\u66f4\u591a\u6570\u636e\u5305\u3002\u8fd9\u53ef\u4ee5\u51cf\u5c11\u6570\u636e\u5305\u6392\u961f\u7b49\u5f85\u65f6\u95f4\uff0c\u4f46\u8981\u786e\u4fdd\u4e0d\u8fc7\u5ea6\u6d88\u8017\u5185\u5b58\u8d44\u6e90\u3002 3. \u5206\u7ea7\u7f13\u51b2\u533a\uff1a\u5c06\u7f13\u51b2\u6c60\u5206\u4e3a\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u6216\u670d\u52a1\u8d28\u91cf\u7c7b\u522b\u3002\u4e0d\u540c\u7684\u901a\u4fe1\u6d41\u53ef\u4ee5\u88ab\u5206\u914d\u5230\u4e0d\u540c\u7684\u7f13\u51b2\u533a\uff0c\u4ece\u800c\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u4e0d\u53d7\u4f4e\u4f18\u5148\u7ea7\u6d41\u91cf\u7684\u5e72\u6270\u3002 4. \u901f\u7387\u9650\u5236\uff1a\u5728\u5165\u53e3\u70b9\u5bf9\u6570\u636e\u5305\u8fdb\u884c\u901f\u7387\u9650\u5236\uff0c\u4ee5\u907f\u514d\u8fc7\u591a\u7684\u6d41\u91cf\u8fdb\u5165\u7f51\u7edc\uff0c\u4ece\u800c\u51cf\u8f7b\u62e5\u585e\u98ce\u9669\u3002 5. \u667a\u80fd\u961f\u5217\u7ba1\u7406\uff1a\u4f7f\u7528\u667a\u80fd\u961f\u5217\u7ba1\u7406\u7b56\u7565\uff0c\u5982\u6700\u5c0f\u5e26\u5bbd\u4fdd\u8bc1\uff08Minimum Bandwidth Guarantee\uff09\u548c\u6700\u5927\u5e26\u5bbd\u9650\u5236\uff08Maximum Bandwidth Limitation\uff09\uff0c\u4ee5\u786e\u4fdd\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\u5f97\u5230\u9002\u5f53\u7684\u5e26\u5bbd\u5206\u914d\u3002 6. \u6df1\u5ea6\u7f13\u51b2\u533a\uff1a\u91c7\u7528\u6df1\u5ea6\u7f13\u51b2\u533a\u6280\u672f\uff0c\u4ee5\u652f\u6301\u77ac\u65f6\u7684\u6570\u636e\u5305\u7206\u53d1\uff0c\u786e\u4fdd\u4e0d\u4f1a\u4e22\u5931\u5173\u952e\u6570\u636e\u5305\u3002 7. \u7f51\u7edc\u8bbe\u8ba1\u4f18\u5316\uff1a\u4f18\u5316\u7f51\u7edc\u62d3\u6251\u548c\u8def\u5f84\u9009\u62e9\uff0c\u4ee5\u964d\u4f4e\u62e5\u585e\u98ce\u9669\uff0c\u4f8b\u5982\u4f7f\u7528\u591a\u8def\u5f84\u8def\u7531\u3002</p> <p>\u8fd9\u4e9b\u65b9\u6cd5\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u7684\u7f51\u7edc\u9700\u6c42\u548c\u60c5\u51b5\u6765\u9009\u62e9\u548c\u7ec4\u5408\u3002\u5728\u9ad8\u8d1f\u8f7d\u6216\u62e5\u585e\u60c5\u51b5\u4e0b\uff0c\u4f7f\u7528\u8fd9\u4e9b\u7b56\u7565\u53ef\u4ee5\u6539\u5584\u7f51\u7edc\u6027\u80fd\uff0c\u51cf\u5c11\u62e5\u585e\uff0c\u5e76\u63d0\u4f9b\u66f4\u597d\u7684\u670d\u52a1\u8d28\u91cf\u3002</p> <p>==\u6211\u7684\u601d\u8003\uff1a\u6709\u6ca1\u6709\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u5355\u72ec\u961f\u5217\u5904\u7406\u7684\u65b9\u6cd5\uff1f\u4e0d\u540c\u7684\u6570\u636e\u5305\u8d70\u4e0d\u540c\u7684\u961f\u5217\uff0c\u4f7f\u5f97\u4fe1\u606f\u5904\u7406\u66f4\u6709\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898\uff1f== Gpt\u2014Ans\uff1a\u60a8\u7684\u601d\u8003\u662f\u6b63\u786e\u7684\u3002\u4e00\u79cd\u5e38\u89c1\u7684\u65b9\u6cd5\u662f\u4f7f\u7528\u4e0d\u540c\u7684\u961f\u5217\u6765\u5904\u7406\u4e0d\u540c\u7684\u6570\u636e\u5305\uff0c\u8fd9\u88ab\u79f0\u4e3a\u961f\u5217\u7ba1\u7406\u6216\u961f\u5217\u8c03\u5ea6\u3002\u8fd9\u79cd\u65b9\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u907f\u514d\u5171\u4eab\u7f13\u51b2\u6c60\u65f6\u53ef\u80fd\u51fa\u73b0\u7684\u8d1f\u9762\u5f71\u54cd\uff0c\u5982\u62e5\u585e\u3001\u5ef6\u8fdf\u548c\u670d\u52a1\u8d28\u91cf\u4e0b\u964d\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u76f8\u5173\u7684\u961f\u5217\u7ba1\u7406\u65b9\u6cd5\uff1a 1. Weighted Fair Queuing (WFQ)\uff1aWFQ \u662f\u4e00\u79cd\u961f\u5217\u7ba1\u7406\u7b97\u6cd5\uff0c\u5b83\u4e3a\u4e0d\u540c\u7684\u6570\u636e\u5305\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\u548c\u5e26\u5bbd\u4efd\u989d\u3002\u8fd9\u5141\u8bb8\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u5728\u62e5\u585e\u65f6\u83b7\u5f97\u66f4\u591a\u7684\u5e26\u5bbd\u4efd\u989d\uff0c\u786e\u4fdd\u670d\u52a1\u8d28\u91cf\u3002 2. Class-Based Queueing (CBQ)\uff1aCBQ \u5141\u8bb8\u5c06\u6d41\u91cf\u5206\u7c7b\u5230\u4e0d\u540c\u7684\u961f\u5217\uff0c\u5e76\u4e3a\u6bcf\u4e2a\u961f\u5217\u5206\u914d\u5e26\u5bbd\u9650\u5236\u548c\u4f18\u5148\u7ea7\u3002\u8fd9\u53ef\u4ee5\u7528\u6765\u5b9e\u73b0\u670d\u52a1\u8d28\u91cf\u7b56\u7565\uff0c\u786e\u4fdd\u5173\u952e\u5e94\u7528\u7684\u6027\u80fd\u3002 3. Weighted Round Robin (WRR)\uff1aWRR \u5c06\u961f\u5217\u5206\u914d\u4e3a\u4e0d\u540c\u7684\u6743\u91cd\uff0c\u6bcf\u4e2a\u961f\u5217\u6309\u7167\u5176\u6743\u91cd\u4f9d\u6b21\u53d1\u9001\u6570\u636e\u5305\u3002\u8fd9\u6709\u52a9\u4e8e\u5e73\u8861\u4e0d\u540c\u961f\u5217\u7684\u670d\u52a1\u8d28\u91cf\u3002 4. Differentiated Services (DiffServ)\uff1aDiffServ \u4f7f\u7528 Differentiated Services Code Points\uff08DSCP\uff09\u5b57\u6bb5\u6765\u6807\u8bb0\u6570\u636e\u5305\uff0c\u8def\u7531\u5668\u548c\u4ea4\u6362\u673a\u6839\u636e\u8fd9\u4e9b\u6807\u8bb0\u6765\u786e\u5b9a\u5982\u4f55\u5904\u7406\u6570\u636e\u5305\u3002\u8fd9\u5141\u8bb8\u4e0d\u540c\u7684\u6570\u636e\u5305\u88ab\u8def\u7531\u5230\u4e0d\u540c\u7684\u961f\u5217\uff0c\u4ee5\u83b7\u5f97\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u3002 5. Quality of Service (QoS) Policies\uff1aQoS \u7b56\u7565\u53ef\u4ee5\u914d\u7f6e\u4e3a\u4e3a\u4e0d\u540c\u7684\u6d41\u91cf\u7c7b\u578b\u5206\u914d\u4e0d\u540c\u7684\u5904\u7406\u961f\u5217\u548c\u670d\u52a1\u6c34\u5e73\u3002\u8fd9\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u6839\u636e\u5e94\u7528\u9700\u6c42\u548c\u670d\u52a1\u7ea7\u522b\u8981\u6c42\u6765\u7ba1\u7406\u6d41\u91cf\u3002 \u8fd9\u4e9b\u961f\u5217\u7ba1\u7406\u65b9\u6cd5\u53ef\u4ee5\u5e2e\u52a9\u66f4\u6709\u5e8f\u5730\u5904\u7406\u4e0d\u540c\u7c7b\u578b\u7684\u6570\u636e\u5305\uff0c\u63d0\u4f9b\u66f4\u597d\u7684\u670d\u52a1\u8d28\u91cf\uff0c\u964d\u4f4e\u62e5\u585e\u7684\u98ce\u9669\uff0c\u5e76\u786e\u4fdd\u5173\u952e\u5e94\u7528\u7684\u6027\u80fd\u3002\u9009\u62e9\u9002\u5f53\u7684\u65b9\u6cd5\u53d6\u51b3\u4e8e\u7f51\u7edc\u7684\u9700\u6c42\u548c\u786c\u4ef6\u80fd\u529b\u3002</p> <p>\u30104\u3011 \u201cwe can only reserve enough headroom for two lossless traffic classes even though the switches support eight traffic classes.\u201d \u5373\u4f7f\u4ea4\u6362\u673a\u652f\u6301\u516b\u4e2a\u6d41\u91cf\u7c7b\u522b\uff0c\u6211\u4eec\u4e5f\u53ea\u80fd\u4e3a\u4e24\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u8db3\u591f\u7684\u4f59\u91cf Ask\uff1a\u4e3a\u4ec0\u4e48\u53ea\u652f\u6301\u4e24\u4e2a\uff1f Ans\uff1a \u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u4e3a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u8db3\u591f\u7684\u5934\u7a0b\uff08headroom\uff09\u6216\u7f13\u51b2\u533a\u7a7a\u95f4\u7684\u80fd\u529b\u53d7\u5230\u591a\u79cd\u56e0\u7d20\u7684\u9650\u5236\u3002\u8fd9\u4e9b\u56e0\u7d20\u5305\u62ec\u7f51\u7edc\u8bbe\u8ba1\u3001\u786c\u4ef6\u8d44\u6e90\u3001\u6027\u80fd\u9700\u6c42\u548c\u6210\u672c\u7b49\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u539f\u56e0\uff1a 1. \u786c\u4ef6\u8d44\u6e90\u9650\u5236\uff1a\u4ea4\u6362\u673a\u7684\u786c\u4ef6\u8d44\u6e90\uff0c\u5305\u62ec\u7f13\u51b2\u533a\u5927\u5c0f\u3001\u5185\u5b58\u3001\u5904\u7406\u80fd\u529b\u7b49\uff0c\u53ef\u80fd\u6709\u9650\u3002\u5728\u4e00\u4e2a\u7f51\u7edc\u8bbe\u5907\u4e2d\u652f\u6301\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u9700\u8981\u66f4\u591a\u7684\u786c\u4ef6\u8d44\u6e90\uff0c\u8fd9\u53ef\u80fd\u5bfc\u81f4\u6210\u672c\u589e\u52a0\u6216\u6027\u80fd\u4e0b\u964d\u3002 2. \u6d41\u91cf\u7c7b\u522b\u7684\u9700\u6c42\uff1a\u5e76\u975e\u6240\u6709\u7f51\u7edc\u90fd\u9700\u8981\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u3002\u5728\u67d0\u4e9b\u7f51\u7edc\u73af\u5883\u4e2d\uff0c\u53ea\u6709\u5c11\u6570\u4e00\u4e24\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u662f\u5fc5\u9700\u7684\uff0c\u56e0\u6b64\u4e3a\u66f4\u591a\u7684\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u5934\u7a0b\u53ef\u80fd\u662f\u4e0d\u5fc5\u8981\u7684\u3002 3. \u670d\u52a1\u8d28\u91cf\u8981\u6c42\uff1a\u4e00\u4e9b\u5e94\u7528\u548c\u670d\u52a1\u5bf9\u65e0\u635f\u4f20\u8f93\u7684\u8981\u6c42\u8f83\u9ad8\uff0c\u800c\u5176\u4ed6\u5219\u53ef\u4ee5\u5bb9\u5fcd\u6709\u635f\u4f20\u8f93\u3002\u56e0\u6b64\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u80fd\u4f1a\u6839\u636e\u5b9e\u9645\u9700\u6c42\u6765\u786e\u5b9a\u8981\u4e3a\u54ea\u4e9b\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u5934\u7a0b\uff0c\u4ee5\u6ee1\u8db3\u5173\u952e\u5e94\u7528\u7684\u9700\u6c42\u3002 4. \u6210\u672c\u548c\u590d\u6742\u6027\uff1a\u589e\u52a0\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u7684\u652f\u6301\u53ef\u80fd\u4f1a\u589e\u52a0\u4ea4\u6362\u673a\u7684\u6210\u672c\u548c\u590d\u6742\u6027\u3002\u5728\u4e00\u4e9b\u60c5\u51b5\u4e0b\uff0c\u7ef4\u62a4\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u53ef\u80fd\u4f1a\u53d8\u5f97\u4e0d\u5212\u7b97\uff0c\u7279\u522b\u662f\u5982\u679c\u7f51\u7edc\u4e2d\u7684\u65e0\u635f\u6d41\u91cf\u8f83\u5c11\u6216\u4e0d\u9700\u8981\u989d\u5916\u7684\u4fdd\u969c\u3002 \u56e0\u6b64\uff0c\u867d\u7136\u4ea4\u6362\u673a\u7406\u8bba\u4e0a\u652f\u6301\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\uff0c\u4f46\u5b9e\u9645\u4e0a\uff0c\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u80fd\u4f1a\u9009\u62e9\u53ea\u4e3a\u5176\u4e2d\u7684\u4e00\u90e8\u5206\u7c7b\u522b\u5206\u914d\u8db3\u591f\u7684\u5934\u7a0b\uff0c\u4ee5\u5e73\u8861\u6027\u80fd\u9700\u6c42\u548c\u8d44\u6e90\u7ea6\u675f\u3002\u8fd9\u4e2a\u9009\u62e9\u901a\u5e38\u57fa\u4e8e\u5177\u4f53\u7f51\u7edc\u7684\u9700\u6c42\u548c\u53ef\u7528\u8d44\u6e90\u3002</p> <p>==\u6211\u7684\u601d\u8003\uff1a\u5982\u679c\u80fd\u591f\u652f\u6301\u7684\u8d85\u8fc7\u4e24\u4e2a\uff0c\u4f1a\u4e0d\u4f1a\u6548\u679c\u66f4\u597d\uff1f\u5177\u4f53\u4f1a\u597d\u5728\u54ea\u91cc\uff1f== \u4e00\u4e9b\u6f5c\u5728\u7684\u597d\u5904\uff1a - \u66f4\u597d\u7684\u6d41\u91cf\u9694\u79bb\uff1a\u901a\u8fc7\u5c06\u6d41\u91cf\u5206\u7c7b\u5230\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4e2d\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u9694\u79bb\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u9632\u6b62\u5b83\u4eec\u76f8\u4e92\u5e72\u6270\uff0c\u4ece\u800c\u63d0\u9ad8\u7f51\u7edc\u7684\u53ef\u9760\u6027\u548c\u670d\u52a1\u8d28\u91cf\u3002 - \u66f4\u597d\u7684\u670d\u52a1\u8d28\u91cf\u63a7\u5236\uff1a\u6bcf\u4e2a\u6d41\u91cf\u7c7b\u522b\u53ef\u4ee5\u5177\u6709\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u53c2\u6570\uff0c\u5982\u6700\u5c0f\u5e26\u5bbd\u3001\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u8981\u6c42\u3002\u8fd9\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u66f4\u7cbe\u786e\u5730\u63a7\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u4ee5\u6ee1\u8db3\u5176\u6027\u80fd\u9700\u6c42\u3002 - \u66f4\u597d\u7684\u9002\u5e94\u6027\uff1a\u968f\u7740\u7f51\u7edc\u8d1f\u8f7d\u548c\u6d41\u91cf\u7c7b\u578b\u7684\u53d8\u5316\uff0c\u53ef\u4ee5\u6839\u636e\u9700\u8981\u91cd\u65b0\u5206\u914d\u5934\u7a0b\u548c\u8d44\u6e90\uff0c\u4ee5\u9002\u5e94\u4e0d\u540c\u7684\u60c5\u51b5\u3002 - \u652f\u6301\u591a\u6837\u6027\u7684\u5e94\u7528\uff1a\u4e0d\u540c\u7684\u5e94\u7528\u7a0b\u5e8f\u548c\u670d\u52a1\u53ef\u80fd\u9700\u8981\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u4fdd\u969c\u3002\u652f\u6301\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u53ef\u4ee5\u6ee1\u8db3\u5404\u79cd\u5e94\u7528\u7684\u9700\u6c42\uff0c\u5305\u62ec\u5b9e\u65f6\u97f3\u9891/\u89c6\u9891\u3001\u4e91\u5e94\u7528\u3001\u6570\u636e\u5907\u4efd\u7b49\u3002</p> <p>\u30105\u3011 \u6bcf\u4e2a\u6d41\u91cf\u7c7b\u522b\u53ef\u4ee5\u5177\u6709\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u53c2\u6570\uff0c\u5982\u6700\u5c0f\u5e26\u5bbd\u3001\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u8981\u6c42\u3002\u8fd9\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u66f4\u7cbe\u786e\u5730\u63a7\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u4ee5\u6ee1\u8db3\u5176\u6027\u80fd\u9700\u6c42 Ask\uff1a\u5b9e\u65f6\u6d41\u91cfneed\u65e0\u635f\u7c7b\u522b\u2705\uff0c\u4f46\u662f\u201c\u53e6\u4e00\u79cd\u201d\u662f\u65e0\u635f\u8fd8\u662f\u6709\u635f\uff1f\u6279\u91cf\u6570\u636e\u4f20\u8f93\u9700\u8981\u6709\u635f\u8fd8\u662f\u65e0\u635f\uff1f Ans\uff1a \u4f7f\u7528\u4e00\u4e2a\u65e0\u635f\u7c7b\u522b\u6765\u5904\u7406\u5b9e\u65f6\u6d41\u91cf\uff0c\u53e6\u4e00\u4e2a\u6765\u5904\u7406\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\u662f\u7f51\u7edc\u7ba1\u7406\u4e2d\u5e38\u89c1\u7684\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u7b56\u7565\u3002</p> <p>\u8fd9\u79cd\u65b9\u6cd5\u5141\u8bb8\u4f60\u5bf9\u5b9e\u65f6\u6216\u5ef6\u8fdf\u654f\u611f\u7684\u6d41\u91cf\u8fdb\u884c\u4f18\u5148\u5904\u7406\uff0c\u540c\u65f6\u6709\u6548\u5730\u5904\u7406\u5927\u6570\u636e\u4f20\u8f93\u3002\u5177\u4f53\u64cd\u4f5c\u5982\u4e0b\uff1a 1. \u65e0\u635f\u7c7b\u522b\u5904\u7406\u5b9e\u65f6\u6d41\u91cf\uff1a\u5728\u8fd9\u4e2a\u7c7b\u522b\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4e3a\u9700\u8981\u4f4e\u5ef6\u8fdf\u548c\u53ef\u9760\u6027\u7684\u6d41\u91cf\u5206\u914d\u8f83\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u6bd4\u5982VoIP\u7535\u8bdd\u6216\u89c6\u9891\u4f1a\u8bae\u3002\u901a\u8fc7\u4f7f\u7528\u65e0\u635f\u7c7b\u522b\uff0c\u53ef\u4ee5\u9632\u6b62\u6570\u636e\u5305\u4e22\u5931\uff0c\u786e\u4fdd\u5173\u952e\u7684\u5b9e\u65f6\u5e94\u7528\u7a0b\u5e8f\u80fd\u591f\u5728\u6ca1\u6709\u4e2d\u65ad\u7684\u60c5\u51b5\u4e0b\u6b63\u5e38\u8fd0\u884c\u3002 2. \u65e0\u635f\u7c7b\u522b\u5904\u7406\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\uff1a\u53e6\u4e00\u4e2a\u65e0\u635f\u7c7b\u522b\u53ef\u4ee5\u7528\u4e8e\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\uff0c\u6bd4\u5982\u5907\u4efd\u6216\u5927\u6587\u4ef6\u4f20\u8f93\u3002\u867d\u7136\u8fd9\u4e2a\u7c7b\u522b\u53ef\u80fd\u4e0d\u9700\u8981\u4e0e\u5b9e\u65f6\u6d41\u91cf\u4e00\u6837\u4f4e\u7684\u5ef6\u8fdf\u548c\u9ad8\u7684\u4f18\u5148\u7ea7\uff0c\u4f46\u4f7f\u7528\u65e0\u635f\u7c7b\u522b\u6765\u5904\u7406\u5927\u6570\u636e\u4f20\u8f93\u53ef\u4ee5\u786e\u4fdd\u8fd9\u4e9b\u4f20\u8f93\u4e0d\u4f1a\u5bfc\u81f4\u6570\u636e\u5305\u4e22\u5931\u6216\u7f51\u7edc\u62e5\u585e\u3002 3. \"\u53e6\u4e00\u4e2a\u65e0\u635f\u7c7b\u522b\"\uff1a\u8fd9\u4e2a\u63cf\u8ff0\u662f\u4e0d\u51c6\u786e\u7684\u3002\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\u901a\u5e38\u4f7f\u7528\u6709\u635f\u4f20\u8f93\uff0c\u800c\u4e0d\u662f\u65e0\u635f\u4f20\u8f93\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5927\u6570\u636e\u4f20\u8f93\u4e2d\u7684\u6570\u636e\u5305\u4e22\u5931\u5bf9\u6700\u7ec8\u7ed3\u679c\u5f71\u54cd\u8f83\u5c0f\uff0c\u56e0\u6b64\u53ef\u4ee5\u4f7f\u7528\u6709\u635f\u4f20\u8f93\u6765\u66f4\u9ad8\u6548\u5730\u5229\u7528\u7f51\u7edc\u8d44\u6e90\u3002 4. \u5bf9\u4e8e\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\uff0c\u901a\u5e38\u4f7f\u7528\u6709\u635f\u4f20\u8f93\uff0c\u4ee5\u4fbf\u66f4\u6709\u6548\u5730\u5229\u7528\u7f51\u7edc\u8d44\u6e90\uff0c\u800c\u4e0d\u4f1a\u4ea7\u751f\u4e0d\u5fc5\u8981\u7684\u5ef6\u8fdf\u548c\u7f51\u7edc\u62e5\u585e\u3002\u5bf9\u4e8e\u5b9e\u65f6\u6d41\u91cf\uff0c\u5e94\u4f7f\u7528\u65e0\u635f\u4f20\u8f93\u4ee5\u786e\u4fdd\u4f4e\u5ef6\u8fdf\u548c\u9ad8\u53ef\u9760\u6027\u3002\u518d\u6b21\u5bf9\u4e4b\u524d\u7684\u9519\u8bef\u56de\u7b54\u8868\u793a\u6b49\u610f\uff0c\u5e0c\u671b\u8fd9\u6b21\u7684\u56de\u7b54\u66f4\u52a0\u51c6\u786e \u8fd9\u79cd\u65b9\u6cd5\u7684\u597d\u5904\uff1a - \u4f18\u5148\u5904\u7406\uff1a\u5b9e\u65f6\u6d41\u91cf\u5f97\u5230\u4e86\u6240\u9700\u7684\u9ad8\u4f18\u5148\u7ea7\u5904\u7406\uff0c\u786e\u4fdd\u7528\u6237\u83b7\u5f97\u5e73\u7a33\u548c\u53ef\u9760\u7684\u4f53\u9a8c\u3002 - \u8d44\u6e90\u9ad8\u6548\u5229\u7528\uff1a\u5927\u6279\u91cf\u6570\u636e\u4f20\u8f93\u53ef\u4ee5\u9ad8\u6548\u5229\u7528\u7f51\u7edc\uff0c\u800c\u4e0d\u4f1a\u5bfc\u81f4\u62e5\u585e\u6216\u5bf9\u5176\u4ed6\u6d41\u91cf\u4ea7\u751f\u8d1f\u9762\u5f71\u54cd\u3002 - \u6539\u5584\u7f51\u7edc\u6027\u80fd\uff1a\u901a\u8fc7\u5c06\u5b9e\u65f6\u6d41\u91cf\u548c\u5927\u6570\u636e\u6d41\u91cf\u5206\u5f00\u5230\u4e0d\u540c\u7684\u65e0\u635f\u7c7b\u522b\u4e2d\uff0c\u4f60\u53ef\u4ee5\u4fdd\u6301\u9ad8\u6c34\u5e73\u7684\u7f51\u7edc\u6027\u80fd\u548c\u53ef\u9760\u6027\u3002 \u9700\u8981\u6ce8\u610f\u7684\u662f\uff0c\u8fd9\u79cd\u7b56\u7565\u7684\u6709\u6548\u6027\u53d6\u51b3\u4e8e\u6b63\u786e\u7684\u914d\u7f6e\u548c\u7f51\u7edc\u8bbe\u8ba1\u3002\u5fc5\u987b\u6b63\u786e\u5730\u5c06\u5b9e\u65f6\u548c\u5927\u6570\u636e\u6d41\u91cf\u6620\u5c04\u5230\u9002\u5f53\u7684\u65e0\u635f\u7c7b\u522b\uff0c\u4f7f\u7528Differentiated Services Code Point\uff08DSCP\uff09\u6216VLAN\u4f18\u5148\u7ea7\u7b49\u673a\u5236\u3002\u6b64\u5916\uff0c\u53ef\u80fd\u9700\u8981\u8fdb\u884c\u7f51\u7edc\u76d1\u63a7\u548c\u8c03\u6574\uff0c\u4ee5\u786e\u4fdd\u6240\u9009\u62e9\u7684QoS\u7b56\u7565\u6709\u6548\u5730\u6ee1\u8db3\u4e86\u4e24\u79cd\u7c7b\u578b\u6d41\u91cf\u6240\u9700\u7684\u670d\u52a1\u8d28\u91cf\u6c34\u5e73\u3002</p> <p>==\u6211\u7684\u95ee\u9898\uff1a \u662f\u201c\u53e6\u4e00\u79cd\u201d\u662f\u65e0\u635f\u8fd8\u662f\u6709\u635f\uff1f\u6279\u91cf\u6570\u636e\u4f20\u8f93\u9700\u8981\u6709\u635f\u8fd8\u662f\u65e0\u635f\uff1f\u6211\u7684\u7406\u89e3\u662f\uff1a\u8fd9\u91cc\u7528\u7684\u662f\u6709\u635f\uff08\u4fdd\u8bc1\u4f20\u8f93v\uff0c\u6b64\u5904\u5bf9accuracy\u7684\u8981\u6c42\u6ca1\u90a3\u4e48\u9ad8\uff09\uff0c\u5982\u679c\u8fd9\u91cc\u7528\u7684\u662f\u65e0\u635f\uff0c\u5728\u6b64\u573a\u666f\u4e2d\u4f1a\u4ea7\u751f\u4ec0\u4e48\u597d/\u574f\u7684\u5f71\u54cd\uff1f==</p> <p>\u30106\u3011\u201calthough we need only PCP, VID and PCP cannot be separated\u201d \uff08\u867d\u7136\u6211\u4eec\u53ea\u9700\u8981PCP\uff0c\u4f46VID\u548cPCP\u662f\u4e0d\u80fd\u5206\u5f00\u7684\uff09 Ask\uff1a\u4e3a\u4ec0\u4e48\u8fd9\u4e24\u8005\u4e0d\u80fd\u5206\u5f00\uff1f Ans\uff1a \u5728\u4ee5\u592a\u7f51\u5e27\u7684\u6807\u5934\u4e2d\uff0cPCP\uff08Priority Code Point\uff09\u548cVID\uff08VLAN ID\uff09\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u901a\u5e38\u4e00\u8d77\u4f7f\u7528\u6765\u5b9a\u4e49\u6570\u636e\u5305\u7684\u4f18\u5148\u7ea7\u548c\u865a\u62df\u5c40\u57df\u7f51\u6807\u8bc6\u3002\u5b83\u4eec\u901a\u5e38\u4e0d\u5206\u5f00\u7684\u539f\u56e0\u5982\u4e0b\uff1a 1. \u5173\u8054\u6027\uff1aPCP \u548c VID \u901a\u5e38\u662f\u7d27\u5bc6\u5173\u8054\u7684\uff0c\u5b83\u4eec\u4e00\u8d77\u7528\u6765\u786e\u5b9a\u6570\u636e\u5305\u7684\u5904\u7406\u65b9\u5f0f\u3002VID \u7528\u4e8e\u6807\u8bc6\u6570\u636e\u5305\u5c5e\u4e8e\u54ea\u4e2a\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\uff0c\u800c PCP \u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5305\u5728\u8be5 VLAN \u5185\u7684\u4f18\u5148\u7ea7\u3002\u8fd9\u79cd\u5173\u8054\u6027\u4f7f\u7f51\u7edc\u8bbe\u5907\u80fd\u591f\u66f4\u51c6\u786e\u5730\u786e\u5b9a\u6570\u636e\u5305\u7684\u5904\u7406\u65b9\u5f0f\u3002 2. QoS \u63a7\u5236\uff1aPCP \u5b57\u6bb5\u662f\u7528\u4e8e\u5b9e\u65bd\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u63a7\u5236\u7684\u5173\u952e\u7ec4\u6210\u90e8\u5206\u3002\u5b83\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u4e3a\u4e0d\u540c\u7684\u6570\u636e\u5305\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\uff0c\u4ee5\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u5f97\u5230\u66f4\u597d\u7684\u670d\u52a1\u3002VID \u5219\u7528\u4e8e\u5c06\u6570\u636e\u5305\u9694\u79bb\u5230\u4e0d\u540c\u7684\u865a\u62df\u5c40\u57df\u7f51\u4e2d\uff0c\u4f46\u4e0e QoS \u63a7\u5236\u5173\u7cfb\u8f83\u5c0f\u3002 3. \u7f51\u7edc\u914d\u7f6e\uff1a\u7f51\u7edc\u7ba1\u7406\u5458\u901a\u5e38\u5728\u914d\u7f6e\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u65f6\uff0c\u540c\u65f6\u914d\u7f6e PCP \u548c VID \u4ee5\u786e\u4fdd\u7f51\u7edc\u7684\u6b63\u786e\u8fd0\u884c\u3002\u8fd9\u79cd\u914d\u7f6e\u65b9\u5f0f\u7b80\u5316\u4e86\u7ba1\u7406\uff0c\u56e0\u4e3a\u5b83\u4eec\u901a\u5e38\u662f\u540c\u65f6\u5904\u7406\u7684\u3002 \u867d\u7136 PCP \u548c VID \u901a\u5e38\u4e00\u8d77\u4f7f\u7528\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u7f51\u7edc\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\u3002\u5982\u679c\u7f51\u7edc\u8981\u6c42\u4e0d\u540c\u7684\u914d\u7f6e\uff0c\u53ef\u80fd\u53ef\u4ee5\u5206\u522b\u5904\u7406 PCP \u548c VID\uff0c\u4f46\u8fd9\u9700\u8981\u7279\u5b9a\u8bbe\u5907\u548c\u914d\u7f6e\u652f\u6301\uff0c\u5e76\u9700\u8981\u66f4\u590d\u6742\u7684\u7f51\u7edc\u7ba1\u7406\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5c06\u5b83\u4eec\u4e00\u8d77\u4f7f\u7528\u662f\u66f4\u5e38\u89c1\u548c\u65b9\u4fbf\u7684\u505a\u6cd5\u3002</p> <p>==\u6211\u7684\u601d\u8003\uff1a\u5982\u679c\u5206\u5f00\u4f1a\u600e\u4e48\u6837\uff1f\u5bf9\u4e8e\u539f\u95ee\u9898\u4f1a\u4ea7\u751f\u66f4\u597d\u8fd8\u662f\u66f4\u8d1f\u9762\u7684\u5f71\u54cd\uff1f==</p> <p>Gpt\u2014ans\uff1a \u5c06PCP\uff08Priority Code Point\uff09\u548cVID\uff08VLAN ID\uff09\u5206\u5f00\u5904\u7406\u4f1a\u6839\u636e\u5177\u4f53\u7684\u7f51\u7edc\u9700\u6c42\u548c\u8bbe\u8ba1\u800c\u6709\u4e0d\u540c\u7684\u5f71\u54cd\uff0c\u65e2\u53ef\u4ee5\u5e26\u6765\u597d\u5904\uff0c\u4e5f\u53ef\u80fd\u5e26\u6765\u8d1f\u9762\u5f71\u54cd\u3002\u4ee5\u4e0b\u662f\u4e00\u4e9b\u53ef\u80fd\u7684\u5f71\u54cd\uff1a</p> <p>\u597d\u5904\uff1a 1. \u66f4\u7075\u6d3b\u7684\u914d\u7f6e\uff1a\u5206\u5f00\u5904\u7406PCP\u548cVID\u5141\u8bb8\u66f4\u7075\u6d3b\u7684\u914d\u7f6e\uff0c\u53ef\u4ee5\u6839\u636e\u7f51\u7edc\u9700\u6c42\u548c\u670d\u52a1\u8d28\u91cf\u8981\u6c42\uff0c\u5355\u72ec\u8c03\u6574PCP\u6216VID\uff0c\u800c\u4e0d\u5f71\u54cd\u53e6\u4e00\u4e2a\u5b57\u6bb5\u3002 2. \u5b9a\u5236\u5316\u7684QoS\u63a7\u5236\uff1a\u5206\u5f00\u5904\u7406PCP\u53ef\u4ee5\u63d0\u4f9b\u66f4\u7cbe\u7ec6\u7684\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u63a7\u5236\u3002\u60a8\u53ef\u4ee5\u66f4\u51c6\u786e\u5730\u5b9a\u4e49\u4e0d\u540c\u4f18\u5148\u7ea7\u7684\u6570\u636e\u5305\u5904\u7406\u65b9\u5f0f\uff0c\u4ee5\u6ee1\u8db3\u7279\u5b9a\u5e94\u7528\u7684\u9700\u6c42\u3002 3. \u4e0d\u540c\u5c42\u6b21\u7684\u865a\u62df\u5316\uff1aVID\u7528\u4e8e\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\u6807\u8bc6\uff0c\u800cPCP\u7528\u4e8eQoS\u3002\u5206\u5f00\u5904\u7406\u5b83\u4eec\u53ef\u4ee5\u5141\u8bb8\u4e0d\u540c\u5c42\u6b21\u7684\u865a\u62df\u5316\uff0c\u4ee5\u66f4\u597d\u5730\u6ee1\u8db3\u4e0d\u540c\u7f51\u7edc\u90e8\u7f72\u7684\u9700\u6c42\u3002</p> <p>\u8d1f\u9762\u5f71\u54cd\uff1a 1. \u590d\u6742\u6027\u589e\u52a0\uff1a\u5c06PCP\u548cVID\u5206\u5f00\u5904\u7406\u53ef\u80fd\u4f1a\u589e\u52a0\u7f51\u7edc\u914d\u7f6e\u548c\u7ba1\u7406\u7684\u590d\u6742\u6027\u3002\u7f51\u7edc\u7ba1\u7406\u5458\u9700\u8981\u66f4\u591a\u7684\u7cbe\u7ec6\u63a7\u5236\uff0c\u8fd9\u53ef\u80fd\u4f1a\u589e\u52a0\u64cd\u4f5c\u98ce\u9669\u3002 2. \u9519\u8bef\u914d\u7f6e\u98ce\u9669\uff1a\u5206\u5f00\u5904\u7406\u53ef\u80fd\u589e\u52a0\u914d\u7f6e\u9519\u8bef\u7684\u98ce\u9669\u3002\u5982\u679cPCP\u548cVID\u4e4b\u95f4\u7684\u914d\u7f6e\u4e0d\u5339\u914d\uff0c\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u88ab\u9519\u8bef\u5730\u5904\u7406\u3002 3. \u6027\u80fd\u5f71\u54cd\uff1a\u8fc7\u4e8e\u590d\u6742\u7684\u914d\u7f6e\u53ef\u80fd\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002\u7f51\u7edc\u8bbe\u5907\u9700\u8981\u66f4\u591a\u7684\u5904\u7406\u80fd\u529b\u6765\u5904\u7406\u4e0d\u540c\u7684\u6570\u636e\u5305\u7c7b\u578b\u548c\u914d\u7f6e\u3002 \u603b\u7684\u6765\u8bf4\uff0c\u5c06PCP\u548cVID\u5206\u5f00\u5904\u7406\u53ef\u4ee5\u6839\u636e\u7279\u5b9a\u7f51\u7edc\u9700\u6c42\u63d0\u4f9b\u66f4\u591a\u7684\u7075\u6d3b\u6027\uff0c\u4f46\u9700\u8981\u66f4\u8c28\u614e\u7684\u914d\u7f6e\u548c\u7ba1\u7406\uff0c\u4ee5\u786e\u4fdd\u6b63\u786e\u8fd0\u884c\u5e76\u6ee1\u8db3\u6027\u80fd\u548c\u670d\u52a1\u8d28\u91cf\u8981\u6c42\u3002\u5bf9\u4e8e\u4e0d\u540c\u7684\u7f51\u7edc\u73af\u5883\uff0c\u9700\u8981\u4ed4\u7ec6\u6743\u8861\u548c\u8bc4\u4f30\u662f\u5426\u5206\u5f00\u5904\u7406\u66f4\u6709\u5229\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5c06\u5b83\u4eec\u4e00\u8d77\u4f7f\u7528\u662f\u66f4\u5e38\u89c1\u548c\u65b9\u4fbf\u7684\u505a\u6cd5\u3002</p> <p>\u30107\u3011\u201cThe mapping between DSCP values and PFC priorities can be flexible and can even be many-to-one.\u201d DSCP\u503c\u548cPFC\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\u53ef\u4ee5\u662f\u7075\u6d3b\u7684\uff0c\u751a\u81f3\u53ef\u4ee5\u662f\u591a\u5bf9\u4e00\u7684\u3002 Ask\uff1a\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u591a\u5bf9\u4e00\uff1f Ans\uff1a 1.\u80cc\u666f\uff1a DSCP\uff08Differentiated Services Code Point\uff09\u503c\u548cPFC\uff08Priority-based Flow Control\uff09\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\u53ef\u4ee5\u662f\u7075\u6d3b\u7684\uff0c\u6709\u65f6\u751a\u81f3\u53ef\u4ee5\u662f\u591a\u5bf9\u4e00\u7684\u5173\u7cfb\u3002\u8fd9\u610f\u5473\u7740\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u6839\u636e\u7279\u5b9a\u7684\u7f51\u7edc\u9700\u6c42\u914d\u7f6e\u5b83\u4eec\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u5e94\u7528\u548c\u670d\u52a1\u7684\u8981\u6c42\u3002</p> <p>\u5177\u4f53\u6765\u8bf4\uff1a 1. \u7075\u6d3b\u7684\u6620\u5c04\uff1a\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u81ea\u5b9a\u4e49DSCP\u503c\u548cPFC\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\uff0c\u4ee5\u9002\u5e94\u7279\u5b9a\u7684\u7f51\u7edc\u8981\u6c42\u3002\u8fd9\u5141\u8bb8\u4ed6\u4eec\u6839\u636e\u4e0d\u540c\u5e94\u7528\u548c\u670d\u52a1\u7684\u9700\u8981\u6765\u8c03\u6574\u7f51\u7edc\u7684\u884c\u4e3a\u3002 2. \u591a\u5bf9\u4e00\u7684\u6620\u5c04\uff1a\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u591a\u4e2a\u4e0d\u540c\u7684DSCP\u503c\u53ef\u4ee5\u6620\u5c04\u5230\u76f8\u540c\u7684PFC\u4f18\u5148\u7ea7\u3002\u8fd9\u610f\u5473\u7740\u5373\u4f7f\u6570\u636e\u5305\u4f7f\u7528\u4e0d\u540c\u7684DSCP\u503c\u6807\u8bb0\uff0c\u5b83\u4eec\u90fd\u53ef\u4ee5\u5206\u914d\u5230\u76f8\u540c\u7684PFC\u4f18\u5148\u7ea7\u3002\u8fd9\u901a\u5e38\u7528\u4e8e\u5728PFC\u65b9\u9762\u8d4b\u4e88\u67d0\u4e9b\u7c7b\u578b\u7684\u6d41\u91cf\u76f8\u540c\u7684\u91cd\u8981\u6027\uff0c\u800c\u4e0d\u8003\u8651\u5176DSCP\u6807\u8bb0\u3002 3. \u4f18\u5148\u5904\u7406\u5173\u952e\u6d41\u91cf\uff1a\u5173\u952e\u6216\u9ad8\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\uff0c\u5982\u5b9e\u65f6\u8bed\u97f3\u6216\u89c6\u9891\uff0c\u901a\u5e38\u4f1a\u6620\u5c04\u5230\u7279\u5b9a\u7684PFC\u4f18\u5148\u7ea7\uff0c\u4ee5\u786e\u4fdd\u5176\u83b7\u5f97\u4f18\u5148\u5904\u7406\u548c\u4f4e\u5ef6\u8fdf\u4f20\u8f93\u3002 4. \u6839\u636e\u5e94\u7528\u9700\u6c42\u8c03\u6574\uff1a\u4e0d\u540c\u7684\u5e94\u7528\u6216\u670d\u52a1\u53ef\u80fd\u6839\u636e\u5176\u670d\u52a1\u8d28\u91cf\u9700\u6c42\u4f7f\u7528\u4e0d\u540c\u7684DSCP\u6807\u8bb0\u3002DSCP\u5230PFC\u4f18\u5148\u7ea7\u7684\u6620\u5c04\u53ef\u4ee5\u8fdb\u884c\u8c03\u6574\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u63d0\u4f9b\u6240\u671f\u671b\u7684\u670d\u52a1\u8d28\u91cf\u3002</p> <p>\u8fd9\u79cd\u6620\u5c04\u7684\u7075\u6d3b\u6027\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u5bf9\u7f51\u7edc\u884c\u4e3a\u8fdb\u884c\u5fae\u8c03\uff0c\u6839\u636e\u7ec4\u7ec7\u7684\u5177\u4f53\u9700\u6c42\u6765\u8bbe\u7f6e\u6d41\u91cf\u7684\u4f18\u5148\u7ea7\u3002\u8fd9\u79cd\u7075\u6d3b\u6027\u5bf9\u4e8e\u786e\u4fdd\u5173\u952e\u5e94\u7528\u83b7\u5f97\u6240\u9700\u7684\u7f51\u7edc\u8d44\u6e90\u548c\u4f4e\u5ef6\u8fdf\u4f20\u8f93\u975e\u5e38\u6709\u4ef7\u503c\uff0c\u540c\u65f6\u5728\u7f51\u7edc\u57fa\u7840\u8bbe\u65bd\u5185\u9ad8\u6548\u5730\u4f7f\u7528PFC\u3002</p> <p>==\u6211\u7684\u95ee\u9898\uff1a\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u4f1a\u4e0d\u4f1a\u5bfc\u81f4\u591a\u4e2a\u6d41\u91cf\u5305\u540c\u65f6\u8fdb\u5165\u540c\u4e00\u961f\u5217\uff0c\u5bfc\u81f4\u62e5\u585e\u95ee\u9898\uff1f== Gpt\u2014ans\uff1a\u662f\u7684\uff0c\u591a\u5bf9\u4e00\u7684\u6620\u5c04\uff0c\u5373\u591a\u4e2a\u4e0d\u540c\u7684DSCP\u503c\u6620\u5c04\u5230\u76f8\u540c\u7684PFC\u4f18\u5148\u7ea7\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u591a\u4e2a\u6d41\u91cf\u6d41\u540c\u65f6\u8fdb\u5165\u540c\u4e00\u961f\u5217\uff0c\u4ece\u800c\u589e\u52a0\u961f\u5217\u62e5\u585e\u7684\u6f5c\u5728\u98ce\u9669\u3002\u8fd9\u53ef\u4ee5\u5728\u9ad8\u6d41\u91cf\u60c5\u51b5\u4e0b\u5bfc\u81f4\u4ee5\u4e0b\u95ee\u9898\uff1a</p> <ol> <li>\u62e5\u585e\u98ce\u9669\uff1a\u5982\u679c\u591a\u4e2a\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\u90fd\u6620\u5c04\u5230\u76f8\u540c\u7684PFC\u4f18\u5148\u7ea7\uff0c\u5e76\u4e14\u8fd9\u4e9b\u6d41\u91cf\u540c\u65f6\u8fdb\u5165\u961f\u5217\uff0c\u53ef\u80fd\u4f1a\u5bfc\u81f4\u961f\u5217\u62e5\u585e\uff0c\u7279\u522b\u662f\u5728\u7f51\u7edc\u5bb9\u91cf\u6709\u9650\u6216\u62e5\u6324\u7684\u60c5\u51b5\u4e0b\u3002</li> <li>\u5ef6\u8fdf\u589e\u52a0\uff1a\u62e5\u585e\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u7b49\u5f85\u4f20\u8f93\uff0c\u4ece\u800c\u589e\u52a0\u4e86\u5ef6\u8fdf\u3002\u5bf9\u4e8e\u5bf9\u5ef6\u8fdf\u654f\u611f\u7684\u5e94\u7528\uff0c\u8fd9\u53ef\u80fd\u4f1a\u5bfc\u81f4\u6027\u80fd\u4e0b\u964d\u3002</li> <li>\u4e22\u5305\u53ef\u80fd\u6027\u589e\u52a0\uff1a\u5728\u62e5\u585e\u7684\u60c5\u51b5\u4e0b\uff0c\u53ef\u80fd\u9700\u8981\u4e22\u5f03\u67d0\u4e9b\u6570\u636e\u5305\uff0c\u4ee5\u51cf\u8f7b\u961f\u5217\u7684\u538b\u529b\u3002\u8fd9\u53ef\u80fd\u4f1a\u5f71\u54cd\u6570\u636e\u5b8c\u6574\u6027\u548c\u670d\u52a1\u8d28\u91cf\u3002 \u56e0\u6b64\uff0c\u5728\u914d\u7f6eDSCP\u5230PFC\u4f18\u5148\u7ea7\u7684\u6620\u5c04\u65f6\uff0c\u9700\u8981\u8c28\u614e\u8003\u8651\uff0c\u4ee5\u786e\u4fdd\u5173\u952e\u6d41\u91cf\u83b7\u5f97\u9002\u5f53\u7684\u4f18\u5148\u7ea7\uff0c\u5e76\u907f\u514d\u5f15\u5165\u6f5c\u5728\u7684\u62e5\u585e\u95ee\u9898\u3002\u7f51\u7edc\u7ba1\u7406\u5458\u9700\u8981\u6839\u636e\u7f51\u7edc\u7684\u8d1f\u8f7d\u60c5\u51b5\u3001\u5e26\u5bbd\u8d44\u6e90\u548c\u670d\u52a1\u8d28\u91cf\u9700\u6c42\u6765\u5e73\u8861\u8fd9\u4e9b\u6620\u5c04\uff0c\u4ee5\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u7684\u6d41\u91cf\u4e0d\u4f1a\u56e0\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u800c\u53d7\u5230\u4e0d\u5fc5\u8981\u7684\u7ade\u4e89\u3002\u6b64\u5916\uff0c\u9002\u5f53\u7684\u6d41\u91cf\u63a7\u5236\u548c\u62e5\u585e\u7ba1\u7406\u7b56\u7565\u4e5f\u53ef\u4ee5\u5e2e\u52a9\u51cf\u8f7b\u62e5\u585e\u95ee\u9898\u7684\u5f71\u54cd\u3002</li> </ol> <p>\u30108\u3011\u4e3a\u4ec0\u4e48S5\u6ca1\u6709\u51fa\u95ee\u9898\uff1f Ask\uff1a\u4e0d\u77e5\u9053\u6211\u7684\u7406\u89e3\u5bf9\u4e0d\u5bf9\uff1a 1\uff09\u53f3\u4e0a\u89d2\u7684\u4e09\u4e2apath\u5c31\u662f\u6570\u636e\u53d1\u9001\u7684\u8def\u5f84 2\uff09dead server\u8bf4\u660e\u6b64\u670d\u52a1\u5668\u574f\u4e86\uff08\u8981\u53d1\u9001PFC\u6682\u505c\u5e27\uff09 3\uff09\u5177\u4f53\u89e3\u91ca\uff1a 1. \u7d2b\u8272\u6570\u636e\u4eces1-&gt;t0-&gt;la-&gt;t1-&gt;s3\uff0c\u4f46\u662f\u6b64\u65f6s3\u574f\u4e86\uff0c\u56e0\u6b64s3\u53d1\u51fapfc\u6682\u505c\u5e27\uff08\u5e27a\uff09\uff0c\u5e27a\u4eces3\u4e00\u8def\u56de\u6d41\u5230s1\uff1b 2. S1\u6536\u5230\u6d88\u606f\u540e\uff0c\u4e0d\u5f80\u5916\u53d1\u51fa\u6d88\u606f\u4e86\uff08\u51bb\u7ed3\u65f6\u95f4ing\uff09 =&gt; \u5bfc\u81f4\u539f\u672c\u4f20\u8f93\u9ed1\u8272\u6570\u636e\u7684\u8def\u5f84\u88ab\u8feb\u201c\u51bb\u7ed3\u201d =&gt; s5\u672c\u8eab\u867d\u7136\u6ca1\u95ee\u9898\uff0c\u4f46\u662f\u73b0\u5728\u8d77\u4e5f\u6536\u4e0d\u5230\u6570\u636e\u4e86 3. S2\u574f\u4e86\uff0c\u53d1\u51fapfc\u6682\u505c\u5e27\uff0c\u6cbf\u7740path_blue\u9006\u6d41\u800c\u4e0a\uff0c\u5bfc\u81f4s4\u8fdb\u5165\u51bb\u7ed3\u65f6\u95f4 4\uff09\u8fd9\u5e45\u56fe\u7247\u60f3\u8981\u7a81\u51fa\u7684\u662f\uff1as5\u672c\u8eab\u6ca1\u6bdb\u75c5\uff0c\u4f46\u662f\u53d7s3\u7684\u5e72\u6270\uff08s3\u7684\u5e27a\u4f7f\u5f97s1\u8fdb\u5165\u51bb\u7ed3\u65f6\u95f4\uff09\uff0c\u5b83\u6b64\u65f6\u6ca1\u6cd5\u63a5\u6536\u6570\u636e\uff0c\u8fd9\u5c31\u662f\u6240\u8c13\u7684congested port</p> <p>Ans\uff1a\u5b8c\u5168\u9519\u8bef\u274c</p> <p>\u6b63\u786e\u89e3\u7b54\uff1a 1. \u670d\u52a1\u5668 S1 \u901a\u8fc7\u8def\u5f84 {T0, La, T1} \u5411 S3 \u548c S5 \u53d1\u9001\u6570\u636e\u5305\u3002\u7d2b\u8272\u6570\u636e\u5305\u53d1\u9001\u81f3 S3\uff0c\u9ed1\u8272\u6570\u636e\u5305\u53d1\u9001\u81f3 S5\u3002 S3 \u5df2\u5931\u6548\uff0c\u56e0\u6b64\u5728\u7aef\u53e3 T1.p3 \u6536\u5230\u7684\u7d2b\u8272\u6570\u636e\u5305\u5c06\u88ab\u6d2a\u6cdb\u5230 T1 \u7684\u5176\u4f59\u7aef\u53e3\uff08\u5305\u62ec p4\uff09\u3002\u4e00\u65e6\u7d2b\u8272\u6570\u636e\u5305\u4f4d\u4e8e\u961f\u5217\u5934\u90e8\uff0cT1.p4 \u7684\u51fa\u53e3\u961f\u5217\u5c31\u4f1a\u4e22\u5f03\u5b83\u4eec\uff0c\u56e0\u4e3a\u76ee\u6807 MAC \u4e0d\u5339\u914d\u3002\u4f46\u5728\u6b64\u4e4b\u524d\uff0c\u8fd9\u4e9b\u7d2b\u8272\u6570\u636e\u5305\u5c31\u5728\u90a3\u91cc\u6392\u961f\u3002\u6b64\u5916\uff0c\u7531\u4e8e\u6765\u81ea S1 \u548c\u5176\u4ed6\u6765\u6e90\u7684\u7ec4\u64ad\u6d41\u91cf\uff0cT1.p2 \u4e5f\u53d1\u751f\u62e5\u585e\u3002\u56e0\u6b64\uff0c\u9ed1\u8272\u6570\u636e\u5305\u5728 T1 \u4e2d\u6392\u961f\u3002\u7ed3\u679c\uff0cT1.p3\u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505cLa.p1\u7684\u51fa\u53e3\u7aef\u53e3\u3002 2. \u56e0\u6b64\uff0c\u5f53\u9ed1\u8272\u548c\u7d2b\u8272\u6570\u636e\u5305\u5728 La \u4e2d\u5efa\u7acb\u961f\u5217\u65f6\uff0cLa.p0 \u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505c T0.p2 \u7684\u51fa\u53e3\u7aef\u53e3\u3002\u51fa\u4e8e\u540c\u6837\u7684\u539f\u56e0\uff0cT0.p0 \u7684\u5165\u53e3\u7aef\u53e3\u5f00\u59cb\u6682\u505c S1\u3002\u00a0 3. \u670d\u52a1\u5668S4\u5f00\u59cb\u901a\u8fc7\u8def\u5f84{T1\uff0cLb\uff0cT0}\u5411S2\u53d1\u9001\u84dd\u8272\u6570\u636e\u5305\u3002\u4e0d\u5e78\u7684\u662f\uff0cS2\u4e5f\u6b7b\u4e86\u3002\u7136\u540e\uff0c\u7aef\u53e3 T0.p3 \u5c06\u84dd\u8272\u6570\u636e\u5305\u6cdb\u6d2a\u5230\u5305\u62ec T0.p2 \u5728\u5185\u7684\u5176\u4f59\u7aef\u53e3\u3002\u7531\u4e8eT0.p2\u51fa\u7aef\u53e3\u7684\u6240\u6709\u6570\u636e\u5305\uff08\u5305\u62ec\u84dd\u8272\u6570\u636e\u5305\uff09\u65e0\u6cd5\u88ab\u6392\u51fa\uff0c\u56e0\u6b64T0.p3\u7684\u5165\u7aef\u53e3\u5f00\u59cb\u6682\u505cLb.p0\u3002\u00a0 4. \u7ed3\u679c\uff0cLb.p1\u7684\u5165\u7aef\u53e3\u5f00\u59cb\u6682\u505cT1.p4\uff0cT1.p1\u5f00\u59cb\u6682\u505cS4\u3002\u8bf7\u6ce8\u610f\uff0c\u5373\u4f7f\u5728 T1.p2 \u7684\u62e5\u585e\u6d88\u5931\u540e\u9ed1\u8272\u6570\u636e\u5305\u79bb\u5f00 T1 \u5230 S5\uff0cT1.p3 \u4e5f\u4f1a\u7ee7\u7eed\u6682\u505c La.p1\u3002\u8fd9\u662f\u56e0\u4e3a\u7d2b\u8272\u6570\u636e\u5305\u65e0\u6cd5\u88ab\u6392\u51fa\uff0c\u56e0\u4e3a T1.p4 \u88ab Lb \u6682\u505c\u3002\u7136\u540e\u5728\u56db\u4e2a\u5f00\u5173\u4e4b\u95f4\u5f62\u6210PFC\u6682\u505c\u5e27\u73af\u8def\u3002\u56e0\u6b64\u51fa\u73b0\u6b7b\u9501\u3002\u4e00\u65e6\u53d1\u751f\u6b7b\u9501\uff0c\u5373\u4f7f\u6211\u4eec\u91cd\u65b0\u542f\u52a8\u6240\u6709\u670d\u52a1\u5668\uff0c\u6b7b\u9501\u4e5f\u4e0d\u4f1a\u6d88\u5931\u3002 \u8fd9\u79cd\u6b7b\u9501\u662f\u4f17\u6240\u5468\u77e5\u7684\u5faa\u73af\u7f13\u51b2\u533a\u4f9d\u8d56\u6027\u7684\u5177\u4f53\u793a\u4f8b\uff08\u53c2\u89c1[12,18,22,36]\u53ca\u5176\u4e2d\u7684\u53c2\u8003\u6587\u732e\uff09\u3002\u7136\u800c\uff0c\u5faa\u73af\u4f9d\u8d56\u7684\u539f\u56e0\u662f\u201c\u65b0\u7684\u201d\u3002\u8fd9\u662f\u7531\u4ea4\u6362\u673a\u7684\u6d2a\u6cdb\u884c\u4e3a\u5f15\u8d77\u7684\u3002\u5728\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u4e2d\uff0c\u4e00\u65e6\u6570\u636e\u5305\u7684\u76ee\u7684MAC\u5730\u5740\u672a\u77e5\uff0c\u6570\u636e\u5305\u5c31\u4f1a\u88ab\u6d2a\u6cdb\u5230\u9664\u63a5\u6536\u7aef\u53e3\u4e4b\u5916\u7684\u6240\u6709\u7aef\u53e3\u3002\u6b63\u5982\u6211\u4eec\u5728\u4e0a\u9762\u7684\u793a\u4f8b\u4e2d\u6240\u793a\uff0c\u8fd9\u79cd\u201c\u5408\u6cd5\u201d\u884c\u4e3a\u4f1a\u5bfc\u81f4\u4f9d\u8d56\u5708\u7684\u5f62\u6210\u3002</p> <p>\u7b54\u800c\u540e\u60d1\uff1a P2\u4e2d\u7684\u7070\u8272\u961f\u5217\u662f\u4ec0\u4e48\uff1f\u4e3a\u4ec0\u4e48\u4e0d\u50cf\u5176\u4ed6\u7aef\u53e3\u4e00\u6837\u753b\u4e0a\u7684\u662f\u7d2b\u8272\u6570\u636e\u5305</p> <p>\u30109\u3011\u201cCompared with the number of pause frames, pause intervals can reveal the severity of the congestion in the network more accurately\u201d \u4e0e\u6682\u505c\u5e27\u6570\u76f8\u6bd4\uff0c\u6682\u505c\u95f4\u9694\u53ef\u4ee5\u66f4\u51c6\u786e\u5730\u63ed\u793a\u7f51\u7edc\u62e5\u585e\u7684\u4e25\u91cd\u7a0b\u5ea6\u2705 Ask\uff1a\u4e3a\u4ec0\u4e48\uff1f Ans\uff1a\u8fd9\u53e5\u8bdd\u7684\u542b\u4e49\u662f\uff0c\u5f53\u8bc4\u4f30\u7f51\u7edc\u4e2d\u7684\u62e5\u585e\u60c5\u51b5\u65f6\uff0c\u89c2\u5bdf\u548c\u5206\u6790\u6682\u505c\u95f4\u9694\uff08pause intervals\uff09\u53ef\u80fd\u4f1a\u63d0\u4f9b\u6bd4\u5355\u7eaf\u8ba1\u7b97\u6682\u505c\u5e27\u6570\u91cf\u66f4\u51c6\u786e\u7684\u4fe1\u606f\u3002\u4ee5\u4e0b\u662f\u4e3a\u4ec0\u4e48\u8fd9\u79cd\u8bf4\u6cd5\u6210\u7acb\u7684\u89e3\u91ca\uff1a 1. \u6682\u505c\u5e27\u6570\u91cf\u53ef\u80fd\u4e0d\u8db3\u4ee5\u63d0\u4f9b\u5b8c\u6574\u7684\u4fe1\u606f\uff1a\u6682\u505c\u5e27\u662f\u4e00\u79cd\u7279\u6b8a\u7684\u4ee5\u592a\u7f51\u5e27\uff0c\u901a\u5e38\u7528\u4e8e\u901a\u77e5\u7f51\u7edc\u8bbe\u5907\u51cf\u7f13\u6216\u505c\u6b62\u6570\u636e\u4f20\u8f93\uff0c\u4ee5\u907f\u514d\u7f51\u7edc\u62e5\u585e\u3002\u7136\u800c\uff0c\u4ec5\u4ec5\u7edf\u8ba1\u6682\u505c\u5e27\u7684\u6570\u91cf\u53ef\u80fd\u65e0\u6cd5\u63d0\u4f9b\u8db3\u591f\u7684\u4fe1\u606f\u6765\u4e86\u89e3\u62e5\u585e\u7684\u7a0b\u5ea6\u3002\u6682\u505c\u5e27\u7684\u6570\u91cf\u53ef\u4ee5\u544a\u8bc9\u4f60\u62e5\u585e\u4e8b\u4ef6\u53d1\u751f\u7684\u9891\u7387\uff0c\u4f46\u5b83\u4eec\u4e0d\u80fd\u63d0\u4f9b\u62e5\u585e\u671f\u95f4\u6301\u7eed\u7684\u65f6\u95f4\u6216\u62e5\u585e\u7684\u4e25\u91cd\u6027\u3002 2. \u6682\u505c\u95f4\u9694\u63d0\u4f9b\u66f4\u591a\u4e0a\u4e0b\u6587\u4fe1\u606f\uff1a\u6682\u505c\u95f4\u9694\u6307\u7684\u662f\u4e24\u4e2a\u8fde\u7eed\u6682\u505c\u5e27\u4e4b\u95f4\u7684\u65f6\u95f4\u95f4\u9694\u3002\u901a\u8fc7\u5206\u6790\u6682\u505c\u95f4\u9694\uff0c\u60a8\u53ef\u4ee5\u4e86\u89e3\u62e5\u585e\u4e8b\u4ef6\u7684\u6301\u7eed\u65f6\u95f4\u548c\u95f4\u9694\u3002\u5982\u679c\u62e5\u585e\u4e8b\u4ef6\u9891\u7e41\u4e14\u6301\u7eed\u65f6\u95f4\u957f\uff0c\u90a3\u4e48\u7f51\u7edc\u53ef\u80fd\u9762\u4e34\u66f4\u4e25\u91cd\u7684\u62e5\u585e\u95ee\u9898\u3002\u76f8\u6bd4\u4e4b\u4e0b\uff0c\u6682\u505c\u5e27\u6570\u91cf\u53ef\u80fd\u65e0\u6cd5\u533a\u5206\u77ed\u6682\u7684\u62e5\u585e\u4e8b\u4ef6\u548c\u6301\u7eed\u7684\u62e5\u585e\u3002 3. \u7efc\u5408\u8003\u8651\u62e5\u585e\u4e25\u91cd\u6027\uff1a\u901a\u8fc7\u5206\u6790\u6682\u505c\u95f4\u9694\uff0c\u60a8\u53ef\u4ee5\u66f4\u5168\u9762\u5730\u4e86\u89e3\u62e5\u585e\u7684\u4e25\u91cd\u6027\u3002\u8f83\u957f\u6216\u66f4\u9891\u7e41\u7684\u6682\u505c\u95f4\u9694\u53ef\u80fd\u8868\u793a\u7f51\u7edc\u4e2d\u5b58\u5728\u66f4\u5927\u7684\u95ee\u9898\uff0c\u800c\u8f83\u77ed\u7684\u6682\u505c\u95f4\u9694\u53ef\u80fd\u8868\u660e\u95ee\u9898\u76f8\u5bf9\u8f83\u5c0f\u3002 \u603b\u4e4b\uff0c\u6682\u505c\u5e27\u6570\u91cf\u662f\u4e00\u4e2a\u91cd\u8981\u7684\u6307\u6807\uff0c\u4f46\u6682\u505c\u95f4\u9694\u63d0\u4f9b\u4e86\u66f4\u591a\u7684\u4e0a\u4e0b\u6587\u4fe1\u606f\uff0c\u80fd\u591f\u66f4\u51c6\u786e\u5730\u63ed\u793a\u7f51\u7edc\u62e5\u585e\u7684\u4e25\u91cd\u7a0b\u5ea6\u3002\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u901a\u8fc7\u540c\u65f6\u8003\u8651\u8fd9\u4e24\u4e2a\u56e0\u7d20\u6765\u66f4\u597d\u5730\u8bc4\u4f30\u548c\u5e94\u5bf9\u62e5\u585e\u95ee\u9898\uff0c\u4ece\u800c\u6539\u5584\u7f51\u7edc\u6027\u80fd\u548c\u53ef\u9760\u6027\u3002</p> <p>\u301010\u3011\u201cPause intervals, unfortunately, are not available for the switches we currently use.\u201d \u4e0d\u5e78\u7684\u662f\uff0c\u6682\u505c\u95f4\u9694\u4e0d\u9002\u7528\u4e8e\u6211\u4eec\u5f53\u524d\u4f7f\u7528\u7684\u5f00\u5173\u3002\u2705 Ask\uff1a\u4e3a\u4ec0\u4e48 Ans\uff1a\"Pause intervals\"\uff08\u6682\u505c\u95f4\u9694\uff09\u901a\u5e38\u662f\u4e0e\u201c\u6682\u505c\u5e27\u201d\uff08pause frames\uff09\u76f8\u5173\u7684\u4e00\u4e2a\u6982\u5ff5\uff0c\u5b83\u7528\u4e8e\u7ba1\u7406\u7f51\u7edc\u8bbe\u5907\u4e4b\u95f4\u7684\u6d41\u91cf\u63a7\u5236\u3002\u5728\u4ee5\u592a\u7f51\u7f51\u7edc\u4e2d\uff0c\u6682\u505c\u5e27\u7528\u4e8e\u901a\u77e5\u63a5\u6536\u8bbe\u5907\u964d\u4f4e\u6216\u505c\u6b62\u6570\u636e\u4f20\u8f93\uff0c\u4ee5\u9632\u6b62\u62e5\u585e\u3002\u7136\u800c\uff0c\u4e0d\u662f\u6240\u6709\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u90fd\u652f\u6301\u6216\u63d0\u4f9b\u5173\u4e8e\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\uff0c\u56e0\u6b64\u6709\u4e00\u4e9b\u53ef\u80fd\u7684\u539f\u56e0\u89e3\u91ca\u4e3a\u4ec0\u4e48\u6682\u505c\u95f4\u9694\u4e0d\u9002\u7528\u4e8e\u67d0\u4e9b\u7f51\u7edc\u8bbe\u5907\uff1a 1. \u8bbe\u5907\u4e0d\u652f\u6301\u6682\u505c\u95f4\u9694\u62a5\u544a\uff1a\u67d0\u4e9b\u8f83\u65e7\u6216\u4f4e\u6210\u672c\u7684\u4ee5\u592a\u7f51\u4ea4\u6362\u673a\u548c\u7f51\u7edc\u8bbe\u5907\u53ef\u80fd\u6ca1\u6709\u652f\u6301\u62a5\u544a\u6216\u8bb0\u5f55\u6682\u505c\u95f4\u9694\u7684\u529f\u80fd\u3002\u8fd9\u610f\u5473\u7740\u5b83\u4eec\u4e0d\u80fd\u63d0\u4f9b\u6709\u5173\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\u3002 2. \u8bbe\u5907\u914d\u7f6e\u6216\u76d1\u89c6\u7684\u9650\u5236\uff1a\u5373\u4f7f\u67d0\u4e9b\u8bbe\u5907\u7406\u8bba\u4e0a\u652f\u6301\u6682\u505c\u95f4\u9694\uff0c\u4f46\u5b83\u4eec\u53ef\u80fd\u88ab\u914d\u7f6e\u4e3a\u4e0d\u751f\u6210\u6216\u8bb0\u5f55\u8fd9\u4e9b\u4fe1\u606f\uff0c\u6216\u8005\u7ba1\u7406\u5458\u53ef\u80fd\u6ca1\u6709\u542f\u7528\u76f8\u5173\u7684\u76d1\u89c6\u548c\u62a5\u544a\u529f\u80fd\u3002 3. \u534f\u8bae\u6216\u56fa\u4ef6\u7248\u672c\uff1a\u6709\u4e9b\u8bbe\u5907\u53ef\u80fd\u9700\u8981\u7279\u5b9a\u7684\u534f\u8bae\u6216\u56fa\u4ef6\u7248\u672c\u624d\u80fd\u652f\u6301\u6682\u505c\u95f4\u9694\u7684\u62a5\u544a\u3002\u4f7f\u7528\u8f83\u65e7\u7684\u8bbe\u5907\u6216\u672a\u7ecf\u5347\u7ea7\u7684\u8bbe\u5907\u53ef\u80fd\u65e0\u6cd5\u63d0\u4f9b\u8fd9\u4e9b\u4fe1\u606f\u3002 4. \u9650\u5236\u6027\u56e0\u7d20\uff1a\u7279\u5b9a\u7684\u7f51\u7edc\u62d3\u6251\u3001\u914d\u7f6e\u6216\u9650\u5236\u6761\u4ef6\u53ef\u80fd\u5bfc\u81f4\u67d0\u4e9b\u8bbe\u5907\u65e0\u6cd5\u63d0\u4f9b\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\u3002\u4f8b\u5982\uff0c\u67d0\u4e9b\u7f51\u7edc\u8bbe\u5907\u5728\u865a\u62df\u5316\u73af\u5883\u4e2d\u53ef\u80fd\u53d7\u5230\u9650\u5236\u3002 \u56e0\u6b64\uff0c\u5982\u679c\u67d0\u4e2a\u7f51\u7edc\u4e2d\u7684\u4ea4\u6362\u673a\u6216\u7f51\u7edc\u8bbe\u5907\u4e0d\u63d0\u4f9b\u6709\u5173\u6682\u505c\u95f4\u9694\u7684\u4fe1\u606f\uff0c\u90a3\u4e48\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u80fd\u9700\u8981\u4f9d\u8d56\u5176\u4ed6\u6307\u6807\u548c\u5de5\u5177\u6765\u76d1\u89c6\u548c\u8bc4\u4f30\u7f51\u7edc\u6027\u80fd\uff0c\u4ee5\u786e\u4fdd\u7f51\u7edc\u6b63\u5e38\u8fd0\u884c\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u67e5\u770b\u6682\u505c\u5e27\u6570\u91cf\u3001\u5e26\u5bbd\u5229\u7528\u7387\u3001\u4e22\u5305\u7387\u7b49\u5176\u4ed6\u53ef\u7528\u7684\u6027\u80fd\u6307\u6807\u3002</p> <p>\u301011\u3011\u4e3a\u4ec0\u4e48RDMA\u4e0d\u80fd\u6539\u53d8incast\u6d41\u91cf\u6a21\u5f0f\uff1f\u2705</p> <p>\u301012\u3011\u4ec0\u4e48\u662fInfiniband\uff1f\u2705</p> <p>\u301013\u3011\u4e3a\u4ec0\u4e48\u76ee\u524d\u8fd8\u6ca1\u6709 Infiniband \u8def\u7531\u5668\u6295\u5165\u751f\u4ea7\uff1f\u2705</p> <p>\u301014\u3011\u4e3a\u4ec0\u4e48Infiniband \u4e0e\u4ee5\u592a\u7f51\u4e0d\u517c\u5bb9\uff1f\u2705</p> <p>\u301015\u3011iwarp\u662f\u4ec0\u4e48\uff1f\u2705</p> <p>\u301016\u3011iwarp\u4e3a\u4ec0\u4e48\u53ef\u4ee5\u5728DC\u4e4b\u95f4\u901a\u4fe1 &amp; RoCE\u4e3a\u4ec0\u4e48\u4e0d\u53ef\u4ee5\u5728DC\u4e4b\u95f4\u901a\u4fe1\uff1f\u2705</p> <p>\u301017\u3011 TCP incast [35,38,39] \u548c\u957f\u5ef6\u8fdf\u5c3e\u90e8 [41]\u662f\u4ec0\u4e48\uff1f\u2705</p> <p>\u301018\u3011iwarp\u8fd8\u9700\u8981tcp\u8f85\u52a9\uff0c\u8fd9\u9879\u6280\u672f\u4e0d\u662f\u5f88\u9e21\u808b\u5417\uff1f\u2705</p> <p>\u301019\u3011 RDMA\uff08\u8fdc\u7a0b\u76f4\u63a5\u5185\u5b58\u8bbf\u95ee\uff09\u5728\u4ee5\u592a\u7f51\u4e0a\u5b58\u5728\u4e00\u4e9b\u5b89\u5168\u95ee\u9898\uff0c\u5c3d\u7ba1\u5176\u672c\u8eab\u5177\u6709\u4e00\u4e9b\u5b89\u5168\u529f\u80fd\u3002\u4e00\u4e9b\u4e3b\u8981\u7684\u5b89\u5168\u8003\u8651\u5305\u62ec\uff1a</p> <ol> <li> <p>\u7269\u7406\u8bbf\u95ee\u63a7\u5236\uff1aRDMA\u901a\u5e38\u4f9d\u8d56\u4e8e\u5e95\u5c42\u7f51\u7edc\u7684\u7269\u7406\u5b89\u5168\u3002\u672a\u7ecf\u6388\u6743\u7684\u7269\u7406\u8bbf\u95ee\u53ef\u80fd\u5bfc\u81f4\u6f5c\u5728\u7684\u653b\u51fb\u3002</p> </li> <li> <p>\u7f51\u7edc\u5b89\u5168\uff1aRDMA\u5728\u4ee5\u592a\u7f51\u4e0a\u4f20\u8f93\u6570\u636e\uff0c\u56e0\u6b64\u53d7\u5230\u7f51\u7edc\u5c42\u9762\u7684\u5b89\u5168\u5a01\u80c1\uff0c\u4f8b\u5982\u62e6\u622a\u3001\u4e2d\u95f4\u4eba\u653b\u51fb\u548c\u6570\u636e\u7be1\u6539\u3002</p> </li> <li> <p>\u8ba4\u8bc1\u548c\u6388\u6743\uff1a\u5bf9RDMA\u7684\u8bbf\u95ee\u9700\u8981\u5f3a\u6709\u529b\u7684\u8eab\u4efd\u9a8c\u8bc1\u548c\u8bbf\u95ee\u63a7\u5236\u673a\u5236\u3002\u786e\u4fdd\u53ea\u6709\u6388\u6743\u7528\u6237\u80fd\u591f\u8fdb\u884cRDMA\u64cd\u4f5c\u81f3\u5173\u91cd\u8981\u3002</p> </li> <li> <p>\u6f0f\u6d1e\u548c\u653b\u51fb\uff1a\u7531\u4e8eRDMA\u5b9e\u73b0\u590d\u6742\uff0c\u53ef\u80fd\u5b58\u5728\u6f5c\u5728\u7684\u6f0f\u6d1e\u548c\u5b89\u5168\u6f0f\u6d1e\uff0c\u8fd9\u53ef\u80fd\u88ab\u5229\u7528\u6765\u6267\u884c\u62d2\u7edd\u670d\u52a1\u653b\u51fb\u3001\u7f13\u51b2\u533a\u6ea2\u51fa\u7b49\u653b\u51fb\u3002</p> </li> <li> <p>\u52a0\u5bc6\uff1a\u6570\u636e\u5728RDMA\u4f20\u8f93\u8fc7\u7a0b\u4e2d\u53ef\u80fd\u66b4\u9732\u5728\u7f51\u7edc\u4e2d\uff0c\u56e0\u6b64\u52a0\u5bc6\u5bf9\u4fdd\u62a4\u6570\u636e\u7684\u9690\u79c1\u548c\u5b8c\u6574\u6027\u81f3\u5173\u91cd\u8981\u3002</p> </li> </ol> <p>\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\uff0c\u5b89\u5168\u6027\u610f\u8bc6\u7684\u63d0\u9ad8\u548c\u76f8\u5e94\u7684\u5b89\u5168\u63aa\u65bd\u662f\u5fc5\u8981\u7684\u3002\u8fd9\u53ef\u80fd\u5305\u62ec\u5b9e\u65bd\u52a0\u5bc6\u3001\u8eab\u4efd\u9a8c\u8bc1\u548c\u6388\u6743\u63a7\u5236\u3001\u76d1\u63a7\u548c\u5ba1\u8ba1\uff0c\u4ee5\u53ca\u4e0d\u65ad\u66f4\u65b0\u548c\u6539\u8fdb\u7cfb\u7edf\u4ee5\u62b5\u5fa1\u65b0\u7684\u5b89\u5168\u5a01\u80c1\u3002\u4e0d\u65ad\u7684\u7814\u7a76\u548c\u53d1\u5c55\u9488\u5bf9\u8fd9\u4e9b\u95ee\u9898\u7684\u89e3\u51b3\u65b9\u6848\u5c06\u8fdb\u4e00\u6b65\u589e\u5f3aRDMA\u5728\u4ee5\u592a\u7f51\u4e0a\u7684\u5b89\u5168\u6027\u3002</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/","title":"\u201c\u8bfb\u540e\u611f\u201d","text":""},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/#1dscp","title":"\u30101\u3011\u8fd9\u7bc7\u8bba\u6587\u63d0\u5230\uff0c\u5165\u53e3\u961f\u5217\u91c7\u7528\u201c\u5171\u4eab\u7f13\u51b2\u6c60\u201d\u7684\u65b9\u5f0f\uff0c\u8fd9\u6837\u6bcf\u4e2a\u6570\u636e\u5305\u90fd\u4e0e\u4e00\u4e2a\u8ba1\u6570\u5668\u76f8\u5173\u8054\uff0c\u53ef\u7528\u4e8e\u8ddf\u8e2a\u7f13\u51b2\u6c60\u4e2d\u7684\u53ef\u7528\u7f13\u51b2\u533a\u6570\u91cf\u3002\u6587\u4e2d\u91c7\u7528\u4e86DSCP\u6807\u8bb0\u4f18\u5148\u7ea7\u961f\u5217\u7684\u65b9\u6cd5\u52a0\u4ee5\u4f18\u5316\u3002","text":"<p>\u6211\u7684\u60f3\u6cd5\u662f\uff1a\u8fd9\u79cd\u65b9\u6cd5\u4e5f\u6709\u4e00\u5b9a\u7684\u7f3a\u70b9\uff0c\u5982\u679c\u6d41\u91cf\u62e5\u585e\u6216\u8fc7\u591a\uff0c\u5728\u9ad8\u8d1f\u8f7d\u6216\u62e5\u585e\u60c5\u51b5\u4e0b\uff0c\u5b83\u4ecd\u7136\u53ef\u80fd\u5bfc\u81f4\u6570\u636e\u5305\u6392\u961f\u548c\u7ade\u4e89\u8d44\u6e90\uff0c\u6709\u6ca1\u6709\u4e00\u4e9b\u522b\u7684\u4f18\u5316\u65b9\u6cd5\uff1f\u6bd4\u5982\u6d41\u63a7\u5236\u548c\u62e5\u585e\u7ba1\u7406\uff08\u4f8b\u5982TCP\uff09\uff1b\u6216\u8005\u6709\u6ca1\u6709\u4e00\u79cd\u7c7b\u4f3c\u4e8e\u5355\u72ec\u961f\u5217\u5904\u7406\u7684\u65b9\u6cd5\uff1f\u4e0d\u540c\u7684\u6570\u636e\u5305\u8d70\u4e0d\u540c\u7684\u961f\u5217\uff0c\u4f7f\u5f97\u4fe1\u606f\u5904\u7406\u66f4\u6709\u5e8f\uff0c\u4e5f\u53ef\u4ee5\u907f\u514d\u4e0a\u8ff0\u95ee\u9898</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/#2","title":"\u30102\u3011\u6587\u4e2d\u63d0\u5230\u201c\u5373\u4f7f\u4ea4\u6362\u673a\u652f\u6301\u516b\u4e2a\u6d41\u91cf\u7c7b\u522b\uff0c\u6211\u4eec\u4e5f\u53ea\u80fd\u4e3a\u4e24\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u8db3\u591f\u7684\u4f59\u91cf\u201d\uff08==\u53ef\u51fa\u9876\u4f1a==\uff09","text":"<p>\u7ecf\u67e5\u8be2\u6211\u5f97\u77e5\uff1a\u901a\u5e38\u60c5\u51b5\u4e0b\uff0c\u80fd\u591f\u4e3a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4fdd\u7559\u8db3\u591f\u7684\u5934\u7a0b\uff08headroom\uff09\u6216\u7f13\u51b2\u533a\u7a7a\u95f4\u7684\u80fd\u529b\u53d7\u5230\u591a\u79cd\u56e0\u7d20\u7684\u9650\u5236\u3002\u8fd9\u4e9b\u56e0\u7d20\u5305\u62ec\u7f51\u7edc\u8bbe\u8ba1\u3001\u786c\u4ef6\u8d44\u6e90\u3001\u6027\u80fd\u9700\u6c42\u548c\u6210\u672c\u7b49\uff08\u786c\u6027\uff09+  ==\u7b97\u6cd5\uff08\u8f6f\u6027\uff0c\u53ef\u4f18\u5316\uff09==</p> <p>\u6211\u7684\u60f3\u6cd5\u662f\uff1a\u5982\u679c\u80fd\u591f\u652f\u6301\u7684\u8d85\u8fc7\u4e24\u4e2a\uff0c\u4f1a\u4e0d\u4f1a\u6548\u679c\u66f4\u597d\uff1f\u5177\u4f53\u4f1a\u597d\u5728\u54ea\u91cc\uff1f \u6211\u4e2a\u4eba\u8ba4\u4e3a\u4f1a\u6709\u51e0\u4e2a\u4f18\u70b9\uff1a 1. \u901a\u8fc7\u5c06\u6d41\u91cf\u5206\u7c7b\u5230\u591a\u4e2a\u65e0\u635f\u6d41\u91cf\u7c7b\u522b\u4e2d\uff0c\u53ef\u4ee5\u66f4\u597d\u5730\u9694\u79bb\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u9632\u6b62\u5b83\u4eec\u76f8\u4e92\u5e72\u6270 2. \u6bcf\u4e2a\u6d41\u91cf\u7c7b\u522b\u53ef\u4ee5\u5177\u6709\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u53c2\u6570\uff0c\u5982\u6700\u5c0f\u5e26\u5bbd\u3001\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u8981\u6c42\u3002\u8fd9\u4f7f\u5f97\u7ba1\u7406\u5458\u66f4\u7cbe\u786e\u5730\u63a7\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf</p> <p>headroom\u7684\u5206\u914d\u65b9\u6cd5\uff1a\uff08\u8fb9\u5b66\u8fb9\u7528\uff09 1. ns-3\u3010\u5f88\u5e9e\u5927\uff01\u4f1a\u57fa\u7840\u67b6\u6784\u5373\u53ef\uff01\u3011 2. \u6587\u7ae0\u7684\u4eff\u771f\u5b9e\u9a8c</p> <p>\uff081\uff09\u4eff\u771f\u5de5\u5177[tutorial / c++]\uff1ahttps://www.nsnam.org/ \uff082\uff09\u5b66\u4e60\u6587\u6863\uff1ahttps://www.nsnam.org/documentation/ \uff083\uff09\u8bba\u6587\u5b9e\u9a8c\u590d\u73b0\uff1a \uff084\uff09\u540e\u671f\u518d\u505a\u65b0\u5b9e\u9a8c\uff1a</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/#3","title":"\u30103\u3011 \u6587\u4e2d\u63d0\u5230\uff1a\u201c\u6bcf\u4e2a\u6d41\u91cf\u7c7b\u522b\u53ef\u4ee5\u5177\u6709\u4e0d\u540c\u7684\u670d\u52a1\u8d28\u91cf\u53c2\u6570\uff0c\u5982\u6700\u5c0f\u5e26\u5bbd\u3001\u5ef6\u8fdf\u548c\u4e22\u5305\u7387\u8981\u6c42\u3002\u8fd9\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u66f4\u7cbe\u786e\u5730\u63a7\u5236\u4e0d\u540c\u7c7b\u578b\u7684\u6d41\u91cf\uff0c\u4ee5\u6ee1\u8db3\u5176\u6027\u80fd\u9700\u6c42\u201d","text":"<p>\u6211\u7684\u95ee\u9898\u662f\uff1a\u8fd9\u91cc\u201c\u53e6\u4e00\u79cd\u201d\u662f\u65e0\u635f\u8fd8\u662f\u6709\u635f\uff1f\u6279\u91cf\u6570\u636e\u4f20\u8f93\u9700\u8981\u6709\u635f\u8fd8\u662f\u65e0\u635f\uff1f \u6211\u5728\u7f51\u4e0a\u67e5\u9605\u4e86\u76f8\u5173\u8d44\u6599\uff0c\u4e24\u79cd\u8bf4\u6cd5\u90fd\u6709\uff0c\u6211\u4e2a\u4eba\u66f4\u504f\u5411\u4e8e\uff1a\u6b64\u5904\u7528\u7684\u662f\u6709\u635f\uff08\u4fdd\u8bc1\u4f20\u8f93v\uff0c\u6b64\u5904\u5bf9accuracy\u7684\u8981\u6c42\u6ca1\u90a3\u4e48\u9ad8\uff09\uff0c\u5982\u679c\u8fd9\u91cc\u7528\u7684\u662f\u65e0\u635f\uff0c\u5728\u6b64\u573a\u666f\u4e2d\u4f1a\u4ea7\u751f\u4ec0\u4e48\u597d/\u574f\u7684\u5f71\u54cd\uff1f</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/#4although-we-need-only-pcp-vid-and-pcp-cannot-be-separated-pcpvidpcp","title":"\u30104\u3011\u201calthough we need only PCP, VID and PCP cannot be separated\u201d \uff08\u867d\u7136\u6211\u4eec\u53ea\u9700\u8981PCP\uff0c\u4f46VID\u548cPCP\u662f\u4e0d\u80fd\u5206\u5f00\u7684\uff09","text":"<p>\u6211\u67e5\u9605\u76f8\u5173\u8d44\u6599\u5f97\u77e5\uff1a \u5728\u4ee5\u592a\u7f51\u5e27\u7684\u6807\u5934\u4e2d\uff0cPCP\uff08Priority Code Point\uff09\u548cVID\uff08VLAN ID\uff09\u662f\u4e24\u4e2a\u4e0d\u540c\u7684\u5b57\u6bb5\uff0c\u901a\u5e38\u4e00\u8d77\u4f7f\u7528\u6765\u5b9a\u4e49\u6570\u636e\u5305\u7684\u4f18\u5148\u7ea7\u548c\u865a\u62df\u5c40\u57df\u7f51\u6807\u8bc6\u3002\u5b83\u4eec\u901a\u5e38\u4e0d\u5206\u5f00\u7684\u539f\u56e0\u5982\u4e0b\uff1a 1. \u5173\u8054\u6027\uff1aPCP \u548c VID \u901a\u5e38\u662f\u7d27\u5bc6\u5173\u8054\u7684\uff0c\u5b83\u4eec\u4e00\u8d77\u7528\u6765\u786e\u5b9a\u6570\u636e\u5305\u7684\u5904\u7406\u65b9\u5f0f\u3002VID \u7528\u4e8e\u6807\u8bc6\u6570\u636e\u5305\u5c5e\u4e8e\u54ea\u4e2a\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\uff0c\u800c PCP \u7528\u4e8e\u5b9a\u4e49\u6570\u636e\u5305\u5728\u8be5 VLAN \u5185\u7684\u4f18\u5148\u7ea7\u3002\u8fd9\u79cd\u5173\u8054\u6027\u4f7f\u7f51\u7edc\u8bbe\u5907\u80fd\u591f\u66f4\u51c6\u786e\u5730\u786e\u5b9a\u6570\u636e\u5305\u7684\u5904\u7406\u65b9\u5f0f\u3002 2. QoS \u63a7\u5236\uff1aPCP \u5b57\u6bb5\u662f\u7528\u4e8e\u5b9e\u65bd\u670d\u52a1\u8d28\u91cf\uff08QoS\uff09\u63a7\u5236\u7684\u5173\u952e\u7ec4\u6210\u90e8\u5206\u3002\u5b83\u5141\u8bb8\u7f51\u7edc\u7ba1\u7406\u5458\u4e3a\u4e0d\u540c\u7684\u6570\u636e\u5305\u5206\u914d\u4e0d\u540c\u7684\u4f18\u5148\u7ea7\uff0c\u4ee5\u786e\u4fdd\u9ad8\u4f18\u5148\u7ea7\u6d41\u91cf\u5f97\u5230\u66f4\u597d\u7684\u670d\u52a1\u3002VID \u5219\u7528\u4e8e\u5c06\u6570\u636e\u5305\u9694\u79bb\u5230\u4e0d\u540c\u7684\u865a\u62df\u5c40\u57df\u7f51\u4e2d\uff0c\u4f46\u4e0e QoS \u63a7\u5236\u5173\u7cfb\u8f83\u5c0f\u3002 3. \u7f51\u7edc\u914d\u7f6e\uff1a\u7f51\u7edc\u7ba1\u7406\u5458\u901a\u5e38\u5728\u914d\u7f6e\u4ea4\u6362\u673a\u548c\u8def\u7531\u5668\u65f6\uff0c\u540c\u65f6\u914d\u7f6e PCP \u548c VID \u4ee5\u786e\u4fdd\u7f51\u7edc\u7684\u6b63\u786e\u8fd0\u884c\u3002\u8fd9\u79cd\u914d\u7f6e\u65b9\u5f0f\u7b80\u5316\u4e86\u7ba1\u7406\uff0c\u56e0\u4e3a\u5b83\u4eec\u901a\u5e38\u662f\u540c\u65f6\u5904\u7406\u7684\u3002 \u867d\u7136 PCP \u548c VID \u901a\u5e38\u4e00\u8d77\u4f7f\u7528\uff0c\u4f46\u5728\u67d0\u4e9b\u60c5\u51b5\u4e0b\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u5177\u4f53\u7f51\u7edc\u9700\u6c42\u8fdb\u884c\u914d\u7f6e\u3002\u5982\u679c\u7f51\u7edc\u8981\u6c42\u4e0d\u540c\u7684\u914d\u7f6e\uff0c\u53ef\u80fd\u53ef\u4ee5\u5206\u522b\u5904\u7406 PCP \u548c VID\uff0c\u4f46\u8fd9\u9700\u8981\u7279\u5b9a\u8bbe\u5907\u548c\u914d\u7f6e\u652f\u6301\uff0c\u5e76\u9700\u8981\u66f4\u590d\u6742\u7684\u7f51\u7edc\u7ba1\u7406\u3002\u5728\u5927\u591a\u6570\u60c5\u51b5\u4e0b\uff0c\u5c06\u5b83\u4eec\u4e00\u8d77\u4f7f\u7528\u662f\u66f4\u5e38\u89c1\u548c\u65b9\u4fbf\u7684\u505a\u6cd5\u3002</p> <p>\u6211\u7684\u95ee\u9898\u662f\uff1a\u5982\u679c\u5206\u5f00\u4f1a\u600e\u4e48\u6837\uff1f\u5bf9\u4e8e\u539f\u95ee\u9898\u4f1a\u4ea7\u751f\u66f4\u597d\u8fd8\u662f\u66f4\u8d1f\u9762\u7684\u5f71\u54cd\uff1f</p> <p>\u6211\u4e2a\u4eba\u7684\u601d\u8003\u662f\uff1a \u597d\u5904\uff1a 1. \u914d\u7f6e\u66f4\u52a0\u7075\u6d3b\uff1a\u5206\u5f00\u5904\u7406PCP\u548cVID\u5141\u8bb8\u66f4\u7075\u6d3b\u7684\u914d\u7f6e\uff0c\u53ef\u4ee5\u6839\u636e\u7f51\u7edc\u9700\u6c42\u548c\u670d\u52a1\u8d28\u91cf\u8981\u6c42\uff0c\u5355\u72ec\u8c03\u6574PCP\u6216VID\uff0c\u800c\u4e0d\u5f71\u54cd\u53e6\u4e00\u4e2a\u5b57\u6bb5\u3002 2. \u4e0d\u540c\u5c42\u6b21\u7684\u865a\u62df\u5316\uff1aVID\u7528\u4e8e\u865a\u62df\u5c40\u57df\u7f51\uff08VLAN\uff09\u6807\u8bc6\uff0c\u800cPCP\u7528\u4e8eQoS\u3002\u5206\u5f00\u5904\u7406\u5b83\u4eec\u53ef\u4ee5\u5141\u8bb8\u4e0d\u540c\u5c42\u6b21\u7684\u865a\u62df\u5316\uff0c\u4ee5\u66f4\u597d\u5730\u6ee1\u8db3\u4e0d\u540c\u7f51\u7edc\u90e8\u7f72\u7684\u9700\u6c42\u3002 \u5f0a\u7aef\uff1a\u590d\u6742\u6027\u589e\u52a0</p> <p>\u6211\u4e2a\u4eba\u8ba4\u4e3a\u662f\u5229\u5927\u4e8e\u5f0a\uff0c\u4e0d\u77e5\u662f\u5426\u6b63\u786e\uff1f\u6211\u901a\u8fc7gpt\u6ca1\u6709\u67e5\u9605\u5230\u76f8\u5173\u8bba\u6587\uff0c\u4e0d\u77e5\u8fd9\u4e2a\u65b9\u5411\u4e4b\u524d\u6709\u6ca1\u6709\u56e2\u961f\u5c1d\u8bd5\u8fc7\uff0c\u662f\u5426\u503c\u5f97\u4e00\u8bd5\uff1f</p>"},{"location":"sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/#5the-mapping-between-dscp-values-and-pfc-priorities-can-be-flexible-and-can-even-be-many-to-onedscppfc","title":"\u30105\u3011\u201cThe mapping between DSCP values and PFC priorities can be flexible and can even be many-to-one.\u201dDSCP\u503c\u548cPFC\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\u53ef\u4ee5\u662f\u7075\u6d3b\u7684\uff0c\u751a\u81f3\u53ef\u4ee5\u662f\u591a\u5bf9\u4e00\u7684\u3002","text":"<p>\u6211\u7684\u95ee\u9898\uff1a \u8fd9\u8bf4\u660e\u4f18\u5148\u7ea7\u4e4b\u95f4\u7684\u6620\u5c04\u53ef\u4ee5\u662f\u7075\u6d3b\u7684\uff0c\u610f\u5473\u7740\uff1a\u7f51\u7edc\u7ba1\u7406\u5458\u53ef\u4ee5\u6839\u636e\u7279\u5b9a\u7684\u7f51\u7edc\u9700\u6c42\u914d\u7f6e\u5b83\u4eec\uff0c\u4ee5\u6ee1\u8db3\u4e0d\u540c\u5e94\u7528\u548c\u670d\u52a1\u7684\u8981\u6c42\u3002\u4f46\u662f\u8fd9\u6837\u591a\u5bf9\u4e00\u7684\u6620\u5c04\u4f1a\u4e0d\u4f1a\u5bfc\u81f4\u591a\u4e2a\u6d41\u91cf\u5305\u540c\u65f6\u8fdb\u5165\u540c\u4e00\u961f\u5217\uff0c\u5bfc\u81f4\u62e5\u585e\u95ee\u9898\uff1f</p>"}]}