
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="胡博瑄的学习网站">
      
      
        <meta name="author" content="胡博瑄">
      
      
        <link rel="canonical" href="https://github.com/root-hbx/curriculum_study/C%2B%2BPrimerPlus/chapter13%E7%B1%BB%E7%BB%A7%E6%89%BF/">
      
      
        <link rel="prev" href="../chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/">
      
      
        <link rel="next" href="../chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/">
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.5.3, mkdocs-material-9.5.3">
    
    
      
        <title>Chapter13类继承 - carrot_world</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.50c56a3b.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../mkdocs/css/no-footer.css">
    
      <link rel="stylesheet" href="../../../mkdocs/css/unordered-list-symbols.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href="../../.." title="carrot_world" class="md-header__button md-logo" aria-label="carrot_world" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            carrot_world
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter13类继承
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至夜间模式"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="切换至夜间模式" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m17.75 4.09-2.53 1.94.91 3.06-2.63-1.81-2.63 1.81.91-3.06-2.53-1.94L12.44 4l1.06-3 1.06 3 3.19.09m3.5 6.91-1.64 1.25.59 1.98-1.7-1.17-1.7 1.17.59-1.98L15.75 11l2.06-.05L18.5 9l.69 1.95 2.06.05m-2.28 4.95c.83-.08 1.72 1.1 1.19 1.85-.32.45-.66.87-1.08 1.27C15.17 23 8.84 23 4.94 19.07c-3.91-3.9-3.91-10.24 0-14.14.4-.4.82-.76 1.27-1.08.75-.53 1.93.36 1.85 1.19-.27 2.86.69 5.83 2.89 8.02a9.96 9.96 0 0 0 8.02 2.89m-1.64 2.02a12.08 12.08 0 0 1-7.8-3.47c-2.17-2.19-3.33-5-3.49-7.82-2.81 3.14-2.7 7.96.31 10.98 3.02 3.01 7.84 3.12 10.98.31Z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="orange"  aria-label="切换至日间模式"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="切换至日间模式" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 7a5 5 0 0 1 5 5 5 5 0 0 1-5 5 5 5 0 0 1-5-5 5 5 0 0 1 5-5m0 2a3 3 0 0 0-3 3 3 3 0 0 0 3 3 3 3 0 0 0 3-3 3 3 0 0 0-3-3m0-7 2.39 3.42C13.65 5.15 12.84 5 12 5c-.84 0-1.65.15-2.39.42L12 2M3.34 7l4.16-.35A7.2 7.2 0 0 0 5.94 8.5c-.44.74-.69 1.5-.83 2.29L3.34 7m.02 10 1.76-3.77a7.131 7.131 0 0 0 2.38 4.14L3.36 17M20.65 7l-1.77 3.79a7.023 7.023 0 0 0-2.38-4.15l4.15.36m-.01 10-4.14.36c.59-.51 1.12-1.14 1.54-1.86.42-.73.69-1.5.83-2.29L20.64 17M12 22l-2.41-3.44c.74.27 1.55.44 2.41.44.82 0 1.63-.17 2.37-.44L12 22Z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var media,input,key,value,palette=__md_get("__palette");if(palette&&palette.color){"(prefers-color-scheme)"===palette.color.media&&(media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']"),palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent"));for([key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/root-hbx" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GithubRepo_Of_hbx
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../LECTURE/" class="md-tabs__link">
          
  
    
  
  基础运维知识

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../BLOG/" class="md-tabs__link">
          
  
    
  
  常用开发简介

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../../" class="md-tabs__link">
          
  
    
  
  计算机课程整理

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../sci/" class="md-tabs__link">
          
  
    
  
  优秀论文整理

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../Sci_doc/" class="md-tabs__link">
          
  
    
  
  科研软件指南

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../ME/" class="md-tabs__link">
          
  
    
  
  hbx是谁

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../../HuSay/20231123/" class="md-tabs__link">
          
  
    
  
  《胡说》

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="carrot_world" class="md-nav__button md-logo" aria-label="carrot_world" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54Z"/></svg>

    </a>
    carrot_world
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/root-hbx" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><!--! Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GithubRepo_Of_hbx
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../LECTURE/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    基础运维知识
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            基础运维知识
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_2" >
        
          
          <label class="md-nav__link" for="__nav_1_2" id="__nav_1_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_2">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Linux/linux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux讲座
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Linux/commands-concise/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    命令行入门精简版
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Markdown/markdown/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown讲座
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Markdown/vscode-extension/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    VSCode及插件安装
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Git
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Git
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git-demos/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git例子
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/git-teamwork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Git合作
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/Git/windows-install/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Windows安装Git
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_5" >
        
          
          <label class="md-nav__link" for="__nav_1_5" id="__nav_1_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    在macOS上用VSCode写C++代码
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_5">
            <span class="md-nav__icon md-icon"></span>
            在macOS上用VSCode写C++代码
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/0_about/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0 介绍
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/1_%E5%89%8D%E8%A8%80%E5%92%8C%E8%AF%BE%E7%A8%8B%E8%AF%B4%E6%98%8E/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 前言和课程说明
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/2_%E8%AE%A4%E8%AF%86macOS%E7%9A%84%E6%96%87%E4%BB%B6%E7%B3%BB%E7%BB%9F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 认识macOS的文件系统
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/3_%E8%AE%A4%E8%AF%86%E7%A8%8B%E5%BA%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 认识程序
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/4_%E8%AE%A4%E8%AF%86%E7%BB%88%E7%AB%AF%E5%92%8Cshell/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 认识终端和shell
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/5_%E5%BC%80%E5%90%AFVSCode%E7%9A%84%E5%A4%A7%E9%97%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 开启VSCode的大门
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/6_VSCode%E4%BB%A3%E7%A0%81%E8%BF%90%E8%A1%8C%E8%87%AA%E5%8A%A8%E5%8C%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 VSCode代码运行自动化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/7_%E7%94%A8VSCode%E8%B0%83%E8%AF%95Cpp%E4%BB%A3%E7%A0%81/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 用VSCode调试Cpp代码
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/8_%E8%AF%BE%E7%A8%8B%E5%9B%9E%E9%A1%BE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8 课程回顾
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/9_others/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    其他
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/10_%E6%9E%81%E9%80%9F%E7%89%88/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    极速版
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/vscode-cpp/11_%E8%A1%A5%E5%85%85/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    补充
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_6" >
        
          
          <label class="md-nav__link" for="__nav_1_6" id="__nav_1_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ns-3的配置
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_6">
            <span class="md-nav__icon md-icon"></span>
            ns-3的配置
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/ns-3/ns3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    保姆级配置教程
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_1_7" >
        
          
          <label class="md-nav__link" for="__nav_1_7" id="__nav_1_7_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    terminal_zsh
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_7">
            <span class="md-nav__icon md-icon"></span>
            terminal_zsh
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../LECTURE/terminal_zsh/oh_my_zsh/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    mac的终端优化
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../BLOG/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    常用开发简介
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            常用开发简介
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/others/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    其他博客链接
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_3" >
        
          
          <label class="md-nav__link" for="__nav_2_3" id="__nav_2_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Markdown
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_3">
            <span class="md-nav__icon md-icon"></span>
            Markdown
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Markdown/grammars/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Markdown 语法学习 精简版
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Markdown/mkdocs-site/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publish a Website with Material for MkDocs and GitHub Pages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Markdown/mdbook-site/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Publish a Website with mdBook and GitHub Pages
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Markdown/github-pages/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GitHub Pages
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_4" >
        
          
          <label class="md-nav__link" for="__nav_2_4" id="__nav_2_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Linux
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_4">
            <span class="md-nav__icon md-icon"></span>
            Linux
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Linux/vim/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Vim 学习笔记
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Linux/tmux/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    tmux 使用指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Linux/unix/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Unix and Linux
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Linux/kernel-compile/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Linux 内核编译尝试
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/Linux/pi-start/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    树莓派入门指南
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_2_5" >
        
          
          <label class="md-nav__link" for="__nav_2_5" id="__nav_2_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    OS
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_5">
            <span class="md-nav__icon md-icon"></span>
            OS
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/OS/fork-exec-spawn/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fork/exec/spawn 辨析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../BLOG/OS/fork-example/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    fork 例
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    计算机课程整理
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            计算机课程整理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" checked>
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    C++PrimerPlus
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            C++PrimerPlus
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter2%E5%BC%80%E5%A7%8B%E5%AD%A6%E4%B9%A0c%2B%2B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter2开始学习c++
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter3%E5%A4%84%E7%90%86%E6%95%B0%E6%8D%AE/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter3处理数据
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter4%E5%A4%8D%E5%90%88%E7%B1%BB%E5%9E%8B/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter4复合类型
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter5%E5%BE%AA%E7%8E%AF%E4%B8%8E%E5%85%B3%E7%B3%BB%E8%A1%A8%E8%BE%BE%E5%BC%8F/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter5循环与关系表达式
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter6%E5%88%86%E6%94%AF%E8%AF%AD%E5%8F%A5%E4%B8%8E%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter6分支语句与逻辑运算符
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter7%E5%87%BD%E6%95%B0-c%2B%2B%E7%9A%84%E7%BC%96%E7%A8%8B%E6%A8%A1%E5%9D%97/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter7函数 c++的编程模块
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8A%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter8函数探幽(上)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter8%E5%87%BD%E6%95%B0%E6%8E%A2%E5%B9%BD%28%E4%B8%8B%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter8函数探幽(下)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter9%E5%86%85%E5%AD%98%E6%A8%A1%E5%9E%8B%E5%92%8C%E5%90%8D%E7%A7%B0%E7%A9%BA%E9%97%B4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter9内存模型和名称空间
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter10%E5%AF%B9%E8%B1%A1%E5%92%8C%E7%B1%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter10对象和类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter11%E4%BD%BF%E7%94%A8%E7%B1%BB/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter11使用类
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter12%E7%B1%BB%E5%92%8C%E5%8A%A8%E6%80%81%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter12类和动态内存分配
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Chapter13类继承
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Chapter13类继承
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1）一个简单的基类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabtenn0cpp-simple-base-class-methods-include-tabtenn0h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname" class="md-nav__link">
    <span class="md-ellipsis">
      //tabtenn0.cpp -- simple base-class methods
#include &quot;tabtenn0.h&quot;
#include &lt;iostream&gt;
TableTennisPlayer::TableTennisPlayer (const string &amp; fn,
    const string &amp; ln, bool ht) : firstname(fn),
        lastname(ln), hasTable(ht) {}
void TableTennisPlayer::Name() const
{
    std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabtenn1cpp-simple-base-class-methods-include-tabtenn1h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname-ratedplayer-methods-ratedplayerratedplayerunsigned-int-r-const-string-fn-const-string-ln-bool-ht-tabletennisplayerfn-ln-ht-rating-r-ratedplayerratedplayerunsigned-int-r-const-tabletennisplayer-tp-tabletennisplayertp-ratingr" class="md-nav__link">
    <span class="md-ellipsis">
      //tabtenn1.cpp -- simple base-class methods
#include &quot;tabtenn1.h&quot;
#include &lt;iostream&gt;
TableTennisPlayer::TableTennisPlayer (const string &amp; fn,
    const string &amp; ln, bool ht) : firstname(fn),
        lastname(ln), hasTable(ht) {}

void TableTennisPlayer::Name() const
{
    std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;
}

// RatedPlayer methods
RatedPlayer::RatedPlayer(unsigned int r, const string &amp; fn,
     const string &amp; ln, bool ht) : TableTennisPlayer(fn, ln, ht)
{
    rating = r;
}

RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp)
    : TableTennisPlayer(tp), rating(r)
{
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usett1cpp-using-base-class-and-derived-class-include-iostream-include-tabtenn1h-int-main-void-using-stdcout-using-stdendl-tabletennisplayer-player1tara-boomdea-false-ratedplayer-rplayer11140-mallory-duck-true-rplayer1name-derived-object-uses-base-method-if-rplayer1hastable-cout-has-a-tablen-else-cout-hasnt-a-tablen-player1name-base-object-uses-base-method-if-player1hastable-cout-has-a-table-else-cout-hasnt-a-tablen-cout-name-rplayer1name-cout-rating-rplayer1rating-endl-initialize-ratedplayer-using-tabletennisplayer-object-ratedplayer-rplayer21212-player1-cout-name-rplayer2name-cout-rating-rplayer2rating-endl-stdcinget-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      // usett1.cpp -- using base class and derived class
#include &lt;iostream&gt;
#include &quot;tabtenn1.h&quot;
int main ( void )
{
    using std::cout;
    using std::endl;

    TableTennisPlayer player1(&quot;Tara&quot;, &quot;Boomdea&quot;, false);
    RatedPlayer rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true);
   
    rplayer1.Name();          // derived object uses base method
    if (rplayer1.HasTable())
        cout &lt;&lt; &quot;: has a table.\n&quot;;
    else
        cout &lt;&lt; &quot;: hasn&#39;t a table.\n&quot;;
    
    player1.Name();           // base object uses base method
    if (player1.HasTable())
        cout &lt;&lt; &quot;: has a table&quot;;
    else
        cout &lt;&lt; &quot;: hasn&#39;t a table.\n&quot;;
    cout &lt;&lt; &quot;Name: &quot;;

    rplayer1.Name();
    cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer1.Rating() &lt;&lt; endl;
    
// initialize RatedPlayer using TableTennisPlayer object
    RatedPlayer rplayer2(1212, player1);
    cout &lt;&lt; &quot;Name: &quot;;
    rplayer2.Name();
    cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer2.Rating() &lt;&lt; endl;
    // std::cin.get();
    return 0;
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="// usett1.cpp -- using base class and derived class #include <iostream> #include "tabtenn1.h" int main ( void ) { using std::cout; using std::endl; TableTennisPlayer player1("Tara", "Boomdea", false); RatedPlayer rplayer1(1140, "Mallory", "Duck", true); rplayer1.Name(); // derived object uses base method if (rplayer1.HasTable()) cout << ": has a table.\n"; else cout << ": hasn't a table.\n"; player1.Name(); // base object uses base method if (player1.HasTable()) cout << ": has a table"; else cout << ": hasn't a table.\n"; cout << "Name: "; rplayer1.Name(); cout << "; Rating: " << rplayer1.Rating() << endl; // initialize RatedPlayer using TableTennisPlayer object RatedPlayer rplayer2(1212, player1); cout << "Name: "; rplayer2.Name(); cout << "; Rating: " << rplayer2.Rating() << endl; // std::cin.get(); return 0; }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2）多态公有继承
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usebrass1cpp-testing-bank-account-classes-compile-with-brasscpp-include-iostream-include-brassh-int-main-using-stdcout-using-stdendl-brass-piggyporcelot-pigg-381299-400000-brassplus-hoggyhoratio-hogg-382288-300000-piggyviewacct-cout-endl-hoggyviewacct-cout-endl-cout-depositing-1000-into-the-hogg-accountn-hoggydeposit100000-cout-new-balance-hoggybalance-endl-cout-withdrawing-4200-from-the-pigg-accountn-piggywithdraw420000-cout-pigg-account-balance-piggybalance-endl-cout-withdrawing-4200-from-the-hogg-accountn-hoggywithdraw420000-hoggyviewacct-stdcinget-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      常规使用：
// usebrass1.cpp -- testing bank account classes
// compile with brass.cpp
#include &lt;iostream&gt;
#include &quot;brass.h&quot;

int main()
{
    using std::cout;
    using std::endl;

    Brass Piggy(&quot;Porcelot Pigg&quot;, 381299, 4000.00);
    BrassPlus Hoggy(&quot;Horatio Hogg&quot;, 382288, 3000.00);

    Piggy.ViewAcct();
    cout &lt;&lt; endl;
    Hoggy.ViewAcct();
    cout &lt;&lt; endl;
    cout &lt;&lt; &quot;Depositing $1000 into the Hogg Account:\n&quot;;
    Hoggy.Deposit(1000.00);
    cout &lt;&lt; &quot;New balance: $&quot; &lt;&lt; Hoggy.Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Withdrawing $4200 from the Pigg Account:\n&quot;;
    Piggy.Withdraw(4200.00);
    cout &lt;&lt; &quot;Pigg account balance: $&quot; &lt;&lt; Piggy.Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Withdrawing $4200 from the Hogg Account:\n&quot;;
    Hoggy.Withdraw(4200.00);
    Hoggy.ViewAcct();
    // std::cin.get();
    return 0;
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usebrass2cpp-polymorphic-example-compile-with-brasscpp-include-iostream-include-string-include-brassh-const-int-clients-4-int-main-using-stdcin-using-stdcout-using-stdendl-brass-p_clientsclients-stdstring-temp-long-tempnum-double-tempbal-char-kind-for-int-i-0-i-clients-i-cout-enter-clients-name-getlinecintemp-cout-enter-clients-account-number-cin-tempnum-cout-enter-opening-balance-cin-tempbal-cout-enter-1-for-brass-account-or-2-for-brassplus-account-while-cin-kind-kind-1-kind-2-cout-enter-either-1-or-2-if-kind-1-p_clientsi-new-brasstemp-tempnum-tempbal-else-double-tmax-trate-cout-enter-the-overdraft-limit-cin-tmax-cout-enter-the-interest-rate-as-a-decimal-fraction-cin-trate-p_clientsi-new-brassplustemp-tempnum-tempbal-tmax-trate-while-cinget-n-continue-cout-endl-for-int-i-0-i-clients-i-p_clientsi-viewacct-cout-endl-for-int-i-0-i-clients-i-delete-p_clientsi-free-memory-cout-donen-code-to-keep-window-open-if-cin-cinclear-while-cinget-n-continue-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      演示虚方法：
// usebrass2.cpp -- polymorphic example
// compile with brass.cpp
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &quot;brass.h&quot;
const int CLIENTS = 4;
int main()
{
   using std::cin;
   using std::cout;
   using std::endl;

   Brass * p_clients[CLIENTS];
   std::string temp;
   long tempnum;
   double tempbal;
   char kind;

   for (int i = 0; i &lt; CLIENTS; i++)
   {
       cout &lt;&lt; &quot;Enter client&#39;s name: &quot;;
       getline(cin,temp);

       cout &lt;&lt; &quot;Enter client&#39;s account number: &quot;;
       cin &gt;&gt; tempnum;

       cout &lt;&lt; &quot;Enter opening balance: $&quot;;
       cin &gt;&gt; tempbal;

       cout &lt;&lt; &quot;Enter 1 for Brass Account or &quot;
            &lt;&lt; &quot;2 for BrassPlus Account: &quot;;

       while (cin &gt;&gt; kind &amp;&amp; (kind != &#39;1&#39; &amp;&amp; kind != &#39;2&#39;))
           cout &lt;&lt;&quot;Enter either 1 or 2: &quot;;
       if (kind == &#39;1&#39;)
           p_clients[i] = new Brass(temp, tempnum, tempbal);
       else
       {
           double tmax, trate;
           cout &lt;&lt; &quot;Enter the overdraft limit: $&quot;;

           cin &gt;&gt; tmax;
           cout &lt;&lt; &quot;Enter the interest rate &quot;
                &lt;&lt; &quot;as a decimal fraction: &quot;;
           cin &gt;&gt; trate;

           p_clients[i] = new BrassPlus(temp, tempnum, tempbal,
                                        tmax, trate);
        }

        while (cin.get() != &#39;\n&#39;)
            continue;
   }
   cout &lt;&lt; endl;
   
   for (int i = 0; i &lt; CLIENTS; i++)
   {
       p_clients[i]-&gt;ViewAcct();
       cout &lt;&lt; endl;
   }
   
   for (int i = 0; i &lt; CLIENTS; i++)
   {
       delete p_clients[i];  // free memory
   }
   cout &lt;&lt; &quot;Done.\n&quot;;        
 /* code to keep window open
   if (!cin)
      cin.clear();
   while (cin.get() != &#39;\n&#39;)
      continue;
*/
   return 0;
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="演示虚方法： // usebrass2.cpp -- polymorphic example // compile with brass.cpp #include <iostream> #include <string> #include "brass.h" const int CLIENTS = 4; int main() { using std::cin; using std::cout; using std::endl; Brass * p_clients[CLIENTS]; std::string temp; long tempnum; double tempbal; char kind; for (int i = 0; i < CLIENTS; i++) { cout << "Enter client's name: "; getline(cin,temp); cout << "Enter client's account number: "; cin >> tempnum; cout << "Enter opening balance: $"; cin >> tempbal; cout << "Enter 1 for Brass Account or " << "2 for BrassPlus Account: "; while (cin >> kind && (kind != '1' && kind != '2')) cout <<"Enter either 1 or 2: "; if (kind == '1') p_clients[i] = new Brass(temp, tempnum, tempbal); else { double tmax, trate; cout << "Enter the overdraft limit: $"; cin >> tmax; cout << "Enter the interest rate " << "as a decimal fraction: "; cin >> trate; p_clients[i] = new BrassPlus(temp, tempnum, tempbal, tmax, trate); } while (cin.get() != '\n') continue; } cout << endl; for (int i = 0; i < CLIENTS; i++) { p_clients[i]->ViewAcct(); cout << endl; } for (int i = 0; i < CLIENTS; i++) { delete p_clients[i]; // free memory } cout << "Done.\n"; /* code to keep window open if (!cin) cin.clear(); while (cin.get() != '\n') continue; */ return 0; }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3）静态联编和动态联编
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3）静态联编和动态联编">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      （1）引入：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      （2）指针和引用类型的兼容性：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      （3）虚函数工作原理：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      （4）虚函数的注意事项：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4protected" class="md-nav__link">
    <span class="md-ellipsis">
      4）访问控制：protected
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5abstract-base-classabc" class="md-nav__link">
    <span class="md-ellipsis">
      5）抽象基类（abstract base class，ABC）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5）抽象基类（abstract base class，ABC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      （1）引入：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      （2）示例应用：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acctabch-bank-account-classes-ifndef-acctabc_h_-define-acctabc_h_-include-iostream-include-string-abstract-base-class-class-acctabc-private-stdstring-fullname-long-acctnum-double-balance-protected-struct-formatting-stdios_basefmtflags-flag-stdstreamsize-pr-const-stdstring-fullname-const-return-fullname-long-acctnum-const-return-acctnum-formatting-setformat-const-void-restoreformatting-f-const-public-acctabcconst-stdstring-s-nullbody-long-an-1-double-bal-00-void-depositdouble-amt-virtual-void-withdrawdouble-amt-0-pure-virtual-function-double-balance-const-return-balance-virtual-void-viewacct-const-0-pure-virtual-function-virtual-acctabc-brass-account-class-class-brass-public-acctabc-public-brassconst-stdstring-s-nullbody-long-an-1-double-bal-00-acctabcs-an-bal-abc-virtual-void-withdrawdouble-amt-abc-virtual-void-viewacct-const-abc-virtual-brass-brass-plus-account-class-class-brassplus-public-acctabc-private-double-maxloan-double-rate-double-owesbank-3-public-brassplusconst-stdstring-s-nullbody-long-an-1-double-bal-00-double-ml-500-double-r-010-abc-brassplusconst-brass-ba-double-ml-500-double-r-01-virtual-void-viewacctconst-abc-virtual-void-withdrawdouble-amt-abc-void-resetmaxdouble-m-maxloan-m-void-resetratedouble-r-rate-r-void-resetowes-owesbank-0-3-endif" class="md-nav__link">
    <span class="md-ellipsis">
      // acctabc.h  -- bank account classes
#ifndef ACCTABC_H_
#define ACCTABC_H_
#include &lt;iostream&gt;
#include &lt;string&gt;

// Abstract Base Class
class AcctABC
{
private:
    std::string fullName;
    long acctNum;
    double balance;

protected:
    struct Formatting
    {
         std::ios_base::fmtflags flag;
         std::streamsize pr;
    };
    const std::string &amp; FullName() const {return fullName;}
    long AcctNum() const {return acctNum;}
    Formatting SetFormat() const;
    void Restore(Formatting &amp; f) const;

public:
    AcctABC(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
                double bal = 0.0);
    void Deposit(double amt) ;
    virtual void Withdraw(double amt) = 0; -------------------------------------- pure virtual function
    double Balance() const {return balance;};
    virtual void ViewAcct() const = 0;     -------------------------------------- pure virtual function
    virtual ~AcctABC() {}                  -------------------------------------- 别忘了虚析构函数
};

// Brass Account Class
class Brass :public AcctABC
{
public:
    Brass(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
           double bal = 0.0) : AcctABC(s, an, bal) { }     ------------------------普通的就直接继承ABC
    virtual void Withdraw(double amt);                     ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual void ViewAcct() const;                         ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual ~Brass() {}
};

//Brass Plus Account Class
class BrassPlus : public AcctABC
{
private:
    double maxLoan;
    double rate;
    double owesBank;                      ---------------------------------------- 新增 3 个数据成员

public:
    BrassPlus(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
            double bal = 0.0, double ml = 500,
            double r = 0.10);                              ------------------------普通的就直接继承ABC
    BrassPlus(const Brass &amp; ba, double ml = 500, double r = 0.1);
    virtual void ViewAcct()const;                          ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual void Withdraw(double amt);                     ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    void ResetMax(double m) { maxLoan = m; }
    void ResetRate(double r) { rate = r; };
    void ResetOwes() { owesBank = 0; }                     ------------------------新增 3 个派生类成员函数
};
#endif

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acctabccpp-bank-account-class-methods-include-iostream-include-acctabch-using-stdcout-using-stdios_base-using-stdendl-using-stdstring-abstract-base-class-acctabcacctabcconst-string-s-long-an-double-bal-abc-fullname-s-acctnum-an-balance-bal-void-acctabcdepositdouble-amt-abc-if-amt-0-cout-negative-deposit-not-allowed-deposit-is-cancelledn-else-balance-amt-void-acctabcwithdrawdouble-amt-balance-amt-protected-methods-for-formatting-acctabcformatting-acctabcsetformat-const-set-up-format-formatting-f-fflag-coutsetfios_basefixed-ios_basefloatfield-fpr-coutprecision2-return-f-void-acctabcrestoreformatting-f-const-coutsetffflag-ios_basefloatfield-coutprecisionfpr-brass-methods-void-brasswithdrawdouble-amt-1-if-amt-0-cout-withdrawal-amount-must-be-positive-withdrawal-canceledn-else-if-amt-balance-abcbalance-acctabcwithdrawamt-abcwithdraw-else-cout-withdrawal-amount-of-amt-exceeds-your-balancen-withdrawal-canceledn-void-brassviewacct-const-1-formatting-f-setformat-cout-brass-client-fullname-endl-abcfullname-cout-account-number-acctnum-endl-abcacctnum-cout-balance-balance-endl-abcbalance-restoref-brassplus-methods-brassplusbrassplusconst-string-s-long-an-double-bal-double-ml-double-r-acctabcs-an-bal-maxloan-ml-owesbank-00-rate-r-brassplusbrassplusconst-brass-ba-double-ml-double-r-acctabcba-uses-implicit-copy-constructor-maxloan-ml-owesbank-00-rate-r-void-brassplusviewacct-const-formatting-f-setformat-cout-brassplus-client-fullname-endl-cout-account-number-acctnum-endl-cout-balance-balance-endl-cout-maximum-loan-maxloan-endl-cout-owed-to-bank-owesbank-endl-coutprecision3-cout-loan-rate-100-rate-n-restoref-void-brasspluswithdrawdouble-amt-formatting-f-setformat-double-bal-balance-if-amt-bal-acctabcwithdrawamt-else-if-amt-bal-maxloan-owesbank-double-advance-amt-bal-owesbank-advance-10-rate-cout-bank-advance-advance-endl-cout-finance-charge-advance-rate-endl-depositadvance-acctabcwithdrawamt-else-cout-credit-limit-exceeded-transaction-cancelledn-restoref" class="md-nav__link">
    <span class="md-ellipsis">
      // acctabc.cpp -- bank account class methods
#include &lt;iostream&gt;
#include &quot;acctabc.h&quot;
using std::cout;
using std::ios_base;
using std::endl;
using std::string;

// Abstract Base Class
AcctABC::AcctABC(const string &amp; s, long an, double bal)--------------------------ABC抽象基类的初始化函数
{
    fullName = s;
    acctNum = an;
    balance = bal;
}

void AcctABC::Deposit(double amt)------------------------------------------------ABC抽象基类的某成员函数
{
    if (amt &lt; 0)
        cout &lt;&lt; &quot;Negative deposit not allowed; &quot;
             &lt;&lt; &quot;deposit is cancelled.\n&quot;;
    else
        balance += amt;
}

void AcctABC::Withdraw(double amt)
{
    balance -= amt;
}

// protected methods for formatting
AcctABC::Formatting AcctABC::SetFormat() const
{
 // set up ###.## format
    Formatting f;
    f.flag =
        cout.setf(ios_base::fixed, ios_base::floatfield);
    f.pr = cout.precision(2);
    return f;
}

void AcctABC::Restore(Formatting &amp; f) const
{
    cout.setf(f.flag, ios_base::floatfield);
    cout.precision(f.pr);
}

// Brass methods
void Brass::Withdraw(double amt)---------------------------------------------派生类1的某成员函数（虚函数）
{
    if (amt &lt; 0)
        cout &lt;&lt; &quot;Withdrawal amount must be positive; &quot;
             &lt;&lt; &quot;withdrawal canceled.\n&quot;;
    else if (amt &lt;= Balance())-----------------------------------------------继承的是ABC基类，因此可以直接调用基类方法Balance()
        AcctABC::Withdraw(amt);----------------------------------------------继承的是ABC基类，因此可以调用基类方法Withdraw()
    else
        cout &lt;&lt; &quot;Withdrawal amount of $&quot; &lt;&lt; amt
             &lt;&lt; &quot; exceeds your balance.\n&quot;
             &lt;&lt; &quot;Withdrawal canceled.\n&quot;;
}

void Brass::ViewAcct() const    ---------------------------------------------派生类1的某成员函数（虚函数）
{
    Formatting f = SetFormat();
    cout &lt;&lt; &quot;Brass Client: &quot; &lt;&lt; FullName() &lt;&lt; endl;     ---------------------继承的是ABC基类，因此可以直接调用基类方法FullName()
    cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl;    ---------------------继承的是ABC基类，因此可以直接调用基类方法AcctNum()
    cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl;          ---------------------继承的是ABC基类，因此可以直接调用基类方法Balance()
    Restore(f);
}

// BrassPlus Methods
BrassPlus::BrassPlus(const string &amp; s, long an, double bal,
           double ml, double r) : AcctABC(s, an, bal)
{
    maxLoan = ml;
    owesBank = 0.0;
    rate = r;
}

BrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r)
           : AcctABC(ba)   // uses implicit copy constructor
{
    maxLoan = ml;
    owesBank = 0.0;
    rate = r;
}

void BrassPlus::ViewAcct() const
{
    Formatting f = SetFormat();

    cout &lt;&lt; &quot;BrassPlus Client: &quot; &lt;&lt; FullName() &lt;&lt; endl;
    cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl;
    cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Maximum loan: $&quot; &lt;&lt; maxLoan &lt;&lt; endl;
    cout &lt;&lt; &quot;Owed to bank: $&quot; &lt;&lt; owesBank &lt;&lt; endl;
    cout.precision(3);
    cout &lt;&lt; &quot;Loan Rate: &quot; &lt;&lt; 100 * rate &lt;&lt; &quot;%\n&quot;;
    Restore(f);
}

void BrassPlus::Withdraw(double amt)
{
    Formatting f = SetFormat();

    double bal = Balance();
    if (amt &lt;= bal)
        AcctABC::Withdraw(amt);
    else if ( amt &lt;= bal + maxLoan - owesBank)
    {
        double advance = amt - bal;
        owesBank += advance * (1.0 + rate);
        cout &lt;&lt; &quot;Bank advance: $&quot; &lt;&lt; advance &lt;&lt; endl;
        cout &lt;&lt; &quot;Finance charge: $&quot; &lt;&lt; advance * rate &lt;&lt; endl;
        Deposit(advance);
        AcctABC::Withdraw(amt);
    }
    else
        cout &lt;&lt; &quot;Credit limit exceeded. Transaction cancelled.\n&quot;;
    Restore(f); 
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="// acctabc.cpp -- bank account class methods #include <iostream> #include "acctabc.h" using std::cout; using std::ios_base; using std::endl; using std::string; // Abstract Base Class AcctABC::AcctABC(const string & s, long an, double bal)--------------------------ABC抽象基类的初始化函数 { fullName = s; acctNum = an; balance = bal; } void AcctABC::Deposit(double amt)------------------------------------------------ABC抽象基类的某成员函数 { if (amt < 0) cout << "Negative deposit not allowed; " << "deposit is cancelled.\n"; else balance += amt; } void AcctABC::Withdraw(double amt) { balance -= amt; } // protected methods for formatting AcctABC::Formatting AcctABC::SetFormat() const { // set up ###.## format Formatting f; f.flag = cout.setf(ios_base::fixed, ios_base::floatfield); f.pr = cout.precision(2); return f; } void AcctABC::Restore(Formatting & f) const { cout.setf(f.flag, ios_base::floatfield); cout.precision(f.pr); } // Brass methods void Brass::Withdraw(double amt)---------------------------------------------派生类1的某成员函数（虚函数） { if (amt < 0) cout << "Withdrawal amount must be positive; " << "withdrawal canceled.\n"; else if (amt <= Balance())-----------------------------------------------继承的是ABC基类，因此可以直接调用基类方法Balance() AcctABC::Withdraw(amt);----------------------------------------------继承的是ABC基类，因此可以调用基类方法Withdraw() else cout << "Withdrawal amount of $" << amt << " exceeds your balance.\n" << "Withdrawal canceled.\n"; } void Brass::ViewAcct() const ---------------------------------------------派生类1的某成员函数（虚函数） { Formatting f = SetFormat(); cout << "Brass Client: " << FullName() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法FullName() cout << "Account Number: " << AcctNum() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法AcctNum() cout << "Balance: $" << Balance() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法Balance() Restore(f); } // BrassPlus Methods BrassPlus::BrassPlus(const string & s, long an, double bal, double ml, double r) : AcctABC(s, an, bal) { maxLoan = ml; owesBank = 0.0; rate = r; } BrassPlus::BrassPlus(const Brass & ba, double ml, double r) : AcctABC(ba) // uses implicit copy constructor { maxLoan = ml; owesBank = 0.0; rate = r; } void BrassPlus::ViewAcct() const { Formatting f = SetFormat(); cout << "BrassPlus Client: " << FullName() << endl; cout << "Account Number: " << AcctNum() << endl; cout << "Balance: $" << Balance() << endl; cout << "Maximum loan: $" << maxLoan << endl; cout << "Owed to bank: $" << owesBank << endl; cout.precision(3); cout << "Loan Rate: " << 100 * rate << "%\n"; Restore(f); } void BrassPlus::Withdraw(double amt) { Formatting f = SetFormat(); double bal = Balance(); if (amt <= bal) AcctABC::Withdraw(amt); else if ( amt <= bal + maxLoan - owesBank) { double advance = amt - bal; owesBank += advance * (1.0 + rate); cout << "Bank advance: $" << advance << endl; cout << "Finance charge: $" << advance * rate << endl; Deposit(advance); AcctABC::Withdraw(amt); } else cout << "Credit limit exceeded. Transaction cancelled.\n"; Restore(f); }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6）继承与动态内存分配
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6）继承与动态内存分配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1new" class="md-nav__link">
    <span class="md-ellipsis">
      （1）派生类不使用new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2new" class="md-nav__link">
    <span class="md-ellipsis">
      （2）派生类使用new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7）类设计回顾
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter14c%2B%2B%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%87%8D%E7%94%A8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter14c++中的代码重用
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter15%E5%8F%8B%E5%85%83%E3%80%81%E5%BC%82%E5%B8%B8%E5%92%8C%E5%85%B6%E4%BB%96/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter15友元、异常和其他
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter16string%E7%B1%BB%E5%92%8C%E6%A0%87%E5%87%86%E6%A8%A1%E6%9D%BF%E5%BA%93/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter16string类和标准模板库
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter17%E8%BE%93%E5%85%A5%E3%80%81%E8%BE%93%E5%87%BA%E5%92%8C%E6%96%87%E4%BB%B6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter17输入、输出和文件
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../chapter18%E6%8E%A2%E8%AE%A8c%2B%2B%E6%96%B0%E6%A0%87%E5%87%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter18探讨c++新标准
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_3" >
        
          
          <label class="md-nav__link" for="__nav_3_3" id="__nav_3_3_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    CSAPP_(CMU)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_3">
            <span class="md-nav__icon md-icon"></span>
            CSAPP_(CMU)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/%E5%B8%B8%E8%A7%81%E6%B1%87%E7%BC%96%E6%8C%87%E4%BB%A4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常见汇编指令
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/chapter2_%E4%BF%A1%E6%81%AF%E7%9A%84%E8%A1%A8%E7%A4%BA%E5%92%8C%E5%A4%84%E7%90%86/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter2 信息的表示和处理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/chapter3_%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%9C%BA%E5%99%A8%E7%BA%A7%E8%A1%A8%E7%A4%BA/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter3 程序的机器级表示
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/chapter5_%E4%BC%98%E5%8C%96%E7%A8%8B%E5%BA%8F%E6%80%A7%E8%83%BD/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter5 优化程序性能
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/chapter6_%E5%AD%98%E5%82%A8%E5%99%A8%E7%9A%84%E5%B1%82%E6%AC%A1%E7%BB%93%E6%9E%84/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter6 存储器的层次结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../CSAPP_CMU/chapter7_%E9%93%BE%E6%8E%A5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter7 链接
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_4" >
        
          
          <label class="md-nav__link" for="__nav_3_4" id="__nav_3_4_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    TD_net
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_4">
            <span class="md-nav__icon md-icon"></span>
            TD_net
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter1 计算机网络概述
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter2 应用层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter3 传输层
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter4 网络层：数据平面
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter5 网络层：控制平面
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../TD_net/ch6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Chapter6 链路层
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_5" >
        
          
          <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Info-theory
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_5">
            <span class="md-nav__icon md-icon"></span>
            Info-theory
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture3 - AEP
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture4 - Entropy Rate
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture5 - Data Compression Part1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec6/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture6 - Data Compression Part2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec7/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture7 - Data Compression Part3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture8 - Channel Capacity Part1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec9/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture9 - Channel Capacity Part2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec10/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture10 - Channel Capacity Part3
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec11/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture11 - Differential Entropy Part1
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec12/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture12 - Differential Entropy Part2
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec13/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture13 - Gaussian Channel
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Info-theory/lec14/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Lecture14 - 笔者对于部分基础概念的整理复习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    Algorithm_design
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Algorithm_design
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Algorithm_XJTU/qimo_review/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    期末备考指南
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Algorithm_XJTU/qimo_big/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    常考算法模板
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../Algorithm_XJTU/qimo_exe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    考前小练习
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../sci/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    优秀论文整理
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            优秀论文整理
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    计算机网络
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            计算机网络
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_1" >
        
          
          <label class="md-nav__link" for="__nav_4_2_1" id="__nav_4_2_1_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    RDMA_over_Commodity_Ethernet_at_Scale
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_1">
            <span class="md-nav__icon md-icon"></span>
            RDMA_over_Commodity_Ethernet_at_Scale
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Abstruct%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDMA over Commodity Ethernet at Scale(Abstruct)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Background%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDMA over Commodity Ethernet at Scale(Background)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Introduction%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDMA over Commodity Ethernet at Scale(Introduction)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/RDMA_over_Commodity_Ethernet_at_Scale%28Conclusion%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDMA over Commodity Ethernet at Scale(Conclusion)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/3_DSCP-BASED%20PFC/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 DSCP BASED PFC
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.1_RDMA_transport_livelock%28%E4%BC%A0%E8%BE%93%E6%B4%BB%E9%94%81%29/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.1 RDMA transport livelock(传输活锁)
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.2_PFC%20Deadlock/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.2 PFC Deadlock
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.3_NIC_PFC_pause_frame_storm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.3 NIC PFC pause frame storm
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/4.4_The_Slow-receiver_symptom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4.4 The Slow receiver symptom
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/5_RDMA_In_Production/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 RDMA In Production
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/6_EXPERIENCES/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    6 EXPERIENCES
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/7_RELATED%20WORK/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    7 RELATED WORK
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/8_CONCLUSION/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8 CONCLUSION
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/%E2%80%9C%E8%AF%BB%E5%90%8E%E6%84%9F%E2%80%9D/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    “读后感”
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/RDMA_over_Commodity_Ethernet_at_Scale/issue_thinking/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Issue thinking
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_4_2_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2_2" id="__nav_4_2_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ICDCS23_Less_is_More_Dynamic_and_Shared_Headroom_Allocation_in_PFC-enabled_Datacenter_Networks
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2_2">
            <span class="md-nav__icon md-icon"></span>
            ICDCS23_Less_is_More_Dynamic_and_Shared_Headroom_Allocation_in_PFC-enabled_Datacenter_Networks
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Abstruct/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Abstruct
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Background/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Background
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Motivation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Motivation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_DSH_Design/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DSH_Design
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Evaluation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Evaluation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_RelatedWork/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Related Work
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/LessIsMore_Conclusion/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Conclusion
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../sci/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/LessIsMore/%E6%95%B4%E7%90%86%E4%B8%8E%E6%80%9D%E8%80%83/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    整理与思考
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../Sci_doc/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    科研软件指南
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            科研软件指南
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_5_2" >
        
          
          <label class="md-nav__link" for="__nav_5_2" id="__nav_5_2_label" tabindex="0">
            
  
  <span class="md-ellipsis">
    ns-3
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_5_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5_2">
            <span class="md-nav__icon md-icon"></span>
            ns-3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    0 ns-3及其基础配置
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch1/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    1 入门程序解析
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    2 显示结果的优化
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch3/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    3 模拟建立拓扑结构
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch4/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    4 ns-3_tracing的全部实现机理
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../Sci_doc/ns-3/ch5/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    5 ns-3_Data-Collection
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../../../ME/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    hbx是谁
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            hbx是谁
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/description/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人特点
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/ability/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人能力
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/experience/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    个人经历
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../ME/php/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    有意义的照片
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
    
      
      
    
    <li class="md-nav__item md-nav__item--section md-nav__item--nested">
      
        
        
        
          
        
        <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="">
            
  
  <span class="md-ellipsis">
    《胡说》
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            《胡说》
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../HuSay/20231123/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ”慢思考“之我见
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1" class="md-nav__link">
    <span class="md-ellipsis">
      1）一个简单的基类
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabtenn0cpp-simple-base-class-methods-include-tabtenn0h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname" class="md-nav__link">
    <span class="md-ellipsis">
      //tabtenn0.cpp -- simple base-class methods
#include &quot;tabtenn0.h&quot;
#include &lt;iostream&gt;
TableTennisPlayer::TableTennisPlayer (const string &amp; fn,
    const string &amp; ln, bool ht) : firstname(fn),
        lastname(ln), hasTable(ht) {}
void TableTennisPlayer::Name() const
{
    std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#tabtenn1cpp-simple-base-class-methods-include-tabtenn1h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname-ratedplayer-methods-ratedplayerratedplayerunsigned-int-r-const-string-fn-const-string-ln-bool-ht-tabletennisplayerfn-ln-ht-rating-r-ratedplayerratedplayerunsigned-int-r-const-tabletennisplayer-tp-tabletennisplayertp-ratingr" class="md-nav__link">
    <span class="md-ellipsis">
      //tabtenn1.cpp -- simple base-class methods
#include &quot;tabtenn1.h&quot;
#include &lt;iostream&gt;
TableTennisPlayer::TableTennisPlayer (const string &amp; fn,
    const string &amp; ln, bool ht) : firstname(fn),
        lastname(ln), hasTable(ht) {}

void TableTennisPlayer::Name() const
{
    std::cout &lt;&lt; lastname &lt;&lt; &quot;, &quot; &lt;&lt; firstname;
}

// RatedPlayer methods
RatedPlayer::RatedPlayer(unsigned int r, const string &amp; fn,
     const string &amp; ln, bool ht) : TableTennisPlayer(fn, ln, ht)
{
    rating = r;
}

RatedPlayer::RatedPlayer(unsigned int r, const TableTennisPlayer &amp; tp)
    : TableTennisPlayer(tp), rating(r)
{
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usett1cpp-using-base-class-and-derived-class-include-iostream-include-tabtenn1h-int-main-void-using-stdcout-using-stdendl-tabletennisplayer-player1tara-boomdea-false-ratedplayer-rplayer11140-mallory-duck-true-rplayer1name-derived-object-uses-base-method-if-rplayer1hastable-cout-has-a-tablen-else-cout-hasnt-a-tablen-player1name-base-object-uses-base-method-if-player1hastable-cout-has-a-table-else-cout-hasnt-a-tablen-cout-name-rplayer1name-cout-rating-rplayer1rating-endl-initialize-ratedplayer-using-tabletennisplayer-object-ratedplayer-rplayer21212-player1-cout-name-rplayer2name-cout-rating-rplayer2rating-endl-stdcinget-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      // usett1.cpp -- using base class and derived class
#include &lt;iostream&gt;
#include &quot;tabtenn1.h&quot;
int main ( void )
{
    using std::cout;
    using std::endl;

    TableTennisPlayer player1(&quot;Tara&quot;, &quot;Boomdea&quot;, false);
    RatedPlayer rplayer1(1140, &quot;Mallory&quot;, &quot;Duck&quot;, true);
   
    rplayer1.Name();          // derived object uses base method
    if (rplayer1.HasTable())
        cout &lt;&lt; &quot;: has a table.\n&quot;;
    else
        cout &lt;&lt; &quot;: hasn&#39;t a table.\n&quot;;
    
    player1.Name();           // base object uses base method
    if (player1.HasTable())
        cout &lt;&lt; &quot;: has a table&quot;;
    else
        cout &lt;&lt; &quot;: hasn&#39;t a table.\n&quot;;
    cout &lt;&lt; &quot;Name: &quot;;

    rplayer1.Name();
    cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer1.Rating() &lt;&lt; endl;
    
// initialize RatedPlayer using TableTennisPlayer object
    RatedPlayer rplayer2(1212, player1);
    cout &lt;&lt; &quot;Name: &quot;;
    rplayer2.Name();
    cout &lt;&lt; &quot;; Rating: &quot; &lt;&lt; rplayer2.Rating() &lt;&lt; endl;
    // std::cin.get();
    return 0;
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="// usett1.cpp -- using base class and derived class #include <iostream> #include "tabtenn1.h" int main ( void ) { using std::cout; using std::endl; TableTennisPlayer player1("Tara", "Boomdea", false); RatedPlayer rplayer1(1140, "Mallory", "Duck", true); rplayer1.Name(); // derived object uses base method if (rplayer1.HasTable()) cout << ": has a table.\n"; else cout << ": hasn't a table.\n"; player1.Name(); // base object uses base method if (player1.HasTable()) cout << ": has a table"; else cout << ": hasn't a table.\n"; cout << "Name: "; rplayer1.Name(); cout << "; Rating: " << rplayer1.Rating() << endl; // initialize RatedPlayer using TableTennisPlayer object RatedPlayer rplayer2(1212, player1); cout << "Name: "; rplayer2.Name(); cout << "; Rating: " << rplayer2.Rating() << endl; // std::cin.get(); return 0; }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#2" class="md-nav__link">
    <span class="md-ellipsis">
      2）多态公有继承
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usebrass1cpp-testing-bank-account-classes-compile-with-brasscpp-include-iostream-include-brassh-int-main-using-stdcout-using-stdendl-brass-piggyporcelot-pigg-381299-400000-brassplus-hoggyhoratio-hogg-382288-300000-piggyviewacct-cout-endl-hoggyviewacct-cout-endl-cout-depositing-1000-into-the-hogg-accountn-hoggydeposit100000-cout-new-balance-hoggybalance-endl-cout-withdrawing-4200-from-the-pigg-accountn-piggywithdraw420000-cout-pigg-account-balance-piggybalance-endl-cout-withdrawing-4200-from-the-hogg-accountn-hoggywithdraw420000-hoggyviewacct-stdcinget-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      常规使用：
// usebrass1.cpp -- testing bank account classes
// compile with brass.cpp
#include &lt;iostream&gt;
#include &quot;brass.h&quot;

int main()
{
    using std::cout;
    using std::endl;

    Brass Piggy(&quot;Porcelot Pigg&quot;, 381299, 4000.00);
    BrassPlus Hoggy(&quot;Horatio Hogg&quot;, 382288, 3000.00);

    Piggy.ViewAcct();
    cout &lt;&lt; endl;
    Hoggy.ViewAcct();
    cout &lt;&lt; endl;
    cout &lt;&lt; &quot;Depositing $1000 into the Hogg Account:\n&quot;;
    Hoggy.Deposit(1000.00);
    cout &lt;&lt; &quot;New balance: $&quot; &lt;&lt; Hoggy.Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Withdrawing $4200 from the Pigg Account:\n&quot;;
    Piggy.Withdraw(4200.00);
    cout &lt;&lt; &quot;Pigg account balance: $&quot; &lt;&lt; Piggy.Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Withdrawing $4200 from the Hogg Account:\n&quot;;
    Hoggy.Withdraw(4200.00);
    Hoggy.ViewAcct();
    // std::cin.get();
    return 0;
}

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#usebrass2cpp-polymorphic-example-compile-with-brasscpp-include-iostream-include-string-include-brassh-const-int-clients-4-int-main-using-stdcin-using-stdcout-using-stdendl-brass-p_clientsclients-stdstring-temp-long-tempnum-double-tempbal-char-kind-for-int-i-0-i-clients-i-cout-enter-clients-name-getlinecintemp-cout-enter-clients-account-number-cin-tempnum-cout-enter-opening-balance-cin-tempbal-cout-enter-1-for-brass-account-or-2-for-brassplus-account-while-cin-kind-kind-1-kind-2-cout-enter-either-1-or-2-if-kind-1-p_clientsi-new-brasstemp-tempnum-tempbal-else-double-tmax-trate-cout-enter-the-overdraft-limit-cin-tmax-cout-enter-the-interest-rate-as-a-decimal-fraction-cin-trate-p_clientsi-new-brassplustemp-tempnum-tempbal-tmax-trate-while-cinget-n-continue-cout-endl-for-int-i-0-i-clients-i-p_clientsi-viewacct-cout-endl-for-int-i-0-i-clients-i-delete-p_clientsi-free-memory-cout-donen-code-to-keep-window-open-if-cin-cinclear-while-cinget-n-continue-return-0" class="md-nav__link">
    <span class="md-ellipsis">
      演示虚方法：
// usebrass2.cpp -- polymorphic example
// compile with brass.cpp
#include &lt;iostream&gt;
#include &lt;string&gt;
#include &quot;brass.h&quot;
const int CLIENTS = 4;
int main()
{
   using std::cin;
   using std::cout;
   using std::endl;

   Brass * p_clients[CLIENTS];
   std::string temp;
   long tempnum;
   double tempbal;
   char kind;

   for (int i = 0; i &lt; CLIENTS; i++)
   {
       cout &lt;&lt; &quot;Enter client&#39;s name: &quot;;
       getline(cin,temp);

       cout &lt;&lt; &quot;Enter client&#39;s account number: &quot;;
       cin &gt;&gt; tempnum;

       cout &lt;&lt; &quot;Enter opening balance: $&quot;;
       cin &gt;&gt; tempbal;

       cout &lt;&lt; &quot;Enter 1 for Brass Account or &quot;
            &lt;&lt; &quot;2 for BrassPlus Account: &quot;;

       while (cin &gt;&gt; kind &amp;&amp; (kind != &#39;1&#39; &amp;&amp; kind != &#39;2&#39;))
           cout &lt;&lt;&quot;Enter either 1 or 2: &quot;;
       if (kind == &#39;1&#39;)
           p_clients[i] = new Brass(temp, tempnum, tempbal);
       else
       {
           double tmax, trate;
           cout &lt;&lt; &quot;Enter the overdraft limit: $&quot;;

           cin &gt;&gt; tmax;
           cout &lt;&lt; &quot;Enter the interest rate &quot;
                &lt;&lt; &quot;as a decimal fraction: &quot;;
           cin &gt;&gt; trate;

           p_clients[i] = new BrassPlus(temp, tempnum, tempbal,
                                        tmax, trate);
        }

        while (cin.get() != &#39;\n&#39;)
            continue;
   }
   cout &lt;&lt; endl;
   
   for (int i = 0; i &lt; CLIENTS; i++)
   {
       p_clients[i]-&gt;ViewAcct();
       cout &lt;&lt; endl;
   }
   
   for (int i = 0; i &lt; CLIENTS; i++)
   {
       delete p_clients[i];  // free memory
   }
   cout &lt;&lt; &quot;Done.\n&quot;;        
 /* code to keep window open
   if (!cin)
      cin.clear();
   while (cin.get() != &#39;\n&#39;)
      continue;
*/
   return 0;
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="演示虚方法： // usebrass2.cpp -- polymorphic example // compile with brass.cpp #include <iostream> #include <string> #include "brass.h" const int CLIENTS = 4; int main() { using std::cin; using std::cout; using std::endl; Brass * p_clients[CLIENTS]; std::string temp; long tempnum; double tempbal; char kind; for (int i = 0; i < CLIENTS; i++) { cout << "Enter client's name: "; getline(cin,temp); cout << "Enter client's account number: "; cin >> tempnum; cout << "Enter opening balance: $"; cin >> tempbal; cout << "Enter 1 for Brass Account or " << "2 for BrassPlus Account: "; while (cin >> kind && (kind != '1' && kind != '2')) cout <<"Enter either 1 or 2: "; if (kind == '1') p_clients[i] = new Brass(temp, tempnum, tempbal); else { double tmax, trate; cout << "Enter the overdraft limit: $"; cin >> tmax; cout << "Enter the interest rate " << "as a decimal fraction: "; cin >> trate; p_clients[i] = new BrassPlus(temp, tempnum, tempbal, tmax, trate); } while (cin.get() != '\n') continue; } cout << endl; for (int i = 0; i < CLIENTS; i++) { p_clients[i]->ViewAcct(); cout << endl; } for (int i = 0; i < CLIENTS; i++) { delete p_clients[i]; // free memory } cout << "Done.\n"; /* code to keep window open if (!cin) cin.clear(); while (cin.get() != '\n') continue; */ return 0; }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#3" class="md-nav__link">
    <span class="md-ellipsis">
      3）静态联编和动态联编
    </span>
  </a>
  
    <nav class="md-nav" aria-label="3）静态联编和动态联编">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_1" class="md-nav__link">
    <span class="md-ellipsis">
      （1）引入：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_1" class="md-nav__link">
    <span class="md-ellipsis">
      （2）指针和引用类型的兼容性：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#3_1" class="md-nav__link">
    <span class="md-ellipsis">
      （3）虚函数工作原理：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4" class="md-nav__link">
    <span class="md-ellipsis">
      （4）虚函数的注意事项：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#4protected" class="md-nav__link">
    <span class="md-ellipsis">
      4）访问控制：protected
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#5abstract-base-classabc" class="md-nav__link">
    <span class="md-ellipsis">
      5）抽象基类（abstract base class，ABC）
    </span>
  </a>
  
    <nav class="md-nav" aria-label="5）抽象基类（abstract base class，ABC）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1_2" class="md-nav__link">
    <span class="md-ellipsis">
      （1）引入：
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2_2" class="md-nav__link">
    <span class="md-ellipsis">
      （2）示例应用：
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acctabch-bank-account-classes-ifndef-acctabc_h_-define-acctabc_h_-include-iostream-include-string-abstract-base-class-class-acctabc-private-stdstring-fullname-long-acctnum-double-balance-protected-struct-formatting-stdios_basefmtflags-flag-stdstreamsize-pr-const-stdstring-fullname-const-return-fullname-long-acctnum-const-return-acctnum-formatting-setformat-const-void-restoreformatting-f-const-public-acctabcconst-stdstring-s-nullbody-long-an-1-double-bal-00-void-depositdouble-amt-virtual-void-withdrawdouble-amt-0-pure-virtual-function-double-balance-const-return-balance-virtual-void-viewacct-const-0-pure-virtual-function-virtual-acctabc-brass-account-class-class-brass-public-acctabc-public-brassconst-stdstring-s-nullbody-long-an-1-double-bal-00-acctabcs-an-bal-abc-virtual-void-withdrawdouble-amt-abc-virtual-void-viewacct-const-abc-virtual-brass-brass-plus-account-class-class-brassplus-public-acctabc-private-double-maxloan-double-rate-double-owesbank-3-public-brassplusconst-stdstring-s-nullbody-long-an-1-double-bal-00-double-ml-500-double-r-010-abc-brassplusconst-brass-ba-double-ml-500-double-r-01-virtual-void-viewacctconst-abc-virtual-void-withdrawdouble-amt-abc-void-resetmaxdouble-m-maxloan-m-void-resetratedouble-r-rate-r-void-resetowes-owesbank-0-3-endif" class="md-nav__link">
    <span class="md-ellipsis">
      // acctabc.h  -- bank account classes
#ifndef ACCTABC_H_
#define ACCTABC_H_
#include &lt;iostream&gt;
#include &lt;string&gt;

// Abstract Base Class
class AcctABC
{
private:
    std::string fullName;
    long acctNum;
    double balance;

protected:
    struct Formatting
    {
         std::ios_base::fmtflags flag;
         std::streamsize pr;
    };
    const std::string &amp; FullName() const {return fullName;}
    long AcctNum() const {return acctNum;}
    Formatting SetFormat() const;
    void Restore(Formatting &amp; f) const;

public:
    AcctABC(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
                double bal = 0.0);
    void Deposit(double amt) ;
    virtual void Withdraw(double amt) = 0; -------------------------------------- pure virtual function
    double Balance() const {return balance;};
    virtual void ViewAcct() const = 0;     -------------------------------------- pure virtual function
    virtual ~AcctABC() {}                  -------------------------------------- 别忘了虚析构函数
};

// Brass Account Class
class Brass :public AcctABC
{
public:
    Brass(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
           double bal = 0.0) : AcctABC(s, an, bal) { }     ------------------------普通的就直接继承ABC
    virtual void Withdraw(double amt);                     ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual void ViewAcct() const;                         ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual ~Brass() {}
};

//Brass Plus Account Class
class BrassPlus : public AcctABC
{
private:
    double maxLoan;
    double rate;
    double owesBank;                      ---------------------------------------- 新增 3 个数据成员

public:
    BrassPlus(const std::string &amp; s = &quot;Nullbody&quot;, long an = -1,
            double bal = 0.0, double ml = 500,
            double r = 0.10);                              ------------------------普通的就直接继承ABC
    BrassPlus(const Brass &amp; ba, double ml = 500, double r = 0.1);
    virtual void ViewAcct()const;                          ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    virtual void Withdraw(double amt);                     ------------------------继承ABC的纯虚函数 =&gt; 虚函数
    void ResetMax(double m) { maxLoan = m; }
    void ResetRate(double r) { rate = r; };
    void ResetOwes() { owesBank = 0; }                     ------------------------新增 3 个派生类成员函数
};
#endif

    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#acctabccpp-bank-account-class-methods-include-iostream-include-acctabch-using-stdcout-using-stdios_base-using-stdendl-using-stdstring-abstract-base-class-acctabcacctabcconst-string-s-long-an-double-bal-abc-fullname-s-acctnum-an-balance-bal-void-acctabcdepositdouble-amt-abc-if-amt-0-cout-negative-deposit-not-allowed-deposit-is-cancelledn-else-balance-amt-void-acctabcwithdrawdouble-amt-balance-amt-protected-methods-for-formatting-acctabcformatting-acctabcsetformat-const-set-up-format-formatting-f-fflag-coutsetfios_basefixed-ios_basefloatfield-fpr-coutprecision2-return-f-void-acctabcrestoreformatting-f-const-coutsetffflag-ios_basefloatfield-coutprecisionfpr-brass-methods-void-brasswithdrawdouble-amt-1-if-amt-0-cout-withdrawal-amount-must-be-positive-withdrawal-canceledn-else-if-amt-balance-abcbalance-acctabcwithdrawamt-abcwithdraw-else-cout-withdrawal-amount-of-amt-exceeds-your-balancen-withdrawal-canceledn-void-brassviewacct-const-1-formatting-f-setformat-cout-brass-client-fullname-endl-abcfullname-cout-account-number-acctnum-endl-abcacctnum-cout-balance-balance-endl-abcbalance-restoref-brassplus-methods-brassplusbrassplusconst-string-s-long-an-double-bal-double-ml-double-r-acctabcs-an-bal-maxloan-ml-owesbank-00-rate-r-brassplusbrassplusconst-brass-ba-double-ml-double-r-acctabcba-uses-implicit-copy-constructor-maxloan-ml-owesbank-00-rate-r-void-brassplusviewacct-const-formatting-f-setformat-cout-brassplus-client-fullname-endl-cout-account-number-acctnum-endl-cout-balance-balance-endl-cout-maximum-loan-maxloan-endl-cout-owed-to-bank-owesbank-endl-coutprecision3-cout-loan-rate-100-rate-n-restoref-void-brasspluswithdrawdouble-amt-formatting-f-setformat-double-bal-balance-if-amt-bal-acctabcwithdrawamt-else-if-amt-bal-maxloan-owesbank-double-advance-amt-bal-owesbank-advance-10-rate-cout-bank-advance-advance-endl-cout-finance-charge-advance-rate-endl-depositadvance-acctabcwithdrawamt-else-cout-credit-limit-exceeded-transaction-cancelledn-restoref" class="md-nav__link">
    <span class="md-ellipsis">
      // acctabc.cpp -- bank account class methods
#include &lt;iostream&gt;
#include &quot;acctabc.h&quot;
using std::cout;
using std::ios_base;
using std::endl;
using std::string;

// Abstract Base Class
AcctABC::AcctABC(const string &amp; s, long an, double bal)--------------------------ABC抽象基类的初始化函数
{
    fullName = s;
    acctNum = an;
    balance = bal;
}

void AcctABC::Deposit(double amt)------------------------------------------------ABC抽象基类的某成员函数
{
    if (amt &lt; 0)
        cout &lt;&lt; &quot;Negative deposit not allowed; &quot;
             &lt;&lt; &quot;deposit is cancelled.\n&quot;;
    else
        balance += amt;
}

void AcctABC::Withdraw(double amt)
{
    balance -= amt;
}

// protected methods for formatting
AcctABC::Formatting AcctABC::SetFormat() const
{
 // set up ###.## format
    Formatting f;
    f.flag =
        cout.setf(ios_base::fixed, ios_base::floatfield);
    f.pr = cout.precision(2);
    return f;
}

void AcctABC::Restore(Formatting &amp; f) const
{
    cout.setf(f.flag, ios_base::floatfield);
    cout.precision(f.pr);
}

// Brass methods
void Brass::Withdraw(double amt)---------------------------------------------派生类1的某成员函数（虚函数）
{
    if (amt &lt; 0)
        cout &lt;&lt; &quot;Withdrawal amount must be positive; &quot;
             &lt;&lt; &quot;withdrawal canceled.\n&quot;;
    else if (amt &lt;= Balance())-----------------------------------------------继承的是ABC基类，因此可以直接调用基类方法Balance()
        AcctABC::Withdraw(amt);----------------------------------------------继承的是ABC基类，因此可以调用基类方法Withdraw()
    else
        cout &lt;&lt; &quot;Withdrawal amount of $&quot; &lt;&lt; amt
             &lt;&lt; &quot; exceeds your balance.\n&quot;
             &lt;&lt; &quot;Withdrawal canceled.\n&quot;;
}

void Brass::ViewAcct() const    ---------------------------------------------派生类1的某成员函数（虚函数）
{
    Formatting f = SetFormat();
    cout &lt;&lt; &quot;Brass Client: &quot; &lt;&lt; FullName() &lt;&lt; endl;     ---------------------继承的是ABC基类，因此可以直接调用基类方法FullName()
    cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl;    ---------------------继承的是ABC基类，因此可以直接调用基类方法AcctNum()
    cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl;          ---------------------继承的是ABC基类，因此可以直接调用基类方法Balance()
    Restore(f);
}

// BrassPlus Methods
BrassPlus::BrassPlus(const string &amp; s, long an, double bal,
           double ml, double r) : AcctABC(s, an, bal)
{
    maxLoan = ml;
    owesBank = 0.0;
    rate = r;
}

BrassPlus::BrassPlus(const Brass &amp; ba, double ml, double r)
           : AcctABC(ba)   // uses implicit copy constructor
{
    maxLoan = ml;
    owesBank = 0.0;
    rate = r;
}

void BrassPlus::ViewAcct() const
{
    Formatting f = SetFormat();

    cout &lt;&lt; &quot;BrassPlus Client: &quot; &lt;&lt; FullName() &lt;&lt; endl;
    cout &lt;&lt; &quot;Account Number: &quot; &lt;&lt; AcctNum() &lt;&lt; endl;
    cout &lt;&lt; &quot;Balance: $&quot; &lt;&lt; Balance() &lt;&lt; endl;
    cout &lt;&lt; &quot;Maximum loan: $&quot; &lt;&lt; maxLoan &lt;&lt; endl;
    cout &lt;&lt; &quot;Owed to bank: $&quot; &lt;&lt; owesBank &lt;&lt; endl;
    cout.precision(3);
    cout &lt;&lt; &quot;Loan Rate: &quot; &lt;&lt; 100 * rate &lt;&lt; &quot;%\n&quot;;
    Restore(f);
}

void BrassPlus::Withdraw(double amt)
{
    Formatting f = SetFormat();

    double bal = Balance();
    if (amt &lt;= bal)
        AcctABC::Withdraw(amt);
    else if ( amt &lt;= bal + maxLoan - owesBank)
    {
        double advance = amt - bal;
        owesBank += advance * (1.0 + rate);
        cout &lt;&lt; &quot;Bank advance: $&quot; &lt;&lt; advance &lt;&lt; endl;
        cout &lt;&lt; &quot;Finance charge: $&quot; &lt;&lt; advance * rate &lt;&lt; endl;
        Deposit(advance);
        AcctABC::Withdraw(amt);
    }
    else
        cout &lt;&lt; &quot;Credit limit exceeded. Transaction cancelled.\n&quot;;
    Restore(f); 
}

    </span>
  </a>
  
    <nav class="md-nav" aria-label="// acctabc.cpp -- bank account class methods #include <iostream> #include "acctabc.h" using std::cout; using std::ios_base; using std::endl; using std::string; // Abstract Base Class AcctABC::AcctABC(const string & s, long an, double bal)--------------------------ABC抽象基类的初始化函数 { fullName = s; acctNum = an; balance = bal; } void AcctABC::Deposit(double amt)------------------------------------------------ABC抽象基类的某成员函数 { if (amt < 0) cout << "Negative deposit not allowed; " << "deposit is cancelled.\n"; else balance += amt; } void AcctABC::Withdraw(double amt) { balance -= amt; } // protected methods for formatting AcctABC::Formatting AcctABC::SetFormat() const { // set up ###.## format Formatting f; f.flag = cout.setf(ios_base::fixed, ios_base::floatfield); f.pr = cout.precision(2); return f; } void AcctABC::Restore(Formatting & f) const { cout.setf(f.flag, ios_base::floatfield); cout.precision(f.pr); } // Brass methods void Brass::Withdraw(double amt)---------------------------------------------派生类1的某成员函数（虚函数） { if (amt < 0) cout << "Withdrawal amount must be positive; " << "withdrawal canceled.\n"; else if (amt <= Balance())-----------------------------------------------继承的是ABC基类，因此可以直接调用基类方法Balance() AcctABC::Withdraw(amt);----------------------------------------------继承的是ABC基类，因此可以调用基类方法Withdraw() else cout << "Withdrawal amount of $" << amt << " exceeds your balance.\n" << "Withdrawal canceled.\n"; } void Brass::ViewAcct() const ---------------------------------------------派生类1的某成员函数（虚函数） { Formatting f = SetFormat(); cout << "Brass Client: " << FullName() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法FullName() cout << "Account Number: " << AcctNum() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法AcctNum() cout << "Balance: $" << Balance() << endl; ---------------------继承的是ABC基类，因此可以直接调用基类方法Balance() Restore(f); } // BrassPlus Methods BrassPlus::BrassPlus(const string & s, long an, double bal, double ml, double r) : AcctABC(s, an, bal) { maxLoan = ml; owesBank = 0.0; rate = r; } BrassPlus::BrassPlus(const Brass & ba, double ml, double r) : AcctABC(ba) // uses implicit copy constructor { maxLoan = ml; owesBank = 0.0; rate = r; } void BrassPlus::ViewAcct() const { Formatting f = SetFormat(); cout << "BrassPlus Client: " << FullName() << endl; cout << "Account Number: " << AcctNum() << endl; cout << "Balance: $" << Balance() << endl; cout << "Maximum loan: $" << maxLoan << endl; cout << "Owed to bank: $" << owesBank << endl; cout.precision(3); cout << "Loan Rate: " << 100 * rate << "%\n"; Restore(f); } void BrassPlus::Withdraw(double amt) { Formatting f = SetFormat(); double bal = Balance(); if (amt <= bal) AcctABC::Withdraw(amt); else if ( amt <= bal + maxLoan - owesBank) { double advance = amt - bal; owesBank += advance * (1.0 + rate); cout << "Bank advance: $" << advance << endl; cout << "Finance charge: $" << advance * rate << endl; Deposit(advance); AcctABC::Withdraw(amt); } else cout << "Credit limit exceeded. Transaction cancelled.\n"; Restore(f); }">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#6" class="md-nav__link">
    <span class="md-ellipsis">
      6）继承与动态内存分配
    </span>
  </a>
  
    <nav class="md-nav" aria-label="6）继承与动态内存分配">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#1new" class="md-nav__link">
    <span class="md-ellipsis">
      （1）派生类不使用new
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#2new" class="md-nav__link">
    <span class="md-ellipsis">
      （2）派生类使用new
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#7" class="md-nav__link">
    <span class="md-ellipsis">
      7）类设计回顾
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
    <a href="https://github.com/root-hbx/edit/main/docs/curriculum_study/C++PrimerPlus/chapter13类继承.md" title="编辑此页" class="md-content__button md-icon">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4v-2m10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1 2.1 2.1Z"/></svg>
    </a>
  
  


  <h1>Chapter13类继承</h1>

<h3 id="1">1）一个简单的基类<a class="headerlink" href="#1" title="Permanent link">&para;</a></h3>
<p>【1】基类原型：
<div class="highlight"><pre><span></span><code><span class="c1">// tabtenn0.h -- a table-tennis base class</span>
<span class="cp">#ifndef TABTENN0_H_</span>
<span class="cp">#define TABTENN0_H_</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="c1">// simple base class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TableTennisPlayer</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">firstname</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">lastname</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">hasTable</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">HasTable</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">hasTable</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetTable</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">hasTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</code></pre></div></p>
<hr />
<h2 id="tabtenn0cpp-simple-base-class-methods-include-tabtenn0h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname"><div class="highlight"><pre><span></span><code><span class="c1">//tabtenn0.cpp -- simple base-class methods</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;tabtenn0.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">firstname</span><span class="p">(</span><span class="n">fn</span><span class="p">),</span>
<span class="w">        </span><span class="n">lastname</span><span class="p">(</span><span class="n">ln</span><span class="p">),</span><span class="w"> </span><span class="n">hasTable</span><span class="p">(</span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
<span class="kt">void</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">lastname</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">firstname</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#tabtenn0cpp-simple-base-class-methods-include-tabtenn0h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname" title="Permanent link">&para;</a></h2>
<p><div class="highlight"><pre><span></span><code><span class="c1">// usett0.cpp -- using a base class</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;tabtenn0.h&quot;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="w">    </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="n">player1</span><span class="p">(</span><span class="s">&quot;Chuck&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Blizzard&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">    </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="n">player2</span><span class="p">(</span><span class="s">&quot;Tara&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Boomdea&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="n">player1</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">player1</span><span class="p">.</span><span class="n">HasTable</span><span class="p">())</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: has a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: hasn&#39;t a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="n">player2</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">player2</span><span class="p">.</span><span class="n">HasTable</span><span class="p">())</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: has a table&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: hasn&#39;t a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// std::cin.get();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
说明：
(1) 构造函数使用了初始化列表的方法，这在后续非常常见！
<div class="highlight"><pre><span></span><code><span class="n">原型中</span><span class="err">：</span>
<span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="o">=</span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="o">=</span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="o">=</span><span class="nb">false</span><span class="p">);</span>

<span class="n">类外定义时</span><span class="err">：</span>
<span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">firstname</span><span class="p">(</span><span class="n">fn</span><span class="p">),</span><span class="n">lastname</span><span class="p">(</span><span class="n">ln</span><span class="p">),</span><span class="n">hasTable</span><span class="p">(</span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div>
(2) 初始化列表的写法与常规构造函数写法等价！
<div class="highlight"><pre><span></span><code><span class="n">比如上述初始化列表等同于</span><span class="err">：</span>
<span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">firstname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fn</span><span class="p">;</span>
<span class="w">    </span><span class="n">lastname</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ln</span><span class="p">;</span>
<span class="w">    </span><span class="n">hasTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ht</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
(3) string 与 char* 等价；</p>
<p>【2】派生一个类：
<div class="highlight"><pre><span></span><code><span class="c1">// tabtenn1.h -- a table-tennis base class</span>
<span class="cp">#ifndef TABTENN1_H_</span>
<span class="cp">#define TABTENN1_H_</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>
<span class="c1">// simple base class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">TableTennisPlayer</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">firstname</span><span class="p">;</span>
<span class="w">    </span><span class="n">string</span><span class="w"> </span><span class="n">lastname</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="n">hasTable</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span>
<span class="w">                       </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">bool</span><span class="w"> </span><span class="nf">HasTable</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">hasTable</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetTable</span><span class="p">(</span><span class="kt">bool</span><span class="w"> </span><span class="n">v</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">hasTable</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">v</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="p">};</span>
<span class="o">-----------------------------------------------------------------------------------------------------------------------------------</span>
<span class="c1">// simple derived class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">RatedPlayer</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">TableTennisPlayer</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">rating</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">RatedPlayer</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span>
<span class="w">                 </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;none&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">tp</span><span class="p">);</span>
<span class="w">    </span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="nf">Rating</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="n">rating</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetRating</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;}</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</code></pre></div></p>
<hr />
<h2 id="tabtenn1cpp-simple-base-class-methods-include-tabtenn1h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname-ratedplayer-methods-ratedplayerratedplayerunsigned-int-r-const-string-fn-const-string-ln-bool-ht-tabletennisplayerfn-ln-ht-rating-r-ratedplayerratedplayerunsigned-int-r-const-tabletennisplayer-tp-tabletennisplayertp-ratingr"><div class="highlight"><pre><span></span><code><span class="c1">//tabtenn1.cpp -- simple base-class methods</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;tabtenn1.h&quot;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">firstname</span><span class="p">(</span><span class="n">fn</span><span class="p">),</span>
<span class="w">        </span><span class="n">lastname</span><span class="p">(</span><span class="n">ln</span><span class="p">),</span><span class="w"> </span><span class="n">hasTable</span><span class="p">(</span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="o">::</span><span class="n">Name</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">lastname</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;, &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">firstname</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// RatedPlayer methods</span>
<span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span>
<span class="w">     </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">tp</span><span class="p">)</span>
<span class="w">    </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">tp</span><span class="p">),</span><span class="w"> </span><span class="n">rating</span><span class="p">(</span><span class="n">r</span><span class="p">)</span>
<span class="p">{</span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#tabtenn1cpp-simple-base-class-methods-include-tabtenn1h-include-iostream-tabletennisplayertabletennisplayer-const-string-fn-const-string-ln-bool-ht-firstnamefn-lastnameln-hastableht-void-tabletennisplayername-const-stdcout-lastname-firstname-ratedplayer-methods-ratedplayerratedplayerunsigned-int-r-const-string-fn-const-string-ln-bool-ht-tabletennisplayerfn-ln-ht-rating-r-ratedplayerratedplayerunsigned-int-r-const-tabletennisplayer-tp-tabletennisplayertp-ratingr" title="Permanent link">&para;</a></h2>
<h2 id="usett1cpp-using-base-class-and-derived-class-include-iostream-include-tabtenn1h-int-main-void-using-stdcout-using-stdendl-tabletennisplayer-player1tara-boomdea-false-ratedplayer-rplayer11140-mallory-duck-true-rplayer1name-derived-object-uses-base-method-if-rplayer1hastable-cout-has-a-tablen-else-cout-hasnt-a-tablen-player1name-base-object-uses-base-method-if-player1hastable-cout-has-a-table-else-cout-hasnt-a-tablen-cout-name-rplayer1name-cout-rating-rplayer1rating-endl-initialize-ratedplayer-using-tabletennisplayer-object-ratedplayer-rplayer21212-player1-cout-name-rplayer2name-cout-rating-rplayer2rating-endl-stdcinget-return-0"><div class="highlight"><pre><span></span><code><span class="c1">// usett1.cpp -- using base class and derived class</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;tabtenn1.h&quot;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="w">    </span><span class="n">TableTennisPlayer</span><span class="w"> </span><span class="n">player1</span><span class="p">(</span><span class="s">&quot;Tara&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Boomdea&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">false</span><span class="p">);</span>
<span class="w">    </span><span class="n">RatedPlayer</span><span class="w"> </span><span class="n">rplayer1</span><span class="p">(</span><span class="mi">1140</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Mallory&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Duck&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">true</span><span class="p">);</span>
<span class="w">   </span>
<span class="w">    </span><span class="n">rplayer1</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span><span class="w">          </span><span class="c1">// derived object uses base method</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">rplayer1</span><span class="p">.</span><span class="n">HasTable</span><span class="p">())</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: has a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: hasn&#39;t a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span>
<span class="w">    </span><span class="n">player1</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span><span class="w">           </span><span class="c1">// base object uses base method</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">player1</span><span class="p">.</span><span class="n">HasTable</span><span class="p">())</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: has a table&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;: hasn&#39;t a table.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Name: &quot;</span><span class="p">;</span>

<span class="w">    </span><span class="n">rplayer1</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;; Rating: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rplayer1</span><span class="p">.</span><span class="n">Rating</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span>
<span class="c1">// initialize RatedPlayer using TableTennisPlayer object</span>
<span class="w">    </span><span class="n">RatedPlayer</span><span class="w"> </span><span class="n">rplayer2</span><span class="p">(</span><span class="mi">1212</span><span class="p">,</span><span class="w"> </span><span class="n">player1</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Name: &quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">rplayer2</span><span class="p">.</span><span class="n">Name</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;; Rating: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">rplayer2</span><span class="p">.</span><span class="n">Rating</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="c1">// std::cin.get();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#usett1cpp-using-base-class-and-derived-class-include-iostream-include-tabtenn1h-int-main-void-using-stdcout-using-stdendl-tabletennisplayer-player1tara-boomdea-false-ratedplayer-rplayer11140-mallory-duck-true-rplayer1name-derived-object-uses-base-method-if-rplayer1hastable-cout-has-a-tablen-else-cout-hasnt-a-tablen-player1name-base-object-uses-base-method-if-player1hastable-cout-has-a-table-else-cout-hasnt-a-tablen-cout-name-rplayer1name-cout-rating-rplayer1rating-endl-initialize-ratedplayer-using-tabletennisplayer-object-ratedplayer-rplayer21212-player1-cout-name-rplayer2name-cout-rating-rplayer2rating-endl-stdcinget-return-0" title="Permanent link">&para;</a></h2>
<p>（1）派生类写法：
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">RatedPlayer</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">TableTennisPlayer</span>
<span class="p">{</span>
<span class="w">    </span><span class="p">...</span>
<span class="p">}</span>

<span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">指出RatedPlayer类的基类是TableTennis类</span>
<span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">public说明是公有派生</span><span class="err">：</span><span class="n">基类的公有成员</span><span class="w"> </span><span class="n">将成为</span><span class="w"> </span><span class="n">派生类的公有成员</span><span class="err">；</span><span class="n">基类的私有成员也将成为派生类的一部分</span><span class="err">，</span><span class="n">但是只能通过基类的公有和保护方法访问</span><span class="err">！</span>
</code></pre></div></p>
<p>（2）派生类需要在继承特性中添加说明：</p>
<blockquote>
<p>[1]  <strong>派生类需要自己的构造函数</strong></p>
<p>[2]  派生类可以根据需要添加额外的 数据成员 and 成员函数</p>
</blockquote>
<p>（3）派生类构造函数的访问权限：</p>
<blockquote>
<p>[1] ==派生类不能直接访问基类的私有成员，必须通过基类的方法进行访问==</p>
<p>[2] 派生类构造函数必须使用基类构造函数</p>
<p>[3] 创建派生类对象时，程序必须首先创建基类对象（基类对象应当在程序进入派生类构造函数之前就被创建）
<div class="highlight"><pre><span></span><code><span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="w"> </span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="n">ln</span><span class="p">,</span><span class="n">ht</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="o">:</span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">fn</span><span class="p">,</span><span class="n">ln</span><span class="p">,</span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="n">是成员初始化列表</span><span class="err">【</span><span class="n">基类构造函数</span><span class="err">】</span>
<span class="n">该构造函数的执行顺序</span><span class="err">：</span>
<span class="err">（</span><span class="mi">1</span><span class="err">）</span><span class="n">RatedPlayer构造函数将把实参</span><span class="w"> </span><span class="s">&quot;hbx&quot;</span><span class="p">,</span><span class="s">&quot;dusk&quot;</span><span class="p">,</span><span class="s">&quot;hhh&quot;</span><span class="w"> </span><span class="n">赋给形参</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="n">ln</span><span class="p">,</span><span class="n">ht</span>
<span class="err">（</span><span class="mi">2</span><span class="err">）</span><span class="n">将这些参数作为实参传递给TableTennisPlayer构造函数</span>
<span class="err">（</span><span class="mi">3</span><span class="err">）</span><span class="n">将创建一个TableTennisPlayer对象</span><span class="err">，</span><span class="n">并将数据</span><span class="w"> </span><span class="s">&quot;hbx&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;dusk&quot;</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="s">&quot;hhh&quot;</span><span class="w"> </span><span class="n">存储在该对象中</span>
<span class="err">（</span><span class="mi">4</span><span class="err">）</span><span class="n">程序进入构造函数体</span><span class="err">，</span><span class="n">完成RealPlayer对象的创建</span><span class="err">，</span><span class="n">并将参数r的值赋给rating成员</span>
</code></pre></div></p>
<p>[4] 如果忽略成员初始化列表，程序将使用基类的默认构造函数
<div class="highlight"><pre><span></span><code><span class="n">忽略初始化列表</span><span class="err">：</span>
<span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">-------------------------------------------------------------------------------------------</span>
<span class="n">等价于</span><span class="err">：</span>
<span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">fn</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ln</span><span class="p">,</span><span class="w"> </span><span class="kt">bool</span><span class="w"> </span><span class="n">ht</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">()</span><span class="w"> </span>
<span class="p">{</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></p>
<p>[5] 初始化列表的参数改为类成员时
<div class="highlight"><pre><span></span><code><span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="o">&amp;</span><span class="w"> </span><span class="n">tp</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">tp</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">由于tp类型为TableTennisPlayer</span><span class="o">&amp;</span><span class="err">，</span><span class="n">因此将调用基类的复制构造函数</span>
<span class="n">基类没有定义复制构造函数</span><span class="err">，</span><span class="n">因此编译器将自动生成一个</span>
<span class="n">这种情况下</span><span class="w"> </span><span class="n">隐式复制构造函数</span><span class="w"> </span><span class="n">是合适的</span>
<span class="n">因为这个类没有使用</span><span class="w"> </span><span class="n">动态内存分配</span><span class="err">！</span>
</code></pre></div></p>
<p>[6] 为简化也可以对派生类成员使用 成员初始化列表 语法
1）对于继承的基类，初始化列表用的是类名: TableTennisPlayer(tp)
2）对于派生类待初始化的成员，初始化列表用的是成员名：rating(r)
<div class="highlight"><pre><span></span><code><span class="n">RatedPlayer</span><span class="o">::</span><span class="n">RatedPlayer</span><span class="p">(</span><span class="kt">unsigned</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">r</span><span class="p">,</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="o">&amp;</span><span class="w"> </span><span class="n">tp</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">TableTennisPlayer</span><span class="p">(</span><span class="n">tp</span><span class="p">),</span><span class="n">rating</span><span class="p">(</span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{}</span>
</code></pre></div></p>
</blockquote>
<p>【3】继承的基本总结：
1）派生类构造函数的要点：</p>
<blockquote>
<p>[1] 首先创建基类对象
[2] 派生类构造函数通过 成员初始化列表 将基类信息传递给基类构造函数
[3] 派生类构造函数应初始化派生类新增的数据成员</p>
</blockquote>
<p>2）顺序：</p>
<blockquote>
<p>[1] 释放对象的顺序与创建对象的顺序相反！即：先执行派生类的析构函数，再自动调用基类的析构函数
[2] ==创建派生类对象时，程序首先调用基类构造函数，然后再调用派生类构造函数（基类构造函数负责初始化继承的数据成员；派生类构造函数主要用于初始化新增的数据成员）==</p>
</blockquote>
<p>3）派生类和基类的特殊关系：</p>
<blockquote>
<p>[1] 派生类对象可以使用基类的方法，条件是：方法不是私有的
[2] 基类指针可以在不进行显式类型转换的情况下指向派生类成员。反之不然！
[3] 基类引用可以在不进行显式类型转换的情况下引用派生类成员。反之不然！
ps：==<strong>基类指针/引用</strong> 只能用于调用 <strong>基类方法</strong> ，不能调用<strong>派生类方法</strong>==</p>
</blockquote>
<h3 id="2">2）多态公有继承<a class="headerlink" href="#2" title="Permanent link">&para;</a></h3>
<p>（1）问题引入：
<div class="highlight"><pre><span></span><code><span class="c1">// brass.h  -- bank account classes</span>
<span class="cp">#ifndef BRASS_H_</span>
<span class="cp">#define BRASS_H_</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="c1">// Brass Account Class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Brass</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">fullName</span><span class="p">;</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">acctNum</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Brass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Nullbody&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Deposit</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="nf">Balance</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">Brass</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="p">};</span>

<span class="c1">//Brass Plus Account Class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BrassPlus</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">Brass</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">maxLoan</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">rate</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">owesBank</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Nullbody&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.11125</span><span class="p">);</span>
<span class="w">    </span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">                                </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.11125</span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ViewAcct</span><span class="p">()</span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetMax</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetRate</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetOwes</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</code></pre></div></p>
<hr />
<p>分析：
【1】两个类都声明了 ViewAcct() 和 Withdraw() 方法，但是BrassPlus对象与Brass对象的方法行为是不同的！</p>
<p>【2】对于在两个类中行为相同的方法，如：Deposit() 和 Balance() ，则只在基类中声明！</p>
<p>【3】使用 <strong>关键字virtual</strong> 的原因：</p>
<blockquote>
<p>[1] 如果没有virtual，程序将根据 <strong>引用类型 or 指针类型</strong> 选择方法
[2] 如果使用virtual，程序将根据 <strong>引用对象 or 指针指向的对象 的类型</strong> 来选择方法
<div class="highlight"><pre><span></span><code><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="w"> </span><span class="n">如果</span><span class="w"> </span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="n">不是虚的</span><span class="err">，</span><span class="n">则程序的行为如下</span><span class="err">：</span>

<span class="n">Brass</span><span class="w"> </span><span class="n">dom</span><span class="p">(</span><span class="s">&quot;Dominic Banker&quot;</span><span class="p">,</span><span class="mi">11224</span><span class="p">,</span><span class="mf">4183.45</span><span class="p">);</span>
<span class="n">BrassPlus</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="s">&quot;Dorthy Banker&quot;</span><span class="p">,</span><span class="mi">12118</span><span class="p">,</span><span class="mf">2592.00</span><span class="p">);</span>
<span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dom</span><span class="p">;</span>
<span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">;</span>
<span class="n">b1</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w"> </span><span class="c1">// use Brass::ViewAcct()</span>
<span class="n">b2</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w"> </span><span class="c1">// use Brass::ViewAcct()</span>

<span class="c1">//引用变量的类型为Brass，所以选择了Brass::ViewAcct()</span>
<span class="o">---------------------------------------------------------------------------</span>
<span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="w"> </span><span class="n">如果</span><span class="w"> </span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="n">是虚的</span><span class="err">，</span><span class="n">则程序的行为如下</span><span class="err">：</span>

<span class="n">Brass</span><span class="w"> </span><span class="n">dom</span><span class="p">(</span><span class="s">&quot;Dominic Banker&quot;</span><span class="p">,</span><span class="mi">11224</span><span class="p">,</span><span class="mf">4183.45</span><span class="p">);</span>
<span class="n">BrassPlus</span><span class="w"> </span><span class="n">dot</span><span class="p">(</span><span class="s">&quot;Dorthy Banker&quot;</span><span class="p">,</span><span class="mi">12118</span><span class="p">,</span><span class="mf">2592.00</span><span class="p">);</span>
<span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b1</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dom</span><span class="p">;</span>
<span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">b2</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">dot</span><span class="p">;</span>
<span class="n">b1</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w"> </span><span class="c1">// use Brass::ViewAcct()</span>
<span class="n">b2</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w"> </span><span class="c1">// use BrassPlus::ViewAcct()</span>

<span class="c1">//两个引用的类型都是Brass，但是b2引用的是一个BrassPlus对象，所以它是BrassPlus::ViewAcct()</span>
</code></pre></div></p>
</blockquote>
<p>【4】经常在基类中将 <em>派生类会重新定义的</em> 方法声明为<strong>虚方法</strong></p>
<p>【5】为基类声明一个虚析构函数是惯例，原因见后面</p>
<p>（2）主程序分析：
<div class="highlight"><pre><span></span><code><span class="c1">// brass.cpp -- bank account class methods</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;brass.h&quot;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>

<span class="c1">// formatting stuff</span>
<span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">fmtflags</span><span class="w"> </span><span class="n">format</span><span class="p">;</span>
<span class="k">typedef</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">streamsize</span><span class="w"> </span><span class="n">precis</span><span class="p">;</span>
<span class="n">format</span><span class="w"> </span><span class="nf">setFormat</span><span class="p">();</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">restore</span><span class="p">(</span><span class="n">format</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">precis</span><span class="w"> </span><span class="n">p</span><span class="p">);</span>

<span class="c1">// Brass methods</span>
<span class="n">Brass</span><span class="o">::</span><span class="n">Brass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="w">    </span><span class="n">acctNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">an</span><span class="p">;</span>
<span class="w">    </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bal</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Deposit</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Negative deposit not allowed; &quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;deposit is cancelled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">balance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amt</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal amount must be positive; &quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;withdrawal canceled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">balance</span><span class="p">)</span>
<span class="w">        </span><span class="n">balance</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">amt</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal amount of $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">amt</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; exceeds your balance.</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal canceled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>

<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">double</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">     </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Client: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">fullName</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Account Number: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">acctNum</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">balance</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span><span class="w"> </span><span class="c1">// Restore original format</span>
<span class="p">}</span>

<span class="c1">// BrassPlus Methods</span>
<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="p">,</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">ba</span><span class="p">)</span><span class="w">   </span><span class="c1">// uses implicit copy constructor</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// redefine how ViewAcct() works</span>
<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="w">    </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w">   </span><span class="c1">// display base portion</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Maximum loan: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Owed to bank: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">owesBank</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// ###.### format</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Loan Rate: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;%</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// redefine how Withdraw() works</span>
<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Balance</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="w">        </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">owesBank</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">bal</span><span class="p">;</span>
<span class="w">        </span><span class="n">owesBank</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rate</span><span class="p">);</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bank advance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Finance charge: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">Deposit</span><span class="p">(</span><span class="n">advance</span><span class="p">);</span>
<span class="w">        </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Credit limit exceeded. Transaction cancelled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<span class="p">}</span>

<span class="n">format</span><span class="w"> </span><span class="n">setFormat</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">setf</span><span class="p">(</span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">fixed</span><span class="p">,</span>
<span class="w">                </span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">floatfield</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">restore</span><span class="p">(</span><span class="n">format</span><span class="w"> </span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">precis</span><span class="w"> </span><span class="n">p</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">setf</span><span class="p">(</span><span class="n">f</span><span class="p">,</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">floatfield</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
<hr />
<h2 id="usebrass1cpp-testing-bank-account-classes-compile-with-brasscpp-include-iostream-include-brassh-int-main-using-stdcout-using-stdendl-brass-piggyporcelot-pigg-381299-400000-brassplus-hoggyhoratio-hogg-382288-300000-piggyviewacct-cout-endl-hoggyviewacct-cout-endl-cout-depositing-1000-into-the-hogg-accountn-hoggydeposit100000-cout-new-balance-hoggybalance-endl-cout-withdrawing-4200-from-the-pigg-accountn-piggywithdraw420000-cout-pigg-account-balance-piggybalance-endl-cout-withdrawing-4200-from-the-hogg-accountn-hoggywithdraw420000-hoggyviewacct-stdcinget-return-0"><div class="highlight"><pre><span></span><code><span class="n">常规使用</span><span class="err">：</span>
<span class="c1">// usebrass1.cpp -- testing bank account classes</span>
<span class="c1">// compile with brass.cpp</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;brass.h&quot;</span>

<span class="kt">int</span><span class="w"> </span><span class="n">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="w">    </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="w">    </span><span class="n">Brass</span><span class="w"> </span><span class="n">Piggy</span><span class="p">(</span><span class="s">&quot;Porcelot Pigg&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">381299</span><span class="p">,</span><span class="w"> </span><span class="mf">4000.00</span><span class="p">);</span>
<span class="w">    </span><span class="n">BrassPlus</span><span class="w"> </span><span class="n">Hoggy</span><span class="p">(</span><span class="s">&quot;Horatio Hogg&quot;</span><span class="p">,</span><span class="w"> </span><span class="mi">382288</span><span class="p">,</span><span class="w"> </span><span class="mf">3000.00</span><span class="p">);</span>

<span class="w">    </span><span class="n">Piggy</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">Hoggy</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Depositing $1000 into the Hogg Account:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Hoggy</span><span class="p">.</span><span class="n">Deposit</span><span class="p">(</span><span class="mf">1000.00</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;New balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Hoggy</span><span class="p">.</span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawing $4200 from the Pigg Account:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Piggy</span><span class="p">.</span><span class="n">Withdraw</span><span class="p">(</span><span class="mf">4200.00</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Pigg account balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Piggy</span><span class="p">.</span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawing $4200 from the Hogg Account:</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Hoggy</span><span class="p">.</span><span class="n">Withdraw</span><span class="p">(</span><span class="mf">4200.00</span><span class="p">);</span>
<span class="w">    </span><span class="n">Hoggy</span><span class="p">.</span><span class="n">ViewAcct</span><span class="p">();</span>
<span class="w">    </span><span class="c1">// std::cin.get();</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#usebrass1cpp-testing-bank-account-classes-compile-with-brasscpp-include-iostream-include-brassh-int-main-using-stdcout-using-stdendl-brass-piggyporcelot-pigg-381299-400000-brassplus-hoggyhoratio-hogg-382288-300000-piggyviewacct-cout-endl-hoggyviewacct-cout-endl-cout-depositing-1000-into-the-hogg-accountn-hoggydeposit100000-cout-new-balance-hoggybalance-endl-cout-withdrawing-4200-from-the-pigg-accountn-piggywithdraw420000-cout-pigg-account-balance-piggybalance-endl-cout-withdrawing-4200-from-the-hogg-accountn-hoggywithdraw420000-hoggyviewacct-stdcinget-return-0" title="Permanent link">&para;</a></h2>
<h2 id="usebrass2cpp-polymorphic-example-compile-with-brasscpp-include-iostream-include-string-include-brassh-const-int-clients-4-int-main-using-stdcin-using-stdcout-using-stdendl-brass-p_clientsclients-stdstring-temp-long-tempnum-double-tempbal-char-kind-for-int-i-0-i-clients-i-cout-enter-clients-name-getlinecintemp-cout-enter-clients-account-number-cin-tempnum-cout-enter-opening-balance-cin-tempbal-cout-enter-1-for-brass-account-or-2-for-brassplus-account-while-cin-kind-kind-1-kind-2-cout-enter-either-1-or-2-if-kind-1-p_clientsi-new-brasstemp-tempnum-tempbal-else-double-tmax-trate-cout-enter-the-overdraft-limit-cin-tmax-cout-enter-the-interest-rate-as-a-decimal-fraction-cin-trate-p_clientsi-new-brassplustemp-tempnum-tempbal-tmax-trate-while-cinget-n-continue-cout-endl-for-int-i-0-i-clients-i-p_clientsi-viewacct-cout-endl-for-int-i-0-i-clients-i-delete-p_clientsi-free-memory-cout-donen-code-to-keep-window-open-if-cin-cinclear-while-cinget-n-continue-return-0"><div class="highlight"><pre><span></span><code><span class="n">演示虚方法</span><span class="err">：</span>
<span class="c1">// usebrass2.cpp -- polymorphic example</span>
<span class="c1">// compile with brass.cpp</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;brass.h&quot;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">CLIENTS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">;</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="w">   </span><span class="n">Brass</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p_clients</span><span class="p">[</span><span class="n">CLIENTS</span><span class="p">];</span>
<span class="w">   </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<span class="w">   </span><span class="kt">long</span><span class="w"> </span><span class="n">tempnum</span><span class="p">;</span>
<span class="w">   </span><span class="kt">double</span><span class="w"> </span><span class="n">tempbal</span><span class="p">;</span>
<span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="n">kind</span><span class="p">;</span>

<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter client&#39;s name: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter client&#39;s account number: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tempnum</span><span class="p">;</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter opening balance: $&quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tempbal</span><span class="p">;</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter 1 for Brass Account or &quot;</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;2 for BrassPlus Account: &quot;</span><span class="p">;</span>

<span class="w">       </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">kind</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;2&#39;</span><span class="p">))</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="s">&quot;Enter either 1 or 2: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">)</span>
<span class="w">           </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">tempnum</span><span class="p">,</span><span class="w"> </span><span class="n">tempbal</span><span class="p">);</span>
<span class="w">       </span><span class="k">else</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">tmax</span><span class="p">,</span><span class="w"> </span><span class="n">trate</span><span class="p">;</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter the overdraft limit: $&quot;</span><span class="p">;</span>

<span class="w">           </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tmax</span><span class="p">;</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter the interest rate &quot;</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;as a decimal fraction: &quot;</span><span class="p">;</span>
<span class="w">           </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">trate</span><span class="p">;</span>

<span class="w">           </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BrassPlus</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">tempnum</span><span class="p">,</span><span class="w"> </span><span class="n">tempbal</span><span class="p">,</span>
<span class="w">                                        </span><span class="n">tmax</span><span class="p">,</span><span class="w"> </span><span class="n">trate</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">continue</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">   </span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">ViewAcct</span><span class="p">();</span>
<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="k">delete</span><span class="w"> </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w">  </span><span class="c1">// free memory</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Done.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w">        </span>
<span class="w"> </span><span class="cm">/* code to keep window open</span>
<span class="cm">   if (!cin)</span>
<span class="cm">      cin.clear();</span>
<span class="cm">   while (cin.get() != &#39;\n&#39;)</span>
<span class="cm">      continue;</span>
<span class="cm">*/</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#usebrass2cpp-polymorphic-example-compile-with-brasscpp-include-iostream-include-string-include-brassh-const-int-clients-4-int-main-using-stdcin-using-stdcout-using-stdendl-brass-p_clientsclients-stdstring-temp-long-tempnum-double-tempbal-char-kind-for-int-i-0-i-clients-i-cout-enter-clients-name-getlinecintemp-cout-enter-clients-account-number-cin-tempnum-cout-enter-opening-balance-cin-tempbal-cout-enter-1-for-brass-account-or-2-for-brassplus-account-while-cin-kind-kind-1-kind-2-cout-enter-either-1-or-2-if-kind-1-p_clientsi-new-brasstemp-tempnum-tempbal-else-double-tmax-trate-cout-enter-the-overdraft-limit-cin-tmax-cout-enter-the-interest-rate-as-a-decimal-fraction-cin-trate-p_clientsi-new-brassplustemp-tempnum-tempbal-tmax-trate-while-cinget-n-continue-cout-endl-for-int-i-0-i-clients-i-p_clientsi-viewacct-cout-endl-for-int-i-0-i-clients-i-delete-p_clientsi-free-memory-cout-donen-code-to-keep-window-open-if-cin-cinclear-while-cinget-n-continue-return-0" title="Permanent link">&para;</a></h2>
<p>分析：
1）<strong>关键字virtual</strong>只用于类声明的方法原型中，而没有用于方法定义中
<div class="highlight"><pre><span></span><code><span class="n">看这两个虚函数的方法定义</span><span class="err">：</span>
<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="w"> </span><span class="p">{...}</span>
<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{...}</span>
<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{...}</span>
<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="w"> </span><span class="p">{...}</span>
</code></pre></div></p>
<p>2）派生类不能<strong>直接访问</strong>基类的私有数据，必须使用<strong>基类的公有方法</strong>，访问的方式取决于方法</p>
<blockquote>
<p>[1] 派生类构造函数在初始化 ==基类私有数据== 时，采用的是==成员初始化列表==的语法
<div class="highlight"><pre><span></span><code><span class="c1">// BrassPlus Methods</span>
<span class="n">形式</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="p">,</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>
<span class="o">-----------------------------------------------------------------------</span>
<span class="n">形式</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">ba</span><span class="p">)</span><span class="w">   </span><span class="c1">// uses implicit copy constructor</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">在这里</span><span class="err">：</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="w"> </span><span class="n">就是对上文</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal的类对象概括</span>
</code></pre></div></p>
<p>[2] 非构造函数不能使用初始化列表，但是派生类方法<strong>可以调用公有的基类方法</strong>
<div class="highlight"><pre><span></span><code><span class="c1">// redefine how ViewAcct() works</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">BrassPlus::ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="w">    </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w">   </span><span class="c1">// display base portion             // 演示 基类成员信息</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Maximum loan: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">            </span><span class="c1">// 演示 派生类新增成员信息</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Owed to bank: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">owesBank</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">           </span><span class="c1">// 演示 派生类新增成员信息</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span><span class="w">  </span><span class="c1">// ###.### format</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Loan Rate: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;%</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w">            </span><span class="c1">// 演示 派生类新增成员信息</span>
<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// redefine how Withdraw() works</span>
<span class="kt">void</span><span class="w"> </span><span class="nf">BrassPlus::Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">format</span><span class="w"> </span><span class="n">initialState</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">setFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">precis</span><span class="w"> </span><span class="n">prec</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Balance</span><span class="p">();</span><span class="w">                                         </span><span class="c1">// 演示 基类成员信息</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="w">        </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span><span class="w">                                       </span><span class="c1">// 演示 基类成员信息</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">owesBank</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">bal</span><span class="p">;</span>
<span class="w">        </span><span class="n">owesBank</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rate</span><span class="p">);</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bank advance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Finance charge: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">Deposit</span><span class="p">(</span><span class="n">advance</span><span class="p">);</span>
<span class="w">        </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span><span class="w">                                       </span><span class="c1">// 演示 基类成员信息</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Credit limit exceeded. Transaction cancelled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">restore</span><span class="p">(</span><span class="n">initialState</span><span class="p">,</span><span class="w"> </span><span class="n">prec</span><span class="p">);</span>
<span class="p">}</span>

<span class="o">--------------------------------------------------------------------------------------------</span>
<span class="n">解释</span><span class="err">：</span><span class="n">关于作用域解析运算符</span><span class="o">::</span><span class="n">的问题</span>

<span class="err">（</span><span class="mi">1</span><span class="err">）</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">();</span><span class="w">   </span><span class="c1">// display base portion</span>
<span class="n">说明</span><span class="err">：</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="n">显示新增的BrassPlus数据成员</span><span class="err">，</span><span class="n">并调用基类方法</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="n">来显示基类数据成员</span>
<span class="n">这里必须加上</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="err">，</span><span class="n">因为</span><span class="w"> </span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="n">函数存在二义性</span><span class="err">！</span>

<span class="err">（</span><span class="mi">2</span><span class="err">）</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Balance</span><span class="p">();</span><span class="w">   </span><span class="c1">// 演示 基类成员信息</span>
<span class="n">说明1</span><span class="err">：</span><span class="w"> </span><span class="n">使用基类的</span><span class="w"> </span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="n">函数确定余额</span><span class="err">，</span><span class="n">因为派生类没有重新定义该方法</span><span class="err">，</span><span class="n">代码不必对</span><span class="w"> </span><span class="n">balance</span><span class="p">()</span><span class="w"> </span><span class="n">使用</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="err">【</span><span class="n">不存在二义性</span><span class="err">！】</span>
<span class="n">说明2</span><span class="err">：</span><span class="w"> </span><span class="n">这里能够自动识别出来是</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="n">还因为</span><span class="err">：</span><span class="n">派生类能调用基类的公有方法</span><span class="err">！</span>
</code></pre></div></p>
<p>[3] 多态性演示：
![[Pasted image 20230803150341.png]]
<div class="highlight"><pre><span></span><code><span class="n">演示虚方法</span><span class="err">：</span>
<span class="c1">// usebrass2.cpp -- polymorphic example</span>
<span class="c1">// compile with brass.cpp</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;brass.h&quot;</span>
<span class="k">const</span><span class="w"> </span><span class="kt">int</span><span class="w"> </span><span class="n">CLIENTS</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">4</span><span class="p">;</span>
<span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cin</span><span class="p">;</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="w">   </span><span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>

<span class="w">   </span><span class="n">Brass</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">p_clients</span><span class="p">[</span><span class="n">CLIENTS</span><span class="p">];</span><span class="o">-----------------------------------</span><span class="w"> </span><span class="c1">// 建立 指向Brass类型的指针 数组</span>
<span class="w">   </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">temp</span><span class="p">;</span>
<span class="w">   </span><span class="kt">long</span><span class="w"> </span><span class="n">tempnum</span><span class="p">;</span>
<span class="w">   </span><span class="kt">double</span><span class="w"> </span><span class="n">tempbal</span><span class="p">;</span>
<span class="w">   </span><span class="kt">char</span><span class="w"> </span><span class="n">kind</span><span class="p">;</span>

<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter client&#39;s name: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">getline</span><span class="p">(</span><span class="n">cin</span><span class="p">,</span><span class="n">temp</span><span class="p">);</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter client&#39;s account number: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tempnum</span><span class="p">;</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter opening balance: $&quot;</span><span class="p">;</span>
<span class="w">       </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tempbal</span><span class="p">;</span>

<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter 1 for Brass Account or &quot;</span>
<span class="w">            </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;2 for BrassPlus Account: &quot;</span><span class="p">;</span>

<span class="w">       </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="p">(</span><span class="n">kind</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="w"> </span><span class="o">&amp;&amp;</span><span class="w"> </span><span class="n">kind</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;2&#39;</span><span class="p">))</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="s">&quot;Enter either 1 or 2: &quot;</span><span class="p">;</span>
<span class="w">       </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">kind</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="sc">&#39;1&#39;</span><span class="p">)</span>
<span class="w">           </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">Brass</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">tempnum</span><span class="p">,</span><span class="w"> </span><span class="n">tempbal</span><span class="p">);</span><span class="o">------</span><span class="c1">// 新建 Brass对象</span>
<span class="w">       </span><span class="k">else</span>
<span class="w">       </span><span class="p">{</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">tmax</span><span class="p">,</span><span class="w"> </span><span class="n">trate</span><span class="p">;</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter the overdraft limit: $&quot;</span><span class="p">;</span>

<span class="w">           </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">tmax</span><span class="p">;</span>
<span class="w">           </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Enter the interest rate &quot;</span>
<span class="w">                </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;as a decimal fraction: &quot;</span><span class="p">;</span>
<span class="w">           </span><span class="n">cin</span><span class="w"> </span><span class="o">&gt;&gt;</span><span class="w"> </span><span class="n">trate</span><span class="p">;</span>

<span class="w">           </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="n">BrassPlus</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span><span class="w"> </span><span class="n">tempnum</span><span class="p">,</span><span class="w"> </span><span class="n">tempbal</span><span class="p">,</span><span class="o">---</span><span class="c1">// 新建 BrassPlus对象</span>
<span class="w">                                        </span><span class="n">tmax</span><span class="p">,</span><span class="w"> </span><span class="n">trate</span><span class="p">);</span>
<span class="w">        </span><span class="p">}</span>

<span class="w">        </span><span class="k">while</span><span class="w"> </span><span class="p">(</span><span class="n">cin</span><span class="p">.</span><span class="n">get</span><span class="p">()</span><span class="w"> </span><span class="o">!=</span><span class="w"> </span><span class="sc">&#39;\n&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="k">continue</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">   </span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">ViewAcct</span><span class="p">();</span><span class="o">---------------------------------</span><span class="c1">// 输出 数组对象（Brass + BrassPlus）</span>
<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span>
<span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="k">delete</span><span class="w"> </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">];</span><span class="w">     </span><span class="n">free</span><span class="w"> </span><span class="n">memory</span><span class="o">----------------------</span><span class="c1">// 删除 数组对象（Brass + BrassPlus）</span>
<span class="w">   </span><span class="p">}</span>
<span class="w">   </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Done.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span><span class="w">        </span>
<span class="w"> </span><span class="cm">/* code to keep window open</span>
<span class="cm">   if (!cin)</span>
<span class="cm">      cin.clear();</span>
<span class="cm">   while (cin.get() != &#39;\n&#39;)</span>
<span class="cm">      continue;</span>
<span class="cm">*/</span>
<span class="w">   </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
多态性的体现在于：
<div class="highlight"><pre><span></span><code><span class="w">   </span><span class="k">for</span><span class="w"> </span><span class="p">(</span><span class="kt">int</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="n">CLIENTS</span><span class="p">;</span><span class="w"> </span><span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="w">   </span><span class="p">{</span>
<span class="w">       </span><span class="n">p_clients</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">-&gt;</span><span class="n">ViewAcct</span><span class="p">();</span><span class="o">---------------------------------</span><span class="c1">// 输出 数组对象（Brass + BrassPlus）</span>
<span class="w">       </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">   </span><span class="p">}</span>
</code></pre></div>
<strong>如果数组成员指向的是Brass对象，则调动 Brass : : ViewAcct( ) ；如果指向的是BrassPlus对象，则调用 BrassPlus : : ViewAcct( )</strong>
ps: 如果 BrassPlus : : Acct( )没有被声明为虚的，则在任何情况下都是按照指针类型处理，即调用的是 Brass : : ViewAcct( )</p>
<p>[4] 为什么需要设置虚析构函数：
如果指针指向的是BrassPlus对象，将调用BrassPlus的析构函数，然后自动调用基类的析构函数
【使用虚析构函数可以确保正确的析构函数序列被调用，必须设置！】</p>
</blockquote>
<h3 id="3">3）静态联编和动态联编<a class="headerlink" href="#3" title="Permanent link">&para;</a></h3>
<h5 id="1_1">（1）引入：<a class="headerlink" href="#1_1" title="Permanent link">&para;</a></h5>
<p>函数名联编：将源代码中的函数调用解释为执行特定的函数代码块
静态联编：在编译过程中进行的联编（static binding）
动态联编：使用哪一个函数是不能在编译时确定的，因为编译器不知道用户将选择哪种类型的对象。编译器必须生成能够在程序运行时选择正确的虚函数的代码（dynamic binding）</p>
<h5 id="2_1">（2）指针和引用类型的兼容性：<a class="headerlink" href="#2_1" title="Permanent link">&para;</a></h5>
<p>【1】通常 c++ 不允许将一种类型的地址赋给另一种类型的指针，也不允许一种类型的引用指向另一种类型
<div class="highlight"><pre><span></span><code><span class="kt">double</span><span class="w"> </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">2.5</span><span class="p">;</span>
<span class="kt">int</span><span class="o">*</span><span class="w"> </span><span class="n">pi</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">x</span><span class="p">;</span><span class="w">  </span><span class="c1">//invalid!  double -&gt; int</span>
<span class="kt">long</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rl</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">x</span><span class="p">;</span><span class="w">  </span><span class="c1">//invalid!  double -&gt; long</span>
</code></pre></div></p>
<p>【2】指向<strong>基类的引用or指针</strong>可以引用<strong>派生类对象</strong>，而不必进行显示类型转换——向上强制转换(upcasting)
<div class="highlight"><pre><span></span><code><span class="n">BrassPlus</span><span class="w"> </span><span class="n">hbx</span><span class="p">(</span><span class="s">&quot;shhss&quot;</span><span class="p">,</span><span class="mi">498888</span><span class="p">,</span><span class="mi">549</span><span class="p">);</span>
<span class="n">Brass</span><span class="o">*</span><span class="w"> </span><span class="n">pb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">&amp;</span><span class="n">hbx</span><span class="p">;</span><span class="w">  </span><span class="c1">//ok</span>
<span class="n">Brass</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rb</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">hbx</span><span class="p">;</span><span class="w">   </span><span class="c1">//ok</span>

<span class="n">将</span><span class="w"> </span><span class="n">派生类引用or指针</span><span class="w"> </span><span class="n">转换为</span><span class="w"> </span><span class="n">基类引用or指针</span><span class="w"> </span><span class="n">被称为</span><span class="err">：</span><span class="n">向上强制转换</span><span class="p">(</span><span class="n">upcasting</span><span class="p">)</span><span class="err">，</span><span class="n">这使得公有继承不需要进行显式类型转换</span>
</code></pre></div>
![[Pasted image 20230804102112.png]]</p>
<p>【3】将 <strong>基类指针or引用</strong> 转换为 <strong>派生类指针or引用</strong> ——向下强制转换(downcasting)，必须显式类型转换！</p>
<p>【4】对于使用基类引用or指针作为参数的函数调用，将进行upcasting
![[Pasted image 20230804102524.png]]
说明：按值传递只将BrassPlus对象的Brass部分传递给函数 fv( ) 。但随引用和指针发生的upcasting导致fr( )与fp( ) 分别为Brass对象和BrassPlus对象使用Brass : : ViewAcct() 和 BrassPlus : : ViewAcct()</p>
<h5 id="3_1">（3）虚函数工作原理：<a class="headerlink" href="#3_1" title="Permanent link">&para;</a></h5>
<p>![[Pasted image 20230804103849.png]]
![[Pasted image 20230804103905.png]]
![[Pasted image 20230804104020.png]]</p>
<h5 id="4">（4）虚函数的注意事项：<a class="headerlink" href="#4" title="Permanent link">&para;</a></h5>
<p>【基础知识】
![[Pasted image 20230804104253.png]]</p>
<hr />
<p>【深入了解】
（1）构造函数 </p>
<blockquote>
<p><strong>构造函数不能是虚函数</strong>
创建派生类对象时，将调用派生类的构造函数，而不是基类的构造函数，然后，派生类的构造函数将使用基类的一个构造函数，这种顺序不是继承机制</p>
</blockquote>
<p>（2）析构函数</p>
<blockquote>
<p><strong>析构函数必须是虚函数</strong>（通常应给基类加一个虚析构函数，即使它并不需要析构）
![[Pasted image 20230804104802.png]]</p>
</blockquote>
<p>（3）友元</p>
<blockquote>
<p><strong>友元不能是虚函数，因为友元不是类成员，只有成员才能是虚函数</strong></p>
</blockquote>
<p>（4）重新定义将隐藏方法
![[Pasted image 20230804105132.png]]
![[Pasted image 20230804105320.png]]
![[Pasted image 20230804105355.png]]
![[Pasted image 20230804105408.png]]</p>
<h3 id="4protected">4）访问控制：protected<a class="headerlink" href="#4protected" title="Permanent link">&para;</a></h3>
<p><strong>（1）关键字protected与private相似，在类外只有用公有类成员来访问protected部分的类成员
（2）private与protected之间的区别：派生类成员可以直接访问基类的protected成员；但不能直接访问基类的私有成员</strong>
![[Pasted image 20230804105727.png]]
![[Pasted image 20230804105815.png]]</p>
<h3 id="5abstract-base-classabc">5）抽象基类（abstract base class，ABC）<a class="headerlink" href="#5abstract-base-classabc" title="Permanent link">&para;</a></h3>
<h6 id="1_2">（1）引入：<a class="headerlink" href="#1_2" title="Permanent link">&para;</a></h6>
<p>![[Pasted image 20230804111915.png]]
![[Pasted image 20230804112147.png]]
![[Pasted image 20230804112158.png]]</p>
<hr />
<p>![[Pasted image 20230804112243.png]]</p>
<h6 id="2_2">（2）示例应用：<a class="headerlink" href="#2_2" title="Permanent link">&para;</a></h6>
<h2 id="acctabch-bank-account-classes-ifndef-acctabc_h_-define-acctabc_h_-include-iostream-include-string-abstract-base-class-class-acctabc-private-stdstring-fullname-long-acctnum-double-balance-protected-struct-formatting-stdios_basefmtflags-flag-stdstreamsize-pr-const-stdstring-fullname-const-return-fullname-long-acctnum-const-return-acctnum-formatting-setformat-const-void-restoreformatting-f-const-public-acctabcconst-stdstring-s-nullbody-long-an-1-double-bal-00-void-depositdouble-amt-virtual-void-withdrawdouble-amt-0-pure-virtual-function-double-balance-const-return-balance-virtual-void-viewacct-const-0-pure-virtual-function-virtual-acctabc-brass-account-class-class-brass-public-acctabc-public-brassconst-stdstring-s-nullbody-long-an-1-double-bal-00-acctabcs-an-bal-abc-virtual-void-withdrawdouble-amt-abc-virtual-void-viewacct-const-abc-virtual-brass-brass-plus-account-class-class-brassplus-public-acctabc-private-double-maxloan-double-rate-double-owesbank-3-public-brassplusconst-stdstring-s-nullbody-long-an-1-double-bal-00-double-ml-500-double-r-010-abc-brassplusconst-brass-ba-double-ml-500-double-r-01-virtual-void-viewacctconst-abc-virtual-void-withdrawdouble-amt-abc-void-resetmaxdouble-m-maxloan-m-void-resetratedouble-r-rate-r-void-resetowes-owesbank-0-3-endif"><div class="highlight"><pre><span></span><code><span class="c1">// acctabc.h  -- bank account classes</span>
<span class="cp">#ifndef ACCTABC_H_</span>
<span class="cp">#define ACCTABC_H_</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;string&gt;</span>

<span class="c1">// Abstract Base Class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">AcctABC</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="n">fullName</span><span class="p">;</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="n">acctNum</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">balance</span><span class="p">;</span>

<span class="k">protected</span><span class="o">:</span>
<span class="w">    </span><span class="k">struct</span><span class="w"> </span><span class="nc">Formatting</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">         </span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="o">::</span><span class="n">fmtflags</span><span class="w"> </span><span class="n">flag</span><span class="p">;</span>
<span class="w">         </span><span class="n">std</span><span class="o">::</span><span class="n">streamsize</span><span class="w"> </span><span class="n">pr</span><span class="p">;</span>
<span class="w">    </span><span class="p">};</span>
<span class="w">    </span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="nf">FullName</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">fullName</span><span class="p">;}</span>
<span class="w">    </span><span class="kt">long</span><span class="w"> </span><span class="nf">AcctNum</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">acctNum</span><span class="p">;}</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="nf">SetFormat</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Restore</span><span class="p">(</span><span class="n">Formatting</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="k">const</span><span class="p">;</span>

<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">AcctABC</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Nullbody&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">                </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">);</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">Deposit</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="w"> </span><span class="p">;</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="o">--------------------------------------</span><span class="w"> </span><span class="n">pure</span><span class="w"> </span><span class="k">virtual</span><span class="w"> </span><span class="n">function</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="p">{</span><span class="k">return</span><span class="w"> </span><span class="n">balance</span><span class="p">;};</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">     </span><span class="o">--------------------------------------</span><span class="w"> </span><span class="n">pure</span><span class="w"> </span><span class="k">virtual</span><span class="w"> </span><span class="n">function</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">AcctABC</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span><span class="w">                  </span><span class="o">--------------------------------------</span><span class="w"> </span><span class="n">别忘了虚析构函数</span>
<span class="p">};</span>

<span class="c1">// Brass Account Class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">Brass</span><span class="w"> </span><span class="o">:</span><span class="k">public</span><span class="w"> </span><span class="n">AcctABC</span>
<span class="p">{</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">Brass</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Nullbody&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">AcctABC</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="p">}</span><span class="w">     </span><span class="o">------------------------</span><span class="n">普通的就直接继承ABC</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">);</span><span class="w">                     </span><span class="o">------------------------</span><span class="n">继承ABC的纯虚函数</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">虚函数</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="p">;</span><span class="w">                         </span><span class="o">------------------------</span><span class="n">继承ABC的纯虚函数</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">虚函数</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="o">~</span><span class="n">Brass</span><span class="p">()</span><span class="w"> </span><span class="p">{}</span>
<span class="p">};</span>

<span class="c1">//Brass Plus Account Class</span>
<span class="k">class</span><span class="w"> </span><span class="nc">BrassPlus</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">AcctABC</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">maxLoan</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">rate</span><span class="p">;</span>
<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">owesBank</span><span class="p">;</span><span class="w">                      </span><span class="o">----------------------------------------</span><span class="w"> </span><span class="n">新增</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">个数据成员</span>

<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s">&quot;Nullbody&quot;</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span>
<span class="w">            </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.10</span><span class="p">);</span><span class="w">                              </span><span class="o">------------------------</span><span class="n">普通的就直接继承ABC</span>
<span class="w">    </span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.1</span><span class="p">);</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="nf">ViewAcct</span><span class="p">()</span><span class="k">const</span><span class="p">;</span><span class="w">                          </span><span class="o">------------------------</span><span class="n">继承ABC的纯虚函数</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">虚函数</span>
<span class="w">    </span><span class="k">virtual</span><span class="w"> </span><span class="kt">void</span><span class="w"> </span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">);</span><span class="w">                     </span><span class="o">------------------------</span><span class="n">继承ABC的纯虚函数</span><span class="w"> </span><span class="o">=&gt;</span><span class="w"> </span><span class="n">虚函数</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">ResetMax</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">m</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">m</span><span class="p">;</span><span class="w"> </span><span class="p">}</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="n">ResetRate</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span><span class="w"> </span><span class="p">};</span>
<span class="w">    </span><span class="kt">void</span><span class="w"> </span><span class="nf">ResetOwes</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w"> </span><span class="p">}</span><span class="w">                     </span><span class="o">------------------------</span><span class="n">新增</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="n">个派生类成员函数</span>
<span class="p">};</span>
<span class="cp">#endif</span>
</code></pre></div><a class="headerlink" href="#acctabch-bank-account-classes-ifndef-acctabc_h_-define-acctabc_h_-include-iostream-include-string-abstract-base-class-class-acctabc-private-stdstring-fullname-long-acctnum-double-balance-protected-struct-formatting-stdios_basefmtflags-flag-stdstreamsize-pr-const-stdstring-fullname-const-return-fullname-long-acctnum-const-return-acctnum-formatting-setformat-const-void-restoreformatting-f-const-public-acctabcconst-stdstring-s-nullbody-long-an-1-double-bal-00-void-depositdouble-amt-virtual-void-withdrawdouble-amt-0-pure-virtual-function-double-balance-const-return-balance-virtual-void-viewacct-const-0-pure-virtual-function-virtual-acctabc-brass-account-class-class-brass-public-acctabc-public-brassconst-stdstring-s-nullbody-long-an-1-double-bal-00-acctabcs-an-bal-abc-virtual-void-withdrawdouble-amt-abc-virtual-void-viewacct-const-abc-virtual-brass-brass-plus-account-class-class-brassplus-public-acctabc-private-double-maxloan-double-rate-double-owesbank-3-public-brassplusconst-stdstring-s-nullbody-long-an-1-double-bal-00-double-ml-500-double-r-010-abc-brassplusconst-brass-ba-double-ml-500-double-r-01-virtual-void-viewacctconst-abc-virtual-void-withdrawdouble-amt-abc-void-resetmaxdouble-m-maxloan-m-void-resetratedouble-r-rate-r-void-resetowes-owesbank-0-3-endif" title="Permanent link">&para;</a></h2>
<h2 id="acctabccpp-bank-account-class-methods-include-iostream-include-acctabch-using-stdcout-using-stdios_base-using-stdendl-using-stdstring-abstract-base-class-acctabcacctabcconst-string-s-long-an-double-bal-abc-fullname-s-acctnum-an-balance-bal-void-acctabcdepositdouble-amt-abc-if-amt-0-cout-negative-deposit-not-allowed-deposit-is-cancelledn-else-balance-amt-void-acctabcwithdrawdouble-amt-balance-amt-protected-methods-for-formatting-acctabcformatting-acctabcsetformat-const-set-up-format-formatting-f-fflag-coutsetfios_basefixed-ios_basefloatfield-fpr-coutprecision2-return-f-void-acctabcrestoreformatting-f-const-coutsetffflag-ios_basefloatfield-coutprecisionfpr-brass-methods-void-brasswithdrawdouble-amt-1-if-amt-0-cout-withdrawal-amount-must-be-positive-withdrawal-canceledn-else-if-amt-balance-abcbalance-acctabcwithdrawamt-abcwithdraw-else-cout-withdrawal-amount-of-amt-exceeds-your-balancen-withdrawal-canceledn-void-brassviewacct-const-1-formatting-f-setformat-cout-brass-client-fullname-endl-abcfullname-cout-account-number-acctnum-endl-abcacctnum-cout-balance-balance-endl-abcbalance-restoref-brassplus-methods-brassplusbrassplusconst-string-s-long-an-double-bal-double-ml-double-r-acctabcs-an-bal-maxloan-ml-owesbank-00-rate-r-brassplusbrassplusconst-brass-ba-double-ml-double-r-acctabcba-uses-implicit-copy-constructor-maxloan-ml-owesbank-00-rate-r-void-brassplusviewacct-const-formatting-f-setformat-cout-brassplus-client-fullname-endl-cout-account-number-acctnum-endl-cout-balance-balance-endl-cout-maximum-loan-maxloan-endl-cout-owed-to-bank-owesbank-endl-coutprecision3-cout-loan-rate-100-rate-n-restoref-void-brasspluswithdrawdouble-amt-formatting-f-setformat-double-bal-balance-if-amt-bal-acctabcwithdrawamt-else-if-amt-bal-maxloan-owesbank-double-advance-amt-bal-owesbank-advance-10-rate-cout-bank-advance-advance-endl-cout-finance-charge-advance-rate-endl-depositadvance-acctabcwithdrawamt-else-cout-credit-limit-exceeded-transaction-cancelledn-restoref"><div class="highlight"><pre><span></span><code><span class="c1">// acctabc.cpp -- bank account class methods</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;iostream&gt;</span>
<span class="cp">#include</span><span class="w"> </span><span class="cpf">&quot;acctabc.h&quot;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">cout</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">ios_base</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">endl</span><span class="p">;</span>
<span class="k">using</span><span class="w"> </span><span class="n">std</span><span class="o">::</span><span class="n">string</span><span class="p">;</span>

<span class="c1">// Abstract Base Class</span>
<span class="n">AcctABC</span><span class="o">::</span><span class="n">AcctABC</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span><span class="o">--------------------------</span><span class="n">ABC抽象基类的初始化函数</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">fullName</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">s</span><span class="p">;</span>
<span class="w">    </span><span class="n">acctNum</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">an</span><span class="p">;</span>
<span class="w">    </span><span class="n">balance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">bal</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Deposit</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="o">------------------------------------------------</span><span class="n">ABC抽象基类的某成员函数</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Negative deposit not allowed; &quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;deposit is cancelled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">balance</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">amt</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">balance</span><span class="w"> </span><span class="o">-=</span><span class="w"> </span><span class="n">amt</span><span class="p">;</span>
<span class="p">}</span>

<span class="c1">// protected methods for formatting</span>
<span class="n">AcctABC</span><span class="o">::</span><span class="n">Formatting</span><span class="w"> </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">SetFormat</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w"> </span><span class="c1">// set up ###.## format</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="n">flag</span><span class="w"> </span><span class="o">=</span>
<span class="w">        </span><span class="n">cout</span><span class="p">.</span><span class="n">setf</span><span class="p">(</span><span class="n">ios_base</span><span class="o">::</span><span class="n">fixed</span><span class="p">,</span><span class="w"> </span><span class="n">ios_base</span><span class="o">::</span><span class="n">floatfield</span><span class="p">);</span>
<span class="w">    </span><span class="n">f</span><span class="p">.</span><span class="n">pr</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="n">f</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Restore</span><span class="p">(</span><span class="n">Formatting</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">f</span><span class="p">)</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">setf</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">flag</span><span class="p">,</span><span class="w"> </span><span class="n">ios_base</span><span class="o">::</span><span class="n">floatfield</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="n">f</span><span class="p">.</span><span class="n">pr</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// Brass methods</span>
<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span><span class="o">---------------------------------------------</span><span class="n">派生类1的某成员函数</span><span class="err">（</span><span class="n">虚函数</span><span class="err">）</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal amount must be positive; &quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;withdrawal canceled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">Balance</span><span class="p">())</span><span class="o">-----------------------------------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法Balance</span><span class="p">()</span>
<span class="w">        </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span><span class="o">----------------------------------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以调用基类方法Withdraw</span><span class="p">()</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal amount of $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">amt</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot; exceeds your balance.</span><span class="se">\n</span><span class="s">&quot;</span>
<span class="w">             </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Withdrawal canceled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">Brass</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">    </span><span class="o">---------------------------------------------</span><span class="n">派生类1的某成员函数</span><span class="err">（</span><span class="n">虚函数</span><span class="err">）</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Brass Client: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">FullName</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">     </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法FullName</span><span class="p">()</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Account Number: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">AcctNum</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">    </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法AcctNum</span><span class="p">()</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">          </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法Balance</span><span class="p">()</span>
<span class="w">    </span><span class="n">Restore</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="p">}</span>

<span class="c1">// BrassPlus Methods</span>
<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">string</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="kt">long</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="p">,</span>
<span class="w">           </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">AcctABC</span><span class="p">(</span><span class="n">s</span><span class="p">,</span><span class="w"> </span><span class="n">an</span><span class="p">,</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">BrassPlus</span><span class="o">::</span><span class="n">BrassPlus</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">Brass</span><span class="w"> </span><span class="o">&amp;</span><span class="w"> </span><span class="n">ba</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">ml</span><span class="p">,</span><span class="w"> </span><span class="kt">double</span><span class="w"> </span><span class="n">r</span><span class="p">)</span>
<span class="w">           </span><span class="o">:</span><span class="w"> </span><span class="n">AcctABC</span><span class="p">(</span><span class="n">ba</span><span class="p">)</span><span class="w">   </span><span class="c1">// uses implicit copy constructor</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">ml</span><span class="p">;</span>
<span class="w">    </span><span class="n">owesBank</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.0</span><span class="p">;</span>
<span class="w">    </span><span class="n">rate</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">r</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetFormat</span><span class="p">();</span>

<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;BrassPlus Client: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">FullName</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Account Number: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">AcctNum</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Maximum loan: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Owed to bank: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">owesBank</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">    </span><span class="n">cout</span><span class="p">.</span><span class="n">precision</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Loan Rate: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="mi">100</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;%</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Restore</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">void</span><span class="w"> </span><span class="n">BrassPlus</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="kt">double</span><span class="w"> </span><span class="n">amt</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetFormat</span><span class="p">();</span>

<span class="w">    </span><span class="kt">double</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">Balance</span><span class="p">();</span>
<span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="p">)</span>
<span class="w">        </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">&lt;=</span><span class="w"> </span><span class="n">bal</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">maxLoan</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">owesBank</span><span class="p">)</span>
<span class="w">    </span><span class="p">{</span>
<span class="w">        </span><span class="kt">double</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">amt</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">bal</span><span class="p">;</span>
<span class="w">        </span><span class="n">owesBank</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="p">(</span><span class="mf">1.0</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="n">rate</span><span class="p">);</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Bank advance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Finance charge: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">advance</span><span class="w"> </span><span class="o">*</span><span class="w"> </span><span class="n">rate</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span>
<span class="w">        </span><span class="n">Deposit</span><span class="p">(</span><span class="n">advance</span><span class="p">);</span>
<span class="w">        </span><span class="n">AcctABC</span><span class="o">::</span><span class="n">Withdraw</span><span class="p">(</span><span class="n">amt</span><span class="p">);</span>
<span class="w">    </span><span class="p">}</span>
<span class="w">    </span><span class="k">else</span>
<span class="w">        </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Credit limit exceeded. Transaction cancelled.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="n">Restore</span><span class="p">(</span><span class="n">f</span><span class="p">);</span><span class="w"> </span>
<span class="p">}</span>
</code></pre></div><a class="headerlink" href="#acctabccpp-bank-account-class-methods-include-iostream-include-acctabch-using-stdcout-using-stdios_base-using-stdendl-using-stdstring-abstract-base-class-acctabcacctabcconst-string-s-long-an-double-bal-abc-fullname-s-acctnum-an-balance-bal-void-acctabcdepositdouble-amt-abc-if-amt-0-cout-negative-deposit-not-allowed-deposit-is-cancelledn-else-balance-amt-void-acctabcwithdrawdouble-amt-balance-amt-protected-methods-for-formatting-acctabcformatting-acctabcsetformat-const-set-up-format-formatting-f-fflag-coutsetfios_basefixed-ios_basefloatfield-fpr-coutprecision2-return-f-void-acctabcrestoreformatting-f-const-coutsetffflag-ios_basefloatfield-coutprecisionfpr-brass-methods-void-brasswithdrawdouble-amt-1-if-amt-0-cout-withdrawal-amount-must-be-positive-withdrawal-canceledn-else-if-amt-balance-abcbalance-acctabcwithdrawamt-abcwithdraw-else-cout-withdrawal-amount-of-amt-exceeds-your-balancen-withdrawal-canceledn-void-brassviewacct-const-1-formatting-f-setformat-cout-brass-client-fullname-endl-abcfullname-cout-account-number-acctnum-endl-abcacctnum-cout-balance-balance-endl-abcbalance-restoref-brassplus-methods-brassplusbrassplusconst-string-s-long-an-double-bal-double-ml-double-r-acctabcs-an-bal-maxloan-ml-owesbank-00-rate-r-brassplusbrassplusconst-brass-ba-double-ml-double-r-acctabcba-uses-implicit-copy-constructor-maxloan-ml-owesbank-00-rate-r-void-brassplusviewacct-const-formatting-f-setformat-cout-brassplus-client-fullname-endl-cout-account-number-acctnum-endl-cout-balance-balance-endl-cout-maximum-loan-maxloan-endl-cout-owed-to-bank-owesbank-endl-coutprecision3-cout-loan-rate-100-rate-n-restoref-void-brasspluswithdrawdouble-amt-formatting-f-setformat-double-bal-balance-if-amt-bal-acctabcwithdrawamt-else-if-amt-bal-maxloan-owesbank-double-advance-amt-bal-owesbank-advance-10-rate-cout-bank-advance-advance-endl-cout-finance-charge-advance-rate-endl-depositadvance-acctabcwithdrawamt-else-cout-credit-limit-exceeded-transaction-cancelledn-restoref" title="Permanent link">&para;</a></h2>
<p><strong>总结</strong>：
（0）ABC基类中的纯虚函数声明格式：
<div class="highlight"><pre><span></span><code><span class="k">virtual</span><span class="w"> </span><span class="n">Func_Name</span><span class="p">(</span><span class="n">arguments1</span><span class="w"> </span><span class="p">,</span><span class="w"> </span><span class="p">...)</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">    </span><span class="c1">// = 0 ：a pure virtual function</span>
</code></pre></div>
（1）ABC作为基类的目的是：</p>
<blockquote>
<p>将共有元素、方法集中包装在一起，方便后续基于此进行个性化定制（抽象类 -&gt; 具体类）</p>
</blockquote>
<p>（2）派生类继承ABC基类时：</p>
<blockquote>
<p>【1】非“纯虚函数”继承：类中声明不需要virtual，定义格式同正常继承</p>
<p>【2】纯虚函数”继承：类中声明需要virtual，定义格式也同正常继承
<div class="highlight"><pre><span></span><code><span class="kt">void</span><span class="w"> </span><span class="nf">Brass::ViewAcct</span><span class="p">()</span><span class="w"> </span><span class="k">const</span><span class="w">    </span><span class="o">---------------------------------------------</span><span class="n">派生类1的某成员函数</span><span class="err">（</span><span class="n">虚函数</span><span class="err">）</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">Formatting</span><span class="w"> </span><span class="n">f</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">SetFormat</span><span class="p">();</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Brass Client: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">FullName</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">     </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法FullName</span><span class="p">()</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Account Number: &quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">AcctNum</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">    </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法AcctNum</span><span class="p">()</span>
<span class="w">    </span><span class="n">cout</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="s">&quot;Balance: $&quot;</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">Balance</span><span class="p">()</span><span class="w"> </span><span class="o">&lt;&lt;</span><span class="w"> </span><span class="n">endl</span><span class="p">;</span><span class="w">          </span><span class="o">---------------------</span><span class="n">继承的是ABC基类</span><span class="err">，</span><span class="n">因此可以直接调用基类方法Balance</span><span class="p">()</span>
<span class="w">    </span><span class="n">Restore</span><span class="p">(</span><span class="n">f</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></p>
</blockquote>
<p>（3）进行 <em>ABC——具体类（1,2,3...）</em> 的步骤与原则【==参见上面的实例！==】：</p>
<blockquote>
<p>[1]设计ABC基类</p>
<blockquote>
<p>【1】纯虚函数记得写好声明virtual ... = 0；类外定义时不需要virtual
【2】其余函数正常声明与定义，与正常基类没区别</p>
</blockquote>
<p>[2]设计具体类(ABC---concrete)</p>
<blockquote>
<p>【1】纯虚函数”继承：类中声明需要virtual，定义格式也同正常继承
【2】非“纯虚函数”继承：类中声明不需要virtual，定义格式同正常继承
【3】自定义新函数方法：与正常基类没区别</p>
</blockquote>
</blockquote>
<p>（4）ABC理念:
![[Pasted image 20230804120546.png]]</p>
<h3 id="6">6）继承与动态内存分配<a class="headerlink" href="#6" title="Permanent link">&para;</a></h3>
<p>![[Pasted image 20230804140015.png]]</p>
<h5 id="1new">（1）派生类不使用new<a class="headerlink" href="#1new" title="Permanent link">&para;</a></h5>
<blockquote>
<p>从baseDMA类中派生出lacksDMA类，如果后者不使用new，也没特殊设计，就不需要为lackDMA类设计：显式析构函数+复制构造函数+赋值运算符</p>
</blockquote>
<h5 id="2new">（2）派生类使用new<a class="headerlink" href="#2new" title="Permanent link">&para;</a></h5>
<blockquote>
<p>从baseDMA类中派生出lacksDMA类，如果后者使用new，或者有特殊设计，需要为lackDMA类设计：显式析构函数+复制构造函数+赋值运算符</p>
</blockquote>
<p>假如派生类使用了new：
<div class="highlight"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">hasDMA</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="k">public</span><span class="w"> </span><span class="n">baseDMA</span>
<span class="p">{</span>
<span class="k">private</span><span class="o">:</span>
<span class="w">    </span><span class="kt">char</span><span class="o">*</span><span class="w"> </span><span class="n">style</span><span class="p">;</span>
<span class="k">public</span><span class="o">:</span>
<span class="w">    </span><span class="p">......</span>
<span class="p">}</span>
</code></pre></div></p>
<hr />
<p>【1】析构函数
<div class="highlight"><pre><span></span><code><span class="n">baseDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">~</span><span class="n">baseDMA</span><span class="p">()</span><span class="w">  </span><span class="c1">// take care of baseDMA stuff</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">label</span><span class="p">;</span>
<span class="p">}</span>


<span class="n">hasDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="o">~</span><span class="n">hasDMA</span><span class="p">()</span><span class="w">    </span><span class="c1">// take care of hasDMA stuff</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">style</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></p>
<hr />
<p>【2】复制构造函数
<div class="highlight"><pre><span></span><code><span class="n">baseDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">baseDMA</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">baseDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rs</span><span class="p">)</span><span class="w">                </span><span class="o">---------</span><span class="err">【</span><span class="n">基类的复制构造函数</span><span class="err">】</span>
<span class="p">{</span>
<span class="w">    </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">char</span><span class="p">[</span><span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="n">label</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w">      </span><span class="o">---------</span><span class="n">指针的拷贝</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">strcpy</span><span class="p">(</span><span class="n">label</span><span class="p">,</span><span class="n">rs</span><span class="p">.</span><span class="n">label</span><span class="p">);</span>

<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="n">rating</span><span class="p">;</span><span class="w">                  </span><span class="o">----------------------</span><span class="n">非指针类型的拷贝</span>
<span class="p">}</span>

<span class="o">----------------------------------------------------------------------------------------------------------------------------------</span>

<span class="n">hasDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="n">hasDMA</span><span class="w"> </span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">hasDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hs</span><span class="p">)</span><span class="w"> </span><span class="o">:</span><span class="w"> </span><span class="n">baseDMA</span><span class="p">(</span><span class="n">hs</span><span class="p">)</span><span class="w">     </span><span class="o">---------</span><span class="err">【</span><span class="n">派生类的复制构造函数</span><span class="err">】</span>
<span class="p">{</span>
<span class="w">    </span><span class="c1">// baseDMA部分：已经由上面的:baseDMA(hs)说明了拷贝！</span>
<span class="w">    </span><span class="c1">//非baseDMA部分：</span>
<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">char</span><span class="p">[</span><span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">hs</span><span class="p">.</span><span class="n">style</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">strcpy</span><span class="p">(</span><span class="n">style</span><span class="p">,</span><span class="n">hs</span><span class="p">.</span><span class="n">style</span><span class="p">);</span><span class="w">                       </span><span class="o">--------</span><span class="n">指针的拷贝</span>
<span class="p">}</span>
<span class="c1">// 这里（派生类）需要注意：</span>
<span class="c1">// 初始化列表将一个 hasDMA引用 传递给 baseDMA构造函数 </span>
<span class="c1">// 虽然没有参数类型为 hasDMA引用 的 baseDMA构造函数，但是基类引用可以指向派生类型</span>
<span class="c1">// 因此：baseDMA复制构造函数将使用 hasDMA参数 的 baseDMA部分 来构造baseDMA部分！</span>
</code></pre></div></p>
<hr />
<p>【3】赋值运算符
<div class="highlight"><pre><span></span><code><span class="n">基类的赋值运算符</span><span class="err">：</span>
<span class="n">baseDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">baseDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">baseDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">rs</span><span class="p">)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">&amp;</span><span class="n">rs</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w">                   </span><span class="c1">// 地址相同：直接返回即可</span>

<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">label</span><span class="p">;</span><span class="w">                                </span><span class="c1">// 先清理这块内存</span>

<span class="w">    </span><span class="c1">// 指针类型拷贝：</span>
<span class="w">    </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">char</span><span class="p">[</span><span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">rs</span><span class="p">.</span><span class="n">label</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w">    </span><span class="c1">// 开辟新空间</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">strcpy</span><span class="p">(</span><span class="n">label</span><span class="p">,</span><span class="n">rs</span><span class="p">.</span><span class="n">label</span><span class="p">);</span><span class="w">                    </span><span class="c1">// str拷贝进新内存处</span>

<span class="w">    </span><span class="c1">// 非指针类型拷贝：</span>
<span class="w">    </span><span class="n">rating</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">rs</span><span class="p">.</span><span class="n">rating</span><span class="p">;</span>

<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w">                                   </span><span class="c1">// 返回对象</span>
<span class="p">}</span>

<span class="o">----------------------------------------------------------------------------------------------------------------------------------</span>
<span class="n">派生类的赋值运算符</span><span class="err">：</span>
<span class="n">hasDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hasDMA</span><span class="w"> </span><span class="o">::</span><span class="w"> </span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="k">const</span><span class="w"> </span><span class="n">hasDMA</span><span class="o">&amp;</span><span class="w"> </span><span class="n">hs</span><span class="p">)</span><span class="w">       </span><span class="c1">// 引用对象hs是hasDMA类型(baseDMA + 其他)</span>
<span class="p">{</span>
<span class="w">    </span><span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="o">&amp;</span><span class="n">hs</span><span class="p">)</span><span class="w"> </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span><span class="w">                   </span><span class="c1">// 地址相同：直接返回即可</span>
<span class="w">    </span><span class="n">baseDMA</span><span class="o">::</span><span class="k">operator</span><span class="o">=</span><span class="p">(</span><span class="n">hs</span><span class="p">);</span><span class="w">                         </span><span class="c1">// 将 hs中包含的baseDMA成员 拷贝</span>

<span class="w">    </span><span class="k">delete</span><span class="w"> </span><span class="p">[]</span><span class="w"> </span><span class="n">style</span><span class="p">;</span><span class="w">                                </span><span class="c1">// 先清理这块内存</span>

<span class="w">    </span><span class="n">style</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="k">new</span><span class="w"> </span><span class="kt">char</span><span class="w"> </span><span class="p">[</span><span class="n">std</span><span class="o">::</span><span class="n">strlen</span><span class="p">(</span><span class="n">hs</span><span class="p">.</span><span class="n">style</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="mi">1</span><span class="p">];</span><span class="w">   </span><span class="c1">// 开辟新空间</span>
<span class="w">    </span><span class="n">std</span><span class="o">::</span><span class="n">strcpy</span><span class="p">(</span><span class="n">style</span><span class="p">,</span><span class="n">hs</span><span class="p">.</span><span class="n">style</span><span class="p">);</span><span class="w">                    </span><span class="c1">// str拷贝进新内存处</span>
<span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="o">*</span><span class="k">this</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></p>
<h3 id="7">7）类设计回顾<a class="headerlink" href="#7" title="Permanent link">&para;</a></h3>
<p>略！</p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
  回到页面顶部
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      胡博瑄
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "../../..", "features": ["navigation.tabs", "navigation.top", "navigation.indexes", "navigation.expand", "search.suggest", "search.highlight", "content.code.copy", "content.action.edit"], "search": "../../../assets/javascripts/workers/search.f886a092.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.d7c377c4.min.js"></script>
      
        <script src="../../../mkdocs/javascripts/mathjax.js"></script>
      
        <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
      
        <script src="https://unpkg.com/mathjax@3/es5/tex-mml-chtml.js"></script>
      
    
  </body>
</html>